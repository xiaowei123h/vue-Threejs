{"version":3,"sources":["webpack:///./src/components/jsm/nodes/core/TempNode.js","webpack:///./src/components/jsm/utils/GeometryUtils.js","webpack:///./src/components/jsm/nodes/core/ConstNode.js","webpack:///./src/components/jsm/nodes/core/NodeLib.js","webpack:///./src/components/jsm/nodes/core/NodeBuilder.js","webpack:///./src/components/jsm/nodes/inputs/Vector2Node.js","webpack:///./src/components/jsm/nodes/core/NodeUtils.js","webpack:///./src/components/jsm/postprocessing/EffectComposer.js","webpack:///./src/components/jsm/libs/inflate.module.min.js","webpack:///./src/components/jsm/postprocessing/Pass.js","webpack:///./src/components/jsm/nodes/inputs/Vector3Node.js","webpack:///./src/components/jsm/objects/Reflector.js","webpack:///./src/components/jsm/nodes/utils/ColorSpaceNode.js","webpack:///./src/components/jsm/WebGL.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./src/components/jsm/utils/BufferGeometryUtils.js","webpack:///./src/components/jsm/loaders/RGBELoader.js","webpack:///./src/components/jsm/objects/Refractor.js","webpack:///./src/components/jsm/shaders/GammaCorrectionShader.js","webpack:///./src/components/jsm/controls/TrackballControls.js","webpack:///./src/components/jsm/loaders/HDRCubeTextureLoader.js","webpack:///./src/components/jsm/shaders/ConvolutionShader.js","webpack:///./src/components/jsm/postprocessing/BloomPass.js","webpack:///./src/components/jsm/nodes/inputs/FloatNode.js","webpack:///./src/components/jsm/nodes/accessors/NormalNode.js","webpack:///./src/components/jsm/loaders/EXRLoader.js","webpack:///./src/components/jsm/nodes/core/FunctionNode.js","webpack:///./src/components/jsm/loaders/TGALoader.js","webpack:///./src/components/jsm/postprocessing/MaskPass.js","webpack:///./src/components/jsm/libs/dat.gui.module.js","webpack:///./src/components/jsm/nodes/core/NodeUniform.js","webpack:///./src/components/jsm/controls/FirstPersonControls.js","webpack:///./src/components/jsm/nodes/inputs/ColorNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/RawNode.js","webpack:///./src/components/jsm/nodes/inputs/CubeTextureNode.js","webpack:///./src/components/jsm/nodes/core/FunctionCallNode.js","webpack:///./src/components/jsm/geometries/TeapotBufferGeometry.js","webpack:///./src/components/jsm/postprocessing/SSAARenderPass.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeUVNode.js","webpack:///./src/components/jsm/nodes/inputs/TextureNode.js","webpack:///./src/components/jsm/postprocessing/TexturePass.js","webpack:///./src/components/jsm/postprocessing/RenderPass.js","webpack:///./src/components/jsm/nodes/core/Node.js","webpack:///./src/components/jsm/nodes/core/NodeFrame.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/components/jsm/postprocessing/ShaderPass.js","webpack:///./src/components/jsm/shaders/CopyShader.js","webpack:///./src/components/jsm/shaders/LuminosityHighPassShader.js","webpack:///./src/components/jsm/postprocessing/UnrealBloomPass.js","webpack:///./src/components/jsm/nodes/math/OperatorNode.js","webpack:///./src/components/jsm/nodes/accessors/PositionNode.js","webpack:///./src/components/jsm/nodes/core/InputNode.js","webpack:///./src/components/jsm/nodes/math/MathNode.js","webpack:///./src/components/jsm/nodes/materials/NodeMaterial.js","webpack:///./src/components/jsm/nodes/core/StructNode.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/components/jsm/nodes/core/ExpressionNode.js","webpack:///./src/components/jsm/nodes/core/VarNode.js","webpack:///./src/components/jsm/nodes/core/AttributeNode.js","webpack:///./src/components/jsm/nodes/inputs/BoolNode.js","webpack:///./src/components/jsm/nodes/inputs/IntNode.js","webpack:///./src/components/jsm/nodes/inputs/Matrix3Node.js","webpack:///./src/components/jsm/nodes/inputs/Matrix4Node.js","webpack:///./src/components/jsm/nodes/inputs/ScreenNode.js","webpack:///./src/components/jsm/nodes/inputs/ReflectorNode.js","webpack:///./src/components/jsm/nodes/inputs/RTTNode.js","webpack:///./src/components/jsm/nodes/inputs/PropertyNode.js","webpack:///./src/components/jsm/nodes/accessors/ColorsNode.js","webpack:///./src/components/jsm/nodes/accessors/CameraNode.js","webpack:///./src/components/jsm/nodes/accessors/LightNode.js","webpack:///./src/components/jsm/nodes/accessors/ResolutionNode.js","webpack:///./src/components/jsm/nodes/accessors/ScreenUVNode.js","webpack:///./src/components/jsm/nodes/math/CondNode.js","webpack:///./src/components/jsm/nodes/procedural/NoiseNode.js","webpack:///./src/components/jsm/nodes/procedural/CheckerNode.js","webpack:///./src/components/jsm/nodes/misc/NormalMapNode.js","webpack:///./src/components/jsm/nodes/misc/BumpMapNode.js","webpack:///./src/components/jsm/nodes/utils/BypassNode.js","webpack:///./src/components/jsm/nodes/utils/JoinNode.js","webpack:///./src/components/jsm/nodes/utils/SwitchNode.js","webpack:///./src/components/jsm/nodes/utils/TimerNode.js","webpack:///./src/components/jsm/nodes/utils/VelocityNode.js","webpack:///./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","webpack:///./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","webpack:///./src/components/jsm/nodes/utils/UVTransformNode.js","webpack:///./src/components/jsm/nodes/utils/SubSlotNode.js","webpack:///./src/components/jsm/nodes/effects/BlurNode.js","webpack:///./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","webpack:///./src/components/jsm/nodes/effects/LuminanceNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/BasicNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/SpriteNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/PhongNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/StandardNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","webpack:///./src/components/jsm/nodes/materials/StandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","webpack:///./src/components/jsm/nodes/materials/BasicNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/PhongNodeMaterial.js","webpack:///./src/components/jsm/nodes/Nodes.js","webpack:///./src/components/jsm/nodes/inputs/Vector4Node.js","webpack:///./src/components/jsm/loaders/GLTFLoader.js","webpack:///./node_modules/ieee754/index.js","webpack:///./src/components/jsm/shaders/UnpackDepthRGBAShader.js","webpack:///./node_modules/isarray/index.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeNode.js","webpack:///./src/components/jsm/libs/jszip.module.min.js","webpack:///./src/components/jsm/controls/OrbitControls.js","webpack:///./src/components/jsm/math/ImprovedNoise.js","webpack:///./src/components/jsm/nodes/accessors/ReflectNode.js","webpack:///./src/components/jsm/loaders/OBJLoader.js","webpack:///./src/components/jsm/nodes/accessors/UVNode.js"],"names":["__webpack_require__","d","__webpack_exports__","TempNode","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","__WEBPACK_IMPORTED_MODULE_1__Node_js__","type","params","Node","call","this","shared","undefined","unique","prototype","Object","create","constructor","build","builder","output","uuid","ns","getType","getShared","isUnique","getUnique","MathUtils","generateUUID","getUuid","data","getNodeData","analyzing","deps","getLabel","appendDepsNode","generate","name","context","ignoreCache","getTemp","format","code","addNodeCode","setLabel","label","scope","tempVar","getVars","console","error","getTempVar","GeometryUtils","hilbert2D","center","size","iterations","v0","v1","v2","v3","Vector3","half","vec_s","x","y","z","vec","tmp","Array","push","apply","hilbert3D","v4","v5","v6","v7","ConstNode","__WEBPACK_IMPORTED_MODULE_0__TempNode_js__","declarationRegexp","src","useDefine","parse","PI","PI2","RECIPROCAL_PI","RECIPROCAL_PI2","LOG2","EPSILON","nodeType","getTypeByFormat","value","match","charAt","length","include","copy","source","toJSON","meta","getJSONNode","createJSONNode","NodeLib","nodes","keywords","add","node","addKeyword","callback","cache","remove","removeKeyword","get","getKeyword","getKeywordData","contains","containsKeyword","NodeBuilder","__WEBPACK_IMPORTED_MODULE_1__NodeUniform_js__","__WEBPACK_IMPORTED_MODULE_2__NodeUtils_js__","__WEBPACK_IMPORTED_MODULE_3__NodeLib_js__","__WEBPACK_IMPORTED_MODULE_4__FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__ConstNode_js__","__WEBPACK_IMPORTED_MODULE_6__StructNode_js__","__WEBPACK_IMPORTED_MODULE_7__inputs_Vector2Node_js__","__WEBPACK_IMPORTED_MODULE_8__inputs_Vector3Node_js__","__WEBPACK_IMPORTED_MODULE_9__inputs_Vector4Node_js__","__WEBPACK_IMPORTED_MODULE_10__inputs_TextureNode_js__","__WEBPACK_IMPORTED_MODULE_11__inputs_CubeTextureNode_js__","__WEBPACK_IMPORTED_MODULE_12__misc_TextureCubeNode_js__","elements","NodeUtils","constructors","convertFormatToType","float","vec2","vec3","vec4","mat4","int","bool","convertTypeToFormat","t","tc","b","i","f","c","m3","m4","slots","caches","contexts","nodeData","requires","uv","color","lights","fog","transparent","irradiance","includes","consts","functions","structs","attributes","prefixCode","join","parsCode","vertex","fragment","nodeCode","resultCode","finalCode","inputs","uniforms","list","vars","varying","defines","extensions","updaters","buildShader","uvIndex","addVaryCode","addVertexParsCode","addVertexFinalCode","position","worldPosition","normal","worldNormal","shader","setShader","setMaterial","material","renderer","mergeDefines","addFlow","slot","addSlot","addCache","addContext","removeFlow","removeSlot","removeCache","removeContext","pop","assign","extra","addVertexCode","addCode","addFragmentCode","addVertexNodeCode","addFragmentNodeCode","clearNodeCode","clearVertexNodeCode","clearFragmentNodeCode","addFinalCode","addFragmentFinalCode","addParsCode","addFragmentParsCode","isCache","indexOf","isSlot","define","require","isDefined","getVar","arguments","prefix","index","getAttribute","getCode","getVarListCode","getIncludesCode","l","nVar","formatType","getFormatByType","Error","isNode","createUniform","needsUpdate","uniform","NodeUniform","createVertexUniform","createFragmentUniform","parent","includesStruct","FunctionNode","StructNode","included","colorToVectorProperties","replace","colorToVector","getIncludes","sortByPosition","a","sort","getConstructorFromLength","len","isTypeMatrix","test","getTypeLength","parseInt","substr","getTypeFromLength","findNode","nodeCandidate","resolve","isTexture","mapping","CubeReflectionMapping","CubeRefractionMapping","CubeTextureNode","CubeUVReflectionMapping","CubeUVRefractionMapping","TextureCubeNode","TextureNode","isVector2","Vector2Node","isVector3","Vector3Node","isVector4","Vector4Node","from","to","useCache","getElementByIndex","getIndexByElement","elm","isShader","mergeUniform","getTextureEncodingFromMap","map","encoding","isWebGLRenderTarget","warn","texture","LinearEncoding","gamma","GammaEncoding","__WEBPACK_IMPORTED_MODULE_1__core_InputNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_NodeUtils_js__","InputNode","Vector2","addShortcuts","generateReadonly","readonly","applyShortcut","proxy","property","subProperty","set","val","proto","shortcuts","split","defineProperties","EffectComposer","__WEBPACK_IMPORTED_MODULE_1__shaders_CopyShader_js__","__WEBPACK_IMPORTED_MODULE_2__postprocessing_ShaderPass_js__","__WEBPACK_IMPORTED_MODULE_3__postprocessing_MaskPass_js__","renderTarget","parameters","minFilter","LinearFilter","magFilter","RGBAFormat","getSize","_pixelRatio","getPixelRatio","_width","width","_height","height","WebGLRenderTarget","renderTarget1","renderTarget2","clone","writeBuffer","readBuffer","renderToScreen","passes","CopyShader","ShaderPass","copyPass","clock","Clock","swapBuffers","addPass","pass","setSize","insertPass","splice","isLastEnabledPass","passIndex","enabled","render","deltaTime","getDelta","currentRenderTarget","getRenderTarget","maskActive","il","needsSwap","getContext","stencil","state","buffers","setFunc","NOTEQUAL","EQUAL","MaskPass","ClearMaskPass","setRenderTarget","reset","dispose","effectiveWidth","effectiveHeight","setPixelRatio","pixelRatio","camera","geometry","FullScreenQuad","Pass","clear","OrthographicCamera","PlaneBufferGeometry","_mesh","Mesh","defineProperty","Inflate","mod","aa","r","e","execScript","shift","Uint8Array","Uint16Array","Uint32Array","DataView","v","g","h","k","m","n","p","s","Number","POSITIVE_INFINITY","w","input","bufferSize","bufferType","resize","A","j","B","C","subarray","ba","ca","S","T","U","V","D","u","M","F","q","E","slice","P","fa","G","H","I","J","K","L","da","ea","N","O","R","ga","Q","W","verify","ha","method","o","buffer","charCodeAt","Y","Z","$","ia","X","ADAPTIVE","BLOCK","keys","Zlib","Reflector","options","Color","textureWidth","textureHeight","clipBias","ReflectorShader","reflectorPlane","Plane","reflectorWorldPosition","cameraWorldPosition","rotationMatrix","Matrix4","lookAtPosition","clipPlane","Vector4","view","target","textureMatrix","virtualCamera","PerspectiveCamera","RGBFormat","isPowerOfTwo","generateMipmaps","ShaderMaterial","UniformsUtils","fragmentShader","vertexShader","onBeforeRender","scene","setFromMatrixPosition","matrixWorld","extractRotation","applyMatrix4","subVectors","dot","reflect","negate","up","lookAt","far","updateMatrixWorld","projectionMatrix","multiply","matrixWorldInverse","setFromNormalAndCoplanarPoint","constant","Math","sign","multiplyScalar","outputEncoding","visible","currentXrEnabled","xr","currentShadowAutoUpdate","shadowMap","autoUpdate","depth","setMask","autoClear","viewport","tDiffuse","ColorSpaceNode","LinearToLinear","GammaToLinear","LinearToGamma","sRGBToLinear","LinearTosRGB","RGBEToLinear","LinearToRGBE","RGBMToLinear","LinearToRGBM","RGBDToLinear","LinearToRGBD","cLogLuvM","LinearToLogLuv","cLogLuvInverseM","__WEBPACK_IMPORTED_MODULE_1__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_3__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__core_ExpressionNode_js__","LINEAR_TO_LINEAR","Nodes","LogLuvToLinear","GAMMA_TO_LINEAR","LINEAR_TO_GAMMA","SRGB_TO_LINEAR","LINEAR_TO_SRGB","RGBE_TO_LINEAR","LINEAR_TO_RGBE","RGBM_TO_LINEAR","LINEAR_TO_RGBM","RGBD_TO_LINEAR","LINEAR_TO_RGBD","LINEAR_TO_LOG_LUV","LOG_LUV_TO_LINEAR","getEncodingComponents","sRGBEncoding","RGBEEncoding","RGBM7Encoding","FloatNode","setReadonly","RGBM16Encoding","RGBDEncoding","ExpressionNode","hashProperties","outputType","methodNode","factor","fromEncoding","components","fromDecoding","WEBGL","isWebGLAvailable","canvas","document","createElement","window","WebGLRenderingContext","isWebGL2Available","WebGL2RenderingContext","getWebGLErrorMessage","getErrorMessage","getWebGL2ErrorMessage","version","1","2","message","element","id","style","fontFamily","fontSize","fontWeight","textAlign","background","padding","margin","innerHTML","exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","arr","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","len2","encodeChunk","lookup","start","end","num","global","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","ArrayBuffer","array","byteOffset","fromArrayLike","fromArrayBuffer","string","isEncoding","actual","write","fromString","obj","isBuffer","checked","fromObject","assertSize","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64Slice","utf8Slice","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","Symbol","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","concat","pos","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","trim","stringtrim","base64clean","dst","BufferGeometryUtils","computeTangents","indices","positions","normals","uvs","nVertices","tangent","setAttribute","BufferAttribute","Float32Array","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","groups","count","group","jl","handleTriangle","tmp2","n2","handleVertex","fromArray","addScaledVector","normalize","crossVectors","mergeBufferGeometries","geometries","useGroups","isIndexed","attributesUsed","Set","morphAttributesUsed","morphAttributes","morphTargetsRelative","mergedGeometry","BufferGeometry","attributesCount","has","userData","mergedUserData","addGroup","indexOffset","mergedIndex","getX","setIndex","mergedAttribute","mergeBufferAttributes","numMorphTargets","morphAttributesToMerge","mergedMorphAttribute","TypedArray","itemSize","normalized","arrayLength","attribute","isInterleavedBufferAttribute","interleaveAttributes","stride","interleavedBuffer","InterleavedBuffer","getters","setters","iba","InterleavedBufferAttribute","estimateBytesUsed","mem","attr","BYTES_PER_ELEMENT","getIndex","mergeVertices","tolerance","hashToIndex","vertexCount","nextIndex","attributeNames","attrArrays","morphAttrsArrays","newIndices","morphAttr","decimalShift","log10","shiftMultiplier","hash","newarray","newMorphArrays","getterFunc","ml","result","oldAttribute","oldMorphAttribute","morphAttribute","toTrianglesDrawMode","drawMode","TrianglesDrawMode","TriangleFanDrawMode","TriangleStripDrawMode","numberOfTriangles","newGeometry","clearGroups","RGBELoader","manager","DataTextureLoader","UnsignedByteType","rgbe_error","rgbe_error_code","msg","fgets","lineLimit","consume","chunk","RGBEByteToRGBHalf","sourceArray","sourceOffset","destArray","destOffset","scale","DataUtils","toHalfFloat","rgbe_header_info","line","gamma_re","exposure_re","format_re","dimensions_re","header","valid","comments","programtype","exposure","parseFloat","RGBE_ReadHeader","image_rgba_data","data_rgba","byteValue","scanline_buffer","ptr","ptr_end","off","isEncodedRun","rgbeStart","scanline_width","num_scanlines","RGBE_ReadPixels_RLE","RGBEFormat","FloatType","numElements","floatArray","HalfFloatType","halfArray","setDataType","load","url","onLoad","onProgress","onError","texData","NearestFilter","flipY","Refractor","RefractorShader","matrixAutoUpdate","refractor","refractorPlane","refractorWorldPosition","clipVector","updateRefractorPlane","quaternion","Quaternion","decompose","applyQuaternion","updateVirtualCamera","invert","updateTextureMatrix","GammaCorrectionShader","TrackballControls","object","domElement","STATE","NONE","ROTATE","ZOOM","PAN","TOUCH_ROTATE","TOUCH_ZOOM_PAN","screen","left","top","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","maxDistance","mouseButtons","LEFT","MOUSE","MIDDLE","RIGHT","lastPosition","lastZoom","_state","_keyState","_eye","_movePrev","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","target0","position0","up0","zoom0","zoom","changeEvent","startEvent","endEvent","handleResize","box","getBoundingClientRect","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","vector","angle","axis","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","mouseChange","objectUp","pan","getMouseOnScreen","pageX","pageY","getMouseOnCircle","onPointerDown","event","pointerType","preventDefault","stopPropagation","button","addEventListener","onPointerMove","onPointerUp","dispatchEvent","onMouseDown","onMouseMove","removeEventListener","onMouseUp","keydown","keyCode","keyup","mousewheel","deltaMode","deltaY","touchstart","touches","dx","dy","sqrt","touchmove","touchend","contextmenu","rotateCamera","setLength","setFromAxisAngle","zoomCamera","isPerspectiveCamera","isOrthographicCamera","updateProjectionMatrix","panCamera","lengthSq","scale_x","right","clientWidth","scale_y","bottom","cross","checkDistances","addVectors","update","distanceToSquared","EventDispatcher","HDRCubeTextureLoader","__WEBPACK_IMPORTED_MODULE_1__loaders_RGBELoader_js__","Loader","hdrLoader","urls","CubeTexture","loaded","loadHDRData","FileLoader","setPath","path","setResponseType","setWithCredentials","withCredentials","dataTexture","DataTexture","images","ConvolutionShader","KERNEL_SIZE_FLOAT","KERNEL_SIZE_INT","uImageIncrement","cKernel","buildKernel","sigma","gauss","exp","values","sum","halfWidth","kernelSize","ceil","BloomPass_BloomPass","BloomPass","strength","resolution","pars","renderTargetX","renderTargetY","copyShader","copyUniforms","materialCopy","blending","AdditiveBlending","convolutionShader","convolutionUniforms","blurX","materialConvolution","toFixed","fsQuad","setTest","blurY","__WEBPACK_IMPORTED_MODULE_0__core_InputNode_js__","NormalNode","__WEBPACK_IMPORTED_MODULE_0__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_1__core_NodeLib_js__","VIEW","LOCAL","WORLD","contextNormal","NORMAL","EXRLoader","__WEBPACK_IMPORTED_MODULE_1__libs_inflate_module_min_js__","USHORT_RANGE","BITMAP_SIZE","HUF_DECBITS","HUF_ENCSIZE","HUF_DECSIZE","HUF_DECMASK","A_OFFSET","MOD_MASK","SHORT_ZEROCODE_RUN","LONG_ZEROCODE_RUN","SHORTEST_LONG_RUN","ULONG_SIZE","FLOAT32_SIZE","INT32_SIZE","INT16_SIZE","INT8_SIZE","STATIC_HUFFMAN","DEFLATE","UNKNOWN","LOSSY_DCT","RLE","logBase","tmpDataView","frexp","setFloat64","bits","getUint32","exponent","mantissa","steps","abs","ldexp","getBitsReturn","lc","getBits","nBits","uInt8Array","inOffset","parseUint8Array","hufTableBuffer","hufUnpackEncTable","inDataView","ni","im","iM","hcode","zerun","nc","hufCanonicalCodeTable","hufLength","hufCode","getCharReturn","getChar","getCodeReturn","po","rlc","outBuffer","outBufferOffset","outBufferEndOffset","cs","UInt16","Int16","ref","wdec14Return","wdec14","ls","hs","ai","as","bs","wdec16","bb","wav2Decode","nx","ox","ny","oy","mx","p2","w14","i00","i01","i10","i11","py","ey","oy1","oy2","ox1","ox2","px","ex","p01","p11","p10","hufUncompress","nCompressed","nRaw","initialInOffset","parseUint32","freq","hdec","lit","hufClearDecTable","hdecod","pl","plOffset","hufBuildDecTable","encodingTable","decodingTable","no","outOffset","inOffsetEnd","trunc","hufDecode","predictor","interleaveScalar","t1","t2","stop","decodeRunLength","reader","getInt8","getUint8","unRleAC","currAcComp","acBuffer","halfZigBlock","acValue","dctComp","unZigZag","decodeFloat16","dctInverse","cos","alpha","beta","theta","row","rowPtr","column","csc709Inverse","cb","cr","convertToHalf","idx","toLinear","uncompressZIP","info","compressed","inflate","rawBuffer","decompress","tmpBuffer","uncompressDWA","viewer","lines","EXRHeader","channels","dwaHeader","parseInt64","unknownUncompressedSize","unknownCompressedSize","acCompressedSize","dcCompressedSize","rleCompressedSize","rleUncompressedSize","rleRawSize","totalAcUncompressedCount","totalDcUncompressedCount","acCompression","compression","channelRules","ruleSize","parseUint16","parseNullTerminatedString","parseUint8","Int8Array","channelData","cd","channel","decoded","pixelType","pLinear","cscSet","rule","zlibInfo","dcBuffer","rleBuffer","outBufferEnd","rowOffsets","chan","rowPtrs","dataView","numFullBlocksX","numBlocksX","numBlocksY","leftoverX","leftoverY","currDcComp","dctData","rowBlock","comp","blocky","maxY","maxX","blockx","setUint16","halfRow","getUint16","setFloat32","lossyDctDecode","rleOffset","rowOffsetBytes","byte","uintBuffer","endOffset","stringValue","TextDecoder","decode","parseUlong","uLong","parseInt32","Int32","getInt32","Uint32","Uint8","getBigInt64","parseFloat32","getFloat32","binary","fraction","NaN","Uint16","parseValue","parseFixedLengthString","startOffset","xSampling","ySampling","parseChlist","redX","redY","greenX","greenY","blueX","blueY","whiteX","whiteY","parseChromaticities","parseCompression","xMin","yMin","xMax","yMax","parseBox2i","parseLineOrder","parseV2f","parseV3f","parseRational","parseTimecode","bufferDataView","keepReading","attributeName","attributeType","attributeValue","uncompress","scanlineBlockSize","size_t","getValue","dataWindowHeight","dataWindow","tmpBufSize","bitmap","pizChannelData","minNonZero","maxNonZero","lut","maxValue","reverseLutFromBitmap","nData","applyLut","tmpOffset","cp","sz","tmpBufferEnd","writePtr","pixel","numBlocks","channelOffsets","compressionInfo","scanlineBlockIdx","line_y","true_y","channelID","cOff","RGBEArray","red","green","blue","__WEBPACK_IMPORTED_MODULE_1__NodeLib_js__","propertiesRegexp","isMethod","isInterface","useKeywords","getInputByName","getIncludeByName","matches","exec","prop","isGlobal","reference","keyword","substring","qualifier","JSON","stringify","TGALoader","Texture","loader","image","TGA_TYPE_NO_DATA","TGA_TYPE_INDEXED","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_INDEXED","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_BL","TGA_ORIGIN_BR","TGA_ORIGIN_UL","TGA_ORIGIN_UR","content","id_length","colormap_type","image_type","colormap_index","colormap_length","colormap_size","origin","pixel_size","flags","tgaCheckHeader","use_rle","use_pal","use_grey","OffscreenCanvas","imageData","createImageData","pixel_data","pixel_total","palettes","pixels","tgaParse","palette","x_start","y_start","x_step","y_step","x_end","y_end","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","colormap","tgaGetImageData8bits","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","getTgaRGBA","putImageData","__WEBPACK_IMPORTED_MODULE_0__postprocessing_Pass_js__","inverse","writeValue","clearValue","setLocked","setOp","REPLACE","ALWAYS","setClear","KEEP","colorToString","forceCSSHex","colorFormat","__state","conversionName","round","hex","ARR_EACH","forEach","ARR_SLICE","Common","BREAK","extend","each","isObject","key","isUndefined","bind","defaults","compose","toCall","args","itr","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","callNow","clearTimeout","toArray","isNull","_isNaN","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","original","space","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","rgb_to_hsv","delta","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","_typeof","_typeof2","iterator","classCallCheck","instance","Constructor","createClass","props","descriptor","enumerable","writable","protoProps","staticProps","receiver","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","inherits","subClass","superClass","setPrototypeOf","possibleConstructorReturn","self","ReferenceError","defineRGBComponent","component","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","__onChange","__onFinishChange","newValue","updateDisplay","EVENT_MAP_INV","HTMLEvents","MouseEvents","KeyboardEvents","CSS_VALUE_PIXELS","cssValueToPixels","dom","makeSelectable","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","fakeEvent","eventType","aux","className","evt","createEvent","clientX","clientY","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","charCode","initEvent","newBool","attachEvent","unbind","detachEvent","addClass","classes","removeClass","removeAttribute","hasClass","RegExp","getWidth","getComputedStyle","getHeight","getOffset","el","offsetParent","offsetLeft","offsetTop","isActive","activeElement","href","BooleanController","_Controller","_this2","_this","__prev","__checkbox","setValue","appendChild","OptionController","opts","__select","opt","desiredValue","selectedIndex","StringController","onChange","__input","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","log","LN10","__precision","_v","minValue","stepValue","NumberControllerBox","_NumberController","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","attempted","decimals","tenTo","i1","i2","o1","o2","NumberControllerSlider","bgRect","__background","onTouchMove","onTouchEnd","__foreground","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","onBlur","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","linearGradient","cssText","outline","textShadow","mismatch","flip","_flip","marginLeft","marginTop","toHexString","vendors","vendor","css","cssContent","indoc","doc","injected","head","getElementsByTagName","ControllerFactory","requestAnimationFrame$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","body","hide","webkitTransform","layout","innerWidth","innerHeight","___$insertStyle","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","preset","scrollable","root","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","gui","__preset_select","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","getSaveObject","saveToLocalStorageIfPossible","newDom","liBefore","li","removeListeners","markPresetModified","modified","recallSavedValue","controller","matchedIndex","controllerMap","remembered","presetMap","_add","factoryArgs","before","__li","container","CLASS_CONTROLLER_ROW","__gui","_options","nextSibling","nextElementSibling","_nextSibling","_name","firstElementChild","listen","pc","pb","returned","oldName","wasListening","newController","borderLeftColor","isModified","augmentController","location","addPresetOption","setSelected","showHideExplain","explain","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","__save_row","getCurrentPreset","useInitialValues","savedValues","toggleHide","CLASS_TOO_TALL","_keydownHandler","which","addColor","removeChild","destroy","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","close","show","offsetHeight","remember","div","firstChild","gears","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","focus","save","presetName","prompt","saveAs","addSaveMenu","updateDisplays","controllerArray","GUI$1","FirstPersonControls","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","mouseDragOn","autoSpeedFactor","mouseX","mouseY","moveForward","moveBackward","moveLeft","moveRight","viewHalfX","viewHalfY","targetPosition","lat","lon","lookDirection","spherical","Spherical","offsetWidth","onKeyDown","moveUp","moveDown","onKeyUp","setOrientation","heightDelta","clamp","actualMoveSpeed","translateZ","translateX","translateY","actualLookSpeed","verticalLookRatio","phi","degToRad","mapLinear","setFromSphericalCoords","_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown","_onKeyUp","fn","controls","setFromVector3","radToDeg","ColorNode","RawNode","__WEBPACK_IMPORTED_MODULE_0__core_Node_js__","analyzeAndFlow","__WEBPACK_IMPORTED_MODULE_1__accessors_ReflectNode_js__","__WEBPACK_IMPORTED_MODULE_2__utils_ColorSpaceNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_ExpressionNode_js__","bias","ReflectNode","getTexture","cubetex","setTexture","colorSpace","FunctionCallNode","setFunction","getFunction","inpt","param","TeapotBufferGeometry","segments","lid","fitLid","blinn","teapotPatches","teapotVertices","maxHeight2","trueSize","numTriangles","numVertices","vertices","ms","tcoord","sstep","tstep","vertPerRow","sval","tval","sp","tp","dsp","dtp","mgm","norm","dsval","dtval","normOut","gmx","tmtx","vsp","vtp","vdsp","vdtp","vsdir","vtdir","mst","transpose","notDegenerate","vtx1","vtx2","vtx3","maxPatches","surfCount","vertCount","normCount","uvCount","indexCount","surf","multiplyMatrices","computeBoundingSphere","SSAARenderPass","__WEBPACK_IMPORTED_MODULE_1__postprocessing_Pass_js__","__WEBPACK_IMPORTED_MODULE_2__shaders_CopyShader_js__","clearColor","clearAlpha","sampleLevel","unbiased","copyMaterial","premultipliedAlpha","depthTest","depthWrite","sampleRenderTarget","jitterOffsets","JitterVectors","oldClearColor","getClearColor","getHex","oldClearAlpha","getClearAlpha","baseSampleWeight","jitterOffset","setViewOffset","sampleWeight","setClearColor","clearViewOffset","TextureCubeUVNode","__WEBPACK_IMPORTED_MODULE_1__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_StructNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionCallNode_js__","__WEBPACK_IMPORTED_MODULE_6__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_7__math_OperatorNode_js__","__WEBPACK_IMPORTED_MODULE_8__math_MathNode_js__","__WEBPACK_IMPORTED_MODULE_9__utils_ColorSpaceNode_js__","TextureCubeUVData","cubeUV_maxMipLevel","cubeUV_minMipLevel","cubeUV_maxTileSize","cubeUV_minTileSize","getFace","getUV","bilinearCubeUV","r0","m0","roughnessToMip","mipInt","colorSpaceTL","colorSpaceTR","colorSpaceBL","colorSpaceBR","colorSpaceTLExp","colorSpaceTRExp","colorSpaceBLExp","colorSpaceBRExp","roughness","mipV","mip","MathNode","CLAMP","FLOOR","mipF","FRACT","color0","color1","OperatorNode","ADD","color1Mix","MIX","__WEBPACK_IMPORTED_MODULE_1__accessors_UVNode_js__","project","UVNode","tex","TexturePass","oldAutoClear","RenderPass","overrideMaterial","clearDepth","oldOverrideMaterial","autoClearColor","autoClearDepth","autoClearStencil","analyze","settings","flow","updateFrame","getHash","outputLen","outputMax","setName","getName","isRootObject","NodeFrame","time","setRenderer","setRenderTexture","renderTexture","updateNode","frameId","module","originalModule","webpackPolyfill","children","textureID","LuminosityHighPassShader","shaderID","luminosityThreshold","smoothWidth","defaultColor","defaultOpacity","UnrealBloomPass_UnrealBloomPass","UnrealBloomPass","radius","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","resy","renderTargetBright","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","materialHighPassFilter","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","bloomTintColors","basic","MeshBasicMaterial","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","three_module","op","SUB","MUL","DIV","PositionNode","PROJECTION","getReadonly","bOrMethod","INV_SQRT","NORMALIZE","SATURATE","COS","ACOS","NEGATE","SMOOTHSTEP","cOrMethod","FACEFORWARD","MAX","MOD","REFLECT","DISTANCE","ABS","LENGTH","INVERT","STEP","CROSS","POW","REFRACT","al","bl","DOT","cl","inputType","getInputType","numInputs","NodeMaterial","properties","l/b+","onBeforeCompile","extensionDrawBuffers","customProgramCacheKey","__WEBPACK_IMPORTED_MODULE_3__accessors_PositionNode_js__","frame","extensionDerivatives","derivatives","extensionFragDepth","fragDepth","shaderTextureLOD","materials","__WEBPACK_IMPORTED_MODULE_1__core_NodeBuilder_js__","sizeAttenuation","flatShading","FrontSide","linewidth","gapSize","wireframeLinecap","side","dashSize","wireframe","morphTargets","declaration","VarNode","__webpack_amd_options__","nXFl","__WEBPACK_IMPORTED_MODULE_0__FunctionNode_js__","AttributeNode","Boolean","BoolNode","IntNode","Matrix3Node","matrix","Matrix4Node","ScreenNode","ReflectorNode","mirror","setMirror","uvResult","PropertyNode","quad","rttBuilder","saveToMaterial","frustumCulled","RTTNode","saveTo","updateFramesaveTo","fragmentDict","ColorsNode","CameraNode","POSITION","depthColor","vertexDict","TO_VERTEX","setScope","DEPTH","setCamera","near","number","LightNode","TOTAL","ResolutionNode","ScreenUVNode","CondNode","NOT_EQUAL","LESS","AND","elseType","getCondType","ifNode","ifCode","elseCode","elseNode","GREATER","GREATER_EQUAL","ifType","condType","NoiseNode","snoise","CheckerNode","checker","NormalMapNode","perturbNormal2Arb","dHdxy_fwd","BumpMapNode","bumpToNormal","perturbNormalArb","toNormalMap","BypassNode","derivativeHeight","derivativeHeightCode","JoinNode","getNumElements","outputs","TimerNode","timeScale","velocity","oldPosition","UVTransformNode","MaxMIPLevelNode","SwitchNode","outputLength","inputLength","DELTA","GLOBAL","moment","speed","VelocityNode","getWorldPosition","updateFrameVelocity","damping","lastVelocity","setTarget","deltaFps","springVelocity","cy","setUvTransform","maxMIPLevel","sx","sy","rotation","cx","SpecularMIPLevelNode","getSpecularMIPLevel","SubSlotNode","BlurNode","blurCode","rgb","ColorAdjustmentNode","adjustment","LuminanceNode","LUMA","luminance","hue","saturation","VIBRANCE","BRIGHTNESS","CONTRAST","BasicNode","mask","SpriteNode","specular","ao","shininess","ambient","metalness","StandardNode","normalMap","normalScale","NodePostProcessing","merge","PhongNode","environment","environmentAlpha","light","shadow","emissive","useClearcoat","specularRoughness","clearcoatRoughness","viewNormal","LTC_1","ltc_2","reflectivity","contextEnvironment","clearcoat","clearcoatNormal","sheen","contextClearcoatEnvironment","MeshStandardNode","roughnessMap","BasicNodeMaterial","metalnessMap","envMap","SpriteNodeMaterial","PhongNodeMaterial","StandardNodeMaterial","MeshStandardNodeMaterial","post","GLTFLoader","ktx2Loader","register","parser","GLTFLightsExtension","resourcePath","pluginCallbacks","_onError","GLTFTextureBasisUExtension","setDDSLoader","ddsLoader","itemEnd","unregister","setRequestHeader","gltf","plugins","setDRACOLoader","LoaderUtils","dracoLoader","BINARY_EXTENSION_HEADER_MAGIC","KHR_BINARY_GLTF","setMeshoptDecoder","meshoptDecoder","json","crossOrigin","GLTFParser","fileLoader","requestHeader","extensionsUsed","extensionsRequired","EXTENSIONS","KHR_MATERIALS_UNLIT","GLTFDracoMeshCompressionExtension","headerView","BINARY_EXTENSION_HEADER_LENGTH","magic","decodeText","KHR_DRACO_MESH_COMPRESSION","gltfAttributeMap","primitive","threeAttributeMap","attributeTypeMap","chunkLength","threeAttributeName","contentArray","accessorDef","accessors","chunkIndex","getDependency","Promise","asset","KHR_TEXTURE_TRANSFORM","setPlugins","objects","extensionName","GLTFMaterialsPbrSpecularGlossinessExtension","removeAll","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_MESH_QUANTIZATION","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","_addNodeRef","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","lightDef","range","lightNode","KHR_LIGHTS_PUNCTUAL","refs","uses","materialParams","clearcoatNormalScale","textureDef","textureIndex","GLTFTextureWebPExtension","isSupported","GLTFBinaryExtension","outerConeAngle","penumbra","nodeIndex","nodeLength","nodeDefs","nodeDef","_loadLight","lightIndex","intensity","createUniqueName","dependency","cacheKey","then","distance","GLTFMaterialsUnlitExtension","spot","innerConeAngle","getMaterialType","pending","createNodeAttachment","materialDef","metallicRoughness","baseColorFactor","extension","clearcoatTexture","assignTexture","baseColorTexture","GLTFMaterialsClearcoatExtension","GLTFMaterialsTransmissionExtension","materialIndex","clearcoatFactor","clearcoatRoughnessFactor","clearcoatNormalTexture","all","transmissionFactor","transmissionTexture","detectSupport","loadTextureImage","GLTFMeshoptCompression","textures","bufferView","decoder","supported","extensionDef","chunkView","chunkType","BINARY_EXTENSION_CHUNK_TYPES","decodeGltfBuffer","mode","filter","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossiness","setHex","glossinessMap","uniformName","specularMapParsFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","USE_UV","specularMap","setValues","GLTFMeshStandardSGMaterial","MeshStandardMaterial","pbrSpecularGlossiness","lightMap","bumpMap","normalMapType","TangentSpaceNormalMap","displacementMap","displacementScale","alphaMap","glossinessFactor","envMapIntensity","specularFactor","refractionRatio","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFMeshQuantizationExtension","lightMapIntensity","Interpolant","GLTFCubicSplineInterpolant","emissiveMap","copySampleValue_","sampleValues","displacementBias","afterEnd_","offset0","offset1","parameterPositions","sampleSize","resultBuffer","bufferViewIndex","GLTFTextureTransformExtension","transform","decodeDracoFile","valueSize","FLOAT","FLOAT_MAT4","FLOAT_VEC4","beforeStart_","REPEAT","POINTS","interpolate_","t0","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_FAN","UNSIGNED_BYTE","td","WEBGL_COMPONENT_TYPES","pp","ppp","stride3","s2","WEBGL_FILTERS","s1","NearestMipmapLinearFilter","p0","WEBGL_WRAPPINGS","m1","ClampToEdgeWrapping","RepeatWrapping","WEBGL_TYPE_SIZES","PATH_PROPERTIES","translation","LINEAR","InterpolateDiscrete","5121","5123","ALPHA_MODES","OPAQUE","MASK","9728","9984","9986","9987","10497","VEC2","VEC3","MAT2","MAT3","ATTRIBUTES","TEXCOORD_1","createDefaultMaterial","WEIGHTS_0","INTERPOLATION","resolveURL","assignExtrasToUserData","extras","hasMorphPosition","hasMorphNormal","objectDef","pendingNormalAccessors","gltfDef","pendingPositionAccessors","morphNormals","mesh","updateMorphTargets","meshDef","attributesKey","targetNames","morphTargetInfluences","morphTargetDictionary","primitiveCache","cameraCache","associations","_markDefs","Map","dependencies","scenes","animations","addUnknownExtensionsToUserData","navigator","userAgent","skinDefs","primitiveDef","accessorIndex","accessor","maxDisplacement","targets","assignAttributeAccessor","gltfAttributeName","computeBounds","sphere","distanceTo","getCenter","weights","pendingAccessor","createPrimitiveKey","dracoExtension","morphPositions","geometryKey","addPrimitiveAttributes","primitives","cached","promise","setExtensions","joints","skinIndex","skinLength","_invokeOne","skin","meshDefs","isSkinnedMesh","loadScene","loadNode","_invokeAll","unshift","loadAnimation","defs","bufferDef","bufferIndex","reject","loadBufferView","bufferViewDef","def","pendingBufferViews","uri","elementBytes","byteStride","bufferViews","bufferAttribute","ib","loadAccessor","ibCacheKey","sparse","itemSizeIndices","SCALAR","TypedArrayIndices","componentType","byteOffsetValues","sparseIndices","itemBytes","ibSlice","byteOffsetIndices","setX","sparseValues","setY","isObjectURL","sourceURI","textureExtensions","imageBitmap","textureLoader","URL","revokeObjectURL","hasAlpha","sampler","colorType","blob","Blob","mimeType","gltfReference","assignFinalMaterial","wrapT","useFlatShading","pointsMaterial","mapName","mapDef","texCoord","lineMaterial","LineBasicMaterial","Material","useVertexTangents","useMorphTargets","useVertexColors","cachedMaterial","useSkinning","vertexColors","aoMap","isGLTFSpecularGlossinessMaterial","loadMaterial","materialType","materialExtensions","sgExtension","uv2","pbrMetallicRoughness","roughnessFactor","DoubleSide","alphaMode","BLEND","kmuExtension","extendParams","alphaTest","occlusionTexture","metallicFactor","aoMapIntensity","metallicRoughnessTexture","normalTexture","PropertyBinding","originalName","Box3","sanitizeNodeName","meshes","meshIndex","decodePrimitive","TextureLoader","setCrossOrigin","SkinnedMesh","normalizeSkinWeights","LineSegments","Line","WEBGL_CONSTANTS","Points","results","cameraDef","skins","skinDef","skinEntry","cameras","cameraIndex","pendingOutputAccessors","animationDef","xmag","ymag","znear","zfar","pendingNodes","pendingInputAccessors","inputAccessors","samplers","outputAccessor","outputAccessors","inverseBindMatrices","animationIndex","TypedKeyframeTrack","pendingTargets","VectorKeyframeTrack","targetName","interpolation","traverse","pendingSamplers","outputArray","scaled","track","createInterpolant","InterpolantFactoryMethodGLTFCubicSpline","inputAccessor","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","isBone","nodeName","Object3D","isMesh","_getNodeRef","pendingJoints","boneInverses","Skeleton","nodeId","buildNodeHierachy","jointNodes","jointNode","Group","nodeIds","bones","sceneDef","rwxs","UnpackDepthRGBAShader","sOR5","ujcs","isLE","mLen","nBytes","eLen","eMax","eBias","rt","LN2","radianceNode","irradianceNode","scopeNode","__WEBPACK_IMPORTED_MODULE_1__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_2__TextureCubeUVNode_js__","__WEBPACK_IMPORTED_MODULE_4__accessors_NormalNode_js__","lastIndexOfSignature","w45l","JSZip","uncompressedSize","compressedSize","crc32","compressionMethod","compressedContent","compress","compressInputType","byteAt","zero","checkIndex","./dataReader","encode","readString","readData","string2Uint8Array","uint8Array2String","getContent","arrayBuffer2Blob","transformTo","4","STORE","getTypeOf","checkSupport","MAX_VALUE_16BITS","uncompressInputType","findCompression","5","isRegExp","6","pako","files","skip","readInt","compressions","readDate","Date","./utils","7","zipComment","comment","date","compressionOptions","unixPermissions","dosPermissions","8","string2binary","string2Blob","MAX_VALUE_32BITS","pretty","9","deflateRaw","level","inflateRaw","_data","utf8decode","asText","./base64","./compressions","./defaults","./deprecatedPublicUtils","./load","./object","./support","11","asNodeBuffer","asUint8Array","checkCRC32","optimizedBinaryString","createFolders","decodeFileName","asArrayBuffer","fileNameStr","decompressed","fileCommentStr","./utf8","./zipEntries","12","./uint8ArrayReader","14","nodebuffer","asBinary","utf8encode","_initialMetadata","CENTRAL_FILE_HEADER","file","hasOwnProperty","getCompressedContent","CENTRAL_DIRECTORY_END","append","fileRecord","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","LOCAL_FILE_HEADER","dirRecord","compressedObject","finalize","platform","encodeFileName","BlobBuilder","getBlob","./compressedObject","./crc32","./nodeBuffer","./signature","./stringWriter","./uint8ArrayWriter","15","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","DATA_DESCRIPTOR","16","17","18","arraybuffer","uint8array","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","./arrayReader","20","21","applyFromCharCode","22","checkSignature","isSignature","readBlockEndOfCentral","diskNumber","readBlockZip64EndOfCentral","zip64EndOfCentralSize","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","readLocalFiles","localHeaderOffset","readCentralDir","centralDirOffset","zip64","centralDirRecords","readEndOfCentral","prepareReader","loadOptions","23","useUTF8","prepareCompressedContent","prepareContent","readLocalPart","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirSize","zipCommentLength","fileNameLength","readCentralPart","processAttributes","versionMadeBy","versionNeeded","zip64ExtensibleData","externalFileAttributes","disksCount","readExtraFields","handleUTF8","extraFields","extraFieldsLength","findExtraFieldUnicodePath","fileName","findExtraFieldUnicodeComment","relativeOffsetEndOfZip64CentralDir","fileComment","./nodeBufferReader","./stringReader","./zipEntry","24","isEncrypted","bitFlag","raw","fileCommentLength","diskNumberStart","internalFileAttributes","parseZIP64ExtraField","avail_out","Buf8","avail_in","deflateEnd","strm","chunks","Deflate","gzip","err","25","./lib/deflate","./lib/inflate","./lib/utils/common","./lib/zlib/constants","26","ended","Z_FINISH","Z_NO_FLUSH","windowBits","binstring2buf","next_in","deflateInit2","memLevel","strategy","deflateSetHeader","Z_STREAM_END","shrinkBuf","arraySet","flattenChunks","chunkSize","string2buf","deflate","onEnd","onData","buf2binstring","next_out","Z_OK","./utils/common","./utils/strings","./zlib/deflate","./zlib/messages","./zlib/zstream","27","inflateInit2","inflateGetHeader","setTyped","Z_BUF_ERROR","Z_SYNC_FLUSH","utf8border","buf2string","inflateEnd","ungzip","./zlib/constants","./zlib/gzheader","./zlib/inflate","28","Int32Array","Buf16","Buf32","29","_tr_flush_block","pending_buf","max_chain_length","strstart","nice_match","./common","30","prev","ja","prev_length","good_match","31","Z_PARTIAL_FLUSH","lookahead","Z_BLOCK","Z_TREES","Z_NEED_DICT","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","32","w_size","33","insert","_tr_tally","match_start","match_length","pending_out","max_lazy_match","total_out","ins_h","hash_mask","wrap","adler","total_in","match_available","ta","window_size","max_lazy","block_start","hash_size","status","hash_shift","w_mask","ka","w_bits","gzhead","gzindex","pending_buf_size","hcrc","va","wa","last_lit","ua","prev_match","qa","sa","nice_length","max_chain","last_flush","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","data_type","ma","ra","_tr_init","good_length","_","la","na","xa","deflateInit","deflateReset","deflateResetKeep","os","oa","pa","_tr_align","_tr_stored_block","deflateInfo","../utils/common","./adler32","./messages","./trees","34","xflags","extra_len","done","35","dmax","wsize","whave","wnext","hold","lencode","distcode","lenbits","distbits","last","havedict","sane","work","Aa","total","lendyn","distdyn","back","wbits","check","Ca","ncode","nlen","ndist","have","next","was","Ba","inflateResetKeep","inflateInit","ya","za","inflateInfo","./inffast","./inftrees","37","dyn_tree","max_code","stat_desc","static_tree","has_stree","extra_bits","extra_base","max_length","38","0","-1","-2","-3","-4","-5","-6","elems","OrbitControls","minZoom","maxZoom","minPolarAngle","maxPolarAngle","40","maxAzimuthAngle","enableDamping","wIBv","autoRotateSpeed","quat","ONE","TOUCH","autoRotate","quatInverse","BOTTOM","lastQuaternion","DOLLY","getAzimuthalAngle","sphericalDelta","minAzimuthAngle","setFromUnitVectors","makeSafe","setFromSpherical","rotateLeft","dampingFactor","twoPI","zoomChanged","EPS","panEnd","dollyStart","dollyDelta","getAutoRotationAngle","getZoomScale","panLeft","setFromMatrixColumn","panUp","dollyEnd","rotateUp","objectMatrix","dollyOut","dollyScale","panOffset","deltaX","targetDistance","tan","fov","rotateStart","clientHeight","panStart","rotateEnd","rotateDelta","enableZoom","dollyIn","panDelta","handleTouchMovePan","handleTouchMoveDollyPan","handleTouchMoveDolly","handleTouchEnd","mouseAction","enableRotate","handleMouseDownPan","handleMouseMoveDolly","handleMouseDownRotate","handleMouseMovePan","onMouseWheel","enableKeys","handleKeyDown","UP","handleMouseDownDolly","handleTouchStartPan","handleTouchStartDollyPan","TOUCH_DOLLY_PAN","enablePan","keyPanSpeed","handleTouchStartDolly","handleTouchMoveRotate","DOLLY_PAN","DOLLY_ROTATE","handleTouchMoveDollyRotate","TOUCH_PAN","MapControls","onTouchStart","floorY","floorZ","xTnh","ImprovedNoise","grad","noise","SPHERE","VECTOR","fade","AA","BA","yA4I","viewPosition","CUBE","__WEBPACK_IMPORTED_MODULE_2__NormalNode_js__","viewNormalNode","roughnessNode","reflectVec","OBJLoader","zCdm","fromDeclaration","material_library_pattern","smooth","startMaterial","ab","lineFirstChar","lineLength","setMaterials","groupStart","groupEnd","groupCount","startObject","inherited","previousMaterial","cloned","currentMaterial","_finalize","colors","hasUVIndices","lastMultiMaterial","previous","mtllib","mi","declared","addNormal","addFaceNormal","addFace","parseVertexIndex","nLen","parseNormalIndex","uvLen","parseUVIndex","ic","addDefaultUV","vLen","addLineGeometry","uvi","addUVLine","addUV","vi","addVertexLine","ParserState","faceVertices","trimLeft","lineParts","lineUVs","lineVertices","object_pattern","vertexData","vertexParts","map_use_pattern","pointData","materialLibraries","isLine","hasVertexColors","createdMaterials","materialHash","sourceMaterial","materialLine","materialPoints","PointsMaterial","isPoints","buffergeometry","miLen"],"mappings":"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","file":"static/js/0.40c648f4eedfafb40189.js","sourcesContent":["import { MathUtils } from '@/components/build/three.module.js';\r\nimport { Node } from './Node.js';\r\n\r\nfunction TempNode( type, params ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.shared = params.shared !== undefined ? params.shared : true;\r\n\tthis.unique = params.unique !== undefined ? params.unique : false;\r\n\r\n}\r\n\r\nTempNode.prototype = Object.create( Node.prototype );\r\nTempNode.prototype.constructor = TempNode;\r\n\r\nTempNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\toutput = output || this.getType( builder );\r\n\r\n\tif ( this.getShared( builder, output ) ) {\r\n\r\n\t\tvar isUnique = this.getUnique( builder, output );\r\n\r\n\t\tif ( isUnique && this.constructor.uuid === undefined ) {\r\n\r\n\t\t\tthis.constructor.uuid = MathUtils.generateUUID();\r\n\r\n\t\t}\r\n\r\n\t\tuuid = builder.getUuid( uuid || this.getUuid(), ! isUnique );\r\n\r\n\t\tvar data = builder.getNodeData( uuid ),\r\n\t\t\ttype = data.output || this.getType( builder );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tif ( ( data.deps || 0 ) > 0 || this.getLabel() ) {\r\n\r\n\t\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t} else if ( isUnique ) {\r\n\r\n\t\t\tdata.name = data.name || Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t\treturn data.name;\r\n\r\n\t\t} else if ( ! this.getLabel() && ( ! this.getShared( builder, type ) || ( builder.context.ignoreCache || data.deps === 1 ) ) ) {\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t}\r\n\r\n\t\tuuid = this.getUuid( false );\r\n\r\n\t\tvar name = this.getTemp( builder, uuid );\r\n\r\n\t\tif ( name ) {\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tname = TempNode.prototype.generate.call( this, builder, output, uuid, data.output, ns );\r\n\r\n\t\t\tvar code = this.generate( builder, type, uuid );\r\n\r\n\t\t\tbuilder.addNodeCode( name + ' = ' + code + ';' );\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nTempNode.prototype.getShared = function ( builder, output ) {\r\n\r\n\treturn output !== 'sampler2D' && output !== 'samplerCube' && this.shared;\r\n\r\n};\r\n\r\nTempNode.prototype.getUnique = function ( /* builder, output */ ) {\r\n\r\n\treturn this.unique;\r\n\r\n};\r\n\r\nTempNode.prototype.setLabel = function ( name ) {\r\n\r\n\tthis.label = name;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTempNode.prototype.getLabel = function ( /* builder */ ) {\r\n\r\n\treturn this.label;\r\n\r\n};\r\n\r\nTempNode.prototype.getUuid = function ( unique ) {\r\n\r\n\tvar uuid = unique || unique == undefined ? this.constructor.uuid || this.uuid : this.uuid;\r\n\r\n\tif ( typeof this.scope === \"string\" ) uuid = this.scope + '-' + uuid;\r\n\r\n\treturn uuid;\r\n\r\n};\r\n\r\nTempNode.prototype.getTemp = function ( builder, uuid ) {\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\tvar tempVar = builder.getVars()[ uuid ];\r\n\r\n\treturn tempVar ? tempVar.name : undefined;\r\n\r\n};\r\n\r\nTempNode.prototype.generate = function ( builder, output, uuid, type, ns ) {\r\n\r\n\tif ( ! this.getShared( builder, output ) ) console.error( \"THREE.TempNode is not shared!\" );\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\treturn builder.getTempVar( uuid, type || this.getType( builder ), ns, this.getLabel() ).name;\r\n\r\n};\r\n\r\nexport { TempNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/TempNode.js","import {\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GeometryUtils = {\r\n\r\n\t/**\r\n\t * Generates 2D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/sketch/15493\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, -Z.\r\n\t * @param v1         Corner index -X, +Z.\r\n\t * @param v2         Corner index +X, +Z.\r\n\t * @param v3         Corner index +X, -Z.\r\n\t */\r\n\thilbert2D: function ( center, size, iterations, v0, v1, v2, v3 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( 0 <= -- iterations ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 0 ], half, iterations, v0, v3, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 1 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 2 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 3 ], half, iterations, v2, v1, v0, v3 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Generates 3D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/visuals/?visualID=15599\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, +Y, -Z.\r\n\t * @param v1         Corner index -X, +Y, +Z.\r\n\t * @param v2         Corner index -X, -Y, +Z.\r\n\t * @param v3         Corner index -X, -Y, -Z.\r\n\t * @param v4         Corner index +X, -Y, -Z.\r\n\t * @param v5         Corner index +X, -Y, +Z.\r\n\t * @param v6         Corner index +X, +Y, +Z.\r\n\t * @param v7         Corner index +X, +Y, -Z.\r\n\t */\r\n\thilbert3D: function ( center, size, iterations, v0, v1, v2, v3, v4, v5, v6, v7 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3,\r\n\t\t\tv4 = v4 !== undefined ? v4 : 4,\r\n\t\t\tv5 = v5 !== undefined ? v5 : 5,\r\n\t\t\tv6 = v6 !== undefined ? v6 : 6,\r\n\t\t\tv7 = v7 !== undefined ? v7 : 7\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ],\r\n\t\t\tvec_s[ v4 ],\r\n\t\t\tvec_s[ v5 ],\r\n\t\t\tvec_s[ v6 ],\r\n\t\t\tvec_s[ v7 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( -- iterations >= 0 ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 0 ], half, iterations, v0, v3, v4, v7, v6, v5, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 1 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 2 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 3 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 4 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 5 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 6 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 7 ], half, iterations, v6, v5, v2, v1, v0, v3, v4, v7 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { GeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/GeometryUtils.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^([a-z_0-9]+)\\s([a-z_0-9]+)\\s?\\=?\\s?(.*?)(\\;|$)/i;\r\n\r\nfunction ConstNode( src, useDefine ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src || ConstNode.PI, useDefine );\r\n\r\n}\r\n\r\nConstNode.PI = 'PI';\r\nConstNode.PI2 = 'PI2';\r\nConstNode.RECIPROCAL_PI = 'RECIPROCAL_PI';\r\nConstNode.RECIPROCAL_PI2 = 'RECIPROCAL_PI2';\r\nConstNode.LOG2 = 'LOG2';\r\nConstNode.EPSILON = 'EPSILON';\r\n\r\nConstNode.prototype = Object.create( TempNode.prototype );\r\nConstNode.prototype.constructor = ConstNode;\r\nConstNode.prototype.nodeType = \"Const\";\r\n\r\nConstNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nConstNode.prototype.parse = function ( src, useDefine ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tvar name, type, value = \"\";\r\n\r\n\tvar match = this.src.match( declarationRegexp );\r\n\r\n\tthis.useDefine = useDefine || this.src.charAt( 0 ) === '#';\r\n\r\n\tif ( match && match.length > 1 ) {\r\n\r\n\t\ttype = match[ 1 ];\r\n\t\tname = match[ 2 ];\r\n\t\tvalue = match[ 3 ];\r\n\r\n\t} else {\r\n\r\n\t\tname = this.src;\r\n\t\ttype = 'f';\r\n\r\n\t}\r\n\r\n\tthis.name = name;\r\n\tthis.type = type;\r\n\tthis.value = value;\r\n\r\n};\r\n\r\nConstNode.prototype.build = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\tif ( this.useDefine ) {\r\n\r\n\t\t\t\treturn '#define ' + this.name + ' ' + this.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn 'const ' + this.type + ' ' + this.name + ' = ' + this.value + ';';\r\n\r\n\t\t} else if ( this.useDefine ) {\r\n\r\n\t\t\treturn this.src;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.include( this );\r\n\r\n\t\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nConstNode.prototype.generate = function ( builder, output ) {\r\n\r\n\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nConstNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.parse( source.src, source.useDefine );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nConstNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t\tif ( data.useDefine === true ) data.useDefine = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ConstNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ConstNode.js","var NodeLib = {\r\n\r\n\tnodes: {},\r\n\tkeywords: {},\r\n\r\n\tadd: function ( node ) {\r\n\r\n\t\tthis.nodes[ node.name ] = node;\r\n\r\n\t},\r\n\r\n\taddKeyword: function ( name, callback, cache ) {\r\n\r\n\t\tcache = cache !== undefined ? cache : true;\r\n\r\n\t\tthis.keywords[ name ] = { callback: callback, cache: cache };\r\n\r\n\t},\r\n\r\n\tremove: function ( node ) {\r\n\r\n\t\tdelete this.nodes[ node.name ];\r\n\r\n\t},\r\n\r\n\tremoveKeyword: function ( name ) {\r\n\r\n\t\tdelete this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tget: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ];\r\n\r\n\t},\r\n\r\n\tgetKeyword: function ( name, builder ) {\r\n\r\n\t\treturn this.keywords[ name ].callback.call( this, builder );\r\n\r\n\t},\r\n\r\n\tgetKeywordData: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tcontains: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tcontainsKeyword: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ] !== undefined;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeLib };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeLib.js","import {\r\n\tCubeReflectionMapping,\r\n\tCubeRefractionMapping,\r\n\tCubeUVReflectionMapping,\r\n\tCubeUVRefractionMapping,\r\n\tLinearEncoding,\r\n\tGammaEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeUniform } from './NodeUniform.js';\r\nimport { NodeUtils } from './NodeUtils.js';\r\nimport { NodeLib } from './NodeLib.js';\r\nimport { FunctionNode } from './FunctionNode.js';\r\nimport { ConstNode } from './ConstNode.js';\r\nimport { StructNode } from './StructNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\nimport { Vector4Node } from '../inputs/Vector4Node.js';\r\nimport { TextureNode } from '../inputs/TextureNode.js';\r\nimport { CubeTextureNode } from '../inputs/CubeTextureNode.js';\r\nimport { TextureCubeNode } from '../misc/TextureCubeNode.js';\r\n\r\n\r\nvar elements = NodeUtils.elements,\r\n\tconstructors = [ 'float', 'vec2', 'vec3', 'vec4' ],\r\n\tconvertFormatToType = {\r\n\t\tfloat: 'f',\r\n\t\tvec2: 'v2',\r\n\t\tvec3: 'v3',\r\n\t\tvec4: 'v4',\r\n\t\tmat4: 'v4',\r\n\t\tint: 'i',\r\n\t\tbool: 'b'\r\n\t},\r\n\tconvertTypeToFormat = {\r\n\t\tt: 'sampler2D',\r\n\t\ttc: 'samplerCube',\r\n\t\tb: 'bool',\r\n\t\ti: 'int',\r\n\t\tf: 'float',\r\n\t\tc: 'vec3',\r\n\t\tv2: 'vec2',\r\n\t\tv3: 'vec3',\r\n\t\tv4: 'vec4',\r\n\t\tm3: 'mat3',\r\n\t\tm4: 'mat4'\r\n\t};\r\n\r\nfunction NodeBuilder() {\r\n\r\n\tthis.slots = [];\r\n\tthis.caches = [];\r\n\tthis.contexts = [];\r\n\r\n\tthis.keywords = {};\r\n\r\n\tthis.nodeData = {};\r\n\r\n\tthis.requires = {\r\n\t\tuv: [],\r\n\t\tcolor: [],\r\n\t\tlights: false,\r\n\t\tfog: false,\r\n\t\ttransparent: false,\r\n\t\tirradiance: false\r\n\t};\r\n\r\n\tthis.includes = {\r\n\t\tconsts: [],\r\n\t\tfunctions: [],\r\n\t\tstructs: []\r\n\t};\r\n\r\n\tthis.attributes = {};\r\n\r\n\tthis.prefixCode = [\r\n\t\t\"#ifdef TEXTURE_LOD_EXT\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)\",\r\n\r\n\t\t\"#else\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCube(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2D(a, b, c)\",\r\n\r\n\t\t\"#endif\",\r\n\r\n\t\t\"#include <packing>\",\r\n\t\t\"#include <common>\"\r\n\r\n\t].join( \"\\n\" );\r\n\r\n\tthis.parsCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.code = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.nodeCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.resultCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.finalCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tuniforms: {\r\n\t\t\tlist: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t},\r\n\t\tvars: {\r\n\t\t\tvarying: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t}\r\n\t};\r\n\r\n\t// send to material\r\n\r\n\tthis.defines = {};\r\n\r\n\tthis.uniforms = {};\r\n\r\n\tthis.extensions = {};\r\n\r\n\tthis.updaters = [];\r\n\r\n\tthis.nodes = [];\r\n\r\n\t// --\r\n\r\n\tthis.analyzing = false;\r\n\r\n}\r\n\r\nNodeBuilder.prototype = {\r\n\r\n\tconstructor: NodeBuilder,\r\n\r\n\tbuild: function ( vertex, fragment ) {\r\n\r\n\t\tthis.buildShader( 'vertex', vertex );\r\n\t\tthis.buildShader( 'fragment', fragment );\r\n\r\n\t\tfor ( var i = 0; i < this.requires.uv.length; i ++ ) {\r\n\r\n\t\t\tif ( this.requires.uv[ i ] ) {\r\n\r\n\t\t\t\tvar uvIndex = i > 0 ? i + 1 : '';\r\n\r\n\t\t\t\tthis.addVaryCode( 'varying vec2 vUv' + uvIndex + ';' );\r\n\r\n\t\t\t\tif ( i > 0 ) {\r\n\r\n\t\t\t\t\tthis.addVertexParsCode( 'attribute vec2 uv' + uvIndex + ';' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.addVertexFinalCode( 'vUv' + uvIndex + ' = uv' + uvIndex + ';' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 0 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor = color;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 1 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor2;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color2;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor2 = color2;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.position ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vPosition = transformed;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldPosition ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.normal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vObjectNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vObjectNormal = normal;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldNormal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tbuildShader: function ( shader, node ) {\r\n\r\n\t\tthis.resultCode[ shader ] = node.build( this.setShader( shader ), 'v4' );\r\n\r\n\t},\r\n\r\n\tsetMaterial: function ( material, renderer ) {\r\n\r\n\t\tthis.material = material;\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\tthis.requires.lights = material.lights;\r\n\t\tthis.requires.fog = material.fog;\r\n\r\n\t\tthis.mergeDefines( material.defines );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddFlow: function ( slot, cache, context ) {\r\n\r\n\t\treturn this.addSlot( slot ).addCache( cache ).addContext( context );\r\n\r\n\t},\r\n\r\n\tremoveFlow: function () {\r\n\r\n\t\treturn this.removeSlot().removeCache().removeContext();\r\n\r\n\t},\r\n\r\n\taddCache: function ( name ) {\r\n\r\n\t\tthis.cache = name || '';\r\n\t\tthis.caches.push( this.cache );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveCache: function () {\r\n\r\n\t\tthis.caches.pop();\r\n\t\tthis.cache = this.caches[ this.caches.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddContext: function ( context ) {\r\n\r\n\t\tthis.context = Object.assign( {}, this.context, context );\r\n\t\tthis.context.extra = this.context.extra || {};\r\n\r\n\t\tthis.contexts.push( this.context );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveContext: function () {\r\n\r\n\t\tthis.contexts.pop();\r\n\t\tthis.context = this.contexts[ this.contexts.length - 1 ] || {};\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddSlot: function ( name ) {\r\n\r\n\t\tthis.slot = name || '';\r\n\t\tthis.slots.push( this.slot );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveSlot: function () {\r\n\r\n\t\tthis.slots.pop();\r\n\t\tthis.slot = this.slots[ this.slots.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\r\n\taddVertexCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddCode: function ( code, shader ) {\r\n\r\n\t\tthis.code[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddNodeCode: function ( code, shader ) {\r\n\r\n\t\tthis.nodeCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\tclearNodeCode: function ( shader ) {\r\n\r\n\t\tshader = shader || this.shader;\r\n\r\n\t\tvar code = this.nodeCode[ shader ];\r\n\r\n\t\tthis.nodeCode[ shader ] = '';\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tclearVertexNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'vertex' );\r\n\r\n\t},\r\n\r\n\tclearFragmentNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'fragment' );\r\n\r\n\t},\r\n\r\n\taddVertexFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddFinalCode: function ( code, shader ) {\r\n\r\n\t\tthis.finalCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddParsCode: function ( code, shader ) {\r\n\r\n\t\tthis.parsCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVaryCode: function ( code ) {\r\n\r\n\t\tthis.addVertexParsCode( code );\r\n\t\tthis.addFragmentParsCode( code );\r\n\r\n\t},\r\n\r\n\r\n\tisCache: function ( name ) {\r\n\r\n\t\treturn this.caches.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tisSlot: function ( name ) {\r\n\r\n\t\treturn this.slots.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tdefine: function ( name, value ) {\r\n\r\n\t\tthis.defines[ name ] = value === undefined ? 1 : value;\r\n\r\n\t},\r\n\r\n\trequire: function ( name ) {\r\n\r\n\t\tthis.requires[ name ] = true;\r\n\r\n\t},\r\n\r\n\tisDefined: function ( name ) {\r\n\r\n\t\treturn this.defines[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tgetVar: function ( uuid, type, ns, shader = 'varying', prefix = 'V', label = '' ) {\r\n\r\n\t\tvar vars = this.getVars( shader ),\r\n\t\t\tdata = vars[ uuid ];\r\n\r\n\t\tif ( ! data ) {\r\n\r\n\t\t\tvar index = vars.length,\r\n\t\t\t\tname = ns ? ns : 'node' + prefix + index + ( label ? '_' + label : '' );\r\n\r\n\t\t\tdata = { name: name, type: type };\r\n\r\n\t\t\tvars.push( data );\r\n\t\t\tvars[ uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tgetTempVar: function ( uuid, type, ns, label ) {\r\n\r\n\t\treturn this.getVar( uuid, type, ns, this.shader, 'T', label );\r\n\r\n\t},\r\n\r\n\tgetAttribute: function ( name, type ) {\r\n\r\n\t\tif ( ! this.attributes[ name ] ) {\r\n\r\n\t\t\tvar varying = this.getVar( name, type );\r\n\r\n\t\t\tthis.addVertexParsCode( 'attribute ' + type + ' ' + name + ';' );\r\n\t\t\tthis.addVertexFinalCode( varying.name + ' = ' + name + ';' );\r\n\r\n\t\t\tthis.attributes[ name ] = { varying: varying, name: name, type: type };\r\n\r\n\t\t}\r\n\r\n\t\treturn this.attributes[ name ];\r\n\r\n\t},\r\n\r\n\tgetCode: function ( shader ) {\r\n\r\n\t\treturn [\r\n\t\t\tthis.prefixCode,\r\n\t\t\tthis.parsCode[ shader ],\r\n\t\t\tthis.getVarListCode( this.getVars( 'varying' ), 'varying' ),\r\n\t\t\tthis.getVarListCode( this.inputs.uniforms[ shader ], 'uniform' ),\r\n\t\t\tthis.getIncludesCode( 'consts', shader ),\r\n\t\t\tthis.getIncludesCode( 'structs', shader ),\r\n\t\t\tthis.getIncludesCode( 'functions', shader ),\r\n\t\t\t'void main() {',\r\n\t\t\tthis.getVarListCode( this.getVars( shader ) ),\r\n\t\t\tthis.code[ shader ],\r\n\t\t\tthis.resultCode[ shader ],\r\n\t\t\tthis.finalCode[ shader ],\r\n\t\t\t'}'\r\n\t\t].join( \"\\n\" );\r\n\r\n\t},\r\n\r\n\tgetVarListCode: function ( vars, prefix ) {\r\n\r\n\t\tprefix = prefix || '';\r\n\r\n\t\tvar code = '';\r\n\r\n\t\tfor ( var i = 0, l = vars.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar nVar = vars[ i ],\r\n\t\t\t\ttype = nVar.type,\r\n\t\t\t\tname = nVar.name;\r\n\r\n\t\t\tvar formatType = this.getFormatByType( type );\r\n\r\n\t\t\tif ( formatType === undefined ) {\r\n\r\n\t\t\t\tthrow new Error( \"Node pars \" + formatType + \" not found.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcode += prefix + ' ' + formatType + ' ' + name + ';\\n';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetVars: function ( shader ) {\r\n\r\n\t\treturn this.inputs.vars[ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetNodeData: function ( node ) {\r\n\r\n\t\tvar uuid = node.isNode ? node.uuid : node;\r\n\r\n\t\treturn this.nodeData[ uuid ] = this.nodeData[ uuid ] || {};\r\n\r\n\t},\r\n\r\n\tcreateUniform: function ( shader, type, node, ns, needsUpdate, label ) {\r\n\r\n\t\tvar uniforms = this.inputs.uniforms,\r\n\t\t\tindex = uniforms.list.length;\r\n\r\n\t\tvar uniform = new NodeUniform( {\r\n\t\t\ttype: type,\r\n\t\t\tname: ns ? ns : 'nodeU' + index + ( label ? '_' + label : '' ),\r\n\t\t\tnode: node,\r\n\t\t\tneedsUpdate: needsUpdate\r\n\t\t} );\r\n\r\n\t\tuniforms.list.push( uniform );\r\n\r\n\t\tuniforms[ shader ].push( uniform );\r\n\t\tuniforms[ shader ][ uniform.name ] = uniform;\r\n\r\n\t\tthis.uniforms[ uniform.name ] = uniform;\r\n\r\n\t\treturn uniform;\r\n\r\n\t},\r\n\r\n\tcreateVertexUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'vertex', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tcreateFragmentUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'fragment', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tinclude: function ( node, parent, source ) {\r\n\r\n\t\tvar includesStruct;\r\n\r\n\t\tnode = typeof node === 'string' ? NodeLib.get( node ) : node;\r\n\r\n\t\tif ( this.context.include === false ) {\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t}\r\n\r\n\r\n\t\tif ( node instanceof FunctionNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.functions;\r\n\r\n\t\t} else if ( node instanceof ConstNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.consts;\r\n\r\n\t\t} else if ( node instanceof StructNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.structs;\r\n\r\n\t\t}\r\n\r\n\t\tvar includes = includesStruct[ this.shader ] = includesStruct[ this.shader ] || [];\r\n\r\n\t\tif ( node ) {\r\n\r\n\t\t\tvar included = includes[ node.name ];\r\n\r\n\t\t\tif ( ! included ) {\r\n\r\n\t\t\t\tincluded = includes[ node.name ] = {\r\n\t\t\t\t\tnode: node,\r\n\t\t\t\t\tdeps: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tincludes.push( included );\r\n\r\n\t\t\t\tincluded.src = node.build( this, 'source' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node instanceof FunctionNode && parent && includes[ parent.name ] && includes[ parent.name ].deps.indexOf( node ) == - 1 ) {\r\n\r\n\t\t\t\tincludes[ parent.name ].deps.push( node );\r\n\r\n\t\t\t\tif ( node.includes && node.includes.length ) {\r\n\r\n\t\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\t\tdo {\r\n\r\n\t\t\t\t\t\tthis.include( node.includes[ i ++ ], parent );\r\n\r\n\t\t\t\t\t} while ( i < node.includes.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( source ) {\r\n\r\n\t\t\t\tincluded.src = source;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( \"Include not found.\" );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcolorToVectorProperties: function ( color ) {\r\n\r\n\t\treturn color.replace( 'r', 'x' ).replace( 'g', 'y' ).replace( 'b', 'z' ).replace( 'a', 'w' );\r\n\r\n\t},\r\n\r\n\tcolorToVector: function ( color ) {\r\n\r\n\t\treturn color.replace( /c/g, 'v3' );\r\n\r\n\t},\r\n\r\n\tgetIncludes: function ( type, shader ) {\r\n\r\n\t\treturn this.includes[ type ][ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetIncludesCode: function () {\r\n\r\n\t\tfunction sortByPosition( a, b ) {\r\n\r\n\t\t\treturn a.deps.length - b.deps.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn function getIncludesCode( type, shader ) {\r\n\r\n\t\t\tvar includes = this.getIncludes( type, shader );\r\n\r\n\t\t\tif ( ! includes ) return '';\r\n\r\n\t\t\tvar code = '',\r\n\t\t\t\tincludes = includes.sort( sortByPosition );\r\n\r\n\t\t\tfor ( var i = 0; i < includes.length; i ++ ) {\r\n\r\n\t\t\t\tif ( includes[ i ].src ) code += includes[ i ].src + '\\n';\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn code;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetConstructorFromLength: function ( len ) {\r\n\r\n\t\treturn constructors[ len - 1 ];\r\n\r\n\t},\r\n\r\n\tisTypeMatrix: function ( format ) {\r\n\r\n\t\treturn /^m/.test( format );\r\n\r\n\t},\r\n\r\n\tgetTypeLength: function ( type ) {\r\n\r\n\t\tif ( type === 'f' ) return 1;\r\n\r\n\t\treturn parseInt( this.colorToVector( type ).substr( 1 ) );\r\n\r\n\t},\r\n\r\n\tgetTypeFromLength: function ( len ) {\r\n\r\n\t\tif ( len === 1 ) return 'f';\r\n\r\n\t\treturn 'v' + len;\r\n\r\n\t},\r\n\r\n\tfindNode: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined && nodeCandidate.isNode ) {\r\n\r\n\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tresolve: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined ) {\r\n\r\n\t\t\t\tif ( nodeCandidate.isNode ) {\r\n\r\n\t\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isTexture ) {\r\n\r\n\t\t\t\t\tswitch ( nodeCandidate.mapping ) {\r\n\r\n\t\t\t\t\t\tcase CubeReflectionMapping:\r\n\t\t\t\t\t\tcase CubeRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new CubeTextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase CubeUVReflectionMapping:\r\n\t\t\t\t\t\tcase CubeUVRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new TextureCubeNode( new TextureNode( nodeCandidate ) );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\treturn new TextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector2 ) {\r\n\r\n\t\t\t\t\treturn new Vector2Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector3 ) {\r\n\r\n\t\t\t\t\treturn new Vector3Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector4 ) {\r\n\r\n\t\t\t\t\treturn new Vector4Node( nodeCandidate );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tformat: function ( code, from, to ) {\r\n\r\n\t\tvar typeToType = this.colorToVector( to + ' <- ' + from );\r\n\r\n\t\tswitch ( typeToType ) {\r\n\r\n\t\t\tcase 'f <- v2' : return code + '.x';\r\n\t\t\tcase 'f <- v3' : return code + '.x';\r\n\t\t\tcase 'f <- v4' : return code + '.x';\r\n\t\t\tcase 'f <- i' :\r\n\t\t\tcase 'f <- b' :\treturn 'float( ' + code + ' )';\r\n\r\n\t\t\tcase 'v2 <- f' : return 'vec2( ' + code + ' )';\r\n\t\t\tcase 'v2 <- v3': return code + '.xy';\r\n\t\t\tcase 'v2 <- v4': return code + '.xy';\r\n\t\t\tcase 'v2 <- i' :\r\n\t\t\tcase 'v2 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v3 <- f' : return 'vec3( ' + code + ' )';\r\n\t\t\tcase 'v3 <- v2': return 'vec3( ' + code + ', 0.0 )';\r\n\t\t\tcase 'v3 <- v4': return code + '.xyz';\r\n\t\t\tcase 'v3 <- i' :\r\n\t\t\tcase 'v3 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v4 <- f' : return 'vec4( ' + code + ' )';\r\n\t\t\tcase 'v4 <- v2': return 'vec4( ' + code + ', 0.0, 1.0 )';\r\n\t\t\tcase 'v4 <- v3': return 'vec4( ' + code + ', 1.0 )';\r\n\t\t\tcase 'v4 <- i' :\r\n\t\t\tcase 'v4 <- b' : return 'vec4( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'i <- f' :\r\n\t\t\tcase 'i <- b' : return 'int( ' + code + ' )';\r\n\t\t\tcase 'i <- v2' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v3' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v4' : return 'int( ' + code + '.x )';\r\n\r\n\t\t\tcase 'b <- f' : return '( ' + code + ' != 0.0 )';\r\n\t\t\tcase 'b <- v2' : return '( ' + code + ' != vec2( 0.0 ) )';\r\n\t\t\tcase 'b <- v3' : return '( ' + code + ' != vec3( 0.0 ) )';\r\n\t\t\tcase 'b <- v4' : return '( ' + code + ' != vec4( 0.0 ) )';\r\n\t\t\tcase 'b <- i' : return '( ' + code + ' != 0 )';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetTypeByFormat: function ( format ) {\r\n\r\n\t\treturn convertFormatToType[ format ] || format;\r\n\r\n\t},\r\n\r\n\tgetFormatByType: function ( type ) {\r\n\r\n\t\treturn convertTypeToFormat[ type ] || type;\r\n\r\n\t},\r\n\r\n\tgetUuid: function ( uuid, useCache ) {\r\n\r\n\t\tuseCache = useCache !== undefined ? useCache : true;\r\n\r\n\t\tif ( useCache && this.cache ) uuid = this.cache + '-' + uuid;\r\n\r\n\t\treturn uuid;\r\n\r\n\t},\r\n\r\n\tgetElementByIndex: function ( index ) {\r\n\r\n\t\treturn elements[ index ];\r\n\r\n\t},\r\n\r\n\tgetIndexByElement: function ( elm ) {\r\n\r\n\t\treturn elements.indexOf( elm );\r\n\r\n\t},\r\n\r\n\tisShader: function ( shader ) {\r\n\r\n\t\treturn this.shader === shader;\r\n\r\n\t},\r\n\r\n\tsetShader: function ( shader ) {\r\n\r\n\t\tthis.shader = shader;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmergeDefines: function ( defines ) {\r\n\r\n\t\tfor ( var name in defines ) {\r\n\r\n\t\t\tthis.defines[ name ] = defines[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.defines;\r\n\r\n\t},\r\n\r\n\tmergeUniform: function ( uniforms ) {\r\n\r\n\t\tfor ( var name in uniforms ) {\r\n\r\n\t\t\tthis.uniforms[ name ] = uniforms[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.uniforms;\r\n\r\n\t},\r\n\r\n\tgetTextureEncodingFromMap: function ( map ) {\r\n\r\n\t\tvar encoding;\r\n\r\n\t\tif ( ! map ) {\r\n\r\n\t\t\tencoding = LinearEncoding;\r\n\r\n\t\t} else if ( map.isTexture ) {\r\n\r\n\t\t\tencoding = map.encoding;\r\n\r\n\t\t} else if ( map.isWebGLRenderTarget ) {\r\n\r\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\tencoding = map.texture.encoding;\r\n\r\n\t\t}\r\n\r\n\t\tif ( encoding === LinearEncoding && this.context.gamma ) {\r\n\r\n\t\t\tencoding = GammaEncoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn encoding;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeBuilder };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeBuilder.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector2Node( x, y ) {\r\n\r\n\tInputNode.call( this, 'v2' );\r\n\r\n\tthis.value = x instanceof Vector2 ? x : new Vector2( x, y );\r\n\r\n}\r\n\r\nVector2Node.prototype = Object.create( InputNode.prototype );\r\nVector2Node.prototype.constructor = Vector2Node;\r\nVector2Node.prototype.nodeType = \"Vector2\";\r\n\r\nNodeUtils.addShortcuts( Vector2Node.prototype, 'value', [ 'x', 'y' ] );\r\n\r\nVector2Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec2( \" + this.x + \", \" + this.y + \" )\", type, output );\r\n\r\n};\r\n\r\nVector2Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector2Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector2Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector2Node.js","var NodeUtils = {\r\n\r\n\telements: [ 'x', 'y', 'z', 'w' ],\r\n\r\n\taddShortcuts: function () {\r\n\r\n\t\tfunction applyShortcut( proxy, property, subProperty ) {\r\n\r\n\t\t\tif ( subProperty ) {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ][ subProperty ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ][ subProperty ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn function addShortcuts( proto, proxy, list ) {\r\n\r\n\t\t\tvar shortcuts = {};\r\n\r\n\t\t\tfor ( var i = 0; i < list.length; ++ i ) {\r\n\r\n\t\t\t\tvar data = list[ i ].split( \".\" ),\r\n\t\t\t\t\tproperty = data[ 0 ],\r\n\t\t\t\t\tsubProperty = data[ 1 ];\r\n\r\n\t\t\t\tshortcuts[ property ] = applyShortcut( proxy, property, subProperty );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tObject.defineProperties( proto, shortcuts );\r\n\r\n\t\t};\r\n\r\n\t}()\r\n\r\n};\r\n\r\nexport { NodeUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUtils.js","import {\r\n\tClock,\r\n\tLinearFilter,\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tRGBAFormat,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { ShaderPass } from \"../postprocessing/ShaderPass.js\";\r\nimport { MaskPass } from \"../postprocessing/MaskPass.js\";\r\nimport { ClearMaskPass } from \"../postprocessing/MaskPass.js\";\r\n\r\nvar EffectComposer = function ( renderer, renderTarget ) {\r\n\r\n\tthis.renderer = renderer;\r\n\r\n\tif ( renderTarget === undefined ) {\r\n\r\n\t\tvar parameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tvar size = renderer.getSize( new Vector2() );\r\n\t\tthis._pixelRatio = renderer.getPixelRatio();\r\n\t\tthis._width = size.width;\r\n\t\tthis._height = size.height;\r\n\r\n\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\r\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\r\n\r\n\t} else {\r\n\r\n\t\tthis._pixelRatio = 1;\r\n\t\tthis._width = renderTarget.width;\r\n\t\tthis._height = renderTarget.height;\r\n\r\n\t}\r\n\r\n\tthis.renderTarget1 = renderTarget;\r\n\tthis.renderTarget2 = renderTarget.clone();\r\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\r\n\r\n\tthis.writeBuffer = this.renderTarget1;\r\n\tthis.readBuffer = this.renderTarget2;\r\n\r\n\tthis.renderToScreen = true;\r\n\r\n\tthis.passes = [];\r\n\r\n\t// dependencies\r\n\r\n\tif ( CopyShader === undefined ) {\r\n\r\n\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\r\n\r\n\t}\r\n\r\n\tif ( ShaderPass === undefined ) {\r\n\r\n\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\r\n\r\n\t}\r\n\r\n\tthis.copyPass = new ShaderPass( CopyShader );\r\n\r\n\tthis.clock = new Clock();\r\n\r\n};\r\n\r\nObject.assign( EffectComposer.prototype, {\r\n\r\n\tswapBuffers: function () {\r\n\r\n\t\tvar tmp = this.readBuffer;\r\n\t\tthis.readBuffer = this.writeBuffer;\r\n\t\tthis.writeBuffer = tmp;\r\n\r\n\t},\r\n\r\n\taddPass: function ( pass ) {\r\n\r\n\t\tthis.passes.push( pass );\r\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t},\r\n\r\n\tinsertPass: function ( pass, index ) {\r\n\r\n\t\tthis.passes.splice( index, 0, pass );\r\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t},\r\n\r\n\tisLastEnabledPass: function ( passIndex ) {\r\n\r\n\t\tfor ( var i = passIndex + 1; i < this.passes.length; i ++ ) {\r\n\r\n\t\t\tif ( this.passes[ i ].enabled ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\trender: function ( deltaTime ) {\r\n\r\n\t\t// deltaTime value is in seconds\r\n\r\n\t\tif ( deltaTime === undefined ) {\r\n\r\n\t\t\tdeltaTime = this.clock.getDelta();\r\n\r\n\t\t}\r\n\r\n\t\tvar currentRenderTarget = this.renderer.getRenderTarget();\r\n\r\n\t\tvar maskActive = false;\r\n\r\n\t\tvar pass, i, il = this.passes.length;\r\n\r\n\t\tfor ( i = 0; i < il; i ++ ) {\r\n\r\n\t\t\tpass = this.passes[ i ];\r\n\r\n\t\t\tif ( pass.enabled === false ) continue;\r\n\r\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\r\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\r\n\r\n\t\t\tif ( pass.needsSwap ) {\r\n\r\n\t\t\t\tif ( maskActive ) {\r\n\r\n\t\t\t\t\tvar context = this.renderer.getContext();\r\n\t\t\t\t\tvar stencil = this.renderer.state.buffers.stencil;\r\n\r\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\r\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\r\n\r\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\r\n\r\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\r\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.swapBuffers();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( MaskPass !== undefined ) {\r\n\r\n\t\t\t\tif ( pass instanceof MaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = true;\r\n\r\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t},\r\n\r\n\treset: function ( renderTarget ) {\r\n\r\n\t\tif ( renderTarget === undefined ) {\r\n\r\n\t\t\tvar size = this.renderer.getSize( new Vector2() );\r\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\r\n\t\t\tthis._width = size.width;\r\n\t\t\tthis._height = size.height;\r\n\r\n\t\t\trenderTarget = this.renderTarget1.clone();\r\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderTarget1.dispose();\r\n\t\tthis.renderTarget2.dispose();\r\n\t\tthis.renderTarget1 = renderTarget;\r\n\t\tthis.renderTarget2 = renderTarget.clone();\r\n\r\n\t\tthis.writeBuffer = this.renderTarget1;\r\n\t\tthis.readBuffer = this.renderTarget2;\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\r\n\t\tvar effectiveWidth = this._width * this._pixelRatio;\r\n\t\tvar effectiveHeight = this._height * this._pixelRatio;\r\n\r\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\r\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\r\n\r\n\t\tfor ( var i = 0; i < this.passes.length; i ++ ) {\r\n\r\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetPixelRatio: function ( pixelRatio ) {\r\n\r\n\t\tthis._pixelRatio = pixelRatio;\r\n\r\n\t\tthis.setSize( this._width, this._height );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nvar Pass = function () {\r\n\r\n\t// if set to true, the pass is processed by the composer\r\n\tthis.enabled = true;\r\n\r\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\r\n\tthis.needsSwap = true;\r\n\r\n\t// if set to true, the pass clears its buffer before rendering\r\n\tthis.clear = false;\r\n\r\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\r\n\tthis.renderToScreen = false;\r\n\r\n};\r\n\r\nObject.assign( Pass.prototype, {\r\n\r\n\tsetSize: function ( /* width, height */ ) {},\r\n\r\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// Helper for passes that need to fill the viewport with a single quad.\r\nPass.FullScreenQuad = ( function () {\r\n\r\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\r\n\r\n\tvar FullScreenQuad = function ( material ) {\r\n\r\n\t\tthis._mesh = new Mesh( geometry, material );\r\n\r\n\t};\r\n\r\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._mesh.material;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._mesh.material = value;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( FullScreenQuad.prototype, {\r\n\r\n\t\tdispose: function () {\r\n\r\n\t\t\tthis._mesh.geometry.dispose();\r\n\r\n\t\t},\r\n\r\n\t\trender: function ( renderer ) {\r\n\r\n\t\t\trenderer.render( this._mesh, camera );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn FullScreenQuad;\r\n\r\n} )();\r\n\r\nexport { EffectComposer, Pass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/EffectComposer.js","/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var mod={}, l=void 0,aa=mod;function r(c,d){var a=c.split(\".\"),b=aa;!(a[0]in b)&&b.execScript&&b.execScript(\"var \"+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==l?b[e]=d:b=b[e]?b[e]:b[e]={}};var t=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function v(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,k,m,n,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (t?Uint32Array:Array)(e);g=1;h=0;for(k=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){m=0;n=h;for(s=0;s<g;++s)m=m<<1|n&1,n>>=1;x=g<<16|p;for(s=m;s<e;s+=k)f[s]=x;++h}++g;h<<=1;k<<=1}return[f,a,b]};function w(c,d){this.g=[];this.h=32768;this.d=this.f=this.a=this.l=0;this.input=t?new Uint8Array(c):c;this.m=!1;this.i=y;this.r=!1;if(d||!(d={}))d.index&&(this.a=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.r=d.resize);switch(this.i){case A:this.b=32768;this.c=new (t?Uint8Array:Array)(32768+this.h+258);break;case y:this.b=0;this.c=new (t?Uint8Array:Array)(this.h);this.e=this.z;this.n=this.v;this.j=this.w;break;default:throw Error(\"invalid inflate mode\");\r\n}}var A=0,y=1,B={t:A,s:y};\r\nw.prototype.k=function(){for(;!this.m;){var c=C(this,3);c&1&&(this.m=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.a,b=this.c,e=this.b,f=d.length,g=l,h=l,k=b.length,m=l;this.d=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=d[a++]|d[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>d.length)throw Error(\"input buffer is broken\");switch(this.i){case A:for(;e+\r\ng>b.length;){m=k-e;g-=m;if(t)b.set(d.subarray(a,a+m),e),e+=m,a+=m;else for(;m--;)b[e++]=d[a++];this.b=e;b=this.e();e=this.b}break;case y:for(;e+g>b.length;)b=this.e({p:2});break;default:throw Error(\"invalid inflate mode\");}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.a=a;this.b=e;this.c=b;break;case 1:this.j(ba,ca);break;case 2:for(var n=C(this,5)+257,p=C(this,5)+1,s=C(this,4)+4,x=new (t?Uint8Array:Array)(D.length),S=l,T=l,U=l,u=l,M=l,F=l,z=l,q=l,V=l,q=0;q<s;++q)x[D[q]]=\r\nC(this,3);if(!t){q=s;for(s=x.length;q<s;++q)x[D[q]]=0}S=v(x);u=new (t?Uint8Array:Array)(n+p);q=0;for(V=n+p;q<V;)switch(M=E(this,S),M){case 16:for(z=3+C(this,2);z--;)u[q++]=F;break;case 17:for(z=3+C(this,3);z--;)u[q++]=0;F=0;break;case 18:for(z=11+C(this,7);z--;)u[q++]=0;F=0;break;default:F=u[q++]=M}T=t?v(u.subarray(0,n)):v(u.slice(0,n));U=t?v(u.subarray(n)):v(u.slice(n));this.j(T,U);break;default:throw Error(\"unknown BTYPE: \"+c);}}return this.n()};\r\nvar G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=t?new Uint16Array(G):G,H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],I=t?new Uint16Array(H):H,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],K=t?new Uint8Array(J):J,L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=t?new Uint16Array(L):L,ea=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,\r\n13,13],N=t?new Uint8Array(ea):ea,O=new (t?Uint8Array:Array)(288),P,fa;P=0;for(fa=O.length;P<fa;++P)O[P]=143>=P?8:255>=P?9:279>=P?7:8;var ba=v(O),Q=new (t?Uint8Array:Array)(30),R,ga;R=0;for(ga=Q.length;R<ga;++R)Q[R]=5;var ca=v(Q);function C(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h;b<d;){if(f>=g)throw Error(\"input buffer is broken\");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.d=b-d;c.a=f;return h}\r\nfunction E(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h=d[0],k=d[1],m,n;b<k&&!(f>=g);)a|=e[f++]<<b,b+=8;m=h[a&(1<<k)-1];n=m>>>16;if(n>b)throw Error(\"invalid code length: \"+n);c.f=a>>n;c.d=b-n;c.a=f;return m&65535}\r\nw.prototype.j=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length-258,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(this.b=b,a=this.e(),b=this.b),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b>=e&&(this.b=b,a=this.e(),b=this.b);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.w=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b+k>e&&(a=this.e(),e=a.length);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.e=function(){var c=new (t?Uint8Array:Array)(this.b-32768),d=this.b-32768,a,b,e=this.c;if(t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.l+=c.length;if(t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.b=32768;return e};\r\nw.prototype.z=function(c){var d,a=this.input.length/this.a+1|0,b,e,f,g=this.input,h=this.c;c&&(\"number\"===typeof c.p&&(a=c.p),\"number\"===typeof c.u&&(a+=c.u));2>a?(b=(g.length-this.a)/this.o[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;t?(d=new Uint8Array(e),d.set(h)):d=h;return this.c=d};\r\nw.prototype.n=function(){var c=0,d=this.c,a=this.g,b,e=new (t?Uint8Array:Array)(this.l+(this.b-32768)),f,g,h,k;if(0===a.length)return t?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(k=b.length;h<k;++h)e[c++]=b[h]}f=32768;for(g=this.b;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};\r\nw.prototype.v=function(){var c,d=this.b;t?this.r?(c=new Uint8Array(d),c.set(this.c.subarray(0,d))):c=this.c.subarray(0,d):(this.c.length>d&&(this.c.length=d),c=this.c);return this.buffer=c};function W(c,d){var a,b;this.input=c;this.a=0;if(d||!(d={}))d.index&&(this.a=d.index),d.verify&&(this.A=d.verify);a=c[this.a++];b=c[this.a++];switch(a&15){case ha:this.method=ha;break;default:throw Error(\"unsupported compression method\");}if(0!==((a<<8)+b)%31)throw Error(\"invalid fcheck flag:\"+((a<<8)+b)%31);if(b&32)throw Error(\"fdict flag is not supported\");this.q=new w(c,{index:this.a,bufferSize:d.bufferSize,bufferType:d.bufferType,resize:d.resize})}\r\nW.prototype.k=function(){var c=this.input,d,a;d=this.q.k();this.a=this.q.a;if(this.A){a=(c[this.a++]<<24|c[this.a++]<<16|c[this.a++]<<8|c[this.a++])>>>0;var b=d;if(\"string\"===typeof b){var e=b.split(\"\"),f,g;f=0;for(g=e.length;f<g;f++)e[f]=(e[f].charCodeAt(0)&255)>>>0;b=e}for(var h=1,k=0,m=b.length,n,p=0;0<m;){n=1024<m?1024:m;m-=n;do h+=b[p++],k+=h;while(--n);h%=65521;k%=65521}if(a!==(k<<16|h)>>>0)throw Error(\"invalid adler-32 checksum\");}return d};var ha=8;r(\"Zlib.Inflate\",W);r(\"Zlib.Inflate.prototype.decompress\",W.prototype.k);var X={ADAPTIVE:B.s,BLOCK:B.t},Y,Z,$,ia;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(ia=Y.length;$<ia;++$)Z=Y[$],r(\"Zlib.Inflate.BufferType.\"+Z,X[Z]);\r\nvar Inflate=mod.Zlib.Inflate;\r\nexport { Inflate }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/inflate.module.min.js","import {\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tMesh\r\n} from \"@/components/build/three.module.js\";\r\n\r\nfunction Pass() {\r\n\r\n\t// if set to true, the pass is processed by the composer\r\n\tthis.enabled = true;\r\n\r\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\r\n\tthis.needsSwap = true;\r\n\r\n\t// if set to true, the pass clears its buffer before rendering\r\n\tthis.clear = false;\r\n\r\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\r\n\tthis.renderToScreen = false;\r\n\r\n}\r\n\r\nObject.assign( Pass.prototype, {\r\n\r\n\tsetSize: function ( /* width, height */ ) {},\r\n\r\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// Helper for passes that need to fill the viewport with a single quad.\r\n\r\n// Important: It's actually a hack to put FullScreenQuad into the Pass namespace. This is only\r\n// done to make examples/js code work. Normally, FullScreenQuad should be exported\r\n// from this module like Pass.\r\n\r\nPass.FullScreenQuad = ( function () {\r\n\r\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\r\n\r\n\tvar FullScreenQuad = function ( material ) {\r\n\r\n\t\tthis._mesh = new Mesh( geometry, material );\r\n\r\n\t};\r\n\r\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._mesh.material;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._mesh.material = value;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( FullScreenQuad.prototype, {\r\n\r\n\t\tdispose: function () {\r\n\r\n\t\t\tthis._mesh.geometry.dispose();\r\n\r\n\t\t},\r\n\r\n\t\trender: function ( renderer ) {\r\n\r\n\t\t\trenderer.render( this._mesh, camera );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn FullScreenQuad;\r\n\r\n} )();\r\n\r\nexport { Pass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/Pass.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector3Node( x, y, z ) {\r\n\r\n\tInputNode.call( this, 'v3' );\r\n\r\n\tthis.value = x instanceof Vector3 ? x : new Vector3( x, y, z );\r\n\r\n}\r\n\r\nVector3Node.prototype = Object.create( InputNode.prototype );\r\nVector3Node.prototype.constructor = Vector3Node;\r\nVector3Node.prototype.nodeType = \"Vector3\";\r\n\r\nNodeUtils.addShortcuts( Vector3Node.prototype, 'value', [ 'x', 'y', 'z' ] );\r\n\r\nVector3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.x + \", \" + this.y + \", \" + this.z + \" )\", type, output );\r\n\r\n};\r\n\r\nVector3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector3Node.js","import {\r\n\tColor,\r\n\tLinearFilter,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tPerspectiveCamera,\r\n\tPlane,\r\n\tRGBFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector3,\r\n\tVector4,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar Reflector = function ( geometry, options ) {\r\n\r\n\tMesh.call( this, geometry );\r\n\r\n\tthis.type = 'Reflector';\r\n\r\n\tvar scope = this;\r\n\r\n\toptions = options || {};\r\n\r\n\tvar color = ( options.color !== undefined ) ? new Color( options.color ) : new Color( 0x7F7F7F );\r\n\tvar textureWidth = options.textureWidth || 512;\r\n\tvar textureHeight = options.textureHeight || 512;\r\n\tvar clipBias = options.clipBias || 0;\r\n\tvar shader = options.shader || Reflector.ReflectorShader;\r\n\r\n\t//\r\n\r\n\tvar reflectorPlane = new Plane();\r\n\tvar normal = new Vector3();\r\n\tvar reflectorWorldPosition = new Vector3();\r\n\tvar cameraWorldPosition = new Vector3();\r\n\tvar rotationMatrix = new Matrix4();\r\n\tvar lookAtPosition = new Vector3( 0, 0, - 1 );\r\n\tvar clipPlane = new Vector4();\r\n\r\n\tvar view = new Vector3();\r\n\tvar target = new Vector3();\r\n\tvar q = new Vector4();\r\n\r\n\tvar textureMatrix = new Matrix4();\r\n\tvar virtualCamera = new PerspectiveCamera();\r\n\r\n\tvar parameters = {\r\n\t\tminFilter: LinearFilter,\r\n\t\tmagFilter: LinearFilter,\r\n\t\tformat: RGBFormat\r\n\t};\r\n\r\n\tvar renderTarget = new WebGLRenderTarget( textureWidth, textureHeight, parameters );\r\n\r\n\tif ( ! MathUtils.isPowerOfTwo( textureWidth ) || ! MathUtils.isPowerOfTwo( textureHeight ) ) {\r\n\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t}\r\n\r\n\tvar material = new ShaderMaterial( {\r\n\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\tvertexShader: shader.vertexShader\r\n\t} );\r\n\r\n\tmaterial.uniforms[ \"tDiffuse\" ].value = renderTarget.texture;\r\n\tmaterial.uniforms[ \"color\" ].value = color;\r\n\tmaterial.uniforms[ \"textureMatrix\" ].value = textureMatrix;\r\n\r\n\tthis.material = material;\r\n\r\n\tthis.onBeforeRender = function ( renderer, scene, camera ) {\r\n\r\n\t\treflectorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\r\n\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\r\n\r\n\t\trotationMatrix.extractRotation( scope.matrixWorld );\r\n\r\n\t\tnormal.set( 0, 0, 1 );\r\n\t\tnormal.applyMatrix4( rotationMatrix );\r\n\r\n\t\tview.subVectors( reflectorWorldPosition, cameraWorldPosition );\r\n\r\n\t\t// Avoid rendering when reflector is facing away\r\n\r\n\t\tif ( view.dot( normal ) > 0 ) return;\r\n\r\n\t\tview.reflect( normal ).negate();\r\n\t\tview.add( reflectorWorldPosition );\r\n\r\n\t\trotationMatrix.extractRotation( camera.matrixWorld );\r\n\r\n\t\tlookAtPosition.set( 0, 0, - 1 );\r\n\t\tlookAtPosition.applyMatrix4( rotationMatrix );\r\n\t\tlookAtPosition.add( cameraWorldPosition );\r\n\r\n\t\ttarget.subVectors( reflectorWorldPosition, lookAtPosition );\r\n\t\ttarget.reflect( normal ).negate();\r\n\t\ttarget.add( reflectorWorldPosition );\r\n\r\n\t\tvirtualCamera.position.copy( view );\r\n\t\tvirtualCamera.up.set( 0, 1, 0 );\r\n\t\tvirtualCamera.up.applyMatrix4( rotationMatrix );\r\n\t\tvirtualCamera.up.reflect( normal );\r\n\t\tvirtualCamera.lookAt( target );\r\n\r\n\t\tvirtualCamera.far = camera.far; // Used in WebGLBackground\r\n\r\n\t\tvirtualCamera.updateMatrixWorld();\r\n\t\tvirtualCamera.projectionMatrix.copy( camera.projectionMatrix );\r\n\r\n\t\t// Update the texture matrix\r\n\t\ttextureMatrix.set(\r\n\t\t\t0.5, 0.0, 0.0, 0.5,\r\n\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t0.0, 0.0, 0.0, 1.0\r\n\t\t);\r\n\t\ttextureMatrix.multiply( virtualCamera.projectionMatrix );\r\n\t\ttextureMatrix.multiply( virtualCamera.matrixWorldInverse );\r\n\t\ttextureMatrix.multiply( scope.matrixWorld );\r\n\r\n\t\t// Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\r\n\t\t// Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\r\n\t\treflectorPlane.setFromNormalAndCoplanarPoint( normal, reflectorWorldPosition );\r\n\t\treflectorPlane.applyMatrix4( virtualCamera.matrixWorldInverse );\r\n\r\n\t\tclipPlane.set( reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant );\r\n\r\n\t\tvar projectionMatrix = virtualCamera.projectionMatrix;\r\n\r\n\t\tq.x = ( Math.sign( clipPlane.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\r\n\t\tq.y = ( Math.sign( clipPlane.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\r\n\t\tq.z = - 1.0;\r\n\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\r\n\r\n\t\t// Calculate the scaled plane vector\r\n\t\tclipPlane.multiplyScalar( 2.0 / clipPlane.dot( q ) );\r\n\r\n\t\t// Replacing the third row of the projection matrix\r\n\t\tprojectionMatrix.elements[ 2 ] = clipPlane.x;\r\n\t\tprojectionMatrix.elements[ 6 ] = clipPlane.y;\r\n\t\tprojectionMatrix.elements[ 10 ] = clipPlane.z + 1.0 - clipBias;\r\n\t\tprojectionMatrix.elements[ 14 ] = clipPlane.w;\r\n\r\n\t\t// Render\r\n\r\n\t\trenderTarget.texture.encoding = renderer.outputEncoding;\r\n\r\n\t\tscope.visible = false;\r\n\r\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\tvar currentXrEnabled = renderer.xr.enabled;\r\n\t\tvar currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\r\n\r\n\t\trenderer.xr.enabled = false; // Avoid camera modification\r\n\t\trenderer.shadowMap.autoUpdate = false; // Avoid re-computing shadows\r\n\r\n\t\trenderer.setRenderTarget( renderTarget );\r\n\r\n\t\trenderer.state.buffers.depth.setMask( true ); // make sure the depth buffer is writable so it can be properly cleared, see #18897\r\n\r\n\t\tif ( renderer.autoClear === false ) renderer.clear();\r\n\t\trenderer.render( scene, virtualCamera );\r\n\r\n\t\trenderer.xr.enabled = currentXrEnabled;\r\n\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\r\n\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t\t// Restore viewport\r\n\r\n\t\tvar viewport = camera.viewport;\r\n\r\n\t\tif ( viewport !== undefined ) {\r\n\r\n\t\t\trenderer.state.viewport( viewport );\r\n\r\n\t\t}\r\n\r\n\t\tscope.visible = true;\r\n\r\n\t};\r\n\r\n\tthis.getRenderTarget = function () {\r\n\r\n\t\treturn renderTarget;\r\n\r\n\t};\r\n\r\n};\r\n\r\nReflector.prototype = Object.create( Mesh.prototype );\r\nReflector.prototype.constructor = Reflector;\r\n\r\nReflector.ReflectorShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t'color': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'tDiffuse': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'textureMatrix': {\r\n\t\t\tvalue: null\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\t\t'uniform mat4 textureMatrix;',\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvUv = textureMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'}'\r\n\t].join( '\\n' ),\r\n\r\n\tfragmentShader: [\r\n\t\t'uniform vec3 color;',\r\n\t\t'uniform sampler2D tDiffuse;',\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'float blendOverlay( float base, float blend ) {',\r\n\r\n\t\t'\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'vec3 blendOverlay( vec3 base, vec3 blend ) {',\r\n\r\n\t\t'\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvec4 base = texture2DProj( tDiffuse, vUv );',\r\n\t\t'\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );',\r\n\r\n\t\t'}'\r\n\t].join( '\\n' )\r\n};\r\n\r\nexport { Reflector };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/objects/Reflector.js","import {\r\n\tGammaEncoding,\r\n\tLinearEncoding,\r\n\tRGBEEncoding,\r\n\tRGBM7Encoding,\r\n\tRGBM16Encoding,\r\n\tRGBDEncoding,\r\n\tsRGBEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction ColorSpaceNode( input, method ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.method = method || ColorSpaceNode.LINEAR_TO_LINEAR;\r\n\r\n}\r\n\r\nColorSpaceNode.Nodes = ( function () {\r\n\r\n\t// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\r\n\r\n\tvar LinearToLinear = new FunctionNode( [\r\n\t\t\"vec4 LinearToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn value;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar GammaToLinear = new FunctionNode( [\r\n\t\t\"vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToGamma = new FunctionNode( [\r\n\t\t\"vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar sRGBToLinear = new FunctionNode( [\r\n\t\t\"vec4 sRGBToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearTosRGB = new FunctionNode( [\r\n\t\t\"vec4 LinearTosRGB( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar RGBEToLinear = new FunctionNode( [\r\n\t\t\"vec4 RGBEToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBE = new FunctionNode( [\r\n\t\t\"vec4 LinearToRGBE( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat maxComponent = max( max( value.r, value.g ), value.b );\",\r\n\t\t\"\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\",\r\n\t\t\"\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\",\r\n\t\t//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBMToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBMToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBM = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBM( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\",\r\n\t\t\"\tM            = ceil( M * 255.0 ) / 255.0;\",\r\n\t\t\"\treturn vec4( value.rgb / ( M * maxRange ), M );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBDToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBDToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\r\n\tvar LinearToRGBD = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBD( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat D      = max( maxRange / maxRGB, 1.0 );\",\r\n\t\t\"\tD            = clamp( floor( D ) / 255.0, 0.0, 1.0 );\",\r\n\t\t\"\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\r\n\r\n\t// M matrix, for encoding\r\n\r\n\tvar cLogLuvM = new ConstNode( \"const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\" );\r\n\r\n\tvar LinearToLogLuv = new FunctionNode( [\r\n\t\t\"vec4 LinearToLogLuv( in vec4 value ) {\",\r\n\r\n\t\t\"\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\",\r\n\t\t\"\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\",\r\n\t\t\"\tvec4 vResult;\",\r\n\t\t\"\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\",\r\n\t\t\"\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\",\r\n\t\t\"\tvResult.w = fract(Le);\",\r\n\t\t\"\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\",\r\n\t\t\"\treturn vResult;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvM ] );\r\n\r\n\t// Inverse M matrix, for decoding\r\n\r\n\tvar cLogLuvInverseM = new ConstNode( \"const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\" );\r\n\r\n\tvar LogLuvToLinear = new FunctionNode( [\r\n\t\t\"vec4 LogLuvToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat Le = value.z * 255.0 + value.w;\",\r\n\t\t\"\tvec3 Xp_Y_XYZp;\",\r\n\t\t\"\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\",\r\n\t\t\"\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\",\r\n\t\t\"\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\",\r\n\t\t\"\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\",\r\n\t\t\"\treturn vec4( max(vRGB, 0.0), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvInverseM ] );\r\n\r\n\treturn {\r\n\t\tLinearToLinear: LinearToLinear,\r\n\t\tGammaToLinear: GammaToLinear,\r\n\t\tLinearToGamma: LinearToGamma,\r\n\t\tsRGBToLinear: sRGBToLinear,\r\n\t\tLinearTosRGB: LinearTosRGB,\r\n\t\tRGBEToLinear: RGBEToLinear,\r\n\t\tLinearToRGBE: LinearToRGBE,\r\n\t\tRGBMToLinear: RGBMToLinear,\r\n\t\tLinearToRGBM: LinearToRGBM,\r\n\t\tRGBDToLinear: RGBDToLinear,\r\n\t\tLinearToRGBD: LinearToRGBD,\r\n\t\tcLogLuvM: cLogLuvM,\r\n\t\tLinearToLogLuv: LinearToLogLuv,\r\n\t\tcLogLuvInverseM: cLogLuvInverseM,\r\n\t\tLogLuvToLinear: LogLuvToLinear\r\n\t};\r\n\r\n} )();\r\n\r\nColorSpaceNode.LINEAR_TO_LINEAR = 'LinearToLinear';\r\n\r\nColorSpaceNode.GAMMA_TO_LINEAR = 'GammaToLinear';\r\nColorSpaceNode.LINEAR_TO_GAMMA = 'LinearToGamma';\r\n\r\nColorSpaceNode.SRGB_TO_LINEAR = 'sRGBToLinear';\r\nColorSpaceNode.LINEAR_TO_SRGB = 'LinearTosRGB';\r\n\r\nColorSpaceNode.RGBE_TO_LINEAR = 'RGBEToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBE = 'LinearToRGBE';\r\n\r\nColorSpaceNode.RGBM_TO_LINEAR = 'RGBMToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBM = 'LinearToRGBM';\r\n\r\nColorSpaceNode.RGBD_TO_LINEAR = 'RGBDToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBD = 'LinearToRGBD';\r\n\r\nColorSpaceNode.LINEAR_TO_LOG_LUV = 'LinearToLogLuv';\r\nColorSpaceNode.LOG_LUV_TO_LINEAR = 'LogLuvToLinear';\r\n\r\nColorSpaceNode.getEncodingComponents = function ( encoding ) {\r\n\r\n\tswitch ( encoding ) {\r\n\r\n\t\tcase LinearEncoding:\r\n\t\t\treturn [ 'Linear' ];\r\n\t\tcase sRGBEncoding:\r\n\t\t\treturn [ 'sRGB' ];\r\n\t\tcase RGBEEncoding:\r\n\t\t\treturn [ 'RGBE' ];\r\n\t\tcase RGBM7Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 7.0 ).setReadonly( true ) ];\r\n\t\tcase RGBM16Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 16.0 ).setReadonly( true ) ];\r\n\t\tcase RGBDEncoding:\r\n\t\t\treturn [ 'RGBD', new FloatNode( 256.0 ).setReadonly( true ) ];\r\n\t\tcase GammaEncoding:\r\n\t\t\treturn [ 'Gamma', new ExpressionNode( 'float( GAMMA_FACTOR )', 'f' ) ];\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype = Object.create( TempNode.prototype );\r\nColorSpaceNode.prototype.constructor = ColorSpaceNode;\r\nColorSpaceNode.prototype.nodeType = \"ColorSpace\";\r\nColorSpaceNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorSpaceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar input = this.input.build( builder, 'v4' );\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tvar methodNode = ColorSpaceNode.Nodes[ this.method ];\r\n\tvar method = builder.include( methodNode );\r\n\r\n\tif ( method === ColorSpaceNode.LINEAR_TO_LINEAR ) {\r\n\r\n\t\treturn builder.format( input, outputType, output );\r\n\r\n\t} else {\r\n\r\n\t\tif ( methodNode.inputs.length === 2 ) {\r\n\r\n\t\t\tvar factor = this.factor.build( builder, 'f' );\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ', ' + factor + ' )', outputType, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ' )', outputType, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromEncoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = 'LinearTo' + components[ 0 ];\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromDecoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = components[ 0 ] + 'ToLinear';\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.input = source.input;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.input = this.input.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorSpaceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/ColorSpaceNode.js","var WEBGL = {\r\n\r\n\tisWebGLAvailable: function () {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tvar canvas = document.createElement( 'canvas' );\r\n\t\t\treturn !! ( window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ) );\r\n\r\n\t\t} catch ( e ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tisWebGL2Available: function () {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tvar canvas = document.createElement( 'canvas' );\r\n\t\t\treturn !! ( window.WebGL2RenderingContext && canvas.getContext( 'webgl2' ) );\r\n\r\n\t\t} catch ( e ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetWebGLErrorMessage: function () {\r\n\r\n\t\treturn this.getErrorMessage( 1 );\r\n\r\n\t},\r\n\r\n\tgetWebGL2ErrorMessage: function () {\r\n\r\n\t\treturn this.getErrorMessage( 2 );\r\n\r\n\t},\r\n\r\n\tgetErrorMessage: function ( version ) {\r\n\r\n\t\tvar names = {\r\n\t\t\t1: 'WebGL',\r\n\t\t\t2: 'WebGL 2'\r\n\t\t};\r\n\r\n\t\tvar contexts = {\r\n\t\t\t1: window.WebGLRenderingContext,\r\n\t\t\t2: window.WebGL2RenderingContext\r\n\t\t};\r\n\r\n\t\tvar message = 'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>';\r\n\r\n\t\tvar element = document.createElement( 'div' );\r\n\t\telement.id = 'webglmessage';\r\n\t\telement.style.fontFamily = 'monospace';\r\n\t\telement.style.fontSize = '13px';\r\n\t\telement.style.fontWeight = 'normal';\r\n\t\telement.style.textAlign = 'center';\r\n\t\telement.style.background = '#fff';\r\n\t\telement.style.color = '#000';\r\n\t\telement.style.padding = '1.5em';\r\n\t\telement.style.width = '400px';\r\n\t\telement.style.margin = '5em auto 0';\r\n\r\n\t\tif ( contexts[ version ] ) {\r\n\r\n\t\t\tmessage = message.replace( '$0', 'graphics card' );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmessage = message.replace( '$0', 'browser' );\r\n\r\n\t\t}\r\n\r\n\t\tmessage = message.replace( '$1', names[ version ] );\r\n\r\n\t\telement.innerHTML = message;\r\n\r\n\t\treturn element;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { WEBGL };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/WebGL.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = EKta\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = EuP9\n// module chunks = 0","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tTrianglesDrawMode,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar BufferGeometryUtils = {\r\n\r\n\tcomputeTangents: function ( geometry ) {\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar attributes = geometry.attributes;\r\n\r\n\t\t// based on http://www.terathon.com/code/tangent.html\r\n\t\t// (per vertex tangents)\r\n\r\n\t\tif ( index === null ||\r\n\t\t\t attributes.position === undefined ||\r\n\t\t\t attributes.normal === undefined ||\r\n\t\t\t attributes.uv === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = index.array;\r\n\t\tvar positions = attributes.position.array;\r\n\t\tvar normals = attributes.normal.array;\r\n\t\tvar uvs = attributes.uv.array;\r\n\r\n\t\tvar nVertices = positions.length / 3;\r\n\r\n\t\tif ( attributes.tangent === undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar tangents = attributes.tangent.array;\r\n\r\n\t\tvar tan1 = [], tan2 = [];\r\n\r\n\t\tfor ( var i = 0; i < nVertices; i ++ ) {\r\n\r\n\t\t\ttan1[ i ] = new Vector3();\r\n\t\t\ttan2[ i ] = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tvar vA = new Vector3(),\r\n\t\t\tvB = new Vector3(),\r\n\t\t\tvC = new Vector3(),\r\n\r\n\t\t\tuvA = new Vector2(),\r\n\t\t\tuvB = new Vector2(),\r\n\t\t\tuvC = new Vector2(),\r\n\r\n\t\t\tsdir = new Vector3(),\r\n\t\t\ttdir = new Vector3();\r\n\r\n\t\tfunction handleTriangle( a, b, c ) {\r\n\r\n\t\t\tvA.fromArray( positions, a * 3 );\r\n\t\t\tvB.fromArray( positions, b * 3 );\r\n\t\t\tvC.fromArray( positions, c * 3 );\r\n\r\n\t\t\tuvA.fromArray( uvs, a * 2 );\r\n\t\t\tuvB.fromArray( uvs, b * 2 );\r\n\t\t\tuvC.fromArray( uvs, c * 2 );\r\n\r\n\t\t\tvB.sub( vA );\r\n\t\t\tvC.sub( vA );\r\n\r\n\t\t\tuvB.sub( uvA );\r\n\t\t\tuvC.sub( uvA );\r\n\r\n\t\t\tvar r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\r\n\r\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\r\n\r\n\t\t\tif ( ! isFinite( r ) ) return;\r\n\r\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\r\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\r\n\r\n\t\t\ttan1[ a ].add( sdir );\r\n\t\t\ttan1[ b ].add( sdir );\r\n\t\t\ttan1[ c ].add( sdir );\r\n\r\n\t\t\ttan2[ a ].add( tdir );\r\n\t\t\ttan2[ b ].add( tdir );\r\n\t\t\ttan2[ c ].add( tdir );\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = geometry.groups;\r\n\r\n\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\tgroups = [ {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tcount: indices.length\r\n\t\t\t} ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleTriangle(\r\n\t\t\t\t\tindices[ j + 0 ],\r\n\t\t\t\t\tindices[ j + 1 ],\r\n\t\t\t\t\tindices[ j + 2 ]\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar tmp = new Vector3(), tmp2 = new Vector3();\r\n\t\tvar n = new Vector3(), n2 = new Vector3();\r\n\t\tvar w, t, test;\r\n\r\n\t\tfunction handleVertex( v ) {\r\n\r\n\t\t\tn.fromArray( normals, v * 3 );\r\n\t\t\tn2.copy( n );\r\n\r\n\t\t\tt = tan1[ v ];\r\n\r\n\t\t\t// Gram-Schmidt orthogonalize\r\n\r\n\t\t\ttmp.copy( t );\r\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\r\n\r\n\t\t\t// Calculate handedness\r\n\r\n\t\t\ttmp2.crossVectors( n2, t );\r\n\t\t\ttest = tmp2.dot( tan2[ v ] );\r\n\t\t\tw = ( test < 0.0 ) ? - 1.0 : 1.0;\r\n\r\n\t\t\ttangents[ v * 4 ] = tmp.x;\r\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\r\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\r\n\t\t\ttangents[ v * 4 + 3 ] = w;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleVertex( indices[ j + 0 ] );\r\n\t\t\t\thandleVertex( indices[ j + 1 ] );\r\n\t\t\t\thandleVertex( indices[ j + 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param  {Array<BufferGeometry>} geometries\r\n\t * @param  {Boolean} useGroups\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tmergeBufferGeometries: function ( geometries, useGroups ) {\r\n\r\n\t\tvar isIndexed = geometries[ 0 ].index !== null;\r\n\r\n\t\tvar attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\r\n\t\tvar morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\r\n\r\n\t\tvar attributes = {};\r\n\t\tvar morphAttributes = {};\r\n\r\n\t\tvar morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\r\n\r\n\t\tvar mergedGeometry = new BufferGeometry();\r\n\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\tvar geometry = geometries[ i ];\r\n\t\t\tvar attributesCount = 0;\r\n\r\n\t\t\t// ensure that all geometries are indexed, or none\r\n\r\n\t\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather attributes, exit early if they're different\r\n\r\n\t\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\t\tif ( ! attributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\r\n\r\n\t\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\r\n\r\n\t\t\t\tattributesCount ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// ensure geometries have the same number of attributes\r\n\r\n\t\t\tif ( attributesCount !== attributesUsed.size ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather morph attributes, exit early if they're different\r\n\r\n\t\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var name in geometry.morphAttributes ) {\r\n\r\n\t\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\r\n\r\n\t\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather .userData\r\n\r\n\t\t\tmergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || [];\r\n\t\t\tmergedGeometry.userData.mergedUserData.push( geometry.userData );\r\n\r\n\t\t\tif ( useGroups ) {\r\n\r\n\t\t\t\tvar count;\r\n\r\n\t\t\t\tif ( isIndexed ) {\r\n\r\n\t\t\t\t\tcount = geometry.index.count;\r\n\r\n\t\t\t\t} else if ( geometry.attributes.position !== undefined ) {\r\n\r\n\t\t\t\t\tcount = geometry.attributes.position.count;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.addGroup( offset, count, i );\r\n\r\n\t\t\t\toffset += count;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// merge indices\r\n\r\n\t\tif ( isIndexed ) {\r\n\r\n\t\t\tvar indexOffset = 0;\r\n\t\t\tvar mergedIndex = [];\r\n\r\n\t\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\t\tvar index = geometries[ i ].index;\r\n\r\n\t\t\t\tfor ( var j = 0; j < index.count; ++ j ) {\r\n\r\n\t\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindexOffset += geometries[ i ].attributes.position.count;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setIndex( mergedIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// merge attributes\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tvar mergedAttribute = this.mergeBufferAttributes( attributes[ name ] );\r\n\r\n\t\t\tif ( ! mergedAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setAttribute( name, mergedAttribute );\r\n\r\n\t\t}\r\n\r\n\t\t// merge morph attributes\r\n\r\n\t\tfor ( var name in morphAttributes ) {\r\n\r\n\t\t\tvar numMorphTargets = morphAttributes[ name ][ 0 ].length;\r\n\r\n\t\t\tif ( numMorphTargets === 0 ) break;\r\n\r\n\t\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\r\n\t\t\tmergedGeometry.morphAttributes[ name ] = [];\r\n\r\n\t\t\tfor ( var i = 0; i < numMorphTargets; ++ i ) {\r\n\r\n\t\t\t\tvar morphAttributesToMerge = [];\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttributes[ name ].length; ++ j ) {\r\n\r\n\t\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar mergedMorphAttribute = this.mergeBufferAttributes( morphAttributesToMerge );\r\n\r\n\t\t\t\tif ( ! mergedMorphAttribute ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn mergedGeometry;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {BufferAttribute}\r\n\t */\r\n\tmergeBufferAttributes: function ( attributes ) {\r\n\r\n\t\tvar TypedArray;\r\n\t\tvar itemSize;\r\n\t\tvar normalized;\r\n\t\tvar arrayLength = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\r\n\t\t\tif ( itemSize !== attribute.itemSize ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( normalized === undefined ) normalized = attribute.normalized;\r\n\t\t\tif ( normalized !== attribute.normalized ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\r\n\t\t}\r\n\r\n\t\tvar array = new TypedArray( arrayLength );\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tarray.set( attributes[ i ].array, offset );\r\n\r\n\t\t\toffset += attributes[ i ].array.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {Array<InterleavedBufferAttribute>}\r\n\t */\r\n\tinterleaveAttributes: function ( attributes ) {\r\n\r\n\t\t// Interleaves the provided attributes into an InterleavedBuffer and returns\r\n\t\t// a set of InterleavedBufferAttributes for each attribute\r\n\t\tvar TypedArray;\r\n\t\tvar arrayLength = 0;\r\n\t\tvar stride = 0;\r\n\r\n\t\t// calculate the the length and type of the interleavedBuffer\r\n\t\tfor ( var i = 0, l = attributes.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\t\t\tstride += attribute.itemSize;\r\n\r\n\t\t}\r\n\r\n\t\t// Create the set of buffer attributes\r\n\t\tvar interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\r\n\t\tvar offset = 0;\r\n\t\tvar res = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\t\tvar setters = [ 'setX', 'setY', 'setZ', 'setW' ];\r\n\r\n\t\tfor ( var j = 0, l = attributes.length; j < l; j ++ ) {\r\n\r\n\t\t\tvar attribute = attributes[ j ];\r\n\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\tvar count = attribute.count;\r\n\t\t\tvar iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\r\n\t\t\tres.push( iba );\r\n\r\n\t\t\toffset += itemSize;\r\n\r\n\t\t\t// Move the data for each attribute into the new interleavedBuffer\r\n\t\t\t// at the appropriate offset\r\n\t\t\tfor ( var c = 0; c < count; c ++ ) {\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferGeometry>} geometry\r\n\t * @return {number}\r\n\t */\r\n\testimateBytesUsed: function ( geometry ) {\r\n\r\n\t\t// Return the estimated memory used by this geometry in bytes\r\n\t\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\r\n\t\t// for InterleavedBufferAttributes.\r\n\t\tvar mem = 0;\r\n\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\tvar attr = geometry.getAttribute( name );\r\n\t\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\r\n\t\treturn mem;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} tolerance\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\tmergeVertices: function ( geometry, tolerance = 1e-4 ) {\r\n\r\n\t\ttolerance = Math.max( tolerance, Number.EPSILON );\r\n\r\n\t\t// Generate an index buffer if the geometry doesn't have one, or optimize it\r\n\t\t// if it's already available.\r\n\t\tvar hashToIndex = {};\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tvar positions = geometry.getAttribute( 'position' );\r\n\t\tvar vertexCount = indices ? indices.count : positions.count;\r\n\r\n\t\t// next value for triangle indices\r\n\t\tvar nextIndex = 0;\r\n\r\n\t\t// attributes and new attribute arrays\r\n\t\tvar attributeNames = Object.keys( geometry.attributes );\r\n\t\tvar attrArrays = {};\r\n\t\tvar morphAttrsArrays = {};\r\n\t\tvar newIndices = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\r\n\t\t// initialize the arrays\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\r\n\t\t\tattrArrays[ name ] = [];\r\n\r\n\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\tmorphAttrsArrays[ name ] = new Array( morphAttr.length ).fill().map( () => [] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// convert the error tolerance to an amount of decimal places to truncate to\r\n\t\tvar decimalShift = Math.log10( 1 / tolerance );\r\n\t\tvar shiftMultiplier = Math.pow( 10, decimalShift );\r\n\t\tfor ( var i = 0; i < vertexCount; i ++ ) {\r\n\r\n\t\t\tvar index = indices ? indices.getX( i ) : i;\r\n\r\n\t\t\t// Generate a hash for the vertex attributes at the current index 'i'\r\n\t\t\tvar hash = '';\r\n\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\tvar itemSize = attribute.itemSize;\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t// double tilde truncates the decimal value\r\n\t\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * shiftMultiplier ) },`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Add another reference to the vertex if it's already\r\n\t\t\t// used by another index\r\n\t\t\tif ( hash in hashToIndex ) {\r\n\r\n\t\t\t\tnewIndices.push( hashToIndex[ hash ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// copy data to the new index in the attribute arrays\r\n\t\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\t\t\tvar newarray = attrArrays[ name ];\r\n\t\t\t\t\tvar newMorphArrays = morphAttrsArrays[ name ];\r\n\r\n\t\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t\tvar getterFunc = getters[ k ];\r\n\t\t\t\t\t\tnewarray.push( attribute[ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var m = 0, ml = morphAttr.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tnewMorphArrays[ m ].push( morphAttr[ m ][ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\thashToIndex[ hash ] = nextIndex;\r\n\t\t\t\tnewIndices.push( nextIndex );\r\n\t\t\t\tnextIndex ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Generate typed arrays from new attribute arrays and update\r\n\t\t// the attributeBuffers\r\n\t\tconst result = geometry.clone();\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\t\t\tvar oldAttribute = geometry.getAttribute( name );\r\n\r\n\t\t\tvar buffer = new oldAttribute.array.constructor( attrArrays[ name ] );\r\n\t\t\tvar attribute = new BufferAttribute( buffer, oldAttribute.itemSize, oldAttribute.normalized );\r\n\r\n\t\t\tresult.setAttribute( name, attribute );\r\n\r\n\t\t\t// Update the attribute arrays\r\n\t\t\tif ( name in morphAttrsArrays ) {\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttrsArrays[ name ].length; j ++ ) {\r\n\r\n\t\t\t\t\tvar oldMorphAttribute = geometry.morphAttributes[ name ][ j ];\r\n\r\n\t\t\t\t\tvar buffer = new oldMorphAttribute.array.constructor( morphAttrsArrays[ name ][ j ] );\r\n\t\t\t\t\tvar morphAttribute = new BufferAttribute( buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized );\r\n\t\t\t\t\tresult.morphAttributes[ name ][ j ] = morphAttribute;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tresult.setIndex( newIndices );\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} drawMode\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\ttoTrianglesDrawMode: function ( geometry, drawMode ) {\r\n\r\n\t\tif ( drawMode === TrianglesDrawMode ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\r\n\r\n\t\t\tvar index = geometry.getIndex();\r\n\r\n\t\t\t// generate index if not present\r\n\r\n\t\t\tif ( index === null ) {\r\n\r\n\t\t\t\tvar indices = [];\r\n\r\n\t\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\t\treturn geometry;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tvar numberOfTriangles = index.count - 2;\r\n\t\t\tvar newIndices = [];\r\n\r\n\t\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// build final geometry\r\n\r\n\t\t\tvar newGeometry = geometry.clone();\r\n\t\t\tnewGeometry.setIndex( newIndices );\r\n\t\t\tnewGeometry.clearGroups();\r\n\r\n\t\t\treturn newGeometry;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { BufferGeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/BufferGeometryUtils.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// https://github.com/mrdoob/three.js/issues/5552\r\n// http://en.wikipedia.org/wiki/RGBE_image_format\r\n\r\nvar RGBELoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nRGBELoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: RGBELoader,\r\n\r\n\t// adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tvar\r\n\t\t\t/* return codes for rgbe routines */\r\n\t\t\t//RGBE_RETURN_SUCCESS = 0,\r\n\t\t\tRGBE_RETURN_FAILURE = - 1,\r\n\r\n\t\t\t/* default error routine.  change this to change error handling */\r\n\t\t\trgbe_read_error = 1,\r\n\t\t\trgbe_write_error = 2,\r\n\t\t\trgbe_format_error = 3,\r\n\t\t\trgbe_memory_error = 4,\r\n\t\t\trgbe_error = function ( rgbe_error_code, msg ) {\r\n\r\n\t\t\t\tswitch ( rgbe_error_code ) {\r\n\r\n\t\t\t\t\tcase rgbe_read_error: console.error( \"RGBELoader Read Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_write_error: console.error( \"RGBELoader Write Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_format_error: console.error( \"RGBELoader Bad File Format: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tcase rgbe_memory_error: console.error( \"RGBELoader: Error: \" + ( msg || '' ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn RGBE_RETURN_FAILURE;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* offsets to red, green, and blue components in a data (float) pixel */\r\n\t\t\t//RGBE_DATA_RED = 0,\r\n\t\t\t//RGBE_DATA_GREEN = 1,\r\n\t\t\t//RGBE_DATA_BLUE = 2,\r\n\r\n\t\t\t/* number of floats per pixel, use 4 since stored in rgba image format */\r\n\t\t\t//RGBE_DATA_SIZE = 4,\r\n\r\n\t\t\t/* flags indicating which fields in an rgbe_header_info are valid */\r\n\t\t\tRGBE_VALID_PROGRAMTYPE = 1,\r\n\t\t\tRGBE_VALID_FORMAT = 2,\r\n\t\t\tRGBE_VALID_DIMENSIONS = 4,\r\n\r\n\t\t\tNEWLINE = \"\\n\",\r\n\r\n\t\t\tfgets = function ( buffer, lineLimit, consume ) {\r\n\r\n\t\t\t\tlineLimit = ! lineLimit ? 1024 : lineLimit;\r\n\t\t\t\tvar p = buffer.pos,\r\n\t\t\t\t\ti = - 1, len = 0, s = '', chunkSize = 128,\r\n\t\t\t\t\tchunk = String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) )\r\n\t\t\t\t;\r\n\t\t\t\twhile ( ( 0 > ( i = chunk.indexOf( NEWLINE ) ) ) && ( len < lineLimit ) && ( p < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\ts += chunk; len += chunk.length;\r\n\t\t\t\t\tp += chunkSize;\r\n\t\t\t\t\tchunk += String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( - 1 < i ) {\r\n\r\n\t\t\t\t\t/*for (i=l-1; i>=0; i--) {\r\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\r\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\r\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\r\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\r\n\t\t\t\t\t}*/\r\n\t\t\t\t\tif ( false !== consume ) buffer.pos += len + i + 1;\r\n\t\t\t\t\treturn s + chunk.slice( 0, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* minimal header reading.  modify if you want to parse more information */\r\n\t\t\tRGBE_ReadHeader = function ( buffer ) {\r\n\r\n\t\t\t\tvar line, match,\r\n\r\n\t\t\t\t\t// regexes to parse header info fields\r\n\t\t\t\t\tmagic_token_re = /^#\\?(\\S+)$/,\r\n\t\t\t\t\tgamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\texposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\tformat_re = /^\\s*FORMAT=(\\S+)\\s*$/,\r\n\t\t\t\t\tdimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\r\n\r\n\t\t\t\t\t// RGBE format header struct\r\n\t\t\t\t\theader = {\r\n\r\n\t\t\t\t\t\tvalid: 0, /* indicate which fields are valid */\r\n\r\n\t\t\t\t\t\tstring: '', /* the actual header string */\r\n\r\n\t\t\t\t\t\tcomments: '', /* comments found in header */\r\n\r\n\t\t\t\t\t\tprogramtype: 'RGBE', /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\r\n\r\n\t\t\t\t\t\tformat: '', /* RGBE format, default 32-bit_rle_rgbe */\r\n\r\n\t\t\t\t\t\tgamma: 1.0, /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\r\n\r\n\t\t\t\t\t\texposure: 1.0, /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\r\n\r\n\t\t\t\t\t\twidth: 0, height: 0 /* image dimensions, width/height */\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tif ( buffer.pos >= buffer.byteLength || ! ( line = fgets( buffer ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_read_error, \"no header found\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* if you want to require the magic token then uncomment the next line */\r\n\t\t\t\tif ( ! ( match = line.match( magic_token_re ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad initial token\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\theader.valid |= RGBE_VALID_PROGRAMTYPE;\r\n\t\t\t\theader.programtype = match[ 1 ];\r\n\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\twhile ( true ) {\r\n\r\n\t\t\t\t\tline = fgets( buffer );\r\n\t\t\t\t\tif ( false === line ) break;\r\n\t\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\t\tif ( '#' === line.charAt( 0 ) ) {\r\n\r\n\t\t\t\t\t\theader.comments += line + \"\\n\";\r\n\t\t\t\t\t\tcontinue; // comment line\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( gamma_re ) ) {\r\n\r\n\t\t\t\t\t\theader.gamma = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( exposure_re ) ) {\r\n\r\n\t\t\t\t\t\theader.exposure = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( format_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_FORMAT;\r\n\t\t\t\t\t\theader.format = match[ 1 ];//'32-bit_rle_rgbe';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( dimensions_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_DIMENSIONS;\r\n\t\t\t\t\t\theader.height = parseInt( match[ 1 ], 10 );\r\n\t\t\t\t\t\theader.width = parseInt( match[ 2 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ( header.valid & RGBE_VALID_FORMAT ) && ( header.valid & RGBE_VALID_DIMENSIONS ) ) break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_FORMAT ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing format specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_DIMENSIONS ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing image size specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn header;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tRGBE_ReadPixels_RLE = function ( buffer, w, h ) {\r\n\r\n\t\t\t\tvar data_rgba, offset, pos, count, byteValue,\r\n\t\t\t\t\tscanline_buffer, ptr, ptr_end, i, l, off, isEncodedRun,\r\n\t\t\t\t\tscanline_width = w, num_scanlines = h, rgbeStart\r\n\t\t\t\t;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t// run length encoding is not allowed so read flat\r\n\t\t\t\t\t( ( scanline_width < 8 ) || ( scanline_width > 0x7fff ) ) ||\r\n\t\t\t\t\t// this file is not run length encoded\r\n\t\t\t\t\t( ( 2 !== buffer[ 0 ] ) || ( 2 !== buffer[ 1 ] ) || ( buffer[ 2 ] & 0x80 ) )\r\n\t\t\t\t) {\r\n\r\n\t\t\t\t\t// return the flat buffer\r\n\t\t\t\t\treturn new Uint8Array( buffer );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( scanline_width !== ( ( buffer[ 2 ] << 8 ) | buffer[ 3 ] ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"wrong scanline width\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata_rgba = new Uint8Array( 4 * w * h );\r\n\r\n\t\t\t\tif ( ! data_rgba.length ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_memory_error, \"unable to allocate buffer space\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset = 0; pos = 0; ptr_end = 4 * scanline_width;\r\n\t\t\t\trgbeStart = new Uint8Array( 4 );\r\n\t\t\t\tscanline_buffer = new Uint8Array( ptr_end );\r\n\r\n\t\t\t\t// read in each successive scanline\r\n\t\t\t\twhile ( ( num_scanlines > 0 ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\tif ( pos + 4 > buffer.byteLength ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_read_error );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trgbeStart[ 0 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 1 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 2 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 3 ] = buffer[ pos ++ ];\r\n\r\n\t\t\t\t\tif ( ( 2 != rgbeStart[ 0 ] ) || ( 2 != rgbeStart[ 1 ] ) || ( ( ( rgbeStart[ 2 ] << 8 ) | rgbeStart[ 3 ] ) != scanline_width ) ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad rgbe scanline format\" );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// read each of the four channels for the scanline into the buffer\r\n\t\t\t\t\t// first red, then green, then blue, then exponent\r\n\t\t\t\t\tptr = 0;\r\n\t\t\t\t\twhile ( ( ptr < ptr_end ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\t\tcount = buffer[ pos ++ ];\r\n\t\t\t\t\t\tisEncodedRun = count > 128;\r\n\t\t\t\t\t\tif ( isEncodedRun ) count -= 128;\r\n\r\n\t\t\t\t\t\tif ( ( 0 === count ) || ( ptr + count > ptr_end ) ) {\r\n\r\n\t\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad scanline data\" );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( isEncodedRun ) {\r\n\r\n\t\t\t\t\t\t\t// a (encoded) run of the same value\r\n\t\t\t\t\t\t\tbyteValue = buffer[ pos ++ ];\r\n\t\t\t\t\t\t\tfor ( i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tscanline_buffer[ ptr ++ ] = byteValue;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//ptr += count;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t// a literal-run\r\n\t\t\t\t\t\t\tscanline_buffer.set( buffer.subarray( pos, pos + count ), ptr );\r\n\t\t\t\t\t\t\tptr += count; pos += count;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// now convert data from buffer into rgba\r\n\t\t\t\t\t// first red, then green, then blue, then exponent (alpha)\r\n\t\t\t\t\tl = scanline_width; //scanline_buffer.byteLength;\r\n\t\t\t\t\tfor ( i = 0; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\toff = 0;\r\n\t\t\t\t\t\tdata_rgba[ offset ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 1 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 2 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 3 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toffset += 4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnum_scanlines --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data_rgba;\r\n\r\n\t\t\t};\r\n\r\n\t\tvar RGBEByteToRGBFloat = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = sourceArray[ sourceOffset + 0 ] * scale;\r\n\t\t\tdestArray[ destOffset + 1 ] = sourceArray[ sourceOffset + 1 ] * scale;\r\n\t\t\tdestArray[ destOffset + 2 ] = sourceArray[ sourceOffset + 2 ] * scale;\r\n\r\n\t\t};\r\n\r\n\t\tvar RGBEByteToRGBHalf = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 0 ] * scale );\r\n\t\t\tdestArray[ destOffset + 1 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 1 ] * scale );\r\n\t\t\tdestArray[ destOffset + 2 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 2 ] * scale );\r\n\r\n\t\t};\r\n\r\n\t\tvar byteArray = new Uint8Array( buffer );\r\n\t\tbyteArray.pos = 0;\r\n\t\tvar rgbe_header_info = RGBE_ReadHeader( byteArray );\r\n\r\n\t\tif ( RGBE_RETURN_FAILURE !== rgbe_header_info ) {\r\n\r\n\t\t\tvar w = rgbe_header_info.width,\r\n\t\t\t\th = rgbe_header_info.height,\r\n\t\t\t\timage_rgba_data = RGBE_ReadPixels_RLE( byteArray.subarray( byteArray.pos ), w, h );\r\n\r\n\t\t\tif ( RGBE_RETURN_FAILURE !== image_rgba_data ) {\r\n\r\n\t\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\t\tvar data = image_rgba_data;\r\n\t\t\t\t\t\tvar format = RGBEFormat; // handled as THREE.RGBAFormat in shaders\r\n\t\t\t\t\t\tvar type = UnsignedByteType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar floatArray = new Float32Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBFloat( image_rgba_data, j * 4, floatArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = floatArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = FloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar halfArray = new Uint16Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBHalf( image_rgba_data, j * 4, halfArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = halfArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = HalfFloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.RGBELoader: unsupported type: ', this.type );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: w, height: h,\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\theader: rgbe_header_info.string,\r\n\t\t\t\t\tgamma: rgbe_header_info.gamma,\r\n\t\t\t\t\texposure: rgbe_header_info.exposure,\r\n\t\t\t\t\tformat: format,\r\n\t\t\t\t\ttype: type\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { RGBELoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/RGBELoader.js","import {\r\n\tColor,\r\n\tLinearFilter,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tPerspectiveCamera,\r\n\tPlane,\r\n\tQuaternion,\r\n\tRGBFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector3,\r\n\tVector4,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar Refractor = function ( geometry, options ) {\r\n\r\n\tMesh.call( this, geometry );\r\n\r\n\tthis.type = 'Refractor';\r\n\r\n\tvar scope = this;\r\n\r\n\toptions = options || {};\r\n\r\n\tvar color = ( options.color !== undefined ) ? new Color( options.color ) : new Color( 0x7F7F7F );\r\n\tvar textureWidth = options.textureWidth || 512;\r\n\tvar textureHeight = options.textureHeight || 512;\r\n\tvar clipBias = options.clipBias || 0;\r\n\tvar shader = options.shader || Refractor.RefractorShader;\r\n\r\n\t//\r\n\r\n\tvar virtualCamera = new PerspectiveCamera();\r\n\tvirtualCamera.matrixAutoUpdate = false;\r\n\tvirtualCamera.userData.refractor = true;\r\n\r\n\t//\r\n\r\n\tvar refractorPlane = new Plane();\r\n\tvar textureMatrix = new Matrix4();\r\n\r\n\t// render target\r\n\r\n\tvar parameters = {\r\n\t\tminFilter: LinearFilter,\r\n\t\tmagFilter: LinearFilter,\r\n\t\tformat: RGBFormat\r\n\t};\r\n\r\n\tvar renderTarget = new WebGLRenderTarget( textureWidth, textureHeight, parameters );\r\n\r\n\tif ( ! MathUtils.isPowerOfTwo( textureWidth ) || ! MathUtils.isPowerOfTwo( textureHeight ) ) {\r\n\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t}\r\n\r\n\t// material\r\n\r\n\tthis.material = new ShaderMaterial( {\r\n\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\r\n\t\tvertexShader: shader.vertexShader,\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\ttransparent: true // ensures, refractors are drawn from farthest to closest\r\n\t} );\r\n\r\n\tthis.material.uniforms[ \"color\" ].value = color;\r\n\tthis.material.uniforms[ \"tDiffuse\" ].value = renderTarget.texture;\r\n\tthis.material.uniforms[ \"textureMatrix\" ].value = textureMatrix;\r\n\r\n\t// functions\r\n\r\n\tvar visible = ( function () {\r\n\r\n\t\tvar refractorWorldPosition = new Vector3();\r\n\t\tvar cameraWorldPosition = new Vector3();\r\n\t\tvar rotationMatrix = new Matrix4();\r\n\r\n\t\tvar view = new Vector3();\r\n\t\tvar normal = new Vector3();\r\n\r\n\t\treturn function visible( camera ) {\r\n\r\n\t\t\trefractorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\r\n\t\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\r\n\r\n\t\t\tview.subVectors( refractorWorldPosition, cameraWorldPosition );\r\n\r\n\t\t\trotationMatrix.extractRotation( scope.matrixWorld );\r\n\r\n\t\t\tnormal.set( 0, 0, 1 );\r\n\t\t\tnormal.applyMatrix4( rotationMatrix );\r\n\r\n\t\t\treturn view.dot( normal ) < 0;\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n\tvar updateRefractorPlane = ( function () {\r\n\r\n\t\tvar normal = new Vector3();\r\n\t\tvar position = new Vector3();\r\n\t\tvar quaternion = new Quaternion();\r\n\t\tvar scale = new Vector3();\r\n\r\n\t\treturn function updateRefractorPlane() {\r\n\r\n\t\t\tscope.matrixWorld.decompose( position, quaternion, scale );\r\n\t\t\tnormal.set( 0, 0, 1 ).applyQuaternion( quaternion ).normalize();\r\n\r\n\t\t\t// flip the normal because we want to cull everything above the plane\r\n\r\n\t\t\tnormal.negate();\r\n\r\n\t\t\trefractorPlane.setFromNormalAndCoplanarPoint( normal, position );\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n\tvar updateVirtualCamera = ( function () {\r\n\r\n\t\tvar clipPlane = new Plane();\r\n\t\tvar clipVector = new Vector4();\r\n\t\tvar q = new Vector4();\r\n\r\n\t\treturn function updateVirtualCamera( camera ) {\r\n\r\n\t\t\tvirtualCamera.matrixWorld.copy( camera.matrixWorld );\r\n\t\t\tvirtualCamera.matrixWorldInverse.copy( virtualCamera.matrixWorld ).invert();\r\n\t\t\tvirtualCamera.projectionMatrix.copy( camera.projectionMatrix );\r\n\t\t\tvirtualCamera.far = camera.far; // used in WebGLBackground\r\n\r\n\t\t\t// The following code creates an oblique view frustum for clipping.\r\n\t\t\t// see: Lengyel, Eric. Oblique View Frustum Depth Projection and Clipping.\r\n\t\t\t// Journal of Game Development, Vol. 1, No. 2 (2005), Charles River Media, pp. 516\r\n\r\n\t\t\tclipPlane.copy( refractorPlane );\r\n\t\t\tclipPlane.applyMatrix4( virtualCamera.matrixWorldInverse );\r\n\r\n\t\t\tclipVector.set( clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.constant );\r\n\r\n\t\t\t// calculate the clip-space corner point opposite the clipping plane and\r\n\t\t\t// transform it into camera space by multiplying it by the inverse of the projection matrix\r\n\r\n\t\t\tvar projectionMatrix = virtualCamera.projectionMatrix;\r\n\r\n\t\t\tq.x = ( Math.sign( clipVector.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\r\n\t\t\tq.y = ( Math.sign( clipVector.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\r\n\t\t\tq.z = - 1.0;\r\n\t\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\r\n\r\n\t\t\t// calculate the scaled plane vector\r\n\r\n\t\t\tclipVector.multiplyScalar( 2.0 / clipVector.dot( q ) );\r\n\r\n\t\t\t// replacing the third row of the projection matrix\r\n\r\n\t\t\tprojectionMatrix.elements[ 2 ] = clipVector.x;\r\n\t\t\tprojectionMatrix.elements[ 6 ] = clipVector.y;\r\n\t\t\tprojectionMatrix.elements[ 10 ] = clipVector.z + 1.0 - clipBias;\r\n\t\t\tprojectionMatrix.elements[ 14 ] = clipVector.w;\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n\t// This will update the texture matrix that is used for projective texture mapping in the shader.\r\n\t// see: http://developer.download.nvidia.com/assets/gamedev/docs/projective_texture_mapping.pdf\r\n\r\n\tfunction updateTextureMatrix( camera ) {\r\n\r\n\t\t// this matrix does range mapping to [ 0, 1 ]\r\n\r\n\t\ttextureMatrix.set(\r\n\t\t\t0.5, 0.0, 0.0, 0.5,\r\n\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t0.0, 0.0, 0.0, 1.0\r\n\t\t);\r\n\r\n\t\t// we use \"Object Linear Texgen\", so we need to multiply the texture matrix T\r\n\t\t// (matrix above) with the projection and view matrix of the virtual camera\r\n\t\t// and the model matrix of the refractor\r\n\r\n\t\ttextureMatrix.multiply( camera.projectionMatrix );\r\n\t\ttextureMatrix.multiply( camera.matrixWorldInverse );\r\n\t\ttextureMatrix.multiply( scope.matrixWorld );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction render( renderer, scene, camera ) {\r\n\r\n\t\tscope.visible = false;\r\n\r\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\r\n\t\tvar currentXrEnabled = renderer.xr.enabled;\r\n\t\tvar currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\r\n\r\n\t\trenderer.xr.enabled = false; // avoid camera modification\r\n\t\trenderer.shadowMap.autoUpdate = false; // avoid re-computing shadows\r\n\r\n\t\trenderer.setRenderTarget( renderTarget );\r\n\t\tif ( renderer.autoClear === false ) renderer.clear();\r\n\t\trenderer.render( scene, virtualCamera );\r\n\r\n\t\trenderer.xr.enabled = currentXrEnabled;\r\n\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t\t// restore viewport\r\n\r\n\t\tvar viewport = camera.viewport;\r\n\r\n\t\tif ( viewport !== undefined ) {\r\n\r\n\t\t\trenderer.state.viewport( viewport );\r\n\r\n\t\t}\r\n\r\n\t\tscope.visible = true;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.onBeforeRender = function ( renderer, scene, camera ) {\r\n\r\n\t\t// Render\r\n\r\n\t\trenderTarget.texture.encoding = renderer.outputEncoding;\r\n\r\n\t\t// ensure refractors are rendered only once per frame\r\n\r\n\t\tif ( camera.userData.refractor === true ) return;\r\n\r\n\t\t// avoid rendering when the refractor is viewed from behind\r\n\r\n\t\tif ( ! visible( camera ) === true ) return;\r\n\r\n\t\t// update\r\n\r\n\t\tupdateRefractorPlane();\r\n\r\n\t\tupdateTextureMatrix( camera );\r\n\r\n\t\tupdateVirtualCamera( camera );\r\n\r\n\t\trender( renderer, scene, camera );\r\n\r\n\t};\r\n\r\n\tthis.getRenderTarget = function () {\r\n\r\n\t\treturn renderTarget;\r\n\r\n\t};\r\n\r\n};\r\n\r\nRefractor.prototype = Object.create( Mesh.prototype );\r\nRefractor.prototype.constructor = Refractor;\r\n\r\nRefractor.RefractorShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t'color': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'tDiffuse': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'textureMatrix': {\r\n\t\t\tvalue: null\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t'uniform mat4 textureMatrix;',\r\n\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvUv = textureMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'}'\r\n\r\n\t].join( '\\n' ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t'uniform vec3 color;',\r\n\t\t'uniform sampler2D tDiffuse;',\r\n\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'float blendOverlay( float base, float blend ) {',\r\n\r\n\t\t'\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'vec3 blendOverlay( vec3 base, vec3 blend ) {',\r\n\r\n\t\t'\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvec4 base = texture2DProj( tDiffuse, vUv );',\r\n\r\n\t\t'\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );',\r\n\r\n\t\t'}'\r\n\r\n\t].join( '\\n' )\r\n};\r\n\r\nexport { Refractor };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/objects/Refractor.js","/**\r\n * Gamma Correction Shader\r\n * http://en.wikipedia.org/wiki/gamma_correction\r\n */\r\n\r\nvar GammaCorrectionShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 tex = texture2D( tDiffuse, vUv );\",\r\n\r\n\t\t\"\tgl_FragColor = LinearTosRGB( tex );\", // optional: LinearToGamma( tex, float( GAMMA_FACTOR ) );\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { GammaCorrectionShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/GammaCorrectionShader.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TrackballControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tvar scope = this;\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\r\n\r\n\tthis.rotateSpeed = 1.0;\r\n\tthis.zoomSpeed = 1.2;\r\n\tthis.panSpeed = 0.3;\r\n\r\n\tthis.noRotate = false;\r\n\tthis.noZoom = false;\r\n\tthis.noPan = false;\r\n\r\n\tthis.staticMoving = false;\r\n\tthis.dynamicDampingFactor = 0.2;\r\n\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\tthis.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\r\n\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.ZOOM, RIGHT: MOUSE.PAN };\r\n\r\n\t// internals\r\n\r\n\tthis.target = new Vector3();\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\tvar lastPosition = new Vector3();\r\n\tvar lastZoom = 1;\r\n\r\n\tvar _state = STATE.NONE,\r\n\t\t_keyState = STATE.NONE,\r\n\r\n\t\t_eye = new Vector3(),\r\n\r\n\t\t_movePrev = new Vector2(),\r\n\t\t_moveCurr = new Vector2(),\r\n\r\n\t\t_lastAxis = new Vector3(),\r\n\t\t_lastAngle = 0,\r\n\r\n\t\t_zoomStart = new Vector2(),\r\n\t\t_zoomEnd = new Vector2(),\r\n\r\n\t\t_touchZoomDistanceStart = 0,\r\n\t\t_touchZoomDistanceEnd = 0,\r\n\r\n\t\t_panStart = new Vector2(),\r\n\t\t_panEnd = new Vector2();\r\n\r\n\t// for reset\r\n\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.up0 = this.object.up.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t// events\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\r\n\t// methods\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tvar box = scope.domElement.getBoundingClientRect();\r\n\t\t// adjustments come from similar code in the jquery offset() function\r\n\t\tvar d = scope.domElement.ownerDocument.documentElement;\r\n\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\r\n\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\r\n\t\tscope.screen.width = box.width;\r\n\t\tscope.screen.height = box.height;\r\n\r\n\t};\r\n\r\n\tvar getMouseOnScreen = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnScreen( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\r\n\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tvar getMouseOnCircle = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnCircle( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\r\n\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.rotateCamera = ( function () {\r\n\r\n\t\tvar axis = new Vector3(),\r\n\t\t\tquaternion = new Quaternion(),\r\n\t\t\teyeDirection = new Vector3(),\r\n\t\t\tobjectUpDirection = new Vector3(),\r\n\t\t\tobjectSidewaysDirection = new Vector3(),\r\n\t\t\tmoveDirection = new Vector3(),\r\n\t\t\tangle;\r\n\r\n\t\treturn function rotateCamera() {\r\n\r\n\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\r\n\t\t\tangle = moveDirection.length();\r\n\r\n\t\t\tif ( angle ) {\r\n\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\r\n\t\t\t\teyeDirection.copy( _eye ).normalize();\r\n\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\r\n\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\r\n\r\n\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\r\n\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\r\n\r\n\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\r\n\r\n\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\r\n\r\n\t\t\t\tangle *= scope.rotateSpeed;\r\n\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t\t_lastAxis.copy( axis );\r\n\t\t\t\t_lastAngle = angle;\r\n\r\n\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\r\n\r\n\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\r\n\tthis.zoomCamera = function () {\r\n\r\n\t\tvar factor;\r\n\r\n\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\r\n\r\n\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\r\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\tscope.object.zoom *= factor;\r\n\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\r\n\r\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\r\n\r\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tscope.object.zoom /= factor;\r\n\t\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.panCamera = ( function () {\r\n\r\n\t\tvar mouseChange = new Vector2(),\r\n\t\t\tobjectUp = new Vector3(),\r\n\t\t\tpan = new Vector3();\r\n\r\n\t\treturn function panCamera() {\r\n\r\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\r\n\r\n\t\t\tif ( mouseChange.lengthSq() ) {\r\n\r\n\t\t\t\tif ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tvar scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\t\t\t\t\tvar scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\r\n\t\t\t\t\tmouseChange.x *= scale_x;\r\n\t\t\t\t\tmouseChange.y *= scale_y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\r\n\r\n\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\r\n\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\r\n\r\n\t\t\t\tscope.object.position.add( pan );\r\n\t\t\t\tscope.target.add( pan );\r\n\r\n\t\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t\t_panStart.copy( _panEnd );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.checkDistances = function () {\r\n\r\n\t\tif ( ! scope.noZoom || ! scope.noPan ) {\r\n\r\n\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tif ( ! scope.noRotate ) {\r\n\r\n\t\t\tscope.rotateCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noZoom ) {\r\n\r\n\t\t\tscope.zoomCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noPan ) {\r\n\r\n\t\t\tscope.panCamera();\r\n\r\n\t\t}\r\n\r\n\t\tscope.object.position.addVectors( scope.target, _eye );\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscope.checkDistances();\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastZoom = scope.object.zoom;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\t_state = STATE.NONE;\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.up.copy( scope.up0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tlastPosition.copy( scope.object.position );\r\n\t\tlastZoom = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\t// listeners\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keydown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown );\r\n\r\n\t\tif ( _keyState !== STATE.NONE ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\r\n\r\n\t\t\t_keyState = STATE.ROTATE;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\r\n\r\n\t\t\t_keyState = STATE.ZOOM;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\r\n\r\n\t\t\t_keyState = STATE.PAN;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keyup() {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\twindow.addEventListener( 'keydown', keydown, false );\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( _state === STATE.NONE ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase scope.mouseButtons.LEFT:\r\n\t\t\t\t\t_state = STATE.ROTATE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.MIDDLE:\r\n\t\t\t\t\t_state = STATE.ZOOM;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.RIGHT:\r\n\t\t\t\t\t_state = STATE.PAN;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t_state = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_zoomEnd.copy( _zoomStart );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_panEnd.copy( _panStart );\r\n\r\n\t\t}\r\n\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t_state = STATE.NONE;\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction mousewheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tif ( scope.noZoom === true ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.deltaMode ) {\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\t// Zoom in pages\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t// Zoom in lines\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\t// undefined, 0, assume pixels\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchstart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\t_panEnd.copy( _panStart );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchmove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction touchend( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\t_state = STATE.NONE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', mousewheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', touchstart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', touchend, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', touchmove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown, false );\r\n\t\twindow.removeEventListener( 'keyup', keyup, false );\r\n\r\n\t};\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\tthis.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tthis.domElement.addEventListener( 'wheel', mousewheel, false );\r\n\r\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\r\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\r\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\r\n\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', keydown, false );\r\n\twindow.addEventListener( 'keyup', keyup, false );\r\n\r\n\tthis.handleResize();\r\n\r\n\t// force an update at start\r\n\tthis.update();\r\n\r\n};\r\n\r\nTrackballControls.prototype = Object.create( EventDispatcher.prototype );\r\nTrackballControls.prototype.constructor = TrackballControls;\r\n\r\nexport { TrackballControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/TrackballControls.js","import {\r\n\tCubeTexture,\r\n\tDataTexture,\r\n\tFileLoader,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tLoader,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { RGBELoader } from \"../loaders/RGBELoader.js\";\r\n\r\nvar HDRCubeTextureLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.hdrLoader = new RGBELoader();\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nHDRCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: HDRCubeTextureLoader,\r\n\r\n\tload: function ( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( ! Array.isArray( urls ) ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.HDRCubeTextureLoader signature has changed. Use .setDataType() instead.' );\r\n\r\n\t\t\tthis.setDataType( urls );\r\n\r\n\t\t\turls = onLoad;\r\n\t\t\tonLoad = onProgress;\r\n\t\t\tonProgress = onError;\r\n\t\t\tonError = arguments[ 4 ];\r\n\r\n\t\t}\r\n\r\n\t\tvar texture = new CubeTexture();\r\n\r\n\t\ttexture.type = this.type;\r\n\r\n\t\tswitch ( texture.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\ttexture.format = RGBAFormat;\r\n\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loaded = 0;\r\n\r\n\t\tfunction loadHDRData( i, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tnew FileLoader( scope.manager )\r\n\t\t\t\t.setPath( scope.path )\r\n\t\t\t\t.setResponseType( 'arraybuffer' )\r\n\t\t\t\t.setWithCredentials( scope.withCredentials )\r\n\t\t\t\t.load( urls[ i ], function ( buffer ) {\r\n\r\n\t\t\t\t\tloaded ++;\r\n\r\n\t\t\t\t\tvar texData = scope.hdrLoader.parse( buffer );\r\n\r\n\t\t\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\t\t\tif ( texData.data !== undefined ) {\r\n\r\n\t\t\t\t\t\tvar dataTexture = new DataTexture( texData.data, texData.width, texData.height );\r\n\r\n\t\t\t\t\t\tdataTexture.type = texture.type;\r\n\t\t\t\t\t\tdataTexture.encoding = texture.encoding;\r\n\t\t\t\t\t\tdataTexture.format = texture.format;\r\n\t\t\t\t\t\tdataTexture.minFilter = texture.minFilter;\r\n\t\t\t\t\t\tdataTexture.magFilter = texture.magFilter;\r\n\t\t\t\t\t\tdataTexture.generateMipmaps = texture.generateMipmaps;\r\n\r\n\t\t\t\t\t\ttexture.images[ i ] = dataTexture;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < urls.length; i ++ ) {\r\n\r\n\t\t\tloadHDRData( i, onLoad, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\tthis.hdrLoader.setDataType( value );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { HDRCubeTextureLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/HDRCubeTextureLoader.js","import {\r\n\tVector2\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Convolution shader\r\n * ported from o3d sample to WebGL / GLSL\r\n * http://o3d.googlecode.com/svn/trunk/samples/convolution.html\r\n */\r\n\r\nvar ConvolutionShader = {\r\n\r\n\tdefines: {\r\n\r\n\t\t\"KERNEL_SIZE_FLOAT\": \"25.0\",\r\n\t\t\"KERNEL_SIZE_INT\": \"25\"\r\n\r\n\t},\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"uImageIncrement\": { value: new Vector2( 0.001953125, 0.0 ) },\r\n\t\t\"cKernel\": { value: [] }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"uniform vec2 uImageIncrement;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float cKernel[ KERNEL_SIZE_INT ];\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"uniform vec2 uImageIncrement;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec2 imageCoord = vUv;\",\r\n\t\t\"\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\",\r\n\r\n\t\t\"\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\",\r\n\r\n\t\t\"\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\",\r\n\t\t\"\t\timageCoord += uImageIncrement;\",\r\n\r\n\t\t\"\t}\",\r\n\r\n\t\t\"\tgl_FragColor = sum;\",\r\n\r\n\t\t\"}\"\r\n\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tbuildKernel: function ( sigma ) {\r\n\r\n\t\t// We lop off the sqrt(2 * pi) * sigma term, since we're going to normalize anyway.\r\n\r\n\t\tfunction gauss( x, sigma ) {\r\n\r\n\t\t\treturn Math.exp( - ( x * x ) / ( 2.0 * sigma * sigma ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar i, values, sum, halfWidth, kMaxKernelSize = 25, kernelSize = 2 * Math.ceil( sigma * 3.0 ) + 1;\r\n\r\n\t\tif ( kernelSize > kMaxKernelSize ) kernelSize = kMaxKernelSize;\r\n\t\thalfWidth = ( kernelSize - 1 ) * 0.5;\r\n\r\n\t\tvalues = new Array( kernelSize );\r\n\t\tsum = 0.0;\r\n\t\tfor ( i = 0; i < kernelSize; ++ i ) {\r\n\r\n\t\t\tvalues[ i ] = gauss( i - halfWidth, sigma );\r\n\t\t\tsum += values[ i ];\r\n\r\n\t\t}\r\n\r\n\t\t// normalize the kernel\r\n\r\n\t\tfor ( i = 0; i < kernelSize; ++ i ) values[ i ] /= sum;\r\n\r\n\t\treturn values;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { ConvolutionShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/ConvolutionShader.js","import {\r\n\tAdditiveBlending,\r\n\tLinearFilter,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { ConvolutionShader } from \"../shaders/ConvolutionShader.js\";\r\n\r\nvar BloomPass = function ( strength, kernelSize, sigma, resolution ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tstrength = ( strength !== undefined ) ? strength : 1;\r\n\tkernelSize = ( kernelSize !== undefined ) ? kernelSize : 25;\r\n\tsigma = ( sigma !== undefined ) ? sigma : 4.0;\r\n\tresolution = ( resolution !== undefined ) ? resolution : 256;\r\n\r\n\t// render targets\r\n\r\n\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\r\n\r\n\tthis.renderTargetX = new WebGLRenderTarget( resolution, resolution, pars );\r\n\tthis.renderTargetX.texture.name = \"BloomPass.x\";\r\n\tthis.renderTargetY = new WebGLRenderTarget( resolution, resolution, pars );\r\n\tthis.renderTargetY.texture.name = \"BloomPass.y\";\r\n\r\n\t// copy material\r\n\r\n\tif ( CopyShader === undefined )\r\n\t\tconsole.error( \"BloomPass relies on CopyShader\" );\r\n\r\n\tvar copyShader = CopyShader;\r\n\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\r\n\tthis.copyUniforms[ \"opacity\" ].value = strength;\r\n\r\n\tthis.materialCopy = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tblending: AdditiveBlending,\r\n\t\ttransparent: true\r\n\r\n\t} );\r\n\r\n\t// convolution material\r\n\r\n\tif ( ConvolutionShader === undefined )\r\n\t\tconsole.error( \"BloomPass relies on ConvolutionShader\" );\r\n\r\n\tvar convolutionShader = ConvolutionShader;\r\n\r\n\tthis.convolutionUniforms = UniformsUtils.clone( convolutionShader.uniforms );\r\n\r\n\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurX;\r\n\tthis.convolutionUniforms[ \"cKernel\" ].value = ConvolutionShader.buildKernel( sigma );\r\n\r\n\tthis.materialConvolution = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.convolutionUniforms,\r\n\t\tvertexShader: convolutionShader.vertexShader,\r\n\t\tfragmentShader: convolutionShader.fragmentShader,\r\n\t\tdefines: {\r\n\t\t\t\"KERNEL_SIZE_FLOAT\": kernelSize.toFixed( 1 ),\r\n\t\t\t\"KERNEL_SIZE_INT\": kernelSize.toFixed( 0 )\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nBloomPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: BloomPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\r\n\r\n\t\t// Render quad with blured scene into texture (convolution pass 1)\r\n\r\n\t\tthis.fsQuad.material = this.materialConvolution;\r\n\r\n\t\tthis.convolutionUniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurX;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetX );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\r\n\t\t// Render quad with blured scene into texture (convolution pass 2)\r\n\r\n\t\tthis.convolutionUniforms[ \"tDiffuse\" ].value = this.renderTargetX.texture;\r\n\t\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurY;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetY );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t// Render original scene with superimposed blur to texture\r\n\r\n\t\tthis.fsQuad.material = this.materialCopy;\r\n\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.renderTargetY.texture;\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\r\n\r\n\t\trenderer.setRenderTarget( readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nBloomPass.blurX = new Vector2( 0.001953125, 0.0 );\r\nBloomPass.blurY = new Vector2( 0.0, 0.001953125 );\r\n\r\nexport { BloomPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/BloomPass.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction FloatNode( value ) {\r\n\r\n\tInputNode.call( this, 'f' );\r\n\r\n\tthis.value = value || 0;\r\n\r\n}\r\n\r\nFloatNode.prototype = Object.create( InputNode.prototype );\r\nFloatNode.prototype.constructor = FloatNode;\r\nFloatNode.prototype.nodeType = \"Float\";\r\n\r\nFloatNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value + ( this.value % 1 ? '' : '.0' ), type, output );\r\n\r\n};\r\n\r\nFloatNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFloatNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FloatNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/FloatNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction NormalNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || NormalNode.VIEW;\r\n\r\n}\r\n\r\nNormalNode.LOCAL = 'local';\r\nNormalNode.WORLD = 'world';\r\nNormalNode.VIEW = 'view';\r\n\r\nNormalNode.prototype = Object.create( TempNode.prototype );\r\nNormalNode.prototype.constructor = NormalNode;\r\nNormalNode.prototype.nodeType = \"Normal\";\r\n\r\nNormalNode.prototype.getShared = function () {\r\n\r\n\t// if shared is false, TempNode will not create temp variable (for optimization)\r\n\r\n\treturn this.scope === NormalNode.WORLD;\r\n\r\n};\r\n\r\nNormalNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\tvar contextNormal = builder.context[ this.scope + 'Normal' ];\r\n\r\n\tif ( contextNormal ) {\r\n\r\n\t\treturn contextNormal.build( builder, output, uuid, ns );\r\n\r\n\t}\r\n\r\n\treturn TempNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nNormalNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase NormalNode.VIEW:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) result = 'transformedNormal';\r\n\t\t\telse result = 'geometryNormal';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'objectNormal';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.normal = true;\r\n\r\n\t\t\t\tresult = 'vObjectNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'inverseTransformDirection( transformedNormal, viewMatrix ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldNormal = true;\r\n\r\n\t\t\t\tresult = 'vWNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nNormalNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'viewNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.VIEW );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'localNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.NORMAL );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.WORLD );\r\n\r\n} );\r\n\r\nexport { NormalNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/NormalNode.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { Inflate } from \"../libs/inflate.module.min.js\";\r\n\r\n/**\r\n * OpenEXR loader currently supports uncompressed, ZIP(S), RLE, PIZ and DWA/B compression.\r\n * Supports reading as UnsignedByte, HalfFloat and Float type data texture.\r\n *\r\n * Referred to the original Industrial Light & Magic OpenEXR implementation and the TinyEXR / Syoyo Fujita\r\n * implementation, so I have preserved their copyright notices.\r\n */\r\n\r\n// /*\r\n// Copyright (c) 2014 - 2017, Syoyo Fujita\r\n// All rights reserved.\r\n\r\n// Redistribution and use in source and binary forms, with or without\r\n// modification, are permitted provided that the following conditions are met:\r\n//     * Redistributions of source code must retain the above copyright\r\n//       notice, this list of conditions and the following disclaimer.\r\n//     * Redistributions in binary form must reproduce the above copyright\r\n//       notice, this list of conditions and the following disclaimer in the\r\n//       documentation and/or other materials provided with the distribution.\r\n//     * Neither the name of the Syoyo Fujita nor the\r\n//       names of its contributors may be used to endorse or promote products\r\n//       derived from this software without specific prior written permission.\r\n\r\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n// DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\r\n// DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n// ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// */\r\n\r\n// // TinyEXR contains some OpenEXR code, which is licensed under ------------\r\n\r\n// ///////////////////////////////////////////////////////////////////////////\r\n// //\r\n// // Copyright (c) 2002, Industrial Light & Magic, a division of Lucas\r\n// // Digital Ltd. LLC\r\n// //\r\n// // All rights reserved.\r\n// //\r\n// // Redistribution and use in source and binary forms, with or without\r\n// // modification, are permitted provided that the following conditions are\r\n// // met:\r\n// // *       Redistributions of source code must retain the above copyright\r\n// // notice, this list of conditions and the following disclaimer.\r\n// // *       Redistributions in binary form must reproduce the above\r\n// // copyright notice, this list of conditions and the following disclaimer\r\n// // in the documentation and/or other materials provided with the\r\n// // distribution.\r\n// // *       Neither the name of Industrial Light & Magic nor the names of\r\n// // its contributors may be used to endorse or promote products derived\r\n// // from this software without specific prior written permission.\r\n// //\r\n// // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n// // \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n// // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n// // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n// // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n// // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n// // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n// // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n// // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n// // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// //\r\n// ///////////////////////////////////////////////////////////////////////////\r\n\r\n// // End of OpenEXR license -------------------------------------------------\r\n\r\nvar EXRLoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = FloatType;\r\n\r\n};\r\n\r\nEXRLoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: EXRLoader,\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tconst USHORT_RANGE = ( 1 << 16 );\r\n\t\tconst BITMAP_SIZE = ( USHORT_RANGE >> 3 );\r\n\r\n\t\tconst HUF_ENCBITS = 16; // literal (value) bit length\r\n\t\tconst HUF_DECBITS = 14; // decoding bit size (>= 8)\r\n\r\n\t\tconst HUF_ENCSIZE = ( 1 << HUF_ENCBITS ) + 1; // encoding table size\r\n\t\tconst HUF_DECSIZE = 1 << HUF_DECBITS; // decoding table size\r\n\t\tconst HUF_DECMASK = HUF_DECSIZE - 1;\r\n\r\n\t\tconst NBITS = 16;\r\n\t\tconst A_OFFSET = 1 << ( NBITS - 1 );\r\n\t\tconst MOD_MASK = ( 1 << NBITS ) - 1;\r\n\r\n\t\tconst SHORT_ZEROCODE_RUN = 59;\r\n\t\tconst LONG_ZEROCODE_RUN = 63;\r\n\t\tconst SHORTEST_LONG_RUN = 2 + LONG_ZEROCODE_RUN - SHORT_ZEROCODE_RUN;\r\n\r\n\t\tconst ULONG_SIZE = 8;\r\n\t\tconst FLOAT32_SIZE = 4;\r\n\t\tconst INT32_SIZE = 4;\r\n\t\tconst INT16_SIZE = 2;\r\n\t\tconst INT8_SIZE = 1;\r\n\r\n\t\tconst STATIC_HUFFMAN = 0;\r\n\t\tconst DEFLATE = 1;\r\n\r\n\t\tconst UNKNOWN = 0;\r\n\t\tconst LOSSY_DCT = 1;\r\n\t\tconst RLE = 2;\r\n\r\n\t\tconst logBase = Math.pow( 2.7182818, 2.2 );\r\n\r\n\t\tvar tmpDataView = new DataView( new ArrayBuffer( 8 ) );\r\n\r\n\t\tfunction frexp( value ) {\r\n\r\n\t\t\tif ( value === 0 ) return [ value, 0 ];\r\n\r\n\t\t\ttmpDataView.setFloat64( 0, value );\r\n\r\n\t\t\tvar bits = ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF;\r\n\t\t\tif ( bits === 0 ) { // denormal\r\n\r\n\t\t\t\ttmpDataView.setFloat64( 0, value * Math.pow( 2, 64 ) ); // exp + 64\r\n\t\t\t\tbits = ( ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF ) - 64;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar exponent = bits - 1022;\r\n\t\t\tvar mantissa = ldexp( value, - exponent );\r\n\r\n\t\t\treturn [ mantissa, exponent ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction ldexp( mantissa, exponent ) {\r\n\r\n\t\t\tvar steps = Math.min( 3, Math.ceil( Math.abs( exponent ) / 1023 ) );\r\n\t\t\tvar result = mantissa;\r\n\r\n\t\t\tfor ( var i = 0; i < steps; i ++ )\r\n\t\t\t\tresult *= Math.pow( 2, Math.floor( ( exponent + i ) / steps ) );\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t\tfunction reverseLutFromBitmap( bitmap, lut ) {\r\n\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < USHORT_RANGE; ++ i ) {\r\n\r\n\t\t\t\tif ( ( i == 0 ) || ( bitmap[ i >> 3 ] & ( 1 << ( i & 7 ) ) ) ) {\r\n\r\n\t\t\t\t\tlut[ k ++ ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar n = k - 1;\r\n\r\n\t\t\twhile ( k < USHORT_RANGE ) lut[ k ++ ] = 0;\r\n\r\n\t\t\treturn n;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufClearDecTable( hdec ) {\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_DECSIZE; i ++ ) {\r\n\r\n\t\t\t\thdec[ i ] = {};\r\n\t\t\t\thdec[ i ].len = 0;\r\n\t\t\t\thdec[ i ].lit = 0;\r\n\t\t\t\thdec[ i ].p = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst getBitsReturn = { l: 0, c: 0, lc: 0 };\r\n\r\n\t\tfunction getBits( nBits, c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\twhile ( lc < nBits ) {\r\n\r\n\t\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\t\tlc += 8;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlc -= nBits;\r\n\r\n\t\t\tgetBitsReturn.l = ( c >> lc ) & ( ( 1 << nBits ) - 1 );\r\n\t\t\tgetBitsReturn.c = c;\r\n\t\t\tgetBitsReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst hufTableBuffer = new Array( 59 );\r\n\r\n\t\tfunction hufCanonicalCodeTable( hcode ) {\r\n\r\n\t\t\tfor ( var i = 0; i <= 58; ++ i ) hufTableBuffer[ i ] = 0;\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) hufTableBuffer[ hcode[ i ] ] += 1;\r\n\r\n\t\t\tvar c = 0;\r\n\r\n\t\t\tfor ( var i = 58; i > 0; -- i ) {\r\n\r\n\t\t\t\tvar nc = ( ( c + hufTableBuffer[ i ] ) >> 1 );\r\n\t\t\t\thufTableBuffer[ i ] = c;\r\n\t\t\t\tc = nc;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) {\r\n\r\n\t\t\t\tvar l = hcode[ i ];\r\n\t\t\t\tif ( l > 0 ) hcode[ i ] = l | ( hufTableBuffer[ l ] ++ << 6 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, hcode ) {\r\n\r\n\t\t\tvar p = inOffset;\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tif ( p.value - inOffset.value > ni ) return false;\r\n\r\n\t\t\t\tgetBits( 6, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\tvar l = getBitsReturn.l;\r\n\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\thcode[ im ] = l;\r\n\r\n\t\t\t\tif ( l == LONG_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tif ( p.value - inOffset.value > ni ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgetBits( 8, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\t\tvar zerun = getBitsReturn.l + SHORTEST_LONG_RUN;\r\n\t\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t} else if ( l >= SHORT_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tvar zerun = l - SHORT_ZEROCODE_RUN + 2;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufCanonicalCodeTable( hcode );\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufLength( code ) {\r\n\r\n\t\t\treturn code & 63;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufCode( code ) {\r\n\r\n\t\t\treturn code >> 6;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufBuildDecTable( hcode, im, iM, hdecod ) {\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tvar c = hufCode( hcode[ im ] );\r\n\t\t\t\tvar l = hufLength( hcode[ im ] );\r\n\r\n\t\t\t\tif ( c >> l ) {\r\n\r\n\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( l > HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar pl = hdecod[ ( c >> ( l - HUF_DECBITS ) ) ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.lit ++;\r\n\r\n\t\t\t\t\tif ( pl.p ) {\r\n\r\n\t\t\t\t\t\tvar p = pl.p;\r\n\t\t\t\t\t\tpl.p = new Array( pl.lit );\r\n\r\n\t\t\t\t\t\tfor ( var i = 0; i < pl.lit - 1; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpl.p[ i ] = p[ i ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tpl.p = new Array( 1 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.p[ pl.lit - 1 ] = im;\r\n\r\n\t\t\t\t} else if ( l ) {\r\n\r\n\t\t\t\t\tvar plOffset = 0;\r\n\r\n\t\t\t\t\tfor ( var i = 1 << ( HUF_DECBITS - l ); i > 0; i -- ) {\r\n\r\n\t\t\t\t\t\tvar pl = hdecod[ ( c << ( HUF_DECBITS - l ) ) + plOffset ];\r\n\r\n\t\t\t\t\t\tif ( pl.len || pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpl.len = l;\r\n\t\t\t\t\t\tpl.lit = im;\r\n\r\n\t\t\t\t\t\tplOffset ++;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCharReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getChar( c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\tlc += 8;\r\n\r\n\t\t\tgetCharReturn.c = c;\r\n\t\t\tgetCharReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCodeReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getCode( po, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outBufferOffset, outBufferEndOffset ) {\r\n\r\n\t\t\tif ( po == rlc ) {\r\n\r\n\t\t\t\tif ( lc < 8 ) {\r\n\r\n\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlc -= 8;\r\n\r\n\t\t\t\tvar cs = ( c >> lc );\r\n\t\t\t\tvar cs = new Uint8Array( [ cs ] )[ 0 ];\r\n\r\n\t\t\t\tif ( outBufferOffset.value + cs > outBufferEndOffset ) {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar s = outBuffer[ outBufferOffset.value - 1 ];\r\n\r\n\t\t\t\twhile ( cs -- > 0 ) {\r\n\r\n\t\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( outBufferOffset.value < outBufferEndOffset ) {\r\n\r\n\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = po;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgetCodeReturn.c = c;\r\n\t\t\tgetCodeReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tfunction UInt16( value ) {\r\n\r\n\t\t\treturn ( value & 0xFFFF );\r\n\r\n\t\t}\r\n\r\n\t\tfunction Int16( value ) {\r\n\r\n\t\t\tvar ref = UInt16( value );\r\n\t\t\treturn ( ref > 0x7FFF ) ? ref - 0x10000 : ref;\r\n\r\n\t\t}\r\n\r\n\t\tconst wdec14Return = { a: 0, b: 0 };\r\n\r\n\t\tfunction wdec14( l, h ) {\r\n\r\n\t\t\tvar ls = Int16( l );\r\n\t\t\tvar hs = Int16( h );\r\n\r\n\t\t\tvar hi = hs;\r\n\t\t\tvar ai = ls + ( hi & 1 ) + ( hi >> 1 );\r\n\r\n\t\t\tvar as = ai;\r\n\t\t\tvar bs = ai - hi;\r\n\r\n\t\t\twdec14Return.a = as;\r\n\t\t\twdec14Return.b = bs;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wdec16( l, h ) {\r\n\r\n\t\t\tvar m = UInt16( l );\r\n\t\t\tvar d = UInt16( h );\r\n\r\n\t\t\tvar bb = ( m - ( d >> 1 ) ) & MOD_MASK;\r\n\t\t\tvar aa = ( d + bb - A_OFFSET ) & MOD_MASK;\r\n\r\n\t\t\twdec14Return.a = aa;\r\n\t\t\twdec14Return.b = bb;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wav2Decode( buffer, j, nx, ox, ny, oy, mx ) {\r\n\r\n\t\t\tvar w14 = mx < ( 1 << 14 );\r\n\t\t\tvar n = ( nx > ny ) ? ny : nx;\r\n\t\t\tvar p = 1;\r\n\t\t\tvar p2;\r\n\r\n\t\t\twhile ( p <= n ) p <<= 1;\r\n\r\n\t\t\tp >>= 1;\r\n\t\t\tp2 = p;\r\n\t\t\tp >>= 1;\r\n\r\n\t\t\twhile ( p >= 1 ) {\r\n\r\n\t\t\t\tvar py = 0;\r\n\t\t\t\tvar ey = py + oy * ( ny - p2 );\r\n\t\t\t\tvar oy1 = oy * p;\r\n\t\t\t\tvar oy2 = oy * p2;\r\n\t\t\t\tvar ox1 = ox * p;\r\n\t\t\t\tvar ox2 = ox * p2;\r\n\t\t\t\tvar i00, i01, i10, i11;\r\n\r\n\t\t\t\tfor ( ; py <= ey; py += oy2 ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\t\t\t\t\t\tvar p11 = p10 + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 ) {\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( nx & p ) {\r\n\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ny & p ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p01 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p01 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tp2 = p;\r\n\t\t\t\tp >>= 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn py;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufDecode( encodingTable, decodingTable, uInt8Array, inDataView, inOffset, ni, rlc, no, outBuffer, outOffset ) {\r\n\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\t\t\tvar outBufferEndOffset = no;\r\n\t\t\tvar inOffsetEnd = Math.trunc( inOffset.value + ( ni + 7 ) / 8 );\r\n\r\n\t\t\twhile ( inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\twhile ( lc >= HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar index = ( c >> ( lc - HUF_DECBITS ) ) & HUF_DECMASK;\r\n\t\t\t\t\tvar pl = decodingTable[ index ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( ! pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar j;\r\n\r\n\t\t\t\t\t\tfor ( j = 0; j < pl.lit; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar l = hufLength( encodingTable[ pl.p[ j ] ] );\r\n\r\n\t\t\t\t\t\t\twhile ( lc < l && inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( lc >= l ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( hufCode( encodingTable[ pl.p[ j ] ] ) == ( ( c >> ( lc - l ) ) & ( ( 1 << l ) - 1 ) ) ) {\r\n\r\n\t\t\t\t\t\t\t\t\tlc -= l;\r\n\r\n\t\t\t\t\t\t\t\t\tgetCode( pl.p[ j ], rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( j == pl.lit ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar i = ( 8 - ni ) & 7;\r\n\r\n\t\t\tc >>= i;\r\n\t\t\tlc -= i;\r\n\r\n\t\t\twhile ( lc > 0 ) {\r\n\r\n\t\t\t\tvar pl = decodingTable[ ( c << ( HUF_DECBITS - lc ) ) & HUF_DECMASK ];\r\n\r\n\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUncompress( uInt8Array, inDataView, inOffset, nCompressed, outBuffer, nRaw ) {\r\n\r\n\t\t\tvar outOffset = { value: 0 };\r\n\t\t\tvar initialInOffset = inOffset.value;\r\n\r\n\t\t\tvar im = parseUint32( inDataView, inOffset );\r\n\t\t\tvar iM = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tvar nBits = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tif ( im < 0 || im >= HUF_ENCSIZE || iM < 0 || iM >= HUF_ENCSIZE ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with HUF_ENCSIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar freq = new Array( HUF_ENCSIZE );\r\n\t\t\tvar hdec = new Array( HUF_DECSIZE );\r\n\r\n\t\t\thufClearDecTable( hdec );\r\n\r\n\t\t\tvar ni = nCompressed - ( inOffset.value - initialInOffset );\r\n\r\n\t\t\thufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, freq );\r\n\r\n\t\t\tif ( nBits > 8 * ( nCompressed - ( inOffset.value - initialInOffset ) ) ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with hufUncompress';\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufBuildDecTable( freq, im, iM, hdec );\r\n\r\n\t\t\thufDecode( freq, hdec, uInt8Array, inDataView, inOffset, nBits, iM, nRaw, outBuffer, outOffset );\r\n\r\n\t\t}\r\n\r\n\t\tfunction applyLut( lut, data, nData ) {\r\n\r\n\t\t\tfor ( var i = 0; i < nData; ++ i ) {\r\n\r\n\t\t\t\tdata[ i ] = lut[ data[ i ] ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction predictor( source ) {\r\n\r\n\t\t\tfor ( var t = 1; t < source.length; t ++ ) {\r\n\r\n\t\t\t\tvar d = source[ t - 1 ] + source[ t ] - 128;\r\n\t\t\t\tsource[ t ] = d;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction interleaveScalar( source, out ) {\r\n\r\n\t\t\tvar t1 = 0;\r\n\t\t\tvar t2 = Math.floor( ( source.length + 1 ) / 2 );\r\n\t\t\tvar s = 0;\r\n\t\t\tvar stop = source.length - 1;\r\n\r\n\t\t\twhile ( true ) {\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t1 ++ ];\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t2 ++ ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeRunLength( source ) {\r\n\r\n\t\t\tvar size = source.byteLength;\r\n\t\t\tvar out = new Array();\r\n\t\t\tvar p = 0;\r\n\r\n\t\t\tvar reader = new DataView( source );\r\n\r\n\t\t\twhile ( size > 0 ) {\r\n\r\n\t\t\t\tvar l = reader.getInt8( p ++ );\r\n\r\n\t\t\t\tif ( l < 0 ) {\r\n\r\n\t\t\t\t\tvar count = - l;\r\n\t\t\t\t\tsize -= count + 1;\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( reader.getUint8( p ++ ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar count = l;\r\n\t\t\t\t\tsize -= 2;\r\n\r\n\t\t\t\t\tvar value = reader.getUint8( p ++ );\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count + 1; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( value );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn out;\r\n\r\n\t\t}\r\n\r\n\t\tfunction lossyDctDecode( cscSet, rowPtrs, channelData, acBuffer, dcBuffer, outBuffer ) {\r\n\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\tvar width = channelData[ cscSet.idx[ 0 ] ].width;\r\n\t\t\tvar height = channelData[ cscSet.idx[ 0 ] ].height;\r\n\r\n\t\t\tvar numComp = 3;\r\n\r\n\t\t\tvar numFullBlocksX = Math.floor( width / 8.0 );\r\n\t\t\tvar numBlocksX = Math.ceil( width / 8.0 );\r\n\t\t\tvar numBlocksY = Math.ceil( height / 8.0 );\r\n\t\t\tvar leftoverX = width - ( numBlocksX - 1 ) * 8;\r\n\t\t\tvar leftoverY = height - ( numBlocksY - 1 ) * 8;\r\n\r\n\t\t\tvar currAcComp = { value: 0 };\r\n\t\t\tvar currDcComp = new Array( numComp );\r\n\t\t\tvar dctData = new Array( numComp );\r\n\t\t\tvar halfZigBlock = new Array( numComp );\r\n\t\t\tvar rowBlock = new Array( numComp );\r\n\t\t\tvar rowOffsets = new Array( numComp );\r\n\r\n\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\trowOffsets[ comp ] = rowPtrs[ cscSet.idx[ comp ] ];\r\n\t\t\t\tcurrDcComp[ comp ] = ( comp < 1 ) ? 0 : currDcComp[ comp - 1 ] + numBlocksX * numBlocksY;\r\n\t\t\t\tdctData[ comp ] = new Float32Array( 64 );\r\n\t\t\t\thalfZigBlock[ comp ] = new Uint16Array( 64 );\r\n\t\t\t\trowBlock[ comp ] = new Uint16Array( numBlocksX * 64 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let blocky = 0; blocky < numBlocksY; ++ blocky ) {\r\n\r\n\t\t\t\tvar maxY = 8;\r\n\r\n\t\t\t\tif ( blocky == numBlocksY - 1 )\r\n\t\t\t\t\tmaxY = leftoverY;\r\n\r\n\t\t\t\tvar maxX = 8;\r\n\r\n\t\t\t\tfor ( let blockx = 0; blockx < numBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\tif ( blockx == numBlocksX - 1 )\r\n\t\t\t\t\t\tmaxX = leftoverX;\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\thalfZigBlock[ comp ].fill( 0 );\r\n\r\n\t\t\t\t\t\t// set block DC component\r\n\t\t\t\t\t\thalfZigBlock[ comp ][ 0 ] = dcBuffer[ currDcComp[ comp ] ++ ];\r\n\t\t\t\t\t\t// set block AC components\r\n\t\t\t\t\t\tunRleAC( currAcComp, acBuffer, halfZigBlock[ comp ] );\r\n\r\n\t\t\t\t\t\t// UnZigZag block to float\r\n\t\t\t\t\t\tunZigZag( halfZigBlock[ comp ], dctData[ comp ] );\r\n\t\t\t\t\t\t// decode float dct\r\n\t\t\t\t\t\tdctInverse( dctData[ comp ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( numComp == 3 ) {\r\n\r\n\t\t\t\t\t\tcsc709Inverse( dctData );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\tconvertToHalf( dctData[ comp ], rowBlock[ comp ], blockx * 64 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // blockx\r\n\r\n\t\t\t\tlet offset = 0;\r\n\r\n\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\tconst type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\toffset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\t\tfor ( let blockx = 0; blockx < numFullBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\t\t\tconst src = blockx * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 0 * INT16_SIZE * type, rowBlock[ comp ][ src + 0 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 1 * INT16_SIZE * type, rowBlock[ comp ][ src + 1 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 2 * INT16_SIZE * type, rowBlock[ comp ][ src + 2 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 3 * INT16_SIZE * type, rowBlock[ comp ][ src + 3 ], true );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 4 * INT16_SIZE * type, rowBlock[ comp ][ src + 4 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 5 * INT16_SIZE * type, rowBlock[ comp ][ src + 5 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 6 * INT16_SIZE * type, rowBlock[ comp ][ src + 6 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 7 * INT16_SIZE * type, rowBlock[ comp ][ src + 7 ], true );\r\n\r\n\t\t\t\t\t\t\toffset += 8 * INT16_SIZE * type;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// handle partial X blocks\r\n\t\t\t\t\tif ( numFullBlocksX != numBlocksX ) {\r\n\r\n\t\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ] + 8 * numFullBlocksX * INT16_SIZE * type;\r\n\t\t\t\t\t\t\tconst src = numFullBlocksX * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tfor ( let x = 0; x < maxX; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tdataView.setUint16( offset + x * INT16_SIZE * type, rowBlock[ comp ][ src + x ], true );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // comp\r\n\r\n\t\t\t} // blocky\r\n\r\n\t\t\tvar halfRow = new Uint16Array( width );\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\t// convert channels back to float, if needed\r\n\t\t\tfor ( var comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\tchannelData[ cscSet.idx[ comp ] ].decoded = true;\r\n\t\t\t\tvar type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\tif ( channelData[ comp ].type != 2 ) continue;\r\n\r\n\t\t\t\tfor ( var y = 0; y < height; ++ y ) {\r\n\r\n\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\thalfRow[ x ] = dataView.getUint16( offset + x * INT16_SIZE * type, true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\tdataView.setFloat32( offset + x * INT16_SIZE * type, decodeFloat16( halfRow[ x ] ), true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unRleAC( currAcComp, acBuffer, halfZigBlock ) {\r\n\r\n\t\t\tvar acValue;\r\n\t\t\tvar dctComp = 1;\r\n\r\n\t\t\twhile ( dctComp < 64 ) {\r\n\r\n\t\t\t\tacValue = acBuffer[ currAcComp.value ];\r\n\r\n\t\t\t\tif ( acValue == 0xff00 ) {\r\n\r\n\t\t\t\t\tdctComp = 64;\r\n\r\n\t\t\t\t} else if ( acValue >> 8 == 0xff ) {\r\n\r\n\t\t\t\t\tdctComp += acValue & 0xff;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\thalfZigBlock[ dctComp ] = acValue;\r\n\t\t\t\t\tdctComp ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrAcComp.value ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unZigZag( src, dst ) {\r\n\r\n\t\t\tdst[ 0 ] = decodeFloat16( src[ 0 ] );\r\n\t\t\tdst[ 1 ] = decodeFloat16( src[ 1 ] );\r\n\t\t\tdst[ 2 ] = decodeFloat16( src[ 5 ] );\r\n\t\t\tdst[ 3 ] = decodeFloat16( src[ 6 ] );\r\n\t\t\tdst[ 4 ] = decodeFloat16( src[ 14 ] );\r\n\t\t\tdst[ 5 ] = decodeFloat16( src[ 15 ] );\r\n\t\t\tdst[ 6 ] = decodeFloat16( src[ 27 ] );\r\n\t\t\tdst[ 7 ] = decodeFloat16( src[ 28 ] );\r\n\t\t\tdst[ 8 ] = decodeFloat16( src[ 2 ] );\r\n\t\t\tdst[ 9 ] = decodeFloat16( src[ 4 ] );\r\n\r\n\t\t\tdst[ 10 ] = decodeFloat16( src[ 7 ] );\r\n\t\t\tdst[ 11 ] = decodeFloat16( src[ 13 ] );\r\n\t\t\tdst[ 12 ] = decodeFloat16( src[ 16 ] );\r\n\t\t\tdst[ 13 ] = decodeFloat16( src[ 26 ] );\r\n\t\t\tdst[ 14 ] = decodeFloat16( src[ 29 ] );\r\n\t\t\tdst[ 15 ] = decodeFloat16( src[ 42 ] );\r\n\t\t\tdst[ 16 ] = decodeFloat16( src[ 3 ] );\r\n\t\t\tdst[ 17 ] = decodeFloat16( src[ 8 ] );\r\n\t\t\tdst[ 18 ] = decodeFloat16( src[ 12 ] );\r\n\t\t\tdst[ 19 ] = decodeFloat16( src[ 17 ] );\r\n\r\n\t\t\tdst[ 20 ] = decodeFloat16( src[ 25 ] );\r\n\t\t\tdst[ 21 ] = decodeFloat16( src[ 30 ] );\r\n\t\t\tdst[ 22 ] = decodeFloat16( src[ 41 ] );\r\n\t\t\tdst[ 23 ] = decodeFloat16( src[ 43 ] );\r\n\t\t\tdst[ 24 ] = decodeFloat16( src[ 9 ] );\r\n\t\t\tdst[ 25 ] = decodeFloat16( src[ 11 ] );\r\n\t\t\tdst[ 26 ] = decodeFloat16( src[ 18 ] );\r\n\t\t\tdst[ 27 ] = decodeFloat16( src[ 24 ] );\r\n\t\t\tdst[ 28 ] = decodeFloat16( src[ 31 ] );\r\n\t\t\tdst[ 29 ] = decodeFloat16( src[ 40 ] );\r\n\r\n\t\t\tdst[ 30 ] = decodeFloat16( src[ 44 ] );\r\n\t\t\tdst[ 31 ] = decodeFloat16( src[ 53 ] );\r\n\t\t\tdst[ 32 ] = decodeFloat16( src[ 10 ] );\r\n\t\t\tdst[ 33 ] = decodeFloat16( src[ 19 ] );\r\n\t\t\tdst[ 34 ] = decodeFloat16( src[ 23 ] );\r\n\t\t\tdst[ 35 ] = decodeFloat16( src[ 32 ] );\r\n\t\t\tdst[ 36 ] = decodeFloat16( src[ 39 ] );\r\n\t\t\tdst[ 37 ] = decodeFloat16( src[ 45 ] );\r\n\t\t\tdst[ 38 ] = decodeFloat16( src[ 52 ] );\r\n\t\t\tdst[ 39 ] = decodeFloat16( src[ 54 ] );\r\n\r\n\t\t\tdst[ 40 ] = decodeFloat16( src[ 20 ] );\r\n\t\t\tdst[ 41 ] = decodeFloat16( src[ 22 ] );\r\n\t\t\tdst[ 42 ] = decodeFloat16( src[ 33 ] );\r\n\t\t\tdst[ 43 ] = decodeFloat16( src[ 38 ] );\r\n\t\t\tdst[ 44 ] = decodeFloat16( src[ 46 ] );\r\n\t\t\tdst[ 45 ] = decodeFloat16( src[ 51 ] );\r\n\t\t\tdst[ 46 ] = decodeFloat16( src[ 55 ] );\r\n\t\t\tdst[ 47 ] = decodeFloat16( src[ 60 ] );\r\n\t\t\tdst[ 48 ] = decodeFloat16( src[ 21 ] );\r\n\t\t\tdst[ 49 ] = decodeFloat16( src[ 34 ] );\r\n\r\n\t\t\tdst[ 50 ] = decodeFloat16( src[ 37 ] );\r\n\t\t\tdst[ 51 ] = decodeFloat16( src[ 47 ] );\r\n\t\t\tdst[ 52 ] = decodeFloat16( src[ 50 ] );\r\n\t\t\tdst[ 53 ] = decodeFloat16( src[ 56 ] );\r\n\t\t\tdst[ 54 ] = decodeFloat16( src[ 59 ] );\r\n\t\t\tdst[ 55 ] = decodeFloat16( src[ 61 ] );\r\n\t\t\tdst[ 56 ] = decodeFloat16( src[ 35 ] );\r\n\t\t\tdst[ 57 ] = decodeFloat16( src[ 36 ] );\r\n\t\t\tdst[ 58 ] = decodeFloat16( src[ 48 ] );\r\n\t\t\tdst[ 59 ] = decodeFloat16( src[ 49 ] );\r\n\r\n\t\t\tdst[ 60 ] = decodeFloat16( src[ 57 ] );\r\n\t\t\tdst[ 61 ] = decodeFloat16( src[ 58 ] );\r\n\t\t\tdst[ 62 ] = decodeFloat16( src[ 62 ] );\r\n\t\t\tdst[ 63 ] = decodeFloat16( src[ 63 ] );\r\n\r\n\t\t}\r\n\r\n\t\tfunction dctInverse( data ) {\r\n\r\n\t\t\tconst a = 0.5 * Math.cos( 3.14159 / 4.0 );\r\n\t\t\tconst b = 0.5 * Math.cos( 3.14159 / 16.0 );\r\n\t\t\tconst c = 0.5 * Math.cos( 3.14159 / 8.0 );\r\n\t\t\tconst d = 0.5 * Math.cos( 3.0 * 3.14159 / 16.0 );\r\n\t\t\tconst e = 0.5 * Math.cos( 5.0 * 3.14159 / 16.0 );\r\n\t\t\tconst f = 0.5 * Math.cos( 3.0 * 3.14159 / 8.0 );\r\n\t\t\tconst g = 0.5 * Math.cos( 7.0 * 3.14159 / 16.0 );\r\n\r\n\t\t\tvar alpha = new Array( 4 );\r\n\t\t\tvar beta = new Array( 4 );\r\n\t\t\tvar theta = new Array( 4 );\r\n\t\t\tvar gamma = new Array( 4 );\r\n\r\n\t\t\tfor ( var row = 0; row < 8; ++ row ) {\r\n\r\n\t\t\t\tvar rowPtr = row * 8;\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 1 ] = f * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 2 ] = c * data[ rowPtr + 6 ];\r\n\t\t\t\talpha[ 3 ] = f * data[ rowPtr + 6 ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ rowPtr + 1 ] + d * data[ rowPtr + 3 ] + e * data[ rowPtr + 5 ] + g * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ rowPtr + 1 ] - g * data[ rowPtr + 3 ] - b * data[ rowPtr + 5 ] - e * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ rowPtr + 1 ] - b * data[ rowPtr + 3 ] + g * data[ rowPtr + 5 ] + d * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ rowPtr + 1 ] - e * data[ rowPtr + 3 ] + d * data[ rowPtr + 5 ] - b * data[ rowPtr + 7 ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ rowPtr + 0 ] + data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ rowPtr + 0 ] - data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 0 ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ rowPtr + 1 ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 2 ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 3 ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 4 ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ rowPtr + 5 ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 6 ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 7 ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var column = 0; column < 8; ++ column ) {\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ 16 + column ];\r\n\t\t\t\talpha[ 1 ] = f * data[ 16 + column ];\r\n\t\t\t\talpha[ 2 ] = c * data[ 48 + column ];\r\n\t\t\t\talpha[ 3 ] = f * data[ 48 + column ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ 8 + column ] + d * data[ 24 + column ] + e * data[ 40 + column ] + g * data[ 56 + column ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ 8 + column ] - g * data[ 24 + column ] - b * data[ 40 + column ] - e * data[ 56 + column ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ 8 + column ] - b * data[ 24 + column ] + g * data[ 40 + column ] + d * data[ 56 + column ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ 8 + column ] - e * data[ 24 + column ] + d * data[ 40 + column ] - b * data[ 56 + column ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ column ] + data[ 32 + column ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ column ] - data[ 32 + column ] );\r\n\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ 0 + column ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ 8 + column ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ 16 + column ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ 24 + column ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ 32 + column ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ 40 + column ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ 48 + column ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ 56 + column ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction csc709Inverse( data ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tvar y = data[ 0 ][ i ];\r\n\t\t\t\tvar cb = data[ 1 ][ i ];\r\n\t\t\t\tvar cr = data[ 2 ][ i ];\r\n\r\n\t\t\t\tdata[ 0 ][ i ] = y + 1.5747 * cr;\r\n\t\t\t\tdata[ 1 ][ i ] = y - 0.1873 * cb - 0.4682 * cr;\r\n\t\t\t\tdata[ 2 ][ i ] = y + 1.8556 * cb;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction convertToHalf( src, dst, idx ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tdst[ idx + i ] = DataUtils.toHalfFloat( toLinear( src[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction toLinear( float ) {\r\n\r\n\t\t\tif ( float <= 1 ) {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( Math.abs( float ), 2.2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( logBase, Math.abs( float ) - 1.0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRAW( info ) {\r\n\r\n\t\t\treturn new DataView( info.array.buffer, info.offset.value, info.size );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRLE( info ) {\r\n\r\n\t\t\tvar compressed = info.viewer.buffer.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( decodeRunLength( compressed ) );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressZIP( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPIZ( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\r\n\t\t\tvar tmpBufSize = info.width * scanlineBlockSize * ( EXRHeader.channels.length * info.type );\r\n\t\t\tvar outBuffer = new Uint16Array( tmpBufSize );\r\n\t\t\tvar bitmap = new Uint8Array( BITMAP_SIZE );\r\n\r\n\t\t\t// Setup channel info\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar pizChannelData = new Array( info.channels );\r\n\t\t\tfor ( var i = 0; i < info.channels; i ++ ) {\r\n\r\n\t\t\t\tpizChannelData[ i ] = {};\r\n\t\t\t\tpizChannelData[ i ][ 'start' ] = outBufferEnd;\r\n\t\t\t\tpizChannelData[ i ][ 'end' ] = pizChannelData[ i ][ 'start' ];\r\n\t\t\t\tpizChannelData[ i ][ 'nx' ] = info.width;\r\n\t\t\t\tpizChannelData[ i ][ 'ny' ] = info.lines;\r\n\t\t\t\tpizChannelData[ i ][ 'size' ] = info.type;\r\n\r\n\t\t\t\toutBufferEnd += pizChannelData[ i ].nx * pizChannelData[ i ].ny * pizChannelData[ i ].size;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read range compression data\r\n\t\t\tvar minNonZero = parseUint16( inDataView, inOffset );\r\n\t\t\tvar maxNonZero = parseUint16( inDataView, inOffset );\r\n\r\n\t\t\tif ( maxNonZero >= BITMAP_SIZE ) {\r\n\r\n\t\t\t\tthrow 'Something is wrong with PIZ_COMPRESSION BITMAP_SIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( minNonZero <= maxNonZero ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < maxNonZero - minNonZero + 1; i ++ ) {\r\n\r\n\t\t\t\t\tbitmap[ i + minNonZero ] = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Reverse LUT\r\n\t\t\tvar lut = new Uint16Array( USHORT_RANGE );\r\n\t\t\tvar maxValue = reverseLutFromBitmap( bitmap, lut );\r\n\r\n\t\t\tvar length = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\t// Huffman decoding\r\n\t\t\thufUncompress( info.array, inDataView, inOffset, length, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Wavelet decoding\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = pizChannelData[ i ];\r\n\r\n\t\t\t\tfor ( var j = 0; j < pizChannelData[ i ].size; ++ j ) {\r\n\r\n\t\t\t\t\twav2Decode(\r\n\t\t\t\t\t\toutBuffer,\r\n\t\t\t\t\t\tcd.start + j,\r\n\t\t\t\t\t\tcd.nx,\r\n\t\t\t\t\t\tcd.size,\r\n\t\t\t\t\t\tcd.ny,\r\n\t\t\t\t\t\tcd.nx * cd.size,\r\n\t\t\t\t\t\tmaxValue\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Expand the pixel data to their original range\r\n\t\t\tapplyLut( lut, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Rearrange the pixel data into the format expected by the caller.\r\n\t\t\tvar tmpOffset = 0;\r\n\t\t\tvar tmpBuffer = new Uint8Array( outBuffer.buffer.byteLength );\r\n\t\t\tfor ( var y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( var c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tvar cd = pizChannelData[ c ];\r\n\r\n\t\t\t\t\tvar n = cd.nx * cd.size;\r\n\t\t\t\t\tvar cp = new Uint8Array( outBuffer.buffer, cd.end * INT16_SIZE, n * INT16_SIZE );\r\n\r\n\t\t\t\t\ttmpBuffer.set( cp, tmpOffset );\r\n\t\t\t\t\ttmpOffset += n * INT16_SIZE;\r\n\t\t\t\t\tcd.end += n;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPXR( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\tconst rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\r\n\t\t\tconst sz = info.lines * info.channels * info.width;\r\n\t\t\tconst tmpBuffer = ( info.type == 1 ) ? new Uint16Array( sz ) : new Uint32Array( sz );\r\n\r\n\t\t\tlet tmpBufferEnd = 0;\r\n\t\t\tlet writePtr = 0;\r\n\t\t\tconst ptr = new Array( 4 );\r\n\r\n\t\t\tfor ( let y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( let c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tlet pixel = 0;\r\n\r\n\t\t\t\t\tswitch ( info.type ) {\r\n\r\n\t\t\t\t\t\tcase 1:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 1 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 8 ) | rawBuffer[ ptr[ 1 ] ++ ];\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 2:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\tptr[ 2 ] = ptr[ 1 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 2 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 24 ) | ( rawBuffer[ ptr[ 1 ] ++ ] << 16 ) | ( rawBuffer[ ptr[ 2 ] ++ ] << 8 );\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressDWA( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\t\t\tvar outBuffer = new Uint8Array( info.width * info.lines * ( EXRHeader.channels.length * info.type * INT16_SIZE ) );\r\n\r\n\t\t\t// Read compression header information\r\n\t\t\tvar dwaHeader = {\r\n\r\n\t\t\t\tversion: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tdcCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleRawSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalAcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalDcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompression: parseInt64( inDataView, inOffset )\r\n\r\n\t\t\t};\r\n\r\n\t\t\tif ( dwaHeader.version < 2 )\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' version ' + dwaHeader.version + ' is unsupported';\r\n\r\n\t\t\t// Read channel ruleset information\r\n\t\t\tvar channelRules = new Array();\r\n\t\t\tvar ruleSize = parseUint16( inDataView, inOffset ) - INT16_SIZE;\r\n\r\n\t\t\twhile ( ruleSize > 0 ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( inDataView.buffer, inOffset );\r\n\t\t\t\tvar value = parseUint8( inDataView, inOffset );\r\n\t\t\t\tvar compression = ( value >> 2 ) & 3;\r\n\t\t\t\tvar csc = ( value >> 4 ) - 1;\r\n\t\t\t\tvar index = new Int8Array( [ csc ] )[ 0 ];\r\n\t\t\t\tvar type = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\tchannelRules.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tcompression: compression,\r\n\t\t\t\t} );\r\n\r\n\t\t\t\truleSize -= name.length + 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Classify channels\r\n\t\t\tvar channels = EXRHeader.channels;\r\n\t\t\tvar channelData = new Array( info.channels );\r\n\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ] = {};\r\n\t\t\t\tvar channel = channels[ i ];\r\n\r\n\t\t\t\tcd.name = channel.name;\r\n\t\t\t\tcd.compression = UNKNOWN;\r\n\t\t\t\tcd.decoded = false;\r\n\t\t\t\tcd.type = channel.pixelType;\r\n\t\t\t\tcd.pLinear = channel.pLinear;\r\n\t\t\t\tcd.width = info.width;\r\n\t\t\t\tcd.height = info.lines;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar cscSet = {\r\n\t\t\t\tidx: new Array( 3 )\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var offset = 0; offset < info.channels; ++ offset ) {\r\n\r\n\t\t\t\tvar cd = channelData[ offset ];\r\n\r\n\t\t\t\tfor ( var i = 0; i < channelRules.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar rule = channelRules[ i ];\r\n\r\n\t\t\t\t\tif ( cd.name == rule.name ) {\r\n\r\n\t\t\t\t\t\tcd.compression = rule.compression;\r\n\r\n\t\t\t\t\t\tif ( rule.index >= 0 ) {\r\n\r\n\t\t\t\t\t\t\tcscSet.idx[ rule.index ] = offset;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcd.offset = offset;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - AC component data\r\n\t\t\tif ( dwaHeader.acCompressedSize > 0 ) {\r\n\r\n\t\t\t\tswitch ( dwaHeader.acCompression ) {\r\n\r\n\t\t\t\t\tcase STATIC_HUFFMAN:\r\n\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\thufUncompress( info.array, inDataView, inOffset, dwaHeader.acCompressedSize, acBuffer, dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase DEFLATE:\r\n\r\n\t\t\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( inflate.decompress().buffer );\r\n\t\t\t\t\t\tinOffset.value += dwaHeader.totalAcUncompressedCount;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - DC component data\r\n\t\t\tif ( dwaHeader.dcCompressedSize > 0 ) {\r\n\r\n\t\t\t\tvar zlibInfo = {\r\n\t\t\t\t\tarray: info.array,\r\n\t\t\t\t\toffset: inOffset,\r\n\t\t\t\t\tsize: dwaHeader.dcCompressedSize\r\n\t\t\t\t};\r\n\t\t\t\tvar dcBuffer = new Uint16Array( uncompressZIP( zlibInfo ).buffer );\r\n\t\t\t\tinOffset.value += dwaHeader.dcCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read RLE compressed data\r\n\t\t\tif ( dwaHeader.rleRawSize > 0 ) {\r\n\r\n\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.rleCompressedSize );\r\n\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\tvar rleBuffer = decodeRunLength( inflate.decompress().buffer );\r\n\r\n\t\t\t\tinOffset.value += dwaHeader.rleCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Prepare outbuffer data offset\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar rowOffsets = new Array( channelData.length );\r\n\t\t\tfor ( var i = 0; i < rowOffsets.length; ++ i ) {\r\n\r\n\t\t\t\trowOffsets[ i ] = new Array();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\tfor ( var chan = 0; chan < channelData.length; ++ chan ) {\r\n\r\n\t\t\t\t\trowOffsets[ chan ].push( outBufferEnd );\r\n\t\t\t\t\toutBufferEnd += channelData[ chan ].width * info.type * INT16_SIZE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Lossy DCT decode RGB channels\r\n\t\t\tlossyDctDecode( cscSet, rowOffsets, channelData, acBuffer, dcBuffer, outBuffer );\r\n\r\n\t\t\t// Decode other channels\r\n\t\t\tfor ( var i = 0; i < channelData.length; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ];\r\n\r\n\t\t\t\tif ( cd.decoded ) continue;\r\n\r\n\t\t\t\tswitch ( cd.compression ) {\r\n\r\n\t\t\t\t\tcase RLE:\r\n\r\n\t\t\t\t\t\tvar row = 0;\r\n\t\t\t\t\t\tvar rleOffset = 0;\r\n\r\n\t\t\t\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tvar rowOffsetBytes = rowOffsets[ i ][ row ];\r\n\r\n\t\t\t\t\t\t\tfor ( var x = 0; x < cd.width; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tfor ( var byte = 0; byte < INT16_SIZE * cd.type; ++ byte ) {\r\n\r\n\t\t\t\t\t\t\t\t\toutBuffer[ rowOffsetBytes ++ ] = rleBuffer[ rleOffset + byte * cd.width * cd.height ];\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\trleOffset ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trow ++;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase LOSSY_DCT: // skip\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow 'EXRLoader.parse: unsupported channel compression';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( outBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseNullTerminatedString( buffer, offset ) {\r\n\r\n\t\t\tvar uintBuffer = new Uint8Array( buffer );\r\n\t\t\tvar endOffset = 0;\r\n\r\n\t\t\twhile ( uintBuffer[ offset.value + endOffset ] != 0 ) {\r\n\r\n\t\t\t\tendOffset += 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tuintBuffer.slice( offset.value, offset.value + endOffset )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + endOffset + 1;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFixedLengthString( buffer, offset, size ) {\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tnew Uint8Array( buffer ).slice( offset.value, offset.value + size )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + size;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUlong( dataView, offset ) {\r\n\r\n\t\t\tvar uLong = dataView.getUint32( 0, true );\r\n\r\n\t\t\toffset.value = offset.value + ULONG_SIZE;\r\n\r\n\t\t\treturn uLong;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseRational( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseInt32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseTimecode( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseUint32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt32( dataView, offset ) {\r\n\r\n\t\t\tvar Int32 = dataView.getInt32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Int32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint32( dataView, offset ) {\r\n\r\n\t\t\tvar Uint32 = dataView.getUint32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Uint32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8Array( uInt8Array, offset ) {\r\n\r\n\t\t\tvar Uint8 = uInt8Array[ offset.value ];\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8( dataView, offset ) {\r\n\r\n\t\t\tvar Uint8 = dataView.getUint8( offset.value );\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt64( dataView, offset ) {\r\n\r\n\t\t\tvar int = Number( dataView.getBigInt64( offset.value, true ) );\r\n\r\n\t\t\toffset.value += ULONG_SIZE;\r\n\r\n\t\t\treturn int;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat32( dataView, offset ) {\r\n\r\n\t\t\tvar float = dataView.getFloat32( offset.value, true );\r\n\r\n\t\t\toffset.value += FLOAT32_SIZE;\r\n\r\n\t\t\treturn float;\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeFloat32( dataView, offset ) {\r\n\r\n\t\t\treturn DataUtils.toHalfFloat( parseFloat32( dataView, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\t// https://stackoverflow.com/questions/5678432/decompressing-half-precision-floats-in-javascript\r\n\t\tfunction decodeFloat16( binary ) {\r\n\r\n\t\t\tvar exponent = ( binary & 0x7C00 ) >> 10,\r\n\t\t\t\tfraction = binary & 0x03FF;\r\n\r\n\t\t\treturn ( binary >> 15 ? - 1 : 1 ) * (\r\n\t\t\t\texponent ?\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\texponent === 0x1F ?\r\n\t\t\t\t\t\t\tfraction ? NaN : Infinity :\r\n\t\t\t\t\t\t\tMath.pow( 2, exponent - 15 ) * ( 1 + fraction / 0x400 )\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t6.103515625e-5 * ( fraction / 0x400 )\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint16( dataView, offset ) {\r\n\r\n\t\t\tvar Uint16 = dataView.getUint16( offset.value, true );\r\n\r\n\t\t\toffset.value += INT16_SIZE;\r\n\r\n\t\t\treturn Uint16;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat16( buffer, offset ) {\r\n\r\n\t\t\treturn decodeFloat16( parseUint16( buffer, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChlist( dataView, buffer, offset, size ) {\r\n\r\n\t\t\tvar startOffset = offset.value;\r\n\t\t\tvar channels = [];\r\n\r\n\t\t\twhile ( offset.value < ( startOffset + size - 1 ) ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar pixelType = parseInt32( dataView, offset );\r\n\t\t\t\tvar pLinear = parseUint8( dataView, offset );\r\n\t\t\t\toffset.value += 3; // reserved, three chars\r\n\t\t\t\tvar xSampling = parseInt32( dataView, offset );\r\n\t\t\t\tvar ySampling = parseInt32( dataView, offset );\r\n\r\n\t\t\t\tchannels.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tpixelType: pixelType,\r\n\t\t\t\t\tpLinear: pLinear,\r\n\t\t\t\t\txSampling: xSampling,\r\n\t\t\t\t\tySampling: ySampling\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.value += 1;\r\n\r\n\t\t\treturn channels;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChromaticities( dataView, offset ) {\r\n\r\n\t\t\tvar redX = parseFloat32( dataView, offset );\r\n\t\t\tvar redY = parseFloat32( dataView, offset );\r\n\t\t\tvar greenX = parseFloat32( dataView, offset );\r\n\t\t\tvar greenY = parseFloat32( dataView, offset );\r\n\t\t\tvar blueX = parseFloat32( dataView, offset );\r\n\t\t\tvar blueY = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteX = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteY = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn { redX: redX, redY: redY, greenX: greenX, greenY: greenY, blueX: blueX, blueY: blueY, whiteX: whiteX, whiteY: whiteY };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseCompression( dataView, offset ) {\r\n\r\n\t\t\tvar compressionCodes = [\r\n\t\t\t\t'NO_COMPRESSION',\r\n\t\t\t\t'RLE_COMPRESSION',\r\n\t\t\t\t'ZIPS_COMPRESSION',\r\n\t\t\t\t'ZIP_COMPRESSION',\r\n\t\t\t\t'PIZ_COMPRESSION',\r\n\t\t\t\t'PXR24_COMPRESSION',\r\n\t\t\t\t'B44_COMPRESSION',\r\n\t\t\t\t'B44A_COMPRESSION',\r\n\t\t\t\t'DWAA_COMPRESSION',\r\n\t\t\t\t'DWAB_COMPRESSION'\r\n\t\t\t];\r\n\r\n\t\t\tvar compression = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn compressionCodes[ compression ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseBox2i( dataView, offset ) {\r\n\r\n\t\t\tvar xMin = parseUint32( dataView, offset );\r\n\t\t\tvar yMin = parseUint32( dataView, offset );\r\n\t\t\tvar xMax = parseUint32( dataView, offset );\r\n\t\t\tvar yMax = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn { xMin: xMin, yMin: yMin, xMax: xMax, yMax: yMax };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseLineOrder( dataView, offset ) {\r\n\r\n\t\t\tvar lineOrders = [\r\n\t\t\t\t'INCREASING_Y'\r\n\t\t\t];\r\n\r\n\t\t\tvar lineOrder = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn lineOrders[ lineOrder ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV2f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV3f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\t\t\tvar z = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y, z ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseValue( dataView, buffer, offset, type, size ) {\r\n\r\n\t\t\tif ( type === 'string' || type === 'stringvector' || type === 'iccProfile' ) {\r\n\r\n\t\t\t\treturn parseFixedLengthString( buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chlist' ) {\r\n\r\n\t\t\t\treturn parseChlist( dataView, buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chromaticities' ) {\r\n\r\n\t\t\t\treturn parseChromaticities( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'compression' ) {\r\n\r\n\t\t\t\treturn parseCompression( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'box2i' ) {\r\n\r\n\t\t\t\treturn parseBox2i( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'lineOrder' ) {\r\n\r\n\t\t\t\treturn parseLineOrder( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'float' ) {\r\n\r\n\t\t\t\treturn parseFloat32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v2f' ) {\r\n\r\n\t\t\t\treturn parseV2f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v3f' ) {\r\n\r\n\t\t\t\treturn parseV3f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'int' ) {\r\n\r\n\t\t\t\treturn parseInt32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'rational' ) {\r\n\r\n\t\t\t\treturn parseRational( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'timecode' ) {\r\n\r\n\t\t\t\treturn parseTimecode( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'preview' ) {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn 'skipped';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar bufferDataView = new DataView( buffer );\r\n\t\tvar uInt8Array = new Uint8Array( buffer );\r\n\r\n\t\tvar EXRHeader = {};\r\n\r\n\t\tbufferDataView.getUint32( 0, true ); // magic\r\n\t\tbufferDataView.getUint8( 4, true ); // versionByteZero\r\n\t\tbufferDataView.getUint8( 5, true ); // fullMask\r\n\r\n\t\t// start of header\r\n\r\n\t\tvar offset = { value: 8 }; // start at 8, after magic stuff\r\n\r\n\t\tvar keepReading = true;\r\n\r\n\t\twhile ( keepReading ) {\r\n\r\n\t\t\tvar attributeName = parseNullTerminatedString( buffer, offset );\r\n\r\n\t\t\tif ( attributeName == 0 ) {\r\n\r\n\t\t\t\tkeepReading = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar attributeType = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar attributeSize = parseUint32( bufferDataView, offset );\r\n\t\t\t\tvar attributeValue = parseValue( bufferDataView, buffer, offset, attributeType, attributeSize );\r\n\r\n\t\t\t\tif ( attributeValue === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( `EXRLoader.parse: skipped unknown header attribute type \\'${ attributeType }\\'.` );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tEXRHeader[ attributeName ] = attributeValue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// offsets\r\n\t\tvar dataWindowHeight = EXRHeader.dataWindow.yMax + 1;\r\n\r\n\t\tvar uncompress;\r\n\t\tvar scanlineBlockSize;\r\n\r\n\t\tswitch ( EXRHeader.compression ) {\r\n\r\n\t\t\tcase 'NO_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRAW;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'RLE_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIPS_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIP_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PIZ_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressPIZ;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PXR24_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressPXR;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAA_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAB_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 256;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' is unsupported';\r\n\r\n\t\t}\r\n\r\n\t\tvar size_t;\r\n\t\tvar getValue;\r\n\r\n\t\t// mixed pixelType not supported\r\n\t\tvar pixelType = EXRHeader.channels[ 0 ].pixelType;\r\n\r\n\t\tif ( pixelType === 1 ) { // half\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = parseUint16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( pixelType === 2 ) { // float\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = decodeFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow 'EXRLoader.parse: unsupported pixelType ' + pixelType + ' for ' + EXRHeader.compression + '.';\r\n\r\n\t\t}\r\n\r\n\t\tvar numBlocks = dataWindowHeight / scanlineBlockSize;\r\n\r\n\t\tfor ( var i = 0; i < numBlocks; i ++ ) {\r\n\r\n\t\t\tparseUlong( bufferDataView, offset ); // scanlineOffset\r\n\r\n\t\t}\r\n\r\n\t\t// we should be passed the scanline offset table, start reading pixel data\r\n\r\n\t\tvar width = EXRHeader.dataWindow.xMax - EXRHeader.dataWindow.xMin + 1;\r\n\t\tvar height = EXRHeader.dataWindow.yMax - EXRHeader.dataWindow.yMin + 1;\r\n\t\t// Firefox only supports RGBA (half) float textures\r\n\t\t// var numChannels = EXRHeader.channels.length;\r\n\t\tvar numChannels = 4;\r\n\t\tvar size = width * height * numChannels;\r\n\r\n\t\t// Fill initially with 1s for the alpha value if the texture is not RGBA, RGB values will be overwritten\r\n\t\tswitch ( this.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\tvar byteArray = new Float32Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 1, 0, size );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\tvar byteArray = new Uint16Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 0x3C00, 0, size ); // Uint16Array holds half float data, 0x3C00 is 1\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: unsupported type: ', this.type );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar channelOffsets = {\r\n\t\t\tR: 0,\r\n\t\t\tG: 1,\r\n\t\t\tB: 2,\r\n\t\t\tA: 3\r\n\t\t};\r\n\r\n\t\tvar compressionInfo = {\r\n\r\n\t\t\tsize: 0,\r\n\t\t\twidth: width,\r\n\t\t\tlines: scanlineBlockSize,\r\n\r\n\t\t\toffset: offset,\r\n\t\t\tarray: uInt8Array,\r\n\t\t\tviewer: bufferDataView,\r\n\r\n\t\t\ttype: pixelType,\r\n\t\t\tchannels: EXRHeader.channels.length,\r\n\r\n\t\t};\r\n\r\n\t\tvar line;\r\n\t\tvar size;\r\n\t\tvar viewer;\r\n\t\tvar tmpOffset = { value: 0 };\r\n\r\n\t\tfor ( var scanlineBlockIdx = 0; scanlineBlockIdx < height / scanlineBlockSize; scanlineBlockIdx ++ ) {\r\n\r\n\t\t\tline = parseUint32( bufferDataView, offset ); // line_no\r\n\t\t\tsize = parseUint32( bufferDataView, offset ); // data_len\r\n\r\n\t\t\tcompressionInfo.lines = ( line + scanlineBlockSize > height ) ? height - line : scanlineBlockSize;\r\n\t\t\tcompressionInfo.offset = offset;\r\n\t\t\tcompressionInfo.size = size;\r\n\r\n\t\t\tviewer = uncompress( compressionInfo );\r\n\r\n\t\t\toffset.value += size;\r\n\r\n\t\t\tfor ( var line_y = 0; line_y < scanlineBlockSize; line_y ++ ) {\r\n\r\n\t\t\t\tvar true_y = line_y + ( scanlineBlockIdx * scanlineBlockSize );\r\n\r\n\t\t\t\tif ( true_y >= height ) break;\r\n\r\n\t\t\t\tfor ( var channelID = 0; channelID < EXRHeader.channels.length; channelID ++ ) {\r\n\r\n\t\t\t\t\tvar cOff = channelOffsets[ EXRHeader.channels[ channelID ].name ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; x ++ ) {\r\n\r\n\t\t\t\t\t\tvar idx = ( line_y * ( EXRHeader.channels.length * width ) ) + ( channelID * width ) + x;\r\n\t\t\t\t\t\ttmpOffset.value = idx * size_t;\r\n\r\n\t\t\t\t\t\tvar val = getValue( viewer, tmpOffset );\r\n\r\n\t\t\t\t\t\tbyteArray[ ( ( ( height - 1 - true_y ) * ( width * numChannels ) ) + ( x * numChannels ) ) + cOff ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.type === UnsignedByteType ) {\r\n\r\n\t\t\tlet v, i;\r\n\t\t\tconst size = byteArray.length;\r\n\t\t\tconst RGBEArray = new Uint8Array( size );\r\n\r\n\t\t\tfor ( let h = 0; h < height; ++ h ) {\r\n\r\n\t\t\t\tfor ( let w = 0; w < width; ++ w ) {\r\n\r\n\t\t\t\t\ti = h * width * 4 + w * 4;\r\n\r\n\t\t\t\t\tconst red = byteArray[ i ];\r\n\t\t\t\t\tconst green = byteArray[ i + 1 ];\r\n\t\t\t\t\tconst blue = byteArray[ i + 2 ];\r\n\r\n\t\t\t\t\tv = ( red > green ) ? red : green;\r\n\t\t\t\t\tv = ( blue > v ) ? blue : v;\r\n\r\n\t\t\t\t\tif ( v < 1e-32 ) {\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = RGBEArray[ i + 1 ] = RGBEArray[ i + 2 ] = RGBEArray[ i + 3 ] = 0;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconst res = frexp( v );\r\n\t\t\t\t\t\tv = res[ 0 ] * 256 / v;\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = red * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 1 ] = green * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 2 ] = blue * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 3 ] = res[ 1 ] + 128;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbyteArray = RGBEArray;\r\n\r\n\t\t}\r\n\r\n\t\tconst format = ( this.type === UnsignedByteType ) ? RGBEFormat : ( numChannels === 4 ) ? RGBAFormat : RGBFormat;\r\n\r\n\t\treturn {\r\n\t\t\theader: EXRHeader,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tdata: byteArray,\r\n\t\t\tformat: format,\r\n\t\t\ttype: this.type\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { EXRLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/EXRLoader.js","import { TempNode } from './TempNode.js';\r\nimport { NodeLib } from './NodeLib.js';\r\n\r\nvar declarationRegexp = /^\\s*([a-z_0-9]+)\\s([a-z_0-9]+)\\s*\\((.*?)\\)/i,\r\n\tpropertiesRegexp = /[a-z_0-9]+/ig;\r\n\r\nfunction FunctionNode( src, includes, extensions, keywords, type ) {\r\n\r\n\tthis.isMethod = type === undefined;\r\n\tthis.isInterface = false;\r\n\r\n\tTempNode.call( this, type );\r\n\r\n\tthis.parse( src, includes, extensions, keywords );\r\n\r\n}\r\n\r\nFunctionNode.prototype = Object.create( TempNode.prototype );\r\nFunctionNode.prototype.constructor = FunctionNode;\r\nFunctionNode.prototype.nodeType = \"Function\";\r\n\r\nFunctionNode.prototype.useKeywords = true;\r\n\r\nFunctionNode.prototype.getShared = function ( /* builder, output */ ) {\r\n\r\n\treturn ! this.isMethod;\r\n\r\n};\r\n\r\nFunctionNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nFunctionNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.getIncludeByName = function ( name ) {\r\n\r\n\tvar i = this.includes.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.includes[ i ].name === name ) {\r\n\r\n\t\t\treturn this.includes[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar match, offset = 0, src = this.src;\r\n\r\n\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\tbuilder.include( this.includes[ i ], this );\r\n\r\n\t}\r\n\r\n\tfor ( var ext in this.extensions ) {\r\n\r\n\t\tbuilder.extensions[ ext ] = true;\r\n\r\n\t}\r\n\r\n\tvar matches = [];\r\n\r\n\twhile ( match = propertiesRegexp.exec( this.src ) ) matches.push( match );\r\n\r\n\tfor ( var i = 0; i < matches.length; i ++ ) {\r\n\r\n\t\tvar match = matches[ i ];\r\n\r\n\t\tvar prop = match[ 0 ],\r\n\t\t\tisGlobal = this.isMethod ? ! this.getInputByName( prop ) : true,\r\n\t\t\treference = prop;\r\n\r\n\t\tif ( this.keywords[ prop ] || ( this.useKeywords && isGlobal && NodeLib.containsKeyword( prop ) ) ) {\r\n\r\n\t\t\tvar node = this.keywords[ prop ];\r\n\r\n\t\t\tif ( ! node ) {\r\n\r\n\t\t\t\tvar keyword = NodeLib.getKeywordData( prop );\r\n\r\n\t\t\t\tif ( keyword.cache ) node = builder.keywords[ prop ];\r\n\r\n\t\t\t\tnode = node || NodeLib.getKeyword( prop, builder );\r\n\r\n\t\t\t\tif ( keyword.cache ) builder.keywords[ prop ] = node;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treference = node.build( builder );\r\n\r\n\t\t}\r\n\r\n\t\tif ( prop !== reference ) {\r\n\r\n\t\t\tsrc = src.substring( 0, match.index + offset ) + reference + src.substring( match.index + prop.length + offset );\r\n\r\n\t\t\toffset += reference.length - prop.length;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.getIncludeByName( reference ) === undefined && NodeLib.contains( reference ) ) {\r\n\r\n\t\t\tbuilder.include( NodeLib.get( reference ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn src;\r\n\r\n\t} else if ( this.isMethod ) {\r\n\r\n\t\tif ( ! this.isInterface ) {\r\n\r\n\t\t\tbuilder.include( this, false, src );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.name;\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.parse = function ( src, includes, extensions, keywords ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.includes = includes || [];\r\n\tthis.extensions = extensions || {};\r\n\tthis.keywords = keywords || {};\r\n\r\n\tif ( this.isMethod ) {\r\n\r\n\t\tvar match = this.src.match( declarationRegexp );\r\n\r\n\t\tthis.inputs = [];\r\n\r\n\t\tif ( match && match.length == 4 ) {\r\n\r\n\t\t\tthis.type = match[ 1 ];\r\n\t\t\tthis.name = match[ 2 ];\r\n\r\n\t\t\tvar inputs = match[ 3 ].match( propertiesRegexp );\r\n\r\n\t\t\tif ( inputs ) {\r\n\r\n\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\twhile ( i < inputs.length ) {\r\n\r\n\t\t\t\t\tvar qualifier = inputs[ i ++ ];\r\n\t\t\t\t\tvar type, name;\r\n\r\n\t\t\t\t\tif ( qualifier === 'in' || qualifier === 'out' || qualifier === 'inout' ) {\r\n\r\n\t\t\t\t\t\ttype = inputs[ i ++ ];\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttype = qualifier;\r\n\t\t\t\t\t\tqualifier = '';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tname = inputs[ i ++ ];\r\n\r\n\t\t\t\t\tthis.inputs.push( {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tqualifier: qualifier\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.isInterface = this.src.indexOf( '{' ) === - 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.type = '';\r\n\t\t\tthis.name = '';\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.isMethod = source.isMethod;\r\n\tthis.useKeywords = source.useKeywords;\r\n\r\n\tthis.parse( source.src, source.includes, source.extensions, source.keywords );\r\n\r\n\tif ( source.type !== undefined ) this.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\t\tdata.isMethod = this.isMethod;\r\n\t\tdata.useKeywords = this.useKeywords;\r\n\r\n\t\tif ( ! this.isMethod ) data.type = this.type;\r\n\r\n\t\tdata.extensions = JSON.parse( JSON.stringify( this.extensions ) );\r\n\t\tdata.keywords = {};\r\n\r\n\t\tfor ( var keyword in this.keywords ) {\r\n\r\n\t\t\tdata.keywords[ keyword ] = this.keywords[ keyword ].toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.includes.length ) {\r\n\r\n\t\t\tdata.includes = [];\r\n\r\n\t\t\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\t\t\tdata.includes.push( this.includes[ i ].toJSON( meta ).uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionNode.js","import {\r\n\tFileLoader,\r\n\tLoader,\r\n\tTexture\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TGALoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n};\r\n\r\nTGALoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: TGALoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar texture = new Texture();\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\ttexture.image = scope.parse( buffer );\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\t// reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\r\n\r\n\t\tfunction tgaCheckHeader( header ) {\r\n\r\n\t\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\t\t// check indexed type\r\n\r\n\t\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\t\tif ( header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1 ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for indexed type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// check colormap type\r\n\r\n\t\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\t\tif ( header.colormap_type ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for colormap type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// What the need of a file without data ?\r\n\r\n\t\t\t\tcase TGA_TYPE_NO_DATA:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t\t\t\t// Invalid type ?\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type \"%s\".', header.image_type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image width and height\r\n\r\n\t\t\tif ( header.width <= 0 || header.height <= 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid image size.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image pixel size\r\n\r\n\t\t\tif ( header.pixel_size !== 8 && header.pixel_size !== 16 &&\r\n\t\t\t\theader.pixel_size !== 24 && header.pixel_size !== 32 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// parse tga image buffer\r\n\r\n\t\tfunction tgaParse( use_rle, use_pal, header, offset, data ) {\r\n\r\n\t\t\tvar pixel_data,\r\n\t\t\t\tpixel_size,\r\n\t\t\t\tpixel_total,\r\n\t\t\t\tpalettes;\r\n\r\n\t\t\tpixel_size = header.pixel_size >> 3;\r\n\t\t\tpixel_total = header.width * header.height * pixel_size;\r\n\r\n\t\t\t // read palettes\r\n\r\n\t\t\t if ( use_pal ) {\r\n\r\n\t\t\t\t palettes = data.subarray( offset, offset += header.colormap_length * ( header.colormap_size >> 3 ) );\r\n\r\n\t\t\t }\r\n\r\n\t\t\t // read RLE\r\n\r\n\t\t\t if ( use_rle ) {\r\n\r\n\t\t\t\t pixel_data = new Uint8Array( pixel_total );\r\n\r\n\t\t\t\tvar c, count, i;\r\n\t\t\t\tvar shift = 0;\r\n\t\t\t\tvar pixels = new Uint8Array( pixel_size );\r\n\r\n\t\t\t\twhile ( shift < pixel_total ) {\r\n\r\n\t\t\t\t\tc = data[ offset ++ ];\r\n\t\t\t\t\tcount = ( c & 0x7f ) + 1;\r\n\r\n\t\t\t\t\t// RLE pixels\r\n\r\n\t\t\t\t\tif ( c & 0x80 ) {\r\n\r\n\t\t\t\t\t\t// bind pixel tmp array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < pixel_size; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixels[ i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// copy pixel array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data.set( pixels, shift + i * pixel_size );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += pixel_size * count;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// raw pixels\r\n\r\n\t\t\t\t\t\tcount *= pixel_size;\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data[ shift + i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += count;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t } else {\r\n\r\n\t\t\t\t// raw pixels\r\n\r\n\t\t\t\tpixel_data = data.subarray(\r\n\t\t\t\t\t offset, offset += ( use_pal ? header.width * header.height : pixel_total )\r\n\t\t\t\t);\r\n\r\n\t\t\t }\r\n\r\n\t\t\t return {\r\n\t\t\t\tpixel_data: pixel_data,\r\n\t\t\t\tpalettes: palettes\r\n\t\t\t };\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes ) {\r\n\r\n\t\t\tvar colormap = palettes;\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = colormap[ ( color * 3 ) + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = colormap[ ( color * 3 ) + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = colormap[ ( color * 3 ) + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\tcolor = image[ i + 0 ] + ( image[ i + 1 ] << 8 ); // Inversed ?\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = ( color & 0x7C00 ) >> 7;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = ( color & 0x03E0 ) >> 2;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = ( color & 0x001F ) >> 3;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = ( color & 0x8000 ) ? 0 : 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData24bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 3 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData32bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 4 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getTgaRGBA( data, width, height, image, palette ) {\r\n\r\n\t\t\tvar x_start,\r\n\t\t\t\ty_start,\r\n\t\t\t\tx_step,\r\n\t\t\t\ty_step,\r\n\t\t\t\tx_end,\r\n\t\t\t\ty_end;\r\n\r\n\t\t\tswitch ( ( header.flags & TGA_ORIGIN_MASK ) >> TGA_ORIGIN_SHIFT ) {\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase TGA_ORIGIN_UL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_UR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( use_grey ) {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageDataGrey8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageDataGrey16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageData8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageData16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 24:\r\n\t\t\t\t\t\ttgaGetImageData24bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 32:\r\n\t\t\t\t\t\ttgaGetImageData32bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Load image data according to specific method\r\n\t\t\t// var func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\r\n\t\t\t// func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\t// TGA constants\r\n\r\n\t\tvar TGA_TYPE_NO_DATA = 0,\r\n\t\t\tTGA_TYPE_INDEXED = 1,\r\n\t\t\tTGA_TYPE_RGB = 2,\r\n\t\t\tTGA_TYPE_GREY = 3,\r\n\t\t\tTGA_TYPE_RLE_INDEXED = 9,\r\n\t\t\tTGA_TYPE_RLE_RGB = 10,\r\n\t\t\tTGA_TYPE_RLE_GREY = 11,\r\n\r\n\t\t\tTGA_ORIGIN_MASK = 0x30,\r\n\t\t\tTGA_ORIGIN_SHIFT = 0x04,\r\n\t\t\tTGA_ORIGIN_BL = 0x00,\r\n\t\t\tTGA_ORIGIN_BR = 0x01,\r\n\t\t\tTGA_ORIGIN_UL = 0x02,\r\n\t\t\tTGA_ORIGIN_UR = 0x03;\r\n\r\n\t\tif ( buffer.length < 19 ) console.error( 'THREE.TGALoader: Not enough data to contain header.' );\r\n\r\n\t\tvar content = new Uint8Array( buffer ),\r\n\t\t\toffset = 0,\r\n\t\t\theader = {\r\n\t\t\t\tid_length: content[ offset ++ ],\r\n\t\t\t\tcolormap_type: content[ offset ++ ],\r\n\t\t\t\timage_type: content[ offset ++ ],\r\n\t\t\t\tcolormap_index: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_length: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_size: content[ offset ++ ],\r\n\t\t\t\torigin: [\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8\r\n\t\t\t\t],\r\n\t\t\t\twidth: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\theight: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tpixel_size: content[ offset ++ ],\r\n\t\t\t\tflags: content[ offset ++ ]\r\n\t\t\t};\r\n\r\n\t\t// check tga if it is valid format\r\n\r\n\t\ttgaCheckHeader( header );\r\n\r\n\t\tif ( header.id_length + offset > buffer.length ) {\r\n\r\n\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t}\r\n\r\n\t\t// skip the needn't data\r\n\r\n\t\toffset += header.id_length;\r\n\r\n\t\t// get targa information about RLE compression and palette\r\n\r\n\t\tvar use_rle = false,\r\n\t\t\tuse_pal = false,\r\n\t\t\tuse_grey = false;\r\n\r\n\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar useOffscreen = typeof OffscreenCanvas !== 'undefined';\r\n\r\n\t\tvar canvas = useOffscreen ? new OffscreenCanvas( header.width, header.height ) : document.createElement( 'canvas' );\r\n\t\tcanvas.width = header.width;\r\n\t\tcanvas.height = header.height;\r\n\r\n\t\tvar context = canvas.getContext( '2d' );\r\n\t\tvar imageData = context.createImageData( header.width, header.height );\r\n\r\n\t\tvar result = tgaParse( use_rle, use_pal, header, offset, content );\r\n\t\tgetTgaRGBA( imageData.data, header.width, header.height, result.pixel_data, result.palettes );\r\n\r\n\t\tcontext.putImageData( imageData, 0, 0 );\r\n\r\n\t\treturn canvas;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { TGALoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/TGALoader.js","import { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar MaskPass = function ( scene, camera ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.clear = true;\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.inverse = false;\r\n\r\n};\r\n\r\nMaskPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: MaskPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar context = renderer.getContext();\r\n\t\tvar state = renderer.state;\r\n\r\n\t\t// don't update color or depth\r\n\r\n\t\tstate.buffers.color.setMask( false );\r\n\t\tstate.buffers.depth.setMask( false );\r\n\r\n\t\t// lock buffers\r\n\r\n\t\tstate.buffers.color.setLocked( true );\r\n\t\tstate.buffers.depth.setLocked( true );\r\n\r\n\t\t// set up stencil\r\n\r\n\t\tvar writeValue, clearValue;\r\n\r\n\t\tif ( this.inverse ) {\r\n\r\n\t\t\twriteValue = 0;\r\n\t\t\tclearValue = 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\twriteValue = 1;\r\n\t\t\tclearValue = 0;\r\n\r\n\t\t}\r\n\r\n\t\tstate.buffers.stencil.setTest( true );\r\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\r\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\r\n\t\tstate.buffers.stencil.setClear( clearValue );\r\n\t\tstate.buffers.stencil.setLocked( true );\r\n\r\n\t\t// draw into the stencil buffer\r\n\r\n\t\trenderer.setRenderTarget( readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t// unlock color and depth buffer for subsequent rendering\r\n\r\n\t\tstate.buffers.color.setLocked( false );\r\n\t\tstate.buffers.depth.setLocked( false );\r\n\r\n\t\t// only render where stencil is set to 1\r\n\r\n\t\tstate.buffers.stencil.setLocked( false );\r\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\r\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\r\n\t\tstate.buffers.stencil.setLocked( true );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nvar ClearMaskPass = function () {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n};\r\n\r\nClearMaskPass.prototype = Object.create( Pass.prototype );\r\n\r\nObject.assign( ClearMaskPass.prototype, {\r\n\r\n\trender: function ( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\trenderer.state.buffers.stencil.setLocked( false );\r\n\t\trenderer.state.buffers.stencil.setTest( false );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { MaskPass, ClearMaskPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/MaskPass.js","/**\r\n * dat-gui JavaScript Controller Library\r\n * http://code.google.com/p/dat-gui\r\n *\r\n * Copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nfunction ___$insertStyle( css ) {\r\n\r\n\tif ( ! css ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\tif ( typeof window === 'undefined' ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tvar style = document.createElement( 'style' );\r\n\r\n\tstyle.setAttribute( 'type', 'text/css' );\r\n\tstyle.innerHTML = css;\r\n\tdocument.head.appendChild( style );\r\n\r\n\treturn css;\r\n\r\n}\r\n\r\nfunction colorToString( color, forceCSSHex ) {\r\n\r\n\tvar colorFormat = color.__state.conversionName.toString();\r\n\tvar r = Math.round( color.r );\r\n\tvar g = Math.round( color.g );\r\n\tvar b = Math.round( color.b );\r\n\tvar a = color.a;\r\n\tvar h = Math.round( color.h );\r\n\tvar s = color.s.toFixed( 1 );\r\n\tvar v = color.v.toFixed( 1 );\r\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\r\n\r\n\t\tvar str = color.hex.toString( 16 );\r\n\t\twhile ( str.length < 6 ) {\r\n\r\n\t\t\tstr = '0' + str;\r\n\r\n\t\t}\r\n\t\treturn '#' + str;\r\n\r\n\t} else if ( colorFormat === 'CSS_RGB' ) {\r\n\r\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\r\n\r\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\r\n\r\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\r\n\r\n\t} else if ( colorFormat === 'HEX' ) {\r\n\r\n\t\treturn '0x' + color.hex.toString( 16 );\r\n\r\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\r\n\r\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\r\n\r\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\r\n\r\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\r\n\r\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\r\n\r\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\r\n\r\n\t}\r\n\treturn 'unknown format';\r\n\r\n}\r\n\r\nvar ARR_EACH = Array.prototype.forEach;\r\nvar ARR_SLICE = Array.prototype.slice;\r\nvar Common = {\r\n\tBREAK: {},\r\n\textend: function extend( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tdefaults: function defaults( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tcompose: function compose() {\r\n\r\n\t\tvar toCall = ARR_SLICE.call( arguments );\r\n\t\treturn function () {\r\n\r\n\t\t\tvar args = ARR_SLICE.call( arguments );\r\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\r\n\r\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\r\n\r\n\t\t\t}\r\n\t\t\treturn args[ 0 ];\r\n\r\n\t\t};\r\n\r\n\t},\r\n\teach: function each( obj, itr, scope ) {\r\n\r\n\t\tif ( ! obj ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\r\n\r\n\t\t\tobj.forEach( itr, scope );\r\n\r\n\t\t} else if ( obj.length === obj.length + 0 ) {\r\n\r\n\t\t\tvar key = void 0;\r\n\t\t\tvar l = void 0;\r\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\r\n\r\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( var _key in obj ) {\r\n\r\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tdefer: function defer( fnc ) {\r\n\r\n\t\tsetTimeout( fnc, 0 );\r\n\r\n\t},\r\n\tdebounce: function debounce( func, threshold, callImmediately ) {\r\n\r\n\t\tvar timeout = void 0;\r\n\t\treturn function () {\r\n\r\n\t\t\tvar obj = this;\r\n\t\t\tvar args = arguments;\r\n\t\t\tfunction delayed() {\r\n\r\n\t\t\t\ttimeout = null;\r\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\r\n\r\n\t\t\t}\r\n\t\t\tvar callNow = callImmediately || ! timeout;\r\n\t\t\tclearTimeout( timeout );\r\n\t\t\ttimeout = setTimeout( delayed, threshold );\r\n\t\t\tif ( callNow ) {\r\n\r\n\t\t\t\tfunc.apply( obj, args );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t},\r\n\ttoArray: function toArray( obj ) {\r\n\r\n\t\tif ( obj.toArray ) return obj.toArray();\r\n\t\treturn ARR_SLICE.call( obj );\r\n\r\n\t},\r\n\tisUndefined: function isUndefined( obj ) {\r\n\r\n\t\treturn obj === undefined;\r\n\r\n\t},\r\n\tisNull: function isNull( obj ) {\r\n\r\n\t\treturn obj === null;\r\n\r\n\t},\r\n\tisNaN: function ( _isNaN ) {\r\n\r\n\t\tfunction isNaN() {\r\n\r\n\t\t\treturn _isNaN.apply( this, arguments );\r\n\r\n\t\t}\r\n\t\tisNaN.toString = function () {\r\n\r\n\t\t\treturn _isNaN.toString();\r\n\r\n\t\t};\r\n\t\treturn isNaN;\r\n\r\n\t}( function ( obj ) {\r\n\r\n\t\treturn isNaN( obj );\r\n\r\n\t} ),\r\n\tisArray: Array.isArray || function ( obj ) {\r\n\r\n\t\treturn obj.constructor === Array;\r\n\r\n\t},\r\n\tisObject: function isObject( obj ) {\r\n\r\n\t\treturn obj === Object( obj );\r\n\r\n\t},\r\n\tisNumber: function isNumber( obj ) {\r\n\r\n\t\treturn obj === obj + 0;\r\n\r\n\t},\r\n\tisString: function isString( obj ) {\r\n\r\n\t\treturn obj === obj + '';\r\n\r\n\t},\r\n\tisBoolean: function isBoolean( obj ) {\r\n\r\n\t\treturn obj === false || obj === true;\r\n\r\n\t},\r\n\tisFunction: function isFunction( obj ) {\r\n\r\n\t\treturn obj instanceof Function;\r\n\r\n\t}\r\n};\r\n\r\nvar INTERPRETATIONS = [\r\n\t{\r\n\t\tlitmus: Common.isString,\r\n\t\tconversions: {\r\n\t\t\tTHREE_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tSIX_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGB: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGBA: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\r\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isNumber,\r\n\t\tconversions: {\r\n\t\t\tHEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: original,\r\n\t\t\t\t\t\tconversionName: 'HEX'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn color.hex;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isArray,\r\n\t\tconversions: {\r\n\t\t\tRGB_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 3 ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGBA_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 4 ) return false;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ],\r\n\t\t\t\t\t\ta: original[ 3 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isObject,\r\n\t\tconversions: {\r\n\t\t\tRGBA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGB_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSVA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSV_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} ];\r\nvar result = void 0;\r\nvar toReturn = void 0;\r\nvar interpret = function interpret() {\r\n\r\n\ttoReturn = false;\r\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\r\n\tCommon.each( INTERPRETATIONS, function ( family ) {\r\n\r\n\t\tif ( family.litmus( original ) ) {\r\n\r\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\r\n\r\n\t\t\t\tresult = conversion.read( original );\r\n\t\t\t\tif ( toReturn === false && result !== false ) {\r\n\r\n\t\t\t\t\ttoReturn = result;\r\n\t\t\t\t\tresult.conversionName = conversionName;\r\n\t\t\t\t\tresult.conversion = conversion;\r\n\t\t\t\t\treturn Common.BREAK;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn Common.BREAK;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n};\r\n\r\nvar tmpComponent = void 0;\r\nvar ColorMath = {\r\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\r\n\r\n\t\tvar hi = Math.floor( h / 60 ) % 6;\r\n\t\tvar f = h / 60 - Math.floor( h / 60 );\r\n\t\tvar p = v * ( 1.0 - s );\r\n\t\tvar q = v * ( 1.0 - f * s );\r\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\r\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\r\n\t\treturn {\r\n\t\t\tr: c[ 0 ] * 255,\r\n\t\t\tg: c[ 1 ] * 255,\r\n\t\t\tb: c[ 2 ] * 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\r\n\r\n\t\tvar min = Math.min( r, g, b );\r\n\t\tvar max = Math.max( r, g, b );\r\n\t\tvar delta = max - min;\r\n\t\tvar h = void 0;\r\n\t\tvar s = void 0;\r\n\t\tif ( max !== 0 ) {\r\n\r\n\t\t\ts = delta / max;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn {\r\n\t\t\t\th: NaN,\r\n\t\t\t\ts: 0,\r\n\t\t\t\tv: 0\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\tif ( r === max ) {\r\n\r\n\t\t\th = ( g - b ) / delta;\r\n\r\n\t\t} else if ( g === max ) {\r\n\r\n\t\t\th = 2 + ( b - r ) / delta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\th = 4 + ( r - g ) / delta;\r\n\r\n\t\t}\r\n\t\th /= 6;\r\n\t\tif ( h < 0 ) {\r\n\r\n\t\t\th += 1;\r\n\r\n\t\t}\r\n\t\treturn {\r\n\t\t\th: h * 360,\r\n\t\t\ts: s,\r\n\t\t\tv: max / 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\r\n\r\n\t\tvar hex = this.hex_with_component( 0, 2, r );\r\n\t\thex = this.hex_with_component( hex, 1, g );\r\n\t\thex = this.hex_with_component( hex, 0, b );\r\n\t\treturn hex;\r\n\r\n\t},\r\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\r\n\r\n\t\treturn hex >> componentIndex * 8 & 0xFF;\r\n\r\n\t},\r\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\r\n\r\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\r\n\r\n\t}\r\n};\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\r\n\r\n\treturn typeof obj;\r\n\r\n} : function ( obj ) {\r\n\r\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar classCallCheck = function ( instance, Constructor ) {\r\n\r\n\tif ( ! ( instance instanceof Constructor ) ) {\r\n\r\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar createClass = function () {\r\n\r\n\tfunction defineProperties( target, props ) {\r\n\r\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\r\n\r\n\t\t\tvar descriptor = props[ i ];\r\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\r\n\t\t\tdescriptor.configurable = true;\r\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\r\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn function ( Constructor, protoProps, staticProps ) {\r\n\r\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\r\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\r\n\t\treturn Constructor;\r\n\r\n\t};\r\n\r\n}();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar get = function get( object, property, receiver ) {\r\n\r\n\tif ( object === null ) object = Function.prototype;\r\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\r\n\r\n\tif ( desc === undefined ) {\r\n\r\n\t\tvar parent = Object.getPrototypeOf( object );\r\n\r\n\t\tif ( parent === null ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn get( parent, property, receiver );\r\n\r\n\t\t}\r\n\r\n\t} else if ( \"value\" in desc ) {\r\n\r\n\t\treturn desc.value;\r\n\r\n\t} else {\r\n\r\n\t\tvar getter = desc.get;\r\n\r\n\t\tif ( getter === undefined ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t}\r\n\r\n\t\treturn getter.call( receiver );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar inherits = function ( subClass, superClass ) {\r\n\r\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\r\n\r\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\r\n\r\n\t}\r\n\r\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: subClass,\r\n\t\t\tenumerable: false,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t} );\r\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar possibleConstructorReturn = function ( self, call ) {\r\n\r\n\tif ( ! self ) {\r\n\r\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\r\n\r\n\t}\r\n\r\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\r\n\r\n};\r\n\r\nvar Color = function () {\r\n\r\n\tfunction Color() {\r\n\r\n\t\tclassCallCheck( this, Color );\r\n\t\tthis.__state = interpret.apply( this, arguments );\r\n\t\tif ( this.__state === false ) {\r\n\r\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\r\n\r\n\t\t}\r\n\t\tthis.__state.a = this.__state.a || 1;\r\n\r\n\t}\r\n\tcreateClass( Color, [ {\r\n\t\tkey: 'toString',\r\n\t\tvalue: function toString() {\r\n\r\n\t\t\treturn colorToString( this );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toHexString',\r\n\t\tvalue: function toHexString() {\r\n\r\n\t\t\treturn colorToString( this, true );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toOriginal',\r\n\t\tvalue: function toOriginal() {\r\n\r\n\t\t\treturn this.__state.conversion.write( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Color;\r\n\r\n}();\r\nfunction defineRGBComponent( target, component, componentHexIndex ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'RGB' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'RGB' ) {\r\n\r\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\t\tthis.__state.space = 'RGB';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nfunction defineHSVComponent( target, component ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'HSV' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateHSV( this );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'HSV' ) {\r\n\r\n\t\t\t\tColor.recalculateHSV( this );\r\n\t\t\t\tthis.__state.space = 'HSV';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\r\n\r\n\tif ( color.__state.space === 'HEX' ) {\r\n\r\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\r\n\r\n\t} else if ( color.__state.space === 'HSV' ) {\r\n\r\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\r\n\r\n\t} else {\r\n\r\n\t\tthrow new Error( 'Corrupted color state' );\r\n\r\n\t}\r\n\r\n};\r\nColor.recalculateHSV = function ( color ) {\r\n\r\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\r\n\tCommon.extend( color.__state, {\r\n\t\ts: result.s,\r\n\t\tv: result.v\r\n\t} );\r\n\tif ( ! Common.isNaN( result.h ) ) {\r\n\r\n\t\tcolor.__state.h = result.h;\r\n\r\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\r\n\r\n\t\tcolor.__state.h = 0;\r\n\r\n\t}\r\n\r\n};\r\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\r\ndefineRGBComponent( Color.prototype, 'r', 2 );\r\ndefineRGBComponent( Color.prototype, 'g', 1 );\r\ndefineRGBComponent( Color.prototype, 'b', 0 );\r\ndefineHSVComponent( Color.prototype, 'h' );\r\ndefineHSVComponent( Color.prototype, 's' );\r\ndefineHSVComponent( Color.prototype, 'v' );\r\nObject.defineProperty( Color.prototype, 'a', {\r\n\tget: function get$$1() {\r\n\r\n\t\treturn this.__state.a;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.a = v;\r\n\r\n\t}\r\n} );\r\nObject.defineProperty( Color.prototype, 'hex', {\r\n\tget: function get$$1() {\r\n\r\n\t\tif ( this.__state.space !== 'HEX' ) {\r\n\r\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\r\n\t\t\tthis.__state.space = 'HEX';\r\n\r\n\t\t}\r\n\t\treturn this.__state.hex;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.space = 'HEX';\r\n\t\tthis.__state.hex = v;\r\n\r\n\t}\r\n} );\r\n\r\nvar Controller = function () {\r\n\r\n\tfunction Controller( object, property ) {\r\n\r\n\t\tclassCallCheck( this, Controller );\r\n\t\tthis.initialValue = object[ property ];\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tthis.object = object;\r\n\t\tthis.property = property;\r\n\t\tthis.__onChange = undefined;\r\n\t\tthis.__onFinishChange = undefined;\r\n\r\n\t}\r\n\tcreateClass( Controller, [ {\r\n\t\tkey: 'onChange',\r\n\t\tvalue: function onChange( fnc ) {\r\n\r\n\t\t\tthis.__onChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'onFinishChange',\r\n\t\tvalue: function onFinishChange( fnc ) {\r\n\r\n\t\t\tthis.__onFinishChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( newValue ) {\r\n\r\n\t\t\tthis.object[ this.property ] = newValue;\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this, newValue );\r\n\r\n\t\t\t}\r\n\t\t\tthis.updateDisplay();\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getValue',\r\n\t\tvalue: function getValue() {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'isModified',\r\n\t\tvalue: function isModified() {\r\n\r\n\t\t\treturn this.initialValue !== this.getValue();\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Controller;\r\n\r\n}();\r\n\r\nvar EVENT_MAP = {\r\n\tHTMLEvents: [ 'change' ],\r\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\r\n\tKeyboardEvents: [ 'keydown' ]\r\n};\r\nvar EVENT_MAP_INV = {};\r\nCommon.each( EVENT_MAP, function ( v, k ) {\r\n\r\n\tCommon.each( v, function ( e ) {\r\n\r\n\t\tEVENT_MAP_INV[ e ] = k;\r\n\r\n\t} );\r\n\r\n} );\r\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\r\nfunction cssValueToPixels( val ) {\r\n\r\n\tif ( val === '0' || Common.isUndefined( val ) ) {\r\n\r\n\t\treturn 0;\r\n\r\n\t}\r\n\tvar match = val.match( CSS_VALUE_PIXELS );\r\n\tif ( ! Common.isNull( match ) ) {\r\n\r\n\t\treturn parseFloat( match[ 1 ] );\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar dom = {\r\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\r\n\r\n\t\tif ( elem === undefined || elem.style === undefined ) return;\r\n\t\telem.onselectstart = selectable ? function () {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t} : function () {};\r\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.unselectable = selectable ? 'on' : 'off';\r\n\r\n\t},\r\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\r\n\r\n\t\tvar vertical = vert;\r\n\t\tvar horizontal = hor;\r\n\t\tif ( Common.isUndefined( horizontal ) ) {\r\n\r\n\t\t\thorizontal = true;\r\n\r\n\t\t}\r\n\t\tif ( Common.isUndefined( vertical ) ) {\r\n\r\n\t\t\tvertical = true;\r\n\r\n\t\t}\r\n\t\telem.style.position = 'absolute';\r\n\t\tif ( horizontal ) {\r\n\r\n\t\t\telem.style.left = 0;\r\n\t\t\telem.style.right = 0;\r\n\r\n\t\t}\r\n\t\tif ( vertical ) {\r\n\r\n\t\t\telem.style.top = 0;\r\n\t\t\telem.style.bottom = 0;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\r\n\r\n\t\tvar params = pars || {};\r\n\t\tvar className = EVENT_MAP_INV[ eventType ];\r\n\t\tif ( ! className ) {\r\n\r\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\r\n\r\n\t\t}\r\n\t\tvar evt = document.createEvent( className );\r\n\t\tswitch ( className ) {\r\n\r\n\t\t\tcase 'MouseEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\r\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\r\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tclientX,\r\n\t\t\t\t\tclientY,\r\n\t\t\t\t\tfalse, false, false, false, 0, null );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tcase 'KeyboardEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\r\n\t\t\t\tCommon.defaults( params, {\r\n\t\t\t\t\tcancelable: true,\r\n\t\t\t\t\tctrlKey: false,\r\n\t\t\t\t\taltKey: false,\r\n\t\t\t\t\tshiftKey: false,\r\n\t\t\t\t\tmetaKey: false,\r\n\t\t\t\t\tkeyCode: undefined,\r\n\t\t\t\t\tcharCode: undefined\r\n\t\t\t\t} );\r\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t{\r\n\r\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tCommon.defaults( evt, aux );\r\n\t\telem.dispatchEvent( evt );\r\n\r\n\t},\r\n\tbind: function bind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.addEventListener ) {\r\n\r\n\t\t\telem.addEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.attachEvent ) {\r\n\r\n\t\t\telem.attachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tunbind: function unbind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.removeEventListener ) {\r\n\r\n\t\t\telem.removeEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.detachEvent ) {\r\n\r\n\t\t\telem.detachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\taddClass: function addClass( elem, className ) {\r\n\r\n\t\tif ( elem.className === undefined ) {\r\n\r\n\t\t\telem.className = className;\r\n\r\n\t\t} else if ( elem.className !== className ) {\r\n\r\n\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\r\n\r\n\t\t\t\tclasses.push( className );\r\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tremoveClass: function removeClass( elem, className ) {\r\n\r\n\t\tif ( className ) {\r\n\r\n\t\t\tif ( elem.className === className ) {\r\n\r\n\t\t\t\telem.removeAttribute( 'class' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\t\tvar index = classes.indexOf( className );\r\n\t\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\t\tclasses.splice( index, 1 );\r\n\t\t\t\t\telem.className = classes.join( ' ' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\telem.className = undefined;\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\thasClass: function hasClass( elem, className ) {\r\n\r\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\r\n\r\n\t},\r\n\tgetWidth: function getWidth( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\r\n\r\n\t},\r\n\tgetHeight: function getHeight( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\r\n\r\n\t},\r\n\tgetOffset: function getOffset( el ) {\r\n\r\n\t\tvar elem = el;\r\n\t\tvar offset = { left: 0, top: 0 };\r\n\t\tif ( elem.offsetParent ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\toffset.left += elem.offsetLeft;\r\n\t\t\t\toffset.top += elem.offsetTop;\r\n\t\t\t\telem = elem.offsetParent;\r\n\r\n\t\t\t} while ( elem );\r\n\r\n\t\t}\r\n\t\treturn offset;\r\n\r\n\t},\r\n\tisActive: function isActive( elem ) {\r\n\r\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\r\n\r\n\t}\r\n};\r\n\r\nvar BooleanController = function ( _Controller ) {\r\n\r\n\tinherits( BooleanController, _Controller );\r\n\tfunction BooleanController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, BooleanController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__prev = _this2.getValue();\r\n\t\t_this2.__checkbox = document.createElement( 'input' );\r\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( ! _this.__prev );\r\n\r\n\t\t}\r\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\r\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\r\n\t\t_this2.updateDisplay();\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( BooleanController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\tthis.__prev = this.getValue();\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( this.getValue() === true ) {\r\n\r\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\r\n\t\t\t\tthis.__checkbox.checked = true;\r\n\t\t\t\tthis.__prev = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.__checkbox.checked = false;\r\n\t\t\t\tthis.__prev = false;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn BooleanController;\r\n\r\n}( Controller );\r\n\r\nvar OptionController = function ( _Controller ) {\r\n\r\n\tinherits( OptionController, _Controller );\r\n\tfunction OptionController( object, property, opts ) {\r\n\r\n\t\tclassCallCheck( this, OptionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\r\n\t\tvar options = opts;\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__select = document.createElement( 'select' );\r\n\t\tif ( Common.isArray( options ) ) {\r\n\r\n\t\t\tvar map = {};\r\n\t\t\tCommon.each( options, function ( element ) {\r\n\r\n\t\t\t\tmap[ element ] = element;\r\n\r\n\t\t\t} );\r\n\t\t\toptions = map;\r\n\r\n\t\t}\r\n\t\tCommon.each( options, function ( value, key ) {\r\n\r\n\t\t\tvar opt = document.createElement( 'option' );\r\n\t\t\topt.innerHTML = key;\r\n\t\t\topt.setAttribute( 'value', value );\r\n\t\t\t_this.__select.appendChild( opt );\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\tdom.bind( _this2.__select, 'change', function () {\r\n\r\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\r\n\t\t\t_this.setValue( desiredValue );\r\n\r\n\t\t} );\r\n\t\t_this2.domElement.appendChild( _this2.__select );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( OptionController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\r\n\t\t\tthis.__select.value = this.getValue();\r\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn OptionController;\r\n\r\n}( Controller );\r\n\r\nvar StringController = function ( _Controller ) {\r\n\r\n\tinherits( StringController, _Controller );\r\n\tfunction StringController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, StringController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( _this.__input.value );\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tthis.blur();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( StringController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\r\n\r\n\t\t\t\tthis.__input.value = this.getValue();\r\n\r\n\t\t\t}\r\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn StringController;\r\n\r\n}( Controller );\r\n\r\nfunction numDecimals( x ) {\r\n\r\n\tvar _x = x.toString();\r\n\tif ( _x.indexOf( '.' ) > - 1 ) {\r\n\r\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar NumberController = function ( _Controller ) {\r\n\r\n\tinherits( NumberController, _Controller );\r\n\tfunction NumberController( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberController );\r\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\r\n\t\tvar _params = params || {};\r\n\t\t_this.__min = _params.min;\r\n\t\t_this.__max = _params.max;\r\n\t\t_this.__step = _params.step;\r\n\t\tif ( Common.isUndefined( _this.__step ) ) {\r\n\r\n\t\t\tif ( _this.initialValue === 0 ) {\r\n\r\n\t\t\t\t_this.__impliedStep = 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_this.__impliedStep = _this.__step;\r\n\r\n\t\t}\r\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\r\n\t\treturn _this;\r\n\r\n\t}\r\n\tcreateClass( NumberController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar _v = v;\r\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\r\n\r\n\t\t\t\t_v = this.__min;\r\n\r\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\r\n\r\n\t\t\t\t_v = this.__max;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\r\n\r\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'min',\r\n\t\tvalue: function min( minValue ) {\r\n\r\n\t\t\tthis.__min = minValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'max',\r\n\t\tvalue: function max( maxValue ) {\r\n\r\n\t\t\tthis.__max = maxValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'step',\r\n\t\tvalue: function step( stepValue ) {\r\n\r\n\t\t\tthis.__step = stepValue;\r\n\t\t\tthis.__impliedStep = stepValue;\r\n\t\t\tthis.__precision = numDecimals( stepValue );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberController;\r\n\r\n}( Controller );\r\n\r\nfunction roundToDecimal( value, decimals ) {\r\n\r\n\tvar tenTo = Math.pow( 10, decimals );\r\n\treturn Math.round( value * tenTo ) / tenTo;\r\n\r\n}\r\nvar NumberControllerBox = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerBox, _NumberController );\r\n\tfunction NumberControllerBox( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerBox );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\r\n\t\t_this2.__truncationSuspended = false;\r\n\t\tvar _this = _this2;\r\n\t\tvar prevY = void 0;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\tvar attempted = parseFloat( _this.__input.value );\r\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\r\n\r\n\t\t\t\t_this.setValue( attempted );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\tvar diff = prevY - e.clientY;\r\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\t_this.__truncationSuspended = true;\r\n\t\t\t\tthis.blur();\r\n\t\t\t\t_this.__truncationSuspended = false;\r\n\t\t\t\tonFinish();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerBox, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\r\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerBox;\r\n\r\n}( NumberController );\r\n\r\nfunction map( v, i1, i2, o1, o2 ) {\r\n\r\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\r\n\r\n}\r\nvar NumberControllerSlider = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerSlider, _NumberController );\r\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerSlider );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__background = document.createElement( 'div' );\r\n\t\t_this2.__foreground = document.createElement( 'div' );\r\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\r\n\t\tdom.addClass( _this2.__background, 'slider' );\r\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tonMouseDrag( e );\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onTouchStart( e ) {\r\n\r\n\t\t\tif ( e.touches.length !== 1 ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\r\n\t\t\tonTouchMove( e );\r\n\r\n\t\t}\r\n\t\tfunction onTouchMove( e ) {\r\n\r\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\r\n\t\t}\r\n\t\tfunction onTouchEnd() {\r\n\r\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.__background.appendChild( _this2.__foreground );\r\n\t\t_this2.domElement.appendChild( _this2.__background );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerSlider, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\r\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\r\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerSlider;\r\n\r\n}( NumberController );\r\n\r\nvar FunctionController = function ( _Controller ) {\r\n\r\n\tinherits( FunctionController, _Controller );\r\n\tfunction FunctionController( object, property, text ) {\r\n\r\n\t\tclassCallCheck( this, FunctionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__button = document.createElement( 'div' );\r\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\r\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.fire();\r\n\t\t\treturn false;\r\n\r\n\t\t} );\r\n\t\tdom.addClass( _this2.__button, 'button' );\r\n\t\t_this2.domElement.appendChild( _this2.__button );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( FunctionController, [ {\r\n\t\tkey: 'fire',\r\n\t\tvalue: function fire() {\r\n\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this );\r\n\r\n\t\t\t}\r\n\t\t\tthis.getValue().call( this.object );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn FunctionController;\r\n\r\n}( Controller );\r\n\r\nvar ColorController = function ( _Controller ) {\r\n\r\n\tinherits( ColorController, _Controller );\r\n\tfunction ColorController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, ColorController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\r\n\t\t_this2.__color = new Color( _this2.getValue() );\r\n\t\t_this2.__temp = new Color( 0 );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.domElement = document.createElement( 'div' );\r\n\t\tdom.makeSelectable( _this2.domElement, false );\r\n\t\t_this2.__selector = document.createElement( 'div' );\r\n\t\t_this2.__selector.className = 'selector';\r\n\t\t_this2.__saturation_field = document.createElement( 'div' );\r\n\t\t_this2.__saturation_field.className = 'saturation-field';\r\n\t\t_this2.__field_knob = document.createElement( 'div' );\r\n\t\t_this2.__field_knob.className = 'field-knob';\r\n\t\t_this2.__field_knob_border = '2px solid ';\r\n\t\t_this2.__hue_knob = document.createElement( 'div' );\r\n\t\t_this2.__hue_knob.className = 'hue-knob';\r\n\t\t_this2.__hue_field = document.createElement( 'div' );\r\n\t\t_this2.__hue_field.className = 'hue-field';\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.type = 'text';\r\n\t\t_this2.__input_textShadow = '0 1px 1px ';\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tonBlur.call( this );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tvar valueField = document.createElement( 'div' );\r\n\t\tCommon.extend( _this2.__selector.style, {\r\n\t\t\twidth: '122px',\r\n\t\t\theight: '102px',\r\n\t\t\tpadding: '3px',\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__field_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '12px',\r\n\t\t\theight: '12px',\r\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\r\n\t\t\tborderRadius: '12px',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__hue_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '2px',\r\n\t\t\tborderRight: '4px solid #fff',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__saturation_field.style, {\r\n\t\t\twidth: '100px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tmarginRight: '3px',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\tcursor: 'pointer'\r\n\t\t} );\r\n\t\tCommon.extend( valueField.style, {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tbackground: 'none'\r\n\t\t} );\r\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\r\n\t\tCommon.extend( _this2.__hue_field.style, {\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tcursor: 'ns-resize',\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '3px',\r\n\t\t\tright: '3px'\r\n\t\t} );\r\n\t\thueGradient( _this2.__hue_field );\r\n\t\tCommon.extend( _this2.__input.style, {\r\n\t\t\toutline: 'none',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#fff',\r\n\t\t\tborder: 0,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\r\n\t\t} );\r\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\r\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\r\n\t\tfunction fieldDown( e ) {\r\n\r\n\t\t\tsetSV( e );\r\n\t\t\tdom.bind( window, 'mousemove', setSV );\r\n\t\t\tdom.bind( window, 'touchmove', setSV );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\r\n\r\n\t\t}\r\n\t\tfunction fieldDownH( e ) {\r\n\r\n\t\t\tsetH( e );\r\n\t\t\tdom.bind( window, 'mousemove', setH );\r\n\t\t\tdom.bind( window, 'touchmove', setH );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\r\n\r\n\t\t}\r\n\t\tfunction fieldUpSV() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setSV );\r\n\t\t\tdom.unbind( window, 'touchmove', setSV );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction fieldUpH() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setH );\r\n\t\t\tdom.unbind( window, 'touchmove', setH );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tvar i = interpret( this.value );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\t_this.__color.__state = i;\r\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.value = _this.__color.toString();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__saturation_field.appendChild( valueField );\r\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\r\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\r\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\r\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\t_this2.domElement.appendChild( _this2.__selector );\r\n\t\t_this2.updateDisplay();\r\n\t\tfunction setSV( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\r\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientX = _ref.clientX,\r\n\t\t\t\tclientY = _ref.clientY;\r\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\r\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( v > 1 ) {\r\n\r\n\t\t\t\tv = 1;\r\n\r\n\t\t\t} else if ( v < 0 ) {\r\n\r\n\t\t\t\tv = 0;\r\n\r\n\t\t\t}\r\n\t\t\tif ( s > 1 ) {\r\n\r\n\t\t\t\ts = 1;\r\n\r\n\t\t\t} else if ( s < 0 ) {\r\n\r\n\t\t\t\ts = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.v = v;\r\n\t\t\t_this.__color.s = s;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction setH( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\r\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientY = _ref2.clientY;\r\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( h > 1 ) {\r\n\r\n\t\t\t\th = 1;\r\n\r\n\t\t\t} else if ( h < 0 ) {\r\n\r\n\t\t\t\th = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.h = h * 360;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( ColorController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar i = interpret( this.getValue() );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\tvar mismatch = false;\r\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\r\n\r\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\r\n\r\n\t\t\t\t\t\tmismatch = true;\r\n\t\t\t\t\t\treturn {};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, this );\r\n\t\t\t\tif ( mismatch ) {\r\n\r\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\r\n\t\t\tthis.__temp.a = 1;\r\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\r\n\t\t\tvar _flip = 255 - flip;\r\n\t\t\tCommon.extend( this.__field_knob.style, {\r\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\r\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\r\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\r\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\r\n\t\t\t} );\r\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\r\n\t\t\tthis.__temp.s = 1;\r\n\t\t\tthis.__temp.v = 1;\r\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\r\n\t\t\tthis.__input.value = this.__color.toString();\r\n\t\t\tCommon.extend( this.__input.style, {\r\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\r\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\r\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn ColorController;\r\n\r\n}( Controller );\r\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\r\nfunction linearGradient( elem, x, a, b ) {\r\n\r\n\telem.style.background = '';\r\n\tCommon.each( vendors, function ( vendor ) {\r\n\r\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\r\n\r\n\t} );\r\n\r\n}\r\nfunction hueGradient( elem ) {\r\n\r\n\telem.style.background = '';\r\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\r\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\r\n}\r\n\r\nvar css = {\r\n\tload: function load( url, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar link = doc.createElement( 'link' );\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.href = url;\r\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\r\n\r\n\t},\r\n\tinject: function inject( cssContent, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar injected = document.createElement( 'style' );\r\n\t\tinjected.type = 'text/css';\r\n\t\tinjected.innerHTML = cssContent;\r\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\r\n\t\ttry {\r\n\r\n\t\t\thead.appendChild( injected );\r\n\r\n\t\t} catch ( e ) {\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\r\n\r\nvar ControllerFactory = function ControllerFactory( object, property ) {\r\n\r\n\tvar initialValue = object[ property ];\r\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\r\n\r\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\r\n\r\n\t}\r\n\tif ( Common.isNumber( initialValue ) ) {\r\n\r\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\r\n\r\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\r\n\r\n\t\t\t}\r\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\r\n\r\n\t\t}\r\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\r\n\r\n\t\t}\r\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\r\n\r\n\t}\r\n\tif ( Common.isString( initialValue ) ) {\r\n\r\n\t\treturn new StringController( object, property );\r\n\r\n\t}\r\n\tif ( Common.isFunction( initialValue ) ) {\r\n\r\n\t\treturn new FunctionController( object, property, '' );\r\n\r\n\t}\r\n\tif ( Common.isBoolean( initialValue ) ) {\r\n\r\n\t\treturn new BooleanController( object, property );\r\n\r\n\t}\r\n\treturn null;\r\n\r\n};\r\n\r\nfunction requestAnimationFrame( callback ) {\r\n\r\n\tsetTimeout( callback, 1000 / 60 );\r\n\r\n}\r\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\r\n\r\nvar CenteredDiv = function () {\r\n\r\n\tfunction CenteredDiv() {\r\n\r\n\t\tclassCallCheck( this, CenteredDiv );\r\n\t\tthis.backgroundElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.backgroundElement.style, {\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1000',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\r\n\t\t\ttransition: 'opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdom.makeFullscreen( this.backgroundElement );\r\n\t\tthis.backgroundElement.style.position = 'fixed';\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.domElement.style, {\r\n\t\t\tposition: 'fixed',\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1001',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\r\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdocument.body.appendChild( this.backgroundElement );\r\n\t\tdocument.body.appendChild( this.domElement );\r\n\t\tvar _this = this;\r\n\t\tdom.bind( this.backgroundElement, 'click', function () {\r\n\r\n\t\t\t_this.hide();\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tcreateClass( CenteredDiv, [ {\r\n\t\tkey: 'show',\r\n\t\tvalue: function show() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.backgroundElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\t\t\tthis.layout();\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'hide',\r\n\t\tvalue: function hide() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tvar hide = function hide() {\r\n\r\n\t\t\t\t_this.domElement.style.display = 'none';\r\n\t\t\t\t_this.backgroundElement.style.display = 'none';\r\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\r\n\r\n\t\t\t};\r\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\r\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\r\n\t\t\tthis.backgroundElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'layout',\r\n\t\tvalue: function layout() {\r\n\r\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\r\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn CenteredDiv;\r\n\r\n}();\r\n\r\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\r\n\r\ncss.inject( styleSheet );\r\nvar CSS_NAMESPACE = 'dg';\r\nvar HIDE_KEY_CODE = 72;\r\nvar CLOSE_BUTTON_HEIGHT = 20;\r\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\r\nvar SUPPORTS_LOCAL_STORAGE = function () {\r\n\r\n\ttry {\r\n\r\n\t\treturn !! window.localStorage;\r\n\r\n\t} catch ( e ) {\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n}();\r\nvar SAVE_DIALOGUE = void 0;\r\nvar autoPlaceVirgin = true;\r\nvar autoPlaceContainer = void 0;\r\nvar hide = false;\r\nvar hideableGuis = [];\r\nvar GUI = function GUI( pars ) {\r\n\r\n\tvar _this = this;\r\n\tvar params = pars || {};\r\n\tthis.domElement = document.createElement( 'div' );\r\n\tthis.__ul = document.createElement( 'ul' );\r\n\tthis.domElement.appendChild( this.__ul );\r\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\r\n\tthis.__folders = {};\r\n\tthis.__controllers = [];\r\n\tthis.__rememberedObjects = [];\r\n\tthis.__rememberedObjectIndecesToControllers = [];\r\n\tthis.__listening = [];\r\n\tparams = Common.defaults( params, {\r\n\t\tcloseOnTop: false,\r\n\t\tautoPlace: true,\r\n\t\twidth: GUI.DEFAULT_WIDTH\r\n\t} );\r\n\tparams = Common.defaults( params, {\r\n\t\tresizable: params.autoPlace,\r\n\t\thideable: params.autoPlace\r\n\t} );\r\n\tif ( ! Common.isUndefined( params.load ) ) {\r\n\r\n\t\tif ( params.preset ) {\r\n\r\n\t\t\tparams.load.preset = params.preset;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\r\n\r\n\t}\r\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\r\n\r\n\t\thideableGuis.push( this );\r\n\r\n\t}\r\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\r\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\r\n\r\n\t\tparams.scrollable = true;\r\n\r\n\t}\r\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\r\n\tvar saveToLocalStorage = void 0;\r\n\tvar titleRow = void 0;\r\n\tObject.defineProperties( this,\r\n\t\t{\r\n\t\t\tparent: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.parent;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollable: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.scrollable;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tautoPlace: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.autoPlace;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseOnTop: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closeOnTop;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpreset: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\treturn _this.getRoot().preset;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn params.load.preset;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\t_this.getRoot().preset = v;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tparams.load.preset = v;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetPresetSelectIndex( this );\r\n\t\t\t\t\t_this.revert();\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.width;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.width = v;\r\n\t\t\t\t\tsetWidth( _this, v );\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.name;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.name = v;\r\n\t\t\t\t\tif ( titleRow ) {\r\n\r\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclosed: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closed;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.closed = v;\r\n\t\t\t\t\tif ( params.closed ) {\r\n\r\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onResize();\r\n\t\t\t\t\tif ( _this.__closeButton ) {\r\n\r\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tload: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.load;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuseLocalStorage: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn useLocalStorage;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( bool ) {\r\n\r\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\t\t\t\tuseLocalStorage = bool;\r\n\t\t\t\t\t\tif ( bool ) {\r\n\r\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\tthis.closed = params.closed || false;\r\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\r\n\t\tdom.makeSelectable( this.domElement, false );\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\tif ( useLocalStorage ) {\r\n\r\n\t\t\t\t_this.useLocalStorage = true;\r\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\r\n\t\t\t\tif ( savedGui ) {\r\n\r\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis.__closeButton = document.createElement( 'div' );\r\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\r\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\r\n\t\tif ( params.closeOnTop ) {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\r\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\r\n\t\t\tthis.domElement.appendChild( this.__closeButton );\r\n\r\n\t\t}\r\n\t\tdom.bind( this.__closeButton, 'click', function () {\r\n\r\n\t\t\t_this.closed = ! _this.closed;\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\tif ( params.closed === undefined ) {\r\n\r\n\t\t\tparams.closed = true;\r\n\r\n\t\t}\r\n\t\tvar titleRowName = document.createTextNode( params.name );\r\n\t\tdom.addClass( titleRowName, 'controller-name' );\r\n\t\ttitleRow = addRow( _this, titleRowName );\r\n\t\tvar onClickTitle = function onClickTitle( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.closed = ! _this.closed;\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\r\n\t\tdom.addClass( titleRow, 'title' );\r\n\t\tdom.bind( titleRow, 'click', onClickTitle );\r\n\t\tif ( ! params.closed ) {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tif ( params.autoPlace ) {\r\n\r\n\t\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\t\tif ( autoPlaceVirgin ) {\r\n\r\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\r\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\r\n\t\t\t\tautoPlaceVirgin = false;\r\n\r\n\t\t\t}\r\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\r\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\r\n\r\n\t\t}\r\n\t\tif ( ! this.parent ) {\r\n\r\n\t\t\tsetWidth( _this, params.width );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tthis.__resizeHandler = function () {\r\n\r\n\t\t_this.onResizeDebounced();\r\n\r\n\t};\r\n\tdom.bind( window, 'resize', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\r\n\tthis.onResize();\r\n\tif ( params.resizable ) {\r\n\r\n\t\taddResizeHandle( this );\r\n\r\n\t}\r\n\tsaveToLocalStorage = function saveToLocalStorage() {\r\n\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\r\n\tfunction resetWidth() {\r\n\r\n\t\tvar root = _this.getRoot();\r\n\t\troot.width += 1;\r\n\t\tCommon.defer( function () {\r\n\r\n\t\t\troot.width -= 1;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tif ( ! params.parent ) {\r\n\r\n\t\tresetWidth();\r\n\r\n\t}\r\n\r\n};\r\nGUI.toggleHide = function () {\r\n\r\n\thide = ! hide;\r\n\tCommon.each( hideableGuis, function ( gui ) {\r\n\r\n\t\tgui.domElement.style.display = hide ? 'none' : '';\r\n\r\n\t} );\r\n\r\n};\r\nGUI.CLASS_AUTO_PLACE = 'a';\r\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\r\nGUI.CLASS_MAIN = 'main';\r\nGUI.CLASS_CONTROLLER_ROW = 'cr';\r\nGUI.CLASS_TOO_TALL = 'taller-than-window';\r\nGUI.CLASS_CLOSED = 'closed';\r\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\r\nGUI.CLASS_CLOSE_TOP = 'close-top';\r\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\r\nGUI.CLASS_DRAG = 'drag';\r\nGUI.DEFAULT_WIDTH = 245;\r\nGUI.TEXT_CLOSED = 'Close Controls';\r\nGUI.TEXT_OPEN = 'Open Controls';\r\nGUI._keydownHandler = function ( e ) {\r\n\r\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\r\n\r\n\t\tGUI.toggleHide();\r\n\r\n\t}\r\n\r\n};\r\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\r\nCommon.extend( GUI.prototype,\r\n\t{\r\n\t\tadd: function add( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\taddColor: function addColor( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tcolor: true\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tremove: function remove( controller ) {\r\n\r\n\t\t\tthis.__ul.removeChild( controller.__li );\r\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdestroy: function destroy() {\r\n\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\t_this.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\r\n\t\t\tremoveListeners( this );\r\n\r\n\t\t},\r\n\t\taddFolder: function addFolder( name ) {\r\n\r\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\r\n\r\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\r\n\r\n\t\t\t}\r\n\t\t\tvar newGuiParams = { name: name, parent: this };\r\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ name ] ) {\r\n\r\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\r\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\r\n\r\n\t\t\t}\r\n\t\t\tvar gui = new GUI( newGuiParams );\r\n\t\t\tthis.__folders[ name ] = gui;\r\n\t\t\tvar li = addRow( this, gui.domElement );\r\n\t\t\tdom.addClass( li, 'folder' );\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tremoveFolder: function removeFolder( folder ) {\r\n\r\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\r\n\t\t\tdelete this.__folders[ folder.name ];\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ folder.name ] ) {\r\n\r\n\t\t\t\tdelete this.load.folders[ folder.name ];\r\n\r\n\t\t\t}\r\n\t\t\tremoveListeners( folder );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\tfolder.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\topen: function open() {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t},\r\n\t\tclose: function close() {\r\n\r\n\t\t\tthis.closed = true;\r\n\r\n\t\t},\r\n\t\thide: function hide() {\r\n\r\n\t\t\tthis.domElement.style.display = 'none';\r\n\r\n\t\t},\r\n\t\tshow: function show() {\r\n\r\n\t\t\tthis.domElement.style.display = '';\r\n\r\n\t\t},\r\n\t\tonResize: function onResize() {\r\n\r\n\t\t\tvar root = this.getRoot();\r\n\t\t\tif ( root.scrollable ) {\r\n\r\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\r\n\t\t\t\tvar h = 0;\r\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\r\n\r\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\r\n\r\n\t\t\t\t\t\th += dom.getHeight( node );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\r\n\r\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = 'auto';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__resize_handle ) {\r\n\r\n\t\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__closeButton ) {\r\n\r\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonResizeDebounced: Common.debounce( function () {\r\n\r\n\t\t\tthis.onResize();\r\n\r\n\t\t}, 50 ),\r\n\t\tremember: function remember() {\r\n\r\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\r\n\r\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\r\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\r\n\r\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\r\n\r\n\t\t\t\t\taddSaveMenu( _this );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\r\n\r\n\t\t\t\t\t_this.__rememberedObjects.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tsetWidth( this, this.width );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tgetRoot: function getRoot() {\r\n\r\n\t\t\tvar gui = this;\r\n\t\t\twhile ( gui.parent ) {\r\n\r\n\t\t\t\tgui = gui.parent;\r\n\r\n\t\t\t}\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tgetSaveObject: function getSaveObject() {\r\n\r\n\t\t\tvar toReturn = this.load;\r\n\t\t\ttoReturn.closed = this.closed;\r\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\r\n\r\n\t\t\t\ttoReturn.preset = this.preset;\r\n\t\t\t\tif ( ! toReturn.remembered ) {\r\n\r\n\t\t\t\t\ttoReturn.remembered = {};\r\n\r\n\t\t\t\t}\r\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\r\n\r\n\t\t\t}\r\n\t\t\ttoReturn.folders = {};\r\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\r\n\r\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\r\n\r\n\t\t\t} );\r\n\t\t\treturn toReturn;\r\n\r\n\t\t},\r\n\t\tsave: function save() {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\r\n\t\t\tmarkPresetModified( this, false );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\tsaveAs: function saveAs( presetName ) {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\r\n\t\t\tthis.preset = presetName;\r\n\t\t\taddPresetOption( this, presetName, true );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\trevert: function revert( gui ) {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\r\n\r\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( controller.__onFinishChange ) {\r\n\r\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, this );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.revert( folder );\r\n\r\n\t\t\t} );\r\n\t\t\tif ( ! gui ) {\r\n\r\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tlisten: function listen( controller ) {\r\n\r\n\t\t\tvar init = this.__listening.length === 0;\r\n\t\t\tthis.__listening.push( controller );\r\n\t\t\tif ( init ) {\r\n\r\n\t\t\t\tupdateDisplays( this.__listening );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tupdateDisplay: function updateDisplay() {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tcontroller.updateDisplay();\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.updateDisplay();\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} );\r\nfunction addRow( gui, newDom, liBefore ) {\r\n\r\n\tvar li = document.createElement( 'li' );\r\n\tif ( newDom ) {\r\n\r\n\t\tli.appendChild( newDom );\r\n\r\n\t}\r\n\tif ( liBefore ) {\r\n\r\n\t\tgui.__ul.insertBefore( li, liBefore );\r\n\r\n\t} else {\r\n\r\n\t\tgui.__ul.appendChild( li );\r\n\r\n\t}\r\n\tgui.onResize();\r\n\treturn li;\r\n\r\n}\r\nfunction removeListeners( gui ) {\r\n\r\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\r\n\tif ( gui.saveToLocalStorageIfPossible ) {\r\n\r\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\r\n\r\n\t}\r\n\r\n}\r\nfunction markPresetModified( gui, modified ) {\r\n\r\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\r\n\tif ( modified ) {\r\n\r\n\t\topt.innerHTML = opt.value + '*';\r\n\r\n\t} else {\r\n\r\n\t\topt.innerHTML = opt.value;\r\n\r\n\t}\r\n\r\n}\r\nfunction augmentController( gui, li, controller ) {\r\n\r\n\tcontroller.__li = li;\r\n\tcontroller.__gui = gui;\r\n\tCommon.extend( controller, {\r\n\t\toptions: function options( _options ) {\r\n\r\n\t\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\r\n\r\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: _nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ _options ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tname: function name( _name ) {\r\n\r\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tlisten: function listen() {\r\n\r\n\t\t\tcontroller.__gui.listen( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tremove: function remove() {\r\n\r\n\t\t\tcontroller.__gui.remove( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t}\r\n\t} );\r\n\tif ( controller instanceof NumberControllerSlider ) {\r\n\r\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\r\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\r\n\r\n\t\t\tvar pc = controller[ method ];\r\n\t\t\tvar pb = box[ method ];\r\n\t\t\tcontroller[ method ] = box[ method ] = function () {\r\n\r\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\r\n\t\t\t\tpb.apply( box, args );\r\n\t\t\t\treturn pc.apply( controller, args );\r\n\r\n\t\t\t};\r\n\r\n\t\t} );\r\n\t\tdom.addClass( li, 'has-slider' );\r\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\r\n\r\n\t} else if ( controller instanceof NumberControllerBox ) {\r\n\r\n\t\tvar r = function r( returned ) {\r\n\r\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\r\n\r\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\r\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\r\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\r\n\t\t\t\t} );\r\n\t\t\t\tnewController.name( oldName );\r\n\t\t\t\tif ( wasListening ) newController.listen();\r\n\t\t\t\treturn newController;\r\n\r\n\t\t\t}\r\n\t\t\treturn returned;\r\n\r\n\t\t};\r\n\t\tcontroller.min = Common.compose( r, controller.min );\r\n\t\tcontroller.max = Common.compose( r, controller.max );\r\n\r\n\t} else if ( controller instanceof BooleanController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\r\n\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof FunctionController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseover', function () {\r\n\r\n\t\t\tdom.addClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseout', function () {\r\n\r\n\t\t\tdom.removeClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\r\n\r\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\r\n\t\t\treturn val;\r\n\r\n\t\t}, controller.updateDisplay );\r\n\t\tcontroller.updateDisplay();\r\n\r\n\t}\r\n\tcontroller.setValue = Common.compose( function ( val ) {\r\n\r\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\r\n\r\n\t\t\tmarkPresetModified( gui.getRoot(), true );\r\n\r\n\t\t}\r\n\t\treturn val;\r\n\r\n\t}, controller.setValue );\r\n\r\n}\r\nfunction recallSavedValue( gui, controller ) {\r\n\r\n\tvar root = gui.getRoot();\r\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\r\n\tif ( matchedIndex !== - 1 ) {\r\n\r\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\r\n\t\tif ( controllerMap === undefined ) {\r\n\r\n\t\t\tcontrollerMap = {};\r\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\r\n\r\n\t\t}\r\n\t\tcontrollerMap[ controller.property ] = controller;\r\n\t\tif ( root.load && root.load.remembered ) {\r\n\r\n\t\t\tvar presetMap = root.load.remembered;\r\n\t\t\tvar preset = void 0;\r\n\t\t\tif ( presetMap[ gui.preset ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ gui.preset ];\r\n\r\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\r\n\r\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\r\n\t\t\t\tcontroller.initialValue = value;\r\n\t\t\t\tcontroller.setValue( value );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction _add( gui, object, property, params ) {\r\n\r\n\tif ( object[ property ] === undefined ) {\r\n\r\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\r\n\r\n\t}\r\n\tvar controller = void 0;\r\n\tif ( params.color ) {\r\n\r\n\t\tcontroller = new ColorController( object, property );\r\n\r\n\t} else {\r\n\r\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\r\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\r\n\r\n\t}\r\n\tif ( params.before instanceof Controller ) {\r\n\r\n\t\tparams.before = params.before.__li;\r\n\r\n\t}\r\n\trecallSavedValue( gui, controller );\r\n\tdom.addClass( controller.domElement, 'c' );\r\n\tvar name = document.createElement( 'span' );\r\n\tdom.addClass( name, 'property-name' );\r\n\tname.innerHTML = controller.property;\r\n\tvar container = document.createElement( 'div' );\r\n\tcontainer.appendChild( name );\r\n\tcontainer.appendChild( controller.domElement );\r\n\tvar li = addRow( gui, container, params.before );\r\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\r\n\tif ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\r\n\t} else {\r\n\r\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\r\n\r\n\t}\r\n\taugmentController( gui, li, controller );\r\n\tgui.__controllers.push( controller );\r\n\treturn controller;\r\n\r\n}\r\nfunction getLocalStorageHash( gui, key ) {\r\n\r\n\treturn document.location.href + '.' + key;\r\n\r\n}\r\nfunction addPresetOption( gui, name, setSelected ) {\r\n\r\n\tvar opt = document.createElement( 'option' );\r\n\topt.innerHTML = name;\r\n\topt.value = name;\r\n\tgui.__preset_select.appendChild( opt );\r\n\tif ( setSelected ) {\r\n\r\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\r\n\r\n\t}\r\n\r\n}\r\nfunction showHideExplain( gui, explain ) {\r\n\r\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\r\n\r\n}\r\nfunction addSaveMenu( gui ) {\r\n\r\n\tvar div = gui.__save_row = document.createElement( 'li' );\r\n\tdom.addClass( gui.domElement, 'has-save' );\r\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\r\n\tdom.addClass( div, 'save-row' );\r\n\tvar gears = document.createElement( 'span' );\r\n\tgears.innerHTML = '&nbsp;';\r\n\tdom.addClass( gears, 'button gears' );\r\n\tvar button = document.createElement( 'span' );\r\n\tbutton.innerHTML = 'Save';\r\n\tdom.addClass( button, 'button' );\r\n\tdom.addClass( button, 'save' );\r\n\tvar button2 = document.createElement( 'span' );\r\n\tbutton2.innerHTML = 'New';\r\n\tdom.addClass( button2, 'button' );\r\n\tdom.addClass( button2, 'save-as' );\r\n\tvar button3 = document.createElement( 'span' );\r\n\tbutton3.innerHTML = 'Revert';\r\n\tdom.addClass( button3, 'button' );\r\n\tdom.addClass( button3, 'revert' );\r\n\tvar select = gui.__preset_select = document.createElement( 'select' );\r\n\tif ( gui.load && gui.load.remembered ) {\r\n\r\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\r\n\r\n\t\t\taddPresetOption( gui, key, key === gui.preset );\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\r\n\r\n\t}\r\n\tdom.bind( select, 'change', function () {\r\n\r\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\r\n\r\n\t\t}\r\n\t\tgui.preset = this.value;\r\n\r\n\t} );\r\n\tdiv.appendChild( select );\r\n\tdiv.appendChild( gears );\r\n\tdiv.appendChild( button );\r\n\tdiv.appendChild( button2 );\r\n\tdiv.appendChild( button3 );\r\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\r\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\r\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\r\n\t\tsaveLocally.style.display = 'block';\r\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\r\n\r\n\t\t}\r\n\t\tshowHideExplain( gui, explain );\r\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\r\n\r\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\r\n\t\t\tshowHideExplain( gui, explain );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\r\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\r\n\r\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\r\n\r\n\t\t\tSAVE_DIALOGUE.hide();\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( gears, 'click', function () {\r\n\r\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\r\n\t\tSAVE_DIALOGUE.show();\r\n\t\tnewConstructorTextArea.focus();\r\n\t\tnewConstructorTextArea.select();\r\n\r\n\t} );\r\n\tdom.bind( button, 'click', function () {\r\n\r\n\t\tgui.save();\r\n\r\n\t} );\r\n\tdom.bind( button2, 'click', function () {\r\n\r\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\r\n\t\tif ( presetName ) {\r\n\r\n\t\t\tgui.saveAs( presetName );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( button3, 'click', function () {\r\n\r\n\t\tgui.revert();\r\n\r\n\t} );\r\n\r\n}\r\nfunction addResizeHandle( gui ) {\r\n\r\n\tvar pmouseX = void 0;\r\n\tgui.__resize_handle = document.createElement( 'div' );\r\n\tCommon.extend( gui.__resize_handle.style, {\r\n\t\twidth: '6px',\r\n\t\tmarginLeft: '-3px',\r\n\t\theight: '200px',\r\n\t\tcursor: 'ew-resize',\r\n\t\tposition: 'absolute'\r\n\t} );\r\n\tfunction drag( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tgui.width += pmouseX - e.clientX;\r\n\t\tgui.onResize();\r\n\t\tpmouseX = e.clientX;\r\n\t\treturn false;\r\n\r\n\t}\r\n\tfunction dragStop() {\r\n\r\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.unbind( window, 'mousemove', drag );\r\n\t\tdom.unbind( window, 'mouseup', dragStop );\r\n\r\n\t}\r\n\tfunction dragStart( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tpmouseX = e.clientX;\r\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.bind( window, 'mousemove', drag );\r\n\t\tdom.bind( window, 'mouseup', dragStop );\r\n\t\treturn false;\r\n\r\n\t}\r\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\r\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\r\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\r\n\r\n}\r\nfunction setWidth( gui, w ) {\r\n\r\n\tgui.domElement.style.width = w + 'px';\r\n\tif ( gui.__save_row && gui.autoPlace ) {\r\n\r\n\t\tgui.__save_row.style.width = w + 'px';\r\n\r\n\t}\r\n\tif ( gui.__closeButton ) {\r\n\r\n\t\tgui.__closeButton.style.width = w + 'px';\r\n\r\n\t}\r\n\r\n}\r\nfunction getCurrentPreset( gui, useInitialValues ) {\r\n\r\n\tvar toReturn = {};\r\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\r\n\r\n\t\tvar savedValues = {};\r\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\r\n\t\tCommon.each( controllerMap, function ( controller, property ) {\r\n\r\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\r\n\r\n\t\t} );\r\n\t\ttoReturn[ index ] = savedValues;\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n}\r\nfunction setPresetSelectIndex( gui ) {\r\n\r\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\r\n\r\n\t\t\tgui.__preset_select.selectedIndex = index;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction updateDisplays( controllerArray ) {\r\n\r\n\tif ( controllerArray.length !== 0 ) {\r\n\r\n\t\trequestAnimationFrame$1.call( window, function () {\r\n\r\n\t\t\tupdateDisplays( controllerArray );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tCommon.each( controllerArray, function ( c ) {\r\n\r\n\t\tc.updateDisplay();\r\n\r\n\t} );\r\n\r\n}\r\n\r\nvar color = {\r\n\tColor: Color,\r\n\tmath: ColorMath,\r\n\tinterpret: interpret\r\n};\r\nvar controllers = {\r\n\tController: Controller,\r\n\tBooleanController: BooleanController,\r\n\tOptionController: OptionController,\r\n\tStringController: StringController,\r\n\tNumberController: NumberController,\r\n\tNumberControllerBox: NumberControllerBox,\r\n\tNumberControllerSlider: NumberControllerSlider,\r\n\tFunctionController: FunctionController,\r\n\tColorController: ColorController\r\n};\r\nvar dom$1 = { dom: dom };\r\nvar gui = { GUI: GUI };\r\nvar GUI$1 = GUI;\r\nvar index = {\r\n\tcolor: color,\r\n\tcontrollers: controllers,\r\n\tdom: dom$1,\r\n\tgui: gui,\r\n\tGUI: GUI$1\r\n};\r\n\r\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\r\nexport default index;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/dat.gui.module.js","function NodeUniform( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.name = params.name;\r\n\tthis.type = params.type;\r\n\tthis.node = params.node;\r\n\tthis.needsUpdate = params.needsUpdate;\r\n\r\n}\r\n\r\nObject.defineProperties( NodeUniform.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.node.value;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.node.value = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { NodeUniform };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUniform.js","import {\r\n\tMathUtils,\r\n\tSpherical,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar FirstPersonControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) {\r\n\r\n\t\tconsole.warn( 'THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\tdomElement = document;\r\n\r\n\t}\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.movementSpeed = 1.0;\r\n\tthis.lookSpeed = 0.005;\r\n\r\n\tthis.lookVertical = true;\r\n\tthis.autoForward = false;\r\n\r\n\tthis.activeLook = true;\r\n\r\n\tthis.heightSpeed = false;\r\n\tthis.heightCoef = 1.0;\r\n\tthis.heightMin = 0.0;\r\n\tthis.heightMax = 1.0;\r\n\r\n\tthis.constrainVertical = false;\r\n\tthis.verticalMin = 0;\r\n\tthis.verticalMax = Math.PI;\r\n\r\n\tthis.mouseDragOn = false;\r\n\r\n\t// internals\r\n\r\n\tthis.autoSpeedFactor = 0.0;\r\n\r\n\tthis.mouseX = 0;\r\n\tthis.mouseY = 0;\r\n\r\n\tthis.moveForward = false;\r\n\tthis.moveBackward = false;\r\n\tthis.moveLeft = false;\r\n\tthis.moveRight = false;\r\n\r\n\tthis.viewHalfX = 0;\r\n\tthis.viewHalfY = 0;\r\n\r\n\t// private variables\r\n\r\n\tvar lat = 0;\r\n\tvar lon = 0;\r\n\r\n\tvar lookDirection = new Vector3();\r\n\tvar spherical = new Spherical();\r\n\tvar target = new Vector3();\r\n\r\n\t//\r\n\r\n\tif ( this.domElement !== document ) {\r\n\r\n\t\tthis.domElement.setAttribute( 'tabindex', - 1 );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.viewHalfX = window.innerWidth / 2;\r\n\t\t\tthis.viewHalfY = window.innerHeight / 2;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\r\n\t\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onMouseDown = function ( event ) {\r\n\r\n\t\tif ( this.domElement !== document ) {\r\n\r\n\t\t\tthis.domElement.focus();\r\n\r\n\t\t}\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = true; break;\r\n\t\t\t\tcase 2: this.moveBackward = true; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = true;\r\n\r\n\t};\r\n\r\n\tthis.onMouseUp = function ( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = false; break;\r\n\t\t\t\tcase 2: this.moveBackward = false; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = false;\r\n\r\n\t};\r\n\r\n\tthis.onMouseMove = function ( event ) {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyDown = function ( event ) {\r\n\r\n\t\t//event.preventDefault();\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = true; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = true; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = true; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = true; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = true; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = true; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyUp = function ( event ) {\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = false; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = false; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = false; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = false; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = false; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = false; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.lookAt = function ( x, y, z ) {\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\ttarget.copy( x );\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttarget.set( x, y, z );\r\n\r\n\t\t}\r\n\r\n\t\tthis.object.lookAt( target );\r\n\r\n\t\tsetOrientation( this );\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\tvar targetPosition = new Vector3();\r\n\r\n\t\treturn function update( delta ) {\r\n\r\n\t\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t\tif ( this.heightSpeed ) {\r\n\r\n\t\t\t\tvar y = MathUtils.clamp( this.object.position.y, this.heightMin, this.heightMax );\r\n\t\t\t\tvar heightDelta = y - this.heightMin;\r\n\r\n\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.autoSpeedFactor = 0.0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar actualMoveSpeed = delta * this.movementSpeed;\r\n\r\n\t\t\tif ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\r\n\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\r\n\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\r\n\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\r\n\r\n\t\t\tvar actualLookSpeed = delta * this.lookSpeed;\r\n\r\n\t\t\tif ( ! this.activeLook ) {\r\n\r\n\t\t\t\tactualLookSpeed = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar verticalLookRatio = 1;\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlon -= this.mouseX * actualLookSpeed;\r\n\t\t\tif ( this.lookVertical ) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\r\n\r\n\t\t\tlat = Math.max( - 85, Math.min( 85, lat ) );\r\n\r\n\t\t\tvar phi = MathUtils.degToRad( 90 - lat );\r\n\t\t\tvar theta = MathUtils.degToRad( lon );\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tphi = MathUtils.mapLinear( phi, 0, Math.PI, this.verticalMin, this.verticalMax );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar position = this.object.position;\r\n\r\n\t\t\ttargetPosition.setFromSphericalCoords( 1, phi, theta ).add( position );\r\n\r\n\t\t\tthis.object.lookAt( targetPosition );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\t\tthis.domElement.removeEventListener( 'mousedown', _onMouseDown, false );\r\n\t\tthis.domElement.removeEventListener( 'mousemove', _onMouseMove, false );\r\n\t\tthis.domElement.removeEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', _onKeyDown, false );\r\n\t\twindow.removeEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\t};\r\n\r\n\tvar _onMouseMove = bind( this, this.onMouseMove );\r\n\tvar _onMouseDown = bind( this, this.onMouseDown );\r\n\tvar _onMouseUp = bind( this, this.onMouseUp );\r\n\tvar _onKeyDown = bind( this, this.onKeyDown );\r\n\tvar _onKeyUp = bind( this, this.onKeyUp );\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\tthis.domElement.addEventListener( 'mousemove', _onMouseMove, false );\r\n\tthis.domElement.addEventListener( 'mousedown', _onMouseDown, false );\r\n\tthis.domElement.addEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', _onKeyDown, false );\r\n\twindow.addEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\tfunction bind( scope, fn ) {\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tfn.apply( scope, arguments );\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction setOrientation( controls ) {\r\n\r\n\t\tvar quaternion = controls.object.quaternion;\r\n\r\n\t\tlookDirection.set( 0, 0, - 1 ).applyQuaternion( quaternion );\r\n\t\tspherical.setFromVector3( lookDirection );\r\n\r\n\t\tlat = 90 - MathUtils.radToDeg( spherical.phi );\r\n\t\tlon = MathUtils.radToDeg( spherical.theta );\r\n\r\n\t}\r\n\r\n\tthis.handleResize();\r\n\r\n\tsetOrientation( this );\r\n\r\n};\r\n\r\nexport { FirstPersonControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/FirstPersonControls.js","import { Color } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction ColorNode( color, g, b ) {\r\n\r\n\tInputNode.call( this, 'c' );\r\n\r\n\tthis.value = color instanceof Color ? color : new Color( color || 0, g, b );\r\n\r\n}\r\n\r\nColorNode.prototype = Object.create( InputNode.prototype );\r\nColorNode.prototype.constructor = ColorNode;\r\nColorNode.prototype.nodeType = \"Color\";\r\n\r\nNodeUtils.addShortcuts( ColorNode.prototype, 'value', [ 'r', 'g', 'b' ] );\r\n\r\nColorNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.r + \", \" + this.g + \", \" + this.b + \" )\", type, output );\r\n\r\n};\r\n\r\nColorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.r = this.r;\r\n\t\tdata.g = this.g;\r\n\t\tdata.b = this.b;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ColorNode.js","import { Node } from '../../core/Node.js';\r\n\r\nfunction RawNode( value ) {\r\n\r\n\tNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nRawNode.prototype = Object.create( Node.prototype );\r\nRawNode.prototype.constructor = RawNode;\r\nRawNode.prototype.nodeType = \"Raw\";\r\n\r\nRawNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar data = this.value.analyzeAndFlow( builder, this.type ),\r\n\t\tcode = data.code + '\\n';\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tcode += 'gl_Position = ' + data.result + ';';\r\n\r\n\t} else {\r\n\r\n\t\tcode += 'gl_FragColor = ' + data.result + ';';\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nRawNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRawNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RawNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/RawNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction CubeTextureNode( value, uv, bias ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new ReflectNode();\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nCubeTextureNode.prototype = Object.create( InputNode.prototype );\r\nCubeTextureNode.prototype.constructor = CubeTextureNode;\r\nCubeTextureNode.prototype.nodeType = \"CubeTexture\";\r\n\r\nCubeTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 'tc' );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'samplerCube' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar cubetex = this.getTexture( builder, output );\r\n\tvar uv = this.uv.build( builder, 'v3' );\r\n\tvar bias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar code;\r\n\r\n\tif ( bias ) code = 'texCubeBias( ' + cubetex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = 'texCube( ' + cubetex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create variables temp nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CubeTextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/CubeTextureNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction FunctionCallNode( func, inputs ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.setFunction( func, inputs );\r\n\r\n}\r\n\r\nFunctionCallNode.prototype = Object.create( TempNode.prototype );\r\nFunctionCallNode.prototype.constructor = FunctionCallNode;\r\nFunctionCallNode.prototype.nodeType = \"FunctionCall\";\r\n\r\nFunctionCallNode.prototype.setFunction = function ( func, inputs ) {\r\n\r\n\tthis.value = func;\r\n\tthis.inputs = inputs || [];\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getFunction = function () {\r\n\r\n\treturn this.value;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn this.value.getType( builder );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tfunc = this.value;\r\n\r\n\tvar code = func.build( builder, output ) + '( ',\r\n\t\tparams = [];\r\n\r\n\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\tvar inpt = func.inputs[ i ],\r\n\t\t\tparam = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\tparams.push( param.build( builder, builder.getTypeByFormat( inpt.type ) ) );\r\n\r\n\t}\r\n\r\n\tcode += params.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis.inputs[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tvar func = this.value;\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t\tif ( func.inputs.length ) {\r\n\r\n\t\t\tdata.inputs = {};\r\n\r\n\t\t\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\t\t\tvar inpt = func.inputs[ i ],\r\n\t\t\t\t\tnode = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\t\t\tdata.inputs[ inpt.name ] = node.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionCallNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionCallNode.js","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tMatrix4,\r\n\tVector3,\r\n\tVector4\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Tessellates the famous Utah teapot database by Martin Newell into triangles.\r\n *\r\n * Parameters: size = 50, segments = 10, bottom = true, lid = true, body = true,\r\n *   fitLid = false, blinn = true\r\n *\r\n * size is a relative scale: I've scaled the teapot to fit vertically between -1 and 1.\r\n * Think of it as a \"radius\".\r\n * segments - number of line segments to subdivide each patch edge;\r\n *   1 is possible but gives degenerates, so two is the real minimum.\r\n * bottom - boolean, if true (default) then the bottom patches are added. Some consider\r\n *   adding the bottom heresy, so set this to \"false\" to adhere to the One True Way.\r\n * lid - to remove the lid and look inside, set to true.\r\n * body - to remove the body and leave the lid, set this and \"bottom\" to false.\r\n * fitLid - the lid is a tad small in the original. This stretches it a bit so you can't\r\n *   see the teapot's insides through the gap.\r\n * blinn - Jim Blinn scaled the original data vertically by dividing by about 1.3 to look\r\n *   nicer. If you want to see the original teapot, similar to the real-world model, set\r\n *   this to false. True by default.\r\n *   See http://en.wikipedia.org/wiki/File:Original_Utah_Teapot.jpg for the original\r\n *   real-world teapot (from http://en.wikipedia.org/wiki/Utah_teapot).\r\n *\r\n * Note that the bottom (the last four patches) is not flat - blame Frank Crow, not me.\r\n *\r\n * The teapot should normally be rendered as a double sided object, since for some\r\n * patches both sides can be seen, e.g., the gap around the lid and inside the spout.\r\n *\r\n * Segments 'n' determines the number of triangles output.\r\n *   Total triangles = 32*2*n*n - 8*n    [degenerates at the top and bottom cusps are deleted]\r\n *\r\n *   size_factor   # triangles\r\n *       1          56\r\n *       2         240\r\n *       3         552\r\n *       4         992\r\n *\r\n *      10        6320\r\n *      20       25440\r\n *      30       57360\r\n *\r\n * Code converted from my ancient SPD software, http://tog.acm.org/resources/SPD/\r\n * Created for the Udacity course \"Interactive Rendering\", http://bit.ly/ericity\r\n * Lesson: https://www.udacity.com/course/viewer#!/c-cs291/l-68866048/m-106482448\r\n * YouTube video on teapot history: https://www.youtube.com/watch?v=DxMfblPzFNc\r\n *\r\n * See https://en.wikipedia.org/wiki/Utah_teapot for the history of the teapot\r\n *\r\n */\r\n\r\nvar TeapotBufferGeometry = function ( size, segments, bottom, lid, body, fitLid, blinn ) {\r\n\r\n\t// 32 * 4 * 4 Bezier spline patches\r\n\tvar teapotPatches = [\r\n\t\t/*rim*/\r\n\t\t0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\r\n\t\t3, 16, 17, 18, 7, 19, 20, 21, 11, 22, 23, 24, 15, 25, 26, 27,\r\n\t\t18, 28, 29, 30, 21, 31, 32, 33, 24, 34, 35, 36, 27, 37, 38, 39,\r\n\t\t30, 40, 41, 0, 33, 42, 43, 4, 36, 44, 45, 8, 39, 46, 47, 12,\r\n\t\t/*body*/\r\n\t\t12, 13, 14, 15, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59,\r\n\t\t15, 25, 26, 27, 51, 60, 61, 62, 55, 63, 64, 65, 59, 66, 67, 68,\r\n\t\t27, 37, 38, 39, 62, 69, 70, 71, 65, 72, 73, 74, 68, 75, 76, 77,\r\n\t\t39, 46, 47, 12, 71, 78, 79, 48, 74, 80, 81, 52, 77, 82, 83, 56,\r\n\t\t56, 57, 58, 59, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\r\n\t\t59, 66, 67, 68, 87, 96, 97, 98, 91, 99, 100, 101, 95, 102, 103, 104,\r\n\t\t68, 75, 76, 77, 98, 105, 106, 107, 101, 108, 109, 110, 104, 111, 112, 113,\r\n\t\t77, 82, 83, 56, 107, 114, 115, 84, 110, 116, 117, 88, 113, 118, 119, 92,\r\n\t\t/*handle*/\r\n\t\t120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135,\r\n\t\t123, 136, 137, 120, 127, 138, 139, 124, 131, 140, 141, 128, 135, 142, 143, 132,\r\n\t\t132, 133, 134, 135, 144, 145, 146, 147, 148, 149, 150, 151, 68, 152, 153, 154,\r\n\t\t135, 142, 143, 132, 147, 155, 156, 144, 151, 157, 158, 148, 154, 159, 160, 68,\r\n\t\t/*spout*/\r\n\t\t161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176,\r\n\t\t164, 177, 178, 161, 168, 179, 180, 165, 172, 181, 182, 169, 176, 183, 184, 173,\r\n\t\t173, 174, 175, 176, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196,\r\n\t\t176, 183, 184, 173, 188, 197, 198, 185, 192, 199, 200, 189, 196, 201, 202, 193,\r\n\t\t/*lid*/\r\n\t\t203, 203, 203, 203, 204, 205, 206, 207, 208, 208, 208, 208, 209, 210, 211, 212,\r\n\t\t203, 203, 203, 203, 207, 213, 214, 215, 208, 208, 208, 208, 212, 216, 217, 218,\r\n\t\t203, 203, 203, 203, 215, 219, 220, 221, 208, 208, 208, 208, 218, 222, 223, 224,\r\n\t\t203, 203, 203, 203, 221, 225, 226, 204, 208, 208, 208, 208, 224, 227, 228, 209,\r\n\t\t209, 210, 211, 212, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,\r\n\t\t212, 216, 217, 218, 232, 241, 242, 243, 236, 244, 245, 246, 240, 247, 248, 249,\r\n\t\t218, 222, 223, 224, 243, 250, 251, 252, 246, 253, 254, 255, 249, 256, 257, 258,\r\n\t\t224, 227, 228, 209, 252, 259, 260, 229, 255, 261, 262, 233, 258, 263, 264, 237,\r\n\t\t/*bottom*/\r\n\t\t265, 265, 265, 265, 266, 267, 268, 269, 270, 271, 272, 273, 92, 119, 118, 113,\r\n\t\t265, 265, 265, 265, 269, 274, 275, 276, 273, 277, 278, 279, 113, 112, 111, 104,\r\n\t\t265, 265, 265, 265, 276, 280, 281, 282, 279, 283, 284, 285, 104, 103, 102, 95,\r\n\t\t265, 265, 265, 265, 282, 286, 287, 266, 285, 288, 289, 270, 95, 94, 93, 92\r\n\t];\r\n\r\n\tvar teapotVertices = [\r\n\t\t1.4, 0, 2.4,\r\n\t\t1.4, - 0.784, 2.4,\r\n\t\t0.784, - 1.4, 2.4,\r\n\t\t0, - 1.4, 2.4,\r\n\t\t1.3375, 0, 2.53125,\r\n\t\t1.3375, - 0.749, 2.53125,\r\n\t\t0.749, - 1.3375, 2.53125,\r\n\t\t0, - 1.3375, 2.53125,\r\n\t\t1.4375, 0, 2.53125,\r\n\t\t1.4375, - 0.805, 2.53125,\r\n\t\t0.805, - 1.4375, 2.53125,\r\n\t\t0, - 1.4375, 2.53125,\r\n\t\t1.5, 0, 2.4,\r\n\t\t1.5, - 0.84, 2.4,\r\n\t\t0.84, - 1.5, 2.4,\r\n\t\t0, - 1.5, 2.4,\r\n\t\t- 0.784, - 1.4, 2.4,\r\n\t\t- 1.4, - 0.784, 2.4,\r\n\t\t- 1.4, 0, 2.4,\r\n\t\t- 0.749, - 1.3375, 2.53125,\r\n\t\t- 1.3375, - 0.749, 2.53125,\r\n\t\t- 1.3375, 0, 2.53125,\r\n\t\t- 0.805, - 1.4375, 2.53125,\r\n\t\t- 1.4375, - 0.805, 2.53125,\r\n\t\t- 1.4375, 0, 2.53125,\r\n\t\t- 0.84, - 1.5, 2.4,\r\n\t\t- 1.5, - 0.84, 2.4,\r\n\t\t- 1.5, 0, 2.4,\r\n\t\t- 1.4, 0.784, 2.4,\r\n\t\t- 0.784, 1.4, 2.4,\r\n\t\t0, 1.4, 2.4,\r\n\t\t- 1.3375, 0.749, 2.53125,\r\n\t\t- 0.749, 1.3375, 2.53125,\r\n\t\t0, 1.3375, 2.53125,\r\n\t\t- 1.4375, 0.805, 2.53125,\r\n\t\t- 0.805, 1.4375, 2.53125,\r\n\t\t0, 1.4375, 2.53125,\r\n\t\t- 1.5, 0.84, 2.4,\r\n\t\t- 0.84, 1.5, 2.4,\r\n\t\t0, 1.5, 2.4,\r\n\t\t0.784, 1.4, 2.4,\r\n\t\t1.4, 0.784, 2.4,\r\n\t\t0.749, 1.3375, 2.53125,\r\n\t\t1.3375, 0.749, 2.53125,\r\n\t\t0.805, 1.4375, 2.53125,\r\n\t\t1.4375, 0.805, 2.53125,\r\n\t\t0.84, 1.5, 2.4,\r\n\t\t1.5, 0.84, 2.4,\r\n\t\t1.75, 0, 1.875,\r\n\t\t1.75, - 0.98, 1.875,\r\n\t\t0.98, - 1.75, 1.875,\r\n\t\t0, - 1.75, 1.875,\r\n\t\t2, 0, 1.35,\r\n\t\t2, - 1.12, 1.35,\r\n\t\t1.12, - 2, 1.35,\r\n\t\t0, - 2, 1.35,\r\n\t\t2, 0, 0.9,\r\n\t\t2, - 1.12, 0.9,\r\n\t\t1.12, - 2, 0.9,\r\n\t\t0, - 2, 0.9,\r\n\t\t- 0.98, - 1.75, 1.875,\r\n\t\t- 1.75, - 0.98, 1.875,\r\n\t\t- 1.75, 0, 1.875,\r\n\t\t- 1.12, - 2, 1.35,\r\n\t\t- 2, - 1.12, 1.35,\r\n\t\t- 2, 0, 1.35,\r\n\t\t- 1.12, - 2, 0.9,\r\n\t\t- 2, - 1.12, 0.9,\r\n\t\t- 2, 0, 0.9,\r\n\t\t- 1.75, 0.98, 1.875,\r\n\t\t- 0.98, 1.75, 1.875,\r\n\t\t0, 1.75, 1.875,\r\n\t\t- 2, 1.12, 1.35,\r\n\t\t- 1.12, 2, 1.35,\r\n\t\t0, 2, 1.35,\r\n\t\t- 2, 1.12, 0.9,\r\n\t\t- 1.12, 2, 0.9,\r\n\t\t0, 2, 0.9,\r\n\t\t0.98, 1.75, 1.875,\r\n\t\t1.75, 0.98, 1.875,\r\n\t\t1.12, 2, 1.35,\r\n\t\t2, 1.12, 1.35,\r\n\t\t1.12, 2, 0.9,\r\n\t\t2, 1.12, 0.9,\r\n\t\t2, 0, 0.45,\r\n\t\t2, - 1.12, 0.45,\r\n\t\t1.12, - 2, 0.45,\r\n\t\t0, - 2, 0.45,\r\n\t\t1.5, 0, 0.225,\r\n\t\t1.5, - 0.84, 0.225,\r\n\t\t0.84, - 1.5, 0.225,\r\n\t\t0, - 1.5, 0.225,\r\n\t\t1.5, 0, 0.15,\r\n\t\t1.5, - 0.84, 0.15,\r\n\t\t0.84, - 1.5, 0.15,\r\n\t\t0, - 1.5, 0.15,\r\n\t\t- 1.12, - 2, 0.45,\r\n\t\t- 2, - 1.12, 0.45,\r\n\t\t- 2, 0, 0.45,\r\n\t\t- 0.84, - 1.5, 0.225,\r\n\t\t- 1.5, - 0.84, 0.225,\r\n\t\t- 1.5, 0, 0.225,\r\n\t\t- 0.84, - 1.5, 0.15,\r\n\t\t- 1.5, - 0.84, 0.15,\r\n\t\t- 1.5, 0, 0.15,\r\n\t\t- 2, 1.12, 0.45,\r\n\t\t- 1.12, 2, 0.45,\r\n\t\t0, 2, 0.45,\r\n\t\t- 1.5, 0.84, 0.225,\r\n\t\t- 0.84, 1.5, 0.225,\r\n\t\t0, 1.5, 0.225,\r\n\t\t- 1.5, 0.84, 0.15,\r\n\t\t- 0.84, 1.5, 0.15,\r\n\t\t0, 1.5, 0.15,\r\n\t\t1.12, 2, 0.45,\r\n\t\t2, 1.12, 0.45,\r\n\t\t0.84, 1.5, 0.225,\r\n\t\t1.5, 0.84, 0.225,\r\n\t\t0.84, 1.5, 0.15,\r\n\t\t1.5, 0.84, 0.15,\r\n\t\t- 1.6, 0, 2.025,\r\n\t\t- 1.6, - 0.3, 2.025,\r\n\t\t- 1.5, - 0.3, 2.25,\r\n\t\t- 1.5, 0, 2.25,\r\n\t\t- 2.3, 0, 2.025,\r\n\t\t- 2.3, - 0.3, 2.025,\r\n\t\t- 2.5, - 0.3, 2.25,\r\n\t\t- 2.5, 0, 2.25,\r\n\t\t- 2.7, 0, 2.025,\r\n\t\t- 2.7, - 0.3, 2.025,\r\n\t\t- 3, - 0.3, 2.25,\r\n\t\t- 3, 0, 2.25,\r\n\t\t- 2.7, 0, 1.8,\r\n\t\t- 2.7, - 0.3, 1.8,\r\n\t\t- 3, - 0.3, 1.8,\r\n\t\t- 3, 0, 1.8,\r\n\t\t- 1.5, 0.3, 2.25,\r\n\t\t- 1.6, 0.3, 2.025,\r\n\t\t- 2.5, 0.3, 2.25,\r\n\t\t- 2.3, 0.3, 2.025,\r\n\t\t- 3, 0.3, 2.25,\r\n\t\t- 2.7, 0.3, 2.025,\r\n\t\t- 3, 0.3, 1.8,\r\n\t\t- 2.7, 0.3, 1.8,\r\n\t\t- 2.7, 0, 1.575,\r\n\t\t- 2.7, - 0.3, 1.575,\r\n\t\t- 3, - 0.3, 1.35,\r\n\t\t- 3, 0, 1.35,\r\n\t\t- 2.5, 0, 1.125,\r\n\t\t- 2.5, - 0.3, 1.125,\r\n\t\t- 2.65, - 0.3, 0.9375,\r\n\t\t- 2.65, 0, 0.9375,\r\n\t\t- 2, - 0.3, 0.9,\r\n\t\t- 1.9, - 0.3, 0.6,\r\n\t\t- 1.9, 0, 0.6,\r\n\t\t- 3, 0.3, 1.35,\r\n\t\t- 2.7, 0.3, 1.575,\r\n\t\t- 2.65, 0.3, 0.9375,\r\n\t\t- 2.5, 0.3, 1.125,\r\n\t\t- 1.9, 0.3, 0.6,\r\n\t\t- 2, 0.3, 0.9,\r\n\t\t1.7, 0, 1.425,\r\n\t\t1.7, - 0.66, 1.425,\r\n\t\t1.7, - 0.66, 0.6,\r\n\t\t1.7, 0, 0.6,\r\n\t\t2.6, 0, 1.425,\r\n\t\t2.6, - 0.66, 1.425,\r\n\t\t3.1, - 0.66, 0.825,\r\n\t\t3.1, 0, 0.825,\r\n\t\t2.3, 0, 2.1,\r\n\t\t2.3, - 0.25, 2.1,\r\n\t\t2.4, - 0.25, 2.025,\r\n\t\t2.4, 0, 2.025,\r\n\t\t2.7, 0, 2.4,\r\n\t\t2.7, - 0.25, 2.4,\r\n\t\t3.3, - 0.25, 2.4,\r\n\t\t3.3, 0, 2.4,\r\n\t\t1.7, 0.66, 0.6,\r\n\t\t1.7, 0.66, 1.425,\r\n\t\t3.1, 0.66, 0.825,\r\n\t\t2.6, 0.66, 1.425,\r\n\t\t2.4, 0.25, 2.025,\r\n\t\t2.3, 0.25, 2.1,\r\n\t\t3.3, 0.25, 2.4,\r\n\t\t2.7, 0.25, 2.4,\r\n\t\t2.8, 0, 2.475,\r\n\t\t2.8, - 0.25, 2.475,\r\n\t\t3.525, - 0.25, 2.49375,\r\n\t\t3.525, 0, 2.49375,\r\n\t\t2.9, 0, 2.475,\r\n\t\t2.9, - 0.15, 2.475,\r\n\t\t3.45, - 0.15, 2.5125,\r\n\t\t3.45, 0, 2.5125,\r\n\t\t2.8, 0, 2.4,\r\n\t\t2.8, - 0.15, 2.4,\r\n\t\t3.2, - 0.15, 2.4,\r\n\t\t3.2, 0, 2.4,\r\n\t\t3.525, 0.25, 2.49375,\r\n\t\t2.8, 0.25, 2.475,\r\n\t\t3.45, 0.15, 2.5125,\r\n\t\t2.9, 0.15, 2.475,\r\n\t\t3.2, 0.15, 2.4,\r\n\t\t2.8, 0.15, 2.4,\r\n\t\t0, 0, 3.15,\r\n\t\t0.8, 0, 3.15,\r\n\t\t0.8, - 0.45, 3.15,\r\n\t\t0.45, - 0.8, 3.15,\r\n\t\t0, - 0.8, 3.15,\r\n\t\t0, 0, 2.85,\r\n\t\t0.2, 0, 2.7,\r\n\t\t0.2, - 0.112, 2.7,\r\n\t\t0.112, - 0.2, 2.7,\r\n\t\t0, - 0.2, 2.7,\r\n\t\t- 0.45, - 0.8, 3.15,\r\n\t\t- 0.8, - 0.45, 3.15,\r\n\t\t- 0.8, 0, 3.15,\r\n\t\t- 0.112, - 0.2, 2.7,\r\n\t\t- 0.2, - 0.112, 2.7,\r\n\t\t- 0.2, 0, 2.7,\r\n\t\t- 0.8, 0.45, 3.15,\r\n\t\t- 0.45, 0.8, 3.15,\r\n\t\t0, 0.8, 3.15,\r\n\t\t- 0.2, 0.112, 2.7,\r\n\t\t- 0.112, 0.2, 2.7,\r\n\t\t0, 0.2, 2.7,\r\n\t\t0.45, 0.8, 3.15,\r\n\t\t0.8, 0.45, 3.15,\r\n\t\t0.112, 0.2, 2.7,\r\n\t\t0.2, 0.112, 2.7,\r\n\t\t0.4, 0, 2.55,\r\n\t\t0.4, - 0.224, 2.55,\r\n\t\t0.224, - 0.4, 2.55,\r\n\t\t0, - 0.4, 2.55,\r\n\t\t1.3, 0, 2.55,\r\n\t\t1.3, - 0.728, 2.55,\r\n\t\t0.728, - 1.3, 2.55,\r\n\t\t0, - 1.3, 2.55,\r\n\t\t1.3, 0, 2.4,\r\n\t\t1.3, - 0.728, 2.4,\r\n\t\t0.728, - 1.3, 2.4,\r\n\t\t0, - 1.3, 2.4,\r\n\t\t- 0.224, - 0.4, 2.55,\r\n\t\t- 0.4, - 0.224, 2.55,\r\n\t\t- 0.4, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.55,\r\n\t\t- 1.3, - 0.728, 2.55,\r\n\t\t- 1.3, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.4,\r\n\t\t- 1.3, - 0.728, 2.4,\r\n\t\t- 1.3, 0, 2.4,\r\n\t\t- 0.4, 0.224, 2.55,\r\n\t\t- 0.224, 0.4, 2.55,\r\n\t\t0, 0.4, 2.55,\r\n\t\t- 1.3, 0.728, 2.55,\r\n\t\t- 0.728, 1.3, 2.55,\r\n\t\t0, 1.3, 2.55,\r\n\t\t- 1.3, 0.728, 2.4,\r\n\t\t- 0.728, 1.3, 2.4,\r\n\t\t0, 1.3, 2.4,\r\n\t\t0.224, 0.4, 2.55,\r\n\t\t0.4, 0.224, 2.55,\r\n\t\t0.728, 1.3, 2.55,\r\n\t\t1.3, 0.728, 2.55,\r\n\t\t0.728, 1.3, 2.4,\r\n\t\t1.3, 0.728, 2.4,\r\n\t\t0, 0, 0,\r\n\t\t1.425, 0, 0,\r\n\t\t1.425, 0.798, 0,\r\n\t\t0.798, 1.425, 0,\r\n\t\t0, 1.425, 0,\r\n\t\t1.5, 0, 0.075,\r\n\t\t1.5, 0.84, 0.075,\r\n\t\t0.84, 1.5, 0.075,\r\n\t\t0, 1.5, 0.075,\r\n\t\t- 0.798, 1.425, 0,\r\n\t\t- 1.425, 0.798, 0,\r\n\t\t- 1.425, 0, 0,\r\n\t\t- 0.84, 1.5, 0.075,\r\n\t\t- 1.5, 0.84, 0.075,\r\n\t\t- 1.5, 0, 0.075,\r\n\t\t- 1.425, - 0.798, 0,\r\n\t\t- 0.798, - 1.425, 0,\r\n\t\t0, - 1.425, 0,\r\n\t\t- 1.5, - 0.84, 0.075,\r\n\t\t- 0.84, - 1.5, 0.075,\r\n\t\t0, - 1.5, 0.075,\r\n\t\t0.798, - 1.425, 0,\r\n\t\t1.425, - 0.798, 0,\r\n\t\t0.84, - 1.5, 0.075,\r\n\t\t1.5, - 0.84, 0.075\r\n\t];\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tsize = size || 50;\r\n\r\n\t// number of segments per patch\r\n\tsegments = segments !== undefined ? Math.max( 2, Math.floor( segments ) || 10 ) : 10;\r\n\r\n\t// which parts should be visible\r\n\tbottom = bottom === undefined ? true : bottom;\r\n\tlid = lid === undefined ? true : lid;\r\n\tbody = body === undefined ? true : body;\r\n\r\n\t// Should the lid be snug? It's not traditional, but we make it snug by default\r\n\tfitLid = fitLid === undefined ? true : fitLid;\r\n\r\n\t// Jim Blinn scaled the teapot down in size by about 1.3 for\r\n\t// some rendering tests. He liked the new proportions that he kept\r\n\t// the data in this form. The model was distributed with these new\r\n\t// proportions and became the norm. Trivia: comparing images of the\r\n\t// real teapot and the computer model, the ratio for the bowl of the\r\n\t// real teapot is more like 1.25, but since 1.3 is the traditional\r\n\t// value given, we use it here.\r\n\tvar blinnScale = 1.3;\r\n\tblinn = blinn === undefined ? true : blinn;\r\n\r\n\t// scale the size to be the real scaling factor\r\n\tvar maxHeight = 3.15 * ( blinn ? 1 : blinnScale );\r\n\r\n\tvar maxHeight2 = maxHeight / 2;\r\n\tvar trueSize = size / maxHeight2;\r\n\r\n\t// Number of elements depends on what is needed. Subtract degenerate\r\n\t// triangles at tip of bottom and lid out in advance.\r\n\tvar numTriangles = bottom ? ( 8 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += lid ? ( 16 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += body ? 40 * segments * segments : 0;\r\n\r\n\tvar indices = new Uint32Array( numTriangles * 3 );\r\n\r\n\tvar numVertices = bottom ? 4 : 0;\r\n\tnumVertices += lid ? 8 : 0;\r\n\tnumVertices += body ? 20 : 0;\r\n\tnumVertices *= ( segments + 1 ) * ( segments + 1 );\r\n\r\n\tvar vertices = new Float32Array( numVertices * 3 );\r\n\tvar normals = new Float32Array( numVertices * 3 );\r\n\tvar uvs = new Float32Array( numVertices * 2 );\r\n\r\n\t// Bezier form\r\n\tvar ms = new Matrix4();\r\n\tms.set(\r\n\t\t- 1.0, 3.0, - 3.0, 1.0,\r\n\t\t3.0, - 6.0, 3.0, 0.0,\r\n\t\t- 3.0, 3.0, 0.0, 0.0,\r\n\t\t1.0, 0.0, 0.0, 0.0 );\r\n\r\n\tvar g = [];\r\n\tvar i, r, c;\r\n\r\n\tvar sp = [];\r\n\tvar tp = [];\r\n\tvar dsp = [];\r\n\tvar dtp = [];\r\n\r\n\t// M * G * M matrix, sort of see\r\n\t// http://www.cs.helsinki.fi/group/goa/mallinnus/curves/surfaces.html\r\n\tvar mgm = [];\r\n\r\n\tvar vert = [];\r\n\tvar sdir = [];\r\n\tvar tdir = [];\r\n\r\n\tvar norm = new Vector3();\r\n\r\n\tvar tcoord;\r\n\r\n\tvar sstep, tstep;\r\n\tvar vertPerRow;\r\n\r\n\tvar s, t, sval, tval, p;\r\n\tvar dsval = 0;\r\n\tvar dtval = 0;\r\n\r\n\tvar normOut = new Vector3();\r\n\tvar v1, v2, v3, v4;\r\n\r\n\tvar gmx = new Matrix4();\r\n\tvar tmtx = new Matrix4();\r\n\r\n\tvar vsp = new Vector4();\r\n\tvar vtp = new Vector4();\r\n\tvar vdsp = new Vector4();\r\n\tvar vdtp = new Vector4();\r\n\r\n\tvar vsdir = new Vector3();\r\n\tvar vtdir = new Vector3();\r\n\r\n\tvar mst = ms.clone();\r\n\tmst.transpose();\r\n\r\n\t// internal function: test if triangle has any matching vertices;\r\n\t// if so, don't save triangle, since it won't display anything.\r\n\tvar notDegenerate = function ( vtx1, vtx2, vtx3 ) {\r\n\r\n\t\t// if any vertex matches, return false\r\n\t\treturn ! ( ( ( vertices[ vtx1 * 3 ] === vertices[ vtx2 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx2 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx2 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx1 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx2 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) );\r\n\r\n\t};\r\n\r\n\r\n\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\tmgm[ i ] = new Matrix4();\r\n\r\n\t}\r\n\r\n\tvar minPatches = body ? 0 : 20;\r\n\tvar maxPatches = bottom ? 32 : 28;\r\n\r\n\tvertPerRow = segments + 1;\r\n\r\n\tvar surfCount = 0;\r\n\r\n\tvar vertCount = 0;\r\n\tvar normCount = 0;\r\n\tvar uvCount = 0;\r\n\r\n\tvar indexCount = 0;\r\n\r\n\tfor ( var surf = minPatches; surf < maxPatches; surf ++ ) {\r\n\r\n\t\t// lid is in the middle of the data, patches 20-27,\r\n\t\t// so ignore it for this part of the loop if the lid is not desired\r\n\t\tif ( lid || ( surf < 20 || surf >= 28 ) ) {\r\n\r\n\t\t\t// get M * G * M matrix for x,y,z\r\n\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t// get control patches\r\n\t\t\t\tfor ( r = 0; r < 4; r ++ ) {\r\n\r\n\t\t\t\t\tfor ( c = 0; c < 4; c ++ ) {\r\n\r\n\t\t\t\t\t\t// transposed\r\n\t\t\t\t\t\tg[ c * 4 + r ] = teapotVertices[ teapotPatches[ surf * 16 + r * 4 + c ] * 3 + i ];\r\n\r\n\t\t\t\t\t\t// is the lid to be made larger, and is this a point on the lid\r\n\t\t\t\t\t\t// that is X or Y?\r\n\t\t\t\t\t\tif ( fitLid && ( surf >= 20 && surf < 28 ) && ( i !== 2 ) ) {\r\n\r\n\t\t\t\t\t\t\t// increase XY size by 7.7%, found empirically. I don't\r\n\t\t\t\t\t\t\t// increase Z so that the teapot will continue to fit in the\r\n\t\t\t\t\t\t\t// space -1 to 1 for Y (Y is up for the final model).\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= 1.077;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Blinn \"fixed\" the teapot by dividing Z by blinnScale, and that's the\r\n\t\t\t\t\t\t// data we now use. The original teapot is taller. Fix it:\r\n\t\t\t\t\t\tif ( ! blinn && ( i === 2 ) ) {\r\n\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= blinnScale;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgmx.set( g[ 0 ], g[ 1 ], g[ 2 ], g[ 3 ], g[ 4 ], g[ 5 ], g[ 6 ], g[ 7 ], g[ 8 ], g[ 9 ], g[ 10 ], g[ 11 ], g[ 12 ], g[ 13 ], g[ 14 ], g[ 15 ] );\r\n\r\n\t\t\t\ttmtx.multiplyMatrices( gmx, ms );\r\n\t\t\t\tmgm[ i ].multiplyMatrices( mst, tmtx );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// step along, get points, and output\r\n\t\t\tfor ( sstep = 0; sstep <= segments; sstep ++ ) {\r\n\r\n\t\t\t\ts = sstep / segments;\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep <= segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tt = tstep / segments;\r\n\r\n\t\t\t\t\t// point from basis\r\n\t\t\t\t\t// get power vectors and their derivatives\r\n\t\t\t\t\tfor ( p = 4, sval = tval = 1.0; p --; ) {\r\n\r\n\t\t\t\t\t\tsp[ p ] = sval;\r\n\t\t\t\t\t\ttp[ p ] = tval;\r\n\t\t\t\t\t\tsval *= s;\r\n\t\t\t\t\t\ttval *= t;\r\n\r\n\t\t\t\t\t\tif ( p === 3 ) {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dtp[ p ] = 0.0;\r\n\t\t\t\t\t\t\tdsval = dtval = 1.0;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dsval * ( 3 - p );\r\n\t\t\t\t\t\t\tdtp[ p ] = dtval * ( 3 - p );\r\n\t\t\t\t\t\t\tdsval *= s;\r\n\t\t\t\t\t\t\tdtval *= t;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvsp.fromArray( sp );\r\n\t\t\t\t\tvtp.fromArray( tp );\r\n\t\t\t\t\tvdsp.fromArray( dsp );\r\n\t\t\t\t\tvdtp.fromArray( dtp );\r\n\r\n\t\t\t\t\t// do for x,y,z\r\n\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\t\t// multiply power vectors times matrix to get value\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tvert[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\t// get s and t tangent vectors\r\n\t\t\t\t\t\ttcoord = vdsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tsdir[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\ttdir[ i ] = tcoord.dot( vdtp );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// find normal\r\n\t\t\t\t\tvsdir.fromArray( sdir );\r\n\t\t\t\t\tvtdir.fromArray( tdir );\r\n\t\t\t\t\tnorm.crossVectors( vtdir, vsdir );\r\n\t\t\t\t\tnorm.normalize();\r\n\r\n\t\t\t\t\t// if X and Z length is 0, at the cusp, so point the normal up or down, depending on patch number\r\n\t\t\t\t\tif ( vert[ 0 ] === 0 && vert[ 1 ] === 0 ) {\r\n\r\n\t\t\t\t\t\t// if above the middle of the teapot, normal points up, else down\r\n\t\t\t\t\t\tnormOut.set( 0, vert[ 2 ] > maxHeight2 ? 1 : - 1, 0 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// standard output: rotate on X axis\r\n\t\t\t\t\t\tnormOut.set( norm.x, norm.z, - norm.y );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// store it all\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * vert[ 0 ];\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * ( vert[ 2 ] - maxHeight2 );\r\n\t\t\t\t\tvertices[ vertCount ++ ] = - trueSize * vert[ 1 ];\r\n\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.x;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.y;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.z;\r\n\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - t;\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// save the faces\r\n\t\t\tfor ( sstep = 0; sstep < segments; sstep ++ ) {\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep < segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tv1 = surfCount * vertPerRow * vertPerRow + sstep * vertPerRow + tstep;\r\n\t\t\t\t\tv2 = v1 + 1;\r\n\t\t\t\t\tv3 = v2 + vertPerRow;\r\n\t\t\t\t\tv4 = v1 + vertPerRow;\r\n\r\n\t\t\t\t\t// Normals and UVs cannot be shared. Without clone(), you can see the consequences\r\n\t\t\t\t\t// of sharing if you call geometry.applyMatrix4( matrix ).\r\n\t\t\t\t\tif ( notDegenerate( v1, v2, v3 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v2;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( notDegenerate( v1, v3, v4 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// increment only if a surface was used\r\n\t\t\tsurfCount ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.setIndex( new BufferAttribute( indices, 1 ) );\r\n\tthis.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ) );\r\n\r\n\tthis.computeBoundingSphere();\r\n\r\n};\r\n\r\n\r\nTeapotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nTeapotBufferGeometry.prototype.constructor = TeapotBufferGeometry;\r\n\r\nexport { TeapotBufferGeometry };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/geometries/TeapotBufferGeometry.js","import {\r\n\tAdditiveBlending,\r\n\tLinearFilter,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\n\r\n/**\r\n*\r\n* Supersample Anti-Aliasing Render Pass\r\n*\r\n* This manual approach to SSAA re-renders the scene ones for each sample with camera jitter and accumulates the results.\r\n*\r\n* References: https://en.wikipedia.org/wiki/Supersampling\r\n*\r\n*/\r\n\r\nvar SSAARenderPass = function ( scene, camera, clearColor, clearAlpha ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.sampleLevel = 4; // specified as n, where the number of samples is 2^n, so sampleLevel = 4, is 2^4 samples, 16.\r\n\tthis.unbiased = true;\r\n\r\n\t// as we need to clear the buffer in this pass, clearColor must be set to something, defaults to black.\r\n\tthis.clearColor = ( clearColor !== undefined ) ? clearColor : 0x000000;\r\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\r\n\r\n\tif ( CopyShader === undefined ) console.error( \"SSAARenderPass relies on CopyShader\" );\r\n\r\n\tvar copyShader = CopyShader;\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\r\n\tthis.copyMaterial = new ShaderMaterial(\t{\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tpremultipliedAlpha: true,\r\n\t\ttransparent: true,\r\n\t\tblending: AdditiveBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\t} );\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( this.copyMaterial );\r\n\r\n};\r\n\r\nSSAARenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: SSAARenderPass,\r\n\r\n\tdispose: function () {\r\n\r\n\t\tif ( this.sampleRenderTarget ) {\r\n\r\n\t\t\tthis.sampleRenderTarget.dispose();\r\n\t\t\tthis.sampleRenderTarget = null;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tif ( this.sampleRenderTarget )\tthis.sampleRenderTarget.setSize( width, height );\r\n\r\n\t},\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tif ( ! this.sampleRenderTarget ) {\r\n\r\n\t\t\tthis.sampleRenderTarget = new WebGLRenderTarget( readBuffer.width, readBuffer.height, { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat } );\r\n\t\t\tthis.sampleRenderTarget.texture.name = \"SSAARenderPass.sample\";\r\n\r\n\t\t}\r\n\r\n\t\tvar jitterOffsets = SSAARenderPass.JitterVectors[ Math.max( 0, Math.min( this.sampleLevel, 5 ) ) ];\r\n\r\n\t\tvar autoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tvar oldClearColor = renderer.getClearColor().getHex();\r\n\t\tvar oldClearAlpha = renderer.getClearAlpha();\r\n\r\n\t\tvar baseSampleWeight = 1.0 / jitterOffsets.length;\r\n\t\tvar roundingRange = 1 / 32;\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.sampleRenderTarget.texture;\r\n\r\n\t\tvar width = readBuffer.width, height = readBuffer.height;\r\n\r\n\t\t// render the scene multiple times, each slightly jitter offset from the last and accumulate the results.\r\n\t\tfor ( var i = 0; i < jitterOffsets.length; i ++ ) {\r\n\r\n\t\t\tvar jitterOffset = jitterOffsets[ i ];\r\n\r\n\t\t\tif ( this.camera.setViewOffset ) {\r\n\r\n\t\t\t\tthis.camera.setViewOffset( width, height,\r\n\t\t\t\t\tjitterOffset[ 0 ] * 0.0625, jitterOffset[ 1 ] * 0.0625, // 0.0625 = 1 / 16\r\n\t\t\t\t\twidth, height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar sampleWeight = baseSampleWeight;\r\n\r\n\t\t\tif ( this.unbiased ) {\r\n\r\n\t\t\t\t// the theory is that equal weights for each sample lead to an accumulation of rounding errors.\r\n\t\t\t\t// The following equation varies the sampleWeight per sample so that it is uniformly distributed\r\n\t\t\t\t// across a range of values whose rounding errors cancel each other out.\r\n\r\n\t\t\t\tvar uniformCenteredDistribution = ( - 0.5 + ( i + 0.5 ) / jitterOffsets.length );\r\n\t\t\t\tsampleWeight += roundingRange * uniformCenteredDistribution;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.copyUniforms[ \"opacity\" ].value = sampleWeight;\r\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\r\n\t\t\trenderer.setRenderTarget( this.sampleRenderTarget );\r\n\t\t\trenderer.clear();\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t\trenderer.setRenderTarget( this.renderToScreen ? null : writeBuffer );\r\n\r\n\t\t\tif ( i === 0 ) {\r\n\r\n\t\t\t\trenderer.setClearColor( 0x000000, 0.0 );\r\n\t\t\t\trenderer.clear();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.camera.clearViewOffset ) this.camera.clearViewOffset();\r\n\r\n\t\trenderer.autoClear = autoClear;\r\n\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\n// These jitter vectors are specified in integers because it is easier.\r\n// I am assuming a [-8,8) integer grid, but it needs to be mapped onto [-0.5,0.5)\r\n// before being used, thus these integers need to be scaled by 1/16.\r\n//\r\n// Sample patterns reference: https://msdn.microsoft.com/en-us/library/windows/desktop/ff476218%28v=vs.85%29.aspx?f=255&MSPPError=-2147217396\r\nSSAARenderPass.JitterVectors = [\r\n\t[\r\n\t\t[ 0, 0 ]\r\n\t],\r\n\t[\r\n\t\t[ 4, 4 ], [ - 4, - 4 ]\r\n\t],\r\n\t[\r\n\t\t[ - 2, - 6 ], [ 6, - 2 ], [ - 6, 2 ], [ 2, 6 ]\r\n\t],\r\n\t[\r\n\t\t[ 1, - 3 ], [ - 1, 3 ], [ 5, 1 ], [ - 3, - 5 ],\r\n\t\t[ - 5, 5 ], [ - 7, - 1 ], [ 3, 7 ], [ 7, - 7 ]\r\n\t],\r\n\t[\r\n\t\t[ 1, 1 ], [ - 1, - 3 ], [ - 3, 2 ], [ 4, - 1 ],\r\n\t\t[ - 5, - 2 ], [ 2, 5 ], [ 5, 3 ], [ 3, - 5 ],\r\n\t\t[ - 2, 6 ], [ 0, - 7 ], [ - 4, - 6 ], [ - 6, 4 ],\r\n\t\t[ - 8, 0 ], [ 7, - 4 ], [ 6, 7 ], [ - 7, - 8 ]\r\n\t],\r\n\t[\r\n\t\t[ - 4, - 7 ], [ - 7, - 5 ], [ - 3, - 5 ], [ - 5, - 4 ],\r\n\t\t[ - 1, - 4 ], [ - 2, - 2 ], [ - 6, - 1 ], [ - 4, 0 ],\r\n\t\t[ - 7, 1 ], [ - 1, 2 ], [ - 6, 3 ], [ - 3, 3 ],\r\n\t\t[ - 7, 6 ], [ - 3, 6 ], [ - 5, 7 ], [ - 1, 7 ],\r\n\t\t[ 5, - 7 ], [ 1, - 6 ], [ 6, - 5 ], [ 4, - 4 ],\r\n\t\t[ 2, - 3 ], [ 7, - 2 ], [ 1, - 1 ], [ 4, - 1 ],\r\n\t\t[ 2, 1 ], [ 6, 2 ], [ 0, 4 ], [ 4, 4 ],\r\n\t\t[ 2, 5 ], [ 7, 5 ], [ 5, 6 ], [ 3, 7 ]\r\n\t]\r\n];\r\n\r\nexport { SSAARenderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/SSAARenderPass.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { StructNode } from '../core/StructNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FunctionCallNode } from '../core/FunctionCallNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { MathNode } from '../math/MathNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\n\r\nfunction TextureCubeUVNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value,\r\n\tthis.uv = uv;\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nTextureCubeUVNode.Nodes = ( function () {\r\n\r\n\tvar TextureCubeUVData = new StructNode(\r\n\t\t`struct TextureCubeUVData {\r\n\t\t\tvec4 tl;\r\n\t\t\tvec4 tr;\r\n\t\t\tvec4 br;\r\n\t\t\tvec4 bl;\r\n\t\t\tvec2 f;\r\n\t\t}` );\r\n\r\n\tvar cubeUV_maxMipLevel = new ConstNode( `float cubeUV_maxMipLevel 8.0`, true );\r\n\tvar cubeUV_minMipLevel = new ConstNode( `float cubeUV_minMipLevel 4.0`, true );\r\n\tvar cubeUV_maxTileSize = new ConstNode( `float cubeUV_maxTileSize 256.0`, true );\r\n\tvar cubeUV_minTileSize = new ConstNode( `float cubeUV_minTileSize 16.0`, true );\r\n\r\n\t// These shader functions convert between the UV coordinates of a single face of\r\n\t// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\r\n\t// sampling a textureCube (not generally normalized).\r\n\r\n\tvar getFace = new FunctionNode(\r\n\t\t`float getFace(vec3 direction) {\r\n\t\t\t\tvec3 absDirection = abs(direction);\r\n\t\t\t\tfloat face = -1.0;\r\n\t\t\t\tif (absDirection.x > absDirection.z) {\r\n\t\t\t\t\tif (absDirection.x > absDirection.y)\r\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (absDirection.z > absDirection.y)\r\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t}\r\n\t\t\t\treturn face;\r\n\t\t}` );\r\n\tgetFace.useKeywords = false;\r\n\r\n\tvar getUV = new FunctionNode(\r\n\t\t`vec2 getUV(vec3 direction, float face) {\r\n\t\t\t\tvec2 uv;\r\n\t\t\t\tif (face == 0.0) {\r\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\r\n\t\t\t\t} else if (face == 1.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\r\n\t\t\t\t} else if (face == 2.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\r\n\t\t\t\t} else if (face == 3.0) {\r\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\r\n\t\t\t\t} else if (face == 4.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\r\n\t\t\t\t}\r\n\t\t\t\treturn 0.5 * (uv + 1.0);\r\n\t\t}` );\r\n\tgetUV.useKeywords = false;\r\n\r\n\tvar bilinearCubeUV = new FunctionNode(\r\n\t\t`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\r\n\r\n\t\t\tfloat face = getFace(direction);\r\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\r\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\r\n\t\t\tfloat faceSize = exp2(mipInt);\r\n\r\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\r\n\r\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\r\n\t\t\tvec2 f = fract(uv);\r\n\t\t\tuv += 0.5 - f;\r\n\t\t\tif (face > 2.0) {\r\n\t\t\t\tuv.y += faceSize;\r\n\t\t\t\tface -= 3.0;\r\n\t\t\t}\r\n\t\t\tuv.x += face * faceSize;\r\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\r\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\r\n\t\t\t}\r\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\r\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\r\n\t\t\tuv *= texelSize;\r\n\r\n\t\t\tvec4 tl = texture2D(envMap, uv);\r\n\t\t\tuv.x += texelSize;\r\n\t\t\tvec4 tr = texture2D(envMap, uv);\r\n\t\t\tuv.y += texelSize;\r\n\t\t\tvec4 br = texture2D(envMap, uv);\r\n\t\t\tuv.x -= texelSize;\r\n\t\t\tvec4 bl = texture2D(envMap, uv);\r\n\r\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\r\n\t\t}`, [ TextureCubeUVData, getFace, getUV, cubeUV_maxMipLevel, cubeUV_minMipLevel, cubeUV_maxTileSize, cubeUV_minTileSize ] );\r\n\tbilinearCubeUV.useKeywords = false;\r\n\r\n\t// These defines must match with PMREMGenerator\r\n\r\n\tvar r0 = new ConstNode( `float r0 1.0`, true );\r\n\tvar v0 = new ConstNode( `float v0 0.339`, true );\r\n\tvar m0 = new ConstNode( `float m0 -2.0`, true );\r\n\tvar r1 = new ConstNode( `float r1 0.8`, true );\r\n\tvar v1 = new ConstNode( `float v1 0.276`, true );\r\n\tvar m1 = new ConstNode( `float m1 -1.0`, true );\r\n\tvar r4 = new ConstNode( `float r4 0.4`, true );\r\n\tvar v4 = new ConstNode( `float v4 0.046`, true );\r\n\tvar m4 = new ConstNode( `float m4 2.0`, true );\r\n\tvar r5 = new ConstNode( `float r5 0.305`, true );\r\n\tvar v5 = new ConstNode( `float v5 0.016`, true );\r\n\tvar m5 = new ConstNode( `float m5 3.0`, true );\r\n\tvar r6 = new ConstNode( `float r6 0.21`, true );\r\n\tvar v6 = new ConstNode( `float v6 0.0038`, true );\r\n\tvar m6 = new ConstNode( `float m6 4.0`, true );\r\n\r\n\tvar defines = [ r0, v0, m0, r1, v1, m1, r4, v4, m4, r5, v5, m5, r6, v6, m6 ];\r\n\r\n\tvar roughnessToMip = new FunctionNode(\r\n\t\t`float roughnessToMip(float roughness) {\r\n\t\t\tfloat mip = 0.0;\r\n\t\t\tif (roughness >= r1) {\r\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\r\n\t\t\t} else if (roughness >= r4) {\r\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\r\n\t\t\t} else if (roughness >= r5) {\r\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\r\n\t\t\t} else if (roughness >= r6) {\r\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\r\n\t\t\t} else {\r\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\r\n\t\t\t}\r\n\t\t\treturn mip;\r\n\t\t}`, defines );\r\n\r\n\treturn {\r\n\t\tbilinearCubeUV: bilinearCubeUV,\r\n\t\troughnessToMip: roughnessToMip,\r\n\t\tm0: m0,\r\n\t\tcubeUV_maxMipLevel: cubeUV_maxMipLevel\r\n\t};\r\n\r\n} )();\r\n\r\nTextureCubeUVNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeUVNode.prototype.constructor = TextureCubeUVNode;\r\nTextureCubeUVNode.prototype.nodeType = \"TextureCubeUV\";\r\n\r\nTextureCubeUVNode.prototype.bilinearCubeUV = function ( builder, texture, uv, mipInt ) {\r\n\r\n\tvar bilinearCubeUV = new FunctionCallNode( TextureCubeUVNode.Nodes.bilinearCubeUV, [ texture, uv, mipInt ] );\r\n\r\n\tthis.colorSpaceTL = this.colorSpaceTL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTL.input.parse( bilinearCubeUV.build( builder ) + '.tl' );\r\n\r\n\tthis.colorSpaceTR = this.colorSpaceTR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTR.input.parse( bilinearCubeUV.build( builder ) + '.tr' );\r\n\r\n\tthis.colorSpaceBL = this.colorSpaceBL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBL.input.parse( bilinearCubeUV.build( builder ) + '.bl' );\r\n\r\n\tthis.colorSpaceBR = this.colorSpaceBR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBR.input.parse( bilinearCubeUV.build( builder ) + '.br' );\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpaceTLExp = new ExpressionNode( this.colorSpaceTL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceTRExp = new ExpressionNode( this.colorSpaceTR.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBLExp = new ExpressionNode( this.colorSpaceBL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBRExp = new ExpressionNode( this.colorSpaceBR.build( builder, 'v4' ), 'v4' );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\t// --\r\n\r\n\tvar output = new ExpressionNode( `mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )`, 'v4' );\r\n\toutput.keywords[ 'cubeUV_TL' ] = this.colorSpaceTLExp;\r\n\toutput.keywords[ 'cubeUV_TR' ] = this.colorSpaceTRExp;\r\n\toutput.keywords[ 'cubeUV_BL' ] = this.colorSpaceBLExp;\r\n\toutput.keywords[ 'cubeUV_BR' ] = this.colorSpaceBRExp;\r\n\toutput.keywords[ 'cubeUV' ] = bilinearCubeUV;\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar uv = this.uv;\r\n\t\tvar bias = this.bias || builder.context.roughness;\r\n\r\n\t\tvar mipV = new FunctionCallNode( TextureCubeUVNode.Nodes.roughnessToMip, [ bias ] );\r\n\t\tvar mip = new MathNode( mipV, TextureCubeUVNode.Nodes.m0, TextureCubeUVNode.Nodes.cubeUV_maxMipLevel, MathNode.CLAMP );\r\n\t\tvar mipInt\t= new MathNode( mip, MathNode.FLOOR );\r\n\t\tvar mipF\t= new MathNode( mip, MathNode.FRACT );\r\n\r\n\t\tvar color0 = this.bilinearCubeUV( builder, this.value, uv, mipInt );\r\n\t\tvar color1 = this.bilinearCubeUV( builder, this.value, uv, new OperatorNode(\r\n\t\t\tmipInt,\r\n\t\t\tnew FloatNode( 1 ).setReadonly( true ),\r\n\t\t\tOperatorNode.ADD\r\n\t\t) );\r\n\r\n\t\tvar color1Mix = new MathNode( color0, color1, mipF, MathNode.MIX );\r\n\r\n\t\t/*\r\n\t\t// TODO: Optimize this in the future\r\n\t\tvar cond = new CondNode(\r\n\t\t\tmipF,\r\n\t\t\tnew FloatNode( 0 ).setReadonly( true ),\r\n\t\t\tCondNode.EQUAL,\r\n\t\t\tcolor0, // if\r\n\t\t\tcolor1Mix\t// else\r\n\t\t);\r\n\t\t*/\r\n\r\n\t\treturn builder.format( color1Mix.build( builder ), 'v4', output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeUVNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction TextureNode( value, uv, bias, project ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.bias = bias;\r\n\tthis.project = project !== undefined ? project : false;\r\n\r\n}\r\n\r\nTextureNode.prototype = Object.create( InputNode.prototype );\r\nTextureNode.prototype.constructor = TextureNode;\r\nTextureNode.prototype.nodeType = \"Texture\";\r\n\r\nTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 't' );\r\n\r\n};\r\n\r\nTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'sampler2D' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar tex = this.getTexture( builder, output ),\r\n\t\tuv = this.uv.build( builder, this.project ? 'v4' : 'v2' ),\r\n\t\tbias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar method, code;\r\n\r\n\tif ( this.project ) method = 'texture2DProj';\r\n\telse method = bias ? 'tex2DBias' : 'tex2D';\r\n\r\n\tif ( bias ) code = method + '( ' + tex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = method + '( ' + tex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\tif ( source.project !== undefined ) this.project = source.project;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.value ) data.value = this.value.uuid;\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.project = this.project;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/TextureNode.js","import {\r\n\tShaderMaterial,\r\n\tUniformsUtils\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\n\r\nvar TexturePass = function ( map, opacity ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tif ( CopyShader === undefined )\r\n\t\tconsole.error( \"TexturePass relies on CopyShader\" );\r\n\r\n\tvar shader = CopyShader;\r\n\r\n\tthis.map = map;\r\n\tthis.opacity = ( opacity !== undefined ) ? opacity : 1.0;\r\n\r\n\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\tthis.material = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.uniforms,\r\n\t\tvertexShader: shader.vertexShader,\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nTexturePass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: TexturePass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tthis.fsQuad.material = this.material;\r\n\r\n\t\tthis.uniforms[ \"opacity\" ].value = this.opacity;\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = this.map;\r\n\t\tthis.material.transparent = ( this.opacity < 1.0 );\r\n\r\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { TexturePass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/TexturePass.js","import { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.overrideMaterial = overrideMaterial;\r\n\r\n\tthis.clearColor = clearColor;\r\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\r\n\r\n\tthis.clear = true;\r\n\tthis.clearDepth = false;\r\n\tthis.needsSwap = false;\r\n\r\n};\r\n\r\nRenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: RenderPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tvar oldClearColor, oldClearAlpha, oldOverrideMaterial;\r\n\r\n\t\tif ( this.overrideMaterial !== undefined ) {\r\n\r\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\r\n\r\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\toldClearColor = renderer.getClearColor().getHex();\r\n\t\t\toldClearAlpha = renderer.getClearAlpha();\r\n\r\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearDepth ) {\r\n\r\n\t\t\trenderer.clearDepth();\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\r\n\r\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\r\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.overrideMaterial !== undefined ) {\r\n\r\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\r\n\r\n\t\t}\r\n\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { RenderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/RenderPass.js","import { MathUtils } from '@/components/build/three.module.js';\r\n\r\nfunction Node( type ) {\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = \"\";\r\n\r\n\tthis.type = type;\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nNode.prototype = {\r\n\r\n\tconstructor: Node,\r\n\r\n\tisNode: true,\r\n\r\n\thashProperties: undefined,\r\n\r\n\tanalyze: function ( builder, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.analyzing = true;\r\n\r\n\t\tthis.build( builder.addFlow( settings.slot, settings.cache, settings.context ), 'v4' );\r\n\r\n\t\tbuilder.clearVertexNodeCode();\r\n\t\tbuilder.clearFragmentNodeCode();\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\tbuilder.analyzing = false;\r\n\r\n\t},\r\n\r\n\tanalyzeAndFlow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tthis.analyze( builder, settings );\r\n\r\n\t\treturn this.flow( builder, output, settings );\r\n\r\n\t},\r\n\r\n\tflow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.addFlow( settings.slot, settings.cache, settings.context );\r\n\r\n\t\tvar flow = {};\r\n\t\tflow.result = this.build( builder, output );\r\n\t\tflow.code = builder.clearNodeCode();\r\n\t\tflow.extra = builder.context.extra;\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\treturn flow;\r\n\r\n\t},\r\n\r\n\tbuild: function ( builder, output, uuid ) {\r\n\r\n\t\toutput = output || this.getType( builder, output );\r\n\r\n\t\tvar data = builder.getNodeData( uuid || this );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t}\r\n\r\n\t\tif ( builder.nodes.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.nodes.push( this );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.updateFrame !== undefined && builder.updaters.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.updaters.push( this );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t},\r\n\r\n\tgenerate: function ( /* builder, output, uuid, type, ns */ ) {\r\n\r\n\t\t// This method needs to be implemented in subclasses\r\n\r\n\t},\r\n\r\n\tgetHash: function () {\r\n\r\n\t\tvar hash = '{';\r\n\t\tvar prop, obj;\r\n\r\n\t\tfor ( prop in this ) {\r\n\r\n\t\t\tobj = this[ prop ];\r\n\r\n\t\t\tif ( obj instanceof Node ) {\r\n\r\n\t\t\t\thash += '\"' + prop + '\":' + obj.getHash() + ',';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.hashProperties ) {\r\n\r\n\t\t\tfor ( var i = 0; i < this.hashProperties.length; i ++ ) {\r\n\r\n\t\t\t\tprop = this.hashProperties[ i ];\r\n\t\t\t\tobj = this[ prop ];\r\n\r\n\t\t\t\thash += '\"' + prop + '\":\"' + String( obj ) + '\",';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\thash += '\"id\":\"' + this.uuid + '\"}';\r\n\r\n\t\treturn hash;\r\n\r\n\t},\r\n\r\n\tappendDepsNode: function ( builder, data, output ) {\r\n\r\n\t\tdata.deps = ( data.deps || 0 ) + 1;\r\n\r\n\t\tvar outputLen = builder.getTypeLength( output );\r\n\r\n\t\tif ( outputLen > ( data.outputMax || 0 ) || this.getType( builder, output ) ) {\r\n\r\n\t\t\tdata.outputMax = outputLen;\r\n\t\t\tdata.output = output;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetName: function ( name ) {\r\n\r\n\t\tthis.name = name;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetName: function ( /* builder */ ) {\r\n\r\n\t\treturn this.name;\r\n\r\n\t},\r\n\r\n\tgetType: function ( builder, output ) {\r\n\r\n\t\treturn output === 'sampler2D' || output === 'samplerCube' ? output : this.type;\r\n\r\n\t},\r\n\r\n\tgetJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( ! isRootObject && meta.nodes[ this.uuid ] !== undefined ) {\r\n\r\n\t\t\treturn meta.nodes[ this.uuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tif ( source.name !== undefined ) this.name = source.name;\r\n\r\n\t\tif ( source.userData !== undefined ) this.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcreateJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tif ( typeof this.nodeType !== \"string\" ) throw new Error( \"Node does not allow serialization.\" );\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.nodeType = this.nodeType;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tif ( ! isRootObject ) {\r\n\r\n\t\t\tmeta.nodes[ this.uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\treturn this.getJSONNode( meta ) || this.createJSONNode( meta );\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/Node.js","function NodeFrame( time ) {\r\n\r\n\tthis.time = time !== undefined ? time : 0;\r\n\r\n\tthis.id = 0;\r\n\r\n}\r\n\r\nNodeFrame.prototype = {\r\n\r\n\tconstructor: NodeFrame,\r\n\r\n\tupdate: function ( delta ) {\r\n\r\n\t\t++ this.id;\r\n\r\n\t\tthis.time += delta;\r\n\t\tthis.delta = delta;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderer: function ( renderer ) {\r\n\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderTexture: function ( renderTexture ) {\r\n\r\n\t\tthis.renderTexture = renderTexture;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateNode: function ( node ) {\r\n\r\n\t\tif ( node.frameId === this.id ) return this;\r\n\r\n\t\tnode.updateFrame( this );\r\n\r\n\t\tnode.frameId = this.id;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeFrame };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeFrame.js","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = f1Eh\n// module chunks = 0","import {\r\n\tShaderMaterial,\r\n\tUniformsUtils\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar ShaderPass = function ( shader, textureID ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\r\n\r\n\tif ( shader instanceof ShaderMaterial ) {\r\n\r\n\t\tthis.uniforms = shader.uniforms;\r\n\r\n\t\tthis.material = shader;\r\n\r\n\t} else if ( shader ) {\r\n\r\n\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\t\tthis.material = new ShaderMaterial( {\r\n\r\n\t\t\tdefines: Object.assign( {}, shader.defines ),\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\tfragmentShader: shader.fragmentShader\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\r\n\r\n};\r\n\r\nShaderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: ShaderPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tif ( this.uniforms[ this.textureID ] ) {\r\n\r\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\r\n\r\n\t\t}\r\n\r\n\t\tthis.fsQuad.material = this.material;\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\r\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { ShaderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/ShaderPass.js","/**\r\n * Full-screen textured quad shader\r\n */\r\n\r\nvar CopyShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"opacity\": { value: 1.0 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float opacity;\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 texel = texture2D( tDiffuse, vUv );\",\r\n\t\t\"\tgl_FragColor = opacity * texel;\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { CopyShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/CopyShader.js","import {\r\n\tColor\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Luminosity\r\n * http://en.wikipedia.org/wiki/Luminosity\r\n */\r\n\r\nvar LuminosityHighPassShader = {\r\n\r\n\tshaderID: \"luminosityHighPass\",\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"luminosityThreshold\": { value: 1.0 },\r\n\t\t\"smoothWidth\": { value: 1.0 },\r\n\t\t\"defaultColor\": { value: new Color( 0x000000 ) },\r\n\t\t\"defaultOpacity\": { value: 0.0 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"uniform vec3 defaultColor;\",\r\n\t\t\"uniform float defaultOpacity;\",\r\n\t\t\"uniform float luminosityThreshold;\",\r\n\t\t\"uniform float smoothWidth;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 texel = texture2D( tDiffuse, vUv );\",\r\n\r\n\t\t\"\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\",\r\n\r\n\t\t\"\tfloat v = dot( texel.xyz, luma );\",\r\n\r\n\t\t\"\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\",\r\n\r\n\t\t\"\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\",\r\n\r\n\t\t\"\tgl_FragColor = mix( outputColor, texel, alpha );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { LuminosityHighPassShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/LuminosityHighPassShader.js","import {\r\n\tAdditiveBlending,\r\n\tColor,\r\n\tLinearFilter,\r\n\tMeshBasicMaterial,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector2,\r\n\tVector3,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { LuminosityHighPassShader } from \"../shaders/LuminosityHighPassShader.js\";\r\n\r\n/**\r\n * UnrealBloomPass is inspired by the bloom pass of Unreal Engine. It creates a\r\n * mip map chain of bloom textures and blurs them with different radii. Because\r\n * of the weighted combination of mips, and because larger blurs are done on\r\n * higher mips, this effect provides good quality and performance.\r\n *\r\n * Reference:\r\n * - https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\r\n */\r\nvar UnrealBloomPass = function ( resolution, strength, radius, threshold ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.strength = ( strength !== undefined ) ? strength : 1;\r\n\tthis.radius = radius;\r\n\tthis.threshold = threshold;\r\n\tthis.resolution = ( resolution !== undefined ) ? new Vector2( resolution.x, resolution.y ) : new Vector2( 256, 256 );\r\n\r\n\t// create color only once here, reuse it later inside the render function\r\n\tthis.clearColor = new Color( 0, 0, 0 );\r\n\r\n\t// render targets\r\n\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\r\n\tthis.renderTargetsHorizontal = [];\r\n\tthis.renderTargetsVertical = [];\r\n\tthis.nMips = 5;\r\n\tvar resx = Math.round( this.resolution.x / 2 );\r\n\tvar resy = Math.round( this.resolution.y / 2 );\r\n\r\n\tthis.renderTargetBright = new WebGLRenderTarget( resx, resy, pars );\r\n\tthis.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\r\n\tthis.renderTargetBright.texture.generateMipmaps = false;\r\n\r\n\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\tvar renderTargetHorizonal = new WebGLRenderTarget( resx, resy, pars );\r\n\r\n\t\trenderTargetHorizonal.texture.name = \"UnrealBloomPass.h\" + i;\r\n\t\trenderTargetHorizonal.texture.generateMipmaps = false;\r\n\r\n\t\tthis.renderTargetsHorizontal.push( renderTargetHorizonal );\r\n\r\n\t\tvar renderTargetVertical = new WebGLRenderTarget( resx, resy, pars );\r\n\r\n\t\trenderTargetVertical.texture.name = \"UnrealBloomPass.v\" + i;\r\n\t\trenderTargetVertical.texture.generateMipmaps = false;\r\n\r\n\t\tthis.renderTargetsVertical.push( renderTargetVertical );\r\n\r\n\t\tresx = Math.round( resx / 2 );\r\n\r\n\t\tresy = Math.round( resy / 2 );\r\n\r\n\t}\r\n\r\n\t// luminosity high pass material\r\n\r\n\tif ( LuminosityHighPassShader === undefined )\r\n\t\tconsole.error( \"UnrealBloomPass relies on LuminosityHighPassShader\" );\r\n\r\n\tvar highPassShader = LuminosityHighPassShader;\r\n\tthis.highPassUniforms = UniformsUtils.clone( highPassShader.uniforms );\r\n\r\n\tthis.highPassUniforms[ \"luminosityThreshold\" ].value = threshold;\r\n\tthis.highPassUniforms[ \"smoothWidth\" ].value = 0.01;\r\n\r\n\tthis.materialHighPassFilter = new ShaderMaterial( {\r\n\t\tuniforms: this.highPassUniforms,\r\n\t\tvertexShader: highPassShader.vertexShader,\r\n\t\tfragmentShader: highPassShader.fragmentShader,\r\n\t\tdefines: {}\r\n\t} );\r\n\r\n\t// Gaussian Blur Materials\r\n\tthis.separableBlurMaterials = [];\r\n\tvar kernelSizeArray = [ 3, 5, 7, 9, 11 ];\r\n\tvar resx = Math.round( this.resolution.x / 2 );\r\n\tvar resy = Math.round( this.resolution.y / 2 );\r\n\r\n\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\tthis.separableBlurMaterials.push( this.getSeperableBlurMaterial( kernelSizeArray[ i ] ) );\r\n\r\n\t\tthis.separableBlurMaterials[ i ].uniforms[ \"texSize\" ].value = new Vector2( resx, resy );\r\n\r\n\t\tresx = Math.round( resx / 2 );\r\n\r\n\t\tresy = Math.round( resy / 2 );\r\n\r\n\t}\r\n\r\n\t// Composite material\r\n\tthis.compositeMaterial = this.getCompositeMaterial( this.nMips );\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture1\" ].value = this.renderTargetsVertical[ 0 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture2\" ].value = this.renderTargetsVertical[ 1 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture3\" ].value = this.renderTargetsVertical[ 2 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture4\" ].value = this.renderTargetsVertical[ 3 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture5\" ].value = this.renderTargetsVertical[ 4 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"bloomStrength\" ].value = strength;\r\n\tthis.compositeMaterial.uniforms[ \"bloomRadius\" ].value = 0.1;\r\n\tthis.compositeMaterial.needsUpdate = true;\r\n\r\n\tvar bloomFactors = [ 1.0, 0.8, 0.6, 0.4, 0.2 ];\r\n\tthis.compositeMaterial.uniforms[ \"bloomFactors\" ].value = bloomFactors;\r\n\tthis.bloomTintColors = [ new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ),\r\n\t\t\t\t\t\t\t new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ) ];\r\n\tthis.compositeMaterial.uniforms[ \"bloomTintColors\" ].value = this.bloomTintColors;\r\n\r\n\t// copy material\r\n\tif ( CopyShader === undefined ) {\r\n\r\n\t\tconsole.error( \"UnrealBloomPass relies on CopyShader\" );\r\n\r\n\t}\r\n\r\n\tvar copyShader = CopyShader;\r\n\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\tthis.copyUniforms[ \"opacity\" ].value = 1.0;\r\n\r\n\tthis.materialCopy = new ShaderMaterial( {\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tblending: AdditiveBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false,\r\n\t\ttransparent: true\r\n\t} );\r\n\r\n\tthis.enabled = true;\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.oldClearColor = new Color();\r\n\tthis.oldClearAlpha = 1;\r\n\r\n\tthis.basic = new MeshBasicMaterial();\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nUnrealBloomPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: UnrealBloomPass,\r\n\r\n\tdispose: function () {\r\n\r\n\t\tfor ( var i = 0; i < this.renderTargetsHorizontal.length; i ++ ) {\r\n\r\n\t\t\tthis.renderTargetsHorizontal[ i ].dispose();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < this.renderTargetsVertical.length; i ++ ) {\r\n\r\n\t\t\tthis.renderTargetsVertical[ i ].dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderTargetBright.dispose();\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tvar resx = Math.round( width / 2 );\r\n\t\tvar resy = Math.round( height / 2 );\r\n\r\n\t\tthis.renderTargetBright.setSize( resx, resy );\r\n\r\n\t\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\t\tthis.renderTargetsHorizontal[ i ].setSize( resx, resy );\r\n\t\t\tthis.renderTargetsVertical[ i ].setSize( resx, resy );\r\n\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"texSize\" ].value = new Vector2( resx, resy );\r\n\r\n\t\t\tresx = Math.round( resx / 2 );\r\n\t\t\tresy = Math.round( resy / 2 );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\r\n\r\n\t\tthis.oldClearColor.copy( renderer.getClearColor() );\r\n\t\tthis.oldClearAlpha = renderer.getClearAlpha();\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\trenderer.setClearColor( this.clearColor, 0 );\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\r\n\r\n\t\t// Render input to screen\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\tthis.fsQuad.material = this.basic;\r\n\t\t\tthis.basic.map = readBuffer.texture;\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\trenderer.clear();\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t\t// 1. Extract Bright Areas\r\n\r\n\t\tthis.highPassUniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.highPassUniforms[ \"luminosityThreshold\" ].value = this.threshold;\r\n\t\tthis.fsQuad.material = this.materialHighPassFilter;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetBright );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t// 2. Blur All the mips progressively\r\n\r\n\t\tvar inputRenderTarget = this.renderTargetBright;\r\n\r\n\t\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\t\tthis.fsQuad.material = this.separableBlurMaterials[ i ];\r\n\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"colorTexture\" ].value = inputRenderTarget.texture;\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"direction\" ].value = UnrealBloomPass.BlurDirectionX;\r\n\t\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ i ] );\r\n\t\t\trenderer.clear();\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"colorTexture\" ].value = this.renderTargetsHorizontal[ i ].texture;\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"direction\" ].value = UnrealBloomPass.BlurDirectionY;\r\n\t\t\trenderer.setRenderTarget( this.renderTargetsVertical[ i ] );\r\n\t\t\trenderer.clear();\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\tinputRenderTarget = this.renderTargetsVertical[ i ];\r\n\r\n\t\t}\r\n\r\n\t\t// Composite All the mips\r\n\r\n\t\tthis.fsQuad.material = this.compositeMaterial;\r\n\t\tthis.compositeMaterial.uniforms[ \"bloomStrength\" ].value = this.strength;\r\n\t\tthis.compositeMaterial.uniforms[ \"bloomRadius\" ].value = this.radius;\r\n\t\tthis.compositeMaterial.uniforms[ \"bloomTintColors\" ].value = this.bloomTintColors;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ 0 ] );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t// Blend it additively over the input texture\r\n\r\n\t\tthis.fsQuad.material = this.materialCopy;\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.renderTargetsHorizontal[ 0 ].texture;\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.setRenderTarget( readBuffer );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t\t// Restore renderer settings\r\n\r\n\t\trenderer.setClearColor( this.oldClearColor, this.oldClearAlpha );\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t},\r\n\r\n\tgetSeperableBlurMaterial: function ( kernelRadius ) {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\t\"KERNEL_RADIUS\": kernelRadius,\r\n\t\t\t\t\"SIGMA\": kernelRadius\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"colorTexture\": { value: null },\r\n\t\t\t\t\"texSize\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\t\t\"direction\": { value: new Vector2( 0.5, 0.5 ) }\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader:\r\n\t\t\t\t\"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\r\n\r\n\t\t\tfragmentShader:\r\n\t\t\t\t\"#include <common>\\\r\n\t\t\t\tvarying vec2 vUv;\\n\\\r\n\t\t\t\tuniform sampler2D colorTexture;\\n\\\r\n\t\t\t\tuniform vec2 texSize;\\\r\n\t\t\t\tuniform vec2 direction;\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\\\r\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\\r\n\t\t\t\t}\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\\\r\n\t\t\t\t\tfloat fSigma = float(SIGMA);\\\r\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\\\r\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\\\r\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\\r\n\t\t\t\t\t\tfloat x = float(i);\\\r\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\\\r\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\\\r\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\\\r\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\\\r\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\\\r\n\t\t\t\t\t\tweightSum += 2.0 * w;\\\r\n\t\t\t\t\t}\\\r\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\\r\n\t\t\t\t}\"\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tgetCompositeMaterial: function ( nMips ) {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\t\"NUM_MIPS\": nMips\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"blurTexture1\": { value: null },\r\n\t\t\t\t\"blurTexture2\": { value: null },\r\n\t\t\t\t\"blurTexture3\": { value: null },\r\n\t\t\t\t\"blurTexture4\": { value: null },\r\n\t\t\t\t\"blurTexture5\": { value: null },\r\n\t\t\t\t\"dirtTexture\": { value: null },\r\n\t\t\t\t\"bloomStrength\": { value: 1.0 },\r\n\t\t\t\t\"bloomFactors\": { value: null },\r\n\t\t\t\t\"bloomTintColors\": { value: null },\r\n\t\t\t\t\"bloomRadius\": { value: 0.0 }\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader:\r\n\t\t\t\t\"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\r\n\r\n\t\t\tfragmentShader:\r\n\t\t\t\t\"varying vec2 vUv;\\\r\n\t\t\t\tuniform sampler2D blurTexture1;\\\r\n\t\t\t\tuniform sampler2D blurTexture2;\\\r\n\t\t\t\tuniform sampler2D blurTexture3;\\\r\n\t\t\t\tuniform sampler2D blurTexture4;\\\r\n\t\t\t\tuniform sampler2D blurTexture5;\\\r\n\t\t\t\tuniform sampler2D dirtTexture;\\\r\n\t\t\t\tuniform float bloomStrength;\\\r\n\t\t\t\tuniform float bloomRadius;\\\r\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\\\r\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat lerpBloomFactor(const in float factor) { \\\r\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\\\r\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\\\r\n\t\t\t\t}\\\r\n\t\t\t\t\\\r\n\t\t\t\tvoid main() {\\\r\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\\\r\n\t\t\t\t}\"\r\n\t\t} );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nUnrealBloomPass.BlurDirectionX = new Vector2( 1.0, 0.0 );\r\nUnrealBloomPass.BlurDirectionY = new Vector2( 0.0, 1.0 );\r\n\r\nexport { UnrealBloomPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/UnrealBloomPass.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction OperatorNode( a, b, op ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\tthis.op = op;\r\n\r\n}\r\n\r\nOperatorNode.ADD = '+';\r\nOperatorNode.SUB = '-';\r\nOperatorNode.MUL = '*';\r\nOperatorNode.DIV = '/';\r\n\r\nOperatorNode.prototype = Object.create( TempNode.prototype );\r\nOperatorNode.prototype.constructor = OperatorNode;\r\nOperatorNode.prototype.nodeType = \"Operator\";\r\n\r\nOperatorNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar a = this.a.getType( builder ),\r\n\t\tb = this.b.getType( builder );\r\n\r\n\tif ( builder.isTypeMatrix( a ) ) {\r\n\r\n\t\treturn 'v4';\r\n\r\n\t} else if ( builder.getTypeLength( b ) > builder.getTypeLength( a ) ) {\r\n\r\n\t\t// use the greater length vector\r\n\r\n\t\treturn b;\r\n\r\n\t}\r\n\r\n\treturn a;\r\n\r\n};\r\n\r\nOperatorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder );\r\n\r\n\tvar a = this.a.build( builder, type ),\r\n\t\tb = this.b.build( builder, type );\r\n\r\n\treturn builder.format( '( ' + a + ' ' + this.op + ' ' + b + ' )', type, output );\r\n\r\n};\r\n\r\nOperatorNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.op = source.op;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nOperatorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\t\tdata.op = this.op;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { OperatorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/OperatorNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction PositionNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || PositionNode.LOCAL;\r\n\r\n}\r\n\r\nPositionNode.LOCAL = 'local';\r\nPositionNode.WORLD = 'world';\r\nPositionNode.VIEW = 'view';\r\nPositionNode.PROJECTION = 'projection';\r\n\r\nPositionNode.prototype = Object.create( TempNode.prototype );\r\nPositionNode.prototype.constructor = PositionNode;\r\nPositionNode.prototype.nodeType = \"Position\";\r\n\r\nPositionNode.prototype.getType = function ( ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\treturn 'v4';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nPositionNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nPositionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'transformed';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.position = true;\r\n\r\n\t\t\t\tresult = 'vPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\treturn '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldPosition = true;\r\n\r\n\t\t\t\tresult = 'vWPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.VIEW:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '-mvPosition.xyz' : 'vViewPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nPositionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPositionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'position', function () {\r\n\r\n\treturn new PositionNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.WORLD );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'viewPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.VIEW );\r\n\r\n} );\r\n\r\nexport { PositionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/PositionNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction InputNode( type, params ) {\r\n\r\n\tparams = params || {};\r\n\tparams.shared = params.shared !== undefined ? params.shared : false;\r\n\r\n\tTempNode.call( this, type, params );\r\n\r\n\tthis.readonly = false;\r\n\r\n}\r\n\r\nInputNode.prototype = Object.create( TempNode.prototype );\r\nInputNode.prototype.constructor = InputNode;\r\n\r\nInputNode.prototype.setReadonly = function ( value ) {\r\n\r\n\tthis.readonly = value;\r\n\r\n\tthis.hashProperties = this.readonly ? [ \"value\" ] : undefined;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.getReadonly = function ( /* builder */ ) {\r\n\r\n\treturn this.readonly;\r\n\r\n};\r\n\r\nInputNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.readonly !== undefined ) this.readonly = source.readonly;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.createJSONNode = function ( meta ) {\r\n\r\n\tvar data = TempNode.prototype.createJSONNode.call( this, meta );\r\n\r\n\tif ( this.readonly === true ) data.readonly = this.readonly;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nInputNode.prototype.generate = function ( builder, output, uuid, type, ns, needsUpdate ) {\r\n\r\n\tuuid = builder.getUuid( uuid || this.getUuid() );\r\n\ttype = type || this.getType( builder );\r\n\r\n\tvar data = builder.getNodeData( uuid ),\r\n\t\treadonly = this.getReadonly( builder ) && this.generateReadonly !== undefined;\r\n\r\n\tif ( readonly ) {\r\n\r\n\t\treturn this.generateReadonly( builder, output, uuid, type, ns, needsUpdate );\r\n\r\n\t} else {\r\n\r\n\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\tif ( ! data.vertex ) {\r\n\r\n\t\t\t\tdata.vertex = builder.createVertexUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.vertex.name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( ! data.fragment ) {\r\n\r\n\t\t\t\tdata.fragment = builder.createFragmentUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.fragment.name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { InputNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/InputNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction MathNode( a, bOrMethod, cOrMethod, method ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\ttypeof bOrMethod !== 'string' ? this.b = bOrMethod : method = bOrMethod;\r\n\ttypeof cOrMethod !== 'string' ? this.c = cOrMethod : method = cOrMethod;\r\n\r\n\tthis.method = method;\r\n\r\n}\r\n\r\n// 1 input\r\n\r\nMathNode.RAD = 'radians';\r\nMathNode.DEG = 'degrees';\r\nMathNode.EXP = 'exp';\r\nMathNode.EXP2 = 'exp2';\r\nMathNode.LOG = 'log';\r\nMathNode.LOG2 = 'log2';\r\nMathNode.SQRT = 'sqrt';\r\nMathNode.INV_SQRT = 'inversesqrt';\r\nMathNode.FLOOR = 'floor';\r\nMathNode.CEIL = 'ceil';\r\nMathNode.NORMALIZE = 'normalize';\r\nMathNode.FRACT = 'fract';\r\nMathNode.SATURATE = 'saturate';\r\nMathNode.SIN = 'sin';\r\nMathNode.COS = 'cos';\r\nMathNode.TAN = 'tan';\r\nMathNode.ASIN = 'asin';\r\nMathNode.ACOS = 'acos';\r\nMathNode.ARCTAN = 'atan';\r\nMathNode.ABS = 'abs';\r\nMathNode.SIGN = 'sign';\r\nMathNode.LENGTH = 'length';\r\nMathNode.NEGATE = 'negate';\r\nMathNode.INVERT = 'invert';\r\n\r\n// 2 inputs\r\n\r\nMathNode.MIN = 'min';\r\nMathNode.MAX = 'max';\r\nMathNode.MOD = 'mod';\r\nMathNode.STEP = 'step';\r\nMathNode.REFLECT = 'reflect';\r\nMathNode.DISTANCE = 'distance';\r\nMathNode.DOT = 'dot';\r\nMathNode.CROSS = 'cross';\r\nMathNode.POW = 'pow';\r\n\r\n// 3 inputs\r\n\r\nMathNode.MIX = 'mix';\r\nMathNode.CLAMP = 'clamp';\r\nMathNode.REFRACT = 'refract';\r\nMathNode.SMOOTHSTEP = 'smoothstep';\r\nMathNode.FACEFORWARD = 'faceforward';\r\n\r\nMathNode.prototype = Object.create( TempNode.prototype );\r\nMathNode.prototype.constructor = MathNode;\r\nMathNode.prototype.nodeType = \"Math\";\r\nMathNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nMathNode.prototype.getNumInputs = function ( /*builder*/ ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.MIX:\r\n\t\tcase MathNode.CLAMP:\r\n\t\tcase MathNode.REFRACT:\r\n\t\tcase MathNode.SMOOTHSTEP:\r\n\t\tcase MathNode.FACEFORWARD:\r\n\r\n\t\t\treturn 3;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\t\tcase MathNode.STEP:\r\n\t\tcase MathNode.REFLECT:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\t\tcase MathNode.CROSS:\r\n\t\tcase MathNode.POW:\r\n\r\n\t\t\treturn 2;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\treturn 1;\r\n\r\n\t}\r\n\r\n};\r\n\r\nMathNode.prototype.getInputType = function ( builder ) {\r\n\r\n\tvar a = builder.getTypeLength( this.a.getType( builder ) );\r\n\tvar b = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0;\r\n\tvar c = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0;\r\n\r\n\tif ( a > b && a > c ) {\r\n\r\n\t\treturn this.a.getType( builder );\r\n\r\n\t} else if ( b > c ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.c.getType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.getType = function ( builder ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.LENGTH:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\treturn 'v3';\r\n\r\n\t}\r\n\r\n\treturn this.getInputType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar a, b, c,\r\n\t\tal = this.a ? builder.getTypeLength( this.a.getType( builder ) ) : 0,\r\n\t\tbl = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0,\r\n\t\tcl = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0,\r\n\t\tinputType = this.getInputType( builder ),\r\n\t\tnodeType = this.getType( builder );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\t// 1 input\r\n\r\n\t\tcase MathNode.NEGATE:\r\n\r\n\t\t\treturn builder.format( '( -' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\tcase MathNode.INVERT:\r\n\r\n\t\t\treturn builder.format( '( 1.0 - ' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\t\t// 2 inputs\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\ta = this.a.build( builder, 'v3' );\r\n\t\t\tb = this.b.build( builder, 'v3' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.STEP:\r\n\r\n\t\t\ta = this.a.build( builder, al === 1 ? 'f' : inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, bl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// 3 inputs\r\n\r\n\t\tcase MathNode.REFRACT:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, 'f' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIX:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, cl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// default\r\n\r\n\t\tdefault:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tif ( this.b ) b = this.b.build( builder, inputType );\r\n\t\t\tif ( this.c ) c = this.c.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\t// build function call\r\n\r\n\tvar params = [];\r\n\tparams.push( a );\r\n\tif ( b ) params.push( b );\r\n\tif ( c ) params.push( c );\r\n\r\n\tvar numInputs = this.getNumInputs( builder );\r\n\r\n\tif ( params.length !== numInputs ) {\r\n\r\n\t\tthrow Error( `Arguments not match used in \"${this.method}\". Require ${numInputs}, currently ${params.length}.` );\r\n\r\n\t}\r\n\r\n\treturn builder.format( this.method + '( ' + params.join( ', ' ) + ' )', nodeType, output );\r\n\r\n};\r\n\r\nMathNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.c = source.c;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMathNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tif ( this.b ) data.b = this.b.toJSON( meta ).uuid;\r\n\t\tif ( this.c ) data.c = this.c.toJSON( meta ).uuid;\r\n\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MathNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/MathNode.js","import {\r\n\tFrontSide,\r\n\tLessEqualDepth,\r\n\tNoColors,\r\n\tNormalBlending,\r\n\tShaderMaterial\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { ColorNode } from '../inputs/ColorNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { RawNode } from './nodes/RawNode.js';\r\n\r\nfunction NodeMaterial( vertex, fragment ) {\r\n\r\n\tShaderMaterial.call( this );\r\n\r\n\tthis.vertex = vertex || new RawNode( new PositionNode( PositionNode.PROJECTION ) );\r\n\tthis.fragment = fragment || new RawNode( new ColorNode( 0xFF0000 ) );\r\n\r\n\tthis.updaters = [];\r\n\r\n}\r\n\r\nNodeMaterial.prototype = Object.create( ShaderMaterial.prototype );\r\nNodeMaterial.prototype.constructor = NodeMaterial;\r\nNodeMaterial.prototype.type = \"NodeMaterial\";\r\n\r\nNodeMaterial.prototype.isNodeMaterial = true;\r\n\r\nObject.defineProperties( NodeMaterial.prototype, {\r\n\r\n\tproperties: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.fragment.properties;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tneedsUpdate: {\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tif ( value === true ) this.version ++;\r\n\t\t\tthis.needsCompile = value;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.needsCompile;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nNodeMaterial.prototype.onBeforeCompile = function ( shader, renderer ) {\r\n\r\n\tthis.build( { renderer: renderer } );\r\n\r\n\tshader.defines = this.defines;\r\n\tshader.uniforms = this.uniforms;\r\n\tshader.vertexShader = this.vertexShader;\r\n\tshader.fragmentShader = this.fragmentShader;\r\n\r\n\tshader.extensionDerivatives = ( this.extensions.derivatives === true );\r\n\tshader.extensionFragDepth = ( this.extensions.fragDepth === true );\r\n\tshader.extensionDrawBuffers = ( this.extensions.drawBuffers === true );\r\n\tshader.extensionShaderTextureLOD = ( this.extensions.shaderTextureLOD === true );\r\n\r\n};\r\n\r\nNodeMaterial.prototype.customProgramCacheKey = function () {\r\n\r\n\tvar hash = this.getHash();\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.getHash = function () {\r\n\r\n\tvar hash = '{';\r\n\r\n\thash += '\"vertex\":' + this.vertex.getHash() + ',';\r\n\thash += '\"fragment\":' + this.fragment.getHash();\r\n\r\n\thash += '}';\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.updateFrame = function ( frame ) {\r\n\r\n\tfor ( var i = 0; i < this.updaters.length; ++ i ) {\r\n\r\n\t\tframe.updateNode( this.updaters[ i ] );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNodeMaterial.prototype.build = function ( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tvar builder = params.builder || new NodeBuilder();\r\n\r\n\tbuilder.setMaterial( this, params.renderer );\r\n\tbuilder.build( this.vertex, this.fragment );\r\n\r\n\tthis.vertexShader = builder.getCode( 'vertex' );\r\n\tthis.fragmentShader = builder.getCode( 'fragment' );\r\n\r\n\tthis.defines = builder.defines;\r\n\tthis.uniforms = builder.uniforms;\r\n\tthis.extensions = builder.extensions;\r\n\tthis.updaters = builder.updaters;\r\n\r\n\tthis.fog = builder.requires.fog;\r\n\tthis.lights = builder.requires.lights;\r\n\r\n\tthis.transparent = builder.requires.transparent || this.blending > NormalBlending;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.copy = function ( source ) {\r\n\r\n\tvar uuid = this.uuid;\r\n\r\n\tfor ( var name in source ) {\r\n\r\n\t\tthis[ name ] = source[ name ];\r\n\r\n\t}\r\n\r\n\tthis.uuid = uuid;\r\n\r\n\tif ( source.userData !== undefined ) {\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\tif ( isRootObject ) {\r\n\r\n\t\tmeta = {\r\n\t\t\tnodes: {}\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tif ( meta && ! meta.materials ) meta.materials = {};\r\n\r\n\tif ( ! meta.materials[ this.uuid ] ) {\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\r\n\t\tmeta.materials[ data.uuid ] = data;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( this.size !== undefined ) data.size = this.size;\r\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\r\n\r\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\r\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\r\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\r\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\r\n\r\n\t\tif ( this.depthFunc !== LessEqualDepth ) data.depthFunc = this.depthFunc;\r\n\t\tif ( this.depthTest === false ) data.depthTest = this.depthTest;\r\n\t\tif ( this.depthWrite === false ) data.depthWrite = this.depthWrite;\r\n\r\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\r\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\r\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\r\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\r\n\r\n\t\tif ( this.dithering === true ) data.dithering = true;\r\n\r\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\r\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\r\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\r\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\r\n\r\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\r\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\r\n\r\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\r\n\t\tif ( this.skinning === true ) data.skinning = true;\r\n\r\n\t\tif ( this.visible === false ) data.visible = false;\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tdata.fog = this.fog;\r\n\t\tdata.lights = this.lights;\r\n\r\n\t\tdata.vertex = this.vertex.toJSON( meta ).uuid;\r\n\t\tdata.fragment = this.fragment.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\tmeta.material = this.uuid;\r\n\r\n\treturn meta;\r\n\r\n};\r\n\r\nexport { NodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/NodeMaterial.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^struct\\s*([a-z_0-9]+)\\s*{\\s*((.|\\n)*?)}/img,\r\n\tpropertiesRegexp = /\\s*(\\w*?)\\s*(\\w*?)(\\=|\\;)/img;\r\n\r\nfunction StructNode( src ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src );\r\n\r\n}\r\n\r\nStructNode.prototype = Object.create( TempNode.prototype );\r\nStructNode.prototype.constructor = StructNode;\r\nStructNode.prototype.nodeType = \"Struct\";\r\n\r\nStructNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.name );\r\n\r\n};\r\n\r\nStructNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn this.src + ';';\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + this.src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.parse = function ( src ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.inputs = [];\r\n\r\n\tvar declaration = declarationRegexp.exec( this.src );\r\n\r\n\tif ( declaration ) {\r\n\r\n\t\tvar properties = declaration[ 2 ], match;\r\n\r\n\t\twhile ( match = propertiesRegexp.exec( properties ) ) {\r\n\r\n\t\t\tthis.inputs.push( {\r\n\t\t\t\ttype: match[ 1 ],\r\n\t\t\t\tname: match[ 2 ]\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = declaration[ 1 ];\r\n\r\n\t} else {\r\n\r\n\t\tthis.name = '';\r\n\r\n\t}\r\n\r\n\tthis.type = this.name;\r\n\r\n};\r\n\r\nStructNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StructNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/StructNode.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = nErl\n// module chunks = 0","import { FunctionNode } from './FunctionNode.js';\r\n\r\nfunction ExpressionNode( src, type, keywords, extensions, includes ) {\r\n\r\n\tFunctionNode.call( this, src, includes, extensions, keywords, type );\r\n\r\n}\r\n\r\nExpressionNode.prototype = Object.create( FunctionNode.prototype );\r\nExpressionNode.prototype.constructor = ExpressionNode;\r\nExpressionNode.prototype.nodeType = \"Expression\";\r\n\r\nexport { ExpressionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ExpressionNode.js","import { Node } from './Node.js';\r\n\r\nfunction VarNode( type, value ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nVarNode.prototype = Object.create( Node.prototype );\r\nVarNode.prototype.constructor = VarNode;\r\nVarNode.prototype.nodeType = \"Var\";\r\n\r\nVarNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nVarNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar varying = builder.getVar( this.uuid, this.type );\r\n\r\n\tif ( this.value && builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tbuilder.addNodeCode( varying.name + ' = ' + this.value.build( builder, this.getType( builder ) ) + ';' );\r\n\r\n\t}\r\n\r\n\treturn builder.format( varying.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nVarNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVarNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VarNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/VarNode.js","import { Node } from './Node.js';\r\n\r\nfunction AttributeNode( name, type ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.name = name;\r\n\r\n}\r\n\r\nAttributeNode.prototype = Object.create( Node.prototype );\r\nAttributeNode.prototype.constructor = AttributeNode;\r\nAttributeNode.prototype.nodeType = \"Attribute\";\r\n\r\nAttributeNode.prototype.getAttributeType = function ( builder ) {\r\n\r\n\treturn typeof this.type === 'number' ? builder.getConstructorFromLength( this.type ) : this.type;\r\n\r\n};\r\n\r\nAttributeNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\treturn builder.getTypeByFormat( type );\r\n\r\n};\r\n\r\nAttributeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\tvar attribute = builder.getAttribute( this.name, type ),\r\n\t\tname = builder.isShader( 'vertex' ) ? this.name : attribute.varying.name;\r\n\r\n\treturn builder.format( name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nAttributeNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nAttributeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { AttributeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/AttributeNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction BoolNode( value ) {\r\n\r\n\tInputNode.call( this, 'b' );\r\n\r\n\tthis.value = Boolean( value );\r\n\r\n}\r\n\r\nBoolNode.prototype = Object.create( InputNode.prototype );\r\nBoolNode.prototype.constructor = BoolNode;\r\nBoolNode.prototype.nodeType = \"Bool\";\r\n\r\nBoolNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nBoolNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBoolNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BoolNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/BoolNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction IntNode( value ) {\r\n\r\n\tInputNode.call( this, 'i' );\r\n\r\n\tthis.value = Math.floor( value || 0 );\r\n\r\n}\r\n\r\nIntNode.prototype = Object.create( InputNode.prototype );\r\nIntNode.prototype.constructor = IntNode;\r\nIntNode.prototype.nodeType = \"Int\";\r\n\r\nIntNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nIntNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nIntNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { IntNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/IntNode.js","import { Matrix3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix3Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm3' );\r\n\r\n\tthis.value = matrix || new Matrix3();\r\n\r\n}\r\n\r\nMatrix3Node.prototype = Object.create( InputNode.prototype );\r\nMatrix3Node.prototype.constructor = Matrix3Node;\r\nMatrix3Node.prototype.nodeType = \"Matrix3\";\r\n\r\nObject.defineProperties( Matrix3Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat3( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\n\r\nMatrix3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix3Node.js","import { Matrix4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix4Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm4' );\r\n\r\n\tthis.value = matrix || new Matrix4();\r\n\r\n}\r\n\r\nMatrix4Node.prototype = Object.create( InputNode.prototype );\r\nMatrix4Node.prototype.constructor = Matrix4Node;\r\nMatrix4Node.prototype.nodeType = \"Matrix4\";\r\n\r\nObject.defineProperties( Matrix4Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix4Node.prototype.generateReadonly = function ( builder, output, uuid, type /*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat4( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\nMatrix4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix4Node.js","import { InputNode } from '../core/InputNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction ScreenNode( uv ) {\r\n\r\n\tTextureNode.call( this, undefined, uv );\r\n\r\n}\r\n\r\nScreenNode.prototype = Object.create( TextureNode.prototype );\r\nScreenNode.prototype.constructor = ScreenNode;\r\nScreenNode.prototype.nodeType = \"Screen\";\r\n\r\nScreenNode.prototype.getUnique = function () {\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nScreenNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.getUuid(), 't', 'renderTexture' );\r\n\r\n};\r\n\r\nexport { ScreenNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ScreenNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\nimport { Matrix4Node } from './Matrix4Node.js';\r\n\r\nfunction ReflectorNode( mirror ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tif ( mirror ) this.setMirror( mirror );\r\n\r\n}\r\n\r\nReflectorNode.prototype = Object.create( TempNode.prototype );\r\nReflectorNode.prototype.constructor = ReflectorNode;\r\nReflectorNode.prototype.nodeType = \"Reflector\";\r\n\r\nReflectorNode.prototype.setMirror = function ( mirror ) {\r\n\r\n\tthis.mirror = mirror;\r\n\r\n\tthis.textureMatrix = new Matrix4Node( this.mirror.material.uniforms.textureMatrix.value );\r\n\r\n\tthis.localPosition = new PositionNode( PositionNode.LOCAL );\r\n\r\n\tthis.uv = new OperatorNode( this.textureMatrix, this.localPosition, OperatorNode.MUL );\r\n\tthis.uvResult = new OperatorNode( null, this.uv, OperatorNode.ADD );\r\n\r\n\tthis.texture = new TextureNode( this.mirror.material.uniforms.tDiffuse.value, this.uv, null, true );\r\n\r\n};\r\n\r\nReflectorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.uvResult.a = this.offset;\r\n\t\tthis.texture.uv = this.offset ? this.uvResult : this.uv;\r\n\r\n\t\tif ( output === 'sampler2D' ) {\r\n\r\n\t\t\treturn this.texture.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( this.texture.build( builder, this.type ), this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectorNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.mirror = source.mirror;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nReflectorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.mirror = this.mirror.uuid;\r\n\r\n\t\tif ( this.offset ) data.offset = this.offset.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ReflectorNode.js","import {\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tScene,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction RTTNode( width, height, input, options ) {\r\n\r\n\toptions = options || {};\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.clear = options.clear !== undefined ? options.clear : true;\r\n\r\n\tthis.renderTarget = new WebGLRenderTarget( width, height, options );\r\n\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.render = true;\r\n\r\n\tTextureNode.call( this, this.renderTarget.texture );\r\n\r\n}\r\n\r\nRTTNode.prototype = Object.create( TextureNode.prototype );\r\nRTTNode.prototype.constructor = RTTNode;\r\nRTTNode.prototype.nodeType = \"RTT\";\r\n\r\nRTTNode.prototype.build = function ( builder, output, uuid ) {\r\n\r\n\tvar rttBuilder = new NodeBuilder();\r\n\trttBuilder.nodes = builder.nodes;\r\n\trttBuilder.updaters = builder.updaters;\r\n\r\n\tthis.material.fragment.value = this.input;\r\n\tthis.material.build( { builder: rttBuilder } );\r\n\r\n\treturn TextureNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFramesaveTo = function ( frame ) {\r\n\r\n\tthis.saveTo.render = false;\r\n\r\n\tif ( this.saveTo !== this.saveToCurrent ) {\r\n\r\n\t\tif ( this.saveToMaterial ) this.saveToMaterial.dispose();\r\n\r\n\t\tvar material = new NodeMaterial();\r\n\t\tmaterial.fragment.value = this;\r\n\t\tmaterial.build();\r\n\r\n\t\tvar scene = new Scene();\r\n\r\n\t\tvar quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), material );\r\n\t\tquad.frustumCulled = false; // Avoid getting clipped\r\n\t\tscene.add( quad );\r\n\r\n\t\tthis.saveToScene = scene;\r\n\t\tthis.saveToMaterial = material;\r\n\r\n\t}\r\n\r\n\tthis.saveToCurrent = this.saveTo;\r\n\r\n\tframe.renderer.setRenderTarget( this.saveTo.renderTarget );\r\n\tif ( this.saveTo.clear ) frame.renderer.clear();\r\n\tframe.renderer.render( this.saveToScene, this.camera );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\t// from the second frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === false ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.render ) {\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = frame.renderTexture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tframe.renderer.setRenderTarget( this.renderTarget );\r\n\t\t\tif ( this.clear ) frame.renderer.clear();\r\n\t\t\tframe.renderer.render( this.scene, this.camera );\r\n\r\n\t\t}\r\n\r\n\t\t// first frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === true ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"RTTNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nRTTNode.prototype.copy = function ( source ) {\r\n\r\n\tTextureNode.prototype.copy.call( this, source );\r\n\r\n\tthis.saveTo = source.saveTo;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRTTNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = TextureNode.prototype.toJSON.call( this, meta );\r\n\r\n\t\tif ( this.saveTo ) data.saveTo = this.saveTo.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RTTNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/RTTNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction PropertyNode( object, property, type ) {\r\n\r\n\tInputNode.call( this, type );\r\n\r\n\tthis.object = object;\r\n\tthis.property = property;\r\n\r\n}\r\n\r\nPropertyNode.prototype = Object.create( InputNode.prototype );\r\nPropertyNode.prototype.constructor = PropertyNode;\r\nPropertyNode.prototype.nodeType = \"Property\";\r\n\r\nObject.defineProperties( PropertyNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.object[ this.property ] = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nPropertyNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\t\tdata.property = this.property;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PropertyNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/PropertyNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nvar vertexDict = [ 'color', 'color2' ],\r\n\tfragmentDict = [ 'vColor', 'vColor2' ];\r\n\r\nfunction ColorsNode( index ) {\r\n\r\n\tTempNode.call( this, 'v4', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nColorsNode.prototype = Object.create( TempNode.prototype );\r\nColorsNode.prototype.constructor = ColorsNode;\r\nColorsNode.prototype.nodeType = \"Colors\";\r\n\r\nColorsNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.color[ this.index ] = true;\r\n\r\n\tvar result = builder.isShader( 'vertex' ) ? vertexDict[ this.index ] : fragmentDict[ this.index ];\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorsNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorsNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorsNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ColorsNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction CameraNode( scope, camera ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.setScope( scope || CameraNode.POSITION );\r\n\tthis.setCamera( camera );\r\n\r\n}\r\n\r\nCameraNode.Nodes = ( function () {\r\n\r\n\tvar depthColor = new FunctionNode( [\r\n\t\t\"float depthColor( float mNear, float mFar ) {\",\r\n\r\n\t\t\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#else\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#endif\",\r\n\r\n\t\t\"\treturn 1.0 - smoothstep( mNear, mFar, depth );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tdepthColor: depthColor\r\n\t};\r\n\r\n} )();\r\n\r\nCameraNode.POSITION = 'position';\r\nCameraNode.DEPTH = 'depth';\r\nCameraNode.TO_VERTEX = 'toVertex';\r\n\r\nCameraNode.prototype = Object.create( TempNode.prototype );\r\nCameraNode.prototype.constructor = CameraNode;\r\nCameraNode.prototype.nodeType = \"Camera\";\r\n\r\nCameraNode.prototype.setCamera = function ( camera ) {\r\n\r\n\tthis.camera = camera;\r\n\tthis.updateFrame = camera !== undefined ? this.onUpdateFrame : undefined;\r\n\r\n};\r\n\r\nCameraNode.prototype.setScope = function ( scope ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tdelete this.near;\r\n\t\t\tdelete this.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.scope = scope;\r\n\r\n\tswitch ( scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near = new FloatNode( camera ? camera.near : 1 );\r\n\t\t\tthis.far = new FloatNode( camera ? camera.far : 1200 );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nCameraNode.prototype.getUnique = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\treturn true;\r\n\r\n\t}\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nCameraNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nCameraNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\tresult = 'cameraPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar depthColor = builder.include( CameraNode.Nodes.depthColor );\r\n\r\n\t\t\tresult = depthColor + '( ' + this.near.build( builder, 'f' ) + ', ' + this.far.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\tresult = 'normalize( ' + new PositionNode( PositionNode.WORLD ).build( builder, 'v3' ) + ' - cameraPosition )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCameraNode.prototype.onUpdateFrame = function ( /* frame */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near.value = camera.near;\r\n\t\t\tthis.far.value = camera.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.setScope( source.scope );\r\n\r\n\tif ( source.camera ) {\r\n\r\n\t\tthis.setCamera( source.camera );\r\n\r\n\t}\r\n\r\n\tswitch ( source.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tthis.near.number = source.near;\r\n\t\t\tthis.far.number = source.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCameraNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t\tif ( this.camera ) data.camera = this.camera.uuid;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\t\tdata.near = this.near.value;\r\n\t\t\t\tdata.far = this.far.value;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CameraNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/CameraNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction LightNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3', { shared: false } );\r\n\r\n\tthis.scope = scope || LightNode.TOTAL;\r\n\r\n}\r\n\r\nLightNode.TOTAL = 'total';\r\n\r\nLightNode.prototype = Object.create( TempNode.prototype );\r\nLightNode.prototype.constructor = LightNode;\r\nLightNode.prototype.nodeType = \"Light\";\r\n\r\nLightNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isCache( 'light' ) ) {\r\n\r\n\t\treturn builder.format( 'reflectedLight.directDiffuse', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.LightNode is only compatible in \\\"light\\\" channel.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nLightNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLightNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LightNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/LightNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\n\r\nfunction ResolutionNode() {\r\n\r\n\tVector2Node.call( this );\r\n\r\n\tthis.size = new Vector2();\r\n\r\n}\r\n\r\nResolutionNode.prototype = Object.create( Vector2Node.prototype );\r\nResolutionNode.prototype.constructor = ResolutionNode;\r\nResolutionNode.prototype.nodeType = \"Resolution\";\r\n\r\nResolutionNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\tframe.renderer.getSize( this.size );\r\n\r\n\t\tvar pixelRatio = frame.renderer.getPixelRatio();\r\n\r\n\t\tthis.x = this.size.width * pixelRatio;\r\n\t\tthis.y = this.size.height * pixelRatio;\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"ResolutionNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nResolutionNode.prototype.copy = function ( source ) {\r\n\r\n\tVector2Node.prototype.copy.call( this, source );\r\n\r\n\tthis.renderer = source.renderer;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nResolutionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.renderer = this.renderer.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ResolutionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ResolutionNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ResolutionNode } from './ResolutionNode.js';\r\n\r\nfunction ScreenUVNode( resolution ) {\r\n\r\n\tTempNode.call( this, 'v2' );\r\n\r\n\tthis.resolution = resolution || new ResolutionNode();\r\n\r\n}\r\n\r\nScreenUVNode.prototype = Object.create( TempNode.prototype );\r\nScreenUVNode.prototype.constructor = ScreenUVNode;\r\nScreenUVNode.prototype.nodeType = \"ScreenUV\";\r\n\r\nScreenUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tresult = '( gl_FragCoord.xy / ' + this.resolution.build( builder, 'v2' ) + ')';\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ScreenUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\tresult = 'vec2( 0.0 )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nScreenUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.resolution = source.resolution;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nScreenUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.resolution = this.resolution.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ScreenUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ScreenUVNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction CondNode( a, b, op, ifNode, elseNode ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\r\n\tthis.op = op;\r\n\r\n\tthis.ifNode = ifNode;\r\n\tthis.elseNode = elseNode;\r\n\r\n}\r\n\r\nCondNode.EQUAL = '==';\r\nCondNode.NOT_EQUAL = '!=';\r\nCondNode.GREATER = '>';\r\nCondNode.GREATER_EQUAL = '>=';\r\nCondNode.LESS = '<';\r\nCondNode.LESS_EQUAL = '<=';\r\nCondNode.AND = '&&';\r\nCondNode.OR = '||';\r\n\r\nCondNode.prototype = Object.create( TempNode.prototype );\r\nCondNode.prototype.constructor = CondNode;\r\nCondNode.prototype.nodeType = \"Cond\";\r\n\r\nCondNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifType = this.ifNode.getType( builder );\r\n\t\tvar elseType = this.elseNode.getType( builder );\r\n\r\n\t\tif ( builder.getTypeLength( elseType ) > builder.getTypeLength( ifType ) ) {\r\n\r\n\t\t\treturn elseType;\r\n\r\n\t\t}\r\n\r\n\t\treturn ifType;\r\n\r\n\t}\r\n\r\n\treturn 'b';\r\n\r\n};\r\n\r\nCondNode.prototype.getCondType = function ( builder ) {\r\n\r\n\tif ( builder.getTypeLength( this.b.getType( builder ) ) > builder.getTypeLength( this.a.getType( builder ) ) ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.a.getType( builder );\r\n\r\n};\r\n\r\nCondNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tcondType = this.getCondType( builder ),\r\n\t\ta = this.a.build( builder, condType ),\r\n\t\tb = this.b.build( builder, condType ),\r\n\t\tcode;\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifCode = this.ifNode.build( builder, type ),\r\n\t\t\telseCode = this.elseNode.build( builder, type );\r\n\r\n\t\tcode = '( ' + [ a, this.op, b, '?', ifCode, ':', elseCode ].join( ' ' ) + ' )';\r\n\r\n\t} else {\r\n\r\n\t\tcode = '( ' + a + ' ' + this.op + ' ' + b + ' )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCondNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\r\n\tthis.op = source.op;\r\n\r\n\tthis.ifNode = source.ifNode;\r\n\tthis.elseNode = source.elseNode;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCondNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\r\n\t\tdata.op = this.op;\r\n\r\n\t\tif ( data.ifNode ) data.ifNode = this.ifNode.toJSON( meta ).uuid;\r\n\t\tif ( data.elseNode ) data.elseNode = this.elseNode.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CondNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/CondNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction NoiseNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nNoiseNode.prototype = Object.create( TempNode.prototype );\r\nNoiseNode.prototype.constructor = NoiseNode;\r\nNoiseNode.prototype.nodeType = \"Noise\";\r\n\r\nNoiseNode.Nodes = ( function () {\r\n\r\n\tvar snoise = new FunctionNode( [\r\n\t\t\"float snoise(vec2 co) {\",\r\n\r\n\t\t\"\treturn fract( sin( dot( co.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tsnoise: snoise\r\n\t};\r\n\r\n} )();\r\n\r\nNoiseNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( NoiseNode.Nodes.snoise );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nNoiseNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNoiseNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NoiseNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/NoiseNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction CheckerNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nCheckerNode.prototype = Object.create( TempNode.prototype );\r\nCheckerNode.prototype.constructor = CheckerNode;\r\nCheckerNode.prototype.nodeType = \"Noise\";\r\n\r\nCheckerNode.Nodes = ( function () {\r\n\r\n\t// https://github.com/mattdesl/glsl-checker/blob/master/index.glsl\r\n\r\n\tvar checker = new FunctionNode( [\r\n\t\t\"float checker( vec2 uv ) {\",\r\n\r\n\t\t\"\tfloat cx = floor( uv.x );\",\r\n\t\t\"\tfloat cy = floor( uv.y ); \",\r\n\t\t\"\tfloat result = mod( cx + cy, 2.0 );\",\r\n\r\n\t\t\"\treturn sign( result );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tchecker: checker\r\n\t};\r\n\r\n} )();\r\n\r\nCheckerNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( CheckerNode.Nodes.checker );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nCheckerNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCheckerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CheckerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/CheckerNode.js","import {\r\n\tBackSide\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction NormalMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new Vector2Node( 1, 1 );\r\n\r\n}\r\n\r\nNormalMapNode.Nodes = ( function () {\r\n\r\n\tvar perturbNormal2Arb = new FunctionNode(\r\n\r\n\t\t// Per-Pixel Tangent Space Normal Mapping\r\n\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\r\n\r\n\t\t`vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 map, vec2 vUv, vec2 normalScale ) {\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\r\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\r\n\t\tvec2 st0 = dFdx( vUv.st );\r\n\t\tvec2 st1 = dFdy( vUv.st );\r\n\r\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\r\n\r\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\r\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\r\n\t\tvec3 N = normalize( surf_norm );\r\n\r\n\t\tvec3 mapN = map * 2.0 - 1.0;\r\n\r\n\t\tmapN.xy *= normalScale;\r\n\r\n\t\t#ifdef DOUBLE_SIDED\r\n\r\n\t\t\t// Workaround for Adreno GPUs gl_FrontFacing bug. See #15850 and #10331\r\n\r\n\t\t\tif ( dot( cross( S, T ), N ) < 0.0 ) mapN.xy *= - 1.0;\r\n\r\n\t\t#else\r\n\r\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\r\n\r\n\t\t#endif\r\n\r\n\t\tmat3 tsn = mat3( S, T, N );\r\n\t\treturn normalize( tsn * mapN );\r\n\r\n\t}`, null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tperturbNormal2Arb: perturbNormal2Arb\r\n\t};\r\n\r\n} )();\r\n\r\nNormalMapNode.prototype = Object.create( TempNode.prototype );\r\nNormalMapNode.prototype.constructor = NormalMapNode;\r\nNormalMapNode.prototype.nodeType = \"NormalMap\";\r\n\r\nNormalMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar perturbNormal2Arb = builder.include( NormalMapNode.Nodes.perturbNormal2Arb );\r\n\r\n\t\tthis.normal = this.normal || new NormalNode();\r\n\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\t\tthis.uv = this.uv || new UVNode();\r\n\r\n\t\tvar scale = this.scale.build( builder, 'v2' );\r\n\r\n\t\tif ( builder.material.side === BackSide ) {\r\n\r\n\t\t\tscale = '-' + scale;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( perturbNormal2Arb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.value.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\tscale + ' )', this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.NormalMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNormalMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NormalMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/NormalMapNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction BumpMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new FloatNode( 1 );\r\n\r\n\tthis.toNormalMap = false;\r\n\r\n}\r\n\r\nBumpMapNode.Nodes = ( function () {\r\n\r\n\tvar dHdxy_fwd = new FunctionNode( [\r\n\r\n\t\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\r\n\t\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\r\n\r\n\t\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\r\n\r\n\t\t\"vec2 dHdxy_fwd( sampler2D bumpMap, vec2 vUv, float bumpScale ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( vUv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( vUv );\",\r\n\r\n\t\t\"\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\",\r\n\t\t\"\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec2( dBx, dBy );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\tvar perturbNormalArb = new FunctionNode( [\r\n\r\n\t\t\"vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vN = surf_norm;\", // normalized\r\n\r\n\t\t\"\tvec3 R1 = cross( vSigmaY, vN );\",\r\n\t\t\"\tvec3 R2 = cross( vN, vSigmaX );\",\r\n\r\n\t\t\"\tfloat fDet = dot( vSigmaX, R1 );\",\r\n\r\n\t\t\"\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\",\r\n\r\n\t\t\"\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\",\r\n\r\n\t\t\"\treturn normalize( abs( fDet ) * surf_norm - vGrad );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), [ dHdxy_fwd ], { derivatives: true } );\r\n\r\n\tvar bumpToNormal = new FunctionNode( [\r\n\t\t\"vec3 bumpToNormal( sampler2D bumpMap, vec2 uv, float scale ) {\",\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( uv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( uv );\",\r\n\r\n\t\t\"\tfloat Hll = texture2D( bumpMap, uv ).x;\",\r\n\t\t\"\tfloat dBx = texture2D( bumpMap, uv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = texture2D( bumpMap, uv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec3( .5 - ( dBx * scale ), .5 - ( dBy * scale ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tdHdxy_fwd: dHdxy_fwd,\r\n\t\tperturbNormalArb: perturbNormalArb,\r\n\t\tbumpToNormal: bumpToNormal\r\n\t};\r\n\r\n} )();\r\n\r\nBumpMapNode.prototype = Object.create( TempNode.prototype );\r\nBumpMapNode.prototype.constructor = BumpMapNode;\r\nBumpMapNode.prototype.nodeType = \"BumpMap\";\r\nBumpMapNode.prototype.hashProperties = [ \"toNormalMap\" ];\r\n\r\nBumpMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tif ( this.toNormalMap ) {\r\n\r\n\t\t\tvar bumpToNormal = builder.include( BumpMapNode.Nodes.bumpToNormal );\r\n\r\n\t\t\treturn builder.format( bumpToNormal + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )', this.getType( builder ), output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar derivativeHeight = builder.include( BumpMapNode.Nodes.dHdxy_fwd ),\r\n\t\t\t\tperturbNormalArb = builder.include( BumpMapNode.Nodes.perturbNormalArb );\r\n\r\n\t\t\tthis.normal = this.normal || new NormalNode();\r\n\t\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\r\n\t\t\tvar derivativeHeightCode = derivativeHeight + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\treturn builder.format( perturbNormalArb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tderivativeHeightCode + ' )', this.getType( builder ), output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BumpMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBumpMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBumpMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BumpMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/BumpMapNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction BypassNode( code, value ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.code = code;\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nBypassNode.prototype = Object.create( Node.prototype );\r\nBypassNode.prototype.constructor = BypassNode;\r\nBypassNode.prototype.nodeType = \"Bypass\";\r\n\r\nBypassNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.value ) {\r\n\r\n\t\treturn this.value.getType( builder );\r\n\r\n\t} else if ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn 'void';\r\n\r\n};\r\n\r\nBypassNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar code = this.code.build( builder, output ) + ';';\r\n\r\n\tbuilder.addNodeCode( code );\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\treturn this.value.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\treturn this.value ? this.value.build( builder, output ) : builder.format( '0.0', 'f', output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBypassNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.code = source.code;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBypassNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.code = this.code.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BypassNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/BypassNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nvar inputs = NodeUtils.elements;\r\n\r\nfunction JoinNode( x, y, z, w ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.x = x;\r\n\tthis.y = y;\r\n\tthis.z = z;\r\n\tthis.w = w;\r\n\r\n}\r\n\r\nJoinNode.prototype = Object.create( TempNode.prototype );\r\nJoinNode.prototype.constructor = JoinNode;\r\nJoinNode.prototype.nodeType = \"Join\";\r\n\r\nJoinNode.prototype.getNumElements = function () {\r\n\r\n\tvar i = inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this[ inputs[ i ] ] !== undefined ) {\r\n\r\n\t\t\t++ i;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Math.max( i, 2 );\r\n\r\n};\r\n\r\nJoinNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.getNumElements() );\r\n\r\n};\r\n\r\nJoinNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tlength = this.getNumElements(),\r\n\t\toutputs = [];\r\n\r\n\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\toutputs.push( elm ? elm.build( builder, 'f' ) : '0.0' );\r\n\r\n\t}\r\n\r\n\tvar code = ( length > 1 ? builder.getConstructorFromLength( length ) : '' ) + '( ' + outputs.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nJoinNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nJoinNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.inputs = {};\r\n\r\n\t\tvar length = this.getNumElements();\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\t\tif ( elm ) {\r\n\r\n\t\t\t\tdata.inputs[ inputs[ i ] ] = elm.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { JoinNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/JoinNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction SwitchNode( node, components ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.node = node;\r\n\tthis.components = components || 'x';\r\n\r\n}\r\n\r\nSwitchNode.prototype = Object.create( Node.prototype );\r\nSwitchNode.prototype.constructor = SwitchNode;\r\nSwitchNode.prototype.nodeType = \"Switch\";\r\n\r\nSwitchNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.components.length );\r\n\r\n};\r\n\r\nSwitchNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.node.getType( builder ),\r\n\t\tnode = this.node.build( builder, type ),\r\n\t\tinputLength = builder.getTypeLength( type ) - 1;\r\n\r\n\tif ( inputLength > 0 ) {\r\n\r\n\t\t// get max length\r\n\r\n\t\tvar outputLength = 0,\r\n\t\t\tcomponents = builder.colorToVectorProperties( this.components );\r\n\r\n\t\tvar i, len = components.length;\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\toutputLength = Math.max( outputLength, builder.getIndexByElement( components.charAt( i ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( outputLength > inputLength ) outputLength = inputLength;\r\n\r\n\t\t// split\r\n\r\n\t\tnode += '.';\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\tvar idx = builder.getIndexByElement( components.charAt( i ) );\r\n\r\n\t\t\tif ( idx > outputLength ) idx = outputLength;\r\n\r\n\t\t\tnode += builder.getElementByIndex( idx );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( node, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\t// join\r\n\r\n\t\treturn builder.format( node, type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSwitchNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.node = source.node;\r\n\tthis.components = source.components;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSwitchNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.node = this.node.toJSON( meta ).uuid;\r\n\t\tdata.components = this.components;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SwitchNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SwitchNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction TimerNode( scale, scope, timeScale ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.scale = scale !== undefined ? scale : 1;\r\n\tthis.scope = scope || TimerNode.GLOBAL;\r\n\r\n\tthis.timeScale = timeScale !== undefined ? timeScale : scale !== undefined;\r\n\r\n}\r\n\r\nTimerNode.GLOBAL = 'global';\r\nTimerNode.LOCAL = 'local';\r\nTimerNode.DELTA = 'delta';\r\n\r\nTimerNode.prototype = Object.create( FloatNode.prototype );\r\nTimerNode.prototype.constructor = TimerNode;\r\nTimerNode.prototype.nodeType = \"Timer\";\r\n\r\nTimerNode.prototype.getReadonly = function () {\r\n\r\n\t// never use TimerNode as readonly but aways as \"uniform\"\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nTimerNode.prototype.getUnique = function () {\r\n\r\n\t// share TimerNode \"uniform\" input if is used on more time with others TimerNode\r\n\r\n\treturn this.timeScale && ( this.scope === TimerNode.GLOBAL || this.scope === TimerNode.DELTA );\r\n\r\n};\r\n\r\nTimerNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tvar scale = this.timeScale ? this.scale : 1;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase TimerNode.LOCAL:\r\n\r\n\t\t\tthis.value += frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase TimerNode.DELTA:\r\n\r\n\t\t\tthis.value = frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value = frame.time * scale;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTimerNode.prototype.copy = function ( source ) {\r\n\r\n\tFloatNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\tthis.scale = source.scale;\r\n\r\n\tthis.timeScale = source.timeScale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTimerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\t\tdata.scale = this.scale;\r\n\r\n\t\tdata.timeScale = this.timeScale;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'time', function () {\r\n\r\n\treturn new TimerNode();\r\n\r\n} );\r\n\r\nexport { TimerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/TimerNode.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\n\r\nfunction VelocityNode( target, params ) {\r\n\r\n\tVector3Node.call( this );\r\n\r\n\tthis.params = {};\r\n\r\n\tthis.velocity = new Vector3();\r\n\r\n\tthis.setTarget( target );\r\n\tthis.setParams( params );\r\n\r\n}\r\n\r\nVelocityNode.prototype = Object.create( Vector3Node.prototype );\r\nVelocityNode.prototype.constructor = VelocityNode;\r\nVelocityNode.prototype.nodeType = \"Velocity\";\r\n\r\nVelocityNode.prototype.getReadonly = function ( /*builder*/ ) {\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nVelocityNode.prototype.setParams = function ( params ) {\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tdelete this.moment;\r\n\r\n\t\t\tdelete this.speed;\r\n\t\t\tdelete this.springVelocity;\r\n\r\n\t\t\tdelete this.lastVelocity;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.params = params || {};\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tthis.moment = new Vector3();\r\n\r\n\t\t\tthis.speed = new Vector3();\r\n\t\t\tthis.springVelocity = new Vector3();\r\n\r\n\t\t\tthis.lastVelocity = new Vector3();\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.setTarget = function ( target ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tdelete this.position;\r\n\t\tdelete this.oldPosition;\r\n\r\n\t}\r\n\r\n\tthis.target = target;\r\n\r\n\tif ( target ) {\r\n\r\n\t\tthis.position = target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.oldPosition = this.position.clone();\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrameVelocity = function ( /*frame*/ ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tthis.position = this.target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.velocity.subVectors( this.position, this.oldPosition );\r\n\t\tthis.oldPosition.copy( this.position );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tthis.updateFrameVelocity( frame );\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\t// convert to real scale: 0 at 1 values\r\n\t\t\tvar deltaFps = frame.delta * ( this.params.fps || 60 );\r\n\r\n\t\t\tvar spring = Math.pow( this.params.spring, deltaFps ),\r\n\t\t\t\tdamping = Math.pow( this.params.damping, deltaFps );\r\n\r\n\t\t\t// fix relative frame-rate\r\n\t\t\tthis.velocity.multiplyScalar( Math.exp( - this.params.damping * deltaFps ) );\r\n\r\n\t\t\t// elastic\r\n\t\t\tthis.velocity.add( this.springVelocity );\r\n\t\t\tthis.velocity.add( this.speed.multiplyScalar( damping ).multiplyScalar( 1 - spring ) );\r\n\r\n\t\t\t// speed\r\n\t\t\tthis.speed.subVectors( this.velocity, this.lastVelocity );\r\n\r\n\t\t\t// spring velocity\r\n\t\t\tthis.springVelocity.add( this.speed );\r\n\t\t\tthis.springVelocity.multiplyScalar( spring );\r\n\r\n\t\t\t// moment\r\n\t\t\tthis.moment.add( this.springVelocity );\r\n\r\n\t\t\t// damping\r\n\t\t\tthis.moment.multiplyScalar( damping );\r\n\r\n\t\t\tthis.lastVelocity.copy( this.velocity );\r\n\t\t\tthis.value.copy( this.moment );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value.copy( this.velocity );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.copy = function ( source ) {\r\n\r\n\tVector3Node.prototype.copy.call( this, source );\r\n\r\n\tif ( source.target ) this.setTarget( source.target );\r\n\r\n\tthis.setParams( source.params );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVelocityNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.target ) data.target = this.target.uuid;\r\n\r\n\t\t// clone params\r\n\t\tdata.params = JSON.parse( JSON.stringify( this.params ) );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VelocityNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/VelocityNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\n\r\nfunction MaxMIPLevelNode( texture ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = 0;\r\n\r\n}\r\n\r\nMaxMIPLevelNode.prototype = Object.create( FloatNode.prototype );\r\nMaxMIPLevelNode.prototype.constructor = MaxMIPLevelNode;\r\nMaxMIPLevelNode.prototype.nodeType = \"MaxMIPLevel\";\r\n\r\nObject.defineProperties( MaxMIPLevelNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tif ( this.maxMIPLevel === 0 ) {\r\n\r\n\t\t\t\tvar image = this.texture.value.image;\r\n\r\n\t\t\t\tif ( Array.isArray( image ) ) image = image[ 0 ];\r\n\r\n\t\t\t\tthis.maxMIPLevel = image !== undefined ? Math.log( Math.max( image.width, image.height ) ) * Math.LOG2E : 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.maxMIPLevel;\r\n\r\n\t\t},\r\n\r\n\t\tset: function () { }\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMaxMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MaxMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { MaxMIPLevelNode } from './MaxMIPLevelNode.js';\r\n\r\nfunction SpecularMIPLevelNode( roughness, texture ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.roughness = roughness;\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = undefined;\r\n\r\n}\r\n\r\nSpecularMIPLevelNode.Nodes = ( function () {\r\n\r\n\tvar getSpecularMIPLevel = new FunctionNode( [\r\n\t\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\r\n\t\t\"float getSpecularMIPLevel( const in float roughness, const in float maxMIPLevelScalar ) {\",\r\n\r\n\t\t\"\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\",\r\n\t\t\"\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\",\r\n\r\n\t\t// clamp to allowable LOD ranges.\r\n\t\t\"\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tgetSpecularMIPLevel: getSpecularMIPLevel\r\n\t};\r\n\r\n} )();\r\n\r\nSpecularMIPLevelNode.prototype = Object.create( TempNode.prototype );\r\nSpecularMIPLevelNode.prototype.constructor = SpecularMIPLevelNode;\r\nSpecularMIPLevelNode.prototype.nodeType = \"SpecularMIPLevel\";\r\n\r\nSpecularMIPLevelNode.prototype.setTexture = function ( texture ) {\r\n\r\n\tthis.texture = texture;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.maxMIPLevel = this.maxMIPLevel || new MaxMIPLevelNode();\r\n\t\tthis.maxMIPLevel.texture = this.texture;\r\n\r\n\t\tvar getSpecularMIPLevel = builder.include( SpecularMIPLevelNode.Nodes.getSpecularMIPLevel );\r\n\r\n\t\treturn builder.format( getSpecularMIPLevel + '( ' + this.roughness.build( builder, 'f' ) + ', ' + this.maxMIPLevel.build( builder, 'f' ) + ' )', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.SpecularMIPLevelNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( '0.0', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.texture = source.texture;\r\n\tthis.roughness = source.roughness;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture;\r\n\t\tdata.roughness = this.roughness;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpecularMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","import { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { Matrix3Node } from '../inputs/Matrix3Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction UVTransformNode( uv, position ) {\r\n\r\n\tExpressionNode.call( this, \"( uvTransform * vec3( uvNode, 1 ) ).xy\", \"vec2\" );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.position = position || new Matrix3Node();\r\n\r\n}\r\n\r\nUVTransformNode.prototype = Object.create( ExpressionNode.prototype );\r\nUVTransformNode.prototype.constructor = UVTransformNode;\r\nUVTransformNode.prototype.nodeType = \"UVTransform\";\r\n\r\nUVTransformNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tthis.keywords[ \"uvNode\" ] = this.uv;\r\n\tthis.keywords[ \"uvTransform\" ] = this.position;\r\n\r\n\treturn ExpressionNode.prototype.generate.call( this, builder, output );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.setUvTransform = function ( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\tcx = cx !== undefined ? cx : .5;\r\n\tcy = cy !== undefined ? cy : .5;\r\n\r\n\tthis.position.value.setUvTransform( tx, ty, sx, sy, rotation, cx, cy );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.copy = function ( source ) {\r\n\r\n\tExpressionNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\tthis.position = source.position;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVTransformNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { UVTransformNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/UVTransformNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction SubSlotNode( slots ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.slots = slots || {};\r\n\r\n}\r\n\r\nSubSlotNode.prototype = Object.create( TempNode.prototype );\r\nSubSlotNode.prototype.constructor = SubSlotNode;\r\nSubSlotNode.prototype.nodeType = \"SubSlot\";\r\n\r\nSubSlotNode.prototype.getType = function ( builder, output ) {\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( this.slots[ builder.slot ] ) {\r\n\r\n\t\treturn this.slots[ builder.slot ].build( builder, output );\r\n\r\n\t}\r\n\r\n\treturn builder.format( '0.0', 'f', output );\r\n\r\n};\r\n\r\nSubSlotNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.slots ) {\r\n\r\n\t\tthis.slots[ prop ] = source.slots[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.slots = {};\r\n\r\n\t\tfor ( var prop in this.slots ) {\r\n\r\n\t\t\tvar slot = this.slots[ prop ];\r\n\r\n\t\t\tif ( slot ) {\r\n\r\n\t\t\t\tdata.slots[ prop ] = slot.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SubSlotNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SubSlotNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction BlurNode( value, uv, radius, size ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.radius = radius || new Vector2Node( 1, 1 );\r\n\r\n\tthis.size = size;\r\n\r\n\tthis.blurX = true;\r\n\tthis.blurY = true;\r\n\r\n\tthis.horizontal = new FloatNode( 1 / 64 );\r\n\tthis.vertical = new FloatNode( 1 / 64 );\r\n\r\n}\r\n\r\nBlurNode.Nodes = ( function () {\r\n\r\n\tvar blurX = new FunctionNode( [\r\n\t\t\"vec4 blurX( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar blurY = new FunctionNode( [\r\n\t\t\"vec4 blurY( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tblurX: blurX,\r\n\t\tblurY: blurY\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nBlurNode.prototype = Object.create( TempNode.prototype );\r\nBlurNode.prototype.constructor = BlurNode;\r\nBlurNode.prototype.nodeType = \"Blur\";\r\nBlurNode.prototype.hashProperties = [ \"blurX\", \"blurY\" ];\r\n\r\nBlurNode.prototype.updateFrame = function ( /* frame */ ) {\r\n\r\n\tif ( this.size ) {\r\n\r\n\t\tthis.horizontal.value = this.radius.x / this.size.x;\r\n\t\tthis.vertical.value = this.radius.y / this.size.y;\r\n\r\n\t} else if ( this.value.value && this.value.value.image ) {\r\n\r\n\t\tvar image = this.value.value.image;\r\n\r\n\t\tthis.horizontal.value = this.radius.x / image.width;\r\n\t\tthis.vertical.value = this.radius.y / image.height;\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar blurCode = [], code;\r\n\r\n\t\tvar blurX = builder.include( BlurNode.Nodes.blurX ),\r\n\t\t\tblurY = builder.include( BlurNode.Nodes.blurY );\r\n\r\n\t\tif ( this.blurX ) {\r\n\r\n\t\t\tblurCode.push( blurX + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.horizontal.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.blurY ) {\r\n\r\n\t\t\tblurCode.push( blurY + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.vertical.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( blurCode.length == 2 ) code = '( ' + blurCode.join( ' + ' ) + ' / 2.0 )';\r\n\t\telse if ( blurCode.length ) code = '( ' + blurCode[ 0 ] + ' )';\r\n\t\telse code = 'vec4( 0.0 )';\r\n\r\n\t\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BlurNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.uv = source.uv;\r\n\tthis.radius = source.radius;\r\n\r\n\tif ( source.size !== undefined ) this.size = new Vector2( source.size.x, source.size.y );\r\n\r\n\tthis.blurX = source.blurX;\r\n\tthis.blurY = source.blurY;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBlurNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.radius = this.radius.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.size ) data.size = { x: this.size.x, y: this.size.y };\r\n\r\n\t\tdata.blurX = this.blurX;\r\n\t\tdata.blurY = this.blurY;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BlurNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/BlurNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { LuminanceNode } from './LuminanceNode.js';\r\n\r\nfunction ColorAdjustmentNode( rgb, adjustment, method ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.rgb = rgb;\r\n\tthis.adjustment = adjustment;\r\n\r\n\tthis.method = method || ColorAdjustmentNode.SATURATION;\r\n\r\n}\r\n\r\nColorAdjustmentNode.Nodes = ( function () {\r\n\r\n\tvar hue = new FunctionNode( [\r\n\t\t\"vec3 hue(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tconst mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.595716, -0.274453, -0.321263, 0.211456, -0.522591, 0.311135);\",\r\n\t\t\"\tconst mat3 YIQtoRGB = mat3(1.0, 0.9563, 0.6210, 1.0, -0.2721, -0.6474, 1.0, -1.107, 1.7046);\",\r\n\r\n\t\t\"\tvec3 yiq = RGBtoYIQ * rgb;\",\r\n\r\n\t\t\"\tfloat hue = atan(yiq.z, yiq.y) + adjustment;\",\r\n\t\t\"\tfloat chroma = sqrt(yiq.z * yiq.z + yiq.y * yiq.y);\",\r\n\r\n\t\t\"\treturn YIQtoRGB * vec3(yiq.x, chroma * cos(hue), chroma * sin(hue));\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar saturation = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 16 of OpenGL Shading Language\r\n\t\t\"vec3 saturation(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tvec3 intensity = vec3( luminance( rgb ) );\",\r\n\r\n\t\t\"\treturn mix( intensity, rgb, adjustment );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LuminanceNode.Nodes.luminance ] ); // include LuminanceNode function\r\n\r\n\tvar vibrance = new FunctionNode( [\r\n\t\t// Shader by Evan Wallace adapted by @lo-th\r\n\t\t\"vec3 vibrance(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tfloat average = (rgb.r + rgb.g + rgb.b) / 3.0;\",\r\n\r\n\t\t\"\tfloat mx = max(rgb.r, max(rgb.g, rgb.b));\",\r\n\t\t\"\tfloat amt = (mx - average) * (-3.0 * adjustment);\",\r\n\r\n\t\t\"\treturn mix(rgb.rgb, vec3(mx), amt);\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\thue: hue,\r\n\t\tsaturation: saturation,\r\n\t\tvibrance: vibrance\r\n\t};\r\n\r\n} )();\r\n\r\nColorAdjustmentNode.SATURATION = 'saturation';\r\nColorAdjustmentNode.HUE = 'hue';\r\nColorAdjustmentNode.VIBRANCE = 'vibrance';\r\nColorAdjustmentNode.BRIGHTNESS = 'brightness';\r\nColorAdjustmentNode.CONTRAST = 'contrast';\r\n\r\nColorAdjustmentNode.prototype = Object.create( TempNode.prototype );\r\nColorAdjustmentNode.prototype.constructor = ColorAdjustmentNode;\r\nColorAdjustmentNode.prototype.nodeType = \"ColorAdjustment\";\r\nColorAdjustmentNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorAdjustmentNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar rgb = this.rgb.build( builder, 'v3' ),\r\n\t\tadjustment = this.adjustment.build( builder, 'f' );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase ColorAdjustmentNode.BRIGHTNESS:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' + ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase ColorAdjustmentNode.CONTRAST:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' * ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tvar method = builder.include( ColorAdjustmentNode.Nodes[ this.method ] );\r\n\r\n\treturn builder.format( method + '( ' + rgb + ', ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\tthis.adjustment = source.adjustment;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\t\tdata.adjustment = this.adjustment.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorAdjustmentNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\n\r\nfunction LuminanceNode( rgb ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.rgb = rgb;\r\n\r\n}\r\n\r\nLuminanceNode.Nodes = ( function () {\r\n\r\n\tvar LUMA = new ConstNode( \"vec3 LUMA vec3( 0.2125, 0.7154, 0.0721 )\" );\r\n\r\n\tvar luminance = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 10 of Graphics Shaders\r\n\t\t\"float luminance( vec3 rgb ) {\",\r\n\r\n\t\t\"\treturn dot( rgb, LUMA );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LUMA ] );\r\n\r\n\treturn {\r\n\t\tLUMA: LUMA,\r\n\t\tluminance: luminance\r\n\t};\r\n\r\n} )();\r\n\r\nLuminanceNode.prototype = Object.create( TempNode.prototype );\r\nLuminanceNode.prototype.constructor = LuminanceNode;\r\nLuminanceNode.prototype.nodeType = \"Luminance\";\r\n\r\nLuminanceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar luminance = builder.include( LuminanceNode.Nodes.luminance );\r\n\r\n\treturn builder.format( luminance + '( ' + this.rgb.build( builder, 'v3' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nLuminanceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLuminanceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LuminanceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/LuminanceNode.js","import { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction BasicNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\r\n}\r\n\r\nBasicNode.prototype = Object.create( Node.prototype );\r\nBasicNode.prototype.constructor = BasicNode;\r\nBasicNode.prototype.nodeType = \"Basic\";\r\n\r\nBasicNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\" vNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\",\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// Analyze all nodes to reuse generate codes\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\t// Build code\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\tcolor.code,\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t' if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nBasicNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBasicNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BasicNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/BasicNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction SpriteNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.spherical = true;\r\n\r\n}\r\n\r\nSpriteNode.prototype = Object.create( Node.prototype );\r\nSpriteNode.prototype.constructor = SpriteNode;\r\nSpriteNode.prototype.nodeType = \"Sprite\";\r\n\r\nSpriteNode.prototype.build = function ( builder ) {\r\n\r\n\tvar output;\r\n\r\n\tbuilder.define( 'SPRITE' );\r\n\r\n\tbuilder.requires.lights = false;\r\n\tbuilder.requires.transparent = this.alpha !== undefined;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\t\t\tUniformsLib.fog\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\toutput = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\r\n\t\t\t'mat4 modelViewMtx = modelViewMatrix;',\r\n\t\t\t'mat4 modelMtx = modelMatrix;',\r\n\r\n\t\t\t// ignore position from modelMatrix (use vary position)\r\n\t\t\t'modelMtx[3][0] = 0.0;',\r\n\t\t\t'modelMtx[3][1] = 0.0;',\r\n\t\t\t'modelMtx[3][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( ! this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'modelMtx[1][1] = 1.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// http://www.geeks3d.com/20140807/billboarding-vertex-shader-glsl/\r\n\t\t\t// First colunm.\r\n\t\t\t'modelViewMtx[0][0] = 1.0;',\r\n\t\t\t'modelViewMtx[0][1] = 0.0;',\r\n\t\t\t'modelViewMtx[0][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t// Second colunm.\r\n\t\t\t\t'modelViewMtx[1][0] = 0.0;',\r\n\t\t\t\t'modelViewMtx[1][1] = 1.0;',\r\n\t\t\t\t'modelViewMtx[1][2] = 0.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// Thrid colunm.\r\n\t\t\t'modelViewMtx[2][0] = 0.0;',\r\n\t\t\t'modelViewMtx[2][1] = 0.0;',\r\n\t\t\t'modelViewMtx[2][2] = 1.0;',\r\n\r\n\t\t\t\"gl_Position = projectionMatrix * modelViewMtx * modelMtx * vec4( transformed, 1.0 );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\",\r\n\t\t\t\"#include <clipping_planes_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tbuilder.addCode( [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined,\r\n\t\t\talpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined,\r\n\t\t\tcolor = this.color.flow( builder, 'c', { slot: 'color' } ),\r\n\t\t\toutput = [];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif',\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", \" + alpha.result + \" );\"\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", 1.0 );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\"\r\n\t\t);\r\n\r\n\t}\r\n\r\n\treturn output.join( \"\\n\" );\r\n\r\n};\r\n\r\nSpriteNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.spherical !== undefined ) this.spherical = source.spherical;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpriteNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.spherical === false ) data.spherical = false;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpriteNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/SpriteNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\n\r\nfunction PhongNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.specular = new ColorNode( 0x111111 );\r\n\tthis.shininess = new FloatNode( 30 );\r\n\r\n}\r\n\r\nPhongNode.prototype = Object.create( Node.prototype );\r\nPhongNode.prototype.constructor = PhongNode;\r\nPhongNode.prototype.nodeType = \"Phong\";\r\n\r\nPhongNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'PHONG' );\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"\t#include <morphtarget_vertex>\",\r\n\t\t\t\"\t#include <skinning_vertex>\",\r\n\t\t\t\"\t#include <project_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\",\r\n\t\t\t\"\t#include <logdepthbuf_vertex>\",\r\n\t\t\t\"\t#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"\t#include <worldpos_vertex>\",\r\n\t\t\t\"\t#include <shadowmap_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\t\tthis.specular.analyze( builder );\r\n\t\tthis.shininess.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) this.environment.analyze( builder, { slot: 'environment' } );\r\n\t\tif ( this.environmentAlpha && this.environment ) this.environmentAlpha.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar specular = this.specular.flow( builder, 'c' );\r\n\t\tvar shininess = this.shininess.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment = this.environment ? this.environment.flow( builder, 'c', { slot: 'environment' } ) : undefined;\r\n\t\tvar environmentAlpha = this.environmentAlpha && this.environment ? this.environmentAlpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_phong_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\t// prevent undeclared material\r\n\t\t\t\"\tBlinnPhongMaterial material;\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\tspecular.code,\r\n\t\t\t\"\tvec3 specular = \" + specular.result + \";\",\r\n\r\n\t\t\tshininess.code,\r\n\t\t\t\"\tfloat shininess = max( 0.0001, \" + shininess.result + \" );\",\r\n\r\n\t\t\t\"\tfloat specularStrength = 1.0;\" // Ignored in MaterialNode ( replace to specular )\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push( 'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor' ) + ';' );\r\n\r\n\t\toutput.push(\r\n\t\t\t// accumulation\r\n\t\t\t'material.specularColor = specular;',\r\n\t\t\t'material.specularShininess = shininess;',\r\n\t\t\t'material.specularStrength = specularStrength;',\r\n\r\n\t\t\t\"#include <lights_fragment_begin>\",\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular;\" );\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.code );\r\n\r\n\t\t\tif ( environmentAlpha ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tenvironmentAlpha.code,\r\n\t\t\t\t\t\"outgoingLight = mix( outgoingLight, \" + environment.result + \", \" + environmentAlpha.result + \" );\"\r\n\t\t\t\t);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toutput.push( \"outgoingLight = \" + environment.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t/*\r\n\t\tswitch( builder.material.combine ) {\r\n\r\n\t\t\tcase ENVMAP_BLENDING_MULTIPLY:\r\n\r\n\t\t\t\t//output.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\t\t\t\t//outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\r\n\t\t}\r\n\t*/\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nPhongNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.specular = source.specular;\r\n\tthis.shininess = source.shininess;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\tif ( source.environmentAlpha ) this.environmentAlpha = source.environmentAlpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPhongNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.specular = this.specular.toJSON( meta ).uuid;\r\n\t\tdata.shininess = this.shininess.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\t\tif ( this.environmentAlpha ) data.environmentAlpha = this.environmentAlpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PhongNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/PhongNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ExpressionNode } from '../../core/ExpressionNode.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\nimport { SpecularMIPLevelNode } from '../../utils/SpecularMIPLevelNode.js';\r\n\r\nfunction StandardNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\tthis.roughness = new FloatNode( 1 );\r\n\tthis.metalness = new FloatNode( 0 );\r\n\r\n}\r\n\r\nStandardNode.prototype = Object.create( Node.prototype );\r\nStandardNode.prototype.constructor = StandardNode;\r\nStandardNode.prototype.nodeType = \"Standard\";\r\n\r\nStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'STANDARD' );\r\n\r\n\tvar useClearcoat = this.clearcoat || this.clearcoatRoughness || this.clearCoatNormal;\r\n\r\n\tif ( useClearcoat ) {\r\n\r\n\t\tbuilder.define( 'CLEARCOAT' );\r\n\r\n\t}\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tbuilder.extensions.derivatives = true;\r\n\tbuilder.extensions.shaderTextureLOD = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tif ( UniformsLib.LTC_1 ) {\r\n\r\n\t\t\t// add ltc data textures to material uniforms\r\n\r\n\t\t\tbuilder.uniforms.ltc_1 = { value: undefined };\r\n\t\t\tbuilder.uniforms.ltc_2 = { value: undefined };\r\n\r\n\t\t}\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\tvar specularRoughness = new ExpressionNode( 'material.specularRoughness', 'f' );\r\n\t\tvar clearcoatRoughness = new ExpressionNode( 'material.clearcoatRoughness', 'f' );\r\n\r\n\t\tvar contextEnvironment = {\r\n\t\t\troughness: specularRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( specularRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'normal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.normal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextGammaOnly = {\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextClearcoatEnvironment = {\r\n\t\t\troughness: clearcoatRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( clearcoatRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'clearcoatNormal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.clearcoatNormal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color', context: contextGammaOnly } );\r\n\t\tthis.roughness.analyze( builder );\r\n\t\tthis.metalness.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.clearcoat ) this.clearcoat.analyze( builder );\r\n\t\tif ( this.clearcoatRoughness ) this.clearcoatRoughness.analyze( builder );\r\n\t\tif ( this.clearcoatNormal ) this.clearcoatNormal.analyze( builder );\r\n\r\n\t\tif ( this.reflectivity ) this.reflectivity.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\t// isolate environment from others inputs ( see TextureNode, CubeTextureNode )\r\n\t\t\t// environment.analyze will detect if there is a need of calculate irradiance\r\n\r\n\t\t\tthis.environment.analyze( builder, { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tthis.environment.analyze( builder, { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.sheen ) this.sheen.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color', context: contextGammaOnly } );\r\n\t\tvar roughness = this.roughness.flow( builder, 'f' );\r\n\t\tvar metalness = this.metalness.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar clearcoat = this.clearcoat ? this.clearcoat.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatRoughness = this.clearcoatRoughness ? this.clearcoatRoughness.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatNormal = this.clearcoatNormal ? this.clearcoatNormal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar reflectivity = this.reflectivity ? this.reflectivity.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment;\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\tenvironment = {\r\n\t\t\t\tradiance: this.environment.flow( builder, 'c', { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } )\r\n\t\t\t};\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tenvironment.irradiance = this.environment.flow( builder, 'c', { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar clearcoatEnv = useClearcoat && environment ? this.environment.flow( builder, 'c', { cache: 'clearcoat', context: contextClearcoatEnvironment, slot: 'environment' } ) : undefined;\r\n\r\n\t\tvar sheen = this.sheen ? this.sheen.flow( builder, 'c' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <dithering_pars_fragment>\",\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_physical_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"\t#include <normal_fragment_begin>\",\r\n\t\t\t\"\t#include <clearcoat_normal_fragment_begin>\",\r\n\r\n\t\t\t// add before: prevent undeclared material\r\n\t\t\t\"\tPhysicalMaterial material;\",\r\n\t\t\t\"\tmaterial.diffuseColor = vec3( 1.0 );\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\troughness.code,\r\n\t\t\t\"\tfloat roughnessFactor = \" + roughness.result + \";\",\r\n\r\n\t\t\tmetalness.code,\r\n\t\t\t\"\tfloat metalnessFactor = \" + metalness.result + \";\"\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'\tif ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatNormal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatNormal.code,\r\n\t\t\t\t'clearcoatNormal = ' + clearcoatNormal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// anti-aliasing code by @elalish\r\n\r\n\t\toutput.push(\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t);\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push(\r\n\t\t\t'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor * ( 1.0 - metalnessFactor )' ) + ';',\r\n\r\n\t\t\t'material.specularRoughness = max( roughnessFactor, 0.0525 );',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\r\n\t\t\t'material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );'\r\n\t\t);\r\n\r\n\t\tif ( clearcoat ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoat.code,\r\n\t\t\t\t'material.clearcoat = saturate( ' + clearcoat.result + ' );' // Burley clearcoat model\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoat = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatRoughness ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatRoughness.code,\r\n\t\t\t\t'material.clearcoatRoughness = max( ' + clearcoatRoughness.result + ', 0.0525 );',\r\n\t\t\t\t'material.clearcoatRoughness += geometryRoughness;',\r\n\t\t\t\t'material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );'\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoatRoughness = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( sheen ) {\r\n\r\n\t\t\toutput.push( 'material.sheenColor = ' + sheen.result + ';' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( reflectivity ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\treflectivity.code,\r\n\t\t\t\t'material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( ' + reflectivity.result + ' ) ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_begin>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"diffuseColor *= 1.0 - metalnessFactor;\",\r\n\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\",\r\n\t\t\t\t\"float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\r\n\t\t\t\t\"reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, \" + ao.result + \", material.specularRoughness );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.radiance.code );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( environment.irradiance.code );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( clearcoatEnv ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tclearcoatEnv.code,\r\n\t\t\t\t\t\"clearcoatRadiance += \" + clearcoatEnv.result + \";\"\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\toutput.push( \"radiance += \" + environment.radiance.result + \";\" );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( \"iblIrradiance += PI * \" + environment.irradiance.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\",\r\n\t\t\t\"#include <dithering_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nStandardNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.roughness = source.roughness;\r\n\tthis.metalness = source.metalness;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.clearcoat ) this.clearcoat = source.clearcoat;\r\n\tif ( source.clearcoatRoughness ) this.clearcoatRoughness = source.clearcoatRoughness;\r\n\tif ( source.clearcoatNormal ) this.clearcoatNormal = source.clearcoatNormal;\r\n\r\n\tif ( source.reflectivity ) this.reflectivity = source.reflectivity;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\r\n\tif ( source.sheen ) this.sheen = source.sheen;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.roughness = this.roughness.toJSON( meta ).uuid;\r\n\t\tdata.metalness = this.metalness.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.clearcoat ) data.clearcoat = this.clearcoat.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatRoughness ) data.clearcoatRoughness = this.clearcoatRoughness.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatNormal ) data.clearcoatNormal = this.clearcoatNormal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.reflectivity ) data.reflectivity = this.reflectivity.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.sheen ) data.sheen = this.sheen.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/StandardNode.js","import {\r\n\tColor,\r\n\tVector2\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { StandardNode } from './StandardNode.js';\r\nimport { PropertyNode } from '../../inputs/PropertyNode.js';\r\nimport { OperatorNode } from '../../math/OperatorNode.js';\r\nimport { SwitchNode } from '../../utils/SwitchNode.js';\r\nimport { NormalMapNode } from '../../misc/NormalMapNode.js';\r\n\r\nfunction MeshStandardNode() {\r\n\r\n\tStandardNode.call( this );\r\n\r\n\tthis.properties = {\r\n\t\tcolor: new Color( 0xffffff ),\r\n\t\troughness: 0.5,\r\n\t\tmetalness: 0.5,\r\n\t\tnormalScale: new Vector2( 1, 1 )\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tcolor: new PropertyNode( this.properties, 'color', 'c' ),\r\n\t\troughness: new PropertyNode( this.properties, 'roughness', 'f' ),\r\n\t\tmetalness: new PropertyNode( this.properties, 'metalness', 'f' ),\r\n\t\tnormalScale: new PropertyNode( this.properties, 'normalScale', 'v2' )\r\n\t};\r\n\r\n}\r\n\r\nMeshStandardNode.prototype = Object.create( StandardNode.prototype );\r\nMeshStandardNode.prototype.constructor = MeshStandardNode;\r\nMeshStandardNode.prototype.nodeType = \"MeshStandard\";\r\n\r\nMeshStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar props = this.properties,\r\n\t\tinputs = this.inputs;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\t// slots\r\n\t\t// * color\r\n\t\t// * map\r\n\r\n\t\tvar color = builder.findNode( props.color, inputs.color ),\r\n\t\t\tmap = builder.resolve( props.map );\r\n\r\n\t\tthis.color = map ? new OperatorNode( color, map, OperatorNode.MUL ) : color;\r\n\r\n\t\t// slots\r\n\t\t// * roughness\r\n\t\t// * roughnessMap\r\n\r\n\t\tvar roughness = builder.findNode( props.roughness, inputs.roughness ),\r\n\t\t\troughnessMap = builder.resolve( props.roughnessMap );\r\n\r\n\t\tthis.roughness = roughnessMap ? new OperatorNode( roughness, new SwitchNode( roughnessMap, \"g\" ), OperatorNode.MUL ) : roughness;\r\n\r\n\t\t// slots\r\n\t\t// * metalness\r\n\t\t// * metalnessMap\r\n\r\n\t\tvar metalness = builder.findNode( props.metalness, inputs.metalness ),\r\n\t\t\tmetalnessMap = builder.resolve( props.metalnessMap );\r\n\r\n\t\tthis.metalness = metalnessMap ? new OperatorNode( metalness, new SwitchNode( metalnessMap, \"b\" ), OperatorNode.MUL ) : metalness;\r\n\r\n\t\t// slots\r\n\t\t// * normalMap\r\n\t\t// * normalScale\r\n\r\n\t\tif ( props.normalMap ) {\r\n\r\n\t\t\tthis.normal = new NormalMapNode( builder.resolve( props.normalMap ) );\r\n\t\t\tthis.normal.scale = builder.findNode( props.normalScale, inputs.normalScale );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.normal = undefined;\r\n\r\n\t\t}\r\n\r\n\t\t// slots\r\n\t\t// * envMap\r\n\r\n\t\tthis.environment = builder.resolve( props.envMap );\r\n\r\n\t}\r\n\r\n\t// build code\r\n\r\n\treturn StandardNode.prototype.build.call( this, builder );\r\n\r\n};\r\n\r\nMeshStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tconsole.warn( \".toJSON not implemented in\", this );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MeshStandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","import { StandardNode } from './nodes/StandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction StandardNodeMaterial() {\r\n\r\n\tvar node = new StandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"StandardNodeMaterial\";\r\n\r\n}\r\n\r\nStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nStandardNodeMaterial.prototype.constructor = StandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( StandardNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'roughness',\r\n\t'metalness',\r\n\t'reflectivity',\r\n\t'clearcoat',\r\n\t'clearcoatRoughness',\r\n\t'clearcoatNormal',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'mask',\r\n\t'position',\r\n\t'sheen'\r\n] );\r\n\r\nexport { StandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/StandardNodeMaterial.js","import { MeshStandardNode } from './nodes/MeshStandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction MeshStandardNodeMaterial() {\r\n\r\n\tvar node = new MeshStandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"MeshStandardNodeMaterial\";\r\n\r\n}\r\n\r\nMeshStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nMeshStandardNodeMaterial.prototype.constructor = MeshStandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( MeshStandardNodeMaterial.prototype, 'properties', [\r\n\t\"color\",\r\n\t\"roughness\",\r\n\t\"metalness\",\r\n\t\"map\",\r\n\t\"normalMap\",\r\n\t\"normalScale\",\r\n\t\"metalnessMap\",\r\n\t\"roughnessMap\",\r\n\t\"envMap\"\r\n] );\r\n\r\nexport { MeshStandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","import {\r\n\tLinearFilter,\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tRGBAFormat,\r\n\tScene,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { ScreenNode } from '../inputs/ScreenNode.js';\r\n\r\nfunction NodePostProcessing( renderer, renderTarget ) {\r\n\r\n\tif ( renderTarget === undefined ) {\r\n\r\n\t\tvar parameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tvar size = renderer.getDrawingBufferSize( new Vector2() );\r\n\t\trenderTarget = new WebGLRenderTarget( size.width, size.height, parameters );\r\n\r\n\t}\r\n\r\n\tthis.renderer = renderer;\r\n\tthis.renderTarget = renderTarget;\r\n\r\n\tthis.output = new ScreenNode();\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n}\r\n\r\nNodePostProcessing.prototype = {\r\n\r\n\tconstructor: NodePostProcessing,\r\n\r\n\trender: function ( scene, camera, frame ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.material.dispose();\r\n\r\n\t\t\tthis.material.fragment.value = this.output;\r\n\t\t\tthis.material.build();\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = this.renderTarget.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.needsUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tframe.setRenderer( this.renderer )\r\n\t\t\t.setRenderTexture( this.renderTarget.texture );\r\n\r\n\t\tthis.renderer.setRenderTarget( this.renderTarget );\r\n\t\tthis.renderer.render( scene, camera );\r\n\r\n\t\tframe.updateNode( this.material );\r\n\r\n\t\tthis.renderer.setRenderTarget( null );\r\n\t\tthis.renderer.render( this.scene, this.camera );\r\n\r\n\t},\r\n\r\n\tsetPixelRatio: function ( value ) {\r\n\r\n\t\tthis.renderer.setPixelRatio( value );\r\n\r\n\t\tvar size = this.renderer.getSize( new Vector2() );\r\n\r\n\t\tthis.setSize( size.width, size.height );\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tvar pixelRatio = this.renderer.getPixelRatio();\r\n\r\n\t\tthis.renderTarget.setSize( width * pixelRatio, height * pixelRatio );\r\n\r\n\t\tthis.renderer.setSize( width, height );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.output = source.output;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\tmeta = {\r\n\t\t\t\tnodes: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tif ( meta && ! meta.post ) meta.post = {};\r\n\r\n\t\tif ( ! meta.post[ this.uuid ] ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tdata.uuid = this.uuid;\r\n\t\t\tdata.type = \"NodePostProcessing\";\r\n\r\n\t\t\tmeta.post[ this.uuid ] = data;\r\n\r\n\t\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\t\tdata.output = this.output.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tmeta.post = this.uuid;\r\n\r\n\t\treturn meta;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodePostProcessing };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","import { BasicNode } from './nodes/BasicNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction BasicNodeMaterial() {\r\n\r\n\tvar node = new BasicNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"BasicNodeMaterial\";\r\n\r\n}\r\n\r\nBasicNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nBasicNodeMaterial.prototype.constructor = BasicNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( BasicNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { BasicNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/BasicNodeMaterial.js","import { SpriteNode } from './nodes/SpriteNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction SpriteNodeMaterial() {\r\n\r\n\tvar node = new SpriteNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"SpriteNodeMaterial\";\r\n\r\n}\r\n\r\nSpriteNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nSpriteNodeMaterial.prototype.constructor = SpriteNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( SpriteNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position',\r\n\t'spherical'\r\n] );\r\n\r\nexport { SpriteNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","import { PhongNode } from './nodes/PhongNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction PhongNodeMaterial() {\r\n\r\n\tvar node = new PhongNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"PhongNodeMaterial\";\r\n\r\n}\r\n\r\nPhongNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nPhongNodeMaterial.prototype.constructor = PhongNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( PhongNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'specular',\r\n\t'shininess',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'environmentAlpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { PhongNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/PhongNodeMaterial.js","// TODO: all nodes\r\n\r\n// core\r\n\r\nexport { Node } from './core/Node.js';\r\nexport { TempNode } from './core/TempNode.js';\r\nexport { InputNode } from './core/InputNode.js';\r\nexport { ConstNode } from './core/ConstNode.js';\r\nexport { VarNode } from './core/VarNode.js';\r\nexport { StructNode } from './core/StructNode.js';\r\nexport { AttributeNode } from './core/AttributeNode.js';\r\nexport { FunctionNode } from './core/FunctionNode.js';\r\nexport { ExpressionNode } from './core/ExpressionNode.js';\r\nexport { FunctionCallNode } from './core/FunctionCallNode.js';\r\nexport { NodeLib } from './core/NodeLib.js';\r\nexport { NodeUtils } from './core/NodeUtils.js';\r\nexport { NodeFrame } from './core/NodeFrame.js';\r\nexport { NodeUniform } from './core/NodeUniform.js';\r\nexport { NodeBuilder } from './core/NodeBuilder.js';\r\n\r\n// inputs\r\n\r\nexport { BoolNode } from './inputs/BoolNode.js';\r\nexport { IntNode } from './inputs/IntNode.js';\r\nexport { FloatNode } from './inputs/FloatNode.js';\r\nexport { Vector2Node } from './inputs/Vector2Node.js';\r\nexport { Vector3Node } from './inputs/Vector3Node.js';\r\nexport { Vector4Node } from './inputs/Vector4Node.js';\r\nexport { ColorNode } from './inputs/ColorNode.js';\r\nexport { Matrix3Node } from './inputs/Matrix3Node.js';\r\nexport { Matrix4Node } from './inputs/Matrix4Node.js';\r\nexport { TextureNode } from './inputs/TextureNode.js';\r\nexport { CubeTextureNode } from './inputs/CubeTextureNode.js';\r\nexport { ScreenNode } from './inputs/ScreenNode.js';\r\nexport { ReflectorNode } from './inputs/ReflectorNode.js';\r\nexport { PropertyNode } from './inputs/PropertyNode.js';\r\nexport { RTTNode } from './inputs/RTTNode.js';\r\n\r\n// accessors\r\n\r\nexport { UVNode } from './accessors/UVNode.js';\r\nexport { ColorsNode } from './accessors/ColorsNode.js';\r\nexport { PositionNode } from './accessors/PositionNode.js';\r\nexport { NormalNode } from './accessors/NormalNode.js';\r\nexport { CameraNode } from './accessors/CameraNode.js';\r\nexport { LightNode } from './accessors/LightNode.js';\r\nexport { ReflectNode } from './accessors/ReflectNode.js';\r\nexport { ScreenUVNode } from './accessors/ScreenUVNode.js';\r\nexport { ResolutionNode } from './accessors/ResolutionNode.js';\r\n\r\n// math\r\n\r\nexport { MathNode } from './math/MathNode.js';\r\nexport { OperatorNode } from './math/OperatorNode.js';\r\nexport { CondNode } from './math/CondNode.js';\r\n\r\n// procedural\r\n\r\nexport { NoiseNode } from './procedural/NoiseNode.js';\r\nexport { CheckerNode } from './procedural/CheckerNode.js';\r\n\r\n// misc\r\n\r\nexport { TextureCubeUVNode } from './misc/TextureCubeUVNode.js';\r\nexport { TextureCubeNode } from './misc/TextureCubeNode.js';\r\nexport { NormalMapNode } from './misc/NormalMapNode.js';\r\nexport { BumpMapNode } from './misc/BumpMapNode.js';\r\n\r\n// utils\r\n\r\nexport { BypassNode } from './utils/BypassNode.js';\r\nexport { JoinNode } from './utils/JoinNode.js';\r\nexport { SwitchNode } from './utils/SwitchNode.js';\r\nexport { TimerNode } from './utils/TimerNode.js';\r\nexport { VelocityNode } from './utils/VelocityNode.js';\r\nexport { UVTransformNode } from './utils/UVTransformNode.js';\r\nexport { MaxMIPLevelNode } from './utils/MaxMIPLevelNode.js';\r\nexport { SpecularMIPLevelNode } from './utils/SpecularMIPLevelNode.js';\r\nexport { ColorSpaceNode } from './utils/ColorSpaceNode.js';\r\nexport { SubSlotNode } from './utils/SubSlotNode.js';\r\n\r\n// effects\r\n\r\nexport { BlurNode } from './effects/BlurNode.js';\r\nexport { ColorAdjustmentNode } from './effects/ColorAdjustmentNode.js';\r\nexport { LuminanceNode } from './effects/LuminanceNode.js';\r\n\r\n// material nodes\r\n\r\nexport { RawNode } from './materials/nodes/RawNode.js';\r\nexport { BasicNode } from './materials/nodes/BasicNode.js';\r\nexport { SpriteNode } from './materials/nodes/SpriteNode.js';\r\nexport { PhongNode } from './materials/nodes/PhongNode.js';\r\nexport { StandardNode } from './materials/nodes/StandardNode.js';\r\nexport { MeshStandardNode } from './materials/nodes/MeshStandardNode.js';\r\n\r\n// materials\r\n\r\nexport { NodeMaterial } from './materials/NodeMaterial.js';\r\nexport { BasicNodeMaterial } from './materials/BasicNodeMaterial.js';\r\nexport { SpriteNodeMaterial } from './materials/SpriteNodeMaterial.js';\r\nexport { PhongNodeMaterial } from './materials/PhongNodeMaterial.js';\r\nexport { StandardNodeMaterial } from './materials/StandardNodeMaterial.js';\r\nexport { MeshStandardNodeMaterial } from './materials/MeshStandardNodeMaterial.js';\r\n\r\n// postprocessing\r\n\r\nexport { NodePostProcessing } from './postprocessing/NodePostProcessing.js';\r\n//export { NodePass } from './postprocessing/NodePass.js';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/Nodes.js","import { Vector4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector4Node( x, y, z, w ) {\r\n\r\n\tInputNode.call( this, 'v4' );\r\n\r\n\tthis.value = x instanceof Vector4 ? x : new Vector4( x, y, z, w );\r\n\r\n}\r\n\r\nVector4Node.prototype = Object.create( InputNode.prototype );\r\nVector4Node.prototype.constructor = Vector4Node;\r\nVector4Node.prototype.nodeType = \"Vector4\";\r\n\r\nNodeUtils.addShortcuts( Vector4Node.prototype, 'value', [ 'x', 'y', 'z', 'w' ] );\r\n\r\nVector4Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec4( \" + this.x + \", \" + this.y + \", \" + this.z + \", \" + this.w + \" )\", type, output );\r\n\r\n};\r\n\r\nVector4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\t\tdata.w = this.w;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector4Node.js","import {\r\n\tAnimationClip,\r\n\tBone,\r\n\tBox3,\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tCanvasTexture,\r\n\tClampToEdgeWrapping,\r\n\tColor,\r\n\tDirectionalLight,\r\n\tDoubleSide,\r\n\tFileLoader,\r\n\tFrontSide,\r\n\tGroup,\r\n\tImageBitmapLoader,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tInterpolant,\r\n\tInterpolateDiscrete,\r\n\tInterpolateLinear,\r\n\tLine,\r\n\tLineBasicMaterial,\r\n\tLineLoop,\r\n\tLineSegments,\r\n\tLinearFilter,\r\n\tLinearMipmapLinearFilter,\r\n\tLinearMipmapNearestFilter,\r\n\tLoader,\r\n\tLoaderUtils,\r\n\tMaterial,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tMeshBasicMaterial,\r\n\tMeshPhysicalMaterial,\r\n\tMeshStandardMaterial,\r\n\tMirroredRepeatWrapping,\r\n\tNearestFilter,\r\n\tNearestMipmapLinearFilter,\r\n\tNearestMipmapNearestFilter,\r\n\tNumberKeyframeTrack,\r\n\tObject3D,\r\n\tOrthographicCamera,\r\n\tPerspectiveCamera,\r\n\tPointLight,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tPropertyBinding,\r\n\tQuaternionKeyframeTrack,\r\n\tRGBFormat,\r\n\tRepeatWrapping,\r\n\tSkeleton,\r\n\tSkinnedMesh,\r\n\tSphere,\r\n\tSpotLight,\r\n\tTangentSpaceNormalMap,\r\n\tTextureLoader,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tVector2,\r\n\tVector3,\r\n\tVectorKeyframeTrack,\r\n\tsRGBEncoding\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GLTFLoader = ( function () {\r\n\r\n\tfunction GLTFLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.dracoLoader = null;\r\n\t\tthis.ddsLoader = null;\r\n\t\tthis.ktx2Loader = null;\r\n\t\tthis.meshoptDecoder = null;\r\n\r\n\t\tthis.pluginCallbacks = [];\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureWebPExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFLightsExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMeshoptCompression( parser );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: GLTFLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar resourcePath;\r\n\r\n\t\t\tif ( this.resourcePath !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.resourcePath;\r\n\r\n\t\t\t} else if ( this.path !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.path;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\r\n\t\t\t// the model is fully loaded. This means the count of items loaded will\r\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\r\n\t\t\tthis.manager.itemStart( url );\r\n\r\n\t\t\tvar _onError = function ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\t\tloader.load( url, function ( data ) {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\r\n\r\n\t\t\t\t\t\tonLoad( gltf );\r\n\r\n\t\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t\t}, _onError );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t_onError( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, _onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetDRACOLoader: function ( dracoLoader ) {\r\n\r\n\t\t\tthis.dracoLoader = dracoLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetDDSLoader: function ( ddsLoader ) {\r\n\r\n\t\t\tthis.ddsLoader = ddsLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetKTX2Loader: function ( ktx2Loader ) {\r\n\r\n\t\t\tthis.ktx2Loader = ktx2Loader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetMeshoptDecoder: function ( meshoptDecoder ) {\r\n\r\n\t\t\tthis.meshoptDecoder = meshoptDecoder;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.push( callback );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tunregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( data, path, onLoad, onError ) {\r\n\r\n\t\t\tvar content;\r\n\t\t\tvar extensions = {};\r\n\t\t\tvar plugins = {};\r\n\r\n\t\t\tif ( typeof data === 'string' ) {\r\n\r\n\t\t\t\tcontent = data;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\r\n\r\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\r\n\r\n\t\t\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\t\t\tif ( onError ) onError( error );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar json = JSON.parse( content );\r\n\r\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\r\n\r\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar parser = new GLTFParser( json, {\r\n\r\n\t\t\t\tpath: path || this.resourcePath || '',\r\n\t\t\t\tcrossOrigin: this.crossOrigin,\r\n\t\t\t\tmanager: this.manager,\r\n\t\t\t\tktx2Loader: this.ktx2Loader,\r\n\t\t\t\tmeshoptDecoder: this.meshoptDecoder\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\r\n\r\n\t\t\tfor ( var i = 0; i < this.pluginCallbacks.length; i ++ ) {\r\n\r\n\t\t\t\tvar plugin = this.pluginCallbacks[ i ]( parser );\r\n\t\t\t\tplugins[ plugin.name ] = plugin;\r\n\r\n\t\t\t\t// Workaround to avoid determining as unknown extension\r\n\t\t\t\t// in addUnknownExtensionsToUserData().\r\n\t\t\t\t// Remove this workaround if we move all the existing\r\n\t\t\t\t// extension handlers to plugin system\r\n\t\t\t\textensions[ plugin.name ] = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.extensionsUsed ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\r\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\r\n\r\n\t\t\t\t\tswitch ( extensionName ) {\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.setExtensions( extensions );\r\n\t\t\tparser.setPlugins( plugins );\r\n\t\t\tparser.parse( onLoad, onError );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\t/* GLTFREGISTRY */\r\n\r\n\tfunction GLTFRegistry() {\r\n\r\n\t\tvar objects = {};\r\n\r\n\t\treturn\t{\r\n\r\n\t\t\tget: function ( key ) {\r\n\r\n\t\t\t\treturn objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tadd: function ( key, object ) {\r\n\r\n\t\t\t\tobjects[ key ] = object;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremove: function ( key ) {\r\n\r\n\t\t\t\tdelete objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremoveAll: function () {\r\n\r\n\t\t\t\tobjects = {};\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** EXTENSIONS ***********/\r\n\t/*********************************/\r\n\r\n\tvar EXTENSIONS = {\r\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\r\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\r\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\r\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\r\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\r\n\t\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\r\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\r\n\t\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\r\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\r\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\r\n\t\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\r\n\t\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\r\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\r\n\t};\r\n\r\n\t/**\r\n\t * DDS Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\r\n\t *\r\n\t */\r\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\r\n\r\n\t\tif ( ! ddsLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\r\n\t\tthis.ddsLoader = ddsLoader;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Punctual Lights Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\r\n\t */\r\n\tfunction GLTFLightsExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.cache = { refs: {}, uses: {} };\r\n\r\n\t}\r\n\r\n\tGLTFLightsExtension.prototype._markDefs = function () {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar nodeDefs = this.parser.json.nodes || [];\r\n\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.extensions\r\n\t\t\t\t&& nodeDef.extensions[ this.name ]\r\n\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\r\n\r\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype._loadLight = function ( lightIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar cacheKey = 'light:' + lightIndex;\r\n\t\tvar dependency = parser.cache.get( cacheKey );\r\n\r\n\t\tif ( dependency ) return dependency;\r\n\r\n\t\tvar json = parser.json;\r\n\t\tvar extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\r\n\t\tvar lightDefs = extensions.lights || [];\r\n\t\tvar lightDef = lightDefs[ lightIndex ];\r\n\t\tvar lightNode;\r\n\r\n\t\tvar color = new Color( 0xffffff );\r\n\r\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\r\n\r\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\r\n\r\n\t\tswitch ( lightDef.type ) {\r\n\r\n\t\t\tcase 'directional':\r\n\t\t\t\tlightNode = new DirectionalLight( color );\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'point':\r\n\t\t\t\tlightNode = new PointLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'spot':\r\n\t\t\t\tlightNode = new SpotLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\t// Handle spotlight properties.\r\n\t\t\t\tlightDef.spot = lightDef.spot || {};\r\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\r\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\r\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\r\n\r\n\t\t}\r\n\r\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\r\n\t\t// here, because node-level parsing will only override position if explicitly specified.\r\n\t\tlightNode.position.set( 0, 0, 0 );\r\n\r\n\t\tlightNode.decay = 2;\r\n\r\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\r\n\r\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\r\n\r\n\t\tdependency = Promise.resolve( lightNode );\r\n\r\n\t\tparser.cache.add( cacheKey, dependency );\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype.createNodeAttachment = function ( nodeIndex ) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\t\tvar lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\r\n\t\tvar lightIndex = lightDef.light;\r\n\r\n\t\tif ( lightIndex === undefined ) return null;\r\n\r\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\r\n\r\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Unlit Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\r\n\t */\r\n\tfunction GLTFMaterialsUnlitExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\r\n\r\n\t\treturn MeshBasicMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\r\n\r\n\t\tif ( metallicRoughness ) {\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Clearcoat Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\r\n\t */\r\n\tfunction GLTFMaterialsClearcoatExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.clearcoatFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\r\n\r\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tvar scale = extension.clearcoatNormalTexture.scale;\r\n\r\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Transmission Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\r\n\t * Draft: https://github.com/KhronosGroup/glTF/pull/1698\r\n\t */\r\n\tfunction GLTFMaterialsTransmissionExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.transmissionFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.transmissionTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * BasisU Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\r\n\t */\r\n\tfunction GLTFTextureBasisUExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\r\n\r\n\t}\r\n\r\n\tGLTFTextureBasisUExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ this.name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = parser.options.ktx2Loader;\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * WebP Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\r\n\t */\r\n\tfunction GLTFTextureWebPExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\r\n\t\tthis.isSupported = null;\r\n\r\n\t}\r\n\r\n\tGLTFTextureWebPExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar name = this.name;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = source.uri ? parser.options.manager.getHandler( source.uri ) : parser.textureLoader;\r\n\r\n\t\treturn this.detectSupport().then( function ( isSupported ) {\r\n\r\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Fall back to PNG or JPEG.\r\n\t\t\treturn parser.loadTexture( textureIndex );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\tGLTFTextureWebPExtension.prototype.detectSupport = function () {\r\n\r\n\t\tif ( ! this.isSupported ) {\r\n\r\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tvar image = new Image();\r\n\r\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\r\n\t\t\t\t// WebP images, unfortunately.\r\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\r\n\r\n\t\t\t\timage.onload = image.onerror = function () {\r\n\r\n\t\t\t\t\tresolve( image.height === 1 );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isSupported;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t* meshopt BufferView Compression Extension\r\n\t*\r\n\t* Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\r\n\t*/\r\n\tfunction GLTFMeshoptCompression( parser ) {\r\n\r\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\r\n\t\tthis.parser = parser;\r\n\r\n\t}\r\n\r\n\tGLTFMeshoptCompression.prototype.loadBufferView = function ( index ) {\r\n\r\n\t\tvar json = this.parser.json;\r\n\t\tvar bufferView = json.bufferViews[ index ];\r\n\r\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\r\n\r\n\t\t\tvar extensionDef = bufferView.extensions[ this.name ];\r\n\r\n\t\t\tvar buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\r\n\t\t\tvar decoder = this.parser.options.meshoptDecoder;\r\n\r\n\t\t\tif ( ! decoder || ! decoder.supported ) {\r\n\r\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\r\n\r\n\t\t\t\tvar byteOffset = extensionDef.byteOffset || 0;\r\n\t\t\t\tvar byteLength = extensionDef.byteLength || 0;\r\n\r\n\t\t\t\tvar count = extensionDef.count;\r\n\t\t\t\tvar stride = extensionDef.byteStride;\r\n\r\n\t\t\t\tvar result = new ArrayBuffer( count * stride );\r\n\t\t\t\tvar source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\r\n\r\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\r\n\t\t\t\treturn result;\r\n\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/* BINARY EXTENSION */\r\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\r\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\r\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\r\n\r\n\tfunction GLTFBinaryExtension( data ) {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\r\n\t\tthis.content = null;\r\n\t\tthis.body = null;\r\n\r\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\r\n\r\n\t\tthis.header = {\r\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\r\n\t\t\tversion: headerView.getUint32( 4, true ),\r\n\t\t\tlength: headerView.getUint32( 8, true )\r\n\t\t};\r\n\r\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\r\n\r\n\t\t} else if ( this.header.version < 2.0 ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\r\n\t\tvar chunkIndex = 0;\r\n\r\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\r\n\r\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\r\n\r\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\r\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\r\n\r\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\r\n\r\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\r\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Clients must ignore chunks with unknown types.\r\n\r\n\t\t\tchunkIndex += chunkLength;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.content === null ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * DRACO Mesh Compression Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\r\n\t */\r\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\r\n\r\n\t\tif ( ! dracoLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\r\n\t\tthis.json = json;\r\n\t\tthis.dracoLoader = dracoLoader;\r\n\t\tthis.dracoLoader.preload();\r\n\r\n\t}\r\n\r\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar dracoLoader = this.dracoLoader;\r\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\r\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\r\n\t\tvar threeAttributeMap = {};\r\n\t\tvar attributeNormalizedMap = {};\r\n\t\tvar attributeTypeMap = {};\r\n\r\n\t\tfor ( var attributeName in gltfAttributeMap ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( attributeName in primitive.attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\r\n\r\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\r\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\r\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\r\n\r\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\r\n\r\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\r\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\r\n\r\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresolve( geometry );\r\n\r\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Texture Transform Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\r\n\t */\r\n\tfunction GLTFTextureTransformExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\r\n\r\n\t}\r\n\r\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\r\n\r\n\t\ttexture = texture.clone();\r\n\r\n\t\tif ( transform.offset !== undefined ) {\r\n\r\n\t\t\ttexture.offset.fromArray( transform.offset );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.rotation !== undefined ) {\r\n\r\n\t\t\ttexture.rotation = transform.rotation;\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.scale !== undefined ) {\r\n\r\n\t\t\ttexture.repeat.fromArray( transform.scale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.texCoord !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\r\n\r\n\t\t}\r\n\r\n\t\ttexture.needsUpdate = true;\r\n\r\n\t\treturn texture;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specular-Glossiness Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\r\n\t */\r\n\r\n\t/**\r\n\t * A sub class of StandardMaterial with some of the functionality\r\n\t * changed via the `onBeforeCompile` callback\r\n\t * @pailhead\r\n\t */\r\n\r\n\tfunction GLTFMeshStandardSGMaterial( params ) {\r\n\r\n\t\tMeshStandardMaterial.call( this );\r\n\r\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\r\n\r\n\t\t//various chunks that need replacing\r\n\t\tvar specularMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tuniform sampler2D specularMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tuniform sampler2D glossinessMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar specularMapFragmentChunk = [\r\n\t\t\t'vec3 specularFactor = specular;',\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\r\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\r\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapFragmentChunk = [\r\n\t\t\t'float glossinessFactor = glossiness;',\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\r\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar lightPhysicalFragmentChunk = [\r\n\t\t\t'PhysicalMaterial material;',\r\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\t\t\t'material.specularColor = specularFactor;',\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar uniforms = {\r\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\r\n\t\t\tglossiness: { value: 1 },\r\n\t\t\tspecularMap: { value: null },\r\n\t\t\tglossinessMap: { value: null }\r\n\t\t};\r\n\r\n\t\tthis._extraUniforms = uniforms;\r\n\r\n\t\tthis.onBeforeCompile = function ( shader ) {\r\n\r\n\t\t\tfor ( var uniformName in uniforms ) {\r\n\r\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tshader.fragmentShader = shader.fragmentShader\r\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\r\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\r\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\r\n\r\n\t\t};\r\n\r\n\t\tObject.defineProperties( this, {\r\n\r\n\t\t\tspecular: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specular.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specular.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tspecularMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specularMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specularMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossiness: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossiness.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossiness.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossinessMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossinessMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossinessMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\r\n\t\t\t\t\t\tthis.defines.USE_UV = '';\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\r\n\t\t\t\t\t\tdelete this.defines.USE_UV;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\r\n\t\tthis.setValues( params );\r\n\r\n\t}\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\r\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\r\n\r\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\r\n\t\tthis.specularMap = source.specularMap;\r\n\t\tthis.specular.copy( source.specular );\r\n\t\tthis.glossinessMap = source.glossinessMap;\r\n\t\tthis.glossiness = source.glossiness;\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\r\n\r\n\t\treturn {\r\n\r\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\r\n\r\n\t\t\tspecularGlossinessParams: [\r\n\t\t\t\t'color',\r\n\t\t\t\t'map',\r\n\t\t\t\t'lightMap',\r\n\t\t\t\t'lightMapIntensity',\r\n\t\t\t\t'aoMap',\r\n\t\t\t\t'aoMapIntensity',\r\n\t\t\t\t'emissive',\r\n\t\t\t\t'emissiveIntensity',\r\n\t\t\t\t'emissiveMap',\r\n\t\t\t\t'bumpMap',\r\n\t\t\t\t'bumpScale',\r\n\t\t\t\t'normalMap',\r\n\t\t\t\t'normalMapType',\r\n\t\t\t\t'displacementMap',\r\n\t\t\t\t'displacementScale',\r\n\t\t\t\t'displacementBias',\r\n\t\t\t\t'specularMap',\r\n\t\t\t\t'specular',\r\n\t\t\t\t'glossinessMap',\r\n\t\t\t\t'glossiness',\r\n\t\t\t\t'alphaMap',\r\n\t\t\t\t'envMap',\r\n\t\t\t\t'envMapIntensity',\r\n\t\t\t\t'refractionRatio',\r\n\t\t\t],\r\n\r\n\t\t\tgetMaterialType: function () {\r\n\r\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\r\n\r\n\t\t\t},\r\n\r\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\r\n\r\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\r\n\r\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\r\n\r\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\r\n\r\n\t\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\r\n\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\r\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\r\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\r\n\r\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\r\n\r\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tcreateMaterial: function ( materialParams ) {\r\n\r\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\r\n\t\t\t\tmaterial.fog = true;\r\n\r\n\t\t\t\tmaterial.color = materialParams.color;\r\n\r\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\r\n\r\n\t\t\t\tmaterial.lightMap = null;\r\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\r\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.emissive = materialParams.emissive;\r\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\r\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\r\n\r\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\r\n\t\t\t\tmaterial.bumpScale = 1;\r\n\r\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\r\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\r\n\r\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\r\n\r\n\t\t\t\tmaterial.displacementMap = null;\r\n\t\t\t\tmaterial.displacementScale = 1;\r\n\t\t\t\tmaterial.displacementBias = 0;\r\n\r\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\r\n\t\t\t\tmaterial.specular = materialParams.specular;\r\n\r\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\r\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\r\n\r\n\t\t\t\tmaterial.alphaMap = null;\r\n\r\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\r\n\t\t\t\tmaterial.envMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.refractionRatio = 0.98;\r\n\r\n\t\t\t\treturn material;\r\n\r\n\t\t\t},\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Mesh Quantization Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\r\n\t */\r\n\tfunction GLTFMeshQuantizationExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** INTERPOLATION ********/\r\n\t/*********************************/\r\n\r\n\t// Spline Interpolation\r\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\r\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n\t}\r\n\r\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\r\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\r\n\r\n\t\t// Copies a sample value to the result buffer. See description of glTF\r\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tvalueSize = this.valueSize,\r\n\t\t\toffset = index * valueSize * 3 + valueSize;\r\n\r\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\r\n\r\n\t\t\tresult[ i ] = values[ offset + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer;\r\n\t\tvar values = this.sampleValues;\r\n\t\tvar stride = this.valueSize;\r\n\r\n\t\tvar stride2 = stride * 2;\r\n\t\tvar stride3 = stride * 3;\r\n\r\n\t\tvar td = t1 - t0;\r\n\r\n\t\tvar p = ( t - t0 ) / td;\r\n\t\tvar pp = p * p;\r\n\t\tvar ppp = pp * p;\r\n\r\n\t\tvar offset1 = i1 * stride3;\r\n\t\tvar offset0 = offset1 - stride3;\r\n\r\n\t\tvar s2 = - 2 * ppp + 3 * pp;\r\n\t\tvar s3 = ppp - pp;\r\n\t\tvar s0 = 1 - s2;\r\n\t\tvar s1 = s3 - pp + p;\r\n\r\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\r\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\r\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\r\n\r\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\r\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\r\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\r\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\r\n\r\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\t/*********************************/\r\n\t/********** INTERNALS ************/\r\n\t/*********************************/\r\n\r\n\t/* CONSTANTS */\r\n\r\n\tvar WEBGL_CONSTANTS = {\r\n\t\tFLOAT: 5126,\r\n\t\t//FLOAT_MAT2: 35674,\r\n\t\tFLOAT_MAT3: 35675,\r\n\t\tFLOAT_MAT4: 35676,\r\n\t\tFLOAT_VEC2: 35664,\r\n\t\tFLOAT_VEC3: 35665,\r\n\t\tFLOAT_VEC4: 35666,\r\n\t\tLINEAR: 9729,\r\n\t\tREPEAT: 10497,\r\n\t\tSAMPLER_2D: 35678,\r\n\t\tPOINTS: 0,\r\n\t\tLINES: 1,\r\n\t\tLINE_LOOP: 2,\r\n\t\tLINE_STRIP: 3,\r\n\t\tTRIANGLES: 4,\r\n\t\tTRIANGLE_STRIP: 5,\r\n\t\tTRIANGLE_FAN: 6,\r\n\t\tUNSIGNED_BYTE: 5121,\r\n\t\tUNSIGNED_SHORT: 5123\r\n\t};\r\n\r\n\tvar WEBGL_COMPONENT_TYPES = {\r\n\t\t5120: Int8Array,\r\n\t\t5121: Uint8Array,\r\n\t\t5122: Int16Array,\r\n\t\t5123: Uint16Array,\r\n\t\t5125: Uint32Array,\r\n\t\t5126: Float32Array\r\n\t};\r\n\r\n\tvar WEBGL_FILTERS = {\r\n\t\t9728: NearestFilter,\r\n\t\t9729: LinearFilter,\r\n\t\t9984: NearestMipmapNearestFilter,\r\n\t\t9985: LinearMipmapNearestFilter,\r\n\t\t9986: NearestMipmapLinearFilter,\r\n\t\t9987: LinearMipmapLinearFilter\r\n\t};\r\n\r\n\tvar WEBGL_WRAPPINGS = {\r\n\t\t33071: ClampToEdgeWrapping,\r\n\t\t33648: MirroredRepeatWrapping,\r\n\t\t10497: RepeatWrapping\r\n\t};\r\n\r\n\tvar WEBGL_TYPE_SIZES = {\r\n\t\t'SCALAR': 1,\r\n\t\t'VEC2': 2,\r\n\t\t'VEC3': 3,\r\n\t\t'VEC4': 4,\r\n\t\t'MAT2': 4,\r\n\t\t'MAT3': 9,\r\n\t\t'MAT4': 16\r\n\t};\r\n\r\n\tvar ATTRIBUTES = {\r\n\t\tPOSITION: 'position',\r\n\t\tNORMAL: 'normal',\r\n\t\tTANGENT: 'tangent',\r\n\t\tTEXCOORD_0: 'uv',\r\n\t\tTEXCOORD_1: 'uv2',\r\n\t\tCOLOR_0: 'color',\r\n\t\tWEIGHTS_0: 'skinWeight',\r\n\t\tJOINTS_0: 'skinIndex',\r\n\t};\r\n\r\n\tvar PATH_PROPERTIES = {\r\n\t\tscale: 'scale',\r\n\t\ttranslation: 'position',\r\n\t\trotation: 'quaternion',\r\n\t\tweights: 'morphTargetInfluences'\r\n\t};\r\n\r\n\tvar INTERPOLATION = {\r\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\r\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\r\n\t\tLINEAR: InterpolateLinear,\r\n\t\tSTEP: InterpolateDiscrete\r\n\t};\r\n\r\n\tvar ALPHA_MODES = {\r\n\t\tOPAQUE: 'OPAQUE',\r\n\t\tMASK: 'MASK',\r\n\t\tBLEND: 'BLEND'\r\n\t};\r\n\r\n\t/* UTILITY FUNCTIONS */\r\n\r\n\tfunction resolveURL( url, path ) {\r\n\r\n\t\t// Invalid URL\r\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\r\n\r\n\t\t// Host Relative URL\r\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\r\n\r\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\r\n\r\n\t\t}\r\n\r\n\t\t// Absolute URL http://,https://,//\r\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\r\n\r\n\t\t// Data URI\r\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Blob URL\r\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Relative URL\r\n\t\treturn path + url;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\r\n\t */\r\n\tfunction createDefaultMaterial( cache ) {\r\n\r\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\r\n\r\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\r\n\t\t\t\tcolor: 0xFFFFFF,\r\n\t\t\t\temissive: 0x000000,\r\n\t\t\t\tmetalness: 1,\r\n\t\t\t\troughness: 1,\r\n\t\t\t\ttransparent: false,\r\n\t\t\t\tdepthTest: true,\r\n\t\t\t\tside: FrontSide\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn cache[ 'DefaultMaterial' ];\r\n\r\n\t}\r\n\r\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\r\n\r\n\t\t// Add unknown glTF extensions to an object's userData.\r\n\r\n\t\tfor ( var name in objectDef.extensions ) {\r\n\r\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\r\n\r\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\r\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Object3D|Material|BufferGeometry} object\r\n\t * @param {GLTF.definition} gltfDef\r\n\t */\r\n\tfunction assignExtrasToUserData( object, gltfDef ) {\r\n\r\n\t\tif ( gltfDef.extras !== undefined ) {\r\n\r\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\r\n\r\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\r\n\t *\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Array<GLTF.Target>} targets\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addMorphTargets( geometry, targets, parser ) {\r\n\r\n\t\tvar hasMorphPosition = false;\r\n\t\tvar hasMorphNormal = false;\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\r\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\r\n\r\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\r\n\r\n\t\tvar pendingPositionAccessors = [];\r\n\t\tvar pendingNormalAccessors = [];\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( hasMorphPosition ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\r\n\t\t\t\t\t: geometry.attributes.position;\r\n\r\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasMorphNormal ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\r\n\t\t\t\t\t: geometry.attributes.normal;\r\n\r\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\t\t\tPromise.all( pendingPositionAccessors ),\r\n\t\t\tPromise.all( pendingNormalAccessors )\r\n\t\t] ).then( function ( accessors ) {\r\n\r\n\t\t\tvar morphPositions = accessors[ 0 ];\r\n\t\t\tvar morphNormals = accessors[ 1 ];\r\n\r\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\r\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\r\n\t\t\tgeometry.morphTargetsRelative = true;\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Mesh} mesh\r\n\t * @param {GLTF.Mesh} meshDef\r\n\t */\r\n\tfunction updateMorphTargets( mesh, meshDef ) {\r\n\r\n\t\tmesh.updateMorphTargets();\r\n\r\n\t\tif ( meshDef.weights !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\r\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\r\n\r\n\t\t\tvar targetNames = meshDef.extras.targetNames;\r\n\r\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\r\n\r\n\t\t\t\tmesh.morphTargetDictionary = {};\r\n\r\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction createPrimitiveKey( primitiveDef ) {\r\n\r\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\r\n\t\tvar geometryKey;\r\n\r\n\t\tif ( dracoExtension ) {\r\n\r\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\r\n\t\t\t\t+ ':' + dracoExtension.indices\r\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\r\n\r\n\t\t}\r\n\r\n\t\treturn geometryKey;\r\n\r\n\t}\r\n\r\n\tfunction createAttributesKey( attributes ) {\r\n\r\n\t\tvar attributesKey = '';\r\n\r\n\t\tvar keys = Object.keys( attributes ).sort();\r\n\r\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\r\n\r\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\r\n\r\n\t\t}\r\n\r\n\t\treturn attributesKey;\r\n\r\n\t}\r\n\r\n\t/* GLTF PARSER */\r\n\r\n\tfunction GLTFParser( json, options ) {\r\n\r\n\t\tthis.json = json || {};\r\n\t\tthis.extensions = {};\r\n\t\tthis.plugins = {};\r\n\t\tthis.options = options || {};\r\n\r\n\t\t// loader object cache\r\n\t\tthis.cache = new GLTFRegistry();\r\n\r\n\t\t// associations between Three.js objects and glTF elements\r\n\t\tthis.associations = new Map();\r\n\r\n\t\t// BufferGeometry caching\r\n\t\tthis.primitiveCache = {};\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.meshCache = { refs: {}, uses: {} };\r\n\t\tthis.cameraCache = { refs: {}, uses: {} };\r\n\t\tthis.lightCache = { refs: {}, uses: {} };\r\n\r\n\t\t// Track node names, to ensure no duplicates\r\n\t\tthis.nodeNamesUsed = {};\r\n\r\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\r\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\r\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\r\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\r\n\r\n\t\t}\r\n\r\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\r\n\r\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\r\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\r\n\r\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\r\n\r\n\t\t\tthis.fileLoader.setWithCredentials( true );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tGLTFParser.prototype.setExtensions = function ( extensions ) {\r\n\r\n\t\tthis.extensions = extensions;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.setPlugins = function ( plugins ) {\r\n\r\n\t\tthis.plugins = plugins;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\t// Clear the loader cache\r\n\t\tthis.cache.removeAll();\r\n\r\n\t\t// Mark the special nodes/meshes in json for efficient parse\r\n\t\tthis._invokeAll( function ( ext ) {\r\n\r\n\t\t\treturn ext._markDefs && ext._markDefs();\r\n\r\n\t\t} );\r\n\r\n\t\tPromise.all( [\r\n\r\n\t\t\tthis.getDependencies( 'scene' ),\r\n\t\t\tthis.getDependencies( 'animation' ),\r\n\t\t\tthis.getDependencies( 'camera' ),\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar result = {\r\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\r\n\t\t\t\tscenes: dependencies[ 0 ],\r\n\t\t\t\tanimations: dependencies[ 1 ],\r\n\t\t\t\tcameras: dependencies[ 2 ],\r\n\t\t\t\tasset: json.asset,\r\n\t\t\t\tparser: parser,\r\n\t\t\t\tuserData: {}\r\n\t\t\t};\r\n\r\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\r\n\r\n\t\t\tassignExtrasToUserData( result, json );\r\n\r\n\t\t\tonLoad( result );\r\n\r\n\t\t} ).catch( onError );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Marks the special nodes/meshes in json for efficient parse.\r\n\t */\r\n\tGLTFParser.prototype._markDefs = function () {\r\n\r\n\t\tvar nodeDefs = this.json.nodes || [];\r\n\t\tvar skinDefs = this.json.skins || [];\r\n\t\tvar meshDefs = this.json.meshes || [];\r\n\r\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\r\n\t\t// Object3D. Use the skins' joint references to mark bones.\r\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\r\n\r\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\r\n\r\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Iterate over all nodes, marking references to shared resources,\r\n\t\t// as well as skeleton joints.\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\r\n\r\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\r\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\r\n\t\t\t\t// to mark SkinnedMesh if node has skin.\r\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\r\n\r\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Counts references to shared node / Object3D resources. These resources\r\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\r\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\r\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\r\n\t * Textures) can be reused directly and are not marked here.\r\n\t *\r\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\r\n\t */\r\n\tGLTFParser.prototype._addNodeRef = function ( cache, index ) {\r\n\r\n\t\tif ( index === undefined ) return;\r\n\r\n\t\tif ( cache.refs[ index ] === undefined ) {\r\n\r\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\r\n\r\n\t\t}\r\n\r\n\t\tcache.refs[ index ] ++;\r\n\r\n\t};\r\n\r\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\r\n\tGLTFParser.prototype._getNodeRef = function ( cache, index, object ) {\r\n\r\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\r\n\r\n\t\tvar ref = object.clone();\r\n\r\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\r\n\r\n\t\treturn ref;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeOne = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.push( this );\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) return result;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeAll = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.unshift( this );\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) pending.push( result );\r\n\r\n\t\t}\r\n\r\n\t\treturn pending;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests the specified dependency asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @param {number} index\r\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\r\n\t */\r\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\r\n\r\n\t\tvar cacheKey = type + ':' + index;\r\n\t\tvar dependency = this.cache.get( cacheKey );\r\n\r\n\t\tif ( ! dependency ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 'scene':\r\n\t\t\t\t\tdependency = this.loadScene( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'node':\r\n\t\t\t\t\tdependency = this.loadNode( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'mesh':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'accessor':\r\n\t\t\t\t\tdependency = this.loadAccessor( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bufferView':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'buffer':\r\n\t\t\t\t\tdependency = this.loadBuffer( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'material':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'texture':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'skin':\r\n\t\t\t\t\tdependency = this.loadSkin( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'animation':\r\n\t\t\t\t\tdependency = this.loadAnimation( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'camera':\r\n\t\t\t\t\tdependency = this.loadCamera( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.cache.add( cacheKey, dependency );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests all dependencies of the specified type asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @return {Promise<Array<Object>>}\r\n\t */\r\n\tGLTFParser.prototype.getDependencies = function ( type ) {\r\n\r\n\t\tvar dependencies = this.cache.get( type );\r\n\r\n\t\tif ( ! dependencies ) {\r\n\r\n\t\t\tvar parser = this;\r\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\r\n\r\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\r\n\r\n\t\t\t\treturn parser.getDependency( type, index );\r\n\r\n\t\t\t} ) );\r\n\r\n\t\t\tthis.cache.add( type, dependencies );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependencies;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\r\n\r\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\r\n\t\tvar loader = this.fileLoader;\r\n\r\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\r\n\r\n\t\t}\r\n\r\n\t\t// If present, GLB container is required to be the first buffer.\r\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\r\n\r\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\r\n\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\r\n\r\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferViewIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\r\n\r\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\r\n\r\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\r\n\r\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\r\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\r\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\r\n\t * @param {number} accessorIndex\r\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\r\n\t */\r\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\r\n\r\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\r\n\r\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\r\n\t\t\t// information about attributes coming from another source (e.g. Draco\r\n\t\t\t// compression extension).\r\n\t\t\treturn Promise.resolve( null );\r\n\r\n\t\t}\r\n\r\n\t\tvar pendingBufferViews = [];\r\n\r\n\t\tif ( accessorDef.bufferView !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpendingBufferViews.push( null );\r\n\r\n\t\t}\r\n\r\n\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\r\n\r\n\t\t\tvar bufferView = bufferViews[ 0 ];\r\n\r\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\r\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\r\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\r\n\t\t\tvar itemBytes = elementBytes * itemSize;\r\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\r\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\r\n\t\t\tvar normalized = accessorDef.normalized === true;\r\n\t\t\tvar array, bufferAttribute;\r\n\r\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\r\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\r\n\r\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\r\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\r\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\r\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\r\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\r\n\r\n\t\t\t\tif ( ! ib ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\r\n\r\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\r\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\r\n\r\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( bufferView === null ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\r\n\t\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\r\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\r\n\r\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\r\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\r\n\r\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\r\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\r\n\r\n\t\t\t\tif ( bufferView !== null ) {\r\n\r\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\r\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar index = sparseIndices[ i ];\r\n\r\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\r\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\r\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\r\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\r\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn bufferAttribute;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\r\n\t * @param {number} textureIndex\r\n\t * @return {Promise<THREE.Texture>}\r\n\t */\r\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar textureExtensions = textureDef.extensions || {};\r\n\r\n\t\tvar source;\r\n\r\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\r\n\r\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\tsource = json.images[ textureDef.source ];\r\n\r\n\t\t}\r\n\r\n\t\tvar loader;\r\n\r\n\t\tif ( source.uri ) {\r\n\r\n\t\t\tloader = options.manager.getHandler( source.uri );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\r\n\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\r\n\t\t\t\t: this.textureLoader;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.loadTextureImage = function ( textureIndex, source, loader ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar URL = self.URL || self.webkitURL;\r\n\r\n\t\tvar sourceURI = source.uri;\r\n\t\tvar isObjectURL = false;\r\n\t\tvar hasAlpha = true;\r\n\r\n\t\tif ( source.mimeType === 'image/jpeg' ) hasAlpha = false;\r\n\r\n\t\tif ( source.bufferView !== undefined ) {\r\n\r\n\t\t\t// Load binary image data from bufferView, if provided.\r\n\t\t\t\r\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\r\n\r\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\r\n\r\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\r\n\t\t\t\t\t// alpha channel. This check is conservative  the image could have an alpha\r\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\r\n\t\t\t\t\t// sometimes contains alpha.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\r\n\t\t\t\t\tvar colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\r\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tisObjectURL = true;\r\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\r\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\r\n\t\t\t\treturn sourceURI;\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\t\tvar onLoad = resolve;\r\n\r\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\r\n\r\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\r\n\r\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} ).then( function ( texture ) {\r\n\r\n\t\t\t// Clean up resources and configure Texture.\r\n\r\n\t\t\tif ( isObjectURL === true ) {\r\n\r\n\t\t\t\tURL.revokeObjectURL( sourceURI );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.flipY = false;\r\n\r\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\r\n\r\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\r\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\r\n\r\n\t\t\tvar samplers = json.samplers || {};\r\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\r\n\r\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\r\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\r\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\r\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\r\n\r\n\t\t\tparser.associations.set( texture, {\r\n\t\t\t\ttype: 'textures',\r\n\t\t\t\tindex: textureIndex\r\n\t\t\t} );\r\n\r\n\t\t\treturn texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Asynchronously assigns a texture to the given material parameters.\r\n\t * @param {Object} materialParams\r\n\t * @param {string} mapName\r\n\t * @param {Object} mapDef\r\n\t * @return {Promise}\r\n\t */\r\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\r\n\r\n\t\tvar parser = this;\r\n\r\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\r\n\r\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\r\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\r\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\r\n\r\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\r\n\r\n\t\t\t\tif ( transform ) {\r\n\r\n\t\t\t\t\tvar gltfReference = parser.associations.get( texture );\r\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\r\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams[ mapName ] = texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\r\n\t * already has a material (generated from the glTF material options alone)\r\n\t * but reuse of the same glTF material may require multiple threejs materials\r\n\t * to accomodate different primitive types, defines, etc. New materials will\r\n\t * be created if necessary, and reused from a cache.\r\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\r\n\t */\r\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\r\n\r\n\t\tvar geometry = mesh.geometry;\r\n\t\tvar material = mesh.material;\r\n\r\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\r\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\r\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\r\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\r\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\r\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\r\n\r\n\t\tif ( mesh.isPoints ) {\r\n\r\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\r\n\r\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! pointsMaterial ) {\r\n\r\n\t\t\t\tpointsMaterial = new PointsMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\r\n\t\t\t\tpointsMaterial.color.copy( material.color );\r\n\t\t\t\tpointsMaterial.map = material.map;\r\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = pointsMaterial;\r\n\r\n\t\t} else if ( mesh.isLine ) {\r\n\r\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\r\n\r\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! lineMaterial ) {\r\n\r\n\t\t\t\tlineMaterial = new LineBasicMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\r\n\t\t\t\tlineMaterial.color.copy( material.color );\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = lineMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// Clone the material if it will be modified\r\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\r\n\r\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\r\n\r\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\r\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\r\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\r\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\r\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\r\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\r\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\r\n\r\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! cachedMaterial ) {\r\n\r\n\t\t\t\tcachedMaterial = material.clone();\r\n\r\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\r\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\r\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\r\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\r\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\r\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\r\n\r\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = cachedMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// workarounds for mesh and geometry\r\n\r\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\r\n\r\n\t\t}\r\n\r\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\r\n\t\tif ( material.normalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.clearcoatNormalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.clearcoatNormalScale.y = - material.clearcoatNormalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tmesh.material = material;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.getMaterialType = function ( /* materialIndex */ ) {\r\n\r\n\t\treturn MeshStandardMaterial;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\r\n\t * @param {number} materialIndex\r\n\t * @return {Promise<Material>}\r\n\t */\r\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar materialDef = json.materials[ materialIndex ];\r\n\r\n\t\tvar materialType;\r\n\t\tvar materialParams = {};\r\n\t\tvar materialExtensions = materialDef.extensions || {};\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\r\n\r\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\r\n\t\t\tmaterialType = sgExtension.getMaterialType();\r\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\r\n\r\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\r\n\t\t\tmaterialType = kmuExtension.getMaterialType();\r\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Specification:\r\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\r\n\r\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\r\n\r\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\r\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\r\n\r\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\r\n\r\n\t\t\t} ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.doubleSided === true ) {\r\n\r\n\t\t\tmaterialParams.side = DoubleSide;\r\n\r\n\t\t}\r\n\r\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\r\n\r\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\r\n\r\n\t\t\tmaterialParams.transparent = true;\r\n\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\r\n\t\t\tmaterialParams.depthWrite = false;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmaterialParams.transparent = false;\r\n\r\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\r\n\r\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\r\n\r\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\r\n\r\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\tvar material;\r\n\r\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\r\n\r\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial = new materialType( materialParams );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\r\n\r\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\r\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\r\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\r\n\r\n\t\t\tassignExtrasToUserData( material, materialDef );\r\n\r\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\r\n\r\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/** When Object3D instances are targeted by animation, they need unique names. */\r\n\tGLTFParser.prototype.createUniqueName = function ( originalName ) {\r\n\r\n\t\tvar name = PropertyBinding.sanitizeNodeName( originalName || '' );\r\n\r\n\t\tfor ( var i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\r\n\r\n\t\t\tname = originalName + '_' + i;\r\n\r\n\t\t}\r\n\r\n\t\tthis.nodeNamesUsed[ name ] = true;\r\n\r\n\t\treturn name;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t */\r\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar box = new Box3();\r\n\r\n\t\tif ( attributes.POSITION !== undefined ) {\r\n\r\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\r\n\r\n\t\t\tvar min = accessor.min;\r\n\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\tbox.set(\r\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\r\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar targets = primitiveDef.targets;\r\n\r\n\t\tif ( targets !== undefined ) {\r\n\r\n\t\t\tvar maxDisplacement = new Vector3();\r\n\t\t\tvar vector = new Vector3();\r\n\r\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( target.POSITION !== undefined ) {\r\n\r\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\r\n\t\t\t\t\tvar min = accessor.min;\r\n\t\t\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\r\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\r\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\r\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\r\n\r\n\t\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\r\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\r\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\r\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\r\n\t\t\t\t\t\tmaxDisplacement.max( vector );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\r\n\t\t\tbox.expandByVector( maxDisplacement );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.boundingBox = box;\r\n\r\n\t\tvar sphere = new Sphere();\r\n\r\n\t\tbox.getCenter( sphere.center );\r\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\r\n\r\n\t\tgeometry.boundingSphere = sphere;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\r\n\r\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\r\n\t\t\t\t.then( function ( accessor ) {\r\n\r\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var gltfAttributeName in attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\r\n\r\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\r\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\r\n\r\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\r\n\r\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\r\n\r\n\t\t\t\tgeometry.setIndex( accessor );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( accessor );\r\n\r\n\t\t}\r\n\r\n\t\tassignExtrasToUserData( geometry, primitiveDef );\r\n\r\n\t\tcomputeBounds( geometry, primitiveDef, parser );\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\treturn primitiveDef.targets !== undefined\r\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\r\n\t\t\t\t: geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Number} drawMode\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\r\n\r\n\t\tvar index = geometry.getIndex();\r\n\r\n\t\t// generate index if not present\r\n\r\n\t\tif ( index === null ) {\r\n\r\n\t\t\tvar indices = [];\r\n\r\n\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\treturn geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar numberOfTriangles = index.count - 2;\r\n\t\tvar newIndices = [];\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t}\r\n\r\n\t\t// build final geometry\r\n\r\n\t\tvar newGeometry = geometry.clone();\r\n\t\tnewGeometry.setIndex( newIndices );\r\n\r\n\t\treturn newGeometry;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\r\n\t *\r\n\t * Creates BufferGeometries from primitives.\r\n\t *\r\n\t * @param {Array<GLTF.Primitive>} primitives\r\n\t * @return {Promise<Array<BufferGeometry>>}\r\n\t */\r\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar cache = this.primitiveCache;\r\n\r\n\t\tfunction createDracoPrimitive( primitive ) {\r\n\r\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\r\n\t\t\t\t.decodePrimitive( primitive, parser )\r\n\t\t\t\t.then( function ( geometry ) {\r\n\r\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar primitive = primitives[ i ];\r\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\r\n\r\n\t\t\t// See if we've already created this geometry\r\n\t\t\tvar cached = cache[ cacheKey ];\r\n\r\n\t\t\tif ( cached ) {\r\n\r\n\t\t\t\t// Use the cached geometry if it exists\r\n\t\t\t\tpending.push( cached.promise );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar geometryPromise;\r\n\r\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\r\n\r\n\t\t\t\t\t// Use DRACO geometry if available\r\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Otherwise create a new geometry\r\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache this geometry\r\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\r\n\r\n\t\t\t\tpending.push( geometryPromise );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\r\n\t * @param {number} meshIndex\r\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\r\n\t */\r\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\tvar meshDef = json.meshes[ meshIndex ];\r\n\t\tvar primitives = meshDef.primitives;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar material = primitives[ i ].material === undefined\r\n\t\t\t\t? createDefaultMaterial( this.cache )\r\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\r\n\r\n\t\t\tpending.push( material );\r\n\r\n\t\t}\r\n\r\n\t\tpending.push( parser.loadGeometries( primitives ) );\r\n\r\n\t\treturn Promise.all( pending ).then( function ( results ) {\r\n\r\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\r\n\t\t\tvar geometries = results[ results.length - 1 ];\r\n\r\n\t\t\tvar meshes = [];\r\n\r\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar geometry = geometries[ i ];\r\n\t\t\t\tvar primitive = primitives[ i ];\r\n\r\n\t\t\t\t// 1. create Mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tvar material = materials[ i ];\r\n\r\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\r\n\t\t\t\t\tprimitive.mode === undefined ) {\r\n\r\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\r\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\r\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\r\n\t\t\t\t\t\t: new Mesh( geometry, material );\r\n\r\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\r\n\r\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\r\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\r\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\r\n\r\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\r\n\r\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\r\n\r\n\t\t\t\t\tmesh = new Line( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\r\n\r\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\r\n\r\n\t\t\t\t\tmesh = new Points( geometry, material );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\r\n\r\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\r\n\r\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\r\n\r\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\r\n\r\n\t\t\t\tparser.assignFinalMaterial( mesh );\r\n\r\n\t\t\t\tmeshes.push( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( meshes.length === 1 ) {\r\n\r\n\t\t\t\treturn meshes[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar group = new Group();\r\n\r\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tgroup.add( meshes[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn group;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\r\n\t * @param {number} cameraIndex\r\n\t * @return {Promise<THREE.Camera>}\r\n\t */\r\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\r\n\r\n\t\tvar camera;\r\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\r\n\t\tvar params = cameraDef[ cameraDef.type ];\r\n\r\n\t\tif ( ! params ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.type === 'perspective' ) {\r\n\r\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\r\n\r\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\r\n\r\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\r\n\r\n\t\tassignExtrasToUserData( camera, cameraDef );\r\n\r\n\t\treturn Promise.resolve( camera );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\r\n\t * @param {number} skinIndex\r\n\t * @return {Promise<Object>}\r\n\t */\r\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\r\n\r\n\t\tvar skinDef = this.json.skins[ skinIndex ];\r\n\r\n\t\tvar skinEntry = { joints: skinDef.joints };\r\n\r\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\r\n\r\n\t\t\treturn Promise.resolve( skinEntry );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\r\n\r\n\t\t\tskinEntry.inverseBindMatrices = accessor;\r\n\r\n\t\t\treturn skinEntry;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\r\n\t * @param {number} animationIndex\r\n\t * @return {Promise<AnimationClip>}\r\n\t */\r\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar animationDef = json.animations[ animationIndex ];\r\n\r\n\t\tvar pendingNodes = [];\r\n\t\tvar pendingInputAccessors = [];\r\n\t\tvar pendingOutputAccessors = [];\r\n\t\tvar pendingSamplers = [];\r\n\t\tvar pendingTargets = [];\r\n\r\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar channel = animationDef.channels[ i ];\r\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\r\n\t\t\tvar target = channel.target;\r\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\r\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\r\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\r\n\r\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\r\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\r\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\r\n\t\t\tpendingSamplers.push( sampler );\r\n\t\t\tpendingTargets.push( target );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\r\n\t\t\tPromise.all( pendingNodes ),\r\n\t\t\tPromise.all( pendingInputAccessors ),\r\n\t\t\tPromise.all( pendingOutputAccessors ),\r\n\t\t\tPromise.all( pendingSamplers ),\r\n\t\t\tPromise.all( pendingTargets )\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar nodes = dependencies[ 0 ];\r\n\t\t\tvar inputAccessors = dependencies[ 1 ];\r\n\t\t\tvar outputAccessors = dependencies[ 2 ];\r\n\t\t\tvar samplers = dependencies[ 3 ];\r\n\t\t\tvar targets = dependencies[ 4 ];\r\n\r\n\t\t\tvar tracks = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar node = nodes[ i ];\r\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\r\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\r\n\t\t\t\tvar sampler = samplers[ i ];\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( node === undefined ) continue;\r\n\r\n\t\t\t\tnode.updateMatrix();\r\n\t\t\t\tnode.matrixAutoUpdate = true;\r\n\r\n\t\t\t\tvar TypedKeyframeTrack;\r\n\r\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.position:\r\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\r\n\r\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\r\n\r\n\t\t\t\tvar targetNames = [];\r\n\r\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\r\n\r\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\r\n\t\t\t\t\tnode.traverse( function ( object ) {\r\n\r\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\r\n\r\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttargetNames.push( targetName );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar outputArray = outputAccessor.array;\r\n\r\n\t\t\t\tif ( outputAccessor.normalized ) {\r\n\r\n\t\t\t\t\tvar scale;\r\n\r\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 127;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 255;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 32767;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 65535;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutputArray = scaled;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\r\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\r\n\t\t\t\t\t\tinputAccessor.array,\r\n\t\t\t\t\t\toutputArray,\r\n\t\t\t\t\t\tinterpolation\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Override interpolation with custom factory method.\r\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\r\n\r\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\r\n\r\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\r\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\r\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\r\n\r\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\r\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttracks.push( track );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\r\n\r\n\t\t\treturn new AnimationClip( name, undefined, tracks );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\r\n\t * @param {number} nodeIndex\r\n\t * @return {Promise<Object3D>}\r\n\t */\r\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar parser = this;\r\n\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\r\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\r\n\t\tvar nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\r\n\r\n\t\treturn ( function () {\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\r\n\r\n\t\t\t\t\tvar node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\r\n\r\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\r\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\r\n\r\n\t\t\t\t\t\tnode.traverse( function ( o ) {\r\n\r\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\r\n\r\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\r\n\r\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\r\n\r\n\t\t\t} ).forEach( function ( promise ) {\r\n\r\n\t\t\t\tpending.push( promise );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\treturn Promise.all( pending );\r\n\r\n\t\t}() ).then( function ( objects ) {\r\n\r\n\t\t\tvar node;\r\n\r\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\r\n\t\t\tif ( nodeDef.isBone === true ) {\r\n\r\n\t\t\t\tnode = new Bone();\r\n\r\n\t\t\t} else if ( objects.length > 1 ) {\r\n\r\n\t\t\t\tnode = new Group();\r\n\r\n\t\t\t} else if ( objects.length === 1 ) {\r\n\r\n\t\t\t\tnode = objects[ 0 ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnode = new Object3D();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node !== objects[ 0 ] ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tnode.add( objects[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.name ) {\r\n\r\n\t\t\t\tnode.userData.name = nodeDef.name;\r\n\t\t\t\tnode.name = nodeName;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tassignExtrasToUserData( node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.matrix !== undefined ) {\r\n\r\n\t\t\t\tvar matrix = new Matrix4();\r\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\r\n\t\t\t\tnode.applyMatrix4( matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\r\n\r\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\r\n\r\n\t\t\treturn node;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\r\n\t * @param {number} sceneIndex\r\n\t * @return {Promise<Group>}\r\n\t */\r\n\tGLTFParser.prototype.loadScene = function () {\r\n\r\n\t\t// scene node hierachy builder\r\n\r\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\r\n\r\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\r\n\r\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\r\n\r\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\r\n\r\n\t\t\t\t// build skeleton here as well\r\n\r\n\t\t\t\tvar skinEntry;\r\n\r\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\r\n\r\n\t\t\t\t\tskinEntry = skin;\r\n\r\n\t\t\t\t\tvar pendingJoints = [];\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Promise.all( pendingJoints );\r\n\r\n\t\t\t\t} ).then( function ( jointNodes ) {\r\n\r\n\t\t\t\t\tnode.traverse( function ( mesh ) {\r\n\r\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\r\n\r\n\t\t\t\t\t\tvar bones = [];\r\n\t\t\t\t\t\tvar boneInverses = [];\r\n\r\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\r\n\r\n\t\t\t\t\t\t\tif ( jointNode ) {\r\n\r\n\t\t\t\t\t\t\t\tbones.push( jointNode );\r\n\r\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\r\n\r\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\r\n\r\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t} ).then( function ( node ) {\r\n\r\n\t\t\t\t// build node hierachy\r\n\r\n\t\t\t\tparentObject.add( node );\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( nodeDef.children ) {\r\n\r\n\t\t\t\t\tvar children = nodeDef.children;\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar child = children[ i ];\r\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn function loadScene( sceneIndex ) {\r\n\r\n\t\t\tvar json = this.json;\r\n\t\t\tvar extensions = this.extensions;\r\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\r\n\t\t\tvar parser = this;\r\n\r\n\t\t\t// Loader returns Group, not Scene.\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\r\n\t\t\tvar scene = new Group();\r\n\t\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\r\n\r\n\t\t\tassignExtrasToUserData( scene, sceneDef );\r\n\r\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\r\n\r\n\t\t\tvar nodeIds = sceneDef.nodes || [];\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\t\treturn scene;\r\n\r\n\t\t\t} );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\treturn GLTFLoader;\r\n\r\n} )();\r\n\r\nexport { GLTFLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/GLTFLoader.js","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = ujcs\n// module chunks = 0","/**\r\n * Unpack RGBA depth shader\r\n * - show RGBA encoded depth as monochrome color\r\n */\r\n\r\nvar UnpackDepthRGBAShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"opacity\": { value: 1.0 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float opacity;\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"#include <packing>\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tfloat depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );\",\r\n\t\t\"\tgl_FragColor = vec4( vec3( depth ), opacity );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { UnpackDepthRGBAShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/UnpackDepthRGBAShader.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = sOR5\n// module chunks = 0","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { TextureCubeUVNode } from './TextureCubeUVNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\n\r\nfunction TextureCubeNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n\tthis.radianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tuv || new ReflectNode( ReflectNode.VECTOR ),\r\n\t\t// bias should be replaced in builder.context in build process\r\n\t\tbias\r\n\t);\r\n\r\n\tthis.irradianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tnew NormalNode( NormalNode.WORLD ),\r\n\t\tnew FloatNode( 1 ).setReadonly( true )\r\n\t);\r\n\r\n}\r\n\r\nTextureCubeNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeNode.prototype.constructor = TextureCubeNode;\r\nTextureCubeNode.prototype.nodeType = \"TextureCube\";\r\n\r\nTextureCubeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tbuilder.require( 'irradiance' );\r\n\r\n\t\tif ( builder.context.bias ) {\r\n\r\n\t\t\tbuilder.context.bias.setTexture( this.value );\r\n\r\n\t\t}\r\n\r\n\t\tvar scopeNode = builder.slot === 'irradiance' ? this.irradianceNode : this.radianceNode;\r\n\r\n\t\treturn scopeNode.build( builder, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeNode.js","/*!\r\n\r\nJSZip - A Javascript class for generating and reading zip files\r\n<http://stuartk.com/jszip>\r\n\r\n(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>\r\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\r\n\r\nJSZip uses the library pako released under the MIT license :\r\nhttps://github.com/nodeca/pako/blob/master/LICENSE\r\n*/\r\n!function(a){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=a();else if(\"function\"==typeof define&&define.amd)define([],a);else{var b;b=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\"function\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\"Cannot find module '\"+g+\"'\");throw j.code=\"MODULE_NOT_FOUND\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\"function\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){\"use strict\";function d(a){if(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0;for(var b=0;b<this.data.length;b++)a[b]=255&a[b]}}var e=a(\"./dataReader\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data[this.zero+a]},d.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f-this.zero;return-1},d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6}],2:[function(a,b,c){\"use strict\";var d=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";c.encode=function(a,b){for(var c,e,f,g,h,i,j,k=\"\",l=0;l<a.length;)c=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k=k+d.charAt(g)+d.charAt(h)+d.charAt(i)+d.charAt(j);return k},c.decode=function(a,b){var c,e,f,g,h,i,j,k=\"\",l=0;for(a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");l<a.length;)g=d.indexOf(a.charAt(l++)),h=d.indexOf(a.charAt(l++)),i=d.indexOf(a.charAt(l++)),j=d.indexOf(a.charAt(l++)),c=g<<2|h>>4,e=(15&h)<<4|i>>2,f=(3&i)<<6|j,k+=String.fromCharCode(c),64!=i&&(k+=String.fromCharCode(e)),64!=j&&(k+=String.fromCharCode(f));return k}},{}],3:[function(a,b,c){\"use strict\";function d(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}d.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},b.exports=d},{}],4:[function(a,b,c){\"use strict\";c.STORE={magic:\"\\x00\\x00\",compress:function(a,b){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null},c.DEFLATE=a(\"./flate\")},{\"./flate\":9}],5:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(a,b){if(\"undefined\"==typeof a||!a.length)return 0;var c=\"string\"!==d.getTypeOf(a);\"undefined\"==typeof b&&(b=0);var f=0,g=0,h=0;b=-1^b;for(var i=0,j=a.length;j>i;i++)h=c?a[i]:a.charCodeAt(i),g=255&(b^h),f=e[g],b=b>>>8^f;return-1^b}},{\"./utils\":22}],6:[function(a,b,c){\"use strict\";function d(a){this.data=null,this.length=0,this.index=0,this.zero=0}var e=a(\"./utils\");d.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||0>a)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+a+\"). Corrupted zip ?\")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return e.transformTo(\"string\",this.readData(a))},readData:function(a){},lastIndexOfSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1)}},b.exports=d},{\"./utils\":22}],7:[function(a,b,c){\"use strict\";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!1,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],8:[function(a,b,c){\"use strict\";var d=a(\"./utils\");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo(\"uint8array\",a)},c.uint8Array2String=function(a){return d.transformTo(\"string\",a)},c.string2Blob=function(a){var b=d.transformTo(\"arraybuffer\",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{\"./utils\":22}],9:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,e=a(\"pako\");c.uncompressInputType=d?\"uint8array\":\"array\",c.compressInputType=d?\"uint8array\":\"array\",c.magic=\"\\b\\x00\",c.compress=function(a,b){return e.deflateRaw(a,{level:b.level||-1})},c.uncompress=function(a){return e.inflateRaw(a)}},{pako:25}],10:[function(a,b,c){\"use strict\";function d(a,b){return this instanceof d?(this.files={},this.comment=null,this.root=\"\",a&&this.load(a,b),void(this.clone=function(){var a=new d;for(var b in this)\"function\"!=typeof this[b]&&(a[b]=this[b]);return a})):new d(a,b)}var e=a(\"./base64\");d.prototype=a(\"./object\"),d.prototype.load=a(\"./load\"),d.support=a(\"./support\"),d.defaults=a(\"./defaults\"),d.utils=a(\"./deprecatedPublicUtils\"),d.base64={encode:function(a){return e.encode(a)},decode:function(a){return e.decode(a)}},d.compressions=a(\"./compressions\"),b.exports=d},{\"./base64\":2,\"./compressions\":4,\"./defaults\":7,\"./deprecatedPublicUtils\":8,\"./load\":11,\"./object\":14,\"./support\":18}],11:[function(a,b,c){\"use strict\";var d=a(\"./base64\"),e=a(\"./utf8\"),f=a(\"./utils\"),g=a(\"./zipEntries\");b.exports=function(a,b){var c,h,i,j;for(b=f.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),b.base64&&(a=d.decode(a)),h=new g(a,b),c=h.files,i=0;i<c.length;i++)j=c[i],this.file(j.fileNameStr,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:b.createFolders});return h.zipComment.length&&(this.comment=h.zipComment),this}},{\"./base64\":2,\"./utf8\":21,\"./utils\":22,\"./zipEntries\":23}],12:[function(a,b,c){(function(a){\"use strict\";b.exports=function(b,c){return new a(b,c)},b.exports.test=function(b){return a.isBuffer(b)}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],13:[function(a,b,c){\"use strict\";function d(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./uint8ArrayReader\");d.prototype=new e,d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./uint8ArrayReader\":19}],14:[function(a,b,c){\"use strict\";var d=a(\"./support\"),e=a(\"./utils\"),f=a(\"./crc32\"),g=a(\"./signature\"),h=a(\"./defaults\"),i=a(\"./base64\"),j=a(\"./compressions\"),k=a(\"./compressedObject\"),l=a(\"./nodeBuffer\"),m=a(\"./utf8\"),n=a(\"./stringWriter\"),o=a(\"./uint8ArrayWriter\"),p=function(a){if(a._data instanceof k&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,\"uint8array\"===e.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},q=function(a){var b=p(a),c=e.getTypeOf(b);return\"string\"===c?!a.options.binary&&d.nodebuffer?l(b,\"utf-8\"):a.asBinary():b},r=function(a){var b=p(this);return null===b||\"undefined\"==typeof b?\"\":(this.options.base64&&(b=i.decode(b)),b=a&&this.options.binary?D.utf8decode(b):e.transformTo(\"string\",b),a||this.options.binary||(b=e.transformTo(\"string\",D.utf8encode(b))),b)},s=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this.options=c,this._initialMetadata={dir:c.dir,date:c.date}};s.prototype={asText:function(){return r.call(this,!0)},asBinary:function(){return r.call(this,!1)},asNodeBuffer:function(){var a=q(this);return e.transformTo(\"nodebuffer\",a)},asUint8Array:function(){var a=q(this);return e.transformTo(\"uint8array\",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var t=function(a,b){var c,d=\"\";for(c=0;b>c;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},u=function(a){return a=a||{},a.base64!==!0||null!==a.binary&&void 0!==a.binary||(a.binary=!0),a=e.extend(a,h),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},v=function(a,b,c){var d,f=e.getTypeOf(b);if(c=u(c),\"string\"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(a=x(a)),c.createFolders&&(d=w(a))&&y.call(this,d,!0),c.dir||null===b||\"undefined\"==typeof b)c.base64=!1,c.binary=!1,b=null,f=null;else if(\"string\"===f)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=e.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(f||b instanceof k))throw new Error(\"The data of '\"+a+\"' is in an unsupported format !\");\"arraybuffer\"===f&&(b=e.transformTo(\"uint8array\",b))}var g=new s(a,b,c);return this.files[a]=g,g},w=function(a){\"/\"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf(\"/\");return b>0?a.substring(0,b):\"\"},x=function(a){return\"/\"!=a.slice(-1)&&(a+=\"/\"),a},y=function(a,b){return b=\"undefined\"!=typeof b?b:!1,a=x(a),this.files[a]||v.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},z=function(a,b,c){var d,g=new k;return a._data instanceof k?(g.uncompressedSize=a._data.uncompressedSize,g.crc32=a._data.crc32,0===g.uncompressedSize||a.dir?(b=j.STORE,g.compressedContent=\"\",g.crc32=0):a._data.compressionMethod===b.magic?g.compressedContent=a._data.getCompressedContent():(d=a._data.getContent(),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c))):(d=q(a),d&&0!==d.length&&!a.dir||(b=j.STORE,d=\"\"),g.uncompressedSize=d.length,g.crc32=f(d),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c)),g.compressedSize=g.compressedContent.length,g.compressionMethod=b.magic,g},A=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},B=function(a,b){return 63&(a||0)},C=function(a,b,c,d,h,i){var j,k,l,n,o=(c.compressedContent,i!==m.utf8encode),p=e.transformTo(\"string\",i(b.name)),q=e.transformTo(\"string\",m.utf8encode(b.name)),r=b.comment||\"\",s=e.transformTo(\"string\",i(r)),u=e.transformTo(\"string\",m.utf8encode(r)),v=q.length!==b.name.length,w=u.length!==r.length,x=b.options,y=\"\",z=\"\",C=\"\";l=b._initialMetadata.dir!==b.dir?b.dir:x.dir,n=b._initialMetadata.date!==b.date?b.date:x.date;var D=0,E=0;l&&(D|=16),\"UNIX\"===h?(E=798,D|=A(b.unixPermissions,l)):(E=20,D|=B(b.dosPermissions,l)),j=n.getHours(),j<<=6,j|=n.getMinutes(),j<<=5,j|=n.getSeconds()/2,k=n.getFullYear()-1980,k<<=4,k|=n.getMonth()+1,k<<=5,k|=n.getDate(),v&&(z=t(1,1)+t(f(p),4)+q,y+=\"up\"+t(z.length,2)+z),w&&(C=t(1,1)+t(this.crc32(s),4)+u,y+=\"uc\"+t(C.length,2)+C);var F=\"\";F+=\"\\n\\x00\",F+=o||!v&&!w?\"\\x00\\x00\":\"\\x00\\b\",F+=c.compressionMethod,F+=t(j,2),F+=t(k,2),F+=t(c.crc32,4),F+=t(c.compressedSize,4),F+=t(c.uncompressedSize,4),F+=t(p.length,2),F+=t(y.length,2);var G=g.LOCAL_FILE_HEADER+F+p+y,H=g.CENTRAL_FILE_HEADER+t(E,2)+F+t(s.length,2)+\"\\x00\\x00\\x00\\x00\"+t(D,4)+t(d,4)+p+y+s;return{fileRecord:G,dirRecord:H,compressedObject:c}},D={load:function(a,b){throw new Error(\"Load method is not defined. Is the file jszip-load.js included ?\")},filter:function(a){var b,c,d,f,g=[];for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],f=new s(d.name,d._data,e.extend(d.options)),c=b.slice(this.root.length,b.length),b.slice(0,this.root.length)===this.root&&a(c,f)&&g.push(f));return g},file:function(a,b,c){if(1===arguments.length){if(e.isRegExp(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,v.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(e.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=y.call(this,b),d=this.clone();return d.root=c.name,d},remove:function(a){a=this.root+a;var b=this.files[a];if(b||(\"/\"!=a.slice(-1)&&(a+=\"/\"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){a=e.extend(a||{},{base64:!0,compression:\"STORE\",compressionOptions:null,type:\"base64\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:m.utf8encode}),e.checkSupport(a.type),\"darwin\"!==a.platform&&\"freebsd\"!==a.platform&&\"linux\"!==a.platform&&\"sunos\"!==a.platform||(a.platform=\"UNIX\"),\"win32\"===a.platform&&(a.platform=\"DOS\");var b,c,d=[],f=0,h=0,k=e.transformTo(\"string\",a.encodeFileName(a.comment||this.comment||\"\"));for(var l in this.files)if(this.files.hasOwnProperty(l)){var p=this.files[l],q=p.options.compression||a.compression.toUpperCase(),r=j[q];if(!r)throw new Error(q+\" is not a valid compression method !\");var s=p.options.compressionOptions||a.compressionOptions||{},u=z.call(this,p,r,s),v=C.call(this,l,p,u,f,a.platform,a.encodeFileName);f+=v.fileRecord.length+u.compressedSize,h+=v.dirRecord.length,d.push(v)}var w=\"\";w=g.CENTRAL_DIRECTORY_END+\"\\x00\\x00\\x00\\x00\"+t(d.length,2)+t(d.length,2)+t(h,4)+t(f,4)+t(k.length,2)+k;var x=a.type.toLowerCase();for(b=\"uint8array\"===x||\"arraybuffer\"===x||\"blob\"===x||\"nodebuffer\"===x?new o(f+h+w.length):new n(f+h+w.length),c=0;c<d.length;c++)b.append(d[c].fileRecord),b.append(d[c].compressedObject.compressedContent);for(c=0;c<d.length;c++)b.append(d[c].dirRecord);b.append(w);var y=b.finalize();switch(a.type.toLowerCase()){case\"uint8array\":case\"arraybuffer\":case\"nodebuffer\":return e.transformTo(a.type.toLowerCase(),y);case\"blob\":return e.arrayBuffer2Blob(e.transformTo(\"arraybuffer\",y),a.mimeType);case\"base64\":return a.base64?i.encode(y):y;default:return y}},crc32:function(a,b){return f(a,b)},utf8encode:function(a){return e.transformTo(\"string\",m.utf8encode(a))},utf8decode:function(a){return m.utf8decode(a)}};b.exports=D},{\"./base64\":2,\"./compressedObject\":3,\"./compressions\":4,\"./crc32\":5,\"./defaults\":7,\"./nodeBuffer\":12,\"./signature\":15,\"./stringWriter\":17,\"./support\":18,\"./uint8ArrayWriter\":20,\"./utf8\":21,\"./utils\":22}],15:[function(a,b,c){\"use strict\";c.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",c.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",c.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",c.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",c.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],16:[function(a,b,c){\"use strict\";function d(a,b){this.data=a,b||(this.data=f.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./dataReader\"),f=a(\"./utils\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},d.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6,\"./utils\":22}],17:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(){this.data=[]};e.prototype={append:function(a){a=d.transformTo(\"string\",a),this.data.push(a)},finalize:function(){return this.data.join(\"\")}},b.exports=e},{\"./utils\":22}],18:[function(a,b,c){(function(a){\"use strict\";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,c.nodebuffer=\"undefined\"!=typeof a,c.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)c.blob=!1;else{var b=new ArrayBuffer(0);try{c.blob=0===new Blob([b],{type:\"application/zip\"}).size}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(b),c.blob=0===f.getBlob(\"application/zip\").size}catch(d){c.blob=!1}}}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],19:[function(a,b,c){\"use strict\";function d(a){a&&(this.data=a,this.length=this.data.length,this.index=0,this.zero=0)}var e=a(\"./arrayReader\");d.prototype=new e,d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./arrayReader\":1}],20:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(a){this.data=new Uint8Array(a),this.index=0};e.prototype={append:function(a){0!==a.length&&(a=d.transformTo(\"uint8array\",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},b.exports=e},{\"./utils\":22}],21:[function(a,b,c){\"use strict\";for(var d=a(\"./utils\"),e=a(\"./support\"),f=a(\"./nodeBuffer\"),g=new Array(256),h=0;256>h;h++)g[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;g[254]=g[254]=1;var i=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=e.uint8array?new Uint8Array(i):new Array(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},j=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+g[a[c]]>b?c:b},k=function(a){var b,c,e,f,h=a.length,i=new Array(2*h);for(c=0,b=0;h>b;)if(e=a[b++],128>e)i[c++]=e;else if(f=g[e],f>4)i[c++]=65533,b+=f-1;else{for(e&=2===f?31:3===f?15:7;f>1&&h>b;)e=e<<6|63&a[b++],f--;f>1?i[c++]=65533:65536>e?i[c++]=e:(e-=65536,i[c++]=55296|e>>10&1023,i[c++]=56320|1023&e)}return i.length!==c&&(i.subarray?i=i.subarray(0,c):i.length=c),d.applyFromCharCode(i)};c.utf8encode=function(a){return e.nodebuffer?f(a,\"utf-8\"):i(a)},c.utf8decode=function(a){if(e.nodebuffer)return d.transformTo(\"nodebuffer\",a).toString(\"utf-8\");a=d.transformTo(e.uint8array?\"uint8array\":\"array\",a);for(var b=[],c=0,f=a.length,g=65536;f>c;){var h=j(a,Math.min(c+g,f));e.uint8array?b.push(k(a.subarray(c,h))):b.push(k(a.slice(c,h))),c=h}return b.join(\"\")}},{\"./nodeBuffer\":12,\"./support\":18,\"./utils\":22}],22:[function(a,b,c){\"use strict\";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=[],e=a.length,f=c.getTypeOf(a),g=0,h=!0;try{switch(f){case\"uint8array\":String.fromCharCode.apply(null,new Uint8Array(0));break;case\"nodebuffer\":String.fromCharCode.apply(null,j(0))}}catch(i){h=!1}if(!h){for(var k=\"\",l=0;l<a.length;l++)k+=String.fromCharCode(a[l]);return k}for(;e>g&&b>1;)try{\"array\"===f||\"nodebuffer\"===f?d.push(String.fromCharCode.apply(null,a.slice(g,Math.min(g+b,e)))):d.push(String.fromCharCode.apply(null,a.subarray(g,Math.min(g+b,e)))),g+=b}catch(i){b=Math.floor(b/2)}return d.join(\"\")}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a(\"./support\"),i=a(\"./compressions\"),j=a(\"./nodeBuffer\");c.string2binary=function(a){for(var b=\"\",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},c.arrayBuffer2Blob=function(a,b){c.checkSupport(\"blob\"),b=b||\"application/zip\";try{return new Blob([a],{type:b})}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;return f.append(a),f.getBlob(b)}catch(d){throw new Error(\"Bug : can't construct the Blob.\")}}},c.applyFromCharCode=f;var k={};k.string={string:d,array:function(a){return e(a,new Array(a.length))},arraybuffer:function(a){return k.string.uint8array(a).buffer},uint8array:function(a){return e(a,new Uint8Array(a.length))},nodebuffer:function(a){return e(a,j(a.length))}},k.array={string:f,array:d,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(a)}},k.arraybuffer={string:function(a){return f(new Uint8Array(a))},array:function(a){return g(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:d,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(new Uint8Array(a))}},k.uint8array={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:d,nodebuffer:function(a){return j(a)}},k.nodebuffer={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return k.nodebuffer.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:d},c.transformTo=function(a,b){if(b||(b=\"\"),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=k[d][a](b);return e},c.getTypeOf=function(a){return\"string\"==typeof a?\"string\":\"[object Array]\"===Object.prototype.toString.call(a)?\"array\":h.nodebuffer&&j.test(a)?\"nodebuffer\":h.uint8array&&a instanceof Uint8Array?\"uint8array\":h.arraybuffer&&a instanceof ArrayBuffer?\"arraybuffer\":void 0},c.checkSupport=function(a){var b=h[a.toLowerCase()];if(!b)throw new Error(a+\" is not supported by this browser\")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d=\"\";for(c=0;c<(a||\"\").length;c++)b=a.charCodeAt(c),d+=\"\\\\x\"+(16>b?\"0\":\"\")+b.toString(16).toUpperCase();return d},c.findCompression=function(a){for(var b in i)if(i.hasOwnProperty(b)&&i[b].magic===a)return i[b];return null},c.isRegExp=function(a){return\"[object RegExp]\"===Object.prototype.toString.call(a)},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&\"undefined\"==typeof c[b]&&(c[b]=arguments[a][b]);return c}},{\"./compressions\":4,\"./nodeBuffer\":12,\"./support\":18}],23:[function(a,b,c){\"use strict\";function d(a,b){this.files=[],this.loadOptions=b,a&&this.load(a)}var e=a(\"./stringReader\"),f=a(\"./nodeBufferReader\"),g=a(\"./uint8ArrayReader\"),h=a(\"./arrayReader\"),i=a(\"./utils\"),j=a(\"./signature\"),k=a(\"./zipEntry\"),l=a(\"./support\");a(\"./object\");d.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw new Error(\"Corrupted zip or bug : unexpected signature (\"+i.pretty(b)+\", expected \"+i.pretty(a)+\")\")},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4),e=d===b;return this.reader.setIndex(c),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=l.uint8array?\"uint8array\":\"array\",c=i.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44,e=0;d>e;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readString(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(j.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===j.CENTRAL_FILE_HEADER;)a=new k({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(j.CENTRAL_DIRECTORY_END);if(0>a){var b=!this.isSignature(0,j.LOCAL_FILE_HEADER);throw b?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip : can't find end of central directory\")}this.reader.setIndex(a);var c=a;if(this.checkSignature(j.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>a)throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(a),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,j.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var e=c-d;if(e>0)this.isSignature(c,j.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(0>e)throw new Error(\"Corrupted zip: missing \"+Math.abs(e)+\" bytes.\")},prepareReader:function(a){var b=i.getTypeOf(a);if(i.checkSupport(b),\"string\"!==b||l.uint8array)if(\"nodebuffer\"===b)this.reader=new f(a);else if(l.uint8array)this.reader=new g(i.transformTo(\"uint8array\",a));else{if(!l.array)throw new Error(\"Unexpected error: unsupported type '\"+b+\"'\");this.reader=new h(i.transformTo(\"array\",a))}else this.reader=new e(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=d},{\"./arrayReader\":1,\"./nodeBufferReader\":13,\"./object\":14,\"./signature\":15,\"./stringReader\":16,\"./support\":18,\"./uint8ArrayReader\":19,\"./utils\":22,\"./zipEntry\":24}],24:[function(a,b,c){\"use strict\";function d(a,b){this.options=a,this.loadOptions=b}var e=a(\"./stringReader\"),f=a(\"./utils\"),g=a(\"./compressedObject\"),h=a(\"./object\"),i=a(\"./support\"),j=0,k=3;d.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var e=a.readData(c);return a.setIndex(d),e}},prepareContent:function(a,b,c,d,e){return function(){var a=f.transformTo(d.uncompressInputType,this.getCompressedContent()),b=d.uncompress(a);if(b.length!==e)throw new Error(\"Bug : uncompressed data size mismatch\");return b}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)\");if(b=f.findCompression(this.compressionMethod),null===b)throw new Error(\"Corrupted zip : compression \"+f.pretty(this.compressionMethod)+\" unknown (inner file : \"+f.transformTo(\"string\",this.fileName)+\")\");if(this.decompressed=new g,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=f.transformTo(\"string\",this.decompressed.getContent()),\r\nh.crc32(this.decompressed)!==this.crc32))throw new Error(\"Corrupted zip : CRC32 mismatch\")},readCentralPart:function(a){if(this.versionMadeBy=a.readInt(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");this.fileName=a.readData(this.fileNameLength),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a===j&&(this.dosPermissions=63&this.externalFileAttributes),a===k&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var b=new e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index;for(this.extraFields=this.extraFields||{};a.index<e+this.extraFieldsLength;)b=a.readInt(2),c=a.readInt(2),d=a.readString(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){var a=i.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=f.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var e=f.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(e)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null}},b.exports=d},{\"./compressedObject\":3,\"./object\":14,\"./stringReader\":16,\"./support\":18,\"./utils\":22}],25:[function(a,b,c){\"use strict\";var d=a(\"./lib/utils/common\").assign,e=a(\"./lib/deflate\"),f=a(\"./lib/inflate\"),g=a(\"./lib/zlib/constants\"),h={};d(h,e,f,g),b.exports=h},{\"./lib/deflate\":26,\"./lib/inflate\":27,\"./lib/utils/common\":28,\"./lib/zlib/constants\":31}],26:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=i.assign({level:s,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=h.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==p)throw new Error(k[c]);b.header&&h.deflateSetHeader(this.strm,b.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}function g(a,b){return b=b||{},b.gzip=!0,e(a,b)}var h=a(\"./zlib/deflate\"),i=a(\"./utils/common\"),j=a(\"./utils/strings\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=Object.prototype.toString,n=0,o=4,p=0,q=1,r=2,s=-1,t=0,u=8;d.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?o:n,\"string\"==typeof a?e.input=j.string2buf(a):\"[object ArrayBuffer]\"===m.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new i.Buf8(f),e.next_out=0,e.avail_out=f),c=h.deflate(e,d),c!==q&&c!==p)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||d!==o&&d!==r)||(\"string\"===this.options.to?this.onData(j.buf2binstring(i.shrinkBuf(e.output,e.next_out))):this.onData(i.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&c!==q);return d===o?(c=h.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===p):d===r?(this.onEnd(p),e.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===p&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=d,c.deflate=e,c.deflateRaw=f,c.gzip=g},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/deflate\":33,\"./zlib/messages\":38,\"./zlib/zstream\":40}],27:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=g.inflateInit2(this.strm,b.windowBits);if(c!==j.Z_OK)throw new Error(k[c]);this.header=new m,g.inflateGetHeader(this.strm,this.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}var g=a(\"./zlib/inflate\"),h=a(\"./utils/common\"),i=a(\"./utils/strings\"),j=a(\"./zlib/constants\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=a(\"./zlib/gzheader\"),n=Object.prototype.toString;d.prototype.push=function(a,b){var c,d,e,f,k,l=this.strm,m=this.options.chunkSize,o=!1;if(this.ended)return!1;d=b===~~b?b:b===!0?j.Z_FINISH:j.Z_NO_FLUSH,\"string\"==typeof a?l.input=i.binstring2buf(a):\"[object ArrayBuffer]\"===n.call(a)?l.input=new Uint8Array(a):l.input=a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new h.Buf8(m),l.next_out=0,l.avail_out=m),c=g.inflate(l,j.Z_NO_FLUSH),c===j.Z_BUF_ERROR&&o===!0&&(c=j.Z_OK,o=!1),c!==j.Z_STREAM_END&&c!==j.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&c!==j.Z_STREAM_END&&(0!==l.avail_in||d!==j.Z_FINISH&&d!==j.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(e=i.utf8border(l.output,l.next_out),f=l.next_out-e,k=i.buf2string(l.output,e),l.next_out=f,l.avail_out=m-f,f&&h.arraySet(l.output,l.output,e,f,0),this.onData(k)):this.onData(h.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(o=!0)}while((l.avail_in>0||0===l.avail_out)&&c!==j.Z_STREAM_END);return c===j.Z_STREAM_END&&(d=j.Z_FINISH),d===j.Z_FINISH?(c=g.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===j.Z_OK):d===j.Z_SYNC_FLUSH?(this.onEnd(j.Z_OK),l.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===j.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=d,c.inflate=e,c.inflateRaw=f,c.ungzip=e},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/constants\":31,\"./zlib/gzheader\":34,\"./zlib/inflate\":36,\"./zlib/messages\":38,\"./zlib/zstream\":40}],28:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if(\"object\"!=typeof c)throw new TypeError(c+\"must be non-object\");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],29:[function(a,b,c){\"use strict\";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c=\"\",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a(\"./common\"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{\"./common\":28}],30:[function(a,b,c){\"use strict\";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],31:[function(a,b,c){\"use strict\";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(a,b,c){\"use strict\";function d(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a^=-1;for(var h=d;g>h;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}var f=d();b.exports=e},{}],33:[function(a,b,c){\"use strict\";function d(a,b){return a.msg=H[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(D.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){E._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,D.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=F(a.adler,b,e,c):2===a.state.wrap&&(a.adler=G(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ka?a.strstart-(a.w_size-ka):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ja,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ja-(m-f),f=m-ja,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ka)){D.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ia)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ia-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ia)););}while(a.lookahead<ka&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===I)return ta;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return ta;if(a.strstart-a.block_start>=a.w_size-ka&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?ta:ta}function o(a,b){for(var c,d;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c)),a.match_length>=ia)if(d=E._tr_tally(a,a.strstart-a.match_start,a.match_length-ia),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ia){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function p(a,b){for(var c,d,e;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ia-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===T||a.match_length===ia&&a.strstart-a.match_start>4096)&&(a.match_length=ia-1)),a.prev_length>=ia&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ia,d=E._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ia),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=ia-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return ta}else if(a.match_available){if(d=E._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return ta}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=E._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ja){if(m(a),a.lookahead<=ja&&b===I)return ta;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ia&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ja;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ja-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ia?(c=E._tr_tally(a,1,a.match_length-ia),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===I)return ta;break}if(a.match_length=0,c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=C[a.level].max_lazy,a.good_match=C[a.level].good_length,a.nice_match=C[a.level].nice_length,a.max_chain_length=C[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ia-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*ga),this.dyn_dtree=new D.Buf16(2*(2*ea+1)),this.bl_tree=new D.Buf16(2*(2*fa+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(ha+1),this.heap=new D.Buf16(2*da+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*da+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Y,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?ma:ra,a.adler=2===b.wrap?0:1,b.last_flush=I,E._tr_init(b),N):d(a,P)}function w(a){var b=v(a);return b===N&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?P:(a.state.gzhead=b,N):P}function y(a,b,c,e,f,g){if(!a)return P;var h=1;if(b===S&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>$||c!==Z||8>e||e>15||0>b||b>9||0>g||g>W)return d(a,P);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ia-1)/ia),i.window=new D.Buf8(2*i.w_size),i.head=new D.Buf16(i.hash_size),i.prev=new D.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new D.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,Z,_,aa,X)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>M||0>b)return a?d(a,P):P;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===sa&&b!==L)return d(a,0===a.avail_out?R:P);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===ma)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=G(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=na):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,xa),h.status=ra);else{var m=Z+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=U||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=la),m+=31-m%31,h.status=ra,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===na)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=pa)}else h.status=pa;if(h.status===pa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=qa)}else h.status=qa;if(h.status===qa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=ra)):h.status=ra),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,N}else if(0===a.avail_in&&e(b)<=e(c)&&b!==L)return d(a,R);if(h.status===sa&&0!==a.avail_in)return d(a,R);if(0!==a.avail_in||0!==h.lookahead||b!==I&&h.status!==sa){var o=h.strategy===U?r(h,b):h.strategy===V?q(h,b):C[h.level].func(h,b);if(o!==va&&o!==wa||(h.status=sa),o===ta||o===va)return 0===a.avail_out&&(h.last_flush=-1),N;if(o===ua&&(b===J?E._tr_align(h):b!==M&&(E._tr_stored_block(h,0,0,!1),b===K&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,N}return b!==L?N:h.wrap<=0?O:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?N:O)}function B(a){var b;return a&&a.state?(b=a.state.status,b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra&&b!==sa?d(a,P):(a.state=null,b===ra?d(a,Q):N)):P}var C,D=a(\"../utils/common\"),E=a(\"./trees\"),F=a(\"./adler32\"),G=a(\"./crc32\"),H=a(\"./messages\"),I=0,J=1,K=3,L=4,M=5,N=0,O=1,P=-2,Q=-3,R=-5,S=-1,T=1,U=2,V=3,W=4,X=0,Y=2,Z=8,$=9,_=15,aa=8,ba=29,ca=256,da=ca+1+ba,ea=30,fa=19,ga=2*da+1,ha=15,ia=3,ja=258,ka=ja+ia+1,la=32,ma=42,na=69,oa=73,pa=91,qa=103,ra=113,sa=666,ta=1,ua=2,va=3,wa=4,xa=3;C=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],c.deflateInit=z,c.deflateInit2=y,c.deflateReset=w,c.deflateResetKeep=v,c.deflateSetHeader=x,c.deflate=A,c.deflateEnd=B,c.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./messages\":38,\"./trees\":39}],34:[function(a,b,c){\"use strict\";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}b.exports=d},{}],35:[function(a,b,c){\"use strict\";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg=\"invalid literal/length code\",c.mode=d;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg=\"invalid distance code\",c.mode=d;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],36:[function(a,b,c){\"use strict\";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg=\"\",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(oa),b.distcode=b.distdyn=new r.Buf32(pa),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sa=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new r.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg=\"incorrect header check\",c.mode=la;break}if((15&m)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(m>>>=4,n-=4,wa=(15&m)+8,0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg=\"invalid window size\",c.mode=la;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(57344&c.flags){a.msg=\"unknown header flags set\",c.mode=la;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=t(c.check,Ba,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){\r\nif(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg=\"header crc mismatch\",c.mode=la;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ia;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=ba,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg=\"invalid block type\",c.mode=la}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg=\"invalid stored block lengths\",c.mode=la;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg=\"too many length or distance symbols\",c.mode=la;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=v(w,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid code lengths set\",c.mode=la;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sa)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg=\"invalid bit length repeat\",c.mode=la;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg=\"invalid bit length repeat\",c.mode=la;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===la)break;if(0===c.lens[256]){a.msg=\"invalid code -- missing end-of-block\",c.mode=la;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid literal/lengths set\",c.mode=la;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg=\"invalid distances set\",c.mode=la;break}if(c.mode=ba,b===B)break a;case ba:c.mode=ca;case ca:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ha;break}if(32&ra){c.back=-1,c.mode=V;break}if(64&ra){a.msg=\"invalid literal/length code\",c.mode=la;break}c.extra=15&ra,c.mode=da;case da:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=ea;case ea:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg=\"invalid distance code\",c.mode=la;break}c.offset=sa,c.extra=15&ra,c.mode=fa;case fa:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg=\"invalid distance too far back\",c.mode=la;break}c.mode=ga;case ga:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg=\"invalid distance too far back\",c.mode=la;break}q>c.wnext?(q-=c.wnext,oa=c.wsize-q):oa=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,oa=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pa[oa++];while(--q);0===c.length&&(c.mode=ca);break;case ha:if(0===j)break a;f[h++]=c.length,j--,c.mode=ca;break;case ia:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg=\"incorrect data check\",c.mode=la;break}m=0,n=0}c.mode=ja;case ja:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg=\"incorrect length check\",c.mode=la;break}m=0,n=0}c.mode=ka;case ka:xa=D;break a;case la:xa=G;break a;case ma:return H;case na:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<la&&(c.mode<ia||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=ma,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===ba||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xa===C&&(xa=I),xa)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a(\"../utils/common\"),s=a(\"./adler32\"),t=a(\"./crc32\"),u=a(\"./inffast\"),v=a(\"./inftrees\"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,aa=19,ba=20,ca=21,da=22,ea=23,fa=24,ga=25,ha=26,ia=27,ja=28,ka=29,la=30,ma=31,na=32,oa=852,pa=592,qa=15,ra=qa,sa=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./inffast\":35,\"./inftrees\":37}],37:[function(a,b,c){\"use strict\";var d=a(\"../utils/common\"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;e>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;e>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;e>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{\"../utils/common\":28}],38:[function(a,b,c){\"use strict\";b.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],39:[function(a,b,c){\"use strict\";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return 256>a?ia[a]:ia[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>X-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>X-a.bi_valid,a.bi_valid+=c-X):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;W>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;V>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(W+1),g=0;for(d=1;W>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(W+1);for(c=0,d=0;Q-1>d;d++)for(ka[d]=c,a=0;a<1<<ba[d];a++)ja[c++]=d;for(ja[c-1]=d,f=0,d=0;16>d;d++)for(la[d]=f,a=0;a<1<<ca[d];a++)ia[f++]=d;for(f>>=7;T>d;d++)for(la[d]=f<<7,a=0;a<1<<ca[d]-7;a++)ia[256+f++]=d;for(b=0;W>=b;b++)g[b]=0;for(a=0;143>=a;)ga[2*a+1]=8,a++,g[8]++;for(;255>=a;)ga[2*a+1]=9,a++,g[9]++;for(;279>=a;)ga[2*a+1]=7,a++,g[7]++;for(;287>=a;)ga[2*a+1]=8,a++,g[8]++;for(n(ga,S+1,g),a=0;T>a;a++)ha[2*a+1]=5,ha[2*a]=k(a,5);ma=new e(ga,ba,R+1,S,W),na=new e(ha,ca,0,T,W),oa=new e(new Array(0),da,0,U,Y)}function p(a){var b;for(b=0;S>b;b++)a.dyn_ltree[2*b]=0;for(b=0;T>b;b++)a.dyn_dtree[2*b]=0;for(b=0;U>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*Z]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ja[e],j(a,f+R+1,b),h=ba[f],0!==h&&(e-=ka[f],i(a,e,h)),d--,f=g(d),j(a,f,c),h=ca[f],0!==h&&(d-=la[f],i(a,d,h)));while(k<a.last_lit);j(a,Z,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=V,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*$]++):10>=h?a.bl_tree[2*_]++:a.bl_tree[2*aa]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;c>=d;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(l>h){do j(a,e,a.bl_tree);while(0!==--h)}else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,$,a.bl_tree),i(a,h-3,2)):10>=h?(j(a,_,a.bl_tree),i(a,h-3,3)):(j(a,aa,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=U-1;b>=3&&0===a.bl_tree[2*ea[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;d>e;e++)i(a,a.bl_tree[2*ea[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;R>b;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){pa||(o(),pa=!0),a.l_desc=new f(a.dyn_ltree,ma),a.d_desc=new f(a.dyn_dtree,na),a.bl_desc=new f(a.bl_tree,oa),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,Z,ga),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,ga,ha)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ja[c]+R+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=a(\"../utils/common\"),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=3,P=258,Q=29,R=256,S=R+1+Q,T=30,U=19,V=2*S+1,W=15,X=16,Y=7,Z=256,$=16,_=17,aa=18,ba=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ca=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],da=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ea=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fa=512,ga=new Array(2*(S+2));d(ga);var ha=new Array(2*T);d(ha);var ia=new Array(fa);d(ia);var ja=new Array(P-O+1);d(ja);var ka=new Array(Q);d(ka);var la=new Array(T);d(la);var ma,na,oa,pa=!1;c._tr_init=B,c._tr_stored_block=C,c._tr_flush_block=E,c._tr_tally=F,c._tr_align=D},{\"../utils/common\":28}],40:[function(a,b,c){\"use strict\";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}]},{},[10])(10)});\r\nexport var JSZip = window.JSZip;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/jszip.module.min.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tSpherical,\r\n\tTOUCH,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nvar OrbitControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.05;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.panSpeed = 1.0;\r\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\r\n\r\n\t// Touch fingers\r\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().invert();\r\n\r\n\t\tvar lastPosition = new Vector3();\r\n\t\tvar lastQuaternion = new Quaternion();\r\n\r\n\t\tvar twoPI = 2 * Math.PI;\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\r\n\t\t\tvar min = scope.minAzimuthAngle;\r\n\t\t\tvar max = scope.maxAzimuthAngle;\r\n\r\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\r\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\tif ( min <= max ) {\r\n\r\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\r\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\r\n\t\t\t\t\t\tMath.min( max, spherical.theta );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = {\r\n\t\tNONE: - 1,\r\n\t\tROTATE: 0,\r\n\t\tDOLLY: 1,\r\n\t\tPAN: 2,\r\n\t\tTOUCH_ROTATE: 3,\r\n\t\tTOUCH_PAN: 4,\r\n\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t};\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new Spherical();\r\n\tvar sphericalDelta = new Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new Vector2();\r\n\tvar rotateEnd = new Vector2();\r\n\tvar rotateDelta = new Vector2();\r\n\r\n\tvar panStart = new Vector2();\r\n\tvar panEnd = new Vector2();\r\n\tvar panDelta = new Vector2();\r\n\r\n\tvar dollyStart = new Vector2();\r\n\tvar dollyEnd = new Vector2();\r\n\tvar dollyDelta = new Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\tvar needsUpdate = false;\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\t// Prevent the browser from scrolling.\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Manually set the focus since calling preventDefault above\r\n\t\t// prevents the browser from setting it automatically.\r\n\r\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\r\n\r\n\t\tvar mouseAction;\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase 0:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\tcase MOUSE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.ROTATE:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.PAN:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\tcase TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nvar MapControls = function ( object, domElement ) {\r\n\r\n\tOrbitControls.call( this, object, domElement );\r\n\r\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\r\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n\r\n\tthis.touches.ONE = TOUCH.PAN;\r\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\r\n\r\n};\r\n\r\nMapControls.prototype = Object.create( EventDispatcher.prototype );\r\nMapControls.prototype.constructor = MapControls;\r\n\r\nexport { OrbitControls, MapControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/OrbitControls.js","// http://mrl.nyu.edu/~perlin/noise/\r\n\r\nvar ImprovedNoise = function () {\r\n\r\n\tvar p = [ 151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10,\r\n\t\t 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87,\r\n\t\t 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211,\r\n\t\t 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208,\r\n\t\t 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5,\r\n\t\t 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119,\r\n\t\t 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232,\r\n\t\t 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249,\r\n\t\t 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205,\r\n\t\t 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180 ];\r\n\r\n\tfor ( var i = 0; i < 256; i ++ ) {\r\n\r\n\t\tp[ 256 + i ] = p[ i ];\r\n\r\n\t}\r\n\r\n\tfunction fade( t ) {\r\n\r\n\t\treturn t * t * t * ( t * ( t * 6 - 15 ) + 10 );\r\n\r\n\t}\r\n\r\n\tfunction lerp( t, a, b ) {\r\n\r\n\t\treturn a + t * ( b - a );\r\n\r\n\t}\r\n\r\n\tfunction grad( hash, x, y, z ) {\r\n\r\n\t\tvar h = hash & 15;\r\n\t\tvar u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\r\n\t\treturn ( ( h & 1 ) == 0 ? u : - u ) + ( ( h & 2 ) == 0 ? v : - v );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tnoise: function ( x, y, z ) {\r\n\r\n\t\t\tvar floorX = Math.floor( x ), floorY = Math.floor( y ), floorZ = Math.floor( z );\r\n\r\n\t\t\tvar X = floorX & 255, Y = floorY & 255, Z = floorZ & 255;\r\n\r\n\t\t\tx -= floorX;\r\n\t\t\ty -= floorY;\r\n\t\t\tz -= floorZ;\r\n\r\n\t\t\tvar xMinus1 = x - 1, yMinus1 = y - 1, zMinus1 = z - 1;\r\n\r\n\t\t\tvar u = fade( x ), v = fade( y ), w = fade( z );\r\n\r\n\t\t\tvar A = p[ X ] + Y, AA = p[ A ] + Z, AB = p[ A + 1 ] + Z, B = p[ X + 1 ] + Y, BA = p[ B ] + Z, BB = p[ B + 1 ] + Z;\r\n\r\n\t\t\treturn lerp( w, lerp( v, lerp( u, grad( p[ AA ], x, y, z ),\r\n\t\t\t\tgrad( p[ BA ], xMinus1, y, z ) ),\r\n\t\t\tlerp( u, grad( p[ AB ], x, yMinus1, z ),\r\n\t\t\t\tgrad( p[ BB ], xMinus1, yMinus1, z ) ) ),\r\n\t\t\tlerp( v, lerp( u, grad( p[ AA + 1 ], x, y, zMinus1 ),\r\n\t\t\t\tgrad( p[ BA + 1 ], xMinus1, y, zMinus1 ) ),\r\n\t\t\tlerp( u, grad( p[ AB + 1 ], x, yMinus1, zMinus1 ),\r\n\t\t\t\tgrad( p[ BB + 1 ], xMinus1, yMinus1, zMinus1 ) ) ) );\r\n\r\n\t\t}\r\n\t};\r\n\r\n};\r\n\r\nexport { ImprovedNoise };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/math/ImprovedNoise.js","import { TempNode } from '../core/TempNode.js';\r\nimport { PositionNode } from './PositionNode.js';\r\nimport { NormalNode } from './NormalNode.js';\r\n\r\nfunction ReflectNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || ReflectNode.CUBE;\r\n\r\n}\r\n\r\nReflectNode.CUBE = 'cube';\r\nReflectNode.SPHERE = 'sphere';\r\nReflectNode.VECTOR = 'vector';\r\n\r\nReflectNode.prototype = Object.create( TempNode.prototype );\r\nReflectNode.prototype.constructor = ReflectNode;\r\nReflectNode.prototype.nodeType = \"Reflect\";\r\n\r\nReflectNode.prototype.getUnique = function ( builder ) {\r\n\r\n\treturn ! builder.context.viewNormal;\r\n\r\n};\r\n\r\nReflectNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\treturn 'v2';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nReflectNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar isUnique = this.getUnique( builder );\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar result;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase ReflectNode.VECTOR:\r\n\r\n\t\t\t\tvar viewNormalNode = new NormalNode( NormalNode.VIEW );\r\n\t\t\t\tvar roughnessNode = builder.context.roughness;\r\n\r\n\t\t\t\tvar viewNormal = viewNormalNode.build( builder, 'v3' );\r\n\t\t\t\tvar viewPosition = new PositionNode( PositionNode.VIEW ).build( builder, 'v3' );\r\n\t\t\t\tvar roughness = roughnessNode ? roughnessNode.build( builder, 'f' ) : undefined;\r\n\r\n\t\t\t\tvar method = `reflect( -normalize( ${viewPosition} ), ${viewNormal} )`;\r\n\r\n\t\t\t\tif ( roughness ) {\r\n\r\n\t\t\t\t\t// Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\r\n\t\t\t\t\tmethod = `normalize( mix( ${method}, ${viewNormal}, ${roughness} * ${roughness} ) )`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar code = `inverseTransformDirection( ${method}, viewMatrix )`;\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.CUBE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'vec3( -' + reflectVec + '.x, ' + reflectVec + '.yz )';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectCubeVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectCubeVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'normalize( ( viewMatrix * vec4( ' + reflectVec + ', 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec2 reflectSphereVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectSphereVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ReflectNode.js","import {\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tGroup,\r\n\tLineBasicMaterial,\r\n\tLineSegments,\r\n\tLoader,\r\n\tMaterial,\r\n\tMesh,\r\n\tMeshPhongMaterial,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar OBJLoader = ( function () {\r\n\r\n\t// o object_name | g group_name\r\n\tvar object_pattern = /^[og]\\s*(.+)?/;\r\n\t// mtllib file_reference\r\n\tvar material_library_pattern = /^mtllib /;\r\n\t// usemtl material_name\r\n\tvar material_use_pattern = /^usemtl /;\r\n\t// usemap map_name\r\n\tvar map_use_pattern = /^usemap /;\r\n\r\n\tvar vA = new Vector3();\r\n\tvar vB = new Vector3();\r\n\tvar vC = new Vector3();\r\n\r\n\tvar ab = new Vector3();\r\n\tvar cb = new Vector3();\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects: [],\r\n\t\t\tobject: {},\r\n\r\n\t\t\tvertices: [],\r\n\t\t\tnormals: [],\r\n\t\t\tcolors: [],\r\n\t\t\tuvs: [],\r\n\r\n\t\t\tmaterials: {},\r\n\t\t\tmaterialLibraries: [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname: name || '',\r\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\tvertices: [],\r\n\t\t\t\t\t\tnormals: [],\r\n\t\t\t\t\t\tcolors: [],\r\n\t\t\t\t\t\tuvs: [],\r\n\t\t\t\t\t\thasUVIndices: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials: [],\r\n\t\t\t\t\tsmooth: true,\r\n\r\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex: this.materials.length,\r\n\t\t\t\t\t\t\tname: name || '',\r\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\tinherited: false,\r\n\r\n\t\t\t\t\t\t\tclone: function ( index ) {\r\n\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\t\t\tinherited: false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize: function ( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push( {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tsmooth: this.smooth\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexPoint: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFaceNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tvA.fromArray( src, a );\r\n\t\t\t\tvB.fromArray( src, b );\r\n\t\t\t\tvC.fromArray( src, c );\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tcb.normalize();\r\n\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddColor: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.colors;\r\n\t\t\t\tvar dst = this.object.geometry.colors;\r\n\r\n\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddDefaultUV: function () {\r\n\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\r\n\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\t\t\t\tthis.addColor( ia, ib, ic );\r\n\r\n\t\t\t\t// normals\r\n\r\n\t\t\t\tif ( na !== undefined && na !== '' ) {\r\n\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uvs\r\n\r\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\r\n\r\n\t\t\t\t\tthis.addDefaultUV();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddPointGeometry: function ( vertices ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Points';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction OBJLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.materials = null;\r\n\r\n\t}\r\n\r\n\tOBJLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: OBJLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetMaterials: function ( materials ) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( text ) {\r\n\r\n\t\t\tvar state = new ParserState();\r\n\r\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = text.split( '\\n' );\r\n\t\t\tvar line = '', lineFirstChar = '';\r\n\t\t\tvar lineLength = 0;\r\n\t\t\tvar result = [];\r\n\r\n\t\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tline = lines[ i ];\r\n\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\t\tlineLength = line.length;\r\n\r\n\t\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t\t// @todo invoke passed in handler if any\r\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\t\tvar data = line.split( /\\s+/ );\r\n\r\n\t\t\t\t\tswitch ( data[ 0 ] ) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif ( data.length >= 7 ) {\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push(\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\r\n\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\r\n\t\t\t\t\tvar faceVertices = [];\r\n\r\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\r\n\r\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\r\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\r\n\r\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\r\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\r\n\r\n\t\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\r\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\r\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\r\n\r\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\r\n\r\n\t\t\t\t\tstate.addPointGeometry( pointData );\r\n\r\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// material\r\n\r\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\r\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t\t} else if ( map_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\r\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\r\n\r\n\t\t\t\t\tresult = line.split( ' ' );\r\n\r\n\t\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t\t\t * or\r\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t\t\t * than 0.\"\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( result.length > 1 ) {\r\n\r\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\r\n\t\t\tvar container = new Group();\r\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar object = state.objects[ i ];\r\n\t\t\t\tvar geometry = object.geometry;\r\n\t\t\t\tvar materials = object.materials;\r\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\r\n\t\t\t\tvar hasVertexColors = false;\r\n\r\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\t\tvar buffergeometry = new BufferGeometry();\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\r\n\r\n\t\t\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\t\t\thasVertexColors = true;\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\r\n\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create materials\r\n\r\n\t\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\tvar materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\r\n\t\t\t\t\tvar material = state.materials[ materialHash ];\r\n\r\n\t\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialLine = new LineBasicMaterial();\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\r\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\r\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\r\n\t\t\t\t\t\t\tmaterial = materialPoints;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( material === undefined ) {\r\n\r\n\t\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\r\n\r\n\t\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\r\n\r\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreatedMaterials.push( material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = object.name;\r\n\r\n\t\t\t\tcontainer.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn OBJLoader;\r\n\r\n} )();\r\n\r\nexport { OBJLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/OBJLoader.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction UVNode( index ) {\r\n\r\n\tTempNode.call( this, 'v2', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nUVNode.prototype = Object.create( TempNode.prototype );\r\nUVNode.prototype.constructor = UVNode;\r\nUVNode.prototype.nodeType = \"UV\";\r\n\r\nUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.uv[ this.index ] = true;\r\n\r\n\tvar uvIndex = this.index > 0 ? this.index + 1 : '';\r\n\tvar result = builder.isShader( 'vertex' ) ? 'uv' + uvIndex : 'vUv' + uvIndex;\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'uv', function () {\r\n\r\n\treturn new UVNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'uv2', function () {\r\n\r\n\treturn new UVNode( 1 );\r\n\r\n} );\r\n\r\nexport { UVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/UVNode.js"],"sourceRoot":""}