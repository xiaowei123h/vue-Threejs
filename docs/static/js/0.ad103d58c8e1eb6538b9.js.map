{"version":3,"sources":["webpack:///./src/components/jsm/nodes/core/TempNode.js","webpack:///./src/components/jsm/utils/GeometryUtils.js","webpack:///./src/components/jsm/nodes/core/ConstNode.js","webpack:///./src/components/jsm/nodes/core/NodeLib.js","webpack:///./src/components/jsm/nodes/core/NodeBuilder.js","webpack:///./src/components/jsm/nodes/inputs/Vector2Node.js","webpack:///./src/components/jsm/nodes/core/NodeUtils.js","webpack:///./src/components/jsm/libs/inflate.module.min.js","webpack:///./src/components/jsm/nodes/inputs/Vector3Node.js","webpack:///./src/components/jsm/nodes/utils/ColorSpaceNode.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./src/components/jsm/utils/BufferGeometryUtils.js","webpack:///./src/components/jsm/loaders/RGBELoader.js","webpack:///./src/components/jsm/controls/TrackballControls.js","webpack:///./src/components/jsm/loaders/HDRCubeTextureLoader.js","webpack:///./src/components/jsm/nodes/inputs/FloatNode.js","webpack:///./src/components/jsm/nodes/accessors/NormalNode.js","webpack:///./src/components/jsm/loaders/EXRLoader.js","webpack:///./src/components/jsm/nodes/core/FunctionNode.js","webpack:///./src/components/jsm/loaders/TGALoader.js","webpack:///./src/components/jsm/libs/dat.gui.module.js","webpack:///./src/components/jsm/nodes/core/NodeUniform.js","webpack:///./src/components/jsm/controls/FirstPersonControls.js","webpack:///./src/components/jsm/nodes/inputs/ColorNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/RawNode.js","webpack:///./src/components/jsm/nodes/inputs/CubeTextureNode.js","webpack:///./src/components/jsm/nodes/core/FunctionCallNode.js","webpack:///./src/components/jsm/geometries/TeapotBufferGeometry.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeUVNode.js","webpack:///./src/components/jsm/nodes/inputs/TextureNode.js","webpack:///./src/components/jsm/nodes/core/Node.js","webpack:///./src/components/jsm/nodes/core/NodeFrame.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/components/jsm/nodes/math/OperatorNode.js","webpack:///./src/components/jsm/nodes/accessors/PositionNode.js","webpack:///./src/components/jsm/nodes/core/InputNode.js","webpack:///./src/components/jsm/nodes/math/MathNode.js","webpack:///./src/components/jsm/nodes/materials/NodeMaterial.js","webpack:///./src/components/jsm/nodes/core/StructNode.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/components/jsm/nodes/core/ExpressionNode.js","webpack:///./src/components/jsm/nodes/core/VarNode.js","webpack:///./src/components/jsm/nodes/core/AttributeNode.js","webpack:///./src/components/jsm/nodes/inputs/BoolNode.js","webpack:///./src/components/jsm/nodes/inputs/IntNode.js","webpack:///./src/components/jsm/nodes/inputs/Matrix3Node.js","webpack:///./src/components/jsm/nodes/inputs/Matrix4Node.js","webpack:///./src/components/jsm/nodes/inputs/ScreenNode.js","webpack:///./src/components/jsm/nodes/inputs/ReflectorNode.js","webpack:///./src/components/jsm/nodes/inputs/PropertyNode.js","webpack:///./src/components/jsm/nodes/inputs/RTTNode.js","webpack:///./src/components/jsm/nodes/accessors/ColorsNode.js","webpack:///./src/components/jsm/nodes/accessors/CameraNode.js","webpack:///./src/components/jsm/nodes/accessors/LightNode.js","webpack:///./src/components/jsm/nodes/accessors/ResolutionNode.js","webpack:///./src/components/jsm/nodes/accessors/ScreenUVNode.js","webpack:///./src/components/jsm/nodes/math/CondNode.js","webpack:///./src/components/jsm/nodes/procedural/NoiseNode.js","webpack:///./src/components/jsm/nodes/procedural/CheckerNode.js","webpack:///./src/components/jsm/nodes/misc/BumpMapNode.js","webpack:///./src/components/jsm/nodes/misc/NormalMapNode.js","webpack:///./src/components/jsm/nodes/utils/BypassNode.js","webpack:///./src/components/jsm/nodes/utils/JoinNode.js","webpack:///./src/components/jsm/nodes/utils/SwitchNode.js","webpack:///./src/components/jsm/nodes/utils/TimerNode.js","webpack:///./src/components/jsm/nodes/utils/VelocityNode.js","webpack:///./src/components/jsm/nodes/utils/UVTransformNode.js","webpack:///./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","webpack:///./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","webpack:///./src/components/jsm/nodes/effects/LuminanceNode.js","webpack:///./src/components/jsm/nodes/utils/SubSlotNode.js","webpack:///./src/components/jsm/nodes/effects/BlurNode.js","webpack:///./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/BasicNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/SpriteNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/PhongNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/StandardNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","webpack:///./src/components/jsm/nodes/materials/BasicNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/PhongNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/StandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","webpack:///./src/components/jsm/nodes/Nodes.js","webpack:///./src/components/jsm/nodes/inputs/Vector4Node.js","webpack:///./src/components/jsm/loaders/GLTFLoader.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeNode.js","webpack:///./src/components/jsm/libs/jszip.module.min.js","webpack:///./src/components/jsm/controls/OrbitControls.js","webpack:///./src/components/jsm/math/ImprovedNoise.js","webpack:///./src/components/jsm/nodes/accessors/ReflectNode.js","webpack:///./src/components/jsm/loaders/OBJLoader.js","webpack:///./src/components/jsm/nodes/accessors/UVNode.js"],"names":["__webpack_require__","d","__webpack_exports__","TempNode","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","__WEBPACK_IMPORTED_MODULE_1__Node_js__","type","params","Node","call","this","shared","undefined","unique","prototype","Object","create","constructor","build","builder","output","uuid","ns","getType","getShared","isUnique","getUnique","MathUtils","generateUUID","getUuid","data","getNodeData","analyzing","deps","getLabel","appendDepsNode","generate","name","context","ignoreCache","getTemp","format","code","addNodeCode","setLabel","label","scope","tempVar","getVars","console","error","getTempVar","GeometryUtils","hilbert2D","center","size","iterations","v0","v1","v2","v3","Vector3","half","vec_s","x","y","z","vec","tmp","Array","push","apply","hilbert3D","v4","v5","v6","v7","ConstNode","__WEBPACK_IMPORTED_MODULE_0__TempNode_js__","declarationRegexp","src","useDefine","parse","PI","PI2","RECIPROCAL_PI","RECIPROCAL_PI2","LOG2","EPSILON","nodeType","getTypeByFormat","value","match","charAt","length","include","copy","source","toJSON","meta","getJSONNode","createJSONNode","NodeLib","nodes","keywords","add","node","addKeyword","callback","cache","remove","removeKeyword","get","getKeyword","getKeywordData","contains","containsKeyword","NodeBuilder","__WEBPACK_IMPORTED_MODULE_1__NodeUniform_js__","__WEBPACK_IMPORTED_MODULE_2__NodeUtils_js__","__WEBPACK_IMPORTED_MODULE_3__NodeLib_js__","__WEBPACK_IMPORTED_MODULE_4__FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__ConstNode_js__","__WEBPACK_IMPORTED_MODULE_6__StructNode_js__","__WEBPACK_IMPORTED_MODULE_7__inputs_Vector2Node_js__","__WEBPACK_IMPORTED_MODULE_8__inputs_Vector3Node_js__","__WEBPACK_IMPORTED_MODULE_9__inputs_Vector4Node_js__","__WEBPACK_IMPORTED_MODULE_10__inputs_TextureNode_js__","__WEBPACK_IMPORTED_MODULE_11__inputs_CubeTextureNode_js__","__WEBPACK_IMPORTED_MODULE_12__misc_TextureCubeNode_js__","elements","NodeUtils","constructors","convertFormatToType","float","vec2","vec3","vec4","mat4","int","bool","convertTypeToFormat","t","tc","b","i","f","c","m3","m4","slots","caches","contexts","nodeData","requires","uv","color","lights","fog","transparent","irradiance","includes","consts","functions","structs","attributes","prefixCode","join","parsCode","vertex","fragment","nodeCode","resultCode","finalCode","inputs","uniforms","list","vars","varying","defines","extensions","updaters","buildShader","uvIndex","addVaryCode","addVertexParsCode","addVertexFinalCode","position","worldPosition","normal","worldNormal","shader","setShader","setMaterial","material","renderer","mergeDefines","addFlow","slot","addSlot","addCache","addContext","removeFlow","removeSlot","removeCache","removeContext","pop","assign","extra","addVertexCode","addCode","addFragmentCode","addVertexNodeCode","addFragmentNodeCode","clearNodeCode","clearVertexNodeCode","clearFragmentNodeCode","addFinalCode","addFragmentFinalCode","addParsCode","addFragmentParsCode","isCache","indexOf","isSlot","define","require","isDefined","getVar","arguments","prefix","index","getAttribute","getCode","getVarListCode","getIncludesCode","l","nVar","formatType","getFormatByType","Error","isNode","createUniform","needsUpdate","uniform","NodeUniform","createVertexUniform","createFragmentUniform","parent","includesStruct","FunctionNode","StructNode","included","colorToVectorProperties","replace","colorToVector","getIncludes","sortByPosition","a","sort","getConstructorFromLength","len","isTypeMatrix","test","getTypeLength","parseInt","substr","getTypeFromLength","findNode","nodeCandidate","resolve","isTexture","mapping","CubeReflectionMapping","CubeRefractionMapping","CubeTextureNode","CubeUVReflectionMapping","CubeUVRefractionMapping","TextureCubeNode","TextureNode","isVector2","Vector2Node","isVector3","Vector3Node","isVector4","Vector4Node","from","to","useCache","getElementByIndex","getIndexByElement","elm","isShader","mergeUniform","getTextureEncodingFromMap","map","encoding","isWebGLRenderTarget","warn","texture","LinearEncoding","gamma","GammaEncoding","__WEBPACK_IMPORTED_MODULE_1__core_InputNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_NodeUtils_js__","InputNode","Vector2","addShortcuts","generateReadonly","readonly","applyShortcut","proxy","property","subProperty","set","val","proto","shortcuts","split","defineProperties","Inflate","mod","aa","r","e","execScript","shift","Uint8Array","Uint16Array","Uint32Array","DataView","v","g","h","k","m","n","p","s","Number","POSITIVE_INFINITY","w","input","bufferSize","bufferType","resize","A","j","B","C","subarray","ba","ca","S","T","U","V","D","u","M","F","q","E","slice","P","fa","G","H","I","J","K","L","da","ea","N","O","R","ga","Q","W","verify","ha","method","o","buffer","charCodeAt","Y","Z","$","ia","X","ADAPTIVE","BLOCK","keys","Zlib","ColorSpaceNode","LinearToLinear","GammaToLinear","LinearToGamma","sRGBToLinear","LinearTosRGB","RGBEToLinear","LinearToRGBE","RGBMToLinear","LinearToRGBM","RGBDToLinear","LinearToRGBD","cLogLuvM","LinearToLogLuv","cLogLuvInverseM","__WEBPACK_IMPORTED_MODULE_1__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_3__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__core_ExpressionNode_js__","LINEAR_TO_LINEAR","Nodes","LogLuvToLinear","GAMMA_TO_LINEAR","LINEAR_TO_GAMMA","SRGB_TO_LINEAR","LINEAR_TO_SRGB","RGBE_TO_LINEAR","LINEAR_TO_RGBE","RGBM_TO_LINEAR","LINEAR_TO_RGBM","RGBD_TO_LINEAR","LINEAR_TO_RGBD","LINEAR_TO_LOG_LUV","LOG_LUV_TO_LINEAR","getEncodingComponents","sRGBEncoding","RGBEEncoding","RGBM7Encoding","FloatNode","setReadonly","RGBM16Encoding","RGBDEncoding","ExpressionNode","hashProperties","outputType","methodNode","factor","fromEncoding","components","fromDecoding","exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","arr","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","len2","encodeChunk","lookup","start","end","num","global","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","ArrayBuffer","array","byteOffset","fromArrayLike","fromArrayBuffer","string","isEncoding","actual","write","fromString","obj","isBuffer","checked","fromObject","assertSize","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64Slice","utf8Slice","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","Symbol","species","defineProperty","configurable","fill","allocUnsafeSlow","_isBuffer","compare","concat","pos","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","inspect","max","target","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","trim","stringtrim","base64clean","dst","BufferGeometryUtils","computeTangents","geometry","indices","positions","normals","uvs","nVertices","tangent","setAttribute","BufferAttribute","Float32Array","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","groups","count","il","group","jl","handleTriangle","tmp2","n2","handleVertex","fromArray","multiplyScalar","addScaledVector","dot","normalize","crossVectors","mergeBufferGeometries","geometries","useGroups","isIndexed","attributesUsed","Set","morphAttributesUsed","morphAttributes","morphTargetsRelative","mergedGeometry","BufferGeometry","attributesCount","has","userData","mergedUserData","addGroup","indexOffset","mergedIndex","getX","setIndex","mergedAttribute","mergeBufferAttributes","numMorphTargets","morphAttributesToMerge","mergedMorphAttribute","TypedArray","itemSize","normalized","arrayLength","attribute","isInterleavedBufferAttribute","interleaveAttributes","stride","interleavedBuffer","InterleavedBuffer","getters","setters","iba","InterleavedBufferAttribute","estimateBytesUsed","mem","attr","BYTES_PER_ELEMENT","getIndex","mergeVertices","tolerance","hashToIndex","vertexCount","nextIndex","attributeNames","attrArrays","morphAttrsArrays","newIndices","morphAttr","decimalShift","log10","shiftMultiplier","hash","newarray","newMorphArrays","getterFunc","ml","result","clone","oldAttribute","oldMorphAttribute","morphAttribute","toTrianglesDrawMode","drawMode","TrianglesDrawMode","TriangleFanDrawMode","TriangleStripDrawMode","numberOfTriangles","newGeometry","clearGroups","RGBELoader","manager","DataTextureLoader","UnsignedByteType","rgbe_error","rgbe_error_code","msg","fgets","lineLimit","consume","chunk","RGBEByteToRGBHalf","sourceArray","sourceOffset","destArray","destOffset","scale","DataUtils","toHalfFloat","rgbe_header_info","line","gamma_re","exposure_re","format_re","dimensions_re","header","valid","comments","programtype","exposure","width","height","parseFloat","RGBE_ReadHeader","image_rgba_data","data_rgba","byteValue","scanline_buffer","ptr","ptr_end","off","isEncodedRun","rgbeStart","scanline_width","num_scanlines","RGBE_ReadPixels_RLE","RGBEFormat","FloatType","numElements","floatArray","RGBFormat","HalfFloatType","halfArray","setDataType","load","url","onLoad","onProgress","onError","texData","minFilter","NearestFilter","magFilter","generateMipmaps","flipY","LinearFilter","TrackballControls","object","domElement","document","STATE","NONE","ROTATE","ZOOM","PAN","TOUCH_ROTATE","TOUCH_ZOOM_PAN","enabled","screen","left","top","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","maxDistance","mouseButtons","LEFT","MOUSE","MIDDLE","RIGHT","lastPosition","lastZoom","_state","_keyState","_eye","_movePrev","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","target0","position0","up0","up","zoom0","zoom","changeEvent","startEvent","endEvent","handleResize","box","getBoundingClientRect","ownerDocument","documentElement","window","pageXOffset","clientLeft","pageYOffset","clientTop","vector","angle","axis","quaternion","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","mouseChange","objectUp","pan","getMouseOnScreen","pageX","pageY","getMouseOnCircle","onPointerDown","event","pointerType","preventDefault","stopPropagation","button","state","addEventListener","onPointerMove","onPointerUp","dispatchEvent","onMouseDown","onMouseMove","removeEventListener","onMouseUp","keydown","keyCode","keyup","mousewheel","deltaMode","deltaY","touchstart","touches","dx","dy","sqrt","touchmove","touchend","contextmenu","rotateCamera","Quaternion","setLength","setFromAxisAngle","applyQuaternion","zoomCamera","isPerspectiveCamera","isOrthographicCamera","updateProjectionMatrix","panCamera","lengthSq","scale_x","right","clientWidth","scale_y","bottom","cross","subVectors","checkDistances","addVectors","update","lookAt","distanceToSquared","reset","dispose","EventDispatcher","HDRCubeTextureLoader","__WEBPACK_IMPORTED_MODULE_1__loaders_RGBELoader_js__","Loader","hdrLoader","urls","CubeTexture","RGBAFormat","loaded","loadHDRData","FileLoader","setPath","path","setResponseType","setWithCredentials","withCredentials","dataTexture","DataTexture","images","__WEBPACK_IMPORTED_MODULE_0__core_InputNode_js__","NormalNode","__WEBPACK_IMPORTED_MODULE_0__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_1__core_NodeLib_js__","VIEW","LOCAL","WORLD","contextNormal","NORMAL","EXRLoader","__WEBPACK_IMPORTED_MODULE_1__libs_inflate_module_min_js__","USHORT_RANGE","BITMAP_SIZE","HUF_DECBITS","HUF_ENCSIZE","HUF_DECSIZE","HUF_DECMASK","A_OFFSET","MOD_MASK","SHORT_ZEROCODE_RUN","LONG_ZEROCODE_RUN","SHORTEST_LONG_RUN","ULONG_SIZE","FLOAT32_SIZE","INT32_SIZE","INT16_SIZE","INT8_SIZE","STATIC_HUFFMAN","DEFLATE","UNKNOWN","LOSSY_DCT","RLE","logBase","tmpDataView","frexp","setFloat64","bits","getUint32","exponent","mantissa","steps","ceil","abs","ldexp","getBitsReturn","lc","getBits","nBits","uInt8Array","inOffset","parseUint8Array","hufTableBuffer","hufUnpackEncTable","inDataView","ni","im","iM","hcode","zerun","nc","hufCanonicalCodeTable","hufLength","hufCode","getCharReturn","getChar","getCodeReturn","po","rlc","outBuffer","outBufferOffset","outBufferEndOffset","cs","UInt16","Int16","ref","wdec14Return","wdec14","ls","hs","ai","as","bs","wdec16","bb","wav2Decode","nx","ox","ny","oy","mx","p2","w14","i00","i01","i10","i11","py","ey","oy1","oy2","ox1","ox2","px","ex","p01","p11","p10","hufUncompress","nCompressed","nRaw","initialInOffset","parseUint32","freq","hdec","lit","hufClearDecTable","hdecod","pl","plOffset","hufBuildDecTable","encodingTable","decodingTable","no","outOffset","inOffsetEnd","trunc","hufDecode","predictor","interleaveScalar","t1","t2","stop","decodeRunLength","reader","getInt8","getUint8","unRleAC","currAcComp","acBuffer","halfZigBlock","acValue","dctComp","unZigZag","decodeFloat16","dctInverse","cos","alpha","beta","theta","row","rowPtr","column","csc709Inverse","cb","cr","convertToHalf","idx","toLinear","sign","uncompressZIP","info","compressed","inflate","rawBuffer","decompress","tmpBuffer","uncompressDWA","viewer","lines","EXRHeader","channels","dwaHeader","version","parseInt64","unknownUncompressedSize","unknownCompressedSize","acCompressedSize","dcCompressedSize","rleCompressedSize","rleUncompressedSize","rleRawSize","totalAcUncompressedCount","totalDcUncompressedCount","acCompression","compression","channelRules","ruleSize","parseUint16","parseNullTerminatedString","parseUint8","Int8Array","channelData","cd","channel","decoded","pixelType","pLinear","cscSet","rule","zlibInfo","dcBuffer","rleBuffer","outBufferEnd","rowOffsets","chan","rowPtrs","dataView","numFullBlocksX","numBlocksX","numBlocksY","leftoverX","leftoverY","currDcComp","dctData","rowBlock","comp","blocky","maxY","maxX","blockx","setUint16","halfRow","getUint16","setFloat32","lossyDctDecode","rleOffset","rowOffsetBytes","byte","uintBuffer","endOffset","stringValue","TextDecoder","decode","parseUlong","uLong","parseInt32","Int32","getInt32","Uint32","Uint8","getBigInt64","parseFloat32","getFloat32","binary","fraction","NaN","Uint16","parseValue","parseFixedLengthString","startOffset","xSampling","ySampling","parseChlist","redX","redY","greenX","greenY","blueX","blueY","whiteX","whiteY","parseChromaticities","parseCompression","xMin","yMin","xMax","yMax","parseBox2i","parseLineOrder","parseV2f","parseV3f","parseRational","parseTimecode","bufferDataView","keepReading","attributeName","attributeType","attributeValue","uncompress","scanlineBlockSize","size_t","getValue","dataWindowHeight","dataWindow","tmpBufSize","bitmap","pizChannelData","minNonZero","maxNonZero","lut","maxValue","reverseLutFromBitmap","nData","applyLut","tmpOffset","cp","sz","tmpBufferEnd","writePtr","pixel","numBlocks","channelOffsets","compressionInfo","scanlineBlockIdx","line_y","true_y","channelID","cOff","RGBEArray","red","green","blue","__WEBPACK_IMPORTED_MODULE_1__NodeLib_js__","propertiesRegexp","isMethod","isInterface","useKeywords","getInputByName","getIncludeByName","matches","exec","prop","isGlobal","reference","keyword","substring","qualifier","JSON","stringify","TGALoader","Texture","loader","image","TGA_TYPE_NO_DATA","TGA_TYPE_INDEXED","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_INDEXED","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_BL","TGA_ORIGIN_BR","TGA_ORIGIN_UL","TGA_ORIGIN_UR","content","id_length","colormap_type","image_type","colormap_index","colormap_length","colormap_size","origin","pixel_size","flags","tgaCheckHeader","use_rle","use_pal","use_grey","canvas","OffscreenCanvas","createElement","getContext","imageData","createImageData","pixel_data","pixel_total","palettes","pixels","tgaParse","palette","x_start","y_start","x_step","y_step","x_end","y_end","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","colormap","tgaGetImageData8bits","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","getTgaRGBA","putImageData","colorToString","forceCSSHex","colorFormat","__state","conversionName","round","toFixed","hex","ARR_EACH","forEach","ARR_SLICE","Common","BREAK","extend","each","isObject","key","isUndefined","bind","defaults","compose","toCall","args","itr","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","callNow","clearTimeout","toArray","isNull","_isNaN","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","original","space","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","rgb_to_hsv","delta","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","_typeof","_typeof2","iterator","classCallCheck","instance","Constructor","createClass","props","descriptor","enumerable","writable","protoProps","staticProps","receiver","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","inherits","subClass","superClass","setPrototypeOf","possibleConstructorReturn","self","ReferenceError","Color","defineRGBComponent","component","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","__onChange","__onFinishChange","newValue","updateDisplay","EVENT_MAP_INV","HTMLEvents","MouseEvents","KeyboardEvents","CSS_VALUE_PIXELS","cssValueToPixels","dom","makeSelectable","elem","selectable","style","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","fakeEvent","eventType","pars","aux","className","evt","createEvent","clientX","clientY","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","charCode","initEvent","newBool","attachEvent","unbind","detachEvent","addClass","classes","removeClass","removeAttribute","splice","hasClass","RegExp","getWidth","getComputedStyle","getHeight","getOffset","el","offsetParent","offsetLeft","offsetTop","isActive","activeElement","href","BooleanController","_Controller","_this2","_this","__prev","__checkbox","setValue","appendChild","OptionController","opts","options","__select","element","opt","innerHTML","desiredValue","selectedIndex","StringController","onChange","__input","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","log","LN10","__precision","_v","minValue","stepValue","NumberControllerBox","_NumberController","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","attempted","decimals","tenTo","i1","i2","o1","o2","NumberControllerSlider","bgRect","__background","onTouchMove","onTouchEnd","__foreground","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","onBlur","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","background","linearGradient","cssText","outline","textAlign","fontWeight","textShadow","mismatch","flip","_flip","marginLeft","marginTop","toHexString","vendors","vendor","css","cssContent","indoc","doc","injected","head","getElementsByTagName","ControllerFactory","requestAnimationFrame$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","body","hide","webkitTransform","layout","innerWidth","innerHeight","___$insertStyle","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","preset","scrollable","root","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","gui","__preset_select","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","getSaveObject","saveToLocalStorageIfPossible","newDom","liBefore","li","removeListeners","markPresetModified","modified","recallSavedValue","controller","matchedIndex","controllerMap","remembered","presetMap","_add","factoryArgs","before","__li","container","CLASS_CONTROLLER_ROW","__gui","_options","nextSibling","nextElementSibling","_nextSibling","_name","firstElementChild","listen","pc","pb","returned","oldName","wasListening","newController","borderLeftColor","isModified","augmentController","location","addPresetOption","setSelected","showHideExplain","explain","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","__save_row","getCurrentPreset","useInitialValues","savedValues","toggleHide","CLASS_TOO_TALL","_keydownHandler","which","addColor","removeChild","destroy","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","close","show","offsetHeight","remember","div","firstChild","gears","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","focus","save","presetName","prompt","saveAs","addSaveMenu","updateDisplays","controllerArray","GUI$1","FirstPersonControls","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","mouseDragOn","autoSpeedFactor","mouseX","mouseY","moveForward","moveBackward","moveLeft","moveRight","viewHalfX","viewHalfY","targetPosition","lat","lon","lookDirection","spherical","Spherical","offsetWidth","onKeyDown","moveUp","moveDown","onKeyUp","setOrientation","heightDelta","clamp","actualMoveSpeed","translateZ","translateX","translateY","actualLookSpeed","verticalLookRatio","phi","degToRad","mapLinear","setFromSphericalCoords","_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown","_onKeyUp","fn","controls","setFromVector3","radToDeg","ColorNode","RawNode","__WEBPACK_IMPORTED_MODULE_0__core_Node_js__","analyzeAndFlow","__WEBPACK_IMPORTED_MODULE_1__accessors_ReflectNode_js__","__WEBPACK_IMPORTED_MODULE_2__utils_ColorSpaceNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_ExpressionNode_js__","bias","ReflectNode","getTexture","cubetex","setTexture","colorSpace","FunctionCallNode","setFunction","getFunction","inpt","param","TeapotBufferGeometry","segments","lid","fitLid","blinn","teapotPatches","teapotVertices","maxHeight2","trueSize","numTriangles","numVertices","vertices","ms","Matrix4","tcoord","sstep","tstep","vertPerRow","sval","tval","sp","tp","dsp","dtp","mgm","norm","dsval","dtval","normOut","gmx","tmtx","vsp","Vector4","vtp","vdsp","vdtp","vsdir","vtdir","mst","transpose","notDegenerate","vtx1","vtx2","vtx3","maxPatches","surfCount","vertCount","normCount","uvCount","indexCount","surf","multiplyMatrices","applyMatrix4","computeBoundingSphere","TextureCubeUVNode","__WEBPACK_IMPORTED_MODULE_1__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_StructNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionCallNode_js__","__WEBPACK_IMPORTED_MODULE_6__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_7__math_OperatorNode_js__","__WEBPACK_IMPORTED_MODULE_8__math_MathNode_js__","__WEBPACK_IMPORTED_MODULE_9__utils_ColorSpaceNode_js__","TextureCubeUVData","cubeUV_maxMipLevel","cubeUV_minMipLevel","cubeUV_maxTileSize","cubeUV_minTileSize","getFace","getUV","bilinearCubeUV","r0","m0","roughnessToMip","mipInt","colorSpaceTL","colorSpaceTR","colorSpaceBL","colorSpaceBR","colorSpaceTLExp","colorSpaceTRExp","colorSpaceBLExp","colorSpaceBRExp","roughness","mipV","mip","MathNode","CLAMP","FLOOR","mipF","FRACT","color0","color1","OperatorNode","ADD","color1Mix","MIX","__WEBPACK_IMPORTED_MODULE_1__accessors_UVNode_js__","project","UVNode","tex","analyze","settings","flow","updateFrame","getHash","outputLen","outputMax","setName","getName","isRootObject","NodeFrame","time","id","setRenderer","setRenderTexture","renderTexture","updateNode","frameId","module","originalModule","webpackPolyfill","children","op","SUB","MUL","DIV","PositionNode","PROJECTION","getReadonly","bOrMethod","cOrMethod","RAD","DEG","EXP","EXP2","LOG","SQRT","INV_SQRT","CEIL","NORMALIZE","SATURATE","SIN","COS","TAN","ASIN","ACOS","ARCTAN","ABS","SIGN","LENGTH","NEGATE","INVERT","MIN","MAX","MOD","STEP","REFLECT","DISTANCE","DOT","CROSS","POW","REFRACT","SMOOTHSTEP","FACEFORWARD","getNumInputs","getInputType","al","bl","cl","inputType","numInputs","NodeMaterial","__WEBPACK_IMPORTED_MODULE_1__core_NodeBuilder_js__","__WEBPACK_IMPORTED_MODULE_2__inputs_ColorNode_js__","__WEBPACK_IMPORTED_MODULE_3__accessors_PositionNode_js__","__WEBPACK_IMPORTED_MODULE_4__nodes_RawNode_js__","ShaderMaterial","isNodeMaterial","properties","needsCompile","onBeforeCompile","vertexShader","fragmentShader","extensionDerivatives","derivatives","extensionFragDepth","fragDepth","extensionDrawBuffers","drawBuffers","extensionShaderTextureLOD","shaderTextureLOD","customProgramCacheKey","frame","blending","NormalBlending","materials","sizeAttenuation","flatShading","side","FrontSide","vertexColors","NoColors","depthFunc","LessEqualDepth","depthTest","depthWrite","linewidth","dashSize","gapSize","dithering","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","alphaTest","premultipliedAlpha","morphTargets","skinning","visible","declaration","__webpack_amd_options__","__WEBPACK_IMPORTED_MODULE_0__FunctionNode_js__","VarNode","AttributeNode","getAttributeType","BoolNode","Boolean","IntNode","Matrix3Node","matrix","Matrix3","Matrix4Node","ScreenNode","ReflectorNode","mirror","setMirror","PropertyNode","textureMatrix","localPosition","uvResult","tDiffuse","RTTNode","clear","renderTarget","WebGLRenderTarget","camera","OrthographicCamera","scene","Scene","quad","Mesh","PlaneBufferGeometry","frustumCulled","render","rttBuilder","updateFramesaveTo","saveTo","saveToCurrent","saveToMaterial","saveToScene","setRenderTarget","vertexDict","fragmentDict","ColorsNode","CameraNode","setScope","POSITION","setCamera","LightNode","TOTAL","depthColor","DEPTH","TO_VERTEX","onUpdateFrame","near","far","number","ResolutionNode","ScreenUVNode","resolution","getSize","pixelRatio","getPixelRatio","CondNode","ifNode","elseNode","NoiseNode","CheckerNode","EQUAL","NOT_EQUAL","GREATER","GREATER_EQUAL","LESS","LESS_EQUAL","AND","OR","ifType","elseType","getCondType","condType","ifCode","elseCode","snoise","checker","dHdxy_fwd","NormalMapNode","BumpMapNode","toNormalMap","BypassNode","perturbNormal2Arb","BackSide","perturbNormalArb","bumpToNormal","derivativeHeight","derivativeHeightCode","JoinNode","SwitchNode","TimerNode","timeScale","GLOBAL","VelocityNode","velocity","setTarget","setParams","UVTransformNode","MaxMIPLevelNode","maxMIPLevel","SpecularMIPLevelNode","getNumElements","outputs","inputLength","outputLength","DELTA","moment","speed","springVelocity","lastVelocity","oldPosition","getWorldPosition","updateFrameVelocity","deltaFps","fps","spring","damping","exp","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","LOG2E","getSpecularMIPLevel","LUMA","SubSlotNode","BlurNode","radius","blurX","blurY","LuminanceNode","rgb","ColorAdjustmentNode","adjustment","SATURATION","blurCode","luminance","hue","saturation","vibrance","HUE","VIBRANCE","BRIGHTNESS","CONTRAST","BasicNode","SpriteNode","PhongNode","specular","shininess","StandardNode","metalness","MeshStandardNode","normalScale","BasicNodeMaterial","SpriteNodeMaterial","PhongNodeMaterial","StandardNodeMaterial","MeshStandardNodeMaterial","NodePostProcessing","parameters","getDrawingBufferSize","mask","UniformsUtils","merge","UniformsLib","light","ao","ambient","shadow","emissive","environment","environmentAlpha","useClearcoat","clearcoat","clearcoatRoughness","clearCoatNormal","LTC_1","ltc_1","ltc_2","specularRoughness","contextEnvironment","viewNormal","contextGammaOnly","contextClearcoatEnvironment","clearcoatNormal","reflectivity","sheen","radiance","clearcoatEnv","roughnessMap","metalnessMap","normalMap","envMap","setPixelRatio","setSize","post","GLTFLoader","dracoLoader","ddsLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFMeshoptCompression","resourcePath","LoaderUtils","extractUrlBase","itemStart","_onError","itemError","itemEnd","setRequestHeader","requestHeader","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","unregister","plugins","decodeText","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","headerView","BINARY_EXTENSION_HEADER_LENGTH","magic","chunkView","chunkIndex","chunkLength","chunkType","BINARY_EXTENSION_CHUNK_TYPES","contentArray","BIN","json","asset","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","isSupported","_markDefs","nodeDefs","nodeIndex","nodeLength","nodeDef","_addNodeRef","_loadLight","lightIndex","cacheKey","dependency","lightNode","lightDef","range","DirectionalLight","PointLight","distance","SpotLight","spot","innerConeAngle","outerConeAngle","penumbra","decay","intensity","createUniqueName","Promise","createNodeAttachment","then","_getNodeRef","getMaterialType","MeshBasicMaterial","extendParams","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","materialIndex","MeshPhysicalMaterial","extendMaterialParams","extension","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","transmissionFactor","transmission","transmissionTexture","loadTexture","textureIndex","textureDef","textures","loadTextureImage","uri","getHandler","textureLoader","detectSupport","Image","onload","onerror","loadBufferView","bufferView","bufferViews","extensionDef","getDependency","decoder","supported","ready","byteStride","decodeGltfBuffer","mode","filter","preload","GLTFMeshStandardSGMaterial","MeshStandardMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","setValues","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMapType","TangentSpaceNormalMap","displacementMap","displacementScale","displacementBias","alphaMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","Interpolant","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","extendTexture","transform","repeat","texCoord","copySampleValue_","values","valueSize","beforeStart_","afterEnd_","interpolate_","t0","stride2","stride3","td","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","p1","m1","WEBGL_CONSTANTS","5120","5121","5122","Int16Array","5123","5125","5126","WEBGL_FILTERS","9728","9729","9984","NearestMipmapNearestFilter","9985","LinearMipmapNearestFilter","9986","NearestMipmapLinearFilter","9987","LinearMipmapLinearFilter","WEBGL_WRAPPINGS","33071","ClampToEdgeWrapping","33648","MirroredRepeatWrapping","10497","RepeatWrapping","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","InterpolateDiscrete","ALPHA_MODES","resolveURL","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","mesh","meshDef","morphTargetInfluences","targetNames","morphTargetDictionary","createAttributesKey","attributesKey","objects","removeAll","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","nodeNamesUsed","createImageBitmap","navigator","userAgent","ImageBitmapLoader","TextureLoader","setCrossOrigin","addPrimitiveAttributes","primitiveDef","assignAttributeAccessor","accessorIndex","accessor","gltfAttributeName","Box3","targets","maxDisplacement","setX","setY","setZ","expandByVector","boundingBox","sphere","Sphere","getCenter","distanceTo","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","morphNormals","addMorphTargets","_invokeAll","getDependencies","dependencies","scenes","animations","cameras","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","_invokeOne","unshift","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","reject","bufferViewDef","sparse","pendingBufferViews","bufferAttribute","elementBytes","itemBytes","ibSlice","ibCacheKey","ib","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setW","textureExtensions","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","mimeType","colorType","blob","Blob","createObjectURL","isImageBitmapLoader","imageBitmap","CanvasTexture","revokeObjectURL","sampler","samplers","wrapS","wrapT","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","useVertexColors","useFlatShading","useSkinning","useMorphTargets","useMorphNormals","isPoints","pointsMaterial","PointsMaterial","Material","isLine","lineMaterial","LineBasicMaterial","cachedMaterial","vertexTangents","uv2","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","DoubleSide","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","PropertyBinding","sanitizeNodeName","loadGeometries","primitives","createDracoPrimitive","dracoExtension","geometryPromise","cached","promise","meshIndex","results","SkinnedMesh","skinWeight","normalizeSkinWeights","LineSegments","Line","LineLoop","Points","Group","cameraIndex","cameraDef","PerspectiveCamera","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","traverse","isMesh","outputArray","scaled","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","nodeName","Bone","Object3D","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","Skeleton","matrixWorld","child","sceneIndex","sceneDef","nodeIds","isLE","mLen","nBytes","eLen","eMax","eBias","rt","LN2","__WEBPACK_IMPORTED_MODULE_1__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_2__TextureCubeUVNode_js__","__WEBPACK_IMPORTED_MODULE_3__accessors_ReflectNode_js__","__WEBPACK_IMPORTED_MODULE_4__accessors_NormalNode_js__","radianceNode","VECTOR","irradianceNode","JSZip","1","zero","byteAt","lastIndexOfSignature","readData","./dataReader","2","encode","3","compressedSize","uncompressedSize","crc32","compressionMethod","compressedContent","getContent","getCompressedContent","4","STORE","compress","compressInputType","uncompressInputType","./flate","5","getTypeOf","./utils","6","checkIndex","skip","readInt","readString","transformTo","readDate","Date","7","createFolders","date","compressionOptions","comment","unixPermissions","dosPermissions","8","string2binary","string2Uint8Array","uint8Array2String","string2Blob","arrayBuffer2Blob","checkSupport","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","findCompression","isRegExp","9","deflateRaw","level","inflateRaw","pako","10","files","support","utils","compressions","./base64","./compressions","./defaults","./deprecatedPublicUtils","./load","./object","./support","11","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","file","fileNameStr","decompressed","fileCommentStr","zipComment","./utf8","./zipEntries","12","13","./uint8ArrayReader","14","_data","nodebuffer","asBinary","utf8encode","_initialMetadata","asText","asNodeBuffer","asUint8Array","asArrayBuffer","toUpperCase","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","fileRecord","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","compressedObject","hasOwnProperty","platform","encodeFileName","CENTRAL_DIRECTORY_END","append","finalize","./compressedObject","./crc32","./nodeBuffer","./signature","./stringWriter","./uint8ArrayWriter","15","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","DATA_DESCRIPTOR","16","17","18","arraybuffer","uint8array","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","19","./arrayReader","20","21","applyFromCharCode","22","23","loadOptions","checkSignature","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","versionMadeBy","versionNeeded","zip64ExtensibleData","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","prepareReader","./nodeBufferReader","./stringReader","./zipEntry","24","isEncrypted","bitFlag","useUTF8","prepareCompressedContent","prepareContent","fileNameLength","fileName","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","25","./lib/deflate","./lib/inflate","./lib/utils/common","./lib/zlib/constants","26","chunkSize","windowBits","memLevel","strategy","raw","gzip","err","ended","chunks","strm","avail_out","deflateInit2","deflateSetHeader","string2buf","next_in","avail_in","Buf8","next_out","deflate","onEnd","onData","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","./utils/common","./utils/strings","./zlib/deflate","./zlib/messages","./zlib/zstream","27","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","ungzip","./zlib/constants","./zlib/gzheader","./zlib/inflate","28","Int32Array","setTyped","Buf16","Buf32","29","./common","30","31","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_NEED_DICT","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","32","33","pending_buf","pending_out","total_out","_tr_flush_block","block_start","strstart","wrap","adler","total_in","max_chain_length","prev_length","nice_match","w_size","ka","w_mask","prev","ja","good_match","lookahead","match_start","window_size","hash_size","insert","ins_h","hash_shift","hash_mask","ta","match_length","_tr_tally","max_lazy_match","va","wa","last_lit","ua","prev_match","match_available","good_length","max_lazy","nice_length","max_chain","status","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","depth","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","data_type","ma","ra","_tr_init","_","la","na","oa","pa","qa","sa","xa","deflateInit","deflateReset","deflateResetKeep","hcrc","os","_tr_align","_tr_stored_block","deflateInfo","../utils/common","./adler32","./messages","./trees","34","xflags","extra_len","done","35","dmax","wsize","whave","wnext","hold","lencode","distcode","lenbits","distbits","sane","36","total","last","havedict","lendyn","distdyn","back","wbits","check","ncode","nlen","ndist","have","next","work","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","ya","za","Aa","Ba","Ca","inflateInfo","./inffast","./inftrees","37","38","0","-1","-2","-3","-4","-5","-6","39","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","40","OrbitControls","quat","quatInverse","lastQuaternion","twoPI","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","enableRotate","enablePan","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","DOLLY","ONE","TOUCH","TWO","DOLLY_PAN","getPolarAngle","getAzimuthalAngle","saveState","setFromUnitVectors","invert","rotateLeft","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","EPS","onContextMenu","onMouseWheel","onTouchStart","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","deltaX","targetDistance","tan","fov","clientHeight","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","handleMouseDownPan","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","mouseAction","handleMouseDownDolly","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","MapControls","ImprovedNoise","fade","lerp","grad","noise","floorX","floorY","floorZ","xMinus1","yMinus1","zMinus1","AA","AB","BA","BB","__WEBPACK_IMPORTED_MODULE_1__PositionNode_js__","__WEBPACK_IMPORTED_MODULE_2__NormalNode_js__","CUBE","SPHERE","viewNormalNode","roughnessNode","viewPosition","reflectVec","OBJLoader","object_pattern","material_library_pattern","material_use_pattern","map_use_pattern","ab","setMaterials","colors","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","groupCount","mtllib","groupStart","groupEnd","cloned","lastMultiMaterial","mi","declared","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","addUV","addDefaultUV","addUVLine","addFace","ub","uc","nb","vLen","ic","nLen","uvLen","addPointGeometry","vi","addLineGeometry","uvi","lineFirstChar","trimLeft","vertexData","faceVertices","vertexParts","lineParts","lineVertices","lineUVs","llen","pointData","hasVertexColors","buffergeometry","Float32BufferAttribute","createdMaterials","miLen","materialHash","sourceMaterial","materialPoints","materialLine","MeshPhongMaterial"],"mappings":"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0jB,EAAK,GAAM2d,GAAerhC,EAAK,IAE/B0jB,EAAK,IAAO2d,GAAerhC,EAAK,IAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,IAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,IAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAEhC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,IAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAEhC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAEhC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,IAAO2d,GAAerhC,EAAK,KAChC0jB,EAAK,I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,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAChE,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAErE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAC1E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAE3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E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","file":"static/js/0.ad103d58c8e1eb6538b9.js","sourcesContent":["import { MathUtils } from '@/components/build/three.module.js';\r\nimport { Node } from './Node.js';\r\n\r\nfunction TempNode( type, params ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.shared = params.shared !== undefined ? params.shared : true;\r\n\tthis.unique = params.unique !== undefined ? params.unique : false;\r\n\r\n}\r\n\r\nTempNode.prototype = Object.create( Node.prototype );\r\nTempNode.prototype.constructor = TempNode;\r\n\r\nTempNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\toutput = output || this.getType( builder );\r\n\r\n\tif ( this.getShared( builder, output ) ) {\r\n\r\n\t\tvar isUnique = this.getUnique( builder, output );\r\n\r\n\t\tif ( isUnique && this.constructor.uuid === undefined ) {\r\n\r\n\t\t\tthis.constructor.uuid = MathUtils.generateUUID();\r\n\r\n\t\t}\r\n\r\n\t\tuuid = builder.getUuid( uuid || this.getUuid(), ! isUnique );\r\n\r\n\t\tvar data = builder.getNodeData( uuid ),\r\n\t\t\ttype = data.output || this.getType( builder );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tif ( ( data.deps || 0 ) > 0 || this.getLabel() ) {\r\n\r\n\t\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t} else if ( isUnique ) {\r\n\r\n\t\t\tdata.name = data.name || Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t\treturn data.name;\r\n\r\n\t\t} else if ( ! this.getLabel() && ( ! this.getShared( builder, type ) || ( builder.context.ignoreCache || data.deps === 1 ) ) ) {\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t}\r\n\r\n\t\tuuid = this.getUuid( false );\r\n\r\n\t\tvar name = this.getTemp( builder, uuid );\r\n\r\n\t\tif ( name ) {\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tname = TempNode.prototype.generate.call( this, builder, output, uuid, data.output, ns );\r\n\r\n\t\t\tvar code = this.generate( builder, type, uuid );\r\n\r\n\t\t\tbuilder.addNodeCode( name + ' = ' + code + ';' );\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nTempNode.prototype.getShared = function ( builder, output ) {\r\n\r\n\treturn output !== 'sampler2D' && output !== 'samplerCube' && this.shared;\r\n\r\n};\r\n\r\nTempNode.prototype.getUnique = function ( /* builder, output */ ) {\r\n\r\n\treturn this.unique;\r\n\r\n};\r\n\r\nTempNode.prototype.setLabel = function ( name ) {\r\n\r\n\tthis.label = name;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTempNode.prototype.getLabel = function ( /* builder */ ) {\r\n\r\n\treturn this.label;\r\n\r\n};\r\n\r\nTempNode.prototype.getUuid = function ( unique ) {\r\n\r\n\tvar uuid = unique || unique == undefined ? this.constructor.uuid || this.uuid : this.uuid;\r\n\r\n\tif ( typeof this.scope === \"string\" ) uuid = this.scope + '-' + uuid;\r\n\r\n\treturn uuid;\r\n\r\n};\r\n\r\nTempNode.prototype.getTemp = function ( builder, uuid ) {\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\tvar tempVar = builder.getVars()[ uuid ];\r\n\r\n\treturn tempVar ? tempVar.name : undefined;\r\n\r\n};\r\n\r\nTempNode.prototype.generate = function ( builder, output, uuid, type, ns ) {\r\n\r\n\tif ( ! this.getShared( builder, output ) ) console.error( \"THREE.TempNode is not shared!\" );\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\treturn builder.getTempVar( uuid, type || this.getType( builder ), ns, this.getLabel() ).name;\r\n\r\n};\r\n\r\nexport { TempNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/TempNode.js","import {\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GeometryUtils = {\r\n\r\n\t/**\r\n\t * Generates 2D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/sketch/15493\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, -Z.\r\n\t * @param v1         Corner index -X, +Z.\r\n\t * @param v2         Corner index +X, +Z.\r\n\t * @param v3         Corner index +X, -Z.\r\n\t */\r\n\thilbert2D: function ( center, size, iterations, v0, v1, v2, v3 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( 0 <= -- iterations ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 0 ], half, iterations, v0, v3, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 1 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 2 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 3 ], half, iterations, v2, v1, v0, v3 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Generates 3D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/visuals/?visualID=15599\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, +Y, -Z.\r\n\t * @param v1         Corner index -X, +Y, +Z.\r\n\t * @param v2         Corner index -X, -Y, +Z.\r\n\t * @param v3         Corner index -X, -Y, -Z.\r\n\t * @param v4         Corner index +X, -Y, -Z.\r\n\t * @param v5         Corner index +X, -Y, +Z.\r\n\t * @param v6         Corner index +X, +Y, +Z.\r\n\t * @param v7         Corner index +X, +Y, -Z.\r\n\t */\r\n\thilbert3D: function ( center, size, iterations, v0, v1, v2, v3, v4, v5, v6, v7 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3,\r\n\t\t\tv4 = v4 !== undefined ? v4 : 4,\r\n\t\t\tv5 = v5 !== undefined ? v5 : 5,\r\n\t\t\tv6 = v6 !== undefined ? v6 : 6,\r\n\t\t\tv7 = v7 !== undefined ? v7 : 7\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ],\r\n\t\t\tvec_s[ v4 ],\r\n\t\t\tvec_s[ v5 ],\r\n\t\t\tvec_s[ v6 ],\r\n\t\t\tvec_s[ v7 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( -- iterations >= 0 ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 0 ], half, iterations, v0, v3, v4, v7, v6, v5, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 1 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 2 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 3 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 4 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 5 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 6 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 7 ], half, iterations, v6, v5, v2, v1, v0, v3, v4, v7 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { GeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/GeometryUtils.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^([a-z_0-9]+)\\s([a-z_0-9]+)\\s?\\=?\\s?(.*?)(\\;|$)/i;\r\n\r\nfunction ConstNode( src, useDefine ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src || ConstNode.PI, useDefine );\r\n\r\n}\r\n\r\nConstNode.PI = 'PI';\r\nConstNode.PI2 = 'PI2';\r\nConstNode.RECIPROCAL_PI = 'RECIPROCAL_PI';\r\nConstNode.RECIPROCAL_PI2 = 'RECIPROCAL_PI2';\r\nConstNode.LOG2 = 'LOG2';\r\nConstNode.EPSILON = 'EPSILON';\r\n\r\nConstNode.prototype = Object.create( TempNode.prototype );\r\nConstNode.prototype.constructor = ConstNode;\r\nConstNode.prototype.nodeType = \"Const\";\r\n\r\nConstNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nConstNode.prototype.parse = function ( src, useDefine ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tvar name, type, value = \"\";\r\n\r\n\tvar match = this.src.match( declarationRegexp );\r\n\r\n\tthis.useDefine = useDefine || this.src.charAt( 0 ) === '#';\r\n\r\n\tif ( match && match.length > 1 ) {\r\n\r\n\t\ttype = match[ 1 ];\r\n\t\tname = match[ 2 ];\r\n\t\tvalue = match[ 3 ];\r\n\r\n\t} else {\r\n\r\n\t\tname = this.src;\r\n\t\ttype = 'f';\r\n\r\n\t}\r\n\r\n\tthis.name = name;\r\n\tthis.type = type;\r\n\tthis.value = value;\r\n\r\n};\r\n\r\nConstNode.prototype.build = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\tif ( this.useDefine ) {\r\n\r\n\t\t\t\treturn '#define ' + this.name + ' ' + this.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn 'const ' + this.type + ' ' + this.name + ' = ' + this.value + ';';\r\n\r\n\t\t} else if ( this.useDefine ) {\r\n\r\n\t\t\treturn this.src;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.include( this );\r\n\r\n\t\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nConstNode.prototype.generate = function ( builder, output ) {\r\n\r\n\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nConstNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.parse( source.src, source.useDefine );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nConstNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t\tif ( data.useDefine === true ) data.useDefine = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ConstNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ConstNode.js","var NodeLib = {\r\n\r\n\tnodes: {},\r\n\tkeywords: {},\r\n\r\n\tadd: function ( node ) {\r\n\r\n\t\tthis.nodes[ node.name ] = node;\r\n\r\n\t},\r\n\r\n\taddKeyword: function ( name, callback, cache ) {\r\n\r\n\t\tcache = cache !== undefined ? cache : true;\r\n\r\n\t\tthis.keywords[ name ] = { callback: callback, cache: cache };\r\n\r\n\t},\r\n\r\n\tremove: function ( node ) {\r\n\r\n\t\tdelete this.nodes[ node.name ];\r\n\r\n\t},\r\n\r\n\tremoveKeyword: function ( name ) {\r\n\r\n\t\tdelete this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tget: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ];\r\n\r\n\t},\r\n\r\n\tgetKeyword: function ( name, builder ) {\r\n\r\n\t\treturn this.keywords[ name ].callback.call( this, builder );\r\n\r\n\t},\r\n\r\n\tgetKeywordData: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tcontains: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tcontainsKeyword: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ] !== undefined;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeLib };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeLib.js","import {\r\n\tCubeReflectionMapping,\r\n\tCubeRefractionMapping,\r\n\tCubeUVReflectionMapping,\r\n\tCubeUVRefractionMapping,\r\n\tLinearEncoding,\r\n\tGammaEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeUniform } from './NodeUniform.js';\r\nimport { NodeUtils } from './NodeUtils.js';\r\nimport { NodeLib } from './NodeLib.js';\r\nimport { FunctionNode } from './FunctionNode.js';\r\nimport { ConstNode } from './ConstNode.js';\r\nimport { StructNode } from './StructNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\nimport { Vector4Node } from '../inputs/Vector4Node.js';\r\nimport { TextureNode } from '../inputs/TextureNode.js';\r\nimport { CubeTextureNode } from '../inputs/CubeTextureNode.js';\r\nimport { TextureCubeNode } from '../misc/TextureCubeNode.js';\r\n\r\n\r\nvar elements = NodeUtils.elements,\r\n\tconstructors = [ 'float', 'vec2', 'vec3', 'vec4' ],\r\n\tconvertFormatToType = {\r\n\t\tfloat: 'f',\r\n\t\tvec2: 'v2',\r\n\t\tvec3: 'v3',\r\n\t\tvec4: 'v4',\r\n\t\tmat4: 'v4',\r\n\t\tint: 'i',\r\n\t\tbool: 'b'\r\n\t},\r\n\tconvertTypeToFormat = {\r\n\t\tt: 'sampler2D',\r\n\t\ttc: 'samplerCube',\r\n\t\tb: 'bool',\r\n\t\ti: 'int',\r\n\t\tf: 'float',\r\n\t\tc: 'vec3',\r\n\t\tv2: 'vec2',\r\n\t\tv3: 'vec3',\r\n\t\tv4: 'vec4',\r\n\t\tm3: 'mat3',\r\n\t\tm4: 'mat4'\r\n\t};\r\n\r\nfunction NodeBuilder() {\r\n\r\n\tthis.slots = [];\r\n\tthis.caches = [];\r\n\tthis.contexts = [];\r\n\r\n\tthis.keywords = {};\r\n\r\n\tthis.nodeData = {};\r\n\r\n\tthis.requires = {\r\n\t\tuv: [],\r\n\t\tcolor: [],\r\n\t\tlights: false,\r\n\t\tfog: false,\r\n\t\ttransparent: false,\r\n\t\tirradiance: false\r\n\t};\r\n\r\n\tthis.includes = {\r\n\t\tconsts: [],\r\n\t\tfunctions: [],\r\n\t\tstructs: []\r\n\t};\r\n\r\n\tthis.attributes = {};\r\n\r\n\tthis.prefixCode = [\r\n\t\t\"#ifdef TEXTURE_LOD_EXT\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)\",\r\n\r\n\t\t\"#else\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCube(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2D(a, b, c)\",\r\n\r\n\t\t\"#endif\",\r\n\r\n\t\t\"#include <packing>\",\r\n\t\t\"#include <common>\"\r\n\r\n\t].join( \"\\n\" );\r\n\r\n\tthis.parsCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.code = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.nodeCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.resultCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.finalCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tuniforms: {\r\n\t\t\tlist: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t},\r\n\t\tvars: {\r\n\t\t\tvarying: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t}\r\n\t};\r\n\r\n\t// send to material\r\n\r\n\tthis.defines = {};\r\n\r\n\tthis.uniforms = {};\r\n\r\n\tthis.extensions = {};\r\n\r\n\tthis.updaters = [];\r\n\r\n\tthis.nodes = [];\r\n\r\n\t// --\r\n\r\n\tthis.analyzing = false;\r\n\r\n}\r\n\r\nNodeBuilder.prototype = {\r\n\r\n\tconstructor: NodeBuilder,\r\n\r\n\tbuild: function ( vertex, fragment ) {\r\n\r\n\t\tthis.buildShader( 'vertex', vertex );\r\n\t\tthis.buildShader( 'fragment', fragment );\r\n\r\n\t\tfor ( var i = 0; i < this.requires.uv.length; i ++ ) {\r\n\r\n\t\t\tif ( this.requires.uv[ i ] ) {\r\n\r\n\t\t\t\tvar uvIndex = i > 0 ? i + 1 : '';\r\n\r\n\t\t\t\tthis.addVaryCode( 'varying vec2 vUv' + uvIndex + ';' );\r\n\r\n\t\t\t\tif ( i > 0 ) {\r\n\r\n\t\t\t\t\tthis.addVertexParsCode( 'attribute vec2 uv' + uvIndex + ';' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.addVertexFinalCode( 'vUv' + uvIndex + ' = uv' + uvIndex + ';' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 0 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor = color;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 1 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor2;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color2;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor2 = color2;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.position ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vPosition = transformed;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldPosition ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.normal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vObjectNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vObjectNormal = normal;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldNormal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tbuildShader: function ( shader, node ) {\r\n\r\n\t\tthis.resultCode[ shader ] = node.build( this.setShader( shader ), 'v4' );\r\n\r\n\t},\r\n\r\n\tsetMaterial: function ( material, renderer ) {\r\n\r\n\t\tthis.material = material;\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\tthis.requires.lights = material.lights;\r\n\t\tthis.requires.fog = material.fog;\r\n\r\n\t\tthis.mergeDefines( material.defines );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddFlow: function ( slot, cache, context ) {\r\n\r\n\t\treturn this.addSlot( slot ).addCache( cache ).addContext( context );\r\n\r\n\t},\r\n\r\n\tremoveFlow: function () {\r\n\r\n\t\treturn this.removeSlot().removeCache().removeContext();\r\n\r\n\t},\r\n\r\n\taddCache: function ( name ) {\r\n\r\n\t\tthis.cache = name || '';\r\n\t\tthis.caches.push( this.cache );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveCache: function () {\r\n\r\n\t\tthis.caches.pop();\r\n\t\tthis.cache = this.caches[ this.caches.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddContext: function ( context ) {\r\n\r\n\t\tthis.context = Object.assign( {}, this.context, context );\r\n\t\tthis.context.extra = this.context.extra || {};\r\n\r\n\t\tthis.contexts.push( this.context );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveContext: function () {\r\n\r\n\t\tthis.contexts.pop();\r\n\t\tthis.context = this.contexts[ this.contexts.length - 1 ] || {};\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddSlot: function ( name ) {\r\n\r\n\t\tthis.slot = name || '';\r\n\t\tthis.slots.push( this.slot );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveSlot: function () {\r\n\r\n\t\tthis.slots.pop();\r\n\t\tthis.slot = this.slots[ this.slots.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\r\n\taddVertexCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddCode: function ( code, shader ) {\r\n\r\n\t\tthis.code[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddNodeCode: function ( code, shader ) {\r\n\r\n\t\tthis.nodeCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\tclearNodeCode: function ( shader ) {\r\n\r\n\t\tshader = shader || this.shader;\r\n\r\n\t\tvar code = this.nodeCode[ shader ];\r\n\r\n\t\tthis.nodeCode[ shader ] = '';\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tclearVertexNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'vertex' );\r\n\r\n\t},\r\n\r\n\tclearFragmentNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'fragment' );\r\n\r\n\t},\r\n\r\n\taddVertexFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddFinalCode: function ( code, shader ) {\r\n\r\n\t\tthis.finalCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddParsCode: function ( code, shader ) {\r\n\r\n\t\tthis.parsCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVaryCode: function ( code ) {\r\n\r\n\t\tthis.addVertexParsCode( code );\r\n\t\tthis.addFragmentParsCode( code );\r\n\r\n\t},\r\n\r\n\r\n\tisCache: function ( name ) {\r\n\r\n\t\treturn this.caches.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tisSlot: function ( name ) {\r\n\r\n\t\treturn this.slots.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tdefine: function ( name, value ) {\r\n\r\n\t\tthis.defines[ name ] = value === undefined ? 1 : value;\r\n\r\n\t},\r\n\r\n\trequire: function ( name ) {\r\n\r\n\t\tthis.requires[ name ] = true;\r\n\r\n\t},\r\n\r\n\tisDefined: function ( name ) {\r\n\r\n\t\treturn this.defines[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tgetVar: function ( uuid, type, ns, shader = 'varying', prefix = 'V', label = '' ) {\r\n\r\n\t\tvar vars = this.getVars( shader ),\r\n\t\t\tdata = vars[ uuid ];\r\n\r\n\t\tif ( ! data ) {\r\n\r\n\t\t\tvar index = vars.length,\r\n\t\t\t\tname = ns ? ns : 'node' + prefix + index + ( label ? '_' + label : '' );\r\n\r\n\t\t\tdata = { name: name, type: type };\r\n\r\n\t\t\tvars.push( data );\r\n\t\t\tvars[ uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tgetTempVar: function ( uuid, type, ns, label ) {\r\n\r\n\t\treturn this.getVar( uuid, type, ns, this.shader, 'T', label );\r\n\r\n\t},\r\n\r\n\tgetAttribute: function ( name, type ) {\r\n\r\n\t\tif ( ! this.attributes[ name ] ) {\r\n\r\n\t\t\tvar varying = this.getVar( name, type );\r\n\r\n\t\t\tthis.addVertexParsCode( 'attribute ' + type + ' ' + name + ';' );\r\n\t\t\tthis.addVertexFinalCode( varying.name + ' = ' + name + ';' );\r\n\r\n\t\t\tthis.attributes[ name ] = { varying: varying, name: name, type: type };\r\n\r\n\t\t}\r\n\r\n\t\treturn this.attributes[ name ];\r\n\r\n\t},\r\n\r\n\tgetCode: function ( shader ) {\r\n\r\n\t\treturn [\r\n\t\t\tthis.prefixCode,\r\n\t\t\tthis.parsCode[ shader ],\r\n\t\t\tthis.getVarListCode( this.getVars( 'varying' ), 'varying' ),\r\n\t\t\tthis.getVarListCode( this.inputs.uniforms[ shader ], 'uniform' ),\r\n\t\t\tthis.getIncludesCode( 'consts', shader ),\r\n\t\t\tthis.getIncludesCode( 'structs', shader ),\r\n\t\t\tthis.getIncludesCode( 'functions', shader ),\r\n\t\t\t'void main() {',\r\n\t\t\tthis.getVarListCode( this.getVars( shader ) ),\r\n\t\t\tthis.code[ shader ],\r\n\t\t\tthis.resultCode[ shader ],\r\n\t\t\tthis.finalCode[ shader ],\r\n\t\t\t'}'\r\n\t\t].join( \"\\n\" );\r\n\r\n\t},\r\n\r\n\tgetVarListCode: function ( vars, prefix ) {\r\n\r\n\t\tprefix = prefix || '';\r\n\r\n\t\tvar code = '';\r\n\r\n\t\tfor ( var i = 0, l = vars.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar nVar = vars[ i ],\r\n\t\t\t\ttype = nVar.type,\r\n\t\t\t\tname = nVar.name;\r\n\r\n\t\t\tvar formatType = this.getFormatByType( type );\r\n\r\n\t\t\tif ( formatType === undefined ) {\r\n\r\n\t\t\t\tthrow new Error( \"Node pars \" + formatType + \" not found.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcode += prefix + ' ' + formatType + ' ' + name + ';\\n';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetVars: function ( shader ) {\r\n\r\n\t\treturn this.inputs.vars[ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetNodeData: function ( node ) {\r\n\r\n\t\tvar uuid = node.isNode ? node.uuid : node;\r\n\r\n\t\treturn this.nodeData[ uuid ] = this.nodeData[ uuid ] || {};\r\n\r\n\t},\r\n\r\n\tcreateUniform: function ( shader, type, node, ns, needsUpdate, label ) {\r\n\r\n\t\tvar uniforms = this.inputs.uniforms,\r\n\t\t\tindex = uniforms.list.length;\r\n\r\n\t\tvar uniform = new NodeUniform( {\r\n\t\t\ttype: type,\r\n\t\t\tname: ns ? ns : 'nodeU' + index + ( label ? '_' + label : '' ),\r\n\t\t\tnode: node,\r\n\t\t\tneedsUpdate: needsUpdate\r\n\t\t} );\r\n\r\n\t\tuniforms.list.push( uniform );\r\n\r\n\t\tuniforms[ shader ].push( uniform );\r\n\t\tuniforms[ shader ][ uniform.name ] = uniform;\r\n\r\n\t\tthis.uniforms[ uniform.name ] = uniform;\r\n\r\n\t\treturn uniform;\r\n\r\n\t},\r\n\r\n\tcreateVertexUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'vertex', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tcreateFragmentUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'fragment', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tinclude: function ( node, parent, source ) {\r\n\r\n\t\tvar includesStruct;\r\n\r\n\t\tnode = typeof node === 'string' ? NodeLib.get( node ) : node;\r\n\r\n\t\tif ( this.context.include === false ) {\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t}\r\n\r\n\r\n\t\tif ( node instanceof FunctionNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.functions;\r\n\r\n\t\t} else if ( node instanceof ConstNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.consts;\r\n\r\n\t\t} else if ( node instanceof StructNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.structs;\r\n\r\n\t\t}\r\n\r\n\t\tvar includes = includesStruct[ this.shader ] = includesStruct[ this.shader ] || [];\r\n\r\n\t\tif ( node ) {\r\n\r\n\t\t\tvar included = includes[ node.name ];\r\n\r\n\t\t\tif ( ! included ) {\r\n\r\n\t\t\t\tincluded = includes[ node.name ] = {\r\n\t\t\t\t\tnode: node,\r\n\t\t\t\t\tdeps: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tincludes.push( included );\r\n\r\n\t\t\t\tincluded.src = node.build( this, 'source' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node instanceof FunctionNode && parent && includes[ parent.name ] && includes[ parent.name ].deps.indexOf( node ) == - 1 ) {\r\n\r\n\t\t\t\tincludes[ parent.name ].deps.push( node );\r\n\r\n\t\t\t\tif ( node.includes && node.includes.length ) {\r\n\r\n\t\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\t\tdo {\r\n\r\n\t\t\t\t\t\tthis.include( node.includes[ i ++ ], parent );\r\n\r\n\t\t\t\t\t} while ( i < node.includes.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( source ) {\r\n\r\n\t\t\t\tincluded.src = source;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( \"Include not found.\" );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcolorToVectorProperties: function ( color ) {\r\n\r\n\t\treturn color.replace( 'r', 'x' ).replace( 'g', 'y' ).replace( 'b', 'z' ).replace( 'a', 'w' );\r\n\r\n\t},\r\n\r\n\tcolorToVector: function ( color ) {\r\n\r\n\t\treturn color.replace( /c/g, 'v3' );\r\n\r\n\t},\r\n\r\n\tgetIncludes: function ( type, shader ) {\r\n\r\n\t\treturn this.includes[ type ][ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetIncludesCode: function () {\r\n\r\n\t\tfunction sortByPosition( a, b ) {\r\n\r\n\t\t\treturn a.deps.length - b.deps.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn function getIncludesCode( type, shader ) {\r\n\r\n\t\t\tvar includes = this.getIncludes( type, shader );\r\n\r\n\t\t\tif ( ! includes ) return '';\r\n\r\n\t\t\tvar code = '',\r\n\t\t\t\tincludes = includes.sort( sortByPosition );\r\n\r\n\t\t\tfor ( var i = 0; i < includes.length; i ++ ) {\r\n\r\n\t\t\t\tif ( includes[ i ].src ) code += includes[ i ].src + '\\n';\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn code;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetConstructorFromLength: function ( len ) {\r\n\r\n\t\treturn constructors[ len - 1 ];\r\n\r\n\t},\r\n\r\n\tisTypeMatrix: function ( format ) {\r\n\r\n\t\treturn /^m/.test( format );\r\n\r\n\t},\r\n\r\n\tgetTypeLength: function ( type ) {\r\n\r\n\t\tif ( type === 'f' ) return 1;\r\n\r\n\t\treturn parseInt( this.colorToVector( type ).substr( 1 ) );\r\n\r\n\t},\r\n\r\n\tgetTypeFromLength: function ( len ) {\r\n\r\n\t\tif ( len === 1 ) return 'f';\r\n\r\n\t\treturn 'v' + len;\r\n\r\n\t},\r\n\r\n\tfindNode: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined && nodeCandidate.isNode ) {\r\n\r\n\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tresolve: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined ) {\r\n\r\n\t\t\t\tif ( nodeCandidate.isNode ) {\r\n\r\n\t\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isTexture ) {\r\n\r\n\t\t\t\t\tswitch ( nodeCandidate.mapping ) {\r\n\r\n\t\t\t\t\t\tcase CubeReflectionMapping:\r\n\t\t\t\t\t\tcase CubeRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new CubeTextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase CubeUVReflectionMapping:\r\n\t\t\t\t\t\tcase CubeUVRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new TextureCubeNode( new TextureNode( nodeCandidate ) );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\treturn new TextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector2 ) {\r\n\r\n\t\t\t\t\treturn new Vector2Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector3 ) {\r\n\r\n\t\t\t\t\treturn new Vector3Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector4 ) {\r\n\r\n\t\t\t\t\treturn new Vector4Node( nodeCandidate );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tformat: function ( code, from, to ) {\r\n\r\n\t\tvar typeToType = this.colorToVector( to + ' <- ' + from );\r\n\r\n\t\tswitch ( typeToType ) {\r\n\r\n\t\t\tcase 'f <- v2' : return code + '.x';\r\n\t\t\tcase 'f <- v3' : return code + '.x';\r\n\t\t\tcase 'f <- v4' : return code + '.x';\r\n\t\t\tcase 'f <- i' :\r\n\t\t\tcase 'f <- b' :\treturn 'float( ' + code + ' )';\r\n\r\n\t\t\tcase 'v2 <- f' : return 'vec2( ' + code + ' )';\r\n\t\t\tcase 'v2 <- v3': return code + '.xy';\r\n\t\t\tcase 'v2 <- v4': return code + '.xy';\r\n\t\t\tcase 'v2 <- i' :\r\n\t\t\tcase 'v2 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v3 <- f' : return 'vec3( ' + code + ' )';\r\n\t\t\tcase 'v3 <- v2': return 'vec3( ' + code + ', 0.0 )';\r\n\t\t\tcase 'v3 <- v4': return code + '.xyz';\r\n\t\t\tcase 'v3 <- i' :\r\n\t\t\tcase 'v3 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v4 <- f' : return 'vec4( ' + code + ' )';\r\n\t\t\tcase 'v4 <- v2': return 'vec4( ' + code + ', 0.0, 1.0 )';\r\n\t\t\tcase 'v4 <- v3': return 'vec4( ' + code + ', 1.0 )';\r\n\t\t\tcase 'v4 <- i' :\r\n\t\t\tcase 'v4 <- b' : return 'vec4( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'i <- f' :\r\n\t\t\tcase 'i <- b' : return 'int( ' + code + ' )';\r\n\t\t\tcase 'i <- v2' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v3' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v4' : return 'int( ' + code + '.x )';\r\n\r\n\t\t\tcase 'b <- f' : return '( ' + code + ' != 0.0 )';\r\n\t\t\tcase 'b <- v2' : return '( ' + code + ' != vec2( 0.0 ) )';\r\n\t\t\tcase 'b <- v3' : return '( ' + code + ' != vec3( 0.0 ) )';\r\n\t\t\tcase 'b <- v4' : return '( ' + code + ' != vec4( 0.0 ) )';\r\n\t\t\tcase 'b <- i' : return '( ' + code + ' != 0 )';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetTypeByFormat: function ( format ) {\r\n\r\n\t\treturn convertFormatToType[ format ] || format;\r\n\r\n\t},\r\n\r\n\tgetFormatByType: function ( type ) {\r\n\r\n\t\treturn convertTypeToFormat[ type ] || type;\r\n\r\n\t},\r\n\r\n\tgetUuid: function ( uuid, useCache ) {\r\n\r\n\t\tuseCache = useCache !== undefined ? useCache : true;\r\n\r\n\t\tif ( useCache && this.cache ) uuid = this.cache + '-' + uuid;\r\n\r\n\t\treturn uuid;\r\n\r\n\t},\r\n\r\n\tgetElementByIndex: function ( index ) {\r\n\r\n\t\treturn elements[ index ];\r\n\r\n\t},\r\n\r\n\tgetIndexByElement: function ( elm ) {\r\n\r\n\t\treturn elements.indexOf( elm );\r\n\r\n\t},\r\n\r\n\tisShader: function ( shader ) {\r\n\r\n\t\treturn this.shader === shader;\r\n\r\n\t},\r\n\r\n\tsetShader: function ( shader ) {\r\n\r\n\t\tthis.shader = shader;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmergeDefines: function ( defines ) {\r\n\r\n\t\tfor ( var name in defines ) {\r\n\r\n\t\t\tthis.defines[ name ] = defines[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.defines;\r\n\r\n\t},\r\n\r\n\tmergeUniform: function ( uniforms ) {\r\n\r\n\t\tfor ( var name in uniforms ) {\r\n\r\n\t\t\tthis.uniforms[ name ] = uniforms[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.uniforms;\r\n\r\n\t},\r\n\r\n\tgetTextureEncodingFromMap: function ( map ) {\r\n\r\n\t\tvar encoding;\r\n\r\n\t\tif ( ! map ) {\r\n\r\n\t\t\tencoding = LinearEncoding;\r\n\r\n\t\t} else if ( map.isTexture ) {\r\n\r\n\t\t\tencoding = map.encoding;\r\n\r\n\t\t} else if ( map.isWebGLRenderTarget ) {\r\n\r\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\tencoding = map.texture.encoding;\r\n\r\n\t\t}\r\n\r\n\t\tif ( encoding === LinearEncoding && this.context.gamma ) {\r\n\r\n\t\t\tencoding = GammaEncoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn encoding;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeBuilder };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeBuilder.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector2Node( x, y ) {\r\n\r\n\tInputNode.call( this, 'v2' );\r\n\r\n\tthis.value = x instanceof Vector2 ? x : new Vector2( x, y );\r\n\r\n}\r\n\r\nVector2Node.prototype = Object.create( InputNode.prototype );\r\nVector2Node.prototype.constructor = Vector2Node;\r\nVector2Node.prototype.nodeType = \"Vector2\";\r\n\r\nNodeUtils.addShortcuts( Vector2Node.prototype, 'value', [ 'x', 'y' ] );\r\n\r\nVector2Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec2( \" + this.x + \", \" + this.y + \" )\", type, output );\r\n\r\n};\r\n\r\nVector2Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector2Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector2Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector2Node.js","var NodeUtils = {\r\n\r\n\telements: [ 'x', 'y', 'z', 'w' ],\r\n\r\n\taddShortcuts: function () {\r\n\r\n\t\tfunction applyShortcut( proxy, property, subProperty ) {\r\n\r\n\t\t\tif ( subProperty ) {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ][ subProperty ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ][ subProperty ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn function addShortcuts( proto, proxy, list ) {\r\n\r\n\t\t\tvar shortcuts = {};\r\n\r\n\t\t\tfor ( var i = 0; i < list.length; ++ i ) {\r\n\r\n\t\t\t\tvar data = list[ i ].split( \".\" ),\r\n\t\t\t\t\tproperty = data[ 0 ],\r\n\t\t\t\t\tsubProperty = data[ 1 ];\r\n\r\n\t\t\t\tshortcuts[ property ] = applyShortcut( proxy, property, subProperty );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tObject.defineProperties( proto, shortcuts );\r\n\r\n\t\t};\r\n\r\n\t}()\r\n\r\n};\r\n\r\nexport { NodeUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUtils.js","/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var mod={}, l=void 0,aa=mod;function r(c,d){var a=c.split(\".\"),b=aa;!(a[0]in b)&&b.execScript&&b.execScript(\"var \"+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==l?b[e]=d:b=b[e]?b[e]:b[e]={}};var t=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function v(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,k,m,n,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (t?Uint32Array:Array)(e);g=1;h=0;for(k=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){m=0;n=h;for(s=0;s<g;++s)m=m<<1|n&1,n>>=1;x=g<<16|p;for(s=m;s<e;s+=k)f[s]=x;++h}++g;h<<=1;k<<=1}return[f,a,b]};function w(c,d){this.g=[];this.h=32768;this.d=this.f=this.a=this.l=0;this.input=t?new Uint8Array(c):c;this.m=!1;this.i=y;this.r=!1;if(d||!(d={}))d.index&&(this.a=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.r=d.resize);switch(this.i){case A:this.b=32768;this.c=new (t?Uint8Array:Array)(32768+this.h+258);break;case y:this.b=0;this.c=new (t?Uint8Array:Array)(this.h);this.e=this.z;this.n=this.v;this.j=this.w;break;default:throw Error(\"invalid inflate mode\");\r\n}}var A=0,y=1,B={t:A,s:y};\r\nw.prototype.k=function(){for(;!this.m;){var c=C(this,3);c&1&&(this.m=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.a,b=this.c,e=this.b,f=d.length,g=l,h=l,k=b.length,m=l;this.d=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=d[a++]|d[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>d.length)throw Error(\"input buffer is broken\");switch(this.i){case A:for(;e+\r\ng>b.length;){m=k-e;g-=m;if(t)b.set(d.subarray(a,a+m),e),e+=m,a+=m;else for(;m--;)b[e++]=d[a++];this.b=e;b=this.e();e=this.b}break;case y:for(;e+g>b.length;)b=this.e({p:2});break;default:throw Error(\"invalid inflate mode\");}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.a=a;this.b=e;this.c=b;break;case 1:this.j(ba,ca);break;case 2:for(var n=C(this,5)+257,p=C(this,5)+1,s=C(this,4)+4,x=new (t?Uint8Array:Array)(D.length),S=l,T=l,U=l,u=l,M=l,F=l,z=l,q=l,V=l,q=0;q<s;++q)x[D[q]]=\r\nC(this,3);if(!t){q=s;for(s=x.length;q<s;++q)x[D[q]]=0}S=v(x);u=new (t?Uint8Array:Array)(n+p);q=0;for(V=n+p;q<V;)switch(M=E(this,S),M){case 16:for(z=3+C(this,2);z--;)u[q++]=F;break;case 17:for(z=3+C(this,3);z--;)u[q++]=0;F=0;break;case 18:for(z=11+C(this,7);z--;)u[q++]=0;F=0;break;default:F=u[q++]=M}T=t?v(u.subarray(0,n)):v(u.slice(0,n));U=t?v(u.subarray(n)):v(u.slice(n));this.j(T,U);break;default:throw Error(\"unknown BTYPE: \"+c);}}return this.n()};\r\nvar G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=t?new Uint16Array(G):G,H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],I=t?new Uint16Array(H):H,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],K=t?new Uint8Array(J):J,L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=t?new Uint16Array(L):L,ea=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,\r\n13,13],N=t?new Uint8Array(ea):ea,O=new (t?Uint8Array:Array)(288),P,fa;P=0;for(fa=O.length;P<fa;++P)O[P]=143>=P?8:255>=P?9:279>=P?7:8;var ba=v(O),Q=new (t?Uint8Array:Array)(30),R,ga;R=0;for(ga=Q.length;R<ga;++R)Q[R]=5;var ca=v(Q);function C(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h;b<d;){if(f>=g)throw Error(\"input buffer is broken\");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.d=b-d;c.a=f;return h}\r\nfunction E(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h=d[0],k=d[1],m,n;b<k&&!(f>=g);)a|=e[f++]<<b,b+=8;m=h[a&(1<<k)-1];n=m>>>16;if(n>b)throw Error(\"invalid code length: \"+n);c.f=a>>n;c.d=b-n;c.a=f;return m&65535}\r\nw.prototype.j=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length-258,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(this.b=b,a=this.e(),b=this.b),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b>=e&&(this.b=b,a=this.e(),b=this.b);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.w=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b+k>e&&(a=this.e(),e=a.length);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.e=function(){var c=new (t?Uint8Array:Array)(this.b-32768),d=this.b-32768,a,b,e=this.c;if(t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.l+=c.length;if(t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.b=32768;return e};\r\nw.prototype.z=function(c){var d,a=this.input.length/this.a+1|0,b,e,f,g=this.input,h=this.c;c&&(\"number\"===typeof c.p&&(a=c.p),\"number\"===typeof c.u&&(a+=c.u));2>a?(b=(g.length-this.a)/this.o[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;t?(d=new Uint8Array(e),d.set(h)):d=h;return this.c=d};\r\nw.prototype.n=function(){var c=0,d=this.c,a=this.g,b,e=new (t?Uint8Array:Array)(this.l+(this.b-32768)),f,g,h,k;if(0===a.length)return t?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(k=b.length;h<k;++h)e[c++]=b[h]}f=32768;for(g=this.b;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};\r\nw.prototype.v=function(){var c,d=this.b;t?this.r?(c=new Uint8Array(d),c.set(this.c.subarray(0,d))):c=this.c.subarray(0,d):(this.c.length>d&&(this.c.length=d),c=this.c);return this.buffer=c};function W(c,d){var a,b;this.input=c;this.a=0;if(d||!(d={}))d.index&&(this.a=d.index),d.verify&&(this.A=d.verify);a=c[this.a++];b=c[this.a++];switch(a&15){case ha:this.method=ha;break;default:throw Error(\"unsupported compression method\");}if(0!==((a<<8)+b)%31)throw Error(\"invalid fcheck flag:\"+((a<<8)+b)%31);if(b&32)throw Error(\"fdict flag is not supported\");this.q=new w(c,{index:this.a,bufferSize:d.bufferSize,bufferType:d.bufferType,resize:d.resize})}\r\nW.prototype.k=function(){var c=this.input,d,a;d=this.q.k();this.a=this.q.a;if(this.A){a=(c[this.a++]<<24|c[this.a++]<<16|c[this.a++]<<8|c[this.a++])>>>0;var b=d;if(\"string\"===typeof b){var e=b.split(\"\"),f,g;f=0;for(g=e.length;f<g;f++)e[f]=(e[f].charCodeAt(0)&255)>>>0;b=e}for(var h=1,k=0,m=b.length,n,p=0;0<m;){n=1024<m?1024:m;m-=n;do h+=b[p++],k+=h;while(--n);h%=65521;k%=65521}if(a!==(k<<16|h)>>>0)throw Error(\"invalid adler-32 checksum\");}return d};var ha=8;r(\"Zlib.Inflate\",W);r(\"Zlib.Inflate.prototype.decompress\",W.prototype.k);var X={ADAPTIVE:B.s,BLOCK:B.t},Y,Z,$,ia;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(ia=Y.length;$<ia;++$)Z=Y[$],r(\"Zlib.Inflate.BufferType.\"+Z,X[Z]);\r\nvar Inflate=mod.Zlib.Inflate;\r\nexport { Inflate }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/inflate.module.min.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector3Node( x, y, z ) {\r\n\r\n\tInputNode.call( this, 'v3' );\r\n\r\n\tthis.value = x instanceof Vector3 ? x : new Vector3( x, y, z );\r\n\r\n}\r\n\r\nVector3Node.prototype = Object.create( InputNode.prototype );\r\nVector3Node.prototype.constructor = Vector3Node;\r\nVector3Node.prototype.nodeType = \"Vector3\";\r\n\r\nNodeUtils.addShortcuts( Vector3Node.prototype, 'value', [ 'x', 'y', 'z' ] );\r\n\r\nVector3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.x + \", \" + this.y + \", \" + this.z + \" )\", type, output );\r\n\r\n};\r\n\r\nVector3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector3Node.js","import {\r\n\tGammaEncoding,\r\n\tLinearEncoding,\r\n\tRGBEEncoding,\r\n\tRGBM7Encoding,\r\n\tRGBM16Encoding,\r\n\tRGBDEncoding,\r\n\tsRGBEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction ColorSpaceNode( input, method ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.method = method || ColorSpaceNode.LINEAR_TO_LINEAR;\r\n\r\n}\r\n\r\nColorSpaceNode.Nodes = ( function () {\r\n\r\n\t// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\r\n\r\n\tvar LinearToLinear = new FunctionNode( [\r\n\t\t\"vec4 LinearToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn value;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar GammaToLinear = new FunctionNode( [\r\n\t\t\"vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToGamma = new FunctionNode( [\r\n\t\t\"vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar sRGBToLinear = new FunctionNode( [\r\n\t\t\"vec4 sRGBToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearTosRGB = new FunctionNode( [\r\n\t\t\"vec4 LinearTosRGB( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar RGBEToLinear = new FunctionNode( [\r\n\t\t\"vec4 RGBEToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBE = new FunctionNode( [\r\n\t\t\"vec4 LinearToRGBE( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat maxComponent = max( max( value.r, value.g ), value.b );\",\r\n\t\t\"\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\",\r\n\t\t\"\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\",\r\n\t\t//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBMToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBMToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBM = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBM( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\",\r\n\t\t\"\tM            = ceil( M * 255.0 ) / 255.0;\",\r\n\t\t\"\treturn vec4( value.rgb / ( M * maxRange ), M );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBDToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBDToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\r\n\tvar LinearToRGBD = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBD( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat D      = max( maxRange / maxRGB, 1.0 );\",\r\n\t\t\"\tD            = clamp( floor( D ) / 255.0, 0.0, 1.0 );\",\r\n\t\t\"\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\r\n\r\n\t// M matrix, for encoding\r\n\r\n\tvar cLogLuvM = new ConstNode( \"const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\" );\r\n\r\n\tvar LinearToLogLuv = new FunctionNode( [\r\n\t\t\"vec4 LinearToLogLuv( in vec4 value ) {\",\r\n\r\n\t\t\"\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\",\r\n\t\t\"\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\",\r\n\t\t\"\tvec4 vResult;\",\r\n\t\t\"\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\",\r\n\t\t\"\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\",\r\n\t\t\"\tvResult.w = fract(Le);\",\r\n\t\t\"\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\",\r\n\t\t\"\treturn vResult;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvM ] );\r\n\r\n\t// Inverse M matrix, for decoding\r\n\r\n\tvar cLogLuvInverseM = new ConstNode( \"const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\" );\r\n\r\n\tvar LogLuvToLinear = new FunctionNode( [\r\n\t\t\"vec4 LogLuvToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat Le = value.z * 255.0 + value.w;\",\r\n\t\t\"\tvec3 Xp_Y_XYZp;\",\r\n\t\t\"\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\",\r\n\t\t\"\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\",\r\n\t\t\"\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\",\r\n\t\t\"\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\",\r\n\t\t\"\treturn vec4( max(vRGB, 0.0), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvInverseM ] );\r\n\r\n\treturn {\r\n\t\tLinearToLinear: LinearToLinear,\r\n\t\tGammaToLinear: GammaToLinear,\r\n\t\tLinearToGamma: LinearToGamma,\r\n\t\tsRGBToLinear: sRGBToLinear,\r\n\t\tLinearTosRGB: LinearTosRGB,\r\n\t\tRGBEToLinear: RGBEToLinear,\r\n\t\tLinearToRGBE: LinearToRGBE,\r\n\t\tRGBMToLinear: RGBMToLinear,\r\n\t\tLinearToRGBM: LinearToRGBM,\r\n\t\tRGBDToLinear: RGBDToLinear,\r\n\t\tLinearToRGBD: LinearToRGBD,\r\n\t\tcLogLuvM: cLogLuvM,\r\n\t\tLinearToLogLuv: LinearToLogLuv,\r\n\t\tcLogLuvInverseM: cLogLuvInverseM,\r\n\t\tLogLuvToLinear: LogLuvToLinear\r\n\t};\r\n\r\n} )();\r\n\r\nColorSpaceNode.LINEAR_TO_LINEAR = 'LinearToLinear';\r\n\r\nColorSpaceNode.GAMMA_TO_LINEAR = 'GammaToLinear';\r\nColorSpaceNode.LINEAR_TO_GAMMA = 'LinearToGamma';\r\n\r\nColorSpaceNode.SRGB_TO_LINEAR = 'sRGBToLinear';\r\nColorSpaceNode.LINEAR_TO_SRGB = 'LinearTosRGB';\r\n\r\nColorSpaceNode.RGBE_TO_LINEAR = 'RGBEToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBE = 'LinearToRGBE';\r\n\r\nColorSpaceNode.RGBM_TO_LINEAR = 'RGBMToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBM = 'LinearToRGBM';\r\n\r\nColorSpaceNode.RGBD_TO_LINEAR = 'RGBDToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBD = 'LinearToRGBD';\r\n\r\nColorSpaceNode.LINEAR_TO_LOG_LUV = 'LinearToLogLuv';\r\nColorSpaceNode.LOG_LUV_TO_LINEAR = 'LogLuvToLinear';\r\n\r\nColorSpaceNode.getEncodingComponents = function ( encoding ) {\r\n\r\n\tswitch ( encoding ) {\r\n\r\n\t\tcase LinearEncoding:\r\n\t\t\treturn [ 'Linear' ];\r\n\t\tcase sRGBEncoding:\r\n\t\t\treturn [ 'sRGB' ];\r\n\t\tcase RGBEEncoding:\r\n\t\t\treturn [ 'RGBE' ];\r\n\t\tcase RGBM7Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 7.0 ).setReadonly( true ) ];\r\n\t\tcase RGBM16Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 16.0 ).setReadonly( true ) ];\r\n\t\tcase RGBDEncoding:\r\n\t\t\treturn [ 'RGBD', new FloatNode( 256.0 ).setReadonly( true ) ];\r\n\t\tcase GammaEncoding:\r\n\t\t\treturn [ 'Gamma', new ExpressionNode( 'float( GAMMA_FACTOR )', 'f' ) ];\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype = Object.create( TempNode.prototype );\r\nColorSpaceNode.prototype.constructor = ColorSpaceNode;\r\nColorSpaceNode.prototype.nodeType = \"ColorSpace\";\r\nColorSpaceNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorSpaceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar input = this.input.build( builder, 'v4' );\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tvar methodNode = ColorSpaceNode.Nodes[ this.method ];\r\n\tvar method = builder.include( methodNode );\r\n\r\n\tif ( method === ColorSpaceNode.LINEAR_TO_LINEAR ) {\r\n\r\n\t\treturn builder.format( input, outputType, output );\r\n\r\n\t} else {\r\n\r\n\t\tif ( methodNode.inputs.length === 2 ) {\r\n\r\n\t\t\tvar factor = this.factor.build( builder, 'f' );\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ', ' + factor + ' )', outputType, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ' )', outputType, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromEncoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = 'LinearTo' + components[ 0 ];\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromDecoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = components[ 0 ] + 'ToLinear';\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.input = source.input;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.input = this.input.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorSpaceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/ColorSpaceNode.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = EKta\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = EuP9\n// module chunks = 0","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tTrianglesDrawMode,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar BufferGeometryUtils = {\r\n\r\n\tcomputeTangents: function ( geometry ) {\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar attributes = geometry.attributes;\r\n\r\n\t\t// based on http://www.terathon.com/code/tangent.html\r\n\t\t// (per vertex tangents)\r\n\r\n\t\tif ( index === null ||\r\n\t\t\t attributes.position === undefined ||\r\n\t\t\t attributes.normal === undefined ||\r\n\t\t\t attributes.uv === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = index.array;\r\n\t\tvar positions = attributes.position.array;\r\n\t\tvar normals = attributes.normal.array;\r\n\t\tvar uvs = attributes.uv.array;\r\n\r\n\t\tvar nVertices = positions.length / 3;\r\n\r\n\t\tif ( attributes.tangent === undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar tangents = attributes.tangent.array;\r\n\r\n\t\tvar tan1 = [], tan2 = [];\r\n\r\n\t\tfor ( var i = 0; i < nVertices; i ++ ) {\r\n\r\n\t\t\ttan1[ i ] = new Vector3();\r\n\t\t\ttan2[ i ] = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tvar vA = new Vector3(),\r\n\t\t\tvB = new Vector3(),\r\n\t\t\tvC = new Vector3(),\r\n\r\n\t\t\tuvA = new Vector2(),\r\n\t\t\tuvB = new Vector2(),\r\n\t\t\tuvC = new Vector2(),\r\n\r\n\t\t\tsdir = new Vector3(),\r\n\t\t\ttdir = new Vector3();\r\n\r\n\t\tfunction handleTriangle( a, b, c ) {\r\n\r\n\t\t\tvA.fromArray( positions, a * 3 );\r\n\t\t\tvB.fromArray( positions, b * 3 );\r\n\t\t\tvC.fromArray( positions, c * 3 );\r\n\r\n\t\t\tuvA.fromArray( uvs, a * 2 );\r\n\t\t\tuvB.fromArray( uvs, b * 2 );\r\n\t\t\tuvC.fromArray( uvs, c * 2 );\r\n\r\n\t\t\tvB.sub( vA );\r\n\t\t\tvC.sub( vA );\r\n\r\n\t\t\tuvB.sub( uvA );\r\n\t\t\tuvC.sub( uvA );\r\n\r\n\t\t\tvar r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\r\n\r\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\r\n\r\n\t\t\tif ( ! isFinite( r ) ) return;\r\n\r\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\r\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\r\n\r\n\t\t\ttan1[ a ].add( sdir );\r\n\t\t\ttan1[ b ].add( sdir );\r\n\t\t\ttan1[ c ].add( sdir );\r\n\r\n\t\t\ttan2[ a ].add( tdir );\r\n\t\t\ttan2[ b ].add( tdir );\r\n\t\t\ttan2[ c ].add( tdir );\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = geometry.groups;\r\n\r\n\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\tgroups = [ {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tcount: indices.length\r\n\t\t\t} ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleTriangle(\r\n\t\t\t\t\tindices[ j + 0 ],\r\n\t\t\t\t\tindices[ j + 1 ],\r\n\t\t\t\t\tindices[ j + 2 ]\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar tmp = new Vector3(), tmp2 = new Vector3();\r\n\t\tvar n = new Vector3(), n2 = new Vector3();\r\n\t\tvar w, t, test;\r\n\r\n\t\tfunction handleVertex( v ) {\r\n\r\n\t\t\tn.fromArray( normals, v * 3 );\r\n\t\t\tn2.copy( n );\r\n\r\n\t\t\tt = tan1[ v ];\r\n\r\n\t\t\t// Gram-Schmidt orthogonalize\r\n\r\n\t\t\ttmp.copy( t );\r\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\r\n\r\n\t\t\t// Calculate handedness\r\n\r\n\t\t\ttmp2.crossVectors( n2, t );\r\n\t\t\ttest = tmp2.dot( tan2[ v ] );\r\n\t\t\tw = ( test < 0.0 ) ? - 1.0 : 1.0;\r\n\r\n\t\t\ttangents[ v * 4 ] = tmp.x;\r\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\r\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\r\n\t\t\ttangents[ v * 4 + 3 ] = w;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleVertex( indices[ j + 0 ] );\r\n\t\t\t\thandleVertex( indices[ j + 1 ] );\r\n\t\t\t\thandleVertex( indices[ j + 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param  {Array<BufferGeometry>} geometries\r\n\t * @param  {Boolean} useGroups\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tmergeBufferGeometries: function ( geometries, useGroups ) {\r\n\r\n\t\tvar isIndexed = geometries[ 0 ].index !== null;\r\n\r\n\t\tvar attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\r\n\t\tvar morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\r\n\r\n\t\tvar attributes = {};\r\n\t\tvar morphAttributes = {};\r\n\r\n\t\tvar morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\r\n\r\n\t\tvar mergedGeometry = new BufferGeometry();\r\n\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\tvar geometry = geometries[ i ];\r\n\t\t\tvar attributesCount = 0;\r\n\r\n\t\t\t// ensure that all geometries are indexed, or none\r\n\r\n\t\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather attributes, exit early if they're different\r\n\r\n\t\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\t\tif ( ! attributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\r\n\r\n\t\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\r\n\r\n\t\t\t\tattributesCount ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// ensure geometries have the same number of attributes\r\n\r\n\t\t\tif ( attributesCount !== attributesUsed.size ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather morph attributes, exit early if they're different\r\n\r\n\t\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var name in geometry.morphAttributes ) {\r\n\r\n\t\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\r\n\r\n\t\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather .userData\r\n\r\n\t\t\tmergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || [];\r\n\t\t\tmergedGeometry.userData.mergedUserData.push( geometry.userData );\r\n\r\n\t\t\tif ( useGroups ) {\r\n\r\n\t\t\t\tvar count;\r\n\r\n\t\t\t\tif ( isIndexed ) {\r\n\r\n\t\t\t\t\tcount = geometry.index.count;\r\n\r\n\t\t\t\t} else if ( geometry.attributes.position !== undefined ) {\r\n\r\n\t\t\t\t\tcount = geometry.attributes.position.count;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.addGroup( offset, count, i );\r\n\r\n\t\t\t\toffset += count;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// merge indices\r\n\r\n\t\tif ( isIndexed ) {\r\n\r\n\t\t\tvar indexOffset = 0;\r\n\t\t\tvar mergedIndex = [];\r\n\r\n\t\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\t\tvar index = geometries[ i ].index;\r\n\r\n\t\t\t\tfor ( var j = 0; j < index.count; ++ j ) {\r\n\r\n\t\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindexOffset += geometries[ i ].attributes.position.count;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setIndex( mergedIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// merge attributes\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tvar mergedAttribute = this.mergeBufferAttributes( attributes[ name ] );\r\n\r\n\t\t\tif ( ! mergedAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setAttribute( name, mergedAttribute );\r\n\r\n\t\t}\r\n\r\n\t\t// merge morph attributes\r\n\r\n\t\tfor ( var name in morphAttributes ) {\r\n\r\n\t\t\tvar numMorphTargets = morphAttributes[ name ][ 0 ].length;\r\n\r\n\t\t\tif ( numMorphTargets === 0 ) break;\r\n\r\n\t\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\r\n\t\t\tmergedGeometry.morphAttributes[ name ] = [];\r\n\r\n\t\t\tfor ( var i = 0; i < numMorphTargets; ++ i ) {\r\n\r\n\t\t\t\tvar morphAttributesToMerge = [];\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttributes[ name ].length; ++ j ) {\r\n\r\n\t\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar mergedMorphAttribute = this.mergeBufferAttributes( morphAttributesToMerge );\r\n\r\n\t\t\t\tif ( ! mergedMorphAttribute ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn mergedGeometry;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {BufferAttribute}\r\n\t */\r\n\tmergeBufferAttributes: function ( attributes ) {\r\n\r\n\t\tvar TypedArray;\r\n\t\tvar itemSize;\r\n\t\tvar normalized;\r\n\t\tvar arrayLength = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\r\n\t\t\tif ( itemSize !== attribute.itemSize ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( normalized === undefined ) normalized = attribute.normalized;\r\n\t\t\tif ( normalized !== attribute.normalized ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\r\n\t\t}\r\n\r\n\t\tvar array = new TypedArray( arrayLength );\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tarray.set( attributes[ i ].array, offset );\r\n\r\n\t\t\toffset += attributes[ i ].array.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {Array<InterleavedBufferAttribute>}\r\n\t */\r\n\tinterleaveAttributes: function ( attributes ) {\r\n\r\n\t\t// Interleaves the provided attributes into an InterleavedBuffer and returns\r\n\t\t// a set of InterleavedBufferAttributes for each attribute\r\n\t\tvar TypedArray;\r\n\t\tvar arrayLength = 0;\r\n\t\tvar stride = 0;\r\n\r\n\t\t// calculate the the length and type of the interleavedBuffer\r\n\t\tfor ( var i = 0, l = attributes.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\t\t\tstride += attribute.itemSize;\r\n\r\n\t\t}\r\n\r\n\t\t// Create the set of buffer attributes\r\n\t\tvar interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\r\n\t\tvar offset = 0;\r\n\t\tvar res = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\t\tvar setters = [ 'setX', 'setY', 'setZ', 'setW' ];\r\n\r\n\t\tfor ( var j = 0, l = attributes.length; j < l; j ++ ) {\r\n\r\n\t\t\tvar attribute = attributes[ j ];\r\n\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\tvar count = attribute.count;\r\n\t\t\tvar iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\r\n\t\t\tres.push( iba );\r\n\r\n\t\t\toffset += itemSize;\r\n\r\n\t\t\t// Move the data for each attribute into the new interleavedBuffer\r\n\t\t\t// at the appropriate offset\r\n\t\t\tfor ( var c = 0; c < count; c ++ ) {\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferGeometry>} geometry\r\n\t * @return {number}\r\n\t */\r\n\testimateBytesUsed: function ( geometry ) {\r\n\r\n\t\t// Return the estimated memory used by this geometry in bytes\r\n\t\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\r\n\t\t// for InterleavedBufferAttributes.\r\n\t\tvar mem = 0;\r\n\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\tvar attr = geometry.getAttribute( name );\r\n\t\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\r\n\t\treturn mem;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} tolerance\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\tmergeVertices: function ( geometry, tolerance = 1e-4 ) {\r\n\r\n\t\ttolerance = Math.max( tolerance, Number.EPSILON );\r\n\r\n\t\t// Generate an index buffer if the geometry doesn't have one, or optimize it\r\n\t\t// if it's already available.\r\n\t\tvar hashToIndex = {};\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tvar positions = geometry.getAttribute( 'position' );\r\n\t\tvar vertexCount = indices ? indices.count : positions.count;\r\n\r\n\t\t// next value for triangle indices\r\n\t\tvar nextIndex = 0;\r\n\r\n\t\t// attributes and new attribute arrays\r\n\t\tvar attributeNames = Object.keys( geometry.attributes );\r\n\t\tvar attrArrays = {};\r\n\t\tvar morphAttrsArrays = {};\r\n\t\tvar newIndices = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\r\n\t\t// initialize the arrays\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\r\n\t\t\tattrArrays[ name ] = [];\r\n\r\n\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\tmorphAttrsArrays[ name ] = new Array( morphAttr.length ).fill().map( () => [] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// convert the error tolerance to an amount of decimal places to truncate to\r\n\t\tvar decimalShift = Math.log10( 1 / tolerance );\r\n\t\tvar shiftMultiplier = Math.pow( 10, decimalShift );\r\n\t\tfor ( var i = 0; i < vertexCount; i ++ ) {\r\n\r\n\t\t\tvar index = indices ? indices.getX( i ) : i;\r\n\r\n\t\t\t// Generate a hash for the vertex attributes at the current index 'i'\r\n\t\t\tvar hash = '';\r\n\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\tvar itemSize = attribute.itemSize;\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t// double tilde truncates the decimal value\r\n\t\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * shiftMultiplier ) },`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Add another reference to the vertex if it's already\r\n\t\t\t// used by another index\r\n\t\t\tif ( hash in hashToIndex ) {\r\n\r\n\t\t\t\tnewIndices.push( hashToIndex[ hash ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// copy data to the new index in the attribute arrays\r\n\t\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\t\t\tvar newarray = attrArrays[ name ];\r\n\t\t\t\t\tvar newMorphArrays = morphAttrsArrays[ name ];\r\n\r\n\t\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t\tvar getterFunc = getters[ k ];\r\n\t\t\t\t\t\tnewarray.push( attribute[ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var m = 0, ml = morphAttr.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tnewMorphArrays[ m ].push( morphAttr[ m ][ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\thashToIndex[ hash ] = nextIndex;\r\n\t\t\t\tnewIndices.push( nextIndex );\r\n\t\t\t\tnextIndex ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Generate typed arrays from new attribute arrays and update\r\n\t\t// the attributeBuffers\r\n\t\tconst result = geometry.clone();\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\t\t\tvar oldAttribute = geometry.getAttribute( name );\r\n\r\n\t\t\tvar buffer = new oldAttribute.array.constructor( attrArrays[ name ] );\r\n\t\t\tvar attribute = new BufferAttribute( buffer, oldAttribute.itemSize, oldAttribute.normalized );\r\n\r\n\t\t\tresult.setAttribute( name, attribute );\r\n\r\n\t\t\t// Update the attribute arrays\r\n\t\t\tif ( name in morphAttrsArrays ) {\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttrsArrays[ name ].length; j ++ ) {\r\n\r\n\t\t\t\t\tvar oldMorphAttribute = geometry.morphAttributes[ name ][ j ];\r\n\r\n\t\t\t\t\tvar buffer = new oldMorphAttribute.array.constructor( morphAttrsArrays[ name ][ j ] );\r\n\t\t\t\t\tvar morphAttribute = new BufferAttribute( buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized );\r\n\t\t\t\t\tresult.morphAttributes[ name ][ j ] = morphAttribute;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tresult.setIndex( newIndices );\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} drawMode\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\ttoTrianglesDrawMode: function ( geometry, drawMode ) {\r\n\r\n\t\tif ( drawMode === TrianglesDrawMode ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\r\n\r\n\t\t\tvar index = geometry.getIndex();\r\n\r\n\t\t\t// generate index if not present\r\n\r\n\t\t\tif ( index === null ) {\r\n\r\n\t\t\t\tvar indices = [];\r\n\r\n\t\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\t\treturn geometry;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tvar numberOfTriangles = index.count - 2;\r\n\t\t\tvar newIndices = [];\r\n\r\n\t\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// build final geometry\r\n\r\n\t\t\tvar newGeometry = geometry.clone();\r\n\t\t\tnewGeometry.setIndex( newIndices );\r\n\t\t\tnewGeometry.clearGroups();\r\n\r\n\t\t\treturn newGeometry;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { BufferGeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/BufferGeometryUtils.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// https://github.com/mrdoob/three.js/issues/5552\r\n// http://en.wikipedia.org/wiki/RGBE_image_format\r\n\r\nvar RGBELoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nRGBELoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: RGBELoader,\r\n\r\n\t// adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tvar\r\n\t\t\t/* return codes for rgbe routines */\r\n\t\t\t//RGBE_RETURN_SUCCESS = 0,\r\n\t\t\tRGBE_RETURN_FAILURE = - 1,\r\n\r\n\t\t\t/* default error routine.  change this to change error handling */\r\n\t\t\trgbe_read_error = 1,\r\n\t\t\trgbe_write_error = 2,\r\n\t\t\trgbe_format_error = 3,\r\n\t\t\trgbe_memory_error = 4,\r\n\t\t\trgbe_error = function ( rgbe_error_code, msg ) {\r\n\r\n\t\t\t\tswitch ( rgbe_error_code ) {\r\n\r\n\t\t\t\t\tcase rgbe_read_error: console.error( \"RGBELoader Read Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_write_error: console.error( \"RGBELoader Write Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_format_error: console.error( \"RGBELoader Bad File Format: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tcase rgbe_memory_error: console.error( \"RGBELoader: Error: \" + ( msg || '' ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn RGBE_RETURN_FAILURE;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* offsets to red, green, and blue components in a data (float) pixel */\r\n\t\t\t//RGBE_DATA_RED = 0,\r\n\t\t\t//RGBE_DATA_GREEN = 1,\r\n\t\t\t//RGBE_DATA_BLUE = 2,\r\n\r\n\t\t\t/* number of floats per pixel, use 4 since stored in rgba image format */\r\n\t\t\t//RGBE_DATA_SIZE = 4,\r\n\r\n\t\t\t/* flags indicating which fields in an rgbe_header_info are valid */\r\n\t\t\tRGBE_VALID_PROGRAMTYPE = 1,\r\n\t\t\tRGBE_VALID_FORMAT = 2,\r\n\t\t\tRGBE_VALID_DIMENSIONS = 4,\r\n\r\n\t\t\tNEWLINE = \"\\n\",\r\n\r\n\t\t\tfgets = function ( buffer, lineLimit, consume ) {\r\n\r\n\t\t\t\tlineLimit = ! lineLimit ? 1024 : lineLimit;\r\n\t\t\t\tvar p = buffer.pos,\r\n\t\t\t\t\ti = - 1, len = 0, s = '', chunkSize = 128,\r\n\t\t\t\t\tchunk = String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) )\r\n\t\t\t\t;\r\n\t\t\t\twhile ( ( 0 > ( i = chunk.indexOf( NEWLINE ) ) ) && ( len < lineLimit ) && ( p < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\ts += chunk; len += chunk.length;\r\n\t\t\t\t\tp += chunkSize;\r\n\t\t\t\t\tchunk += String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( - 1 < i ) {\r\n\r\n\t\t\t\t\t/*for (i=l-1; i>=0; i--) {\r\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\r\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\r\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\r\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\r\n\t\t\t\t\t}*/\r\n\t\t\t\t\tif ( false !== consume ) buffer.pos += len + i + 1;\r\n\t\t\t\t\treturn s + chunk.slice( 0, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* minimal header reading.  modify if you want to parse more information */\r\n\t\t\tRGBE_ReadHeader = function ( buffer ) {\r\n\r\n\t\t\t\tvar line, match,\r\n\r\n\t\t\t\t\t// regexes to parse header info fields\r\n\t\t\t\t\tmagic_token_re = /^#\\?(\\S+)$/,\r\n\t\t\t\t\tgamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\texposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\tformat_re = /^\\s*FORMAT=(\\S+)\\s*$/,\r\n\t\t\t\t\tdimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\r\n\r\n\t\t\t\t\t// RGBE format header struct\r\n\t\t\t\t\theader = {\r\n\r\n\t\t\t\t\t\tvalid: 0, /* indicate which fields are valid */\r\n\r\n\t\t\t\t\t\tstring: '', /* the actual header string */\r\n\r\n\t\t\t\t\t\tcomments: '', /* comments found in header */\r\n\r\n\t\t\t\t\t\tprogramtype: 'RGBE', /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\r\n\r\n\t\t\t\t\t\tformat: '', /* RGBE format, default 32-bit_rle_rgbe */\r\n\r\n\t\t\t\t\t\tgamma: 1.0, /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\r\n\r\n\t\t\t\t\t\texposure: 1.0, /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\r\n\r\n\t\t\t\t\t\twidth: 0, height: 0 /* image dimensions, width/height */\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tif ( buffer.pos >= buffer.byteLength || ! ( line = fgets( buffer ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_read_error, \"no header found\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* if you want to require the magic token then uncomment the next line */\r\n\t\t\t\tif ( ! ( match = line.match( magic_token_re ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad initial token\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\theader.valid |= RGBE_VALID_PROGRAMTYPE;\r\n\t\t\t\theader.programtype = match[ 1 ];\r\n\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\twhile ( true ) {\r\n\r\n\t\t\t\t\tline = fgets( buffer );\r\n\t\t\t\t\tif ( false === line ) break;\r\n\t\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\t\tif ( '#' === line.charAt( 0 ) ) {\r\n\r\n\t\t\t\t\t\theader.comments += line + \"\\n\";\r\n\t\t\t\t\t\tcontinue; // comment line\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( gamma_re ) ) {\r\n\r\n\t\t\t\t\t\theader.gamma = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( exposure_re ) ) {\r\n\r\n\t\t\t\t\t\theader.exposure = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( format_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_FORMAT;\r\n\t\t\t\t\t\theader.format = match[ 1 ];//'32-bit_rle_rgbe';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( dimensions_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_DIMENSIONS;\r\n\t\t\t\t\t\theader.height = parseInt( match[ 1 ], 10 );\r\n\t\t\t\t\t\theader.width = parseInt( match[ 2 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ( header.valid & RGBE_VALID_FORMAT ) && ( header.valid & RGBE_VALID_DIMENSIONS ) ) break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_FORMAT ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing format specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_DIMENSIONS ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing image size specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn header;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tRGBE_ReadPixels_RLE = function ( buffer, w, h ) {\r\n\r\n\t\t\t\tvar data_rgba, offset, pos, count, byteValue,\r\n\t\t\t\t\tscanline_buffer, ptr, ptr_end, i, l, off, isEncodedRun,\r\n\t\t\t\t\tscanline_width = w, num_scanlines = h, rgbeStart\r\n\t\t\t\t;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t// run length encoding is not allowed so read flat\r\n\t\t\t\t\t( ( scanline_width < 8 ) || ( scanline_width > 0x7fff ) ) ||\r\n\t\t\t\t\t// this file is not run length encoded\r\n\t\t\t\t\t( ( 2 !== buffer[ 0 ] ) || ( 2 !== buffer[ 1 ] ) || ( buffer[ 2 ] & 0x80 ) )\r\n\t\t\t\t) {\r\n\r\n\t\t\t\t\t// return the flat buffer\r\n\t\t\t\t\treturn new Uint8Array( buffer );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( scanline_width !== ( ( buffer[ 2 ] << 8 ) | buffer[ 3 ] ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"wrong scanline width\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata_rgba = new Uint8Array( 4 * w * h );\r\n\r\n\t\t\t\tif ( ! data_rgba.length ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_memory_error, \"unable to allocate buffer space\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset = 0; pos = 0; ptr_end = 4 * scanline_width;\r\n\t\t\t\trgbeStart = new Uint8Array( 4 );\r\n\t\t\t\tscanline_buffer = new Uint8Array( ptr_end );\r\n\r\n\t\t\t\t// read in each successive scanline\r\n\t\t\t\twhile ( ( num_scanlines > 0 ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\tif ( pos + 4 > buffer.byteLength ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_read_error );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trgbeStart[ 0 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 1 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 2 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 3 ] = buffer[ pos ++ ];\r\n\r\n\t\t\t\t\tif ( ( 2 != rgbeStart[ 0 ] ) || ( 2 != rgbeStart[ 1 ] ) || ( ( ( rgbeStart[ 2 ] << 8 ) | rgbeStart[ 3 ] ) != scanline_width ) ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad rgbe scanline format\" );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// read each of the four channels for the scanline into the buffer\r\n\t\t\t\t\t// first red, then green, then blue, then exponent\r\n\t\t\t\t\tptr = 0;\r\n\t\t\t\t\twhile ( ( ptr < ptr_end ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\t\tcount = buffer[ pos ++ ];\r\n\t\t\t\t\t\tisEncodedRun = count > 128;\r\n\t\t\t\t\t\tif ( isEncodedRun ) count -= 128;\r\n\r\n\t\t\t\t\t\tif ( ( 0 === count ) || ( ptr + count > ptr_end ) ) {\r\n\r\n\t\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad scanline data\" );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( isEncodedRun ) {\r\n\r\n\t\t\t\t\t\t\t// a (encoded) run of the same value\r\n\t\t\t\t\t\t\tbyteValue = buffer[ pos ++ ];\r\n\t\t\t\t\t\t\tfor ( i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tscanline_buffer[ ptr ++ ] = byteValue;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//ptr += count;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t// a literal-run\r\n\t\t\t\t\t\t\tscanline_buffer.set( buffer.subarray( pos, pos + count ), ptr );\r\n\t\t\t\t\t\t\tptr += count; pos += count;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// now convert data from buffer into rgba\r\n\t\t\t\t\t// first red, then green, then blue, then exponent (alpha)\r\n\t\t\t\t\tl = scanline_width; //scanline_buffer.byteLength;\r\n\t\t\t\t\tfor ( i = 0; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\toff = 0;\r\n\t\t\t\t\t\tdata_rgba[ offset ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 1 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 2 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 3 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toffset += 4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnum_scanlines --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data_rgba;\r\n\r\n\t\t\t};\r\n\r\n\t\tvar RGBEByteToRGBFloat = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = sourceArray[ sourceOffset + 0 ] * scale;\r\n\t\t\tdestArray[ destOffset + 1 ] = sourceArray[ sourceOffset + 1 ] * scale;\r\n\t\t\tdestArray[ destOffset + 2 ] = sourceArray[ sourceOffset + 2 ] * scale;\r\n\r\n\t\t};\r\n\r\n\t\tvar RGBEByteToRGBHalf = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 0 ] * scale );\r\n\t\t\tdestArray[ destOffset + 1 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 1 ] * scale );\r\n\t\t\tdestArray[ destOffset + 2 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 2 ] * scale );\r\n\r\n\t\t};\r\n\r\n\t\tvar byteArray = new Uint8Array( buffer );\r\n\t\tbyteArray.pos = 0;\r\n\t\tvar rgbe_header_info = RGBE_ReadHeader( byteArray );\r\n\r\n\t\tif ( RGBE_RETURN_FAILURE !== rgbe_header_info ) {\r\n\r\n\t\t\tvar w = rgbe_header_info.width,\r\n\t\t\t\th = rgbe_header_info.height,\r\n\t\t\t\timage_rgba_data = RGBE_ReadPixels_RLE( byteArray.subarray( byteArray.pos ), w, h );\r\n\r\n\t\t\tif ( RGBE_RETURN_FAILURE !== image_rgba_data ) {\r\n\r\n\t\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\t\tvar data = image_rgba_data;\r\n\t\t\t\t\t\tvar format = RGBEFormat; // handled as THREE.RGBAFormat in shaders\r\n\t\t\t\t\t\tvar type = UnsignedByteType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar floatArray = new Float32Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBFloat( image_rgba_data, j * 4, floatArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = floatArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = FloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar halfArray = new Uint16Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBHalf( image_rgba_data, j * 4, halfArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = halfArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = HalfFloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.RGBELoader: unsupported type: ', this.type );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: w, height: h,\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\theader: rgbe_header_info.string,\r\n\t\t\t\t\tgamma: rgbe_header_info.gamma,\r\n\t\t\t\t\texposure: rgbe_header_info.exposure,\r\n\t\t\t\t\tformat: format,\r\n\t\t\t\t\ttype: type\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { RGBELoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/RGBELoader.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TrackballControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tvar scope = this;\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\r\n\r\n\tthis.rotateSpeed = 1.0;\r\n\tthis.zoomSpeed = 1.2;\r\n\tthis.panSpeed = 0.3;\r\n\r\n\tthis.noRotate = false;\r\n\tthis.noZoom = false;\r\n\tthis.noPan = false;\r\n\r\n\tthis.staticMoving = false;\r\n\tthis.dynamicDampingFactor = 0.2;\r\n\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\tthis.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\r\n\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.ZOOM, RIGHT: MOUSE.PAN };\r\n\r\n\t// internals\r\n\r\n\tthis.target = new Vector3();\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\tvar lastPosition = new Vector3();\r\n\tvar lastZoom = 1;\r\n\r\n\tvar _state = STATE.NONE,\r\n\t\t_keyState = STATE.NONE,\r\n\r\n\t\t_eye = new Vector3(),\r\n\r\n\t\t_movePrev = new Vector2(),\r\n\t\t_moveCurr = new Vector2(),\r\n\r\n\t\t_lastAxis = new Vector3(),\r\n\t\t_lastAngle = 0,\r\n\r\n\t\t_zoomStart = new Vector2(),\r\n\t\t_zoomEnd = new Vector2(),\r\n\r\n\t\t_touchZoomDistanceStart = 0,\r\n\t\t_touchZoomDistanceEnd = 0,\r\n\r\n\t\t_panStart = new Vector2(),\r\n\t\t_panEnd = new Vector2();\r\n\r\n\t// for reset\r\n\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.up0 = this.object.up.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t// events\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\r\n\t// methods\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tvar box = scope.domElement.getBoundingClientRect();\r\n\t\t// adjustments come from similar code in the jquery offset() function\r\n\t\tvar d = scope.domElement.ownerDocument.documentElement;\r\n\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\r\n\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\r\n\t\tscope.screen.width = box.width;\r\n\t\tscope.screen.height = box.height;\r\n\r\n\t};\r\n\r\n\tvar getMouseOnScreen = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnScreen( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\r\n\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tvar getMouseOnCircle = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnCircle( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\r\n\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.rotateCamera = ( function () {\r\n\r\n\t\tvar axis = new Vector3(),\r\n\t\t\tquaternion = new Quaternion(),\r\n\t\t\teyeDirection = new Vector3(),\r\n\t\t\tobjectUpDirection = new Vector3(),\r\n\t\t\tobjectSidewaysDirection = new Vector3(),\r\n\t\t\tmoveDirection = new Vector3(),\r\n\t\t\tangle;\r\n\r\n\t\treturn function rotateCamera() {\r\n\r\n\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\r\n\t\t\tangle = moveDirection.length();\r\n\r\n\t\t\tif ( angle ) {\r\n\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\r\n\t\t\t\teyeDirection.copy( _eye ).normalize();\r\n\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\r\n\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\r\n\r\n\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\r\n\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\r\n\r\n\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\r\n\r\n\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\r\n\r\n\t\t\t\tangle *= scope.rotateSpeed;\r\n\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t\t_lastAxis.copy( axis );\r\n\t\t\t\t_lastAngle = angle;\r\n\r\n\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\r\n\r\n\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\r\n\tthis.zoomCamera = function () {\r\n\r\n\t\tvar factor;\r\n\r\n\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\r\n\r\n\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\r\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\tscope.object.zoom *= factor;\r\n\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\r\n\r\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\r\n\r\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tscope.object.zoom /= factor;\r\n\t\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.panCamera = ( function () {\r\n\r\n\t\tvar mouseChange = new Vector2(),\r\n\t\t\tobjectUp = new Vector3(),\r\n\t\t\tpan = new Vector3();\r\n\r\n\t\treturn function panCamera() {\r\n\r\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\r\n\r\n\t\t\tif ( mouseChange.lengthSq() ) {\r\n\r\n\t\t\t\tif ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tvar scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\t\t\t\t\tvar scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\r\n\t\t\t\t\tmouseChange.x *= scale_x;\r\n\t\t\t\t\tmouseChange.y *= scale_y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\r\n\r\n\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\r\n\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\r\n\r\n\t\t\t\tscope.object.position.add( pan );\r\n\t\t\t\tscope.target.add( pan );\r\n\r\n\t\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t\t_panStart.copy( _panEnd );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.checkDistances = function () {\r\n\r\n\t\tif ( ! scope.noZoom || ! scope.noPan ) {\r\n\r\n\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tif ( ! scope.noRotate ) {\r\n\r\n\t\t\tscope.rotateCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noZoom ) {\r\n\r\n\t\t\tscope.zoomCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noPan ) {\r\n\r\n\t\t\tscope.panCamera();\r\n\r\n\t\t}\r\n\r\n\t\tscope.object.position.addVectors( scope.target, _eye );\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscope.checkDistances();\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastZoom = scope.object.zoom;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\t_state = STATE.NONE;\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.up.copy( scope.up0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tlastPosition.copy( scope.object.position );\r\n\t\tlastZoom = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\t// listeners\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keydown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown );\r\n\r\n\t\tif ( _keyState !== STATE.NONE ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\r\n\r\n\t\t\t_keyState = STATE.ROTATE;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\r\n\r\n\t\t\t_keyState = STATE.ZOOM;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\r\n\r\n\t\t\t_keyState = STATE.PAN;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keyup() {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\twindow.addEventListener( 'keydown', keydown, false );\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( _state === STATE.NONE ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase scope.mouseButtons.LEFT:\r\n\t\t\t\t\t_state = STATE.ROTATE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.MIDDLE:\r\n\t\t\t\t\t_state = STATE.ZOOM;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.RIGHT:\r\n\t\t\t\t\t_state = STATE.PAN;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t_state = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_zoomEnd.copy( _zoomStart );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_panEnd.copy( _panStart );\r\n\r\n\t\t}\r\n\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t_state = STATE.NONE;\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction mousewheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tif ( scope.noZoom === true ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.deltaMode ) {\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\t// Zoom in pages\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t// Zoom in lines\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\t// undefined, 0, assume pixels\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchstart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\t_panEnd.copy( _panStart );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchmove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction touchend( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\t_state = STATE.NONE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', mousewheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', touchstart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', touchend, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', touchmove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown, false );\r\n\t\twindow.removeEventListener( 'keyup', keyup, false );\r\n\r\n\t};\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\tthis.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tthis.domElement.addEventListener( 'wheel', mousewheel, false );\r\n\r\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\r\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\r\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\r\n\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', keydown, false );\r\n\twindow.addEventListener( 'keyup', keyup, false );\r\n\r\n\tthis.handleResize();\r\n\r\n\t// force an update at start\r\n\tthis.update();\r\n\r\n};\r\n\r\nTrackballControls.prototype = Object.create( EventDispatcher.prototype );\r\nTrackballControls.prototype.constructor = TrackballControls;\r\n\r\nexport { TrackballControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/TrackballControls.js","import {\r\n\tCubeTexture,\r\n\tDataTexture,\r\n\tFileLoader,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tLoader,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { RGBELoader } from \"../loaders/RGBELoader.js\";\r\n\r\nvar HDRCubeTextureLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.hdrLoader = new RGBELoader();\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nHDRCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: HDRCubeTextureLoader,\r\n\r\n\tload: function ( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( ! Array.isArray( urls ) ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.HDRCubeTextureLoader signature has changed. Use .setDataType() instead.' );\r\n\r\n\t\t\tthis.setDataType( urls );\r\n\r\n\t\t\turls = onLoad;\r\n\t\t\tonLoad = onProgress;\r\n\t\t\tonProgress = onError;\r\n\t\t\tonError = arguments[ 4 ];\r\n\r\n\t\t}\r\n\r\n\t\tvar texture = new CubeTexture();\r\n\r\n\t\ttexture.type = this.type;\r\n\r\n\t\tswitch ( texture.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\ttexture.format = RGBAFormat;\r\n\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loaded = 0;\r\n\r\n\t\tfunction loadHDRData( i, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tnew FileLoader( scope.manager )\r\n\t\t\t\t.setPath( scope.path )\r\n\t\t\t\t.setResponseType( 'arraybuffer' )\r\n\t\t\t\t.setWithCredentials( scope.withCredentials )\r\n\t\t\t\t.load( urls[ i ], function ( buffer ) {\r\n\r\n\t\t\t\t\tloaded ++;\r\n\r\n\t\t\t\t\tvar texData = scope.hdrLoader.parse( buffer );\r\n\r\n\t\t\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\t\t\tif ( texData.data !== undefined ) {\r\n\r\n\t\t\t\t\t\tvar dataTexture = new DataTexture( texData.data, texData.width, texData.height );\r\n\r\n\t\t\t\t\t\tdataTexture.type = texture.type;\r\n\t\t\t\t\t\tdataTexture.encoding = texture.encoding;\r\n\t\t\t\t\t\tdataTexture.format = texture.format;\r\n\t\t\t\t\t\tdataTexture.minFilter = texture.minFilter;\r\n\t\t\t\t\t\tdataTexture.magFilter = texture.magFilter;\r\n\t\t\t\t\t\tdataTexture.generateMipmaps = texture.generateMipmaps;\r\n\r\n\t\t\t\t\t\ttexture.images[ i ] = dataTexture;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < urls.length; i ++ ) {\r\n\r\n\t\t\tloadHDRData( i, onLoad, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\tthis.hdrLoader.setDataType( value );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { HDRCubeTextureLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/HDRCubeTextureLoader.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction FloatNode( value ) {\r\n\r\n\tInputNode.call( this, 'f' );\r\n\r\n\tthis.value = value || 0;\r\n\r\n}\r\n\r\nFloatNode.prototype = Object.create( InputNode.prototype );\r\nFloatNode.prototype.constructor = FloatNode;\r\nFloatNode.prototype.nodeType = \"Float\";\r\n\r\nFloatNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value + ( this.value % 1 ? '' : '.0' ), type, output );\r\n\r\n};\r\n\r\nFloatNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFloatNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FloatNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/FloatNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction NormalNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || NormalNode.VIEW;\r\n\r\n}\r\n\r\nNormalNode.LOCAL = 'local';\r\nNormalNode.WORLD = 'world';\r\nNormalNode.VIEW = 'view';\r\n\r\nNormalNode.prototype = Object.create( TempNode.prototype );\r\nNormalNode.prototype.constructor = NormalNode;\r\nNormalNode.prototype.nodeType = \"Normal\";\r\n\r\nNormalNode.prototype.getShared = function () {\r\n\r\n\t// if shared is false, TempNode will not create temp variable (for optimization)\r\n\r\n\treturn this.scope === NormalNode.WORLD;\r\n\r\n};\r\n\r\nNormalNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\tvar contextNormal = builder.context[ this.scope + 'Normal' ];\r\n\r\n\tif ( contextNormal ) {\r\n\r\n\t\treturn contextNormal.build( builder, output, uuid, ns );\r\n\r\n\t}\r\n\r\n\treturn TempNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nNormalNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase NormalNode.VIEW:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) result = 'transformedNormal';\r\n\t\t\telse result = 'geometryNormal';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'objectNormal';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.normal = true;\r\n\r\n\t\t\t\tresult = 'vObjectNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'inverseTransformDirection( transformedNormal, viewMatrix ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldNormal = true;\r\n\r\n\t\t\t\tresult = 'vWNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nNormalNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'viewNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.VIEW );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'localNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.NORMAL );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.WORLD );\r\n\r\n} );\r\n\r\nexport { NormalNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/NormalNode.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { Inflate } from \"../libs/inflate.module.min.js\";\r\n\r\n/**\r\n * OpenEXR loader currently supports uncompressed, ZIP(S), RLE, PIZ and DWA/B compression.\r\n * Supports reading as UnsignedByte, HalfFloat and Float type data texture.\r\n *\r\n * Referred to the original Industrial Light & Magic OpenEXR implementation and the TinyEXR / Syoyo Fujita\r\n * implementation, so I have preserved their copyright notices.\r\n */\r\n\r\n// /*\r\n// Copyright (c) 2014 - 2017, Syoyo Fujita\r\n// All rights reserved.\r\n\r\n// Redistribution and use in source and binary forms, with or without\r\n// modification, are permitted provided that the following conditions are met:\r\n//     * Redistributions of source code must retain the above copyright\r\n//       notice, this list of conditions and the following disclaimer.\r\n//     * Redistributions in binary form must reproduce the above copyright\r\n//       notice, this list of conditions and the following disclaimer in the\r\n//       documentation and/or other materials provided with the distribution.\r\n//     * Neither the name of the Syoyo Fujita nor the\r\n//       names of its contributors may be used to endorse or promote products\r\n//       derived from this software without specific prior written permission.\r\n\r\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n// DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\r\n// DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n// ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// */\r\n\r\n// // TinyEXR contains some OpenEXR code, which is licensed under ------------\r\n\r\n// ///////////////////////////////////////////////////////////////////////////\r\n// //\r\n// // Copyright (c) 2002, Industrial Light & Magic, a division of Lucas\r\n// // Digital Ltd. LLC\r\n// //\r\n// // All rights reserved.\r\n// //\r\n// // Redistribution and use in source and binary forms, with or without\r\n// // modification, are permitted provided that the following conditions are\r\n// // met:\r\n// // *       Redistributions of source code must retain the above copyright\r\n// // notice, this list of conditions and the following disclaimer.\r\n// // *       Redistributions in binary form must reproduce the above\r\n// // copyright notice, this list of conditions and the following disclaimer\r\n// // in the documentation and/or other materials provided with the\r\n// // distribution.\r\n// // *       Neither the name of Industrial Light & Magic nor the names of\r\n// // its contributors may be used to endorse or promote products derived\r\n// // from this software without specific prior written permission.\r\n// //\r\n// // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n// // \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n// // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n// // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n// // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n// // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n// // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n// // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n// // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n// // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// //\r\n// ///////////////////////////////////////////////////////////////////////////\r\n\r\n// // End of OpenEXR license -------------------------------------------------\r\n\r\nvar EXRLoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = FloatType;\r\n\r\n};\r\n\r\nEXRLoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: EXRLoader,\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tconst USHORT_RANGE = ( 1 << 16 );\r\n\t\tconst BITMAP_SIZE = ( USHORT_RANGE >> 3 );\r\n\r\n\t\tconst HUF_ENCBITS = 16; // literal (value) bit length\r\n\t\tconst HUF_DECBITS = 14; // decoding bit size (>= 8)\r\n\r\n\t\tconst HUF_ENCSIZE = ( 1 << HUF_ENCBITS ) + 1; // encoding table size\r\n\t\tconst HUF_DECSIZE = 1 << HUF_DECBITS; // decoding table size\r\n\t\tconst HUF_DECMASK = HUF_DECSIZE - 1;\r\n\r\n\t\tconst NBITS = 16;\r\n\t\tconst A_OFFSET = 1 << ( NBITS - 1 );\r\n\t\tconst MOD_MASK = ( 1 << NBITS ) - 1;\r\n\r\n\t\tconst SHORT_ZEROCODE_RUN = 59;\r\n\t\tconst LONG_ZEROCODE_RUN = 63;\r\n\t\tconst SHORTEST_LONG_RUN = 2 + LONG_ZEROCODE_RUN - SHORT_ZEROCODE_RUN;\r\n\r\n\t\tconst ULONG_SIZE = 8;\r\n\t\tconst FLOAT32_SIZE = 4;\r\n\t\tconst INT32_SIZE = 4;\r\n\t\tconst INT16_SIZE = 2;\r\n\t\tconst INT8_SIZE = 1;\r\n\r\n\t\tconst STATIC_HUFFMAN = 0;\r\n\t\tconst DEFLATE = 1;\r\n\r\n\t\tconst UNKNOWN = 0;\r\n\t\tconst LOSSY_DCT = 1;\r\n\t\tconst RLE = 2;\r\n\r\n\t\tconst logBase = Math.pow( 2.7182818, 2.2 );\r\n\r\n\t\tvar tmpDataView = new DataView( new ArrayBuffer( 8 ) );\r\n\r\n\t\tfunction frexp( value ) {\r\n\r\n\t\t\tif ( value === 0 ) return [ value, 0 ];\r\n\r\n\t\t\ttmpDataView.setFloat64( 0, value );\r\n\r\n\t\t\tvar bits = ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF;\r\n\t\t\tif ( bits === 0 ) { // denormal\r\n\r\n\t\t\t\ttmpDataView.setFloat64( 0, value * Math.pow( 2, 64 ) ); // exp + 64\r\n\t\t\t\tbits = ( ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF ) - 64;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar exponent = bits - 1022;\r\n\t\t\tvar mantissa = ldexp( value, - exponent );\r\n\r\n\t\t\treturn [ mantissa, exponent ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction ldexp( mantissa, exponent ) {\r\n\r\n\t\t\tvar steps = Math.min( 3, Math.ceil( Math.abs( exponent ) / 1023 ) );\r\n\t\t\tvar result = mantissa;\r\n\r\n\t\t\tfor ( var i = 0; i < steps; i ++ )\r\n\t\t\t\tresult *= Math.pow( 2, Math.floor( ( exponent + i ) / steps ) );\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t\tfunction reverseLutFromBitmap( bitmap, lut ) {\r\n\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < USHORT_RANGE; ++ i ) {\r\n\r\n\t\t\t\tif ( ( i == 0 ) || ( bitmap[ i >> 3 ] & ( 1 << ( i & 7 ) ) ) ) {\r\n\r\n\t\t\t\t\tlut[ k ++ ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar n = k - 1;\r\n\r\n\t\t\twhile ( k < USHORT_RANGE ) lut[ k ++ ] = 0;\r\n\r\n\t\t\treturn n;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufClearDecTable( hdec ) {\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_DECSIZE; i ++ ) {\r\n\r\n\t\t\t\thdec[ i ] = {};\r\n\t\t\t\thdec[ i ].len = 0;\r\n\t\t\t\thdec[ i ].lit = 0;\r\n\t\t\t\thdec[ i ].p = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst getBitsReturn = { l: 0, c: 0, lc: 0 };\r\n\r\n\t\tfunction getBits( nBits, c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\twhile ( lc < nBits ) {\r\n\r\n\t\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\t\tlc += 8;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlc -= nBits;\r\n\r\n\t\t\tgetBitsReturn.l = ( c >> lc ) & ( ( 1 << nBits ) - 1 );\r\n\t\t\tgetBitsReturn.c = c;\r\n\t\t\tgetBitsReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst hufTableBuffer = new Array( 59 );\r\n\r\n\t\tfunction hufCanonicalCodeTable( hcode ) {\r\n\r\n\t\t\tfor ( var i = 0; i <= 58; ++ i ) hufTableBuffer[ i ] = 0;\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) hufTableBuffer[ hcode[ i ] ] += 1;\r\n\r\n\t\t\tvar c = 0;\r\n\r\n\t\t\tfor ( var i = 58; i > 0; -- i ) {\r\n\r\n\t\t\t\tvar nc = ( ( c + hufTableBuffer[ i ] ) >> 1 );\r\n\t\t\t\thufTableBuffer[ i ] = c;\r\n\t\t\t\tc = nc;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) {\r\n\r\n\t\t\t\tvar l = hcode[ i ];\r\n\t\t\t\tif ( l > 0 ) hcode[ i ] = l | ( hufTableBuffer[ l ] ++ << 6 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, hcode ) {\r\n\r\n\t\t\tvar p = inOffset;\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tif ( p.value - inOffset.value > ni ) return false;\r\n\r\n\t\t\t\tgetBits( 6, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\tvar l = getBitsReturn.l;\r\n\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\thcode[ im ] = l;\r\n\r\n\t\t\t\tif ( l == LONG_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tif ( p.value - inOffset.value > ni ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgetBits( 8, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\t\tvar zerun = getBitsReturn.l + SHORTEST_LONG_RUN;\r\n\t\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t} else if ( l >= SHORT_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tvar zerun = l - SHORT_ZEROCODE_RUN + 2;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufCanonicalCodeTable( hcode );\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufLength( code ) {\r\n\r\n\t\t\treturn code & 63;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufCode( code ) {\r\n\r\n\t\t\treturn code >> 6;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufBuildDecTable( hcode, im, iM, hdecod ) {\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tvar c = hufCode( hcode[ im ] );\r\n\t\t\t\tvar l = hufLength( hcode[ im ] );\r\n\r\n\t\t\t\tif ( c >> l ) {\r\n\r\n\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( l > HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar pl = hdecod[ ( c >> ( l - HUF_DECBITS ) ) ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.lit ++;\r\n\r\n\t\t\t\t\tif ( pl.p ) {\r\n\r\n\t\t\t\t\t\tvar p = pl.p;\r\n\t\t\t\t\t\tpl.p = new Array( pl.lit );\r\n\r\n\t\t\t\t\t\tfor ( var i = 0; i < pl.lit - 1; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpl.p[ i ] = p[ i ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tpl.p = new Array( 1 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.p[ pl.lit - 1 ] = im;\r\n\r\n\t\t\t\t} else if ( l ) {\r\n\r\n\t\t\t\t\tvar plOffset = 0;\r\n\r\n\t\t\t\t\tfor ( var i = 1 << ( HUF_DECBITS - l ); i > 0; i -- ) {\r\n\r\n\t\t\t\t\t\tvar pl = hdecod[ ( c << ( HUF_DECBITS - l ) ) + plOffset ];\r\n\r\n\t\t\t\t\t\tif ( pl.len || pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpl.len = l;\r\n\t\t\t\t\t\tpl.lit = im;\r\n\r\n\t\t\t\t\t\tplOffset ++;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCharReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getChar( c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\tlc += 8;\r\n\r\n\t\t\tgetCharReturn.c = c;\r\n\t\t\tgetCharReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCodeReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getCode( po, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outBufferOffset, outBufferEndOffset ) {\r\n\r\n\t\t\tif ( po == rlc ) {\r\n\r\n\t\t\t\tif ( lc < 8 ) {\r\n\r\n\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlc -= 8;\r\n\r\n\t\t\t\tvar cs = ( c >> lc );\r\n\t\t\t\tvar cs = new Uint8Array( [ cs ] )[ 0 ];\r\n\r\n\t\t\t\tif ( outBufferOffset.value + cs > outBufferEndOffset ) {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar s = outBuffer[ outBufferOffset.value - 1 ];\r\n\r\n\t\t\t\twhile ( cs -- > 0 ) {\r\n\r\n\t\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( outBufferOffset.value < outBufferEndOffset ) {\r\n\r\n\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = po;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgetCodeReturn.c = c;\r\n\t\t\tgetCodeReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tfunction UInt16( value ) {\r\n\r\n\t\t\treturn ( value & 0xFFFF );\r\n\r\n\t\t}\r\n\r\n\t\tfunction Int16( value ) {\r\n\r\n\t\t\tvar ref = UInt16( value );\r\n\t\t\treturn ( ref > 0x7FFF ) ? ref - 0x10000 : ref;\r\n\r\n\t\t}\r\n\r\n\t\tconst wdec14Return = { a: 0, b: 0 };\r\n\r\n\t\tfunction wdec14( l, h ) {\r\n\r\n\t\t\tvar ls = Int16( l );\r\n\t\t\tvar hs = Int16( h );\r\n\r\n\t\t\tvar hi = hs;\r\n\t\t\tvar ai = ls + ( hi & 1 ) + ( hi >> 1 );\r\n\r\n\t\t\tvar as = ai;\r\n\t\t\tvar bs = ai - hi;\r\n\r\n\t\t\twdec14Return.a = as;\r\n\t\t\twdec14Return.b = bs;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wdec16( l, h ) {\r\n\r\n\t\t\tvar m = UInt16( l );\r\n\t\t\tvar d = UInt16( h );\r\n\r\n\t\t\tvar bb = ( m - ( d >> 1 ) ) & MOD_MASK;\r\n\t\t\tvar aa = ( d + bb - A_OFFSET ) & MOD_MASK;\r\n\r\n\t\t\twdec14Return.a = aa;\r\n\t\t\twdec14Return.b = bb;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wav2Decode( buffer, j, nx, ox, ny, oy, mx ) {\r\n\r\n\t\t\tvar w14 = mx < ( 1 << 14 );\r\n\t\t\tvar n = ( nx > ny ) ? ny : nx;\r\n\t\t\tvar p = 1;\r\n\t\t\tvar p2;\r\n\r\n\t\t\twhile ( p <= n ) p <<= 1;\r\n\r\n\t\t\tp >>= 1;\r\n\t\t\tp2 = p;\r\n\t\t\tp >>= 1;\r\n\r\n\t\t\twhile ( p >= 1 ) {\r\n\r\n\t\t\t\tvar py = 0;\r\n\t\t\t\tvar ey = py + oy * ( ny - p2 );\r\n\t\t\t\tvar oy1 = oy * p;\r\n\t\t\t\tvar oy2 = oy * p2;\r\n\t\t\t\tvar ox1 = ox * p;\r\n\t\t\t\tvar ox2 = ox * p2;\r\n\t\t\t\tvar i00, i01, i10, i11;\r\n\r\n\t\t\t\tfor ( ; py <= ey; py += oy2 ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\t\t\t\t\t\tvar p11 = p10 + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 ) {\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( nx & p ) {\r\n\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ny & p ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p01 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p01 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tp2 = p;\r\n\t\t\t\tp >>= 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn py;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufDecode( encodingTable, decodingTable, uInt8Array, inDataView, inOffset, ni, rlc, no, outBuffer, outOffset ) {\r\n\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\t\t\tvar outBufferEndOffset = no;\r\n\t\t\tvar inOffsetEnd = Math.trunc( inOffset.value + ( ni + 7 ) / 8 );\r\n\r\n\t\t\twhile ( inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\twhile ( lc >= HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar index = ( c >> ( lc - HUF_DECBITS ) ) & HUF_DECMASK;\r\n\t\t\t\t\tvar pl = decodingTable[ index ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( ! pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar j;\r\n\r\n\t\t\t\t\t\tfor ( j = 0; j < pl.lit; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar l = hufLength( encodingTable[ pl.p[ j ] ] );\r\n\r\n\t\t\t\t\t\t\twhile ( lc < l && inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( lc >= l ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( hufCode( encodingTable[ pl.p[ j ] ] ) == ( ( c >> ( lc - l ) ) & ( ( 1 << l ) - 1 ) ) ) {\r\n\r\n\t\t\t\t\t\t\t\t\tlc -= l;\r\n\r\n\t\t\t\t\t\t\t\t\tgetCode( pl.p[ j ], rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( j == pl.lit ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar i = ( 8 - ni ) & 7;\r\n\r\n\t\t\tc >>= i;\r\n\t\t\tlc -= i;\r\n\r\n\t\t\twhile ( lc > 0 ) {\r\n\r\n\t\t\t\tvar pl = decodingTable[ ( c << ( HUF_DECBITS - lc ) ) & HUF_DECMASK ];\r\n\r\n\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUncompress( uInt8Array, inDataView, inOffset, nCompressed, outBuffer, nRaw ) {\r\n\r\n\t\t\tvar outOffset = { value: 0 };\r\n\t\t\tvar initialInOffset = inOffset.value;\r\n\r\n\t\t\tvar im = parseUint32( inDataView, inOffset );\r\n\t\t\tvar iM = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tvar nBits = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tif ( im < 0 || im >= HUF_ENCSIZE || iM < 0 || iM >= HUF_ENCSIZE ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with HUF_ENCSIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar freq = new Array( HUF_ENCSIZE );\r\n\t\t\tvar hdec = new Array( HUF_DECSIZE );\r\n\r\n\t\t\thufClearDecTable( hdec );\r\n\r\n\t\t\tvar ni = nCompressed - ( inOffset.value - initialInOffset );\r\n\r\n\t\t\thufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, freq );\r\n\r\n\t\t\tif ( nBits > 8 * ( nCompressed - ( inOffset.value - initialInOffset ) ) ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with hufUncompress';\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufBuildDecTable( freq, im, iM, hdec );\r\n\r\n\t\t\thufDecode( freq, hdec, uInt8Array, inDataView, inOffset, nBits, iM, nRaw, outBuffer, outOffset );\r\n\r\n\t\t}\r\n\r\n\t\tfunction applyLut( lut, data, nData ) {\r\n\r\n\t\t\tfor ( var i = 0; i < nData; ++ i ) {\r\n\r\n\t\t\t\tdata[ i ] = lut[ data[ i ] ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction predictor( source ) {\r\n\r\n\t\t\tfor ( var t = 1; t < source.length; t ++ ) {\r\n\r\n\t\t\t\tvar d = source[ t - 1 ] + source[ t ] - 128;\r\n\t\t\t\tsource[ t ] = d;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction interleaveScalar( source, out ) {\r\n\r\n\t\t\tvar t1 = 0;\r\n\t\t\tvar t2 = Math.floor( ( source.length + 1 ) / 2 );\r\n\t\t\tvar s = 0;\r\n\t\t\tvar stop = source.length - 1;\r\n\r\n\t\t\twhile ( true ) {\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t1 ++ ];\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t2 ++ ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeRunLength( source ) {\r\n\r\n\t\t\tvar size = source.byteLength;\r\n\t\t\tvar out = new Array();\r\n\t\t\tvar p = 0;\r\n\r\n\t\t\tvar reader = new DataView( source );\r\n\r\n\t\t\twhile ( size > 0 ) {\r\n\r\n\t\t\t\tvar l = reader.getInt8( p ++ );\r\n\r\n\t\t\t\tif ( l < 0 ) {\r\n\r\n\t\t\t\t\tvar count = - l;\r\n\t\t\t\t\tsize -= count + 1;\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( reader.getUint8( p ++ ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar count = l;\r\n\t\t\t\t\tsize -= 2;\r\n\r\n\t\t\t\t\tvar value = reader.getUint8( p ++ );\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count + 1; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( value );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn out;\r\n\r\n\t\t}\r\n\r\n\t\tfunction lossyDctDecode( cscSet, rowPtrs, channelData, acBuffer, dcBuffer, outBuffer ) {\r\n\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\tvar width = channelData[ cscSet.idx[ 0 ] ].width;\r\n\t\t\tvar height = channelData[ cscSet.idx[ 0 ] ].height;\r\n\r\n\t\t\tvar numComp = 3;\r\n\r\n\t\t\tvar numFullBlocksX = Math.floor( width / 8.0 );\r\n\t\t\tvar numBlocksX = Math.ceil( width / 8.0 );\r\n\t\t\tvar numBlocksY = Math.ceil( height / 8.0 );\r\n\t\t\tvar leftoverX = width - ( numBlocksX - 1 ) * 8;\r\n\t\t\tvar leftoverY = height - ( numBlocksY - 1 ) * 8;\r\n\r\n\t\t\tvar currAcComp = { value: 0 };\r\n\t\t\tvar currDcComp = new Array( numComp );\r\n\t\t\tvar dctData = new Array( numComp );\r\n\t\t\tvar halfZigBlock = new Array( numComp );\r\n\t\t\tvar rowBlock = new Array( numComp );\r\n\t\t\tvar rowOffsets = new Array( numComp );\r\n\r\n\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\trowOffsets[ comp ] = rowPtrs[ cscSet.idx[ comp ] ];\r\n\t\t\t\tcurrDcComp[ comp ] = ( comp < 1 ) ? 0 : currDcComp[ comp - 1 ] + numBlocksX * numBlocksY;\r\n\t\t\t\tdctData[ comp ] = new Float32Array( 64 );\r\n\t\t\t\thalfZigBlock[ comp ] = new Uint16Array( 64 );\r\n\t\t\t\trowBlock[ comp ] = new Uint16Array( numBlocksX * 64 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let blocky = 0; blocky < numBlocksY; ++ blocky ) {\r\n\r\n\t\t\t\tvar maxY = 8;\r\n\r\n\t\t\t\tif ( blocky == numBlocksY - 1 )\r\n\t\t\t\t\tmaxY = leftoverY;\r\n\r\n\t\t\t\tvar maxX = 8;\r\n\r\n\t\t\t\tfor ( let blockx = 0; blockx < numBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\tif ( blockx == numBlocksX - 1 )\r\n\t\t\t\t\t\tmaxX = leftoverX;\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\thalfZigBlock[ comp ].fill( 0 );\r\n\r\n\t\t\t\t\t\t// set block DC component\r\n\t\t\t\t\t\thalfZigBlock[ comp ][ 0 ] = dcBuffer[ currDcComp[ comp ] ++ ];\r\n\t\t\t\t\t\t// set block AC components\r\n\t\t\t\t\t\tunRleAC( currAcComp, acBuffer, halfZigBlock[ comp ] );\r\n\r\n\t\t\t\t\t\t// UnZigZag block to float\r\n\t\t\t\t\t\tunZigZag( halfZigBlock[ comp ], dctData[ comp ] );\r\n\t\t\t\t\t\t// decode float dct\r\n\t\t\t\t\t\tdctInverse( dctData[ comp ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( numComp == 3 ) {\r\n\r\n\t\t\t\t\t\tcsc709Inverse( dctData );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\tconvertToHalf( dctData[ comp ], rowBlock[ comp ], blockx * 64 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // blockx\r\n\r\n\t\t\t\tlet offset = 0;\r\n\r\n\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\tconst type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\toffset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\t\tfor ( let blockx = 0; blockx < numFullBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\t\t\tconst src = blockx * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 0 * INT16_SIZE * type, rowBlock[ comp ][ src + 0 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 1 * INT16_SIZE * type, rowBlock[ comp ][ src + 1 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 2 * INT16_SIZE * type, rowBlock[ comp ][ src + 2 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 3 * INT16_SIZE * type, rowBlock[ comp ][ src + 3 ], true );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 4 * INT16_SIZE * type, rowBlock[ comp ][ src + 4 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 5 * INT16_SIZE * type, rowBlock[ comp ][ src + 5 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 6 * INT16_SIZE * type, rowBlock[ comp ][ src + 6 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 7 * INT16_SIZE * type, rowBlock[ comp ][ src + 7 ], true );\r\n\r\n\t\t\t\t\t\t\toffset += 8 * INT16_SIZE * type;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// handle partial X blocks\r\n\t\t\t\t\tif ( numFullBlocksX != numBlocksX ) {\r\n\r\n\t\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ] + 8 * numFullBlocksX * INT16_SIZE * type;\r\n\t\t\t\t\t\t\tconst src = numFullBlocksX * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tfor ( let x = 0; x < maxX; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tdataView.setUint16( offset + x * INT16_SIZE * type, rowBlock[ comp ][ src + x ], true );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // comp\r\n\r\n\t\t\t} // blocky\r\n\r\n\t\t\tvar halfRow = new Uint16Array( width );\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\t// convert channels back to float, if needed\r\n\t\t\tfor ( var comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\tchannelData[ cscSet.idx[ comp ] ].decoded = true;\r\n\t\t\t\tvar type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\tif ( channelData[ comp ].type != 2 ) continue;\r\n\r\n\t\t\t\tfor ( var y = 0; y < height; ++ y ) {\r\n\r\n\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\thalfRow[ x ] = dataView.getUint16( offset + x * INT16_SIZE * type, true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\tdataView.setFloat32( offset + x * INT16_SIZE * type, decodeFloat16( halfRow[ x ] ), true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unRleAC( currAcComp, acBuffer, halfZigBlock ) {\r\n\r\n\t\t\tvar acValue;\r\n\t\t\tvar dctComp = 1;\r\n\r\n\t\t\twhile ( dctComp < 64 ) {\r\n\r\n\t\t\t\tacValue = acBuffer[ currAcComp.value ];\r\n\r\n\t\t\t\tif ( acValue == 0xff00 ) {\r\n\r\n\t\t\t\t\tdctComp = 64;\r\n\r\n\t\t\t\t} else if ( acValue >> 8 == 0xff ) {\r\n\r\n\t\t\t\t\tdctComp += acValue & 0xff;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\thalfZigBlock[ dctComp ] = acValue;\r\n\t\t\t\t\tdctComp ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrAcComp.value ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unZigZag( src, dst ) {\r\n\r\n\t\t\tdst[ 0 ] = decodeFloat16( src[ 0 ] );\r\n\t\t\tdst[ 1 ] = decodeFloat16( src[ 1 ] );\r\n\t\t\tdst[ 2 ] = decodeFloat16( src[ 5 ] );\r\n\t\t\tdst[ 3 ] = decodeFloat16( src[ 6 ] );\r\n\t\t\tdst[ 4 ] = decodeFloat16( src[ 14 ] );\r\n\t\t\tdst[ 5 ] = decodeFloat16( src[ 15 ] );\r\n\t\t\tdst[ 6 ] = decodeFloat16( src[ 27 ] );\r\n\t\t\tdst[ 7 ] = decodeFloat16( src[ 28 ] );\r\n\t\t\tdst[ 8 ] = decodeFloat16( src[ 2 ] );\r\n\t\t\tdst[ 9 ] = decodeFloat16( src[ 4 ] );\r\n\r\n\t\t\tdst[ 10 ] = decodeFloat16( src[ 7 ] );\r\n\t\t\tdst[ 11 ] = decodeFloat16( src[ 13 ] );\r\n\t\t\tdst[ 12 ] = decodeFloat16( src[ 16 ] );\r\n\t\t\tdst[ 13 ] = decodeFloat16( src[ 26 ] );\r\n\t\t\tdst[ 14 ] = decodeFloat16( src[ 29 ] );\r\n\t\t\tdst[ 15 ] = decodeFloat16( src[ 42 ] );\r\n\t\t\tdst[ 16 ] = decodeFloat16( src[ 3 ] );\r\n\t\t\tdst[ 17 ] = decodeFloat16( src[ 8 ] );\r\n\t\t\tdst[ 18 ] = decodeFloat16( src[ 12 ] );\r\n\t\t\tdst[ 19 ] = decodeFloat16( src[ 17 ] );\r\n\r\n\t\t\tdst[ 20 ] = decodeFloat16( src[ 25 ] );\r\n\t\t\tdst[ 21 ] = decodeFloat16( src[ 30 ] );\r\n\t\t\tdst[ 22 ] = decodeFloat16( src[ 41 ] );\r\n\t\t\tdst[ 23 ] = decodeFloat16( src[ 43 ] );\r\n\t\t\tdst[ 24 ] = decodeFloat16( src[ 9 ] );\r\n\t\t\tdst[ 25 ] = decodeFloat16( src[ 11 ] );\r\n\t\t\tdst[ 26 ] = decodeFloat16( src[ 18 ] );\r\n\t\t\tdst[ 27 ] = decodeFloat16( src[ 24 ] );\r\n\t\t\tdst[ 28 ] = decodeFloat16( src[ 31 ] );\r\n\t\t\tdst[ 29 ] = decodeFloat16( src[ 40 ] );\r\n\r\n\t\t\tdst[ 30 ] = decodeFloat16( src[ 44 ] );\r\n\t\t\tdst[ 31 ] = decodeFloat16( src[ 53 ] );\r\n\t\t\tdst[ 32 ] = decodeFloat16( src[ 10 ] );\r\n\t\t\tdst[ 33 ] = decodeFloat16( src[ 19 ] );\r\n\t\t\tdst[ 34 ] = decodeFloat16( src[ 23 ] );\r\n\t\t\tdst[ 35 ] = decodeFloat16( src[ 32 ] );\r\n\t\t\tdst[ 36 ] = decodeFloat16( src[ 39 ] );\r\n\t\t\tdst[ 37 ] = decodeFloat16( src[ 45 ] );\r\n\t\t\tdst[ 38 ] = decodeFloat16( src[ 52 ] );\r\n\t\t\tdst[ 39 ] = decodeFloat16( src[ 54 ] );\r\n\r\n\t\t\tdst[ 40 ] = decodeFloat16( src[ 20 ] );\r\n\t\t\tdst[ 41 ] = decodeFloat16( src[ 22 ] );\r\n\t\t\tdst[ 42 ] = decodeFloat16( src[ 33 ] );\r\n\t\t\tdst[ 43 ] = decodeFloat16( src[ 38 ] );\r\n\t\t\tdst[ 44 ] = decodeFloat16( src[ 46 ] );\r\n\t\t\tdst[ 45 ] = decodeFloat16( src[ 51 ] );\r\n\t\t\tdst[ 46 ] = decodeFloat16( src[ 55 ] );\r\n\t\t\tdst[ 47 ] = decodeFloat16( src[ 60 ] );\r\n\t\t\tdst[ 48 ] = decodeFloat16( src[ 21 ] );\r\n\t\t\tdst[ 49 ] = decodeFloat16( src[ 34 ] );\r\n\r\n\t\t\tdst[ 50 ] = decodeFloat16( src[ 37 ] );\r\n\t\t\tdst[ 51 ] = decodeFloat16( src[ 47 ] );\r\n\t\t\tdst[ 52 ] = decodeFloat16( src[ 50 ] );\r\n\t\t\tdst[ 53 ] = decodeFloat16( src[ 56 ] );\r\n\t\t\tdst[ 54 ] = decodeFloat16( src[ 59 ] );\r\n\t\t\tdst[ 55 ] = decodeFloat16( src[ 61 ] );\r\n\t\t\tdst[ 56 ] = decodeFloat16( src[ 35 ] );\r\n\t\t\tdst[ 57 ] = decodeFloat16( src[ 36 ] );\r\n\t\t\tdst[ 58 ] = decodeFloat16( src[ 48 ] );\r\n\t\t\tdst[ 59 ] = decodeFloat16( src[ 49 ] );\r\n\r\n\t\t\tdst[ 60 ] = decodeFloat16( src[ 57 ] );\r\n\t\t\tdst[ 61 ] = decodeFloat16( src[ 58 ] );\r\n\t\t\tdst[ 62 ] = decodeFloat16( src[ 62 ] );\r\n\t\t\tdst[ 63 ] = decodeFloat16( src[ 63 ] );\r\n\r\n\t\t}\r\n\r\n\t\tfunction dctInverse( data ) {\r\n\r\n\t\t\tconst a = 0.5 * Math.cos( 3.14159 / 4.0 );\r\n\t\t\tconst b = 0.5 * Math.cos( 3.14159 / 16.0 );\r\n\t\t\tconst c = 0.5 * Math.cos( 3.14159 / 8.0 );\r\n\t\t\tconst d = 0.5 * Math.cos( 3.0 * 3.14159 / 16.0 );\r\n\t\t\tconst e = 0.5 * Math.cos( 5.0 * 3.14159 / 16.0 );\r\n\t\t\tconst f = 0.5 * Math.cos( 3.0 * 3.14159 / 8.0 );\r\n\t\t\tconst g = 0.5 * Math.cos( 7.0 * 3.14159 / 16.0 );\r\n\r\n\t\t\tvar alpha = new Array( 4 );\r\n\t\t\tvar beta = new Array( 4 );\r\n\t\t\tvar theta = new Array( 4 );\r\n\t\t\tvar gamma = new Array( 4 );\r\n\r\n\t\t\tfor ( var row = 0; row < 8; ++ row ) {\r\n\r\n\t\t\t\tvar rowPtr = row * 8;\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 1 ] = f * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 2 ] = c * data[ rowPtr + 6 ];\r\n\t\t\t\talpha[ 3 ] = f * data[ rowPtr + 6 ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ rowPtr + 1 ] + d * data[ rowPtr + 3 ] + e * data[ rowPtr + 5 ] + g * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ rowPtr + 1 ] - g * data[ rowPtr + 3 ] - b * data[ rowPtr + 5 ] - e * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ rowPtr + 1 ] - b * data[ rowPtr + 3 ] + g * data[ rowPtr + 5 ] + d * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ rowPtr + 1 ] - e * data[ rowPtr + 3 ] + d * data[ rowPtr + 5 ] - b * data[ rowPtr + 7 ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ rowPtr + 0 ] + data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ rowPtr + 0 ] - data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 0 ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ rowPtr + 1 ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 2 ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 3 ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 4 ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ rowPtr + 5 ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 6 ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 7 ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var column = 0; column < 8; ++ column ) {\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ 16 + column ];\r\n\t\t\t\talpha[ 1 ] = f * data[ 16 + column ];\r\n\t\t\t\talpha[ 2 ] = c * data[ 48 + column ];\r\n\t\t\t\talpha[ 3 ] = f * data[ 48 + column ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ 8 + column ] + d * data[ 24 + column ] + e * data[ 40 + column ] + g * data[ 56 + column ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ 8 + column ] - g * data[ 24 + column ] - b * data[ 40 + column ] - e * data[ 56 + column ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ 8 + column ] - b * data[ 24 + column ] + g * data[ 40 + column ] + d * data[ 56 + column ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ 8 + column ] - e * data[ 24 + column ] + d * data[ 40 + column ] - b * data[ 56 + column ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ column ] + data[ 32 + column ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ column ] - data[ 32 + column ] );\r\n\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ 0 + column ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ 8 + column ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ 16 + column ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ 24 + column ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ 32 + column ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ 40 + column ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ 48 + column ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ 56 + column ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction csc709Inverse( data ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tvar y = data[ 0 ][ i ];\r\n\t\t\t\tvar cb = data[ 1 ][ i ];\r\n\t\t\t\tvar cr = data[ 2 ][ i ];\r\n\r\n\t\t\t\tdata[ 0 ][ i ] = y + 1.5747 * cr;\r\n\t\t\t\tdata[ 1 ][ i ] = y - 0.1873 * cb - 0.4682 * cr;\r\n\t\t\t\tdata[ 2 ][ i ] = y + 1.8556 * cb;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction convertToHalf( src, dst, idx ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tdst[ idx + i ] = DataUtils.toHalfFloat( toLinear( src[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction toLinear( float ) {\r\n\r\n\t\t\tif ( float <= 1 ) {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( Math.abs( float ), 2.2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( logBase, Math.abs( float ) - 1.0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRAW( info ) {\r\n\r\n\t\t\treturn new DataView( info.array.buffer, info.offset.value, info.size );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRLE( info ) {\r\n\r\n\t\t\tvar compressed = info.viewer.buffer.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( decodeRunLength( compressed ) );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressZIP( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPIZ( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\r\n\t\t\tvar tmpBufSize = info.width * scanlineBlockSize * ( EXRHeader.channels.length * info.type );\r\n\t\t\tvar outBuffer = new Uint16Array( tmpBufSize );\r\n\t\t\tvar bitmap = new Uint8Array( BITMAP_SIZE );\r\n\r\n\t\t\t// Setup channel info\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar pizChannelData = new Array( info.channels );\r\n\t\t\tfor ( var i = 0; i < info.channels; i ++ ) {\r\n\r\n\t\t\t\tpizChannelData[ i ] = {};\r\n\t\t\t\tpizChannelData[ i ][ 'start' ] = outBufferEnd;\r\n\t\t\t\tpizChannelData[ i ][ 'end' ] = pizChannelData[ i ][ 'start' ];\r\n\t\t\t\tpizChannelData[ i ][ 'nx' ] = info.width;\r\n\t\t\t\tpizChannelData[ i ][ 'ny' ] = info.lines;\r\n\t\t\t\tpizChannelData[ i ][ 'size' ] = info.type;\r\n\r\n\t\t\t\toutBufferEnd += pizChannelData[ i ].nx * pizChannelData[ i ].ny * pizChannelData[ i ].size;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read range compression data\r\n\t\t\tvar minNonZero = parseUint16( inDataView, inOffset );\r\n\t\t\tvar maxNonZero = parseUint16( inDataView, inOffset );\r\n\r\n\t\t\tif ( maxNonZero >= BITMAP_SIZE ) {\r\n\r\n\t\t\t\tthrow 'Something is wrong with PIZ_COMPRESSION BITMAP_SIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( minNonZero <= maxNonZero ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < maxNonZero - minNonZero + 1; i ++ ) {\r\n\r\n\t\t\t\t\tbitmap[ i + minNonZero ] = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Reverse LUT\r\n\t\t\tvar lut = new Uint16Array( USHORT_RANGE );\r\n\t\t\tvar maxValue = reverseLutFromBitmap( bitmap, lut );\r\n\r\n\t\t\tvar length = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\t// Huffman decoding\r\n\t\t\thufUncompress( info.array, inDataView, inOffset, length, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Wavelet decoding\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = pizChannelData[ i ];\r\n\r\n\t\t\t\tfor ( var j = 0; j < pizChannelData[ i ].size; ++ j ) {\r\n\r\n\t\t\t\t\twav2Decode(\r\n\t\t\t\t\t\toutBuffer,\r\n\t\t\t\t\t\tcd.start + j,\r\n\t\t\t\t\t\tcd.nx,\r\n\t\t\t\t\t\tcd.size,\r\n\t\t\t\t\t\tcd.ny,\r\n\t\t\t\t\t\tcd.nx * cd.size,\r\n\t\t\t\t\t\tmaxValue\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Expand the pixel data to their original range\r\n\t\t\tapplyLut( lut, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Rearrange the pixel data into the format expected by the caller.\r\n\t\t\tvar tmpOffset = 0;\r\n\t\t\tvar tmpBuffer = new Uint8Array( outBuffer.buffer.byteLength );\r\n\t\t\tfor ( var y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( var c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tvar cd = pizChannelData[ c ];\r\n\r\n\t\t\t\t\tvar n = cd.nx * cd.size;\r\n\t\t\t\t\tvar cp = new Uint8Array( outBuffer.buffer, cd.end * INT16_SIZE, n * INT16_SIZE );\r\n\r\n\t\t\t\t\ttmpBuffer.set( cp, tmpOffset );\r\n\t\t\t\t\ttmpOffset += n * INT16_SIZE;\r\n\t\t\t\t\tcd.end += n;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPXR( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\tconst rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\r\n\t\t\tconst sz = info.lines * info.channels * info.width;\r\n\t\t\tconst tmpBuffer = ( info.type == 1 ) ? new Uint16Array( sz ) : new Uint32Array( sz );\r\n\r\n\t\t\tlet tmpBufferEnd = 0;\r\n\t\t\tlet writePtr = 0;\r\n\t\t\tconst ptr = new Array( 4 );\r\n\r\n\t\t\tfor ( let y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( let c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tlet pixel = 0;\r\n\r\n\t\t\t\t\tswitch ( info.type ) {\r\n\r\n\t\t\t\t\t\tcase 1:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 1 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 8 ) | rawBuffer[ ptr[ 1 ] ++ ];\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 2:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\tptr[ 2 ] = ptr[ 1 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 2 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 24 ) | ( rawBuffer[ ptr[ 1 ] ++ ] << 16 ) | ( rawBuffer[ ptr[ 2 ] ++ ] << 8 );\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressDWA( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\t\t\tvar outBuffer = new Uint8Array( info.width * info.lines * ( EXRHeader.channels.length * info.type * INT16_SIZE ) );\r\n\r\n\t\t\t// Read compression header information\r\n\t\t\tvar dwaHeader = {\r\n\r\n\t\t\t\tversion: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tdcCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleRawSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalAcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalDcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompression: parseInt64( inDataView, inOffset )\r\n\r\n\t\t\t};\r\n\r\n\t\t\tif ( dwaHeader.version < 2 )\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' version ' + dwaHeader.version + ' is unsupported';\r\n\r\n\t\t\t// Read channel ruleset information\r\n\t\t\tvar channelRules = new Array();\r\n\t\t\tvar ruleSize = parseUint16( inDataView, inOffset ) - INT16_SIZE;\r\n\r\n\t\t\twhile ( ruleSize > 0 ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( inDataView.buffer, inOffset );\r\n\t\t\t\tvar value = parseUint8( inDataView, inOffset );\r\n\t\t\t\tvar compression = ( value >> 2 ) & 3;\r\n\t\t\t\tvar csc = ( value >> 4 ) - 1;\r\n\t\t\t\tvar index = new Int8Array( [ csc ] )[ 0 ];\r\n\t\t\t\tvar type = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\tchannelRules.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tcompression: compression,\r\n\t\t\t\t} );\r\n\r\n\t\t\t\truleSize -= name.length + 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Classify channels\r\n\t\t\tvar channels = EXRHeader.channels;\r\n\t\t\tvar channelData = new Array( info.channels );\r\n\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ] = {};\r\n\t\t\t\tvar channel = channels[ i ];\r\n\r\n\t\t\t\tcd.name = channel.name;\r\n\t\t\t\tcd.compression = UNKNOWN;\r\n\t\t\t\tcd.decoded = false;\r\n\t\t\t\tcd.type = channel.pixelType;\r\n\t\t\t\tcd.pLinear = channel.pLinear;\r\n\t\t\t\tcd.width = info.width;\r\n\t\t\t\tcd.height = info.lines;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar cscSet = {\r\n\t\t\t\tidx: new Array( 3 )\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var offset = 0; offset < info.channels; ++ offset ) {\r\n\r\n\t\t\t\tvar cd = channelData[ offset ];\r\n\r\n\t\t\t\tfor ( var i = 0; i < channelRules.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar rule = channelRules[ i ];\r\n\r\n\t\t\t\t\tif ( cd.name == rule.name ) {\r\n\r\n\t\t\t\t\t\tcd.compression = rule.compression;\r\n\r\n\t\t\t\t\t\tif ( rule.index >= 0 ) {\r\n\r\n\t\t\t\t\t\t\tcscSet.idx[ rule.index ] = offset;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcd.offset = offset;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - AC component data\r\n\t\t\tif ( dwaHeader.acCompressedSize > 0 ) {\r\n\r\n\t\t\t\tswitch ( dwaHeader.acCompression ) {\r\n\r\n\t\t\t\t\tcase STATIC_HUFFMAN:\r\n\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\thufUncompress( info.array, inDataView, inOffset, dwaHeader.acCompressedSize, acBuffer, dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase DEFLATE:\r\n\r\n\t\t\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( inflate.decompress().buffer );\r\n\t\t\t\t\t\tinOffset.value += dwaHeader.totalAcUncompressedCount;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - DC component data\r\n\t\t\tif ( dwaHeader.dcCompressedSize > 0 ) {\r\n\r\n\t\t\t\tvar zlibInfo = {\r\n\t\t\t\t\tarray: info.array,\r\n\t\t\t\t\toffset: inOffset,\r\n\t\t\t\t\tsize: dwaHeader.dcCompressedSize\r\n\t\t\t\t};\r\n\t\t\t\tvar dcBuffer = new Uint16Array( uncompressZIP( zlibInfo ).buffer );\r\n\t\t\t\tinOffset.value += dwaHeader.dcCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read RLE compressed data\r\n\t\t\tif ( dwaHeader.rleRawSize > 0 ) {\r\n\r\n\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.rleCompressedSize );\r\n\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\tvar rleBuffer = decodeRunLength( inflate.decompress().buffer );\r\n\r\n\t\t\t\tinOffset.value += dwaHeader.rleCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Prepare outbuffer data offset\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar rowOffsets = new Array( channelData.length );\r\n\t\t\tfor ( var i = 0; i < rowOffsets.length; ++ i ) {\r\n\r\n\t\t\t\trowOffsets[ i ] = new Array();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\tfor ( var chan = 0; chan < channelData.length; ++ chan ) {\r\n\r\n\t\t\t\t\trowOffsets[ chan ].push( outBufferEnd );\r\n\t\t\t\t\toutBufferEnd += channelData[ chan ].width * info.type * INT16_SIZE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Lossy DCT decode RGB channels\r\n\t\t\tlossyDctDecode( cscSet, rowOffsets, channelData, acBuffer, dcBuffer, outBuffer );\r\n\r\n\t\t\t// Decode other channels\r\n\t\t\tfor ( var i = 0; i < channelData.length; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ];\r\n\r\n\t\t\t\tif ( cd.decoded ) continue;\r\n\r\n\t\t\t\tswitch ( cd.compression ) {\r\n\r\n\t\t\t\t\tcase RLE:\r\n\r\n\t\t\t\t\t\tvar row = 0;\r\n\t\t\t\t\t\tvar rleOffset = 0;\r\n\r\n\t\t\t\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tvar rowOffsetBytes = rowOffsets[ i ][ row ];\r\n\r\n\t\t\t\t\t\t\tfor ( var x = 0; x < cd.width; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tfor ( var byte = 0; byte < INT16_SIZE * cd.type; ++ byte ) {\r\n\r\n\t\t\t\t\t\t\t\t\toutBuffer[ rowOffsetBytes ++ ] = rleBuffer[ rleOffset + byte * cd.width * cd.height ];\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\trleOffset ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trow ++;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase LOSSY_DCT: // skip\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow 'EXRLoader.parse: unsupported channel compression';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( outBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseNullTerminatedString( buffer, offset ) {\r\n\r\n\t\t\tvar uintBuffer = new Uint8Array( buffer );\r\n\t\t\tvar endOffset = 0;\r\n\r\n\t\t\twhile ( uintBuffer[ offset.value + endOffset ] != 0 ) {\r\n\r\n\t\t\t\tendOffset += 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tuintBuffer.slice( offset.value, offset.value + endOffset )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + endOffset + 1;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFixedLengthString( buffer, offset, size ) {\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tnew Uint8Array( buffer ).slice( offset.value, offset.value + size )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + size;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUlong( dataView, offset ) {\r\n\r\n\t\t\tvar uLong = dataView.getUint32( 0, true );\r\n\r\n\t\t\toffset.value = offset.value + ULONG_SIZE;\r\n\r\n\t\t\treturn uLong;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseRational( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseInt32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseTimecode( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseUint32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt32( dataView, offset ) {\r\n\r\n\t\t\tvar Int32 = dataView.getInt32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Int32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint32( dataView, offset ) {\r\n\r\n\t\t\tvar Uint32 = dataView.getUint32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Uint32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8Array( uInt8Array, offset ) {\r\n\r\n\t\t\tvar Uint8 = uInt8Array[ offset.value ];\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8( dataView, offset ) {\r\n\r\n\t\t\tvar Uint8 = dataView.getUint8( offset.value );\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt64( dataView, offset ) {\r\n\r\n\t\t\tvar int = Number( dataView.getBigInt64( offset.value, true ) );\r\n\r\n\t\t\toffset.value += ULONG_SIZE;\r\n\r\n\t\t\treturn int;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat32( dataView, offset ) {\r\n\r\n\t\t\tvar float = dataView.getFloat32( offset.value, true );\r\n\r\n\t\t\toffset.value += FLOAT32_SIZE;\r\n\r\n\t\t\treturn float;\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeFloat32( dataView, offset ) {\r\n\r\n\t\t\treturn DataUtils.toHalfFloat( parseFloat32( dataView, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\t// https://stackoverflow.com/questions/5678432/decompressing-half-precision-floats-in-javascript\r\n\t\tfunction decodeFloat16( binary ) {\r\n\r\n\t\t\tvar exponent = ( binary & 0x7C00 ) >> 10,\r\n\t\t\t\tfraction = binary & 0x03FF;\r\n\r\n\t\t\treturn ( binary >> 15 ? - 1 : 1 ) * (\r\n\t\t\t\texponent ?\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\texponent === 0x1F ?\r\n\t\t\t\t\t\t\tfraction ? NaN : Infinity :\r\n\t\t\t\t\t\t\tMath.pow( 2, exponent - 15 ) * ( 1 + fraction / 0x400 )\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t6.103515625e-5 * ( fraction / 0x400 )\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint16( dataView, offset ) {\r\n\r\n\t\t\tvar Uint16 = dataView.getUint16( offset.value, true );\r\n\r\n\t\t\toffset.value += INT16_SIZE;\r\n\r\n\t\t\treturn Uint16;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat16( buffer, offset ) {\r\n\r\n\t\t\treturn decodeFloat16( parseUint16( buffer, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChlist( dataView, buffer, offset, size ) {\r\n\r\n\t\t\tvar startOffset = offset.value;\r\n\t\t\tvar channels = [];\r\n\r\n\t\t\twhile ( offset.value < ( startOffset + size - 1 ) ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar pixelType = parseInt32( dataView, offset );\r\n\t\t\t\tvar pLinear = parseUint8( dataView, offset );\r\n\t\t\t\toffset.value += 3; // reserved, three chars\r\n\t\t\t\tvar xSampling = parseInt32( dataView, offset );\r\n\t\t\t\tvar ySampling = parseInt32( dataView, offset );\r\n\r\n\t\t\t\tchannels.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tpixelType: pixelType,\r\n\t\t\t\t\tpLinear: pLinear,\r\n\t\t\t\t\txSampling: xSampling,\r\n\t\t\t\t\tySampling: ySampling\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.value += 1;\r\n\r\n\t\t\treturn channels;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChromaticities( dataView, offset ) {\r\n\r\n\t\t\tvar redX = parseFloat32( dataView, offset );\r\n\t\t\tvar redY = parseFloat32( dataView, offset );\r\n\t\t\tvar greenX = parseFloat32( dataView, offset );\r\n\t\t\tvar greenY = parseFloat32( dataView, offset );\r\n\t\t\tvar blueX = parseFloat32( dataView, offset );\r\n\t\t\tvar blueY = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteX = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteY = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn { redX: redX, redY: redY, greenX: greenX, greenY: greenY, blueX: blueX, blueY: blueY, whiteX: whiteX, whiteY: whiteY };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseCompression( dataView, offset ) {\r\n\r\n\t\t\tvar compressionCodes = [\r\n\t\t\t\t'NO_COMPRESSION',\r\n\t\t\t\t'RLE_COMPRESSION',\r\n\t\t\t\t'ZIPS_COMPRESSION',\r\n\t\t\t\t'ZIP_COMPRESSION',\r\n\t\t\t\t'PIZ_COMPRESSION',\r\n\t\t\t\t'PXR24_COMPRESSION',\r\n\t\t\t\t'B44_COMPRESSION',\r\n\t\t\t\t'B44A_COMPRESSION',\r\n\t\t\t\t'DWAA_COMPRESSION',\r\n\t\t\t\t'DWAB_COMPRESSION'\r\n\t\t\t];\r\n\r\n\t\t\tvar compression = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn compressionCodes[ compression ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseBox2i( dataView, offset ) {\r\n\r\n\t\t\tvar xMin = parseUint32( dataView, offset );\r\n\t\t\tvar yMin = parseUint32( dataView, offset );\r\n\t\t\tvar xMax = parseUint32( dataView, offset );\r\n\t\t\tvar yMax = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn { xMin: xMin, yMin: yMin, xMax: xMax, yMax: yMax };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseLineOrder( dataView, offset ) {\r\n\r\n\t\t\tvar lineOrders = [\r\n\t\t\t\t'INCREASING_Y'\r\n\t\t\t];\r\n\r\n\t\t\tvar lineOrder = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn lineOrders[ lineOrder ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV2f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV3f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\t\t\tvar z = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y, z ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseValue( dataView, buffer, offset, type, size ) {\r\n\r\n\t\t\tif ( type === 'string' || type === 'stringvector' || type === 'iccProfile' ) {\r\n\r\n\t\t\t\treturn parseFixedLengthString( buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chlist' ) {\r\n\r\n\t\t\t\treturn parseChlist( dataView, buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chromaticities' ) {\r\n\r\n\t\t\t\treturn parseChromaticities( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'compression' ) {\r\n\r\n\t\t\t\treturn parseCompression( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'box2i' ) {\r\n\r\n\t\t\t\treturn parseBox2i( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'lineOrder' ) {\r\n\r\n\t\t\t\treturn parseLineOrder( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'float' ) {\r\n\r\n\t\t\t\treturn parseFloat32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v2f' ) {\r\n\r\n\t\t\t\treturn parseV2f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v3f' ) {\r\n\r\n\t\t\t\treturn parseV3f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'int' ) {\r\n\r\n\t\t\t\treturn parseInt32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'rational' ) {\r\n\r\n\t\t\t\treturn parseRational( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'timecode' ) {\r\n\r\n\t\t\t\treturn parseTimecode( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'preview' ) {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn 'skipped';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar bufferDataView = new DataView( buffer );\r\n\t\tvar uInt8Array = new Uint8Array( buffer );\r\n\r\n\t\tvar EXRHeader = {};\r\n\r\n\t\tbufferDataView.getUint32( 0, true ); // magic\r\n\t\tbufferDataView.getUint8( 4, true ); // versionByteZero\r\n\t\tbufferDataView.getUint8( 5, true ); // fullMask\r\n\r\n\t\t// start of header\r\n\r\n\t\tvar offset = { value: 8 }; // start at 8, after magic stuff\r\n\r\n\t\tvar keepReading = true;\r\n\r\n\t\twhile ( keepReading ) {\r\n\r\n\t\t\tvar attributeName = parseNullTerminatedString( buffer, offset );\r\n\r\n\t\t\tif ( attributeName == 0 ) {\r\n\r\n\t\t\t\tkeepReading = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar attributeType = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar attributeSize = parseUint32( bufferDataView, offset );\r\n\t\t\t\tvar attributeValue = parseValue( bufferDataView, buffer, offset, attributeType, attributeSize );\r\n\r\n\t\t\t\tif ( attributeValue === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( `EXRLoader.parse: skipped unknown header attribute type \\'${ attributeType }\\'.` );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tEXRHeader[ attributeName ] = attributeValue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// offsets\r\n\t\tvar dataWindowHeight = EXRHeader.dataWindow.yMax + 1;\r\n\r\n\t\tvar uncompress;\r\n\t\tvar scanlineBlockSize;\r\n\r\n\t\tswitch ( EXRHeader.compression ) {\r\n\r\n\t\t\tcase 'NO_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRAW;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'RLE_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIPS_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIP_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PIZ_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressPIZ;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PXR24_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressPXR;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAA_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAB_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 256;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' is unsupported';\r\n\r\n\t\t}\r\n\r\n\t\tvar size_t;\r\n\t\tvar getValue;\r\n\r\n\t\t// mixed pixelType not supported\r\n\t\tvar pixelType = EXRHeader.channels[ 0 ].pixelType;\r\n\r\n\t\tif ( pixelType === 1 ) { // half\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = parseUint16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( pixelType === 2 ) { // float\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = decodeFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow 'EXRLoader.parse: unsupported pixelType ' + pixelType + ' for ' + EXRHeader.compression + '.';\r\n\r\n\t\t}\r\n\r\n\t\tvar numBlocks = dataWindowHeight / scanlineBlockSize;\r\n\r\n\t\tfor ( var i = 0; i < numBlocks; i ++ ) {\r\n\r\n\t\t\tparseUlong( bufferDataView, offset ); // scanlineOffset\r\n\r\n\t\t}\r\n\r\n\t\t// we should be passed the scanline offset table, start reading pixel data\r\n\r\n\t\tvar width = EXRHeader.dataWindow.xMax - EXRHeader.dataWindow.xMin + 1;\r\n\t\tvar height = EXRHeader.dataWindow.yMax - EXRHeader.dataWindow.yMin + 1;\r\n\t\t// Firefox only supports RGBA (half) float textures\r\n\t\t// var numChannels = EXRHeader.channels.length;\r\n\t\tvar numChannels = 4;\r\n\t\tvar size = width * height * numChannels;\r\n\r\n\t\t// Fill initially with 1s for the alpha value if the texture is not RGBA, RGB values will be overwritten\r\n\t\tswitch ( this.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\tvar byteArray = new Float32Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 1, 0, size );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\tvar byteArray = new Uint16Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 0x3C00, 0, size ); // Uint16Array holds half float data, 0x3C00 is 1\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: unsupported type: ', this.type );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar channelOffsets = {\r\n\t\t\tR: 0,\r\n\t\t\tG: 1,\r\n\t\t\tB: 2,\r\n\t\t\tA: 3\r\n\t\t};\r\n\r\n\t\tvar compressionInfo = {\r\n\r\n\t\t\tsize: 0,\r\n\t\t\twidth: width,\r\n\t\t\tlines: scanlineBlockSize,\r\n\r\n\t\t\toffset: offset,\r\n\t\t\tarray: uInt8Array,\r\n\t\t\tviewer: bufferDataView,\r\n\r\n\t\t\ttype: pixelType,\r\n\t\t\tchannels: EXRHeader.channels.length,\r\n\r\n\t\t};\r\n\r\n\t\tvar line;\r\n\t\tvar size;\r\n\t\tvar viewer;\r\n\t\tvar tmpOffset = { value: 0 };\r\n\r\n\t\tfor ( var scanlineBlockIdx = 0; scanlineBlockIdx < height / scanlineBlockSize; scanlineBlockIdx ++ ) {\r\n\r\n\t\t\tline = parseUint32( bufferDataView, offset ); // line_no\r\n\t\t\tsize = parseUint32( bufferDataView, offset ); // data_len\r\n\r\n\t\t\tcompressionInfo.lines = ( line + scanlineBlockSize > height ) ? height - line : scanlineBlockSize;\r\n\t\t\tcompressionInfo.offset = offset;\r\n\t\t\tcompressionInfo.size = size;\r\n\r\n\t\t\tviewer = uncompress( compressionInfo );\r\n\r\n\t\t\toffset.value += size;\r\n\r\n\t\t\tfor ( var line_y = 0; line_y < scanlineBlockSize; line_y ++ ) {\r\n\r\n\t\t\t\tvar true_y = line_y + ( scanlineBlockIdx * scanlineBlockSize );\r\n\r\n\t\t\t\tif ( true_y >= height ) break;\r\n\r\n\t\t\t\tfor ( var channelID = 0; channelID < EXRHeader.channels.length; channelID ++ ) {\r\n\r\n\t\t\t\t\tvar cOff = channelOffsets[ EXRHeader.channels[ channelID ].name ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; x ++ ) {\r\n\r\n\t\t\t\t\t\tvar idx = ( line_y * ( EXRHeader.channels.length * width ) ) + ( channelID * width ) + x;\r\n\t\t\t\t\t\ttmpOffset.value = idx * size_t;\r\n\r\n\t\t\t\t\t\tvar val = getValue( viewer, tmpOffset );\r\n\r\n\t\t\t\t\t\tbyteArray[ ( ( ( height - 1 - true_y ) * ( width * numChannels ) ) + ( x * numChannels ) ) + cOff ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.type === UnsignedByteType ) {\r\n\r\n\t\t\tlet v, i;\r\n\t\t\tconst size = byteArray.length;\r\n\t\t\tconst RGBEArray = new Uint8Array( size );\r\n\r\n\t\t\tfor ( let h = 0; h < height; ++ h ) {\r\n\r\n\t\t\t\tfor ( let w = 0; w < width; ++ w ) {\r\n\r\n\t\t\t\t\ti = h * width * 4 + w * 4;\r\n\r\n\t\t\t\t\tconst red = byteArray[ i ];\r\n\t\t\t\t\tconst green = byteArray[ i + 1 ];\r\n\t\t\t\t\tconst blue = byteArray[ i + 2 ];\r\n\r\n\t\t\t\t\tv = ( red > green ) ? red : green;\r\n\t\t\t\t\tv = ( blue > v ) ? blue : v;\r\n\r\n\t\t\t\t\tif ( v < 1e-32 ) {\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = RGBEArray[ i + 1 ] = RGBEArray[ i + 2 ] = RGBEArray[ i + 3 ] = 0;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconst res = frexp( v );\r\n\t\t\t\t\t\tv = res[ 0 ] * 256 / v;\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = red * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 1 ] = green * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 2 ] = blue * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 3 ] = res[ 1 ] + 128;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbyteArray = RGBEArray;\r\n\r\n\t\t}\r\n\r\n\t\tconst format = ( this.type === UnsignedByteType ) ? RGBEFormat : ( numChannels === 4 ) ? RGBAFormat : RGBFormat;\r\n\r\n\t\treturn {\r\n\t\t\theader: EXRHeader,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tdata: byteArray,\r\n\t\t\tformat: format,\r\n\t\t\ttype: this.type\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { EXRLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/EXRLoader.js","import { TempNode } from './TempNode.js';\r\nimport { NodeLib } from './NodeLib.js';\r\n\r\nvar declarationRegexp = /^\\s*([a-z_0-9]+)\\s([a-z_0-9]+)\\s*\\((.*?)\\)/i,\r\n\tpropertiesRegexp = /[a-z_0-9]+/ig;\r\n\r\nfunction FunctionNode( src, includes, extensions, keywords, type ) {\r\n\r\n\tthis.isMethod = type === undefined;\r\n\tthis.isInterface = false;\r\n\r\n\tTempNode.call( this, type );\r\n\r\n\tthis.parse( src, includes, extensions, keywords );\r\n\r\n}\r\n\r\nFunctionNode.prototype = Object.create( TempNode.prototype );\r\nFunctionNode.prototype.constructor = FunctionNode;\r\nFunctionNode.prototype.nodeType = \"Function\";\r\n\r\nFunctionNode.prototype.useKeywords = true;\r\n\r\nFunctionNode.prototype.getShared = function ( /* builder, output */ ) {\r\n\r\n\treturn ! this.isMethod;\r\n\r\n};\r\n\r\nFunctionNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nFunctionNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.getIncludeByName = function ( name ) {\r\n\r\n\tvar i = this.includes.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.includes[ i ].name === name ) {\r\n\r\n\t\t\treturn this.includes[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar match, offset = 0, src = this.src;\r\n\r\n\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\tbuilder.include( this.includes[ i ], this );\r\n\r\n\t}\r\n\r\n\tfor ( var ext in this.extensions ) {\r\n\r\n\t\tbuilder.extensions[ ext ] = true;\r\n\r\n\t}\r\n\r\n\tvar matches = [];\r\n\r\n\twhile ( match = propertiesRegexp.exec( this.src ) ) matches.push( match );\r\n\r\n\tfor ( var i = 0; i < matches.length; i ++ ) {\r\n\r\n\t\tvar match = matches[ i ];\r\n\r\n\t\tvar prop = match[ 0 ],\r\n\t\t\tisGlobal = this.isMethod ? ! this.getInputByName( prop ) : true,\r\n\t\t\treference = prop;\r\n\r\n\t\tif ( this.keywords[ prop ] || ( this.useKeywords && isGlobal && NodeLib.containsKeyword( prop ) ) ) {\r\n\r\n\t\t\tvar node = this.keywords[ prop ];\r\n\r\n\t\t\tif ( ! node ) {\r\n\r\n\t\t\t\tvar keyword = NodeLib.getKeywordData( prop );\r\n\r\n\t\t\t\tif ( keyword.cache ) node = builder.keywords[ prop ];\r\n\r\n\t\t\t\tnode = node || NodeLib.getKeyword( prop, builder );\r\n\r\n\t\t\t\tif ( keyword.cache ) builder.keywords[ prop ] = node;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treference = node.build( builder );\r\n\r\n\t\t}\r\n\r\n\t\tif ( prop !== reference ) {\r\n\r\n\t\t\tsrc = src.substring( 0, match.index + offset ) + reference + src.substring( match.index + prop.length + offset );\r\n\r\n\t\t\toffset += reference.length - prop.length;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.getIncludeByName( reference ) === undefined && NodeLib.contains( reference ) ) {\r\n\r\n\t\t\tbuilder.include( NodeLib.get( reference ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn src;\r\n\r\n\t} else if ( this.isMethod ) {\r\n\r\n\t\tif ( ! this.isInterface ) {\r\n\r\n\t\t\tbuilder.include( this, false, src );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.name;\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.parse = function ( src, includes, extensions, keywords ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.includes = includes || [];\r\n\tthis.extensions = extensions || {};\r\n\tthis.keywords = keywords || {};\r\n\r\n\tif ( this.isMethod ) {\r\n\r\n\t\tvar match = this.src.match( declarationRegexp );\r\n\r\n\t\tthis.inputs = [];\r\n\r\n\t\tif ( match && match.length == 4 ) {\r\n\r\n\t\t\tthis.type = match[ 1 ];\r\n\t\t\tthis.name = match[ 2 ];\r\n\r\n\t\t\tvar inputs = match[ 3 ].match( propertiesRegexp );\r\n\r\n\t\t\tif ( inputs ) {\r\n\r\n\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\twhile ( i < inputs.length ) {\r\n\r\n\t\t\t\t\tvar qualifier = inputs[ i ++ ];\r\n\t\t\t\t\tvar type, name;\r\n\r\n\t\t\t\t\tif ( qualifier === 'in' || qualifier === 'out' || qualifier === 'inout' ) {\r\n\r\n\t\t\t\t\t\ttype = inputs[ i ++ ];\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttype = qualifier;\r\n\t\t\t\t\t\tqualifier = '';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tname = inputs[ i ++ ];\r\n\r\n\t\t\t\t\tthis.inputs.push( {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tqualifier: qualifier\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.isInterface = this.src.indexOf( '{' ) === - 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.type = '';\r\n\t\t\tthis.name = '';\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.isMethod = source.isMethod;\r\n\tthis.useKeywords = source.useKeywords;\r\n\r\n\tthis.parse( source.src, source.includes, source.extensions, source.keywords );\r\n\r\n\tif ( source.type !== undefined ) this.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\t\tdata.isMethod = this.isMethod;\r\n\t\tdata.useKeywords = this.useKeywords;\r\n\r\n\t\tif ( ! this.isMethod ) data.type = this.type;\r\n\r\n\t\tdata.extensions = JSON.parse( JSON.stringify( this.extensions ) );\r\n\t\tdata.keywords = {};\r\n\r\n\t\tfor ( var keyword in this.keywords ) {\r\n\r\n\t\t\tdata.keywords[ keyword ] = this.keywords[ keyword ].toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.includes.length ) {\r\n\r\n\t\t\tdata.includes = [];\r\n\r\n\t\t\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\t\t\tdata.includes.push( this.includes[ i ].toJSON( meta ).uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionNode.js","import {\r\n\tFileLoader,\r\n\tLoader,\r\n\tTexture\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TGALoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n};\r\n\r\nTGALoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: TGALoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar texture = new Texture();\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\ttexture.image = scope.parse( buffer );\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\t// reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\r\n\r\n\t\tfunction tgaCheckHeader( header ) {\r\n\r\n\t\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\t\t// check indexed type\r\n\r\n\t\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\t\tif ( header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1 ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for indexed type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// check colormap type\r\n\r\n\t\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\t\tif ( header.colormap_type ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for colormap type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// What the need of a file without data ?\r\n\r\n\t\t\t\tcase TGA_TYPE_NO_DATA:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t\t\t\t// Invalid type ?\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type \"%s\".', header.image_type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image width and height\r\n\r\n\t\t\tif ( header.width <= 0 || header.height <= 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid image size.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image pixel size\r\n\r\n\t\t\tif ( header.pixel_size !== 8 && header.pixel_size !== 16 &&\r\n\t\t\t\theader.pixel_size !== 24 && header.pixel_size !== 32 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// parse tga image buffer\r\n\r\n\t\tfunction tgaParse( use_rle, use_pal, header, offset, data ) {\r\n\r\n\t\t\tvar pixel_data,\r\n\t\t\t\tpixel_size,\r\n\t\t\t\tpixel_total,\r\n\t\t\t\tpalettes;\r\n\r\n\t\t\tpixel_size = header.pixel_size >> 3;\r\n\t\t\tpixel_total = header.width * header.height * pixel_size;\r\n\r\n\t\t\t // read palettes\r\n\r\n\t\t\t if ( use_pal ) {\r\n\r\n\t\t\t\t palettes = data.subarray( offset, offset += header.colormap_length * ( header.colormap_size >> 3 ) );\r\n\r\n\t\t\t }\r\n\r\n\t\t\t // read RLE\r\n\r\n\t\t\t if ( use_rle ) {\r\n\r\n\t\t\t\t pixel_data = new Uint8Array( pixel_total );\r\n\r\n\t\t\t\tvar c, count, i;\r\n\t\t\t\tvar shift = 0;\r\n\t\t\t\tvar pixels = new Uint8Array( pixel_size );\r\n\r\n\t\t\t\twhile ( shift < pixel_total ) {\r\n\r\n\t\t\t\t\tc = data[ offset ++ ];\r\n\t\t\t\t\tcount = ( c & 0x7f ) + 1;\r\n\r\n\t\t\t\t\t// RLE pixels\r\n\r\n\t\t\t\t\tif ( c & 0x80 ) {\r\n\r\n\t\t\t\t\t\t// bind pixel tmp array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < pixel_size; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixels[ i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// copy pixel array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data.set( pixels, shift + i * pixel_size );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += pixel_size * count;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// raw pixels\r\n\r\n\t\t\t\t\t\tcount *= pixel_size;\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data[ shift + i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += count;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t } else {\r\n\r\n\t\t\t\t// raw pixels\r\n\r\n\t\t\t\tpixel_data = data.subarray(\r\n\t\t\t\t\t offset, offset += ( use_pal ? header.width * header.height : pixel_total )\r\n\t\t\t\t);\r\n\r\n\t\t\t }\r\n\r\n\t\t\t return {\r\n\t\t\t\tpixel_data: pixel_data,\r\n\t\t\t\tpalettes: palettes\r\n\t\t\t };\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes ) {\r\n\r\n\t\t\tvar colormap = palettes;\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = colormap[ ( color * 3 ) + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = colormap[ ( color * 3 ) + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = colormap[ ( color * 3 ) + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\tcolor = image[ i + 0 ] + ( image[ i + 1 ] << 8 ); // Inversed ?\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = ( color & 0x7C00 ) >> 7;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = ( color & 0x03E0 ) >> 2;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = ( color & 0x001F ) >> 3;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = ( color & 0x8000 ) ? 0 : 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData24bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 3 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData32bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 4 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getTgaRGBA( data, width, height, image, palette ) {\r\n\r\n\t\t\tvar x_start,\r\n\t\t\t\ty_start,\r\n\t\t\t\tx_step,\r\n\t\t\t\ty_step,\r\n\t\t\t\tx_end,\r\n\t\t\t\ty_end;\r\n\r\n\t\t\tswitch ( ( header.flags & TGA_ORIGIN_MASK ) >> TGA_ORIGIN_SHIFT ) {\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase TGA_ORIGIN_UL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_UR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( use_grey ) {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageDataGrey8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageDataGrey16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageData8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageData16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 24:\r\n\t\t\t\t\t\ttgaGetImageData24bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 32:\r\n\t\t\t\t\t\ttgaGetImageData32bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Load image data according to specific method\r\n\t\t\t// var func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\r\n\t\t\t// func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\t// TGA constants\r\n\r\n\t\tvar TGA_TYPE_NO_DATA = 0,\r\n\t\t\tTGA_TYPE_INDEXED = 1,\r\n\t\t\tTGA_TYPE_RGB = 2,\r\n\t\t\tTGA_TYPE_GREY = 3,\r\n\t\t\tTGA_TYPE_RLE_INDEXED = 9,\r\n\t\t\tTGA_TYPE_RLE_RGB = 10,\r\n\t\t\tTGA_TYPE_RLE_GREY = 11,\r\n\r\n\t\t\tTGA_ORIGIN_MASK = 0x30,\r\n\t\t\tTGA_ORIGIN_SHIFT = 0x04,\r\n\t\t\tTGA_ORIGIN_BL = 0x00,\r\n\t\t\tTGA_ORIGIN_BR = 0x01,\r\n\t\t\tTGA_ORIGIN_UL = 0x02,\r\n\t\t\tTGA_ORIGIN_UR = 0x03;\r\n\r\n\t\tif ( buffer.length < 19 ) console.error( 'THREE.TGALoader: Not enough data to contain header.' );\r\n\r\n\t\tvar content = new Uint8Array( buffer ),\r\n\t\t\toffset = 0,\r\n\t\t\theader = {\r\n\t\t\t\tid_length: content[ offset ++ ],\r\n\t\t\t\tcolormap_type: content[ offset ++ ],\r\n\t\t\t\timage_type: content[ offset ++ ],\r\n\t\t\t\tcolormap_index: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_length: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_size: content[ offset ++ ],\r\n\t\t\t\torigin: [\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8\r\n\t\t\t\t],\r\n\t\t\t\twidth: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\theight: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tpixel_size: content[ offset ++ ],\r\n\t\t\t\tflags: content[ offset ++ ]\r\n\t\t\t};\r\n\r\n\t\t// check tga if it is valid format\r\n\r\n\t\ttgaCheckHeader( header );\r\n\r\n\t\tif ( header.id_length + offset > buffer.length ) {\r\n\r\n\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t}\r\n\r\n\t\t// skip the needn't data\r\n\r\n\t\toffset += header.id_length;\r\n\r\n\t\t// get targa information about RLE compression and palette\r\n\r\n\t\tvar use_rle = false,\r\n\t\t\tuse_pal = false,\r\n\t\t\tuse_grey = false;\r\n\r\n\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar useOffscreen = typeof OffscreenCanvas !== 'undefined';\r\n\r\n\t\tvar canvas = useOffscreen ? new OffscreenCanvas( header.width, header.height ) : document.createElement( 'canvas' );\r\n\t\tcanvas.width = header.width;\r\n\t\tcanvas.height = header.height;\r\n\r\n\t\tvar context = canvas.getContext( '2d' );\r\n\t\tvar imageData = context.createImageData( header.width, header.height );\r\n\r\n\t\tvar result = tgaParse( use_rle, use_pal, header, offset, content );\r\n\t\tgetTgaRGBA( imageData.data, header.width, header.height, result.pixel_data, result.palettes );\r\n\r\n\t\tcontext.putImageData( imageData, 0, 0 );\r\n\r\n\t\treturn canvas;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { TGALoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/TGALoader.js","/**\r\n * dat-gui JavaScript Controller Library\r\n * http://code.google.com/p/dat-gui\r\n *\r\n * Copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nfunction ___$insertStyle( css ) {\r\n\r\n\tif ( ! css ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\tif ( typeof window === 'undefined' ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tvar style = document.createElement( 'style' );\r\n\r\n\tstyle.setAttribute( 'type', 'text/css' );\r\n\tstyle.innerHTML = css;\r\n\tdocument.head.appendChild( style );\r\n\r\n\treturn css;\r\n\r\n}\r\n\r\nfunction colorToString( color, forceCSSHex ) {\r\n\r\n\tvar colorFormat = color.__state.conversionName.toString();\r\n\tvar r = Math.round( color.r );\r\n\tvar g = Math.round( color.g );\r\n\tvar b = Math.round( color.b );\r\n\tvar a = color.a;\r\n\tvar h = Math.round( color.h );\r\n\tvar s = color.s.toFixed( 1 );\r\n\tvar v = color.v.toFixed( 1 );\r\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\r\n\r\n\t\tvar str = color.hex.toString( 16 );\r\n\t\twhile ( str.length < 6 ) {\r\n\r\n\t\t\tstr = '0' + str;\r\n\r\n\t\t}\r\n\t\treturn '#' + str;\r\n\r\n\t} else if ( colorFormat === 'CSS_RGB' ) {\r\n\r\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\r\n\r\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\r\n\r\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\r\n\r\n\t} else if ( colorFormat === 'HEX' ) {\r\n\r\n\t\treturn '0x' + color.hex.toString( 16 );\r\n\r\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\r\n\r\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\r\n\r\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\r\n\r\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\r\n\r\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\r\n\r\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\r\n\r\n\t}\r\n\treturn 'unknown format';\r\n\r\n}\r\n\r\nvar ARR_EACH = Array.prototype.forEach;\r\nvar ARR_SLICE = Array.prototype.slice;\r\nvar Common = {\r\n\tBREAK: {},\r\n\textend: function extend( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tdefaults: function defaults( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tcompose: function compose() {\r\n\r\n\t\tvar toCall = ARR_SLICE.call( arguments );\r\n\t\treturn function () {\r\n\r\n\t\t\tvar args = ARR_SLICE.call( arguments );\r\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\r\n\r\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\r\n\r\n\t\t\t}\r\n\t\t\treturn args[ 0 ];\r\n\r\n\t\t};\r\n\r\n\t},\r\n\teach: function each( obj, itr, scope ) {\r\n\r\n\t\tif ( ! obj ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\r\n\r\n\t\t\tobj.forEach( itr, scope );\r\n\r\n\t\t} else if ( obj.length === obj.length + 0 ) {\r\n\r\n\t\t\tvar key = void 0;\r\n\t\t\tvar l = void 0;\r\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\r\n\r\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( var _key in obj ) {\r\n\r\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tdefer: function defer( fnc ) {\r\n\r\n\t\tsetTimeout( fnc, 0 );\r\n\r\n\t},\r\n\tdebounce: function debounce( func, threshold, callImmediately ) {\r\n\r\n\t\tvar timeout = void 0;\r\n\t\treturn function () {\r\n\r\n\t\t\tvar obj = this;\r\n\t\t\tvar args = arguments;\r\n\t\t\tfunction delayed() {\r\n\r\n\t\t\t\ttimeout = null;\r\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\r\n\r\n\t\t\t}\r\n\t\t\tvar callNow = callImmediately || ! timeout;\r\n\t\t\tclearTimeout( timeout );\r\n\t\t\ttimeout = setTimeout( delayed, threshold );\r\n\t\t\tif ( callNow ) {\r\n\r\n\t\t\t\tfunc.apply( obj, args );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t},\r\n\ttoArray: function toArray( obj ) {\r\n\r\n\t\tif ( obj.toArray ) return obj.toArray();\r\n\t\treturn ARR_SLICE.call( obj );\r\n\r\n\t},\r\n\tisUndefined: function isUndefined( obj ) {\r\n\r\n\t\treturn obj === undefined;\r\n\r\n\t},\r\n\tisNull: function isNull( obj ) {\r\n\r\n\t\treturn obj === null;\r\n\r\n\t},\r\n\tisNaN: function ( _isNaN ) {\r\n\r\n\t\tfunction isNaN() {\r\n\r\n\t\t\treturn _isNaN.apply( this, arguments );\r\n\r\n\t\t}\r\n\t\tisNaN.toString = function () {\r\n\r\n\t\t\treturn _isNaN.toString();\r\n\r\n\t\t};\r\n\t\treturn isNaN;\r\n\r\n\t}( function ( obj ) {\r\n\r\n\t\treturn isNaN( obj );\r\n\r\n\t} ),\r\n\tisArray: Array.isArray || function ( obj ) {\r\n\r\n\t\treturn obj.constructor === Array;\r\n\r\n\t},\r\n\tisObject: function isObject( obj ) {\r\n\r\n\t\treturn obj === Object( obj );\r\n\r\n\t},\r\n\tisNumber: function isNumber( obj ) {\r\n\r\n\t\treturn obj === obj + 0;\r\n\r\n\t},\r\n\tisString: function isString( obj ) {\r\n\r\n\t\treturn obj === obj + '';\r\n\r\n\t},\r\n\tisBoolean: function isBoolean( obj ) {\r\n\r\n\t\treturn obj === false || obj === true;\r\n\r\n\t},\r\n\tisFunction: function isFunction( obj ) {\r\n\r\n\t\treturn obj instanceof Function;\r\n\r\n\t}\r\n};\r\n\r\nvar INTERPRETATIONS = [\r\n\t{\r\n\t\tlitmus: Common.isString,\r\n\t\tconversions: {\r\n\t\t\tTHREE_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tSIX_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGB: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGBA: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\r\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isNumber,\r\n\t\tconversions: {\r\n\t\t\tHEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: original,\r\n\t\t\t\t\t\tconversionName: 'HEX'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn color.hex;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isArray,\r\n\t\tconversions: {\r\n\t\t\tRGB_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 3 ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGBA_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 4 ) return false;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ],\r\n\t\t\t\t\t\ta: original[ 3 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isObject,\r\n\t\tconversions: {\r\n\t\t\tRGBA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGB_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSVA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSV_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} ];\r\nvar result = void 0;\r\nvar toReturn = void 0;\r\nvar interpret = function interpret() {\r\n\r\n\ttoReturn = false;\r\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\r\n\tCommon.each( INTERPRETATIONS, function ( family ) {\r\n\r\n\t\tif ( family.litmus( original ) ) {\r\n\r\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\r\n\r\n\t\t\t\tresult = conversion.read( original );\r\n\t\t\t\tif ( toReturn === false && result !== false ) {\r\n\r\n\t\t\t\t\ttoReturn = result;\r\n\t\t\t\t\tresult.conversionName = conversionName;\r\n\t\t\t\t\tresult.conversion = conversion;\r\n\t\t\t\t\treturn Common.BREAK;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn Common.BREAK;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n};\r\n\r\nvar tmpComponent = void 0;\r\nvar ColorMath = {\r\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\r\n\r\n\t\tvar hi = Math.floor( h / 60 ) % 6;\r\n\t\tvar f = h / 60 - Math.floor( h / 60 );\r\n\t\tvar p = v * ( 1.0 - s );\r\n\t\tvar q = v * ( 1.0 - f * s );\r\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\r\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\r\n\t\treturn {\r\n\t\t\tr: c[ 0 ] * 255,\r\n\t\t\tg: c[ 1 ] * 255,\r\n\t\t\tb: c[ 2 ] * 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\r\n\r\n\t\tvar min = Math.min( r, g, b );\r\n\t\tvar max = Math.max( r, g, b );\r\n\t\tvar delta = max - min;\r\n\t\tvar h = void 0;\r\n\t\tvar s = void 0;\r\n\t\tif ( max !== 0 ) {\r\n\r\n\t\t\ts = delta / max;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn {\r\n\t\t\t\th: NaN,\r\n\t\t\t\ts: 0,\r\n\t\t\t\tv: 0\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\tif ( r === max ) {\r\n\r\n\t\t\th = ( g - b ) / delta;\r\n\r\n\t\t} else if ( g === max ) {\r\n\r\n\t\t\th = 2 + ( b - r ) / delta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\th = 4 + ( r - g ) / delta;\r\n\r\n\t\t}\r\n\t\th /= 6;\r\n\t\tif ( h < 0 ) {\r\n\r\n\t\t\th += 1;\r\n\r\n\t\t}\r\n\t\treturn {\r\n\t\t\th: h * 360,\r\n\t\t\ts: s,\r\n\t\t\tv: max / 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\r\n\r\n\t\tvar hex = this.hex_with_component( 0, 2, r );\r\n\t\thex = this.hex_with_component( hex, 1, g );\r\n\t\thex = this.hex_with_component( hex, 0, b );\r\n\t\treturn hex;\r\n\r\n\t},\r\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\r\n\r\n\t\treturn hex >> componentIndex * 8 & 0xFF;\r\n\r\n\t},\r\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\r\n\r\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\r\n\r\n\t}\r\n};\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\r\n\r\n\treturn typeof obj;\r\n\r\n} : function ( obj ) {\r\n\r\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar classCallCheck = function ( instance, Constructor ) {\r\n\r\n\tif ( ! ( instance instanceof Constructor ) ) {\r\n\r\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar createClass = function () {\r\n\r\n\tfunction defineProperties( target, props ) {\r\n\r\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\r\n\r\n\t\t\tvar descriptor = props[ i ];\r\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\r\n\t\t\tdescriptor.configurable = true;\r\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\r\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn function ( Constructor, protoProps, staticProps ) {\r\n\r\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\r\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\r\n\t\treturn Constructor;\r\n\r\n\t};\r\n\r\n}();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar get = function get( object, property, receiver ) {\r\n\r\n\tif ( object === null ) object = Function.prototype;\r\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\r\n\r\n\tif ( desc === undefined ) {\r\n\r\n\t\tvar parent = Object.getPrototypeOf( object );\r\n\r\n\t\tif ( parent === null ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn get( parent, property, receiver );\r\n\r\n\t\t}\r\n\r\n\t} else if ( \"value\" in desc ) {\r\n\r\n\t\treturn desc.value;\r\n\r\n\t} else {\r\n\r\n\t\tvar getter = desc.get;\r\n\r\n\t\tif ( getter === undefined ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t}\r\n\r\n\t\treturn getter.call( receiver );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar inherits = function ( subClass, superClass ) {\r\n\r\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\r\n\r\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\r\n\r\n\t}\r\n\r\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: subClass,\r\n\t\t\tenumerable: false,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t} );\r\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar possibleConstructorReturn = function ( self, call ) {\r\n\r\n\tif ( ! self ) {\r\n\r\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\r\n\r\n\t}\r\n\r\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\r\n\r\n};\r\n\r\nvar Color = function () {\r\n\r\n\tfunction Color() {\r\n\r\n\t\tclassCallCheck( this, Color );\r\n\t\tthis.__state = interpret.apply( this, arguments );\r\n\t\tif ( this.__state === false ) {\r\n\r\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\r\n\r\n\t\t}\r\n\t\tthis.__state.a = this.__state.a || 1;\r\n\r\n\t}\r\n\tcreateClass( Color, [ {\r\n\t\tkey: 'toString',\r\n\t\tvalue: function toString() {\r\n\r\n\t\t\treturn colorToString( this );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toHexString',\r\n\t\tvalue: function toHexString() {\r\n\r\n\t\t\treturn colorToString( this, true );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toOriginal',\r\n\t\tvalue: function toOriginal() {\r\n\r\n\t\t\treturn this.__state.conversion.write( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Color;\r\n\r\n}();\r\nfunction defineRGBComponent( target, component, componentHexIndex ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'RGB' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'RGB' ) {\r\n\r\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\t\tthis.__state.space = 'RGB';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nfunction defineHSVComponent( target, component ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'HSV' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateHSV( this );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'HSV' ) {\r\n\r\n\t\t\t\tColor.recalculateHSV( this );\r\n\t\t\t\tthis.__state.space = 'HSV';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\r\n\r\n\tif ( color.__state.space === 'HEX' ) {\r\n\r\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\r\n\r\n\t} else if ( color.__state.space === 'HSV' ) {\r\n\r\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\r\n\r\n\t} else {\r\n\r\n\t\tthrow new Error( 'Corrupted color state' );\r\n\r\n\t}\r\n\r\n};\r\nColor.recalculateHSV = function ( color ) {\r\n\r\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\r\n\tCommon.extend( color.__state, {\r\n\t\ts: result.s,\r\n\t\tv: result.v\r\n\t} );\r\n\tif ( ! Common.isNaN( result.h ) ) {\r\n\r\n\t\tcolor.__state.h = result.h;\r\n\r\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\r\n\r\n\t\tcolor.__state.h = 0;\r\n\r\n\t}\r\n\r\n};\r\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\r\ndefineRGBComponent( Color.prototype, 'r', 2 );\r\ndefineRGBComponent( Color.prototype, 'g', 1 );\r\ndefineRGBComponent( Color.prototype, 'b', 0 );\r\ndefineHSVComponent( Color.prototype, 'h' );\r\ndefineHSVComponent( Color.prototype, 's' );\r\ndefineHSVComponent( Color.prototype, 'v' );\r\nObject.defineProperty( Color.prototype, 'a', {\r\n\tget: function get$$1() {\r\n\r\n\t\treturn this.__state.a;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.a = v;\r\n\r\n\t}\r\n} );\r\nObject.defineProperty( Color.prototype, 'hex', {\r\n\tget: function get$$1() {\r\n\r\n\t\tif ( this.__state.space !== 'HEX' ) {\r\n\r\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\r\n\t\t\tthis.__state.space = 'HEX';\r\n\r\n\t\t}\r\n\t\treturn this.__state.hex;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.space = 'HEX';\r\n\t\tthis.__state.hex = v;\r\n\r\n\t}\r\n} );\r\n\r\nvar Controller = function () {\r\n\r\n\tfunction Controller( object, property ) {\r\n\r\n\t\tclassCallCheck( this, Controller );\r\n\t\tthis.initialValue = object[ property ];\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tthis.object = object;\r\n\t\tthis.property = property;\r\n\t\tthis.__onChange = undefined;\r\n\t\tthis.__onFinishChange = undefined;\r\n\r\n\t}\r\n\tcreateClass( Controller, [ {\r\n\t\tkey: 'onChange',\r\n\t\tvalue: function onChange( fnc ) {\r\n\r\n\t\t\tthis.__onChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'onFinishChange',\r\n\t\tvalue: function onFinishChange( fnc ) {\r\n\r\n\t\t\tthis.__onFinishChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( newValue ) {\r\n\r\n\t\t\tthis.object[ this.property ] = newValue;\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this, newValue );\r\n\r\n\t\t\t}\r\n\t\t\tthis.updateDisplay();\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getValue',\r\n\t\tvalue: function getValue() {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'isModified',\r\n\t\tvalue: function isModified() {\r\n\r\n\t\t\treturn this.initialValue !== this.getValue();\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Controller;\r\n\r\n}();\r\n\r\nvar EVENT_MAP = {\r\n\tHTMLEvents: [ 'change' ],\r\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\r\n\tKeyboardEvents: [ 'keydown' ]\r\n};\r\nvar EVENT_MAP_INV = {};\r\nCommon.each( EVENT_MAP, function ( v, k ) {\r\n\r\n\tCommon.each( v, function ( e ) {\r\n\r\n\t\tEVENT_MAP_INV[ e ] = k;\r\n\r\n\t} );\r\n\r\n} );\r\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\r\nfunction cssValueToPixels( val ) {\r\n\r\n\tif ( val === '0' || Common.isUndefined( val ) ) {\r\n\r\n\t\treturn 0;\r\n\r\n\t}\r\n\tvar match = val.match( CSS_VALUE_PIXELS );\r\n\tif ( ! Common.isNull( match ) ) {\r\n\r\n\t\treturn parseFloat( match[ 1 ] );\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar dom = {\r\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\r\n\r\n\t\tif ( elem === undefined || elem.style === undefined ) return;\r\n\t\telem.onselectstart = selectable ? function () {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t} : function () {};\r\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.unselectable = selectable ? 'on' : 'off';\r\n\r\n\t},\r\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\r\n\r\n\t\tvar vertical = vert;\r\n\t\tvar horizontal = hor;\r\n\t\tif ( Common.isUndefined( horizontal ) ) {\r\n\r\n\t\t\thorizontal = true;\r\n\r\n\t\t}\r\n\t\tif ( Common.isUndefined( vertical ) ) {\r\n\r\n\t\t\tvertical = true;\r\n\r\n\t\t}\r\n\t\telem.style.position = 'absolute';\r\n\t\tif ( horizontal ) {\r\n\r\n\t\t\telem.style.left = 0;\r\n\t\t\telem.style.right = 0;\r\n\r\n\t\t}\r\n\t\tif ( vertical ) {\r\n\r\n\t\t\telem.style.top = 0;\r\n\t\t\telem.style.bottom = 0;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\r\n\r\n\t\tvar params = pars || {};\r\n\t\tvar className = EVENT_MAP_INV[ eventType ];\r\n\t\tif ( ! className ) {\r\n\r\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\r\n\r\n\t\t}\r\n\t\tvar evt = document.createEvent( className );\r\n\t\tswitch ( className ) {\r\n\r\n\t\t\tcase 'MouseEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\r\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\r\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tclientX,\r\n\t\t\t\t\tclientY,\r\n\t\t\t\t\tfalse, false, false, false, 0, null );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tcase 'KeyboardEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\r\n\t\t\t\tCommon.defaults( params, {\r\n\t\t\t\t\tcancelable: true,\r\n\t\t\t\t\tctrlKey: false,\r\n\t\t\t\t\taltKey: false,\r\n\t\t\t\t\tshiftKey: false,\r\n\t\t\t\t\tmetaKey: false,\r\n\t\t\t\t\tkeyCode: undefined,\r\n\t\t\t\t\tcharCode: undefined\r\n\t\t\t\t} );\r\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t{\r\n\r\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tCommon.defaults( evt, aux );\r\n\t\telem.dispatchEvent( evt );\r\n\r\n\t},\r\n\tbind: function bind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.addEventListener ) {\r\n\r\n\t\t\telem.addEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.attachEvent ) {\r\n\r\n\t\t\telem.attachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tunbind: function unbind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.removeEventListener ) {\r\n\r\n\t\t\telem.removeEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.detachEvent ) {\r\n\r\n\t\t\telem.detachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\taddClass: function addClass( elem, className ) {\r\n\r\n\t\tif ( elem.className === undefined ) {\r\n\r\n\t\t\telem.className = className;\r\n\r\n\t\t} else if ( elem.className !== className ) {\r\n\r\n\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\r\n\r\n\t\t\t\tclasses.push( className );\r\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tremoveClass: function removeClass( elem, className ) {\r\n\r\n\t\tif ( className ) {\r\n\r\n\t\t\tif ( elem.className === className ) {\r\n\r\n\t\t\t\telem.removeAttribute( 'class' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\t\tvar index = classes.indexOf( className );\r\n\t\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\t\tclasses.splice( index, 1 );\r\n\t\t\t\t\telem.className = classes.join( ' ' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\telem.className = undefined;\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\thasClass: function hasClass( elem, className ) {\r\n\r\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\r\n\r\n\t},\r\n\tgetWidth: function getWidth( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\r\n\r\n\t},\r\n\tgetHeight: function getHeight( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\r\n\r\n\t},\r\n\tgetOffset: function getOffset( el ) {\r\n\r\n\t\tvar elem = el;\r\n\t\tvar offset = { left: 0, top: 0 };\r\n\t\tif ( elem.offsetParent ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\toffset.left += elem.offsetLeft;\r\n\t\t\t\toffset.top += elem.offsetTop;\r\n\t\t\t\telem = elem.offsetParent;\r\n\r\n\t\t\t} while ( elem );\r\n\r\n\t\t}\r\n\t\treturn offset;\r\n\r\n\t},\r\n\tisActive: function isActive( elem ) {\r\n\r\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\r\n\r\n\t}\r\n};\r\n\r\nvar BooleanController = function ( _Controller ) {\r\n\r\n\tinherits( BooleanController, _Controller );\r\n\tfunction BooleanController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, BooleanController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__prev = _this2.getValue();\r\n\t\t_this2.__checkbox = document.createElement( 'input' );\r\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( ! _this.__prev );\r\n\r\n\t\t}\r\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\r\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\r\n\t\t_this2.updateDisplay();\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( BooleanController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\tthis.__prev = this.getValue();\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( this.getValue() === true ) {\r\n\r\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\r\n\t\t\t\tthis.__checkbox.checked = true;\r\n\t\t\t\tthis.__prev = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.__checkbox.checked = false;\r\n\t\t\t\tthis.__prev = false;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn BooleanController;\r\n\r\n}( Controller );\r\n\r\nvar OptionController = function ( _Controller ) {\r\n\r\n\tinherits( OptionController, _Controller );\r\n\tfunction OptionController( object, property, opts ) {\r\n\r\n\t\tclassCallCheck( this, OptionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\r\n\t\tvar options = opts;\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__select = document.createElement( 'select' );\r\n\t\tif ( Common.isArray( options ) ) {\r\n\r\n\t\t\tvar map = {};\r\n\t\t\tCommon.each( options, function ( element ) {\r\n\r\n\t\t\t\tmap[ element ] = element;\r\n\r\n\t\t\t} );\r\n\t\t\toptions = map;\r\n\r\n\t\t}\r\n\t\tCommon.each( options, function ( value, key ) {\r\n\r\n\t\t\tvar opt = document.createElement( 'option' );\r\n\t\t\topt.innerHTML = key;\r\n\t\t\topt.setAttribute( 'value', value );\r\n\t\t\t_this.__select.appendChild( opt );\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\tdom.bind( _this2.__select, 'change', function () {\r\n\r\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\r\n\t\t\t_this.setValue( desiredValue );\r\n\r\n\t\t} );\r\n\t\t_this2.domElement.appendChild( _this2.__select );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( OptionController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\r\n\t\t\tthis.__select.value = this.getValue();\r\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn OptionController;\r\n\r\n}( Controller );\r\n\r\nvar StringController = function ( _Controller ) {\r\n\r\n\tinherits( StringController, _Controller );\r\n\tfunction StringController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, StringController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( _this.__input.value );\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tthis.blur();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( StringController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\r\n\r\n\t\t\t\tthis.__input.value = this.getValue();\r\n\r\n\t\t\t}\r\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn StringController;\r\n\r\n}( Controller );\r\n\r\nfunction numDecimals( x ) {\r\n\r\n\tvar _x = x.toString();\r\n\tif ( _x.indexOf( '.' ) > - 1 ) {\r\n\r\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar NumberController = function ( _Controller ) {\r\n\r\n\tinherits( NumberController, _Controller );\r\n\tfunction NumberController( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberController );\r\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\r\n\t\tvar _params = params || {};\r\n\t\t_this.__min = _params.min;\r\n\t\t_this.__max = _params.max;\r\n\t\t_this.__step = _params.step;\r\n\t\tif ( Common.isUndefined( _this.__step ) ) {\r\n\r\n\t\t\tif ( _this.initialValue === 0 ) {\r\n\r\n\t\t\t\t_this.__impliedStep = 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_this.__impliedStep = _this.__step;\r\n\r\n\t\t}\r\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\r\n\t\treturn _this;\r\n\r\n\t}\r\n\tcreateClass( NumberController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar _v = v;\r\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\r\n\r\n\t\t\t\t_v = this.__min;\r\n\r\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\r\n\r\n\t\t\t\t_v = this.__max;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\r\n\r\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'min',\r\n\t\tvalue: function min( minValue ) {\r\n\r\n\t\t\tthis.__min = minValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'max',\r\n\t\tvalue: function max( maxValue ) {\r\n\r\n\t\t\tthis.__max = maxValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'step',\r\n\t\tvalue: function step( stepValue ) {\r\n\r\n\t\t\tthis.__step = stepValue;\r\n\t\t\tthis.__impliedStep = stepValue;\r\n\t\t\tthis.__precision = numDecimals( stepValue );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberController;\r\n\r\n}( Controller );\r\n\r\nfunction roundToDecimal( value, decimals ) {\r\n\r\n\tvar tenTo = Math.pow( 10, decimals );\r\n\treturn Math.round( value * tenTo ) / tenTo;\r\n\r\n}\r\nvar NumberControllerBox = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerBox, _NumberController );\r\n\tfunction NumberControllerBox( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerBox );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\r\n\t\t_this2.__truncationSuspended = false;\r\n\t\tvar _this = _this2;\r\n\t\tvar prevY = void 0;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\tvar attempted = parseFloat( _this.__input.value );\r\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\r\n\r\n\t\t\t\t_this.setValue( attempted );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\tvar diff = prevY - e.clientY;\r\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\t_this.__truncationSuspended = true;\r\n\t\t\t\tthis.blur();\r\n\t\t\t\t_this.__truncationSuspended = false;\r\n\t\t\t\tonFinish();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerBox, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\r\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerBox;\r\n\r\n}( NumberController );\r\n\r\nfunction map( v, i1, i2, o1, o2 ) {\r\n\r\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\r\n\r\n}\r\nvar NumberControllerSlider = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerSlider, _NumberController );\r\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerSlider );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__background = document.createElement( 'div' );\r\n\t\t_this2.__foreground = document.createElement( 'div' );\r\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\r\n\t\tdom.addClass( _this2.__background, 'slider' );\r\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tonMouseDrag( e );\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onTouchStart( e ) {\r\n\r\n\t\t\tif ( e.touches.length !== 1 ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\r\n\t\t\tonTouchMove( e );\r\n\r\n\t\t}\r\n\t\tfunction onTouchMove( e ) {\r\n\r\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\r\n\t\t}\r\n\t\tfunction onTouchEnd() {\r\n\r\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.__background.appendChild( _this2.__foreground );\r\n\t\t_this2.domElement.appendChild( _this2.__background );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerSlider, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\r\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\r\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerSlider;\r\n\r\n}( NumberController );\r\n\r\nvar FunctionController = function ( _Controller ) {\r\n\r\n\tinherits( FunctionController, _Controller );\r\n\tfunction FunctionController( object, property, text ) {\r\n\r\n\t\tclassCallCheck( this, FunctionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__button = document.createElement( 'div' );\r\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\r\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.fire();\r\n\t\t\treturn false;\r\n\r\n\t\t} );\r\n\t\tdom.addClass( _this2.__button, 'button' );\r\n\t\t_this2.domElement.appendChild( _this2.__button );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( FunctionController, [ {\r\n\t\tkey: 'fire',\r\n\t\tvalue: function fire() {\r\n\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this );\r\n\r\n\t\t\t}\r\n\t\t\tthis.getValue().call( this.object );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn FunctionController;\r\n\r\n}( Controller );\r\n\r\nvar ColorController = function ( _Controller ) {\r\n\r\n\tinherits( ColorController, _Controller );\r\n\tfunction ColorController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, ColorController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\r\n\t\t_this2.__color = new Color( _this2.getValue() );\r\n\t\t_this2.__temp = new Color( 0 );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.domElement = document.createElement( 'div' );\r\n\t\tdom.makeSelectable( _this2.domElement, false );\r\n\t\t_this2.__selector = document.createElement( 'div' );\r\n\t\t_this2.__selector.className = 'selector';\r\n\t\t_this2.__saturation_field = document.createElement( 'div' );\r\n\t\t_this2.__saturation_field.className = 'saturation-field';\r\n\t\t_this2.__field_knob = document.createElement( 'div' );\r\n\t\t_this2.__field_knob.className = 'field-knob';\r\n\t\t_this2.__field_knob_border = '2px solid ';\r\n\t\t_this2.__hue_knob = document.createElement( 'div' );\r\n\t\t_this2.__hue_knob.className = 'hue-knob';\r\n\t\t_this2.__hue_field = document.createElement( 'div' );\r\n\t\t_this2.__hue_field.className = 'hue-field';\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.type = 'text';\r\n\t\t_this2.__input_textShadow = '0 1px 1px ';\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tonBlur.call( this );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tvar valueField = document.createElement( 'div' );\r\n\t\tCommon.extend( _this2.__selector.style, {\r\n\t\t\twidth: '122px',\r\n\t\t\theight: '102px',\r\n\t\t\tpadding: '3px',\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__field_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '12px',\r\n\t\t\theight: '12px',\r\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\r\n\t\t\tborderRadius: '12px',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__hue_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '2px',\r\n\t\t\tborderRight: '4px solid #fff',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__saturation_field.style, {\r\n\t\t\twidth: '100px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tmarginRight: '3px',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\tcursor: 'pointer'\r\n\t\t} );\r\n\t\tCommon.extend( valueField.style, {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tbackground: 'none'\r\n\t\t} );\r\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\r\n\t\tCommon.extend( _this2.__hue_field.style, {\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tcursor: 'ns-resize',\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '3px',\r\n\t\t\tright: '3px'\r\n\t\t} );\r\n\t\thueGradient( _this2.__hue_field );\r\n\t\tCommon.extend( _this2.__input.style, {\r\n\t\t\toutline: 'none',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#fff',\r\n\t\t\tborder: 0,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\r\n\t\t} );\r\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\r\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\r\n\t\tfunction fieldDown( e ) {\r\n\r\n\t\t\tsetSV( e );\r\n\t\t\tdom.bind( window, 'mousemove', setSV );\r\n\t\t\tdom.bind( window, 'touchmove', setSV );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\r\n\r\n\t\t}\r\n\t\tfunction fieldDownH( e ) {\r\n\r\n\t\t\tsetH( e );\r\n\t\t\tdom.bind( window, 'mousemove', setH );\r\n\t\t\tdom.bind( window, 'touchmove', setH );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\r\n\r\n\t\t}\r\n\t\tfunction fieldUpSV() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setSV );\r\n\t\t\tdom.unbind( window, 'touchmove', setSV );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction fieldUpH() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setH );\r\n\t\t\tdom.unbind( window, 'touchmove', setH );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tvar i = interpret( this.value );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\t_this.__color.__state = i;\r\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.value = _this.__color.toString();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__saturation_field.appendChild( valueField );\r\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\r\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\r\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\r\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\t_this2.domElement.appendChild( _this2.__selector );\r\n\t\t_this2.updateDisplay();\r\n\t\tfunction setSV( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\r\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientX = _ref.clientX,\r\n\t\t\t\tclientY = _ref.clientY;\r\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\r\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( v > 1 ) {\r\n\r\n\t\t\t\tv = 1;\r\n\r\n\t\t\t} else if ( v < 0 ) {\r\n\r\n\t\t\t\tv = 0;\r\n\r\n\t\t\t}\r\n\t\t\tif ( s > 1 ) {\r\n\r\n\t\t\t\ts = 1;\r\n\r\n\t\t\t} else if ( s < 0 ) {\r\n\r\n\t\t\t\ts = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.v = v;\r\n\t\t\t_this.__color.s = s;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction setH( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\r\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientY = _ref2.clientY;\r\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( h > 1 ) {\r\n\r\n\t\t\t\th = 1;\r\n\r\n\t\t\t} else if ( h < 0 ) {\r\n\r\n\t\t\t\th = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.h = h * 360;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( ColorController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar i = interpret( this.getValue() );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\tvar mismatch = false;\r\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\r\n\r\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\r\n\r\n\t\t\t\t\t\tmismatch = true;\r\n\t\t\t\t\t\treturn {};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, this );\r\n\t\t\t\tif ( mismatch ) {\r\n\r\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\r\n\t\t\tthis.__temp.a = 1;\r\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\r\n\t\t\tvar _flip = 255 - flip;\r\n\t\t\tCommon.extend( this.__field_knob.style, {\r\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\r\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\r\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\r\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\r\n\t\t\t} );\r\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\r\n\t\t\tthis.__temp.s = 1;\r\n\t\t\tthis.__temp.v = 1;\r\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\r\n\t\t\tthis.__input.value = this.__color.toString();\r\n\t\t\tCommon.extend( this.__input.style, {\r\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\r\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\r\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn ColorController;\r\n\r\n}( Controller );\r\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\r\nfunction linearGradient( elem, x, a, b ) {\r\n\r\n\telem.style.background = '';\r\n\tCommon.each( vendors, function ( vendor ) {\r\n\r\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\r\n\r\n\t} );\r\n\r\n}\r\nfunction hueGradient( elem ) {\r\n\r\n\telem.style.background = '';\r\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\r\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\r\n}\r\n\r\nvar css = {\r\n\tload: function load( url, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar link = doc.createElement( 'link' );\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.href = url;\r\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\r\n\r\n\t},\r\n\tinject: function inject( cssContent, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar injected = document.createElement( 'style' );\r\n\t\tinjected.type = 'text/css';\r\n\t\tinjected.innerHTML = cssContent;\r\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\r\n\t\ttry {\r\n\r\n\t\t\thead.appendChild( injected );\r\n\r\n\t\t} catch ( e ) {\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\r\n\r\nvar ControllerFactory = function ControllerFactory( object, property ) {\r\n\r\n\tvar initialValue = object[ property ];\r\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\r\n\r\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\r\n\r\n\t}\r\n\tif ( Common.isNumber( initialValue ) ) {\r\n\r\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\r\n\r\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\r\n\r\n\t\t\t}\r\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\r\n\r\n\t\t}\r\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\r\n\r\n\t\t}\r\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\r\n\r\n\t}\r\n\tif ( Common.isString( initialValue ) ) {\r\n\r\n\t\treturn new StringController( object, property );\r\n\r\n\t}\r\n\tif ( Common.isFunction( initialValue ) ) {\r\n\r\n\t\treturn new FunctionController( object, property, '' );\r\n\r\n\t}\r\n\tif ( Common.isBoolean( initialValue ) ) {\r\n\r\n\t\treturn new BooleanController( object, property );\r\n\r\n\t}\r\n\treturn null;\r\n\r\n};\r\n\r\nfunction requestAnimationFrame( callback ) {\r\n\r\n\tsetTimeout( callback, 1000 / 60 );\r\n\r\n}\r\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\r\n\r\nvar CenteredDiv = function () {\r\n\r\n\tfunction CenteredDiv() {\r\n\r\n\t\tclassCallCheck( this, CenteredDiv );\r\n\t\tthis.backgroundElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.backgroundElement.style, {\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1000',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\r\n\t\t\ttransition: 'opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdom.makeFullscreen( this.backgroundElement );\r\n\t\tthis.backgroundElement.style.position = 'fixed';\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.domElement.style, {\r\n\t\t\tposition: 'fixed',\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1001',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\r\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdocument.body.appendChild( this.backgroundElement );\r\n\t\tdocument.body.appendChild( this.domElement );\r\n\t\tvar _this = this;\r\n\t\tdom.bind( this.backgroundElement, 'click', function () {\r\n\r\n\t\t\t_this.hide();\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tcreateClass( CenteredDiv, [ {\r\n\t\tkey: 'show',\r\n\t\tvalue: function show() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.backgroundElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\t\t\tthis.layout();\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'hide',\r\n\t\tvalue: function hide() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tvar hide = function hide() {\r\n\r\n\t\t\t\t_this.domElement.style.display = 'none';\r\n\t\t\t\t_this.backgroundElement.style.display = 'none';\r\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\r\n\r\n\t\t\t};\r\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\r\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\r\n\t\t\tthis.backgroundElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'layout',\r\n\t\tvalue: function layout() {\r\n\r\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\r\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn CenteredDiv;\r\n\r\n}();\r\n\r\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\r\n\r\ncss.inject( styleSheet );\r\nvar CSS_NAMESPACE = 'dg';\r\nvar HIDE_KEY_CODE = 72;\r\nvar CLOSE_BUTTON_HEIGHT = 20;\r\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\r\nvar SUPPORTS_LOCAL_STORAGE = function () {\r\n\r\n\ttry {\r\n\r\n\t\treturn !! window.localStorage;\r\n\r\n\t} catch ( e ) {\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n}();\r\nvar SAVE_DIALOGUE = void 0;\r\nvar autoPlaceVirgin = true;\r\nvar autoPlaceContainer = void 0;\r\nvar hide = false;\r\nvar hideableGuis = [];\r\nvar GUI = function GUI( pars ) {\r\n\r\n\tvar _this = this;\r\n\tvar params = pars || {};\r\n\tthis.domElement = document.createElement( 'div' );\r\n\tthis.__ul = document.createElement( 'ul' );\r\n\tthis.domElement.appendChild( this.__ul );\r\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\r\n\tthis.__folders = {};\r\n\tthis.__controllers = [];\r\n\tthis.__rememberedObjects = [];\r\n\tthis.__rememberedObjectIndecesToControllers = [];\r\n\tthis.__listening = [];\r\n\tparams = Common.defaults( params, {\r\n\t\tcloseOnTop: false,\r\n\t\tautoPlace: true,\r\n\t\twidth: GUI.DEFAULT_WIDTH\r\n\t} );\r\n\tparams = Common.defaults( params, {\r\n\t\tresizable: params.autoPlace,\r\n\t\thideable: params.autoPlace\r\n\t} );\r\n\tif ( ! Common.isUndefined( params.load ) ) {\r\n\r\n\t\tif ( params.preset ) {\r\n\r\n\t\t\tparams.load.preset = params.preset;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\r\n\r\n\t}\r\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\r\n\r\n\t\thideableGuis.push( this );\r\n\r\n\t}\r\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\r\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\r\n\r\n\t\tparams.scrollable = true;\r\n\r\n\t}\r\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\r\n\tvar saveToLocalStorage = void 0;\r\n\tvar titleRow = void 0;\r\n\tObject.defineProperties( this,\r\n\t\t{\r\n\t\t\tparent: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.parent;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollable: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.scrollable;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tautoPlace: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.autoPlace;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseOnTop: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closeOnTop;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpreset: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\treturn _this.getRoot().preset;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn params.load.preset;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\t_this.getRoot().preset = v;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tparams.load.preset = v;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetPresetSelectIndex( this );\r\n\t\t\t\t\t_this.revert();\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.width;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.width = v;\r\n\t\t\t\t\tsetWidth( _this, v );\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.name;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.name = v;\r\n\t\t\t\t\tif ( titleRow ) {\r\n\r\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclosed: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closed;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.closed = v;\r\n\t\t\t\t\tif ( params.closed ) {\r\n\r\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onResize();\r\n\t\t\t\t\tif ( _this.__closeButton ) {\r\n\r\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tload: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.load;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuseLocalStorage: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn useLocalStorage;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( bool ) {\r\n\r\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\t\t\t\tuseLocalStorage = bool;\r\n\t\t\t\t\t\tif ( bool ) {\r\n\r\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\tthis.closed = params.closed || false;\r\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\r\n\t\tdom.makeSelectable( this.domElement, false );\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\tif ( useLocalStorage ) {\r\n\r\n\t\t\t\t_this.useLocalStorage = true;\r\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\r\n\t\t\t\tif ( savedGui ) {\r\n\r\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis.__closeButton = document.createElement( 'div' );\r\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\r\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\r\n\t\tif ( params.closeOnTop ) {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\r\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\r\n\t\t\tthis.domElement.appendChild( this.__closeButton );\r\n\r\n\t\t}\r\n\t\tdom.bind( this.__closeButton, 'click', function () {\r\n\r\n\t\t\t_this.closed = ! _this.closed;\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\tif ( params.closed === undefined ) {\r\n\r\n\t\t\tparams.closed = true;\r\n\r\n\t\t}\r\n\t\tvar titleRowName = document.createTextNode( params.name );\r\n\t\tdom.addClass( titleRowName, 'controller-name' );\r\n\t\ttitleRow = addRow( _this, titleRowName );\r\n\t\tvar onClickTitle = function onClickTitle( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.closed = ! _this.closed;\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\r\n\t\tdom.addClass( titleRow, 'title' );\r\n\t\tdom.bind( titleRow, 'click', onClickTitle );\r\n\t\tif ( ! params.closed ) {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tif ( params.autoPlace ) {\r\n\r\n\t\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\t\tif ( autoPlaceVirgin ) {\r\n\r\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\r\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\r\n\t\t\t\tautoPlaceVirgin = false;\r\n\r\n\t\t\t}\r\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\r\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\r\n\r\n\t\t}\r\n\t\tif ( ! this.parent ) {\r\n\r\n\t\t\tsetWidth( _this, params.width );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tthis.__resizeHandler = function () {\r\n\r\n\t\t_this.onResizeDebounced();\r\n\r\n\t};\r\n\tdom.bind( window, 'resize', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\r\n\tthis.onResize();\r\n\tif ( params.resizable ) {\r\n\r\n\t\taddResizeHandle( this );\r\n\r\n\t}\r\n\tsaveToLocalStorage = function saveToLocalStorage() {\r\n\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\r\n\tfunction resetWidth() {\r\n\r\n\t\tvar root = _this.getRoot();\r\n\t\troot.width += 1;\r\n\t\tCommon.defer( function () {\r\n\r\n\t\t\troot.width -= 1;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tif ( ! params.parent ) {\r\n\r\n\t\tresetWidth();\r\n\r\n\t}\r\n\r\n};\r\nGUI.toggleHide = function () {\r\n\r\n\thide = ! hide;\r\n\tCommon.each( hideableGuis, function ( gui ) {\r\n\r\n\t\tgui.domElement.style.display = hide ? 'none' : '';\r\n\r\n\t} );\r\n\r\n};\r\nGUI.CLASS_AUTO_PLACE = 'a';\r\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\r\nGUI.CLASS_MAIN = 'main';\r\nGUI.CLASS_CONTROLLER_ROW = 'cr';\r\nGUI.CLASS_TOO_TALL = 'taller-than-window';\r\nGUI.CLASS_CLOSED = 'closed';\r\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\r\nGUI.CLASS_CLOSE_TOP = 'close-top';\r\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\r\nGUI.CLASS_DRAG = 'drag';\r\nGUI.DEFAULT_WIDTH = 245;\r\nGUI.TEXT_CLOSED = 'Close Controls';\r\nGUI.TEXT_OPEN = 'Open Controls';\r\nGUI._keydownHandler = function ( e ) {\r\n\r\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\r\n\r\n\t\tGUI.toggleHide();\r\n\r\n\t}\r\n\r\n};\r\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\r\nCommon.extend( GUI.prototype,\r\n\t{\r\n\t\tadd: function add( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\taddColor: function addColor( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tcolor: true\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tremove: function remove( controller ) {\r\n\r\n\t\t\tthis.__ul.removeChild( controller.__li );\r\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdestroy: function destroy() {\r\n\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\t_this.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\r\n\t\t\tremoveListeners( this );\r\n\r\n\t\t},\r\n\t\taddFolder: function addFolder( name ) {\r\n\r\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\r\n\r\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\r\n\r\n\t\t\t}\r\n\t\t\tvar newGuiParams = { name: name, parent: this };\r\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ name ] ) {\r\n\r\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\r\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\r\n\r\n\t\t\t}\r\n\t\t\tvar gui = new GUI( newGuiParams );\r\n\t\t\tthis.__folders[ name ] = gui;\r\n\t\t\tvar li = addRow( this, gui.domElement );\r\n\t\t\tdom.addClass( li, 'folder' );\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tremoveFolder: function removeFolder( folder ) {\r\n\r\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\r\n\t\t\tdelete this.__folders[ folder.name ];\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ folder.name ] ) {\r\n\r\n\t\t\t\tdelete this.load.folders[ folder.name ];\r\n\r\n\t\t\t}\r\n\t\t\tremoveListeners( folder );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\tfolder.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\topen: function open() {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t},\r\n\t\tclose: function close() {\r\n\r\n\t\t\tthis.closed = true;\r\n\r\n\t\t},\r\n\t\thide: function hide() {\r\n\r\n\t\t\tthis.domElement.style.display = 'none';\r\n\r\n\t\t},\r\n\t\tshow: function show() {\r\n\r\n\t\t\tthis.domElement.style.display = '';\r\n\r\n\t\t},\r\n\t\tonResize: function onResize() {\r\n\r\n\t\t\tvar root = this.getRoot();\r\n\t\t\tif ( root.scrollable ) {\r\n\r\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\r\n\t\t\t\tvar h = 0;\r\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\r\n\r\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\r\n\r\n\t\t\t\t\t\th += dom.getHeight( node );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\r\n\r\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = 'auto';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__resize_handle ) {\r\n\r\n\t\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__closeButton ) {\r\n\r\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonResizeDebounced: Common.debounce( function () {\r\n\r\n\t\t\tthis.onResize();\r\n\r\n\t\t}, 50 ),\r\n\t\tremember: function remember() {\r\n\r\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\r\n\r\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\r\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\r\n\r\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\r\n\r\n\t\t\t\t\taddSaveMenu( _this );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\r\n\r\n\t\t\t\t\t_this.__rememberedObjects.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tsetWidth( this, this.width );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tgetRoot: function getRoot() {\r\n\r\n\t\t\tvar gui = this;\r\n\t\t\twhile ( gui.parent ) {\r\n\r\n\t\t\t\tgui = gui.parent;\r\n\r\n\t\t\t}\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tgetSaveObject: function getSaveObject() {\r\n\r\n\t\t\tvar toReturn = this.load;\r\n\t\t\ttoReturn.closed = this.closed;\r\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\r\n\r\n\t\t\t\ttoReturn.preset = this.preset;\r\n\t\t\t\tif ( ! toReturn.remembered ) {\r\n\r\n\t\t\t\t\ttoReturn.remembered = {};\r\n\r\n\t\t\t\t}\r\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\r\n\r\n\t\t\t}\r\n\t\t\ttoReturn.folders = {};\r\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\r\n\r\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\r\n\r\n\t\t\t} );\r\n\t\t\treturn toReturn;\r\n\r\n\t\t},\r\n\t\tsave: function save() {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\r\n\t\t\tmarkPresetModified( this, false );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\tsaveAs: function saveAs( presetName ) {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\r\n\t\t\tthis.preset = presetName;\r\n\t\t\taddPresetOption( this, presetName, true );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\trevert: function revert( gui ) {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\r\n\r\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( controller.__onFinishChange ) {\r\n\r\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, this );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.revert( folder );\r\n\r\n\t\t\t} );\r\n\t\t\tif ( ! gui ) {\r\n\r\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tlisten: function listen( controller ) {\r\n\r\n\t\t\tvar init = this.__listening.length === 0;\r\n\t\t\tthis.__listening.push( controller );\r\n\t\t\tif ( init ) {\r\n\r\n\t\t\t\tupdateDisplays( this.__listening );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tupdateDisplay: function updateDisplay() {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tcontroller.updateDisplay();\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.updateDisplay();\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} );\r\nfunction addRow( gui, newDom, liBefore ) {\r\n\r\n\tvar li = document.createElement( 'li' );\r\n\tif ( newDom ) {\r\n\r\n\t\tli.appendChild( newDom );\r\n\r\n\t}\r\n\tif ( liBefore ) {\r\n\r\n\t\tgui.__ul.insertBefore( li, liBefore );\r\n\r\n\t} else {\r\n\r\n\t\tgui.__ul.appendChild( li );\r\n\r\n\t}\r\n\tgui.onResize();\r\n\treturn li;\r\n\r\n}\r\nfunction removeListeners( gui ) {\r\n\r\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\r\n\tif ( gui.saveToLocalStorageIfPossible ) {\r\n\r\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\r\n\r\n\t}\r\n\r\n}\r\nfunction markPresetModified( gui, modified ) {\r\n\r\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\r\n\tif ( modified ) {\r\n\r\n\t\topt.innerHTML = opt.value + '*';\r\n\r\n\t} else {\r\n\r\n\t\topt.innerHTML = opt.value;\r\n\r\n\t}\r\n\r\n}\r\nfunction augmentController( gui, li, controller ) {\r\n\r\n\tcontroller.__li = li;\r\n\tcontroller.__gui = gui;\r\n\tCommon.extend( controller, {\r\n\t\toptions: function options( _options ) {\r\n\r\n\t\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\r\n\r\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: _nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ _options ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tname: function name( _name ) {\r\n\r\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tlisten: function listen() {\r\n\r\n\t\t\tcontroller.__gui.listen( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tremove: function remove() {\r\n\r\n\t\t\tcontroller.__gui.remove( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t}\r\n\t} );\r\n\tif ( controller instanceof NumberControllerSlider ) {\r\n\r\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\r\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\r\n\r\n\t\t\tvar pc = controller[ method ];\r\n\t\t\tvar pb = box[ method ];\r\n\t\t\tcontroller[ method ] = box[ method ] = function () {\r\n\r\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\r\n\t\t\t\tpb.apply( box, args );\r\n\t\t\t\treturn pc.apply( controller, args );\r\n\r\n\t\t\t};\r\n\r\n\t\t} );\r\n\t\tdom.addClass( li, 'has-slider' );\r\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\r\n\r\n\t} else if ( controller instanceof NumberControllerBox ) {\r\n\r\n\t\tvar r = function r( returned ) {\r\n\r\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\r\n\r\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\r\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\r\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\r\n\t\t\t\t} );\r\n\t\t\t\tnewController.name( oldName );\r\n\t\t\t\tif ( wasListening ) newController.listen();\r\n\t\t\t\treturn newController;\r\n\r\n\t\t\t}\r\n\t\t\treturn returned;\r\n\r\n\t\t};\r\n\t\tcontroller.min = Common.compose( r, controller.min );\r\n\t\tcontroller.max = Common.compose( r, controller.max );\r\n\r\n\t} else if ( controller instanceof BooleanController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\r\n\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof FunctionController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseover', function () {\r\n\r\n\t\t\tdom.addClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseout', function () {\r\n\r\n\t\t\tdom.removeClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\r\n\r\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\r\n\t\t\treturn val;\r\n\r\n\t\t}, controller.updateDisplay );\r\n\t\tcontroller.updateDisplay();\r\n\r\n\t}\r\n\tcontroller.setValue = Common.compose( function ( val ) {\r\n\r\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\r\n\r\n\t\t\tmarkPresetModified( gui.getRoot(), true );\r\n\r\n\t\t}\r\n\t\treturn val;\r\n\r\n\t}, controller.setValue );\r\n\r\n}\r\nfunction recallSavedValue( gui, controller ) {\r\n\r\n\tvar root = gui.getRoot();\r\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\r\n\tif ( matchedIndex !== - 1 ) {\r\n\r\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\r\n\t\tif ( controllerMap === undefined ) {\r\n\r\n\t\t\tcontrollerMap = {};\r\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\r\n\r\n\t\t}\r\n\t\tcontrollerMap[ controller.property ] = controller;\r\n\t\tif ( root.load && root.load.remembered ) {\r\n\r\n\t\t\tvar presetMap = root.load.remembered;\r\n\t\t\tvar preset = void 0;\r\n\t\t\tif ( presetMap[ gui.preset ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ gui.preset ];\r\n\r\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\r\n\r\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\r\n\t\t\t\tcontroller.initialValue = value;\r\n\t\t\t\tcontroller.setValue( value );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction _add( gui, object, property, params ) {\r\n\r\n\tif ( object[ property ] === undefined ) {\r\n\r\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\r\n\r\n\t}\r\n\tvar controller = void 0;\r\n\tif ( params.color ) {\r\n\r\n\t\tcontroller = new ColorController( object, property );\r\n\r\n\t} else {\r\n\r\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\r\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\r\n\r\n\t}\r\n\tif ( params.before instanceof Controller ) {\r\n\r\n\t\tparams.before = params.before.__li;\r\n\r\n\t}\r\n\trecallSavedValue( gui, controller );\r\n\tdom.addClass( controller.domElement, 'c' );\r\n\tvar name = document.createElement( 'span' );\r\n\tdom.addClass( name, 'property-name' );\r\n\tname.innerHTML = controller.property;\r\n\tvar container = document.createElement( 'div' );\r\n\tcontainer.appendChild( name );\r\n\tcontainer.appendChild( controller.domElement );\r\n\tvar li = addRow( gui, container, params.before );\r\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\r\n\tif ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\r\n\t} else {\r\n\r\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\r\n\r\n\t}\r\n\taugmentController( gui, li, controller );\r\n\tgui.__controllers.push( controller );\r\n\treturn controller;\r\n\r\n}\r\nfunction getLocalStorageHash( gui, key ) {\r\n\r\n\treturn document.location.href + '.' + key;\r\n\r\n}\r\nfunction addPresetOption( gui, name, setSelected ) {\r\n\r\n\tvar opt = document.createElement( 'option' );\r\n\topt.innerHTML = name;\r\n\topt.value = name;\r\n\tgui.__preset_select.appendChild( opt );\r\n\tif ( setSelected ) {\r\n\r\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\r\n\r\n\t}\r\n\r\n}\r\nfunction showHideExplain( gui, explain ) {\r\n\r\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\r\n\r\n}\r\nfunction addSaveMenu( gui ) {\r\n\r\n\tvar div = gui.__save_row = document.createElement( 'li' );\r\n\tdom.addClass( gui.domElement, 'has-save' );\r\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\r\n\tdom.addClass( div, 'save-row' );\r\n\tvar gears = document.createElement( 'span' );\r\n\tgears.innerHTML = '&nbsp;';\r\n\tdom.addClass( gears, 'button gears' );\r\n\tvar button = document.createElement( 'span' );\r\n\tbutton.innerHTML = 'Save';\r\n\tdom.addClass( button, 'button' );\r\n\tdom.addClass( button, 'save' );\r\n\tvar button2 = document.createElement( 'span' );\r\n\tbutton2.innerHTML = 'New';\r\n\tdom.addClass( button2, 'button' );\r\n\tdom.addClass( button2, 'save-as' );\r\n\tvar button3 = document.createElement( 'span' );\r\n\tbutton3.innerHTML = 'Revert';\r\n\tdom.addClass( button3, 'button' );\r\n\tdom.addClass( button3, 'revert' );\r\n\tvar select = gui.__preset_select = document.createElement( 'select' );\r\n\tif ( gui.load && gui.load.remembered ) {\r\n\r\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\r\n\r\n\t\t\taddPresetOption( gui, key, key === gui.preset );\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\r\n\r\n\t}\r\n\tdom.bind( select, 'change', function () {\r\n\r\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\r\n\r\n\t\t}\r\n\t\tgui.preset = this.value;\r\n\r\n\t} );\r\n\tdiv.appendChild( select );\r\n\tdiv.appendChild( gears );\r\n\tdiv.appendChild( button );\r\n\tdiv.appendChild( button2 );\r\n\tdiv.appendChild( button3 );\r\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\r\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\r\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\r\n\t\tsaveLocally.style.display = 'block';\r\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\r\n\r\n\t\t}\r\n\t\tshowHideExplain( gui, explain );\r\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\r\n\r\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\r\n\t\t\tshowHideExplain( gui, explain );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\r\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\r\n\r\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\r\n\r\n\t\t\tSAVE_DIALOGUE.hide();\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( gears, 'click', function () {\r\n\r\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\r\n\t\tSAVE_DIALOGUE.show();\r\n\t\tnewConstructorTextArea.focus();\r\n\t\tnewConstructorTextArea.select();\r\n\r\n\t} );\r\n\tdom.bind( button, 'click', function () {\r\n\r\n\t\tgui.save();\r\n\r\n\t} );\r\n\tdom.bind( button2, 'click', function () {\r\n\r\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\r\n\t\tif ( presetName ) {\r\n\r\n\t\t\tgui.saveAs( presetName );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( button3, 'click', function () {\r\n\r\n\t\tgui.revert();\r\n\r\n\t} );\r\n\r\n}\r\nfunction addResizeHandle( gui ) {\r\n\r\n\tvar pmouseX = void 0;\r\n\tgui.__resize_handle = document.createElement( 'div' );\r\n\tCommon.extend( gui.__resize_handle.style, {\r\n\t\twidth: '6px',\r\n\t\tmarginLeft: '-3px',\r\n\t\theight: '200px',\r\n\t\tcursor: 'ew-resize',\r\n\t\tposition: 'absolute'\r\n\t} );\r\n\tfunction drag( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tgui.width += pmouseX - e.clientX;\r\n\t\tgui.onResize();\r\n\t\tpmouseX = e.clientX;\r\n\t\treturn false;\r\n\r\n\t}\r\n\tfunction dragStop() {\r\n\r\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.unbind( window, 'mousemove', drag );\r\n\t\tdom.unbind( window, 'mouseup', dragStop );\r\n\r\n\t}\r\n\tfunction dragStart( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tpmouseX = e.clientX;\r\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.bind( window, 'mousemove', drag );\r\n\t\tdom.bind( window, 'mouseup', dragStop );\r\n\t\treturn false;\r\n\r\n\t}\r\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\r\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\r\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\r\n\r\n}\r\nfunction setWidth( gui, w ) {\r\n\r\n\tgui.domElement.style.width = w + 'px';\r\n\tif ( gui.__save_row && gui.autoPlace ) {\r\n\r\n\t\tgui.__save_row.style.width = w + 'px';\r\n\r\n\t}\r\n\tif ( gui.__closeButton ) {\r\n\r\n\t\tgui.__closeButton.style.width = w + 'px';\r\n\r\n\t}\r\n\r\n}\r\nfunction getCurrentPreset( gui, useInitialValues ) {\r\n\r\n\tvar toReturn = {};\r\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\r\n\r\n\t\tvar savedValues = {};\r\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\r\n\t\tCommon.each( controllerMap, function ( controller, property ) {\r\n\r\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\r\n\r\n\t\t} );\r\n\t\ttoReturn[ index ] = savedValues;\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n}\r\nfunction setPresetSelectIndex( gui ) {\r\n\r\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\r\n\r\n\t\t\tgui.__preset_select.selectedIndex = index;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction updateDisplays( controllerArray ) {\r\n\r\n\tif ( controllerArray.length !== 0 ) {\r\n\r\n\t\trequestAnimationFrame$1.call( window, function () {\r\n\r\n\t\t\tupdateDisplays( controllerArray );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tCommon.each( controllerArray, function ( c ) {\r\n\r\n\t\tc.updateDisplay();\r\n\r\n\t} );\r\n\r\n}\r\n\r\nvar color = {\r\n\tColor: Color,\r\n\tmath: ColorMath,\r\n\tinterpret: interpret\r\n};\r\nvar controllers = {\r\n\tController: Controller,\r\n\tBooleanController: BooleanController,\r\n\tOptionController: OptionController,\r\n\tStringController: StringController,\r\n\tNumberController: NumberController,\r\n\tNumberControllerBox: NumberControllerBox,\r\n\tNumberControllerSlider: NumberControllerSlider,\r\n\tFunctionController: FunctionController,\r\n\tColorController: ColorController\r\n};\r\nvar dom$1 = { dom: dom };\r\nvar gui = { GUI: GUI };\r\nvar GUI$1 = GUI;\r\nvar index = {\r\n\tcolor: color,\r\n\tcontrollers: controllers,\r\n\tdom: dom$1,\r\n\tgui: gui,\r\n\tGUI: GUI$1\r\n};\r\n\r\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\r\nexport default index;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/dat.gui.module.js","function NodeUniform( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.name = params.name;\r\n\tthis.type = params.type;\r\n\tthis.node = params.node;\r\n\tthis.needsUpdate = params.needsUpdate;\r\n\r\n}\r\n\r\nObject.defineProperties( NodeUniform.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.node.value;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.node.value = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { NodeUniform };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUniform.js","import {\r\n\tMathUtils,\r\n\tSpherical,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar FirstPersonControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) {\r\n\r\n\t\tconsole.warn( 'THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\tdomElement = document;\r\n\r\n\t}\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.movementSpeed = 1.0;\r\n\tthis.lookSpeed = 0.005;\r\n\r\n\tthis.lookVertical = true;\r\n\tthis.autoForward = false;\r\n\r\n\tthis.activeLook = true;\r\n\r\n\tthis.heightSpeed = false;\r\n\tthis.heightCoef = 1.0;\r\n\tthis.heightMin = 0.0;\r\n\tthis.heightMax = 1.0;\r\n\r\n\tthis.constrainVertical = false;\r\n\tthis.verticalMin = 0;\r\n\tthis.verticalMax = Math.PI;\r\n\r\n\tthis.mouseDragOn = false;\r\n\r\n\t// internals\r\n\r\n\tthis.autoSpeedFactor = 0.0;\r\n\r\n\tthis.mouseX = 0;\r\n\tthis.mouseY = 0;\r\n\r\n\tthis.moveForward = false;\r\n\tthis.moveBackward = false;\r\n\tthis.moveLeft = false;\r\n\tthis.moveRight = false;\r\n\r\n\tthis.viewHalfX = 0;\r\n\tthis.viewHalfY = 0;\r\n\r\n\t// private variables\r\n\r\n\tvar lat = 0;\r\n\tvar lon = 0;\r\n\r\n\tvar lookDirection = new Vector3();\r\n\tvar spherical = new Spherical();\r\n\tvar target = new Vector3();\r\n\r\n\t//\r\n\r\n\tif ( this.domElement !== document ) {\r\n\r\n\t\tthis.domElement.setAttribute( 'tabindex', - 1 );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.viewHalfX = window.innerWidth / 2;\r\n\t\t\tthis.viewHalfY = window.innerHeight / 2;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\r\n\t\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onMouseDown = function ( event ) {\r\n\r\n\t\tif ( this.domElement !== document ) {\r\n\r\n\t\t\tthis.domElement.focus();\r\n\r\n\t\t}\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = true; break;\r\n\t\t\t\tcase 2: this.moveBackward = true; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = true;\r\n\r\n\t};\r\n\r\n\tthis.onMouseUp = function ( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = false; break;\r\n\t\t\t\tcase 2: this.moveBackward = false; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = false;\r\n\r\n\t};\r\n\r\n\tthis.onMouseMove = function ( event ) {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyDown = function ( event ) {\r\n\r\n\t\t//event.preventDefault();\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = true; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = true; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = true; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = true; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = true; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = true; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyUp = function ( event ) {\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = false; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = false; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = false; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = false; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = false; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = false; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.lookAt = function ( x, y, z ) {\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\ttarget.copy( x );\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttarget.set( x, y, z );\r\n\r\n\t\t}\r\n\r\n\t\tthis.object.lookAt( target );\r\n\r\n\t\tsetOrientation( this );\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\tvar targetPosition = new Vector3();\r\n\r\n\t\treturn function update( delta ) {\r\n\r\n\t\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t\tif ( this.heightSpeed ) {\r\n\r\n\t\t\t\tvar y = MathUtils.clamp( this.object.position.y, this.heightMin, this.heightMax );\r\n\t\t\t\tvar heightDelta = y - this.heightMin;\r\n\r\n\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.autoSpeedFactor = 0.0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar actualMoveSpeed = delta * this.movementSpeed;\r\n\r\n\t\t\tif ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\r\n\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\r\n\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\r\n\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\r\n\r\n\t\t\tvar actualLookSpeed = delta * this.lookSpeed;\r\n\r\n\t\t\tif ( ! this.activeLook ) {\r\n\r\n\t\t\t\tactualLookSpeed = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar verticalLookRatio = 1;\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlon -= this.mouseX * actualLookSpeed;\r\n\t\t\tif ( this.lookVertical ) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\r\n\r\n\t\t\tlat = Math.max( - 85, Math.min( 85, lat ) );\r\n\r\n\t\t\tvar phi = MathUtils.degToRad( 90 - lat );\r\n\t\t\tvar theta = MathUtils.degToRad( lon );\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tphi = MathUtils.mapLinear( phi, 0, Math.PI, this.verticalMin, this.verticalMax );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar position = this.object.position;\r\n\r\n\t\t\ttargetPosition.setFromSphericalCoords( 1, phi, theta ).add( position );\r\n\r\n\t\t\tthis.object.lookAt( targetPosition );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\t\tthis.domElement.removeEventListener( 'mousedown', _onMouseDown, false );\r\n\t\tthis.domElement.removeEventListener( 'mousemove', _onMouseMove, false );\r\n\t\tthis.domElement.removeEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', _onKeyDown, false );\r\n\t\twindow.removeEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\t};\r\n\r\n\tvar _onMouseMove = bind( this, this.onMouseMove );\r\n\tvar _onMouseDown = bind( this, this.onMouseDown );\r\n\tvar _onMouseUp = bind( this, this.onMouseUp );\r\n\tvar _onKeyDown = bind( this, this.onKeyDown );\r\n\tvar _onKeyUp = bind( this, this.onKeyUp );\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\tthis.domElement.addEventListener( 'mousemove', _onMouseMove, false );\r\n\tthis.domElement.addEventListener( 'mousedown', _onMouseDown, false );\r\n\tthis.domElement.addEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', _onKeyDown, false );\r\n\twindow.addEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\tfunction bind( scope, fn ) {\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tfn.apply( scope, arguments );\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction setOrientation( controls ) {\r\n\r\n\t\tvar quaternion = controls.object.quaternion;\r\n\r\n\t\tlookDirection.set( 0, 0, - 1 ).applyQuaternion( quaternion );\r\n\t\tspherical.setFromVector3( lookDirection );\r\n\r\n\t\tlat = 90 - MathUtils.radToDeg( spherical.phi );\r\n\t\tlon = MathUtils.radToDeg( spherical.theta );\r\n\r\n\t}\r\n\r\n\tthis.handleResize();\r\n\r\n\tsetOrientation( this );\r\n\r\n};\r\n\r\nexport { FirstPersonControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/FirstPersonControls.js","import { Color } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction ColorNode( color, g, b ) {\r\n\r\n\tInputNode.call( this, 'c' );\r\n\r\n\tthis.value = color instanceof Color ? color : new Color( color || 0, g, b );\r\n\r\n}\r\n\r\nColorNode.prototype = Object.create( InputNode.prototype );\r\nColorNode.prototype.constructor = ColorNode;\r\nColorNode.prototype.nodeType = \"Color\";\r\n\r\nNodeUtils.addShortcuts( ColorNode.prototype, 'value', [ 'r', 'g', 'b' ] );\r\n\r\nColorNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.r + \", \" + this.g + \", \" + this.b + \" )\", type, output );\r\n\r\n};\r\n\r\nColorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.r = this.r;\r\n\t\tdata.g = this.g;\r\n\t\tdata.b = this.b;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ColorNode.js","import { Node } from '../../core/Node.js';\r\n\r\nfunction RawNode( value ) {\r\n\r\n\tNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nRawNode.prototype = Object.create( Node.prototype );\r\nRawNode.prototype.constructor = RawNode;\r\nRawNode.prototype.nodeType = \"Raw\";\r\n\r\nRawNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar data = this.value.analyzeAndFlow( builder, this.type ),\r\n\t\tcode = data.code + '\\n';\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tcode += 'gl_Position = ' + data.result + ';';\r\n\r\n\t} else {\r\n\r\n\t\tcode += 'gl_FragColor = ' + data.result + ';';\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nRawNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRawNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RawNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/RawNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction CubeTextureNode( value, uv, bias ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new ReflectNode();\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nCubeTextureNode.prototype = Object.create( InputNode.prototype );\r\nCubeTextureNode.prototype.constructor = CubeTextureNode;\r\nCubeTextureNode.prototype.nodeType = \"CubeTexture\";\r\n\r\nCubeTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 'tc' );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'samplerCube' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar cubetex = this.getTexture( builder, output );\r\n\tvar uv = this.uv.build( builder, 'v3' );\r\n\tvar bias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar code;\r\n\r\n\tif ( bias ) code = 'texCubeBias( ' + cubetex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = 'texCube( ' + cubetex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create variables temp nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CubeTextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/CubeTextureNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction FunctionCallNode( func, inputs ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.setFunction( func, inputs );\r\n\r\n}\r\n\r\nFunctionCallNode.prototype = Object.create( TempNode.prototype );\r\nFunctionCallNode.prototype.constructor = FunctionCallNode;\r\nFunctionCallNode.prototype.nodeType = \"FunctionCall\";\r\n\r\nFunctionCallNode.prototype.setFunction = function ( func, inputs ) {\r\n\r\n\tthis.value = func;\r\n\tthis.inputs = inputs || [];\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getFunction = function () {\r\n\r\n\treturn this.value;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn this.value.getType( builder );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tfunc = this.value;\r\n\r\n\tvar code = func.build( builder, output ) + '( ',\r\n\t\tparams = [];\r\n\r\n\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\tvar inpt = func.inputs[ i ],\r\n\t\t\tparam = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\tparams.push( param.build( builder, builder.getTypeByFormat( inpt.type ) ) );\r\n\r\n\t}\r\n\r\n\tcode += params.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis.inputs[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tvar func = this.value;\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t\tif ( func.inputs.length ) {\r\n\r\n\t\t\tdata.inputs = {};\r\n\r\n\t\t\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\t\t\tvar inpt = func.inputs[ i ],\r\n\t\t\t\t\tnode = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\t\t\tdata.inputs[ inpt.name ] = node.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionCallNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionCallNode.js","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tMatrix4,\r\n\tVector3,\r\n\tVector4\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Tessellates the famous Utah teapot database by Martin Newell into triangles.\r\n *\r\n * Parameters: size = 50, segments = 10, bottom = true, lid = true, body = true,\r\n *   fitLid = false, blinn = true\r\n *\r\n * size is a relative scale: I've scaled the teapot to fit vertically between -1 and 1.\r\n * Think of it as a \"radius\".\r\n * segments - number of line segments to subdivide each patch edge;\r\n *   1 is possible but gives degenerates, so two is the real minimum.\r\n * bottom - boolean, if true (default) then the bottom patches are added. Some consider\r\n *   adding the bottom heresy, so set this to \"false\" to adhere to the One True Way.\r\n * lid - to remove the lid and look inside, set to true.\r\n * body - to remove the body and leave the lid, set this and \"bottom\" to false.\r\n * fitLid - the lid is a tad small in the original. This stretches it a bit so you can't\r\n *   see the teapot's insides through the gap.\r\n * blinn - Jim Blinn scaled the original data vertically by dividing by about 1.3 to look\r\n *   nicer. If you want to see the original teapot, similar to the real-world model, set\r\n *   this to false. True by default.\r\n *   See http://en.wikipedia.org/wiki/File:Original_Utah_Teapot.jpg for the original\r\n *   real-world teapot (from http://en.wikipedia.org/wiki/Utah_teapot).\r\n *\r\n * Note that the bottom (the last four patches) is not flat - blame Frank Crow, not me.\r\n *\r\n * The teapot should normally be rendered as a double sided object, since for some\r\n * patches both sides can be seen, e.g., the gap around the lid and inside the spout.\r\n *\r\n * Segments 'n' determines the number of triangles output.\r\n *   Total triangles = 32*2*n*n - 8*n    [degenerates at the top and bottom cusps are deleted]\r\n *\r\n *   size_factor   # triangles\r\n *       1          56\r\n *       2         240\r\n *       3         552\r\n *       4         992\r\n *\r\n *      10        6320\r\n *      20       25440\r\n *      30       57360\r\n *\r\n * Code converted from my ancient SPD software, http://tog.acm.org/resources/SPD/\r\n * Created for the Udacity course \"Interactive Rendering\", http://bit.ly/ericity\r\n * Lesson: https://www.udacity.com/course/viewer#!/c-cs291/l-68866048/m-106482448\r\n * YouTube video on teapot history: https://www.youtube.com/watch?v=DxMfblPzFNc\r\n *\r\n * See https://en.wikipedia.org/wiki/Utah_teapot for the history of the teapot\r\n *\r\n */\r\n\r\nvar TeapotBufferGeometry = function ( size, segments, bottom, lid, body, fitLid, blinn ) {\r\n\r\n\t// 32 * 4 * 4 Bezier spline patches\r\n\tvar teapotPatches = [\r\n\t\t/*rim*/\r\n\t\t0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\r\n\t\t3, 16, 17, 18, 7, 19, 20, 21, 11, 22, 23, 24, 15, 25, 26, 27,\r\n\t\t18, 28, 29, 30, 21, 31, 32, 33, 24, 34, 35, 36, 27, 37, 38, 39,\r\n\t\t30, 40, 41, 0, 33, 42, 43, 4, 36, 44, 45, 8, 39, 46, 47, 12,\r\n\t\t/*body*/\r\n\t\t12, 13, 14, 15, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59,\r\n\t\t15, 25, 26, 27, 51, 60, 61, 62, 55, 63, 64, 65, 59, 66, 67, 68,\r\n\t\t27, 37, 38, 39, 62, 69, 70, 71, 65, 72, 73, 74, 68, 75, 76, 77,\r\n\t\t39, 46, 47, 12, 71, 78, 79, 48, 74, 80, 81, 52, 77, 82, 83, 56,\r\n\t\t56, 57, 58, 59, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\r\n\t\t59, 66, 67, 68, 87, 96, 97, 98, 91, 99, 100, 101, 95, 102, 103, 104,\r\n\t\t68, 75, 76, 77, 98, 105, 106, 107, 101, 108, 109, 110, 104, 111, 112, 113,\r\n\t\t77, 82, 83, 56, 107, 114, 115, 84, 110, 116, 117, 88, 113, 118, 119, 92,\r\n\t\t/*handle*/\r\n\t\t120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135,\r\n\t\t123, 136, 137, 120, 127, 138, 139, 124, 131, 140, 141, 128, 135, 142, 143, 132,\r\n\t\t132, 133, 134, 135, 144, 145, 146, 147, 148, 149, 150, 151, 68, 152, 153, 154,\r\n\t\t135, 142, 143, 132, 147, 155, 156, 144, 151, 157, 158, 148, 154, 159, 160, 68,\r\n\t\t/*spout*/\r\n\t\t161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176,\r\n\t\t164, 177, 178, 161, 168, 179, 180, 165, 172, 181, 182, 169, 176, 183, 184, 173,\r\n\t\t173, 174, 175, 176, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196,\r\n\t\t176, 183, 184, 173, 188, 197, 198, 185, 192, 199, 200, 189, 196, 201, 202, 193,\r\n\t\t/*lid*/\r\n\t\t203, 203, 203, 203, 204, 205, 206, 207, 208, 208, 208, 208, 209, 210, 211, 212,\r\n\t\t203, 203, 203, 203, 207, 213, 214, 215, 208, 208, 208, 208, 212, 216, 217, 218,\r\n\t\t203, 203, 203, 203, 215, 219, 220, 221, 208, 208, 208, 208, 218, 222, 223, 224,\r\n\t\t203, 203, 203, 203, 221, 225, 226, 204, 208, 208, 208, 208, 224, 227, 228, 209,\r\n\t\t209, 210, 211, 212, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,\r\n\t\t212, 216, 217, 218, 232, 241, 242, 243, 236, 244, 245, 246, 240, 247, 248, 249,\r\n\t\t218, 222, 223, 224, 243, 250, 251, 252, 246, 253, 254, 255, 249, 256, 257, 258,\r\n\t\t224, 227, 228, 209, 252, 259, 260, 229, 255, 261, 262, 233, 258, 263, 264, 237,\r\n\t\t/*bottom*/\r\n\t\t265, 265, 265, 265, 266, 267, 268, 269, 270, 271, 272, 273, 92, 119, 118, 113,\r\n\t\t265, 265, 265, 265, 269, 274, 275, 276, 273, 277, 278, 279, 113, 112, 111, 104,\r\n\t\t265, 265, 265, 265, 276, 280, 281, 282, 279, 283, 284, 285, 104, 103, 102, 95,\r\n\t\t265, 265, 265, 265, 282, 286, 287, 266, 285, 288, 289, 270, 95, 94, 93, 92\r\n\t];\r\n\r\n\tvar teapotVertices = [\r\n\t\t1.4, 0, 2.4,\r\n\t\t1.4, - 0.784, 2.4,\r\n\t\t0.784, - 1.4, 2.4,\r\n\t\t0, - 1.4, 2.4,\r\n\t\t1.3375, 0, 2.53125,\r\n\t\t1.3375, - 0.749, 2.53125,\r\n\t\t0.749, - 1.3375, 2.53125,\r\n\t\t0, - 1.3375, 2.53125,\r\n\t\t1.4375, 0, 2.53125,\r\n\t\t1.4375, - 0.805, 2.53125,\r\n\t\t0.805, - 1.4375, 2.53125,\r\n\t\t0, - 1.4375, 2.53125,\r\n\t\t1.5, 0, 2.4,\r\n\t\t1.5, - 0.84, 2.4,\r\n\t\t0.84, - 1.5, 2.4,\r\n\t\t0, - 1.5, 2.4,\r\n\t\t- 0.784, - 1.4, 2.4,\r\n\t\t- 1.4, - 0.784, 2.4,\r\n\t\t- 1.4, 0, 2.4,\r\n\t\t- 0.749, - 1.3375, 2.53125,\r\n\t\t- 1.3375, - 0.749, 2.53125,\r\n\t\t- 1.3375, 0, 2.53125,\r\n\t\t- 0.805, - 1.4375, 2.53125,\r\n\t\t- 1.4375, - 0.805, 2.53125,\r\n\t\t- 1.4375, 0, 2.53125,\r\n\t\t- 0.84, - 1.5, 2.4,\r\n\t\t- 1.5, - 0.84, 2.4,\r\n\t\t- 1.5, 0, 2.4,\r\n\t\t- 1.4, 0.784, 2.4,\r\n\t\t- 0.784, 1.4, 2.4,\r\n\t\t0, 1.4, 2.4,\r\n\t\t- 1.3375, 0.749, 2.53125,\r\n\t\t- 0.749, 1.3375, 2.53125,\r\n\t\t0, 1.3375, 2.53125,\r\n\t\t- 1.4375, 0.805, 2.53125,\r\n\t\t- 0.805, 1.4375, 2.53125,\r\n\t\t0, 1.4375, 2.53125,\r\n\t\t- 1.5, 0.84, 2.4,\r\n\t\t- 0.84, 1.5, 2.4,\r\n\t\t0, 1.5, 2.4,\r\n\t\t0.784, 1.4, 2.4,\r\n\t\t1.4, 0.784, 2.4,\r\n\t\t0.749, 1.3375, 2.53125,\r\n\t\t1.3375, 0.749, 2.53125,\r\n\t\t0.805, 1.4375, 2.53125,\r\n\t\t1.4375, 0.805, 2.53125,\r\n\t\t0.84, 1.5, 2.4,\r\n\t\t1.5, 0.84, 2.4,\r\n\t\t1.75, 0, 1.875,\r\n\t\t1.75, - 0.98, 1.875,\r\n\t\t0.98, - 1.75, 1.875,\r\n\t\t0, - 1.75, 1.875,\r\n\t\t2, 0, 1.35,\r\n\t\t2, - 1.12, 1.35,\r\n\t\t1.12, - 2, 1.35,\r\n\t\t0, - 2, 1.35,\r\n\t\t2, 0, 0.9,\r\n\t\t2, - 1.12, 0.9,\r\n\t\t1.12, - 2, 0.9,\r\n\t\t0, - 2, 0.9,\r\n\t\t- 0.98, - 1.75, 1.875,\r\n\t\t- 1.75, - 0.98, 1.875,\r\n\t\t- 1.75, 0, 1.875,\r\n\t\t- 1.12, - 2, 1.35,\r\n\t\t- 2, - 1.12, 1.35,\r\n\t\t- 2, 0, 1.35,\r\n\t\t- 1.12, - 2, 0.9,\r\n\t\t- 2, - 1.12, 0.9,\r\n\t\t- 2, 0, 0.9,\r\n\t\t- 1.75, 0.98, 1.875,\r\n\t\t- 0.98, 1.75, 1.875,\r\n\t\t0, 1.75, 1.875,\r\n\t\t- 2, 1.12, 1.35,\r\n\t\t- 1.12, 2, 1.35,\r\n\t\t0, 2, 1.35,\r\n\t\t- 2, 1.12, 0.9,\r\n\t\t- 1.12, 2, 0.9,\r\n\t\t0, 2, 0.9,\r\n\t\t0.98, 1.75, 1.875,\r\n\t\t1.75, 0.98, 1.875,\r\n\t\t1.12, 2, 1.35,\r\n\t\t2, 1.12, 1.35,\r\n\t\t1.12, 2, 0.9,\r\n\t\t2, 1.12, 0.9,\r\n\t\t2, 0, 0.45,\r\n\t\t2, - 1.12, 0.45,\r\n\t\t1.12, - 2, 0.45,\r\n\t\t0, - 2, 0.45,\r\n\t\t1.5, 0, 0.225,\r\n\t\t1.5, - 0.84, 0.225,\r\n\t\t0.84, - 1.5, 0.225,\r\n\t\t0, - 1.5, 0.225,\r\n\t\t1.5, 0, 0.15,\r\n\t\t1.5, - 0.84, 0.15,\r\n\t\t0.84, - 1.5, 0.15,\r\n\t\t0, - 1.5, 0.15,\r\n\t\t- 1.12, - 2, 0.45,\r\n\t\t- 2, - 1.12, 0.45,\r\n\t\t- 2, 0, 0.45,\r\n\t\t- 0.84, - 1.5, 0.225,\r\n\t\t- 1.5, - 0.84, 0.225,\r\n\t\t- 1.5, 0, 0.225,\r\n\t\t- 0.84, - 1.5, 0.15,\r\n\t\t- 1.5, - 0.84, 0.15,\r\n\t\t- 1.5, 0, 0.15,\r\n\t\t- 2, 1.12, 0.45,\r\n\t\t- 1.12, 2, 0.45,\r\n\t\t0, 2, 0.45,\r\n\t\t- 1.5, 0.84, 0.225,\r\n\t\t- 0.84, 1.5, 0.225,\r\n\t\t0, 1.5, 0.225,\r\n\t\t- 1.5, 0.84, 0.15,\r\n\t\t- 0.84, 1.5, 0.15,\r\n\t\t0, 1.5, 0.15,\r\n\t\t1.12, 2, 0.45,\r\n\t\t2, 1.12, 0.45,\r\n\t\t0.84, 1.5, 0.225,\r\n\t\t1.5, 0.84, 0.225,\r\n\t\t0.84, 1.5, 0.15,\r\n\t\t1.5, 0.84, 0.15,\r\n\t\t- 1.6, 0, 2.025,\r\n\t\t- 1.6, - 0.3, 2.025,\r\n\t\t- 1.5, - 0.3, 2.25,\r\n\t\t- 1.5, 0, 2.25,\r\n\t\t- 2.3, 0, 2.025,\r\n\t\t- 2.3, - 0.3, 2.025,\r\n\t\t- 2.5, - 0.3, 2.25,\r\n\t\t- 2.5, 0, 2.25,\r\n\t\t- 2.7, 0, 2.025,\r\n\t\t- 2.7, - 0.3, 2.025,\r\n\t\t- 3, - 0.3, 2.25,\r\n\t\t- 3, 0, 2.25,\r\n\t\t- 2.7, 0, 1.8,\r\n\t\t- 2.7, - 0.3, 1.8,\r\n\t\t- 3, - 0.3, 1.8,\r\n\t\t- 3, 0, 1.8,\r\n\t\t- 1.5, 0.3, 2.25,\r\n\t\t- 1.6, 0.3, 2.025,\r\n\t\t- 2.5, 0.3, 2.25,\r\n\t\t- 2.3, 0.3, 2.025,\r\n\t\t- 3, 0.3, 2.25,\r\n\t\t- 2.7, 0.3, 2.025,\r\n\t\t- 3, 0.3, 1.8,\r\n\t\t- 2.7, 0.3, 1.8,\r\n\t\t- 2.7, 0, 1.575,\r\n\t\t- 2.7, - 0.3, 1.575,\r\n\t\t- 3, - 0.3, 1.35,\r\n\t\t- 3, 0, 1.35,\r\n\t\t- 2.5, 0, 1.125,\r\n\t\t- 2.5, - 0.3, 1.125,\r\n\t\t- 2.65, - 0.3, 0.9375,\r\n\t\t- 2.65, 0, 0.9375,\r\n\t\t- 2, - 0.3, 0.9,\r\n\t\t- 1.9, - 0.3, 0.6,\r\n\t\t- 1.9, 0, 0.6,\r\n\t\t- 3, 0.3, 1.35,\r\n\t\t- 2.7, 0.3, 1.575,\r\n\t\t- 2.65, 0.3, 0.9375,\r\n\t\t- 2.5, 0.3, 1.125,\r\n\t\t- 1.9, 0.3, 0.6,\r\n\t\t- 2, 0.3, 0.9,\r\n\t\t1.7, 0, 1.425,\r\n\t\t1.7, - 0.66, 1.425,\r\n\t\t1.7, - 0.66, 0.6,\r\n\t\t1.7, 0, 0.6,\r\n\t\t2.6, 0, 1.425,\r\n\t\t2.6, - 0.66, 1.425,\r\n\t\t3.1, - 0.66, 0.825,\r\n\t\t3.1, 0, 0.825,\r\n\t\t2.3, 0, 2.1,\r\n\t\t2.3, - 0.25, 2.1,\r\n\t\t2.4, - 0.25, 2.025,\r\n\t\t2.4, 0, 2.025,\r\n\t\t2.7, 0, 2.4,\r\n\t\t2.7, - 0.25, 2.4,\r\n\t\t3.3, - 0.25, 2.4,\r\n\t\t3.3, 0, 2.4,\r\n\t\t1.7, 0.66, 0.6,\r\n\t\t1.7, 0.66, 1.425,\r\n\t\t3.1, 0.66, 0.825,\r\n\t\t2.6, 0.66, 1.425,\r\n\t\t2.4, 0.25, 2.025,\r\n\t\t2.3, 0.25, 2.1,\r\n\t\t3.3, 0.25, 2.4,\r\n\t\t2.7, 0.25, 2.4,\r\n\t\t2.8, 0, 2.475,\r\n\t\t2.8, - 0.25, 2.475,\r\n\t\t3.525, - 0.25, 2.49375,\r\n\t\t3.525, 0, 2.49375,\r\n\t\t2.9, 0, 2.475,\r\n\t\t2.9, - 0.15, 2.475,\r\n\t\t3.45, - 0.15, 2.5125,\r\n\t\t3.45, 0, 2.5125,\r\n\t\t2.8, 0, 2.4,\r\n\t\t2.8, - 0.15, 2.4,\r\n\t\t3.2, - 0.15, 2.4,\r\n\t\t3.2, 0, 2.4,\r\n\t\t3.525, 0.25, 2.49375,\r\n\t\t2.8, 0.25, 2.475,\r\n\t\t3.45, 0.15, 2.5125,\r\n\t\t2.9, 0.15, 2.475,\r\n\t\t3.2, 0.15, 2.4,\r\n\t\t2.8, 0.15, 2.4,\r\n\t\t0, 0, 3.15,\r\n\t\t0.8, 0, 3.15,\r\n\t\t0.8, - 0.45, 3.15,\r\n\t\t0.45, - 0.8, 3.15,\r\n\t\t0, - 0.8, 3.15,\r\n\t\t0, 0, 2.85,\r\n\t\t0.2, 0, 2.7,\r\n\t\t0.2, - 0.112, 2.7,\r\n\t\t0.112, - 0.2, 2.7,\r\n\t\t0, - 0.2, 2.7,\r\n\t\t- 0.45, - 0.8, 3.15,\r\n\t\t- 0.8, - 0.45, 3.15,\r\n\t\t- 0.8, 0, 3.15,\r\n\t\t- 0.112, - 0.2, 2.7,\r\n\t\t- 0.2, - 0.112, 2.7,\r\n\t\t- 0.2, 0, 2.7,\r\n\t\t- 0.8, 0.45, 3.15,\r\n\t\t- 0.45, 0.8, 3.15,\r\n\t\t0, 0.8, 3.15,\r\n\t\t- 0.2, 0.112, 2.7,\r\n\t\t- 0.112, 0.2, 2.7,\r\n\t\t0, 0.2, 2.7,\r\n\t\t0.45, 0.8, 3.15,\r\n\t\t0.8, 0.45, 3.15,\r\n\t\t0.112, 0.2, 2.7,\r\n\t\t0.2, 0.112, 2.7,\r\n\t\t0.4, 0, 2.55,\r\n\t\t0.4, - 0.224, 2.55,\r\n\t\t0.224, - 0.4, 2.55,\r\n\t\t0, - 0.4, 2.55,\r\n\t\t1.3, 0, 2.55,\r\n\t\t1.3, - 0.728, 2.55,\r\n\t\t0.728, - 1.3, 2.55,\r\n\t\t0, - 1.3, 2.55,\r\n\t\t1.3, 0, 2.4,\r\n\t\t1.3, - 0.728, 2.4,\r\n\t\t0.728, - 1.3, 2.4,\r\n\t\t0, - 1.3, 2.4,\r\n\t\t- 0.224, - 0.4, 2.55,\r\n\t\t- 0.4, - 0.224, 2.55,\r\n\t\t- 0.4, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.55,\r\n\t\t- 1.3, - 0.728, 2.55,\r\n\t\t- 1.3, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.4,\r\n\t\t- 1.3, - 0.728, 2.4,\r\n\t\t- 1.3, 0, 2.4,\r\n\t\t- 0.4, 0.224, 2.55,\r\n\t\t- 0.224, 0.4, 2.55,\r\n\t\t0, 0.4, 2.55,\r\n\t\t- 1.3, 0.728, 2.55,\r\n\t\t- 0.728, 1.3, 2.55,\r\n\t\t0, 1.3, 2.55,\r\n\t\t- 1.3, 0.728, 2.4,\r\n\t\t- 0.728, 1.3, 2.4,\r\n\t\t0, 1.3, 2.4,\r\n\t\t0.224, 0.4, 2.55,\r\n\t\t0.4, 0.224, 2.55,\r\n\t\t0.728, 1.3, 2.55,\r\n\t\t1.3, 0.728, 2.55,\r\n\t\t0.728, 1.3, 2.4,\r\n\t\t1.3, 0.728, 2.4,\r\n\t\t0, 0, 0,\r\n\t\t1.425, 0, 0,\r\n\t\t1.425, 0.798, 0,\r\n\t\t0.798, 1.425, 0,\r\n\t\t0, 1.425, 0,\r\n\t\t1.5, 0, 0.075,\r\n\t\t1.5, 0.84, 0.075,\r\n\t\t0.84, 1.5, 0.075,\r\n\t\t0, 1.5, 0.075,\r\n\t\t- 0.798, 1.425, 0,\r\n\t\t- 1.425, 0.798, 0,\r\n\t\t- 1.425, 0, 0,\r\n\t\t- 0.84, 1.5, 0.075,\r\n\t\t- 1.5, 0.84, 0.075,\r\n\t\t- 1.5, 0, 0.075,\r\n\t\t- 1.425, - 0.798, 0,\r\n\t\t- 0.798, - 1.425, 0,\r\n\t\t0, - 1.425, 0,\r\n\t\t- 1.5, - 0.84, 0.075,\r\n\t\t- 0.84, - 1.5, 0.075,\r\n\t\t0, - 1.5, 0.075,\r\n\t\t0.798, - 1.425, 0,\r\n\t\t1.425, - 0.798, 0,\r\n\t\t0.84, - 1.5, 0.075,\r\n\t\t1.5, - 0.84, 0.075\r\n\t];\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tsize = size || 50;\r\n\r\n\t// number of segments per patch\r\n\tsegments = segments !== undefined ? Math.max( 2, Math.floor( segments ) || 10 ) : 10;\r\n\r\n\t// which parts should be visible\r\n\tbottom = bottom === undefined ? true : bottom;\r\n\tlid = lid === undefined ? true : lid;\r\n\tbody = body === undefined ? true : body;\r\n\r\n\t// Should the lid be snug? It's not traditional, but we make it snug by default\r\n\tfitLid = fitLid === undefined ? true : fitLid;\r\n\r\n\t// Jim Blinn scaled the teapot down in size by about 1.3 for\r\n\t// some rendering tests. He liked the new proportions that he kept\r\n\t// the data in this form. The model was distributed with these new\r\n\t// proportions and became the norm. Trivia: comparing images of the\r\n\t// real teapot and the computer model, the ratio for the bowl of the\r\n\t// real teapot is more like 1.25, but since 1.3 is the traditional\r\n\t// value given, we use it here.\r\n\tvar blinnScale = 1.3;\r\n\tblinn = blinn === undefined ? true : blinn;\r\n\r\n\t// scale the size to be the real scaling factor\r\n\tvar maxHeight = 3.15 * ( blinn ? 1 : blinnScale );\r\n\r\n\tvar maxHeight2 = maxHeight / 2;\r\n\tvar trueSize = size / maxHeight2;\r\n\r\n\t// Number of elements depends on what is needed. Subtract degenerate\r\n\t// triangles at tip of bottom and lid out in advance.\r\n\tvar numTriangles = bottom ? ( 8 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += lid ? ( 16 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += body ? 40 * segments * segments : 0;\r\n\r\n\tvar indices = new Uint32Array( numTriangles * 3 );\r\n\r\n\tvar numVertices = bottom ? 4 : 0;\r\n\tnumVertices += lid ? 8 : 0;\r\n\tnumVertices += body ? 20 : 0;\r\n\tnumVertices *= ( segments + 1 ) * ( segments + 1 );\r\n\r\n\tvar vertices = new Float32Array( numVertices * 3 );\r\n\tvar normals = new Float32Array( numVertices * 3 );\r\n\tvar uvs = new Float32Array( numVertices * 2 );\r\n\r\n\t// Bezier form\r\n\tvar ms = new Matrix4();\r\n\tms.set(\r\n\t\t- 1.0, 3.0, - 3.0, 1.0,\r\n\t\t3.0, - 6.0, 3.0, 0.0,\r\n\t\t- 3.0, 3.0, 0.0, 0.0,\r\n\t\t1.0, 0.0, 0.0, 0.0 );\r\n\r\n\tvar g = [];\r\n\tvar i, r, c;\r\n\r\n\tvar sp = [];\r\n\tvar tp = [];\r\n\tvar dsp = [];\r\n\tvar dtp = [];\r\n\r\n\t// M * G * M matrix, sort of see\r\n\t// http://www.cs.helsinki.fi/group/goa/mallinnus/curves/surfaces.html\r\n\tvar mgm = [];\r\n\r\n\tvar vert = [];\r\n\tvar sdir = [];\r\n\tvar tdir = [];\r\n\r\n\tvar norm = new Vector3();\r\n\r\n\tvar tcoord;\r\n\r\n\tvar sstep, tstep;\r\n\tvar vertPerRow;\r\n\r\n\tvar s, t, sval, tval, p;\r\n\tvar dsval = 0;\r\n\tvar dtval = 0;\r\n\r\n\tvar normOut = new Vector3();\r\n\tvar v1, v2, v3, v4;\r\n\r\n\tvar gmx = new Matrix4();\r\n\tvar tmtx = new Matrix4();\r\n\r\n\tvar vsp = new Vector4();\r\n\tvar vtp = new Vector4();\r\n\tvar vdsp = new Vector4();\r\n\tvar vdtp = new Vector4();\r\n\r\n\tvar vsdir = new Vector3();\r\n\tvar vtdir = new Vector3();\r\n\r\n\tvar mst = ms.clone();\r\n\tmst.transpose();\r\n\r\n\t// internal function: test if triangle has any matching vertices;\r\n\t// if so, don't save triangle, since it won't display anything.\r\n\tvar notDegenerate = function ( vtx1, vtx2, vtx3 ) {\r\n\r\n\t\t// if any vertex matches, return false\r\n\t\treturn ! ( ( ( vertices[ vtx1 * 3 ] === vertices[ vtx2 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx2 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx2 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx1 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx2 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) );\r\n\r\n\t};\r\n\r\n\r\n\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\tmgm[ i ] = new Matrix4();\r\n\r\n\t}\r\n\r\n\tvar minPatches = body ? 0 : 20;\r\n\tvar maxPatches = bottom ? 32 : 28;\r\n\r\n\tvertPerRow = segments + 1;\r\n\r\n\tvar surfCount = 0;\r\n\r\n\tvar vertCount = 0;\r\n\tvar normCount = 0;\r\n\tvar uvCount = 0;\r\n\r\n\tvar indexCount = 0;\r\n\r\n\tfor ( var surf = minPatches; surf < maxPatches; surf ++ ) {\r\n\r\n\t\t// lid is in the middle of the data, patches 20-27,\r\n\t\t// so ignore it for this part of the loop if the lid is not desired\r\n\t\tif ( lid || ( surf < 20 || surf >= 28 ) ) {\r\n\r\n\t\t\t// get M * G * M matrix for x,y,z\r\n\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t// get control patches\r\n\t\t\t\tfor ( r = 0; r < 4; r ++ ) {\r\n\r\n\t\t\t\t\tfor ( c = 0; c < 4; c ++ ) {\r\n\r\n\t\t\t\t\t\t// transposed\r\n\t\t\t\t\t\tg[ c * 4 + r ] = teapotVertices[ teapotPatches[ surf * 16 + r * 4 + c ] * 3 + i ];\r\n\r\n\t\t\t\t\t\t// is the lid to be made larger, and is this a point on the lid\r\n\t\t\t\t\t\t// that is X or Y?\r\n\t\t\t\t\t\tif ( fitLid && ( surf >= 20 && surf < 28 ) && ( i !== 2 ) ) {\r\n\r\n\t\t\t\t\t\t\t// increase XY size by 7.7%, found empirically. I don't\r\n\t\t\t\t\t\t\t// increase Z so that the teapot will continue to fit in the\r\n\t\t\t\t\t\t\t// space -1 to 1 for Y (Y is up for the final model).\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= 1.077;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Blinn \"fixed\" the teapot by dividing Z by blinnScale, and that's the\r\n\t\t\t\t\t\t// data we now use. The original teapot is taller. Fix it:\r\n\t\t\t\t\t\tif ( ! blinn && ( i === 2 ) ) {\r\n\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= blinnScale;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgmx.set( g[ 0 ], g[ 1 ], g[ 2 ], g[ 3 ], g[ 4 ], g[ 5 ], g[ 6 ], g[ 7 ], g[ 8 ], g[ 9 ], g[ 10 ], g[ 11 ], g[ 12 ], g[ 13 ], g[ 14 ], g[ 15 ] );\r\n\r\n\t\t\t\ttmtx.multiplyMatrices( gmx, ms );\r\n\t\t\t\tmgm[ i ].multiplyMatrices( mst, tmtx );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// step along, get points, and output\r\n\t\t\tfor ( sstep = 0; sstep <= segments; sstep ++ ) {\r\n\r\n\t\t\t\ts = sstep / segments;\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep <= segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tt = tstep / segments;\r\n\r\n\t\t\t\t\t// point from basis\r\n\t\t\t\t\t// get power vectors and their derivatives\r\n\t\t\t\t\tfor ( p = 4, sval = tval = 1.0; p --; ) {\r\n\r\n\t\t\t\t\t\tsp[ p ] = sval;\r\n\t\t\t\t\t\ttp[ p ] = tval;\r\n\t\t\t\t\t\tsval *= s;\r\n\t\t\t\t\t\ttval *= t;\r\n\r\n\t\t\t\t\t\tif ( p === 3 ) {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dtp[ p ] = 0.0;\r\n\t\t\t\t\t\t\tdsval = dtval = 1.0;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dsval * ( 3 - p );\r\n\t\t\t\t\t\t\tdtp[ p ] = dtval * ( 3 - p );\r\n\t\t\t\t\t\t\tdsval *= s;\r\n\t\t\t\t\t\t\tdtval *= t;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvsp.fromArray( sp );\r\n\t\t\t\t\tvtp.fromArray( tp );\r\n\t\t\t\t\tvdsp.fromArray( dsp );\r\n\t\t\t\t\tvdtp.fromArray( dtp );\r\n\r\n\t\t\t\t\t// do for x,y,z\r\n\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\t\t// multiply power vectors times matrix to get value\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tvert[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\t// get s and t tangent vectors\r\n\t\t\t\t\t\ttcoord = vdsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tsdir[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\ttdir[ i ] = tcoord.dot( vdtp );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// find normal\r\n\t\t\t\t\tvsdir.fromArray( sdir );\r\n\t\t\t\t\tvtdir.fromArray( tdir );\r\n\t\t\t\t\tnorm.crossVectors( vtdir, vsdir );\r\n\t\t\t\t\tnorm.normalize();\r\n\r\n\t\t\t\t\t// if X and Z length is 0, at the cusp, so point the normal up or down, depending on patch number\r\n\t\t\t\t\tif ( vert[ 0 ] === 0 && vert[ 1 ] === 0 ) {\r\n\r\n\t\t\t\t\t\t// if above the middle of the teapot, normal points up, else down\r\n\t\t\t\t\t\tnormOut.set( 0, vert[ 2 ] > maxHeight2 ? 1 : - 1, 0 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// standard output: rotate on X axis\r\n\t\t\t\t\t\tnormOut.set( norm.x, norm.z, - norm.y );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// store it all\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * vert[ 0 ];\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * ( vert[ 2 ] - maxHeight2 );\r\n\t\t\t\t\tvertices[ vertCount ++ ] = - trueSize * vert[ 1 ];\r\n\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.x;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.y;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.z;\r\n\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - t;\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// save the faces\r\n\t\t\tfor ( sstep = 0; sstep < segments; sstep ++ ) {\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep < segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tv1 = surfCount * vertPerRow * vertPerRow + sstep * vertPerRow + tstep;\r\n\t\t\t\t\tv2 = v1 + 1;\r\n\t\t\t\t\tv3 = v2 + vertPerRow;\r\n\t\t\t\t\tv4 = v1 + vertPerRow;\r\n\r\n\t\t\t\t\t// Normals and UVs cannot be shared. Without clone(), you can see the consequences\r\n\t\t\t\t\t// of sharing if you call geometry.applyMatrix4( matrix ).\r\n\t\t\t\t\tif ( notDegenerate( v1, v2, v3 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v2;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( notDegenerate( v1, v3, v4 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// increment only if a surface was used\r\n\t\t\tsurfCount ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.setIndex( new BufferAttribute( indices, 1 ) );\r\n\tthis.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ) );\r\n\r\n\tthis.computeBoundingSphere();\r\n\r\n};\r\n\r\n\r\nTeapotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nTeapotBufferGeometry.prototype.constructor = TeapotBufferGeometry;\r\n\r\nexport { TeapotBufferGeometry };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/geometries/TeapotBufferGeometry.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { StructNode } from '../core/StructNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FunctionCallNode } from '../core/FunctionCallNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { MathNode } from '../math/MathNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\n\r\nfunction TextureCubeUVNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value,\r\n\tthis.uv = uv;\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nTextureCubeUVNode.Nodes = ( function () {\r\n\r\n\tvar TextureCubeUVData = new StructNode(\r\n\t\t`struct TextureCubeUVData {\r\n\t\t\tvec4 tl;\r\n\t\t\tvec4 tr;\r\n\t\t\tvec4 br;\r\n\t\t\tvec4 bl;\r\n\t\t\tvec2 f;\r\n\t\t}` );\r\n\r\n\tvar cubeUV_maxMipLevel = new ConstNode( `float cubeUV_maxMipLevel 8.0`, true );\r\n\tvar cubeUV_minMipLevel = new ConstNode( `float cubeUV_minMipLevel 4.0`, true );\r\n\tvar cubeUV_maxTileSize = new ConstNode( `float cubeUV_maxTileSize 256.0`, true );\r\n\tvar cubeUV_minTileSize = new ConstNode( `float cubeUV_minTileSize 16.0`, true );\r\n\r\n\t// These shader functions convert between the UV coordinates of a single face of\r\n\t// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\r\n\t// sampling a textureCube (not generally normalized).\r\n\r\n\tvar getFace = new FunctionNode(\r\n\t\t`float getFace(vec3 direction) {\r\n\t\t\t\tvec3 absDirection = abs(direction);\r\n\t\t\t\tfloat face = -1.0;\r\n\t\t\t\tif (absDirection.x > absDirection.z) {\r\n\t\t\t\t\tif (absDirection.x > absDirection.y)\r\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (absDirection.z > absDirection.y)\r\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t}\r\n\t\t\t\treturn face;\r\n\t\t}` );\r\n\tgetFace.useKeywords = false;\r\n\r\n\tvar getUV = new FunctionNode(\r\n\t\t`vec2 getUV(vec3 direction, float face) {\r\n\t\t\t\tvec2 uv;\r\n\t\t\t\tif (face == 0.0) {\r\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\r\n\t\t\t\t} else if (face == 1.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\r\n\t\t\t\t} else if (face == 2.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\r\n\t\t\t\t} else if (face == 3.0) {\r\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\r\n\t\t\t\t} else if (face == 4.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\r\n\t\t\t\t}\r\n\t\t\t\treturn 0.5 * (uv + 1.0);\r\n\t\t}` );\r\n\tgetUV.useKeywords = false;\r\n\r\n\tvar bilinearCubeUV = new FunctionNode(\r\n\t\t`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\r\n\r\n\t\t\tfloat face = getFace(direction);\r\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\r\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\r\n\t\t\tfloat faceSize = exp2(mipInt);\r\n\r\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\r\n\r\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\r\n\t\t\tvec2 f = fract(uv);\r\n\t\t\tuv += 0.5 - f;\r\n\t\t\tif (face > 2.0) {\r\n\t\t\t\tuv.y += faceSize;\r\n\t\t\t\tface -= 3.0;\r\n\t\t\t}\r\n\t\t\tuv.x += face * faceSize;\r\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\r\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\r\n\t\t\t}\r\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\r\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\r\n\t\t\tuv *= texelSize;\r\n\r\n\t\t\tvec4 tl = texture2D(envMap, uv);\r\n\t\t\tuv.x += texelSize;\r\n\t\t\tvec4 tr = texture2D(envMap, uv);\r\n\t\t\tuv.y += texelSize;\r\n\t\t\tvec4 br = texture2D(envMap, uv);\r\n\t\t\tuv.x -= texelSize;\r\n\t\t\tvec4 bl = texture2D(envMap, uv);\r\n\r\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\r\n\t\t}`, [ TextureCubeUVData, getFace, getUV, cubeUV_maxMipLevel, cubeUV_minMipLevel, cubeUV_maxTileSize, cubeUV_minTileSize ] );\r\n\tbilinearCubeUV.useKeywords = false;\r\n\r\n\t// These defines must match with PMREMGenerator\r\n\r\n\tvar r0 = new ConstNode( `float r0 1.0`, true );\r\n\tvar v0 = new ConstNode( `float v0 0.339`, true );\r\n\tvar m0 = new ConstNode( `float m0 -2.0`, true );\r\n\tvar r1 = new ConstNode( `float r1 0.8`, true );\r\n\tvar v1 = new ConstNode( `float v1 0.276`, true );\r\n\tvar m1 = new ConstNode( `float m1 -1.0`, true );\r\n\tvar r4 = new ConstNode( `float r4 0.4`, true );\r\n\tvar v4 = new ConstNode( `float v4 0.046`, true );\r\n\tvar m4 = new ConstNode( `float m4 2.0`, true );\r\n\tvar r5 = new ConstNode( `float r5 0.305`, true );\r\n\tvar v5 = new ConstNode( `float v5 0.016`, true );\r\n\tvar m5 = new ConstNode( `float m5 3.0`, true );\r\n\tvar r6 = new ConstNode( `float r6 0.21`, true );\r\n\tvar v6 = new ConstNode( `float v6 0.0038`, true );\r\n\tvar m6 = new ConstNode( `float m6 4.0`, true );\r\n\r\n\tvar defines = [ r0, v0, m0, r1, v1, m1, r4, v4, m4, r5, v5, m5, r6, v6, m6 ];\r\n\r\n\tvar roughnessToMip = new FunctionNode(\r\n\t\t`float roughnessToMip(float roughness) {\r\n\t\t\tfloat mip = 0.0;\r\n\t\t\tif (roughness >= r1) {\r\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\r\n\t\t\t} else if (roughness >= r4) {\r\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\r\n\t\t\t} else if (roughness >= r5) {\r\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\r\n\t\t\t} else if (roughness >= r6) {\r\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\r\n\t\t\t} else {\r\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\r\n\t\t\t}\r\n\t\t\treturn mip;\r\n\t\t}`, defines );\r\n\r\n\treturn {\r\n\t\tbilinearCubeUV: bilinearCubeUV,\r\n\t\troughnessToMip: roughnessToMip,\r\n\t\tm0: m0,\r\n\t\tcubeUV_maxMipLevel: cubeUV_maxMipLevel\r\n\t};\r\n\r\n} )();\r\n\r\nTextureCubeUVNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeUVNode.prototype.constructor = TextureCubeUVNode;\r\nTextureCubeUVNode.prototype.nodeType = \"TextureCubeUV\";\r\n\r\nTextureCubeUVNode.prototype.bilinearCubeUV = function ( builder, texture, uv, mipInt ) {\r\n\r\n\tvar bilinearCubeUV = new FunctionCallNode( TextureCubeUVNode.Nodes.bilinearCubeUV, [ texture, uv, mipInt ] );\r\n\r\n\tthis.colorSpaceTL = this.colorSpaceTL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTL.input.parse( bilinearCubeUV.build( builder ) + '.tl' );\r\n\r\n\tthis.colorSpaceTR = this.colorSpaceTR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTR.input.parse( bilinearCubeUV.build( builder ) + '.tr' );\r\n\r\n\tthis.colorSpaceBL = this.colorSpaceBL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBL.input.parse( bilinearCubeUV.build( builder ) + '.bl' );\r\n\r\n\tthis.colorSpaceBR = this.colorSpaceBR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBR.input.parse( bilinearCubeUV.build( builder ) + '.br' );\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpaceTLExp = new ExpressionNode( this.colorSpaceTL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceTRExp = new ExpressionNode( this.colorSpaceTR.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBLExp = new ExpressionNode( this.colorSpaceBL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBRExp = new ExpressionNode( this.colorSpaceBR.build( builder, 'v4' ), 'v4' );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\t// --\r\n\r\n\tvar output = new ExpressionNode( `mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )`, 'v4' );\r\n\toutput.keywords[ 'cubeUV_TL' ] = this.colorSpaceTLExp;\r\n\toutput.keywords[ 'cubeUV_TR' ] = this.colorSpaceTRExp;\r\n\toutput.keywords[ 'cubeUV_BL' ] = this.colorSpaceBLExp;\r\n\toutput.keywords[ 'cubeUV_BR' ] = this.colorSpaceBRExp;\r\n\toutput.keywords[ 'cubeUV' ] = bilinearCubeUV;\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar uv = this.uv;\r\n\t\tvar bias = this.bias || builder.context.roughness;\r\n\r\n\t\tvar mipV = new FunctionCallNode( TextureCubeUVNode.Nodes.roughnessToMip, [ bias ] );\r\n\t\tvar mip = new MathNode( mipV, TextureCubeUVNode.Nodes.m0, TextureCubeUVNode.Nodes.cubeUV_maxMipLevel, MathNode.CLAMP );\r\n\t\tvar mipInt\t= new MathNode( mip, MathNode.FLOOR );\r\n\t\tvar mipF\t= new MathNode( mip, MathNode.FRACT );\r\n\r\n\t\tvar color0 = this.bilinearCubeUV( builder, this.value, uv, mipInt );\r\n\t\tvar color1 = this.bilinearCubeUV( builder, this.value, uv, new OperatorNode(\r\n\t\t\tmipInt,\r\n\t\t\tnew FloatNode( 1 ).setReadonly( true ),\r\n\t\t\tOperatorNode.ADD\r\n\t\t) );\r\n\r\n\t\tvar color1Mix = new MathNode( color0, color1, mipF, MathNode.MIX );\r\n\r\n\t\t/*\r\n\t\t// TODO: Optimize this in the future\r\n\t\tvar cond = new CondNode(\r\n\t\t\tmipF,\r\n\t\t\tnew FloatNode( 0 ).setReadonly( true ),\r\n\t\t\tCondNode.EQUAL,\r\n\t\t\tcolor0, // if\r\n\t\t\tcolor1Mix\t// else\r\n\t\t);\r\n\t\t*/\r\n\r\n\t\treturn builder.format( color1Mix.build( builder ), 'v4', output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeUVNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction TextureNode( value, uv, bias, project ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.bias = bias;\r\n\tthis.project = project !== undefined ? project : false;\r\n\r\n}\r\n\r\nTextureNode.prototype = Object.create( InputNode.prototype );\r\nTextureNode.prototype.constructor = TextureNode;\r\nTextureNode.prototype.nodeType = \"Texture\";\r\n\r\nTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 't' );\r\n\r\n};\r\n\r\nTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'sampler2D' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar tex = this.getTexture( builder, output ),\r\n\t\tuv = this.uv.build( builder, this.project ? 'v4' : 'v2' ),\r\n\t\tbias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar method, code;\r\n\r\n\tif ( this.project ) method = 'texture2DProj';\r\n\telse method = bias ? 'tex2DBias' : 'tex2D';\r\n\r\n\tif ( bias ) code = method + '( ' + tex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = method + '( ' + tex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\tif ( source.project !== undefined ) this.project = source.project;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.value ) data.value = this.value.uuid;\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.project = this.project;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/TextureNode.js","import { MathUtils } from '@/components/build/three.module.js';\r\n\r\nfunction Node( type ) {\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = \"\";\r\n\r\n\tthis.type = type;\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nNode.prototype = {\r\n\r\n\tconstructor: Node,\r\n\r\n\tisNode: true,\r\n\r\n\thashProperties: undefined,\r\n\r\n\tanalyze: function ( builder, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.analyzing = true;\r\n\r\n\t\tthis.build( builder.addFlow( settings.slot, settings.cache, settings.context ), 'v4' );\r\n\r\n\t\tbuilder.clearVertexNodeCode();\r\n\t\tbuilder.clearFragmentNodeCode();\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\tbuilder.analyzing = false;\r\n\r\n\t},\r\n\r\n\tanalyzeAndFlow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tthis.analyze( builder, settings );\r\n\r\n\t\treturn this.flow( builder, output, settings );\r\n\r\n\t},\r\n\r\n\tflow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.addFlow( settings.slot, settings.cache, settings.context );\r\n\r\n\t\tvar flow = {};\r\n\t\tflow.result = this.build( builder, output );\r\n\t\tflow.code = builder.clearNodeCode();\r\n\t\tflow.extra = builder.context.extra;\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\treturn flow;\r\n\r\n\t},\r\n\r\n\tbuild: function ( builder, output, uuid ) {\r\n\r\n\t\toutput = output || this.getType( builder, output );\r\n\r\n\t\tvar data = builder.getNodeData( uuid || this );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t}\r\n\r\n\t\tif ( builder.nodes.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.nodes.push( this );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.updateFrame !== undefined && builder.updaters.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.updaters.push( this );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t},\r\n\r\n\tgenerate: function ( /* builder, output, uuid, type, ns */ ) {\r\n\r\n\t\t// This method needs to be implemented in subclasses\r\n\r\n\t},\r\n\r\n\tgetHash: function () {\r\n\r\n\t\tvar hash = '{';\r\n\t\tvar prop, obj;\r\n\r\n\t\tfor ( prop in this ) {\r\n\r\n\t\t\tobj = this[ prop ];\r\n\r\n\t\t\tif ( obj instanceof Node ) {\r\n\r\n\t\t\t\thash += '\"' + prop + '\":' + obj.getHash() + ',';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.hashProperties ) {\r\n\r\n\t\t\tfor ( var i = 0; i < this.hashProperties.length; i ++ ) {\r\n\r\n\t\t\t\tprop = this.hashProperties[ i ];\r\n\t\t\t\tobj = this[ prop ];\r\n\r\n\t\t\t\thash += '\"' + prop + '\":\"' + String( obj ) + '\",';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\thash += '\"id\":\"' + this.uuid + '\"}';\r\n\r\n\t\treturn hash;\r\n\r\n\t},\r\n\r\n\tappendDepsNode: function ( builder, data, output ) {\r\n\r\n\t\tdata.deps = ( data.deps || 0 ) + 1;\r\n\r\n\t\tvar outputLen = builder.getTypeLength( output );\r\n\r\n\t\tif ( outputLen > ( data.outputMax || 0 ) || this.getType( builder, output ) ) {\r\n\r\n\t\t\tdata.outputMax = outputLen;\r\n\t\t\tdata.output = output;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetName: function ( name ) {\r\n\r\n\t\tthis.name = name;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetName: function ( /* builder */ ) {\r\n\r\n\t\treturn this.name;\r\n\r\n\t},\r\n\r\n\tgetType: function ( builder, output ) {\r\n\r\n\t\treturn output === 'sampler2D' || output === 'samplerCube' ? output : this.type;\r\n\r\n\t},\r\n\r\n\tgetJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( ! isRootObject && meta.nodes[ this.uuid ] !== undefined ) {\r\n\r\n\t\t\treturn meta.nodes[ this.uuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tif ( source.name !== undefined ) this.name = source.name;\r\n\r\n\t\tif ( source.userData !== undefined ) this.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcreateJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tif ( typeof this.nodeType !== \"string\" ) throw new Error( \"Node does not allow serialization.\" );\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.nodeType = this.nodeType;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tif ( ! isRootObject ) {\r\n\r\n\t\t\tmeta.nodes[ this.uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\treturn this.getJSONNode( meta ) || this.createJSONNode( meta );\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/Node.js","function NodeFrame( time ) {\r\n\r\n\tthis.time = time !== undefined ? time : 0;\r\n\r\n\tthis.id = 0;\r\n\r\n}\r\n\r\nNodeFrame.prototype = {\r\n\r\n\tconstructor: NodeFrame,\r\n\r\n\tupdate: function ( delta ) {\r\n\r\n\t\t++ this.id;\r\n\r\n\t\tthis.time += delta;\r\n\t\tthis.delta = delta;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderer: function ( renderer ) {\r\n\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderTexture: function ( renderTexture ) {\r\n\r\n\t\tthis.renderTexture = renderTexture;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateNode: function ( node ) {\r\n\r\n\t\tif ( node.frameId === this.id ) return this;\r\n\r\n\t\tnode.updateFrame( this );\r\n\r\n\t\tnode.frameId = this.id;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeFrame };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeFrame.js","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = f1Eh\n// module chunks = 0","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction OperatorNode( a, b, op ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\tthis.op = op;\r\n\r\n}\r\n\r\nOperatorNode.ADD = '+';\r\nOperatorNode.SUB = '-';\r\nOperatorNode.MUL = '*';\r\nOperatorNode.DIV = '/';\r\n\r\nOperatorNode.prototype = Object.create( TempNode.prototype );\r\nOperatorNode.prototype.constructor = OperatorNode;\r\nOperatorNode.prototype.nodeType = \"Operator\";\r\n\r\nOperatorNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar a = this.a.getType( builder ),\r\n\t\tb = this.b.getType( builder );\r\n\r\n\tif ( builder.isTypeMatrix( a ) ) {\r\n\r\n\t\treturn 'v4';\r\n\r\n\t} else if ( builder.getTypeLength( b ) > builder.getTypeLength( a ) ) {\r\n\r\n\t\t// use the greater length vector\r\n\r\n\t\treturn b;\r\n\r\n\t}\r\n\r\n\treturn a;\r\n\r\n};\r\n\r\nOperatorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder );\r\n\r\n\tvar a = this.a.build( builder, type ),\r\n\t\tb = this.b.build( builder, type );\r\n\r\n\treturn builder.format( '( ' + a + ' ' + this.op + ' ' + b + ' )', type, output );\r\n\r\n};\r\n\r\nOperatorNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.op = source.op;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nOperatorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\t\tdata.op = this.op;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { OperatorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/OperatorNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction PositionNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || PositionNode.LOCAL;\r\n\r\n}\r\n\r\nPositionNode.LOCAL = 'local';\r\nPositionNode.WORLD = 'world';\r\nPositionNode.VIEW = 'view';\r\nPositionNode.PROJECTION = 'projection';\r\n\r\nPositionNode.prototype = Object.create( TempNode.prototype );\r\nPositionNode.prototype.constructor = PositionNode;\r\nPositionNode.prototype.nodeType = \"Position\";\r\n\r\nPositionNode.prototype.getType = function ( ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\treturn 'v4';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nPositionNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nPositionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'transformed';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.position = true;\r\n\r\n\t\t\t\tresult = 'vPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\treturn '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldPosition = true;\r\n\r\n\t\t\t\tresult = 'vWPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.VIEW:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '-mvPosition.xyz' : 'vViewPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nPositionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPositionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'position', function () {\r\n\r\n\treturn new PositionNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.WORLD );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'viewPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.VIEW );\r\n\r\n} );\r\n\r\nexport { PositionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/PositionNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction InputNode( type, params ) {\r\n\r\n\tparams = params || {};\r\n\tparams.shared = params.shared !== undefined ? params.shared : false;\r\n\r\n\tTempNode.call( this, type, params );\r\n\r\n\tthis.readonly = false;\r\n\r\n}\r\n\r\nInputNode.prototype = Object.create( TempNode.prototype );\r\nInputNode.prototype.constructor = InputNode;\r\n\r\nInputNode.prototype.setReadonly = function ( value ) {\r\n\r\n\tthis.readonly = value;\r\n\r\n\tthis.hashProperties = this.readonly ? [ \"value\" ] : undefined;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.getReadonly = function ( /* builder */ ) {\r\n\r\n\treturn this.readonly;\r\n\r\n};\r\n\r\nInputNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.readonly !== undefined ) this.readonly = source.readonly;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.createJSONNode = function ( meta ) {\r\n\r\n\tvar data = TempNode.prototype.createJSONNode.call( this, meta );\r\n\r\n\tif ( this.readonly === true ) data.readonly = this.readonly;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nInputNode.prototype.generate = function ( builder, output, uuid, type, ns, needsUpdate ) {\r\n\r\n\tuuid = builder.getUuid( uuid || this.getUuid() );\r\n\ttype = type || this.getType( builder );\r\n\r\n\tvar data = builder.getNodeData( uuid ),\r\n\t\treadonly = this.getReadonly( builder ) && this.generateReadonly !== undefined;\r\n\r\n\tif ( readonly ) {\r\n\r\n\t\treturn this.generateReadonly( builder, output, uuid, type, ns, needsUpdate );\r\n\r\n\t} else {\r\n\r\n\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\tif ( ! data.vertex ) {\r\n\r\n\t\t\t\tdata.vertex = builder.createVertexUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.vertex.name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( ! data.fragment ) {\r\n\r\n\t\t\t\tdata.fragment = builder.createFragmentUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.fragment.name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { InputNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/InputNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction MathNode( a, bOrMethod, cOrMethod, method ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\ttypeof bOrMethod !== 'string' ? this.b = bOrMethod : method = bOrMethod;\r\n\ttypeof cOrMethod !== 'string' ? this.c = cOrMethod : method = cOrMethod;\r\n\r\n\tthis.method = method;\r\n\r\n}\r\n\r\n// 1 input\r\n\r\nMathNode.RAD = 'radians';\r\nMathNode.DEG = 'degrees';\r\nMathNode.EXP = 'exp';\r\nMathNode.EXP2 = 'exp2';\r\nMathNode.LOG = 'log';\r\nMathNode.LOG2 = 'log2';\r\nMathNode.SQRT = 'sqrt';\r\nMathNode.INV_SQRT = 'inversesqrt';\r\nMathNode.FLOOR = 'floor';\r\nMathNode.CEIL = 'ceil';\r\nMathNode.NORMALIZE = 'normalize';\r\nMathNode.FRACT = 'fract';\r\nMathNode.SATURATE = 'saturate';\r\nMathNode.SIN = 'sin';\r\nMathNode.COS = 'cos';\r\nMathNode.TAN = 'tan';\r\nMathNode.ASIN = 'asin';\r\nMathNode.ACOS = 'acos';\r\nMathNode.ARCTAN = 'atan';\r\nMathNode.ABS = 'abs';\r\nMathNode.SIGN = 'sign';\r\nMathNode.LENGTH = 'length';\r\nMathNode.NEGATE = 'negate';\r\nMathNode.INVERT = 'invert';\r\n\r\n// 2 inputs\r\n\r\nMathNode.MIN = 'min';\r\nMathNode.MAX = 'max';\r\nMathNode.MOD = 'mod';\r\nMathNode.STEP = 'step';\r\nMathNode.REFLECT = 'reflect';\r\nMathNode.DISTANCE = 'distance';\r\nMathNode.DOT = 'dot';\r\nMathNode.CROSS = 'cross';\r\nMathNode.POW = 'pow';\r\n\r\n// 3 inputs\r\n\r\nMathNode.MIX = 'mix';\r\nMathNode.CLAMP = 'clamp';\r\nMathNode.REFRACT = 'refract';\r\nMathNode.SMOOTHSTEP = 'smoothstep';\r\nMathNode.FACEFORWARD = 'faceforward';\r\n\r\nMathNode.prototype = Object.create( TempNode.prototype );\r\nMathNode.prototype.constructor = MathNode;\r\nMathNode.prototype.nodeType = \"Math\";\r\nMathNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nMathNode.prototype.getNumInputs = function ( /*builder*/ ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.MIX:\r\n\t\tcase MathNode.CLAMP:\r\n\t\tcase MathNode.REFRACT:\r\n\t\tcase MathNode.SMOOTHSTEP:\r\n\t\tcase MathNode.FACEFORWARD:\r\n\r\n\t\t\treturn 3;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\t\tcase MathNode.STEP:\r\n\t\tcase MathNode.REFLECT:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\t\tcase MathNode.CROSS:\r\n\t\tcase MathNode.POW:\r\n\r\n\t\t\treturn 2;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\treturn 1;\r\n\r\n\t}\r\n\r\n};\r\n\r\nMathNode.prototype.getInputType = function ( builder ) {\r\n\r\n\tvar a = builder.getTypeLength( this.a.getType( builder ) );\r\n\tvar b = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0;\r\n\tvar c = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0;\r\n\r\n\tif ( a > b && a > c ) {\r\n\r\n\t\treturn this.a.getType( builder );\r\n\r\n\t} else if ( b > c ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.c.getType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.getType = function ( builder ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.LENGTH:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\treturn 'v3';\r\n\r\n\t}\r\n\r\n\treturn this.getInputType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar a, b, c,\r\n\t\tal = this.a ? builder.getTypeLength( this.a.getType( builder ) ) : 0,\r\n\t\tbl = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0,\r\n\t\tcl = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0,\r\n\t\tinputType = this.getInputType( builder ),\r\n\t\tnodeType = this.getType( builder );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\t// 1 input\r\n\r\n\t\tcase MathNode.NEGATE:\r\n\r\n\t\t\treturn builder.format( '( -' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\tcase MathNode.INVERT:\r\n\r\n\t\t\treturn builder.format( '( 1.0 - ' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\t\t// 2 inputs\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\ta = this.a.build( builder, 'v3' );\r\n\t\t\tb = this.b.build( builder, 'v3' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.STEP:\r\n\r\n\t\t\ta = this.a.build( builder, al === 1 ? 'f' : inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, bl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// 3 inputs\r\n\r\n\t\tcase MathNode.REFRACT:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, 'f' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIX:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, cl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// default\r\n\r\n\t\tdefault:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tif ( this.b ) b = this.b.build( builder, inputType );\r\n\t\t\tif ( this.c ) c = this.c.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\t// build function call\r\n\r\n\tvar params = [];\r\n\tparams.push( a );\r\n\tif ( b ) params.push( b );\r\n\tif ( c ) params.push( c );\r\n\r\n\tvar numInputs = this.getNumInputs( builder );\r\n\r\n\tif ( params.length !== numInputs ) {\r\n\r\n\t\tthrow Error( `Arguments not match used in \"${this.method}\". Require ${numInputs}, currently ${params.length}.` );\r\n\r\n\t}\r\n\r\n\treturn builder.format( this.method + '( ' + params.join( ', ' ) + ' )', nodeType, output );\r\n\r\n};\r\n\r\nMathNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.c = source.c;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMathNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tif ( this.b ) data.b = this.b.toJSON( meta ).uuid;\r\n\t\tif ( this.c ) data.c = this.c.toJSON( meta ).uuid;\r\n\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MathNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/MathNode.js","import {\r\n\tFrontSide,\r\n\tLessEqualDepth,\r\n\tNoColors,\r\n\tNormalBlending,\r\n\tShaderMaterial\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { ColorNode } from '../inputs/ColorNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { RawNode } from './nodes/RawNode.js';\r\n\r\nfunction NodeMaterial( vertex, fragment ) {\r\n\r\n\tShaderMaterial.call( this );\r\n\r\n\tthis.vertex = vertex || new RawNode( new PositionNode( PositionNode.PROJECTION ) );\r\n\tthis.fragment = fragment || new RawNode( new ColorNode( 0xFF0000 ) );\r\n\r\n\tthis.updaters = [];\r\n\r\n}\r\n\r\nNodeMaterial.prototype = Object.create( ShaderMaterial.prototype );\r\nNodeMaterial.prototype.constructor = NodeMaterial;\r\nNodeMaterial.prototype.type = \"NodeMaterial\";\r\n\r\nNodeMaterial.prototype.isNodeMaterial = true;\r\n\r\nObject.defineProperties( NodeMaterial.prototype, {\r\n\r\n\tproperties: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.fragment.properties;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tneedsUpdate: {\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tif ( value === true ) this.version ++;\r\n\t\t\tthis.needsCompile = value;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.needsCompile;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nNodeMaterial.prototype.onBeforeCompile = function ( shader, renderer ) {\r\n\r\n\tthis.build( { renderer: renderer } );\r\n\r\n\tshader.defines = this.defines;\r\n\tshader.uniforms = this.uniforms;\r\n\tshader.vertexShader = this.vertexShader;\r\n\tshader.fragmentShader = this.fragmentShader;\r\n\r\n\tshader.extensionDerivatives = ( this.extensions.derivatives === true );\r\n\tshader.extensionFragDepth = ( this.extensions.fragDepth === true );\r\n\tshader.extensionDrawBuffers = ( this.extensions.drawBuffers === true );\r\n\tshader.extensionShaderTextureLOD = ( this.extensions.shaderTextureLOD === true );\r\n\r\n};\r\n\r\nNodeMaterial.prototype.customProgramCacheKey = function () {\r\n\r\n\tvar hash = this.getHash();\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.getHash = function () {\r\n\r\n\tvar hash = '{';\r\n\r\n\thash += '\"vertex\":' + this.vertex.getHash() + ',';\r\n\thash += '\"fragment\":' + this.fragment.getHash();\r\n\r\n\thash += '}';\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.updateFrame = function ( frame ) {\r\n\r\n\tfor ( var i = 0; i < this.updaters.length; ++ i ) {\r\n\r\n\t\tframe.updateNode( this.updaters[ i ] );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNodeMaterial.prototype.build = function ( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tvar builder = params.builder || new NodeBuilder();\r\n\r\n\tbuilder.setMaterial( this, params.renderer );\r\n\tbuilder.build( this.vertex, this.fragment );\r\n\r\n\tthis.vertexShader = builder.getCode( 'vertex' );\r\n\tthis.fragmentShader = builder.getCode( 'fragment' );\r\n\r\n\tthis.defines = builder.defines;\r\n\tthis.uniforms = builder.uniforms;\r\n\tthis.extensions = builder.extensions;\r\n\tthis.updaters = builder.updaters;\r\n\r\n\tthis.fog = builder.requires.fog;\r\n\tthis.lights = builder.requires.lights;\r\n\r\n\tthis.transparent = builder.requires.transparent || this.blending > NormalBlending;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.copy = function ( source ) {\r\n\r\n\tvar uuid = this.uuid;\r\n\r\n\tfor ( var name in source ) {\r\n\r\n\t\tthis[ name ] = source[ name ];\r\n\r\n\t}\r\n\r\n\tthis.uuid = uuid;\r\n\r\n\tif ( source.userData !== undefined ) {\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\tif ( isRootObject ) {\r\n\r\n\t\tmeta = {\r\n\t\t\tnodes: {}\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tif ( meta && ! meta.materials ) meta.materials = {};\r\n\r\n\tif ( ! meta.materials[ this.uuid ] ) {\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\r\n\t\tmeta.materials[ data.uuid ] = data;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( this.size !== undefined ) data.size = this.size;\r\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\r\n\r\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\r\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\r\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\r\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\r\n\r\n\t\tif ( this.depthFunc !== LessEqualDepth ) data.depthFunc = this.depthFunc;\r\n\t\tif ( this.depthTest === false ) data.depthTest = this.depthTest;\r\n\t\tif ( this.depthWrite === false ) data.depthWrite = this.depthWrite;\r\n\r\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\r\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\r\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\r\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\r\n\r\n\t\tif ( this.dithering === true ) data.dithering = true;\r\n\r\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\r\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\r\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\r\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\r\n\r\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\r\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\r\n\r\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\r\n\t\tif ( this.skinning === true ) data.skinning = true;\r\n\r\n\t\tif ( this.visible === false ) data.visible = false;\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tdata.fog = this.fog;\r\n\t\tdata.lights = this.lights;\r\n\r\n\t\tdata.vertex = this.vertex.toJSON( meta ).uuid;\r\n\t\tdata.fragment = this.fragment.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\tmeta.material = this.uuid;\r\n\r\n\treturn meta;\r\n\r\n};\r\n\r\nexport { NodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/NodeMaterial.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^struct\\s*([a-z_0-9]+)\\s*{\\s*((.|\\n)*?)}/img,\r\n\tpropertiesRegexp = /\\s*(\\w*?)\\s*(\\w*?)(\\=|\\;)/img;\r\n\r\nfunction StructNode( src ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src );\r\n\r\n}\r\n\r\nStructNode.prototype = Object.create( TempNode.prototype );\r\nStructNode.prototype.constructor = StructNode;\r\nStructNode.prototype.nodeType = \"Struct\";\r\n\r\nStructNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.name );\r\n\r\n};\r\n\r\nStructNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn this.src + ';';\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + this.src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.parse = function ( src ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.inputs = [];\r\n\r\n\tvar declaration = declarationRegexp.exec( this.src );\r\n\r\n\tif ( declaration ) {\r\n\r\n\t\tvar properties = declaration[ 2 ], match;\r\n\r\n\t\twhile ( match = propertiesRegexp.exec( properties ) ) {\r\n\r\n\t\t\tthis.inputs.push( {\r\n\t\t\t\ttype: match[ 1 ],\r\n\t\t\t\tname: match[ 2 ]\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = declaration[ 1 ];\r\n\r\n\t} else {\r\n\r\n\t\tthis.name = '';\r\n\r\n\t}\r\n\r\n\tthis.type = this.name;\r\n\r\n};\r\n\r\nStructNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StructNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/StructNode.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = nErl\n// module chunks = 0","import { FunctionNode } from './FunctionNode.js';\r\n\r\nfunction ExpressionNode( src, type, keywords, extensions, includes ) {\r\n\r\n\tFunctionNode.call( this, src, includes, extensions, keywords, type );\r\n\r\n}\r\n\r\nExpressionNode.prototype = Object.create( FunctionNode.prototype );\r\nExpressionNode.prototype.constructor = ExpressionNode;\r\nExpressionNode.prototype.nodeType = \"Expression\";\r\n\r\nexport { ExpressionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ExpressionNode.js","import { Node } from './Node.js';\r\n\r\nfunction VarNode( type, value ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nVarNode.prototype = Object.create( Node.prototype );\r\nVarNode.prototype.constructor = VarNode;\r\nVarNode.prototype.nodeType = \"Var\";\r\n\r\nVarNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nVarNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar varying = builder.getVar( this.uuid, this.type );\r\n\r\n\tif ( this.value && builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tbuilder.addNodeCode( varying.name + ' = ' + this.value.build( builder, this.getType( builder ) ) + ';' );\r\n\r\n\t}\r\n\r\n\treturn builder.format( varying.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nVarNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVarNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VarNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/VarNode.js","import { Node } from './Node.js';\r\n\r\nfunction AttributeNode( name, type ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.name = name;\r\n\r\n}\r\n\r\nAttributeNode.prototype = Object.create( Node.prototype );\r\nAttributeNode.prototype.constructor = AttributeNode;\r\nAttributeNode.prototype.nodeType = \"Attribute\";\r\n\r\nAttributeNode.prototype.getAttributeType = function ( builder ) {\r\n\r\n\treturn typeof this.type === 'number' ? builder.getConstructorFromLength( this.type ) : this.type;\r\n\r\n};\r\n\r\nAttributeNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\treturn builder.getTypeByFormat( type );\r\n\r\n};\r\n\r\nAttributeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\tvar attribute = builder.getAttribute( this.name, type ),\r\n\t\tname = builder.isShader( 'vertex' ) ? this.name : attribute.varying.name;\r\n\r\n\treturn builder.format( name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nAttributeNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nAttributeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { AttributeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/AttributeNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction BoolNode( value ) {\r\n\r\n\tInputNode.call( this, 'b' );\r\n\r\n\tthis.value = Boolean( value );\r\n\r\n}\r\n\r\nBoolNode.prototype = Object.create( InputNode.prototype );\r\nBoolNode.prototype.constructor = BoolNode;\r\nBoolNode.prototype.nodeType = \"Bool\";\r\n\r\nBoolNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nBoolNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBoolNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BoolNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/BoolNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction IntNode( value ) {\r\n\r\n\tInputNode.call( this, 'i' );\r\n\r\n\tthis.value = Math.floor( value || 0 );\r\n\r\n}\r\n\r\nIntNode.prototype = Object.create( InputNode.prototype );\r\nIntNode.prototype.constructor = IntNode;\r\nIntNode.prototype.nodeType = \"Int\";\r\n\r\nIntNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nIntNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nIntNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { IntNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/IntNode.js","import { Matrix3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix3Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm3' );\r\n\r\n\tthis.value = matrix || new Matrix3();\r\n\r\n}\r\n\r\nMatrix3Node.prototype = Object.create( InputNode.prototype );\r\nMatrix3Node.prototype.constructor = Matrix3Node;\r\nMatrix3Node.prototype.nodeType = \"Matrix3\";\r\n\r\nObject.defineProperties( Matrix3Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat3( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\n\r\nMatrix3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix3Node.js","import { Matrix4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix4Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm4' );\r\n\r\n\tthis.value = matrix || new Matrix4();\r\n\r\n}\r\n\r\nMatrix4Node.prototype = Object.create( InputNode.prototype );\r\nMatrix4Node.prototype.constructor = Matrix4Node;\r\nMatrix4Node.prototype.nodeType = \"Matrix4\";\r\n\r\nObject.defineProperties( Matrix4Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix4Node.prototype.generateReadonly = function ( builder, output, uuid, type /*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat4( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\nMatrix4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix4Node.js","import { InputNode } from '../core/InputNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction ScreenNode( uv ) {\r\n\r\n\tTextureNode.call( this, undefined, uv );\r\n\r\n}\r\n\r\nScreenNode.prototype = Object.create( TextureNode.prototype );\r\nScreenNode.prototype.constructor = ScreenNode;\r\nScreenNode.prototype.nodeType = \"Screen\";\r\n\r\nScreenNode.prototype.getUnique = function () {\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nScreenNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.getUuid(), 't', 'renderTexture' );\r\n\r\n};\r\n\r\nexport { ScreenNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ScreenNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\nimport { Matrix4Node } from './Matrix4Node.js';\r\n\r\nfunction ReflectorNode( mirror ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tif ( mirror ) this.setMirror( mirror );\r\n\r\n}\r\n\r\nReflectorNode.prototype = Object.create( TempNode.prototype );\r\nReflectorNode.prototype.constructor = ReflectorNode;\r\nReflectorNode.prototype.nodeType = \"Reflector\";\r\n\r\nReflectorNode.prototype.setMirror = function ( mirror ) {\r\n\r\n\tthis.mirror = mirror;\r\n\r\n\tthis.textureMatrix = new Matrix4Node( this.mirror.material.uniforms.textureMatrix.value );\r\n\r\n\tthis.localPosition = new PositionNode( PositionNode.LOCAL );\r\n\r\n\tthis.uv = new OperatorNode( this.textureMatrix, this.localPosition, OperatorNode.MUL );\r\n\tthis.uvResult = new OperatorNode( null, this.uv, OperatorNode.ADD );\r\n\r\n\tthis.texture = new TextureNode( this.mirror.material.uniforms.tDiffuse.value, this.uv, null, true );\r\n\r\n};\r\n\r\nReflectorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.uvResult.a = this.offset;\r\n\t\tthis.texture.uv = this.offset ? this.uvResult : this.uv;\r\n\r\n\t\tif ( output === 'sampler2D' ) {\r\n\r\n\t\t\treturn this.texture.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( this.texture.build( builder, this.type ), this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectorNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.mirror = source.mirror;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nReflectorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.mirror = this.mirror.uuid;\r\n\r\n\t\tif ( this.offset ) data.offset = this.offset.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ReflectorNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction PropertyNode( object, property, type ) {\r\n\r\n\tInputNode.call( this, type );\r\n\r\n\tthis.object = object;\r\n\tthis.property = property;\r\n\r\n}\r\n\r\nPropertyNode.prototype = Object.create( InputNode.prototype );\r\nPropertyNode.prototype.constructor = PropertyNode;\r\nPropertyNode.prototype.nodeType = \"Property\";\r\n\r\nObject.defineProperties( PropertyNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.object[ this.property ] = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nPropertyNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\t\tdata.property = this.property;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PropertyNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/PropertyNode.js","import {\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tScene,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction RTTNode( width, height, input, options ) {\r\n\r\n\toptions = options || {};\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.clear = options.clear !== undefined ? options.clear : true;\r\n\r\n\tthis.renderTarget = new WebGLRenderTarget( width, height, options );\r\n\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.render = true;\r\n\r\n\tTextureNode.call( this, this.renderTarget.texture );\r\n\r\n}\r\n\r\nRTTNode.prototype = Object.create( TextureNode.prototype );\r\nRTTNode.prototype.constructor = RTTNode;\r\nRTTNode.prototype.nodeType = \"RTT\";\r\n\r\nRTTNode.prototype.build = function ( builder, output, uuid ) {\r\n\r\n\tvar rttBuilder = new NodeBuilder();\r\n\trttBuilder.nodes = builder.nodes;\r\n\trttBuilder.updaters = builder.updaters;\r\n\r\n\tthis.material.fragment.value = this.input;\r\n\tthis.material.build( { builder: rttBuilder } );\r\n\r\n\treturn TextureNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFramesaveTo = function ( frame ) {\r\n\r\n\tthis.saveTo.render = false;\r\n\r\n\tif ( this.saveTo !== this.saveToCurrent ) {\r\n\r\n\t\tif ( this.saveToMaterial ) this.saveToMaterial.dispose();\r\n\r\n\t\tvar material = new NodeMaterial();\r\n\t\tmaterial.fragment.value = this;\r\n\t\tmaterial.build();\r\n\r\n\t\tvar scene = new Scene();\r\n\r\n\t\tvar quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), material );\r\n\t\tquad.frustumCulled = false; // Avoid getting clipped\r\n\t\tscene.add( quad );\r\n\r\n\t\tthis.saveToScene = scene;\r\n\t\tthis.saveToMaterial = material;\r\n\r\n\t}\r\n\r\n\tthis.saveToCurrent = this.saveTo;\r\n\r\n\tframe.renderer.setRenderTarget( this.saveTo.renderTarget );\r\n\tif ( this.saveTo.clear ) frame.renderer.clear();\r\n\tframe.renderer.render( this.saveToScene, this.camera );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\t// from the second frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === false ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.render ) {\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = frame.renderTexture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tframe.renderer.setRenderTarget( this.renderTarget );\r\n\t\t\tif ( this.clear ) frame.renderer.clear();\r\n\t\t\tframe.renderer.render( this.scene, this.camera );\r\n\r\n\t\t}\r\n\r\n\t\t// first frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === true ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"RTTNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nRTTNode.prototype.copy = function ( source ) {\r\n\r\n\tTextureNode.prototype.copy.call( this, source );\r\n\r\n\tthis.saveTo = source.saveTo;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRTTNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = TextureNode.prototype.toJSON.call( this, meta );\r\n\r\n\t\tif ( this.saveTo ) data.saveTo = this.saveTo.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RTTNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/RTTNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nvar vertexDict = [ 'color', 'color2' ],\r\n\tfragmentDict = [ 'vColor', 'vColor2' ];\r\n\r\nfunction ColorsNode( index ) {\r\n\r\n\tTempNode.call( this, 'v4', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nColorsNode.prototype = Object.create( TempNode.prototype );\r\nColorsNode.prototype.constructor = ColorsNode;\r\nColorsNode.prototype.nodeType = \"Colors\";\r\n\r\nColorsNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.color[ this.index ] = true;\r\n\r\n\tvar result = builder.isShader( 'vertex' ) ? vertexDict[ this.index ] : fragmentDict[ this.index ];\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorsNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorsNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorsNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ColorsNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction CameraNode( scope, camera ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.setScope( scope || CameraNode.POSITION );\r\n\tthis.setCamera( camera );\r\n\r\n}\r\n\r\nCameraNode.Nodes = ( function () {\r\n\r\n\tvar depthColor = new FunctionNode( [\r\n\t\t\"float depthColor( float mNear, float mFar ) {\",\r\n\r\n\t\t\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#else\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#endif\",\r\n\r\n\t\t\"\treturn 1.0 - smoothstep( mNear, mFar, depth );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tdepthColor: depthColor\r\n\t};\r\n\r\n} )();\r\n\r\nCameraNode.POSITION = 'position';\r\nCameraNode.DEPTH = 'depth';\r\nCameraNode.TO_VERTEX = 'toVertex';\r\n\r\nCameraNode.prototype = Object.create( TempNode.prototype );\r\nCameraNode.prototype.constructor = CameraNode;\r\nCameraNode.prototype.nodeType = \"Camera\";\r\n\r\nCameraNode.prototype.setCamera = function ( camera ) {\r\n\r\n\tthis.camera = camera;\r\n\tthis.updateFrame = camera !== undefined ? this.onUpdateFrame : undefined;\r\n\r\n};\r\n\r\nCameraNode.prototype.setScope = function ( scope ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tdelete this.near;\r\n\t\t\tdelete this.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.scope = scope;\r\n\r\n\tswitch ( scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near = new FloatNode( camera ? camera.near : 1 );\r\n\t\t\tthis.far = new FloatNode( camera ? camera.far : 1200 );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nCameraNode.prototype.getUnique = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\treturn true;\r\n\r\n\t}\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nCameraNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nCameraNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\tresult = 'cameraPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar depthColor = builder.include( CameraNode.Nodes.depthColor );\r\n\r\n\t\t\tresult = depthColor + '( ' + this.near.build( builder, 'f' ) + ', ' + this.far.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\tresult = 'normalize( ' + new PositionNode( PositionNode.WORLD ).build( builder, 'v3' ) + ' - cameraPosition )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCameraNode.prototype.onUpdateFrame = function ( /* frame */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near.value = camera.near;\r\n\t\t\tthis.far.value = camera.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.setScope( source.scope );\r\n\r\n\tif ( source.camera ) {\r\n\r\n\t\tthis.setCamera( source.camera );\r\n\r\n\t}\r\n\r\n\tswitch ( source.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tthis.near.number = source.near;\r\n\t\t\tthis.far.number = source.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCameraNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t\tif ( this.camera ) data.camera = this.camera.uuid;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\t\tdata.near = this.near.value;\r\n\t\t\t\tdata.far = this.far.value;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CameraNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/CameraNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction LightNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3', { shared: false } );\r\n\r\n\tthis.scope = scope || LightNode.TOTAL;\r\n\r\n}\r\n\r\nLightNode.TOTAL = 'total';\r\n\r\nLightNode.prototype = Object.create( TempNode.prototype );\r\nLightNode.prototype.constructor = LightNode;\r\nLightNode.prototype.nodeType = \"Light\";\r\n\r\nLightNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isCache( 'light' ) ) {\r\n\r\n\t\treturn builder.format( 'reflectedLight.directDiffuse', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.LightNode is only compatible in \\\"light\\\" channel.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nLightNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLightNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LightNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/LightNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\n\r\nfunction ResolutionNode() {\r\n\r\n\tVector2Node.call( this );\r\n\r\n\tthis.size = new Vector2();\r\n\r\n}\r\n\r\nResolutionNode.prototype = Object.create( Vector2Node.prototype );\r\nResolutionNode.prototype.constructor = ResolutionNode;\r\nResolutionNode.prototype.nodeType = \"Resolution\";\r\n\r\nResolutionNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\tframe.renderer.getSize( this.size );\r\n\r\n\t\tvar pixelRatio = frame.renderer.getPixelRatio();\r\n\r\n\t\tthis.x = this.size.width * pixelRatio;\r\n\t\tthis.y = this.size.height * pixelRatio;\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"ResolutionNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nResolutionNode.prototype.copy = function ( source ) {\r\n\r\n\tVector2Node.prototype.copy.call( this, source );\r\n\r\n\tthis.renderer = source.renderer;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nResolutionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.renderer = this.renderer.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ResolutionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ResolutionNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ResolutionNode } from './ResolutionNode.js';\r\n\r\nfunction ScreenUVNode( resolution ) {\r\n\r\n\tTempNode.call( this, 'v2' );\r\n\r\n\tthis.resolution = resolution || new ResolutionNode();\r\n\r\n}\r\n\r\nScreenUVNode.prototype = Object.create( TempNode.prototype );\r\nScreenUVNode.prototype.constructor = ScreenUVNode;\r\nScreenUVNode.prototype.nodeType = \"ScreenUV\";\r\n\r\nScreenUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tresult = '( gl_FragCoord.xy / ' + this.resolution.build( builder, 'v2' ) + ')';\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ScreenUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\tresult = 'vec2( 0.0 )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nScreenUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.resolution = source.resolution;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nScreenUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.resolution = this.resolution.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ScreenUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ScreenUVNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction CondNode( a, b, op, ifNode, elseNode ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\r\n\tthis.op = op;\r\n\r\n\tthis.ifNode = ifNode;\r\n\tthis.elseNode = elseNode;\r\n\r\n}\r\n\r\nCondNode.EQUAL = '==';\r\nCondNode.NOT_EQUAL = '!=';\r\nCondNode.GREATER = '>';\r\nCondNode.GREATER_EQUAL = '>=';\r\nCondNode.LESS = '<';\r\nCondNode.LESS_EQUAL = '<=';\r\nCondNode.AND = '&&';\r\nCondNode.OR = '||';\r\n\r\nCondNode.prototype = Object.create( TempNode.prototype );\r\nCondNode.prototype.constructor = CondNode;\r\nCondNode.prototype.nodeType = \"Cond\";\r\n\r\nCondNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifType = this.ifNode.getType( builder );\r\n\t\tvar elseType = this.elseNode.getType( builder );\r\n\r\n\t\tif ( builder.getTypeLength( elseType ) > builder.getTypeLength( ifType ) ) {\r\n\r\n\t\t\treturn elseType;\r\n\r\n\t\t}\r\n\r\n\t\treturn ifType;\r\n\r\n\t}\r\n\r\n\treturn 'b';\r\n\r\n};\r\n\r\nCondNode.prototype.getCondType = function ( builder ) {\r\n\r\n\tif ( builder.getTypeLength( this.b.getType( builder ) ) > builder.getTypeLength( this.a.getType( builder ) ) ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.a.getType( builder );\r\n\r\n};\r\n\r\nCondNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tcondType = this.getCondType( builder ),\r\n\t\ta = this.a.build( builder, condType ),\r\n\t\tb = this.b.build( builder, condType ),\r\n\t\tcode;\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifCode = this.ifNode.build( builder, type ),\r\n\t\t\telseCode = this.elseNode.build( builder, type );\r\n\r\n\t\tcode = '( ' + [ a, this.op, b, '?', ifCode, ':', elseCode ].join( ' ' ) + ' )';\r\n\r\n\t} else {\r\n\r\n\t\tcode = '( ' + a + ' ' + this.op + ' ' + b + ' )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCondNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\r\n\tthis.op = source.op;\r\n\r\n\tthis.ifNode = source.ifNode;\r\n\tthis.elseNode = source.elseNode;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCondNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\r\n\t\tdata.op = this.op;\r\n\r\n\t\tif ( data.ifNode ) data.ifNode = this.ifNode.toJSON( meta ).uuid;\r\n\t\tif ( data.elseNode ) data.elseNode = this.elseNode.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CondNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/CondNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction NoiseNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nNoiseNode.prototype = Object.create( TempNode.prototype );\r\nNoiseNode.prototype.constructor = NoiseNode;\r\nNoiseNode.prototype.nodeType = \"Noise\";\r\n\r\nNoiseNode.Nodes = ( function () {\r\n\r\n\tvar snoise = new FunctionNode( [\r\n\t\t\"float snoise(vec2 co) {\",\r\n\r\n\t\t\"\treturn fract( sin( dot( co.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tsnoise: snoise\r\n\t};\r\n\r\n} )();\r\n\r\nNoiseNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( NoiseNode.Nodes.snoise );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nNoiseNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNoiseNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NoiseNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/NoiseNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction CheckerNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nCheckerNode.prototype = Object.create( TempNode.prototype );\r\nCheckerNode.prototype.constructor = CheckerNode;\r\nCheckerNode.prototype.nodeType = \"Noise\";\r\n\r\nCheckerNode.Nodes = ( function () {\r\n\r\n\t// https://github.com/mattdesl/glsl-checker/blob/master/index.glsl\r\n\r\n\tvar checker = new FunctionNode( [\r\n\t\t\"float checker( vec2 uv ) {\",\r\n\r\n\t\t\"\tfloat cx = floor( uv.x );\",\r\n\t\t\"\tfloat cy = floor( uv.y ); \",\r\n\t\t\"\tfloat result = mod( cx + cy, 2.0 );\",\r\n\r\n\t\t\"\treturn sign( result );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tchecker: checker\r\n\t};\r\n\r\n} )();\r\n\r\nCheckerNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( CheckerNode.Nodes.checker );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nCheckerNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCheckerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CheckerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/CheckerNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction BumpMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new FloatNode( 1 );\r\n\r\n\tthis.toNormalMap = false;\r\n\r\n}\r\n\r\nBumpMapNode.Nodes = ( function () {\r\n\r\n\tvar dHdxy_fwd = new FunctionNode( [\r\n\r\n\t\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\r\n\t\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\r\n\r\n\t\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\r\n\r\n\t\t\"vec2 dHdxy_fwd( sampler2D bumpMap, vec2 vUv, float bumpScale ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( vUv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( vUv );\",\r\n\r\n\t\t\"\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\",\r\n\t\t\"\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec2( dBx, dBy );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\tvar perturbNormalArb = new FunctionNode( [\r\n\r\n\t\t\"vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vN = surf_norm;\", // normalized\r\n\r\n\t\t\"\tvec3 R1 = cross( vSigmaY, vN );\",\r\n\t\t\"\tvec3 R2 = cross( vN, vSigmaX );\",\r\n\r\n\t\t\"\tfloat fDet = dot( vSigmaX, R1 );\",\r\n\r\n\t\t\"\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\",\r\n\r\n\t\t\"\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\",\r\n\r\n\t\t\"\treturn normalize( abs( fDet ) * surf_norm - vGrad );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), [ dHdxy_fwd ], { derivatives: true } );\r\n\r\n\tvar bumpToNormal = new FunctionNode( [\r\n\t\t\"vec3 bumpToNormal( sampler2D bumpMap, vec2 uv, float scale ) {\",\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( uv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( uv );\",\r\n\r\n\t\t\"\tfloat Hll = texture2D( bumpMap, uv ).x;\",\r\n\t\t\"\tfloat dBx = texture2D( bumpMap, uv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = texture2D( bumpMap, uv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec3( .5 - ( dBx * scale ), .5 - ( dBy * scale ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tdHdxy_fwd: dHdxy_fwd,\r\n\t\tperturbNormalArb: perturbNormalArb,\r\n\t\tbumpToNormal: bumpToNormal\r\n\t};\r\n\r\n} )();\r\n\r\nBumpMapNode.prototype = Object.create( TempNode.prototype );\r\nBumpMapNode.prototype.constructor = BumpMapNode;\r\nBumpMapNode.prototype.nodeType = \"BumpMap\";\r\nBumpMapNode.prototype.hashProperties = [ \"toNormalMap\" ];\r\n\r\nBumpMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tif ( this.toNormalMap ) {\r\n\r\n\t\t\tvar bumpToNormal = builder.include( BumpMapNode.Nodes.bumpToNormal );\r\n\r\n\t\t\treturn builder.format( bumpToNormal + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )', this.getType( builder ), output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar derivativeHeight = builder.include( BumpMapNode.Nodes.dHdxy_fwd ),\r\n\t\t\t\tperturbNormalArb = builder.include( BumpMapNode.Nodes.perturbNormalArb );\r\n\r\n\t\t\tthis.normal = this.normal || new NormalNode();\r\n\t\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\r\n\t\t\tvar derivativeHeightCode = derivativeHeight + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\treturn builder.format( perturbNormalArb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tderivativeHeightCode + ' )', this.getType( builder ), output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BumpMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBumpMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBumpMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BumpMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/BumpMapNode.js","import {\r\n\tBackSide\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction NormalMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new Vector2Node( 1, 1 );\r\n\r\n}\r\n\r\nNormalMapNode.Nodes = ( function () {\r\n\r\n\tvar perturbNormal2Arb = new FunctionNode(\r\n\r\n\t\t// Per-Pixel Tangent Space Normal Mapping\r\n\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\r\n\r\n\t\t`vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 map, vec2 vUv, vec2 normalScale ) {\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\r\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\r\n\t\tvec2 st0 = dFdx( vUv.st );\r\n\t\tvec2 st1 = dFdy( vUv.st );\r\n\r\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\r\n\r\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\r\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\r\n\t\tvec3 N = normalize( surf_norm );\r\n\r\n\t\tvec3 mapN = map * 2.0 - 1.0;\r\n\r\n\t\tmapN.xy *= normalScale;\r\n\r\n\t\t#ifdef DOUBLE_SIDED\r\n\r\n\t\t\t// Workaround for Adreno GPUs gl_FrontFacing bug. See #15850 and #10331\r\n\r\n\t\t\tif ( dot( cross( S, T ), N ) < 0.0 ) mapN.xy *= - 1.0;\r\n\r\n\t\t#else\r\n\r\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\r\n\r\n\t\t#endif\r\n\r\n\t\tmat3 tsn = mat3( S, T, N );\r\n\t\treturn normalize( tsn * mapN );\r\n\r\n\t}`, null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tperturbNormal2Arb: perturbNormal2Arb\r\n\t};\r\n\r\n} )();\r\n\r\nNormalMapNode.prototype = Object.create( TempNode.prototype );\r\nNormalMapNode.prototype.constructor = NormalMapNode;\r\nNormalMapNode.prototype.nodeType = \"NormalMap\";\r\n\r\nNormalMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar perturbNormal2Arb = builder.include( NormalMapNode.Nodes.perturbNormal2Arb );\r\n\r\n\t\tthis.normal = this.normal || new NormalNode();\r\n\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\t\tthis.uv = this.uv || new UVNode();\r\n\r\n\t\tvar scale = this.scale.build( builder, 'v2' );\r\n\r\n\t\tif ( builder.material.side === BackSide ) {\r\n\r\n\t\t\tscale = '-' + scale;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( perturbNormal2Arb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.value.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\tscale + ' )', this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.NormalMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNormalMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NormalMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/NormalMapNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction BypassNode( code, value ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.code = code;\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nBypassNode.prototype = Object.create( Node.prototype );\r\nBypassNode.prototype.constructor = BypassNode;\r\nBypassNode.prototype.nodeType = \"Bypass\";\r\n\r\nBypassNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.value ) {\r\n\r\n\t\treturn this.value.getType( builder );\r\n\r\n\t} else if ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn 'void';\r\n\r\n};\r\n\r\nBypassNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar code = this.code.build( builder, output ) + ';';\r\n\r\n\tbuilder.addNodeCode( code );\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\treturn this.value.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\treturn this.value ? this.value.build( builder, output ) : builder.format( '0.0', 'f', output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBypassNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.code = source.code;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBypassNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.code = this.code.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BypassNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/BypassNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nvar inputs = NodeUtils.elements;\r\n\r\nfunction JoinNode( x, y, z, w ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.x = x;\r\n\tthis.y = y;\r\n\tthis.z = z;\r\n\tthis.w = w;\r\n\r\n}\r\n\r\nJoinNode.prototype = Object.create( TempNode.prototype );\r\nJoinNode.prototype.constructor = JoinNode;\r\nJoinNode.prototype.nodeType = \"Join\";\r\n\r\nJoinNode.prototype.getNumElements = function () {\r\n\r\n\tvar i = inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this[ inputs[ i ] ] !== undefined ) {\r\n\r\n\t\t\t++ i;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Math.max( i, 2 );\r\n\r\n};\r\n\r\nJoinNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.getNumElements() );\r\n\r\n};\r\n\r\nJoinNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tlength = this.getNumElements(),\r\n\t\toutputs = [];\r\n\r\n\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\toutputs.push( elm ? elm.build( builder, 'f' ) : '0.0' );\r\n\r\n\t}\r\n\r\n\tvar code = ( length > 1 ? builder.getConstructorFromLength( length ) : '' ) + '( ' + outputs.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nJoinNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nJoinNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.inputs = {};\r\n\r\n\t\tvar length = this.getNumElements();\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\t\tif ( elm ) {\r\n\r\n\t\t\t\tdata.inputs[ inputs[ i ] ] = elm.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { JoinNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/JoinNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction SwitchNode( node, components ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.node = node;\r\n\tthis.components = components || 'x';\r\n\r\n}\r\n\r\nSwitchNode.prototype = Object.create( Node.prototype );\r\nSwitchNode.prototype.constructor = SwitchNode;\r\nSwitchNode.prototype.nodeType = \"Switch\";\r\n\r\nSwitchNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.components.length );\r\n\r\n};\r\n\r\nSwitchNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.node.getType( builder ),\r\n\t\tnode = this.node.build( builder, type ),\r\n\t\tinputLength = builder.getTypeLength( type ) - 1;\r\n\r\n\tif ( inputLength > 0 ) {\r\n\r\n\t\t// get max length\r\n\r\n\t\tvar outputLength = 0,\r\n\t\t\tcomponents = builder.colorToVectorProperties( this.components );\r\n\r\n\t\tvar i, len = components.length;\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\toutputLength = Math.max( outputLength, builder.getIndexByElement( components.charAt( i ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( outputLength > inputLength ) outputLength = inputLength;\r\n\r\n\t\t// split\r\n\r\n\t\tnode += '.';\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\tvar idx = builder.getIndexByElement( components.charAt( i ) );\r\n\r\n\t\t\tif ( idx > outputLength ) idx = outputLength;\r\n\r\n\t\t\tnode += builder.getElementByIndex( idx );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( node, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\t// join\r\n\r\n\t\treturn builder.format( node, type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSwitchNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.node = source.node;\r\n\tthis.components = source.components;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSwitchNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.node = this.node.toJSON( meta ).uuid;\r\n\t\tdata.components = this.components;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SwitchNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SwitchNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction TimerNode( scale, scope, timeScale ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.scale = scale !== undefined ? scale : 1;\r\n\tthis.scope = scope || TimerNode.GLOBAL;\r\n\r\n\tthis.timeScale = timeScale !== undefined ? timeScale : scale !== undefined;\r\n\r\n}\r\n\r\nTimerNode.GLOBAL = 'global';\r\nTimerNode.LOCAL = 'local';\r\nTimerNode.DELTA = 'delta';\r\n\r\nTimerNode.prototype = Object.create( FloatNode.prototype );\r\nTimerNode.prototype.constructor = TimerNode;\r\nTimerNode.prototype.nodeType = \"Timer\";\r\n\r\nTimerNode.prototype.getReadonly = function () {\r\n\r\n\t// never use TimerNode as readonly but aways as \"uniform\"\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nTimerNode.prototype.getUnique = function () {\r\n\r\n\t// share TimerNode \"uniform\" input if is used on more time with others TimerNode\r\n\r\n\treturn this.timeScale && ( this.scope === TimerNode.GLOBAL || this.scope === TimerNode.DELTA );\r\n\r\n};\r\n\r\nTimerNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tvar scale = this.timeScale ? this.scale : 1;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase TimerNode.LOCAL:\r\n\r\n\t\t\tthis.value += frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase TimerNode.DELTA:\r\n\r\n\t\t\tthis.value = frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value = frame.time * scale;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTimerNode.prototype.copy = function ( source ) {\r\n\r\n\tFloatNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\tthis.scale = source.scale;\r\n\r\n\tthis.timeScale = source.timeScale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTimerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\t\tdata.scale = this.scale;\r\n\r\n\t\tdata.timeScale = this.timeScale;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'time', function () {\r\n\r\n\treturn new TimerNode();\r\n\r\n} );\r\n\r\nexport { TimerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/TimerNode.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\n\r\nfunction VelocityNode( target, params ) {\r\n\r\n\tVector3Node.call( this );\r\n\r\n\tthis.params = {};\r\n\r\n\tthis.velocity = new Vector3();\r\n\r\n\tthis.setTarget( target );\r\n\tthis.setParams( params );\r\n\r\n}\r\n\r\nVelocityNode.prototype = Object.create( Vector3Node.prototype );\r\nVelocityNode.prototype.constructor = VelocityNode;\r\nVelocityNode.prototype.nodeType = \"Velocity\";\r\n\r\nVelocityNode.prototype.getReadonly = function ( /*builder*/ ) {\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nVelocityNode.prototype.setParams = function ( params ) {\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tdelete this.moment;\r\n\r\n\t\t\tdelete this.speed;\r\n\t\t\tdelete this.springVelocity;\r\n\r\n\t\t\tdelete this.lastVelocity;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.params = params || {};\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tthis.moment = new Vector3();\r\n\r\n\t\t\tthis.speed = new Vector3();\r\n\t\t\tthis.springVelocity = new Vector3();\r\n\r\n\t\t\tthis.lastVelocity = new Vector3();\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.setTarget = function ( target ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tdelete this.position;\r\n\t\tdelete this.oldPosition;\r\n\r\n\t}\r\n\r\n\tthis.target = target;\r\n\r\n\tif ( target ) {\r\n\r\n\t\tthis.position = target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.oldPosition = this.position.clone();\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrameVelocity = function ( /*frame*/ ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tthis.position = this.target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.velocity.subVectors( this.position, this.oldPosition );\r\n\t\tthis.oldPosition.copy( this.position );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tthis.updateFrameVelocity( frame );\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\t// convert to real scale: 0 at 1 values\r\n\t\t\tvar deltaFps = frame.delta * ( this.params.fps || 60 );\r\n\r\n\t\t\tvar spring = Math.pow( this.params.spring, deltaFps ),\r\n\t\t\t\tdamping = Math.pow( this.params.damping, deltaFps );\r\n\r\n\t\t\t// fix relative frame-rate\r\n\t\t\tthis.velocity.multiplyScalar( Math.exp( - this.params.damping * deltaFps ) );\r\n\r\n\t\t\t// elastic\r\n\t\t\tthis.velocity.add( this.springVelocity );\r\n\t\t\tthis.velocity.add( this.speed.multiplyScalar( damping ).multiplyScalar( 1 - spring ) );\r\n\r\n\t\t\t// speed\r\n\t\t\tthis.speed.subVectors( this.velocity, this.lastVelocity );\r\n\r\n\t\t\t// spring velocity\r\n\t\t\tthis.springVelocity.add( this.speed );\r\n\t\t\tthis.springVelocity.multiplyScalar( spring );\r\n\r\n\t\t\t// moment\r\n\t\t\tthis.moment.add( this.springVelocity );\r\n\r\n\t\t\t// damping\r\n\t\t\tthis.moment.multiplyScalar( damping );\r\n\r\n\t\t\tthis.lastVelocity.copy( this.velocity );\r\n\t\t\tthis.value.copy( this.moment );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value.copy( this.velocity );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.copy = function ( source ) {\r\n\r\n\tVector3Node.prototype.copy.call( this, source );\r\n\r\n\tif ( source.target ) this.setTarget( source.target );\r\n\r\n\tthis.setParams( source.params );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVelocityNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.target ) data.target = this.target.uuid;\r\n\r\n\t\t// clone params\r\n\t\tdata.params = JSON.parse( JSON.stringify( this.params ) );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VelocityNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/VelocityNode.js","import { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { Matrix3Node } from '../inputs/Matrix3Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction UVTransformNode( uv, position ) {\r\n\r\n\tExpressionNode.call( this, \"( uvTransform * vec3( uvNode, 1 ) ).xy\", \"vec2\" );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.position = position || new Matrix3Node();\r\n\r\n}\r\n\r\nUVTransformNode.prototype = Object.create( ExpressionNode.prototype );\r\nUVTransformNode.prototype.constructor = UVTransformNode;\r\nUVTransformNode.prototype.nodeType = \"UVTransform\";\r\n\r\nUVTransformNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tthis.keywords[ \"uvNode\" ] = this.uv;\r\n\tthis.keywords[ \"uvTransform\" ] = this.position;\r\n\r\n\treturn ExpressionNode.prototype.generate.call( this, builder, output );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.setUvTransform = function ( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\tcx = cx !== undefined ? cx : .5;\r\n\tcy = cy !== undefined ? cy : .5;\r\n\r\n\tthis.position.value.setUvTransform( tx, ty, sx, sy, rotation, cx, cy );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.copy = function ( source ) {\r\n\r\n\tExpressionNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\tthis.position = source.position;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVTransformNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { UVTransformNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/UVTransformNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\n\r\nfunction MaxMIPLevelNode( texture ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = 0;\r\n\r\n}\r\n\r\nMaxMIPLevelNode.prototype = Object.create( FloatNode.prototype );\r\nMaxMIPLevelNode.prototype.constructor = MaxMIPLevelNode;\r\nMaxMIPLevelNode.prototype.nodeType = \"MaxMIPLevel\";\r\n\r\nObject.defineProperties( MaxMIPLevelNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tif ( this.maxMIPLevel === 0 ) {\r\n\r\n\t\t\t\tvar image = this.texture.value.image;\r\n\r\n\t\t\t\tif ( Array.isArray( image ) ) image = image[ 0 ];\r\n\r\n\t\t\t\tthis.maxMIPLevel = image !== undefined ? Math.log( Math.max( image.width, image.height ) ) * Math.LOG2E : 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.maxMIPLevel;\r\n\r\n\t\t},\r\n\r\n\t\tset: function () { }\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMaxMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MaxMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { MaxMIPLevelNode } from './MaxMIPLevelNode.js';\r\n\r\nfunction SpecularMIPLevelNode( roughness, texture ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.roughness = roughness;\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = undefined;\r\n\r\n}\r\n\r\nSpecularMIPLevelNode.Nodes = ( function () {\r\n\r\n\tvar getSpecularMIPLevel = new FunctionNode( [\r\n\t\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\r\n\t\t\"float getSpecularMIPLevel( const in float roughness, const in float maxMIPLevelScalar ) {\",\r\n\r\n\t\t\"\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\",\r\n\t\t\"\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\",\r\n\r\n\t\t// clamp to allowable LOD ranges.\r\n\t\t\"\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tgetSpecularMIPLevel: getSpecularMIPLevel\r\n\t};\r\n\r\n} )();\r\n\r\nSpecularMIPLevelNode.prototype = Object.create( TempNode.prototype );\r\nSpecularMIPLevelNode.prototype.constructor = SpecularMIPLevelNode;\r\nSpecularMIPLevelNode.prototype.nodeType = \"SpecularMIPLevel\";\r\n\r\nSpecularMIPLevelNode.prototype.setTexture = function ( texture ) {\r\n\r\n\tthis.texture = texture;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.maxMIPLevel = this.maxMIPLevel || new MaxMIPLevelNode();\r\n\t\tthis.maxMIPLevel.texture = this.texture;\r\n\r\n\t\tvar getSpecularMIPLevel = builder.include( SpecularMIPLevelNode.Nodes.getSpecularMIPLevel );\r\n\r\n\t\treturn builder.format( getSpecularMIPLevel + '( ' + this.roughness.build( builder, 'f' ) + ', ' + this.maxMIPLevel.build( builder, 'f' ) + ' )', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.SpecularMIPLevelNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( '0.0', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.texture = source.texture;\r\n\tthis.roughness = source.roughness;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture;\r\n\t\tdata.roughness = this.roughness;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpecularMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\n\r\nfunction LuminanceNode( rgb ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.rgb = rgb;\r\n\r\n}\r\n\r\nLuminanceNode.Nodes = ( function () {\r\n\r\n\tvar LUMA = new ConstNode( \"vec3 LUMA vec3( 0.2125, 0.7154, 0.0721 )\" );\r\n\r\n\tvar luminance = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 10 of Graphics Shaders\r\n\t\t\"float luminance( vec3 rgb ) {\",\r\n\r\n\t\t\"\treturn dot( rgb, LUMA );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LUMA ] );\r\n\r\n\treturn {\r\n\t\tLUMA: LUMA,\r\n\t\tluminance: luminance\r\n\t};\r\n\r\n} )();\r\n\r\nLuminanceNode.prototype = Object.create( TempNode.prototype );\r\nLuminanceNode.prototype.constructor = LuminanceNode;\r\nLuminanceNode.prototype.nodeType = \"Luminance\";\r\n\r\nLuminanceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar luminance = builder.include( LuminanceNode.Nodes.luminance );\r\n\r\n\treturn builder.format( luminance + '( ' + this.rgb.build( builder, 'v3' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nLuminanceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLuminanceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LuminanceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/LuminanceNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction SubSlotNode( slots ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.slots = slots || {};\r\n\r\n}\r\n\r\nSubSlotNode.prototype = Object.create( TempNode.prototype );\r\nSubSlotNode.prototype.constructor = SubSlotNode;\r\nSubSlotNode.prototype.nodeType = \"SubSlot\";\r\n\r\nSubSlotNode.prototype.getType = function ( builder, output ) {\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( this.slots[ builder.slot ] ) {\r\n\r\n\t\treturn this.slots[ builder.slot ].build( builder, output );\r\n\r\n\t}\r\n\r\n\treturn builder.format( '0.0', 'f', output );\r\n\r\n};\r\n\r\nSubSlotNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.slots ) {\r\n\r\n\t\tthis.slots[ prop ] = source.slots[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.slots = {};\r\n\r\n\t\tfor ( var prop in this.slots ) {\r\n\r\n\t\t\tvar slot = this.slots[ prop ];\r\n\r\n\t\t\tif ( slot ) {\r\n\r\n\t\t\t\tdata.slots[ prop ] = slot.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SubSlotNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SubSlotNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction BlurNode( value, uv, radius, size ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.radius = radius || new Vector2Node( 1, 1 );\r\n\r\n\tthis.size = size;\r\n\r\n\tthis.blurX = true;\r\n\tthis.blurY = true;\r\n\r\n\tthis.horizontal = new FloatNode( 1 / 64 );\r\n\tthis.vertical = new FloatNode( 1 / 64 );\r\n\r\n}\r\n\r\nBlurNode.Nodes = ( function () {\r\n\r\n\tvar blurX = new FunctionNode( [\r\n\t\t\"vec4 blurX( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar blurY = new FunctionNode( [\r\n\t\t\"vec4 blurY( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tblurX: blurX,\r\n\t\tblurY: blurY\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nBlurNode.prototype = Object.create( TempNode.prototype );\r\nBlurNode.prototype.constructor = BlurNode;\r\nBlurNode.prototype.nodeType = \"Blur\";\r\nBlurNode.prototype.hashProperties = [ \"blurX\", \"blurY\" ];\r\n\r\nBlurNode.prototype.updateFrame = function ( /* frame */ ) {\r\n\r\n\tif ( this.size ) {\r\n\r\n\t\tthis.horizontal.value = this.radius.x / this.size.x;\r\n\t\tthis.vertical.value = this.radius.y / this.size.y;\r\n\r\n\t} else if ( this.value.value && this.value.value.image ) {\r\n\r\n\t\tvar image = this.value.value.image;\r\n\r\n\t\tthis.horizontal.value = this.radius.x / image.width;\r\n\t\tthis.vertical.value = this.radius.y / image.height;\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar blurCode = [], code;\r\n\r\n\t\tvar blurX = builder.include( BlurNode.Nodes.blurX ),\r\n\t\t\tblurY = builder.include( BlurNode.Nodes.blurY );\r\n\r\n\t\tif ( this.blurX ) {\r\n\r\n\t\t\tblurCode.push( blurX + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.horizontal.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.blurY ) {\r\n\r\n\t\t\tblurCode.push( blurY + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.vertical.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( blurCode.length == 2 ) code = '( ' + blurCode.join( ' + ' ) + ' / 2.0 )';\r\n\t\telse if ( blurCode.length ) code = '( ' + blurCode[ 0 ] + ' )';\r\n\t\telse code = 'vec4( 0.0 )';\r\n\r\n\t\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BlurNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.uv = source.uv;\r\n\tthis.radius = source.radius;\r\n\r\n\tif ( source.size !== undefined ) this.size = new Vector2( source.size.x, source.size.y );\r\n\r\n\tthis.blurX = source.blurX;\r\n\tthis.blurY = source.blurY;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBlurNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.radius = this.radius.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.size ) data.size = { x: this.size.x, y: this.size.y };\r\n\r\n\t\tdata.blurX = this.blurX;\r\n\t\tdata.blurY = this.blurY;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BlurNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/BlurNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { LuminanceNode } from './LuminanceNode.js';\r\n\r\nfunction ColorAdjustmentNode( rgb, adjustment, method ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.rgb = rgb;\r\n\tthis.adjustment = adjustment;\r\n\r\n\tthis.method = method || ColorAdjustmentNode.SATURATION;\r\n\r\n}\r\n\r\nColorAdjustmentNode.Nodes = ( function () {\r\n\r\n\tvar hue = new FunctionNode( [\r\n\t\t\"vec3 hue(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tconst mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.595716, -0.274453, -0.321263, 0.211456, -0.522591, 0.311135);\",\r\n\t\t\"\tconst mat3 YIQtoRGB = mat3(1.0, 0.9563, 0.6210, 1.0, -0.2721, -0.6474, 1.0, -1.107, 1.7046);\",\r\n\r\n\t\t\"\tvec3 yiq = RGBtoYIQ * rgb;\",\r\n\r\n\t\t\"\tfloat hue = atan(yiq.z, yiq.y) + adjustment;\",\r\n\t\t\"\tfloat chroma = sqrt(yiq.z * yiq.z + yiq.y * yiq.y);\",\r\n\r\n\t\t\"\treturn YIQtoRGB * vec3(yiq.x, chroma * cos(hue), chroma * sin(hue));\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar saturation = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 16 of OpenGL Shading Language\r\n\t\t\"vec3 saturation(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tvec3 intensity = vec3( luminance( rgb ) );\",\r\n\r\n\t\t\"\treturn mix( intensity, rgb, adjustment );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LuminanceNode.Nodes.luminance ] ); // include LuminanceNode function\r\n\r\n\tvar vibrance = new FunctionNode( [\r\n\t\t// Shader by Evan Wallace adapted by @lo-th\r\n\t\t\"vec3 vibrance(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tfloat average = (rgb.r + rgb.g + rgb.b) / 3.0;\",\r\n\r\n\t\t\"\tfloat mx = max(rgb.r, max(rgb.g, rgb.b));\",\r\n\t\t\"\tfloat amt = (mx - average) * (-3.0 * adjustment);\",\r\n\r\n\t\t\"\treturn mix(rgb.rgb, vec3(mx), amt);\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\thue: hue,\r\n\t\tsaturation: saturation,\r\n\t\tvibrance: vibrance\r\n\t};\r\n\r\n} )();\r\n\r\nColorAdjustmentNode.SATURATION = 'saturation';\r\nColorAdjustmentNode.HUE = 'hue';\r\nColorAdjustmentNode.VIBRANCE = 'vibrance';\r\nColorAdjustmentNode.BRIGHTNESS = 'brightness';\r\nColorAdjustmentNode.CONTRAST = 'contrast';\r\n\r\nColorAdjustmentNode.prototype = Object.create( TempNode.prototype );\r\nColorAdjustmentNode.prototype.constructor = ColorAdjustmentNode;\r\nColorAdjustmentNode.prototype.nodeType = \"ColorAdjustment\";\r\nColorAdjustmentNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorAdjustmentNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar rgb = this.rgb.build( builder, 'v3' ),\r\n\t\tadjustment = this.adjustment.build( builder, 'f' );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase ColorAdjustmentNode.BRIGHTNESS:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' + ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase ColorAdjustmentNode.CONTRAST:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' * ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tvar method = builder.include( ColorAdjustmentNode.Nodes[ this.method ] );\r\n\r\n\treturn builder.format( method + '( ' + rgb + ', ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\tthis.adjustment = source.adjustment;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\t\tdata.adjustment = this.adjustment.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorAdjustmentNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","import { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction BasicNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\r\n}\r\n\r\nBasicNode.prototype = Object.create( Node.prototype );\r\nBasicNode.prototype.constructor = BasicNode;\r\nBasicNode.prototype.nodeType = \"Basic\";\r\n\r\nBasicNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\" vNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\",\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// Analyze all nodes to reuse generate codes\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\t// Build code\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\tcolor.code,\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t' if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nBasicNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBasicNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BasicNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/BasicNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction SpriteNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.spherical = true;\r\n\r\n}\r\n\r\nSpriteNode.prototype = Object.create( Node.prototype );\r\nSpriteNode.prototype.constructor = SpriteNode;\r\nSpriteNode.prototype.nodeType = \"Sprite\";\r\n\r\nSpriteNode.prototype.build = function ( builder ) {\r\n\r\n\tvar output;\r\n\r\n\tbuilder.define( 'SPRITE' );\r\n\r\n\tbuilder.requires.lights = false;\r\n\tbuilder.requires.transparent = this.alpha !== undefined;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\t\t\tUniformsLib.fog\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\toutput = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\r\n\t\t\t'mat4 modelViewMtx = modelViewMatrix;',\r\n\t\t\t'mat4 modelMtx = modelMatrix;',\r\n\r\n\t\t\t// ignore position from modelMatrix (use vary position)\r\n\t\t\t'modelMtx[3][0] = 0.0;',\r\n\t\t\t'modelMtx[3][1] = 0.0;',\r\n\t\t\t'modelMtx[3][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( ! this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'modelMtx[1][1] = 1.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// http://www.geeks3d.com/20140807/billboarding-vertex-shader-glsl/\r\n\t\t\t// First colunm.\r\n\t\t\t'modelViewMtx[0][0] = 1.0;',\r\n\t\t\t'modelViewMtx[0][1] = 0.0;',\r\n\t\t\t'modelViewMtx[0][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t// Second colunm.\r\n\t\t\t\t'modelViewMtx[1][0] = 0.0;',\r\n\t\t\t\t'modelViewMtx[1][1] = 1.0;',\r\n\t\t\t\t'modelViewMtx[1][2] = 0.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// Thrid colunm.\r\n\t\t\t'modelViewMtx[2][0] = 0.0;',\r\n\t\t\t'modelViewMtx[2][1] = 0.0;',\r\n\t\t\t'modelViewMtx[2][2] = 1.0;',\r\n\r\n\t\t\t\"gl_Position = projectionMatrix * modelViewMtx * modelMtx * vec4( transformed, 1.0 );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\",\r\n\t\t\t\"#include <clipping_planes_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tbuilder.addCode( [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined,\r\n\t\t\talpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined,\r\n\t\t\tcolor = this.color.flow( builder, 'c', { slot: 'color' } ),\r\n\t\t\toutput = [];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif',\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", \" + alpha.result + \" );\"\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", 1.0 );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\"\r\n\t\t);\r\n\r\n\t}\r\n\r\n\treturn output.join( \"\\n\" );\r\n\r\n};\r\n\r\nSpriteNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.spherical !== undefined ) this.spherical = source.spherical;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpriteNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.spherical === false ) data.spherical = false;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpriteNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/SpriteNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\n\r\nfunction PhongNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.specular = new ColorNode( 0x111111 );\r\n\tthis.shininess = new FloatNode( 30 );\r\n\r\n}\r\n\r\nPhongNode.prototype = Object.create( Node.prototype );\r\nPhongNode.prototype.constructor = PhongNode;\r\nPhongNode.prototype.nodeType = \"Phong\";\r\n\r\nPhongNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'PHONG' );\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"\t#include <morphtarget_vertex>\",\r\n\t\t\t\"\t#include <skinning_vertex>\",\r\n\t\t\t\"\t#include <project_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\",\r\n\t\t\t\"\t#include <logdepthbuf_vertex>\",\r\n\t\t\t\"\t#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"\t#include <worldpos_vertex>\",\r\n\t\t\t\"\t#include <shadowmap_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\t\tthis.specular.analyze( builder );\r\n\t\tthis.shininess.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) this.environment.analyze( builder, { slot: 'environment' } );\r\n\t\tif ( this.environmentAlpha && this.environment ) this.environmentAlpha.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar specular = this.specular.flow( builder, 'c' );\r\n\t\tvar shininess = this.shininess.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment = this.environment ? this.environment.flow( builder, 'c', { slot: 'environment' } ) : undefined;\r\n\t\tvar environmentAlpha = this.environmentAlpha && this.environment ? this.environmentAlpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_phong_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\t// prevent undeclared material\r\n\t\t\t\"\tBlinnPhongMaterial material;\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\tspecular.code,\r\n\t\t\t\"\tvec3 specular = \" + specular.result + \";\",\r\n\r\n\t\t\tshininess.code,\r\n\t\t\t\"\tfloat shininess = max( 0.0001, \" + shininess.result + \" );\",\r\n\r\n\t\t\t\"\tfloat specularStrength = 1.0;\" // Ignored in MaterialNode ( replace to specular )\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push( 'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor' ) + ';' );\r\n\r\n\t\toutput.push(\r\n\t\t\t// accumulation\r\n\t\t\t'material.specularColor = specular;',\r\n\t\t\t'material.specularShininess = shininess;',\r\n\t\t\t'material.specularStrength = specularStrength;',\r\n\r\n\t\t\t\"#include <lights_fragment_begin>\",\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular;\" );\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.code );\r\n\r\n\t\t\tif ( environmentAlpha ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tenvironmentAlpha.code,\r\n\t\t\t\t\t\"outgoingLight = mix( outgoingLight, \" + environment.result + \", \" + environmentAlpha.result + \" );\"\r\n\t\t\t\t);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toutput.push( \"outgoingLight = \" + environment.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t/*\r\n\t\tswitch( builder.material.combine ) {\r\n\r\n\t\t\tcase ENVMAP_BLENDING_MULTIPLY:\r\n\r\n\t\t\t\t//output.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\t\t\t\t//outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\r\n\t\t}\r\n\t*/\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nPhongNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.specular = source.specular;\r\n\tthis.shininess = source.shininess;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\tif ( source.environmentAlpha ) this.environmentAlpha = source.environmentAlpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPhongNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.specular = this.specular.toJSON( meta ).uuid;\r\n\t\tdata.shininess = this.shininess.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\t\tif ( this.environmentAlpha ) data.environmentAlpha = this.environmentAlpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PhongNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/PhongNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ExpressionNode } from '../../core/ExpressionNode.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\nimport { SpecularMIPLevelNode } from '../../utils/SpecularMIPLevelNode.js';\r\n\r\nfunction StandardNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\tthis.roughness = new FloatNode( 1 );\r\n\tthis.metalness = new FloatNode( 0 );\r\n\r\n}\r\n\r\nStandardNode.prototype = Object.create( Node.prototype );\r\nStandardNode.prototype.constructor = StandardNode;\r\nStandardNode.prototype.nodeType = \"Standard\";\r\n\r\nStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'STANDARD' );\r\n\r\n\tvar useClearcoat = this.clearcoat || this.clearcoatRoughness || this.clearCoatNormal;\r\n\r\n\tif ( useClearcoat ) {\r\n\r\n\t\tbuilder.define( 'CLEARCOAT' );\r\n\r\n\t}\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tbuilder.extensions.derivatives = true;\r\n\tbuilder.extensions.shaderTextureLOD = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tif ( UniformsLib.LTC_1 ) {\r\n\r\n\t\t\t// add ltc data textures to material uniforms\r\n\r\n\t\t\tbuilder.uniforms.ltc_1 = { value: undefined };\r\n\t\t\tbuilder.uniforms.ltc_2 = { value: undefined };\r\n\r\n\t\t}\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\tvar specularRoughness = new ExpressionNode( 'material.specularRoughness', 'f' );\r\n\t\tvar clearcoatRoughness = new ExpressionNode( 'material.clearcoatRoughness', 'f' );\r\n\r\n\t\tvar contextEnvironment = {\r\n\t\t\troughness: specularRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( specularRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'normal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.normal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextGammaOnly = {\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextClearcoatEnvironment = {\r\n\t\t\troughness: clearcoatRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( clearcoatRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'clearcoatNormal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.clearcoatNormal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color', context: contextGammaOnly } );\r\n\t\tthis.roughness.analyze( builder );\r\n\t\tthis.metalness.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.clearcoat ) this.clearcoat.analyze( builder );\r\n\t\tif ( this.clearcoatRoughness ) this.clearcoatRoughness.analyze( builder );\r\n\t\tif ( this.clearcoatNormal ) this.clearcoatNormal.analyze( builder );\r\n\r\n\t\tif ( this.reflectivity ) this.reflectivity.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\t// isolate environment from others inputs ( see TextureNode, CubeTextureNode )\r\n\t\t\t// environment.analyze will detect if there is a need of calculate irradiance\r\n\r\n\t\t\tthis.environment.analyze( builder, { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tthis.environment.analyze( builder, { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.sheen ) this.sheen.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color', context: contextGammaOnly } );\r\n\t\tvar roughness = this.roughness.flow( builder, 'f' );\r\n\t\tvar metalness = this.metalness.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar clearcoat = this.clearcoat ? this.clearcoat.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatRoughness = this.clearcoatRoughness ? this.clearcoatRoughness.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatNormal = this.clearcoatNormal ? this.clearcoatNormal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar reflectivity = this.reflectivity ? this.reflectivity.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment;\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\tenvironment = {\r\n\t\t\t\tradiance: this.environment.flow( builder, 'c', { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } )\r\n\t\t\t};\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tenvironment.irradiance = this.environment.flow( builder, 'c', { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar clearcoatEnv = useClearcoat && environment ? this.environment.flow( builder, 'c', { cache: 'clearcoat', context: contextClearcoatEnvironment, slot: 'environment' } ) : undefined;\r\n\r\n\t\tvar sheen = this.sheen ? this.sheen.flow( builder, 'c' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <dithering_pars_fragment>\",\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_physical_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"\t#include <normal_fragment_begin>\",\r\n\t\t\t\"\t#include <clearcoat_normal_fragment_begin>\",\r\n\r\n\t\t\t// add before: prevent undeclared material\r\n\t\t\t\"\tPhysicalMaterial material;\",\r\n\t\t\t\"\tmaterial.diffuseColor = vec3( 1.0 );\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\troughness.code,\r\n\t\t\t\"\tfloat roughnessFactor = \" + roughness.result + \";\",\r\n\r\n\t\t\tmetalness.code,\r\n\t\t\t\"\tfloat metalnessFactor = \" + metalness.result + \";\"\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'\tif ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatNormal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatNormal.code,\r\n\t\t\t\t'clearcoatNormal = ' + clearcoatNormal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// anti-aliasing code by @elalish\r\n\r\n\t\toutput.push(\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t);\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push(\r\n\t\t\t'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor * ( 1.0 - metalnessFactor )' ) + ';',\r\n\r\n\t\t\t'material.specularRoughness = max( roughnessFactor, 0.0525 );',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\r\n\t\t\t'material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );'\r\n\t\t);\r\n\r\n\t\tif ( clearcoat ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoat.code,\r\n\t\t\t\t'material.clearcoat = saturate( ' + clearcoat.result + ' );' // Burley clearcoat model\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoat = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatRoughness ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatRoughness.code,\r\n\t\t\t\t'material.clearcoatRoughness = max( ' + clearcoatRoughness.result + ', 0.0525 );',\r\n\t\t\t\t'material.clearcoatRoughness += geometryRoughness;',\r\n\t\t\t\t'material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );'\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoatRoughness = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( sheen ) {\r\n\r\n\t\t\toutput.push( 'material.sheenColor = ' + sheen.result + ';' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( reflectivity ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\treflectivity.code,\r\n\t\t\t\t'material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( ' + reflectivity.result + ' ) ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_begin>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"diffuseColor *= 1.0 - metalnessFactor;\",\r\n\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\",\r\n\t\t\t\t\"float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\r\n\t\t\t\t\"reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, \" + ao.result + \", material.specularRoughness );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.radiance.code );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( environment.irradiance.code );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( clearcoatEnv ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tclearcoatEnv.code,\r\n\t\t\t\t\t\"clearcoatRadiance += \" + clearcoatEnv.result + \";\"\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\toutput.push( \"radiance += \" + environment.radiance.result + \";\" );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( \"iblIrradiance += PI * \" + environment.irradiance.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\",\r\n\t\t\t\"#include <dithering_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nStandardNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.roughness = source.roughness;\r\n\tthis.metalness = source.metalness;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.clearcoat ) this.clearcoat = source.clearcoat;\r\n\tif ( source.clearcoatRoughness ) this.clearcoatRoughness = source.clearcoatRoughness;\r\n\tif ( source.clearcoatNormal ) this.clearcoatNormal = source.clearcoatNormal;\r\n\r\n\tif ( source.reflectivity ) this.reflectivity = source.reflectivity;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\r\n\tif ( source.sheen ) this.sheen = source.sheen;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.roughness = this.roughness.toJSON( meta ).uuid;\r\n\t\tdata.metalness = this.metalness.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.clearcoat ) data.clearcoat = this.clearcoat.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatRoughness ) data.clearcoatRoughness = this.clearcoatRoughness.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatNormal ) data.clearcoatNormal = this.clearcoatNormal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.reflectivity ) data.reflectivity = this.reflectivity.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.sheen ) data.sheen = this.sheen.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/StandardNode.js","import {\r\n\tColor,\r\n\tVector2\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { StandardNode } from './StandardNode.js';\r\nimport { PropertyNode } from '../../inputs/PropertyNode.js';\r\nimport { OperatorNode } from '../../math/OperatorNode.js';\r\nimport { SwitchNode } from '../../utils/SwitchNode.js';\r\nimport { NormalMapNode } from '../../misc/NormalMapNode.js';\r\n\r\nfunction MeshStandardNode() {\r\n\r\n\tStandardNode.call( this );\r\n\r\n\tthis.properties = {\r\n\t\tcolor: new Color( 0xffffff ),\r\n\t\troughness: 0.5,\r\n\t\tmetalness: 0.5,\r\n\t\tnormalScale: new Vector2( 1, 1 )\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tcolor: new PropertyNode( this.properties, 'color', 'c' ),\r\n\t\troughness: new PropertyNode( this.properties, 'roughness', 'f' ),\r\n\t\tmetalness: new PropertyNode( this.properties, 'metalness', 'f' ),\r\n\t\tnormalScale: new PropertyNode( this.properties, 'normalScale', 'v2' )\r\n\t};\r\n\r\n}\r\n\r\nMeshStandardNode.prototype = Object.create( StandardNode.prototype );\r\nMeshStandardNode.prototype.constructor = MeshStandardNode;\r\nMeshStandardNode.prototype.nodeType = \"MeshStandard\";\r\n\r\nMeshStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar props = this.properties,\r\n\t\tinputs = this.inputs;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\t// slots\r\n\t\t// * color\r\n\t\t// * map\r\n\r\n\t\tvar color = builder.findNode( props.color, inputs.color ),\r\n\t\t\tmap = builder.resolve( props.map );\r\n\r\n\t\tthis.color = map ? new OperatorNode( color, map, OperatorNode.MUL ) : color;\r\n\r\n\t\t// slots\r\n\t\t// * roughness\r\n\t\t// * roughnessMap\r\n\r\n\t\tvar roughness = builder.findNode( props.roughness, inputs.roughness ),\r\n\t\t\troughnessMap = builder.resolve( props.roughnessMap );\r\n\r\n\t\tthis.roughness = roughnessMap ? new OperatorNode( roughness, new SwitchNode( roughnessMap, \"g\" ), OperatorNode.MUL ) : roughness;\r\n\r\n\t\t// slots\r\n\t\t// * metalness\r\n\t\t// * metalnessMap\r\n\r\n\t\tvar metalness = builder.findNode( props.metalness, inputs.metalness ),\r\n\t\t\tmetalnessMap = builder.resolve( props.metalnessMap );\r\n\r\n\t\tthis.metalness = metalnessMap ? new OperatorNode( metalness, new SwitchNode( metalnessMap, \"b\" ), OperatorNode.MUL ) : metalness;\r\n\r\n\t\t// slots\r\n\t\t// * normalMap\r\n\t\t// * normalScale\r\n\r\n\t\tif ( props.normalMap ) {\r\n\r\n\t\t\tthis.normal = new NormalMapNode( builder.resolve( props.normalMap ) );\r\n\t\t\tthis.normal.scale = builder.findNode( props.normalScale, inputs.normalScale );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.normal = undefined;\r\n\r\n\t\t}\r\n\r\n\t\t// slots\r\n\t\t// * envMap\r\n\r\n\t\tthis.environment = builder.resolve( props.envMap );\r\n\r\n\t}\r\n\r\n\t// build code\r\n\r\n\treturn StandardNode.prototype.build.call( this, builder );\r\n\r\n};\r\n\r\nMeshStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tconsole.warn( \".toJSON not implemented in\", this );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MeshStandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","import { BasicNode } from './nodes/BasicNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction BasicNodeMaterial() {\r\n\r\n\tvar node = new BasicNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"BasicNodeMaterial\";\r\n\r\n}\r\n\r\nBasicNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nBasicNodeMaterial.prototype.constructor = BasicNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( BasicNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { BasicNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/BasicNodeMaterial.js","import { SpriteNode } from './nodes/SpriteNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction SpriteNodeMaterial() {\r\n\r\n\tvar node = new SpriteNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"SpriteNodeMaterial\";\r\n\r\n}\r\n\r\nSpriteNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nSpriteNodeMaterial.prototype.constructor = SpriteNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( SpriteNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position',\r\n\t'spherical'\r\n] );\r\n\r\nexport { SpriteNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","import { PhongNode } from './nodes/PhongNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction PhongNodeMaterial() {\r\n\r\n\tvar node = new PhongNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"PhongNodeMaterial\";\r\n\r\n}\r\n\r\nPhongNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nPhongNodeMaterial.prototype.constructor = PhongNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( PhongNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'specular',\r\n\t'shininess',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'environmentAlpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { PhongNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/PhongNodeMaterial.js","import { StandardNode } from './nodes/StandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction StandardNodeMaterial() {\r\n\r\n\tvar node = new StandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"StandardNodeMaterial\";\r\n\r\n}\r\n\r\nStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nStandardNodeMaterial.prototype.constructor = StandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( StandardNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'roughness',\r\n\t'metalness',\r\n\t'reflectivity',\r\n\t'clearcoat',\r\n\t'clearcoatRoughness',\r\n\t'clearcoatNormal',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'mask',\r\n\t'position',\r\n\t'sheen'\r\n] );\r\n\r\nexport { StandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/StandardNodeMaterial.js","import { MeshStandardNode } from './nodes/MeshStandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction MeshStandardNodeMaterial() {\r\n\r\n\tvar node = new MeshStandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"MeshStandardNodeMaterial\";\r\n\r\n}\r\n\r\nMeshStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nMeshStandardNodeMaterial.prototype.constructor = MeshStandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( MeshStandardNodeMaterial.prototype, 'properties', [\r\n\t\"color\",\r\n\t\"roughness\",\r\n\t\"metalness\",\r\n\t\"map\",\r\n\t\"normalMap\",\r\n\t\"normalScale\",\r\n\t\"metalnessMap\",\r\n\t\"roughnessMap\",\r\n\t\"envMap\"\r\n] );\r\n\r\nexport { MeshStandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","import {\r\n\tLinearFilter,\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tRGBAFormat,\r\n\tScene,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { ScreenNode } from '../inputs/ScreenNode.js';\r\n\r\nfunction NodePostProcessing( renderer, renderTarget ) {\r\n\r\n\tif ( renderTarget === undefined ) {\r\n\r\n\t\tvar parameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tvar size = renderer.getDrawingBufferSize( new Vector2() );\r\n\t\trenderTarget = new WebGLRenderTarget( size.width, size.height, parameters );\r\n\r\n\t}\r\n\r\n\tthis.renderer = renderer;\r\n\tthis.renderTarget = renderTarget;\r\n\r\n\tthis.output = new ScreenNode();\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n}\r\n\r\nNodePostProcessing.prototype = {\r\n\r\n\tconstructor: NodePostProcessing,\r\n\r\n\trender: function ( scene, camera, frame ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.material.dispose();\r\n\r\n\t\t\tthis.material.fragment.value = this.output;\r\n\t\t\tthis.material.build();\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = this.renderTarget.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.needsUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tframe.setRenderer( this.renderer )\r\n\t\t\t.setRenderTexture( this.renderTarget.texture );\r\n\r\n\t\tthis.renderer.setRenderTarget( this.renderTarget );\r\n\t\tthis.renderer.render( scene, camera );\r\n\r\n\t\tframe.updateNode( this.material );\r\n\r\n\t\tthis.renderer.setRenderTarget( null );\r\n\t\tthis.renderer.render( this.scene, this.camera );\r\n\r\n\t},\r\n\r\n\tsetPixelRatio: function ( value ) {\r\n\r\n\t\tthis.renderer.setPixelRatio( value );\r\n\r\n\t\tvar size = this.renderer.getSize( new Vector2() );\r\n\r\n\t\tthis.setSize( size.width, size.height );\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tvar pixelRatio = this.renderer.getPixelRatio();\r\n\r\n\t\tthis.renderTarget.setSize( width * pixelRatio, height * pixelRatio );\r\n\r\n\t\tthis.renderer.setSize( width, height );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.output = source.output;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\tmeta = {\r\n\t\t\t\tnodes: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tif ( meta && ! meta.post ) meta.post = {};\r\n\r\n\t\tif ( ! meta.post[ this.uuid ] ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tdata.uuid = this.uuid;\r\n\t\t\tdata.type = \"NodePostProcessing\";\r\n\r\n\t\t\tmeta.post[ this.uuid ] = data;\r\n\r\n\t\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\t\tdata.output = this.output.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tmeta.post = this.uuid;\r\n\r\n\t\treturn meta;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodePostProcessing };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","// TODO: all nodes\r\n\r\n// core\r\n\r\nexport { Node } from './core/Node.js';\r\nexport { TempNode } from './core/TempNode.js';\r\nexport { InputNode } from './core/InputNode.js';\r\nexport { ConstNode } from './core/ConstNode.js';\r\nexport { VarNode } from './core/VarNode.js';\r\nexport { StructNode } from './core/StructNode.js';\r\nexport { AttributeNode } from './core/AttributeNode.js';\r\nexport { FunctionNode } from './core/FunctionNode.js';\r\nexport { ExpressionNode } from './core/ExpressionNode.js';\r\nexport { FunctionCallNode } from './core/FunctionCallNode.js';\r\nexport { NodeLib } from './core/NodeLib.js';\r\nexport { NodeUtils } from './core/NodeUtils.js';\r\nexport { NodeFrame } from './core/NodeFrame.js';\r\nexport { NodeUniform } from './core/NodeUniform.js';\r\nexport { NodeBuilder } from './core/NodeBuilder.js';\r\n\r\n// inputs\r\n\r\nexport { BoolNode } from './inputs/BoolNode.js';\r\nexport { IntNode } from './inputs/IntNode.js';\r\nexport { FloatNode } from './inputs/FloatNode.js';\r\nexport { Vector2Node } from './inputs/Vector2Node.js';\r\nexport { Vector3Node } from './inputs/Vector3Node.js';\r\nexport { Vector4Node } from './inputs/Vector4Node.js';\r\nexport { ColorNode } from './inputs/ColorNode.js';\r\nexport { Matrix3Node } from './inputs/Matrix3Node.js';\r\nexport { Matrix4Node } from './inputs/Matrix4Node.js';\r\nexport { TextureNode } from './inputs/TextureNode.js';\r\nexport { CubeTextureNode } from './inputs/CubeTextureNode.js';\r\nexport { ScreenNode } from './inputs/ScreenNode.js';\r\nexport { ReflectorNode } from './inputs/ReflectorNode.js';\r\nexport { PropertyNode } from './inputs/PropertyNode.js';\r\nexport { RTTNode } from './inputs/RTTNode.js';\r\n\r\n// accessors\r\n\r\nexport { UVNode } from './accessors/UVNode.js';\r\nexport { ColorsNode } from './accessors/ColorsNode.js';\r\nexport { PositionNode } from './accessors/PositionNode.js';\r\nexport { NormalNode } from './accessors/NormalNode.js';\r\nexport { CameraNode } from './accessors/CameraNode.js';\r\nexport { LightNode } from './accessors/LightNode.js';\r\nexport { ReflectNode } from './accessors/ReflectNode.js';\r\nexport { ScreenUVNode } from './accessors/ScreenUVNode.js';\r\nexport { ResolutionNode } from './accessors/ResolutionNode.js';\r\n\r\n// math\r\n\r\nexport { MathNode } from './math/MathNode.js';\r\nexport { OperatorNode } from './math/OperatorNode.js';\r\nexport { CondNode } from './math/CondNode.js';\r\n\r\n// procedural\r\n\r\nexport { NoiseNode } from './procedural/NoiseNode.js';\r\nexport { CheckerNode } from './procedural/CheckerNode.js';\r\n\r\n// misc\r\n\r\nexport { TextureCubeUVNode } from './misc/TextureCubeUVNode.js';\r\nexport { TextureCubeNode } from './misc/TextureCubeNode.js';\r\nexport { NormalMapNode } from './misc/NormalMapNode.js';\r\nexport { BumpMapNode } from './misc/BumpMapNode.js';\r\n\r\n// utils\r\n\r\nexport { BypassNode } from './utils/BypassNode.js';\r\nexport { JoinNode } from './utils/JoinNode.js';\r\nexport { SwitchNode } from './utils/SwitchNode.js';\r\nexport { TimerNode } from './utils/TimerNode.js';\r\nexport { VelocityNode } from './utils/VelocityNode.js';\r\nexport { UVTransformNode } from './utils/UVTransformNode.js';\r\nexport { MaxMIPLevelNode } from './utils/MaxMIPLevelNode.js';\r\nexport { SpecularMIPLevelNode } from './utils/SpecularMIPLevelNode.js';\r\nexport { ColorSpaceNode } from './utils/ColorSpaceNode.js';\r\nexport { SubSlotNode } from './utils/SubSlotNode.js';\r\n\r\n// effects\r\n\r\nexport { BlurNode } from './effects/BlurNode.js';\r\nexport { ColorAdjustmentNode } from './effects/ColorAdjustmentNode.js';\r\nexport { LuminanceNode } from './effects/LuminanceNode.js';\r\n\r\n// material nodes\r\n\r\nexport { RawNode } from './materials/nodes/RawNode.js';\r\nexport { BasicNode } from './materials/nodes/BasicNode.js';\r\nexport { SpriteNode } from './materials/nodes/SpriteNode.js';\r\nexport { PhongNode } from './materials/nodes/PhongNode.js';\r\nexport { StandardNode } from './materials/nodes/StandardNode.js';\r\nexport { MeshStandardNode } from './materials/nodes/MeshStandardNode.js';\r\n\r\n// materials\r\n\r\nexport { NodeMaterial } from './materials/NodeMaterial.js';\r\nexport { BasicNodeMaterial } from './materials/BasicNodeMaterial.js';\r\nexport { SpriteNodeMaterial } from './materials/SpriteNodeMaterial.js';\r\nexport { PhongNodeMaterial } from './materials/PhongNodeMaterial.js';\r\nexport { StandardNodeMaterial } from './materials/StandardNodeMaterial.js';\r\nexport { MeshStandardNodeMaterial } from './materials/MeshStandardNodeMaterial.js';\r\n\r\n// postprocessing\r\n\r\nexport { NodePostProcessing } from './postprocessing/NodePostProcessing.js';\r\n//export { NodePass } from './postprocessing/NodePass.js';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/Nodes.js","import { Vector4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector4Node( x, y, z, w ) {\r\n\r\n\tInputNode.call( this, 'v4' );\r\n\r\n\tthis.value = x instanceof Vector4 ? x : new Vector4( x, y, z, w );\r\n\r\n}\r\n\r\nVector4Node.prototype = Object.create( InputNode.prototype );\r\nVector4Node.prototype.constructor = Vector4Node;\r\nVector4Node.prototype.nodeType = \"Vector4\";\r\n\r\nNodeUtils.addShortcuts( Vector4Node.prototype, 'value', [ 'x', 'y', 'z', 'w' ] );\r\n\r\nVector4Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec4( \" + this.x + \", \" + this.y + \", \" + this.z + \", \" + this.w + \" )\", type, output );\r\n\r\n};\r\n\r\nVector4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\t\tdata.w = this.w;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector4Node.js","import {\r\n\tAnimationClip,\r\n\tBone,\r\n\tBox3,\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tCanvasTexture,\r\n\tClampToEdgeWrapping,\r\n\tColor,\r\n\tDirectionalLight,\r\n\tDoubleSide,\r\n\tFileLoader,\r\n\tFrontSide,\r\n\tGroup,\r\n\tImageBitmapLoader,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tInterpolant,\r\n\tInterpolateDiscrete,\r\n\tInterpolateLinear,\r\n\tLine,\r\n\tLineBasicMaterial,\r\n\tLineLoop,\r\n\tLineSegments,\r\n\tLinearFilter,\r\n\tLinearMipmapLinearFilter,\r\n\tLinearMipmapNearestFilter,\r\n\tLoader,\r\n\tLoaderUtils,\r\n\tMaterial,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tMeshBasicMaterial,\r\n\tMeshPhysicalMaterial,\r\n\tMeshStandardMaterial,\r\n\tMirroredRepeatWrapping,\r\n\tNearestFilter,\r\n\tNearestMipmapLinearFilter,\r\n\tNearestMipmapNearestFilter,\r\n\tNumberKeyframeTrack,\r\n\tObject3D,\r\n\tOrthographicCamera,\r\n\tPerspectiveCamera,\r\n\tPointLight,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tPropertyBinding,\r\n\tQuaternionKeyframeTrack,\r\n\tRGBFormat,\r\n\tRepeatWrapping,\r\n\tSkeleton,\r\n\tSkinnedMesh,\r\n\tSphere,\r\n\tSpotLight,\r\n\tTangentSpaceNormalMap,\r\n\tTextureLoader,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tVector2,\r\n\tVector3,\r\n\tVectorKeyframeTrack,\r\n\tsRGBEncoding\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GLTFLoader = ( function () {\r\n\r\n\tfunction GLTFLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.dracoLoader = null;\r\n\t\tthis.ddsLoader = null;\r\n\t\tthis.ktx2Loader = null;\r\n\t\tthis.meshoptDecoder = null;\r\n\r\n\t\tthis.pluginCallbacks = [];\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureWebPExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFLightsExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMeshoptCompression( parser );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: GLTFLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar resourcePath;\r\n\r\n\t\t\tif ( this.resourcePath !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.resourcePath;\r\n\r\n\t\t\t} else if ( this.path !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.path;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\r\n\t\t\t// the model is fully loaded. This means the count of items loaded will\r\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\r\n\t\t\tthis.manager.itemStart( url );\r\n\r\n\t\t\tvar _onError = function ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\t\tloader.load( url, function ( data ) {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\r\n\r\n\t\t\t\t\t\tonLoad( gltf );\r\n\r\n\t\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t\t}, _onError );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t_onError( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, _onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetDRACOLoader: function ( dracoLoader ) {\r\n\r\n\t\t\tthis.dracoLoader = dracoLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetDDSLoader: function ( ddsLoader ) {\r\n\r\n\t\t\tthis.ddsLoader = ddsLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetKTX2Loader: function ( ktx2Loader ) {\r\n\r\n\t\t\tthis.ktx2Loader = ktx2Loader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetMeshoptDecoder: function ( meshoptDecoder ) {\r\n\r\n\t\t\tthis.meshoptDecoder = meshoptDecoder;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.push( callback );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tunregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( data, path, onLoad, onError ) {\r\n\r\n\t\t\tvar content;\r\n\t\t\tvar extensions = {};\r\n\t\t\tvar plugins = {};\r\n\r\n\t\t\tif ( typeof data === 'string' ) {\r\n\r\n\t\t\t\tcontent = data;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\r\n\r\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\r\n\r\n\t\t\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\t\t\tif ( onError ) onError( error );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar json = JSON.parse( content );\r\n\r\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\r\n\r\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar parser = new GLTFParser( json, {\r\n\r\n\t\t\t\tpath: path || this.resourcePath || '',\r\n\t\t\t\tcrossOrigin: this.crossOrigin,\r\n\t\t\t\tmanager: this.manager,\r\n\t\t\t\tktx2Loader: this.ktx2Loader,\r\n\t\t\t\tmeshoptDecoder: this.meshoptDecoder\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\r\n\r\n\t\t\tfor ( var i = 0; i < this.pluginCallbacks.length; i ++ ) {\r\n\r\n\t\t\t\tvar plugin = this.pluginCallbacks[ i ]( parser );\r\n\t\t\t\tplugins[ plugin.name ] = plugin;\r\n\r\n\t\t\t\t// Workaround to avoid determining as unknown extension\r\n\t\t\t\t// in addUnknownExtensionsToUserData().\r\n\t\t\t\t// Remove this workaround if we move all the existing\r\n\t\t\t\t// extension handlers to plugin system\r\n\t\t\t\textensions[ plugin.name ] = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.extensionsUsed ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\r\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\r\n\r\n\t\t\t\t\tswitch ( extensionName ) {\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.setExtensions( extensions );\r\n\t\t\tparser.setPlugins( plugins );\r\n\t\t\tparser.parse( onLoad, onError );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\t/* GLTFREGISTRY */\r\n\r\n\tfunction GLTFRegistry() {\r\n\r\n\t\tvar objects = {};\r\n\r\n\t\treturn\t{\r\n\r\n\t\t\tget: function ( key ) {\r\n\r\n\t\t\t\treturn objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tadd: function ( key, object ) {\r\n\r\n\t\t\t\tobjects[ key ] = object;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremove: function ( key ) {\r\n\r\n\t\t\t\tdelete objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremoveAll: function () {\r\n\r\n\t\t\t\tobjects = {};\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** EXTENSIONS ***********/\r\n\t/*********************************/\r\n\r\n\tvar EXTENSIONS = {\r\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\r\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\r\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\r\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\r\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\r\n\t\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\r\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\r\n\t\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\r\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\r\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\r\n\t\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\r\n\t\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\r\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\r\n\t};\r\n\r\n\t/**\r\n\t * DDS Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\r\n\t *\r\n\t */\r\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\r\n\r\n\t\tif ( ! ddsLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\r\n\t\tthis.ddsLoader = ddsLoader;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Punctual Lights Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\r\n\t */\r\n\tfunction GLTFLightsExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.cache = { refs: {}, uses: {} };\r\n\r\n\t}\r\n\r\n\tGLTFLightsExtension.prototype._markDefs = function () {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar nodeDefs = this.parser.json.nodes || [];\r\n\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.extensions\r\n\t\t\t\t&& nodeDef.extensions[ this.name ]\r\n\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\r\n\r\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype._loadLight = function ( lightIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar cacheKey = 'light:' + lightIndex;\r\n\t\tvar dependency = parser.cache.get( cacheKey );\r\n\r\n\t\tif ( dependency ) return dependency;\r\n\r\n\t\tvar json = parser.json;\r\n\t\tvar extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\r\n\t\tvar lightDefs = extensions.lights || [];\r\n\t\tvar lightDef = lightDefs[ lightIndex ];\r\n\t\tvar lightNode;\r\n\r\n\t\tvar color = new Color( 0xffffff );\r\n\r\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\r\n\r\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\r\n\r\n\t\tswitch ( lightDef.type ) {\r\n\r\n\t\t\tcase 'directional':\r\n\t\t\t\tlightNode = new DirectionalLight( color );\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'point':\r\n\t\t\t\tlightNode = new PointLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'spot':\r\n\t\t\t\tlightNode = new SpotLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\t// Handle spotlight properties.\r\n\t\t\t\tlightDef.spot = lightDef.spot || {};\r\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\r\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\r\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\r\n\r\n\t\t}\r\n\r\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\r\n\t\t// here, because node-level parsing will only override position if explicitly specified.\r\n\t\tlightNode.position.set( 0, 0, 0 );\r\n\r\n\t\tlightNode.decay = 2;\r\n\r\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\r\n\r\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\r\n\r\n\t\tdependency = Promise.resolve( lightNode );\r\n\r\n\t\tparser.cache.add( cacheKey, dependency );\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype.createNodeAttachment = function ( nodeIndex ) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\t\tvar lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\r\n\t\tvar lightIndex = lightDef.light;\r\n\r\n\t\tif ( lightIndex === undefined ) return null;\r\n\r\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\r\n\r\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Unlit Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\r\n\t */\r\n\tfunction GLTFMaterialsUnlitExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\r\n\r\n\t\treturn MeshBasicMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\r\n\r\n\t\tif ( metallicRoughness ) {\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Clearcoat Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\r\n\t */\r\n\tfunction GLTFMaterialsClearcoatExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.clearcoatFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\r\n\r\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tvar scale = extension.clearcoatNormalTexture.scale;\r\n\r\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Transmission Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\r\n\t * Draft: https://github.com/KhronosGroup/glTF/pull/1698\r\n\t */\r\n\tfunction GLTFMaterialsTransmissionExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.transmissionFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.transmissionTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * BasisU Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\r\n\t */\r\n\tfunction GLTFTextureBasisUExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\r\n\r\n\t}\r\n\r\n\tGLTFTextureBasisUExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ this.name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = parser.options.ktx2Loader;\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * WebP Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\r\n\t */\r\n\tfunction GLTFTextureWebPExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\r\n\t\tthis.isSupported = null;\r\n\r\n\t}\r\n\r\n\tGLTFTextureWebPExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar name = this.name;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = source.uri ? parser.options.manager.getHandler( source.uri ) : parser.textureLoader;\r\n\r\n\t\treturn this.detectSupport().then( function ( isSupported ) {\r\n\r\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Fall back to PNG or JPEG.\r\n\t\t\treturn parser.loadTexture( textureIndex );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\tGLTFTextureWebPExtension.prototype.detectSupport = function () {\r\n\r\n\t\tif ( ! this.isSupported ) {\r\n\r\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tvar image = new Image();\r\n\r\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\r\n\t\t\t\t// WebP images, unfortunately.\r\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\r\n\r\n\t\t\t\timage.onload = image.onerror = function () {\r\n\r\n\t\t\t\t\tresolve( image.height === 1 );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isSupported;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t* meshopt BufferView Compression Extension\r\n\t*\r\n\t* Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\r\n\t*/\r\n\tfunction GLTFMeshoptCompression( parser ) {\r\n\r\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\r\n\t\tthis.parser = parser;\r\n\r\n\t}\r\n\r\n\tGLTFMeshoptCompression.prototype.loadBufferView = function ( index ) {\r\n\r\n\t\tvar json = this.parser.json;\r\n\t\tvar bufferView = json.bufferViews[ index ];\r\n\r\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\r\n\r\n\t\t\tvar extensionDef = bufferView.extensions[ this.name ];\r\n\r\n\t\t\tvar buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\r\n\t\t\tvar decoder = this.parser.options.meshoptDecoder;\r\n\r\n\t\t\tif ( ! decoder || ! decoder.supported ) {\r\n\r\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\r\n\r\n\t\t\t\tvar byteOffset = extensionDef.byteOffset || 0;\r\n\t\t\t\tvar byteLength = extensionDef.byteLength || 0;\r\n\r\n\t\t\t\tvar count = extensionDef.count;\r\n\t\t\t\tvar stride = extensionDef.byteStride;\r\n\r\n\t\t\t\tvar result = new ArrayBuffer( count * stride );\r\n\t\t\t\tvar source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\r\n\r\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\r\n\t\t\t\treturn result;\r\n\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/* BINARY EXTENSION */\r\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\r\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\r\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\r\n\r\n\tfunction GLTFBinaryExtension( data ) {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\r\n\t\tthis.content = null;\r\n\t\tthis.body = null;\r\n\r\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\r\n\r\n\t\tthis.header = {\r\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\r\n\t\t\tversion: headerView.getUint32( 4, true ),\r\n\t\t\tlength: headerView.getUint32( 8, true )\r\n\t\t};\r\n\r\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\r\n\r\n\t\t} else if ( this.header.version < 2.0 ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\r\n\t\tvar chunkIndex = 0;\r\n\r\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\r\n\r\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\r\n\r\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\r\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\r\n\r\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\r\n\r\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\r\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Clients must ignore chunks with unknown types.\r\n\r\n\t\t\tchunkIndex += chunkLength;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.content === null ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * DRACO Mesh Compression Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\r\n\t */\r\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\r\n\r\n\t\tif ( ! dracoLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\r\n\t\tthis.json = json;\r\n\t\tthis.dracoLoader = dracoLoader;\r\n\t\tthis.dracoLoader.preload();\r\n\r\n\t}\r\n\r\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar dracoLoader = this.dracoLoader;\r\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\r\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\r\n\t\tvar threeAttributeMap = {};\r\n\t\tvar attributeNormalizedMap = {};\r\n\t\tvar attributeTypeMap = {};\r\n\r\n\t\tfor ( var attributeName in gltfAttributeMap ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( attributeName in primitive.attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\r\n\r\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\r\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\r\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\r\n\r\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\r\n\r\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\r\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\r\n\r\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresolve( geometry );\r\n\r\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Texture Transform Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\r\n\t */\r\n\tfunction GLTFTextureTransformExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\r\n\r\n\t}\r\n\r\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\r\n\r\n\t\ttexture = texture.clone();\r\n\r\n\t\tif ( transform.offset !== undefined ) {\r\n\r\n\t\t\ttexture.offset.fromArray( transform.offset );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.rotation !== undefined ) {\r\n\r\n\t\t\ttexture.rotation = transform.rotation;\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.scale !== undefined ) {\r\n\r\n\t\t\ttexture.repeat.fromArray( transform.scale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.texCoord !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\r\n\r\n\t\t}\r\n\r\n\t\ttexture.needsUpdate = true;\r\n\r\n\t\treturn texture;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specular-Glossiness Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\r\n\t */\r\n\r\n\t/**\r\n\t * A sub class of StandardMaterial with some of the functionality\r\n\t * changed via the `onBeforeCompile` callback\r\n\t * @pailhead\r\n\t */\r\n\r\n\tfunction GLTFMeshStandardSGMaterial( params ) {\r\n\r\n\t\tMeshStandardMaterial.call( this );\r\n\r\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\r\n\r\n\t\t//various chunks that need replacing\r\n\t\tvar specularMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tuniform sampler2D specularMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tuniform sampler2D glossinessMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar specularMapFragmentChunk = [\r\n\t\t\t'vec3 specularFactor = specular;',\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\r\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\r\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapFragmentChunk = [\r\n\t\t\t'float glossinessFactor = glossiness;',\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\r\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar lightPhysicalFragmentChunk = [\r\n\t\t\t'PhysicalMaterial material;',\r\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\t\t\t'material.specularColor = specularFactor;',\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar uniforms = {\r\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\r\n\t\t\tglossiness: { value: 1 },\r\n\t\t\tspecularMap: { value: null },\r\n\t\t\tglossinessMap: { value: null }\r\n\t\t};\r\n\r\n\t\tthis._extraUniforms = uniforms;\r\n\r\n\t\tthis.onBeforeCompile = function ( shader ) {\r\n\r\n\t\t\tfor ( var uniformName in uniforms ) {\r\n\r\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tshader.fragmentShader = shader.fragmentShader\r\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\r\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\r\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\r\n\r\n\t\t};\r\n\r\n\t\tObject.defineProperties( this, {\r\n\r\n\t\t\tspecular: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specular.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specular.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tspecularMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specularMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specularMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossiness: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossiness.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossiness.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossinessMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossinessMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossinessMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\r\n\t\t\t\t\t\tthis.defines.USE_UV = '';\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\r\n\t\t\t\t\t\tdelete this.defines.USE_UV;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\r\n\t\tthis.setValues( params );\r\n\r\n\t}\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\r\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\r\n\r\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\r\n\t\tthis.specularMap = source.specularMap;\r\n\t\tthis.specular.copy( source.specular );\r\n\t\tthis.glossinessMap = source.glossinessMap;\r\n\t\tthis.glossiness = source.glossiness;\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\r\n\r\n\t\treturn {\r\n\r\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\r\n\r\n\t\t\tspecularGlossinessParams: [\r\n\t\t\t\t'color',\r\n\t\t\t\t'map',\r\n\t\t\t\t'lightMap',\r\n\t\t\t\t'lightMapIntensity',\r\n\t\t\t\t'aoMap',\r\n\t\t\t\t'aoMapIntensity',\r\n\t\t\t\t'emissive',\r\n\t\t\t\t'emissiveIntensity',\r\n\t\t\t\t'emissiveMap',\r\n\t\t\t\t'bumpMap',\r\n\t\t\t\t'bumpScale',\r\n\t\t\t\t'normalMap',\r\n\t\t\t\t'normalMapType',\r\n\t\t\t\t'displacementMap',\r\n\t\t\t\t'displacementScale',\r\n\t\t\t\t'displacementBias',\r\n\t\t\t\t'specularMap',\r\n\t\t\t\t'specular',\r\n\t\t\t\t'glossinessMap',\r\n\t\t\t\t'glossiness',\r\n\t\t\t\t'alphaMap',\r\n\t\t\t\t'envMap',\r\n\t\t\t\t'envMapIntensity',\r\n\t\t\t\t'refractionRatio',\r\n\t\t\t],\r\n\r\n\t\t\tgetMaterialType: function () {\r\n\r\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\r\n\r\n\t\t\t},\r\n\r\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\r\n\r\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\r\n\r\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\r\n\r\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\r\n\r\n\t\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\r\n\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\r\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\r\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\r\n\r\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\r\n\r\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tcreateMaterial: function ( materialParams ) {\r\n\r\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\r\n\t\t\t\tmaterial.fog = true;\r\n\r\n\t\t\t\tmaterial.color = materialParams.color;\r\n\r\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\r\n\r\n\t\t\t\tmaterial.lightMap = null;\r\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\r\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.emissive = materialParams.emissive;\r\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\r\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\r\n\r\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\r\n\t\t\t\tmaterial.bumpScale = 1;\r\n\r\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\r\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\r\n\r\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\r\n\r\n\t\t\t\tmaterial.displacementMap = null;\r\n\t\t\t\tmaterial.displacementScale = 1;\r\n\t\t\t\tmaterial.displacementBias = 0;\r\n\r\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\r\n\t\t\t\tmaterial.specular = materialParams.specular;\r\n\r\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\r\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\r\n\r\n\t\t\t\tmaterial.alphaMap = null;\r\n\r\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\r\n\t\t\t\tmaterial.envMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.refractionRatio = 0.98;\r\n\r\n\t\t\t\treturn material;\r\n\r\n\t\t\t},\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Mesh Quantization Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\r\n\t */\r\n\tfunction GLTFMeshQuantizationExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** INTERPOLATION ********/\r\n\t/*********************************/\r\n\r\n\t// Spline Interpolation\r\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\r\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n\t}\r\n\r\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\r\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\r\n\r\n\t\t// Copies a sample value to the result buffer. See description of glTF\r\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tvalueSize = this.valueSize,\r\n\t\t\toffset = index * valueSize * 3 + valueSize;\r\n\r\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\r\n\r\n\t\t\tresult[ i ] = values[ offset + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer;\r\n\t\tvar values = this.sampleValues;\r\n\t\tvar stride = this.valueSize;\r\n\r\n\t\tvar stride2 = stride * 2;\r\n\t\tvar stride3 = stride * 3;\r\n\r\n\t\tvar td = t1 - t0;\r\n\r\n\t\tvar p = ( t - t0 ) / td;\r\n\t\tvar pp = p * p;\r\n\t\tvar ppp = pp * p;\r\n\r\n\t\tvar offset1 = i1 * stride3;\r\n\t\tvar offset0 = offset1 - stride3;\r\n\r\n\t\tvar s2 = - 2 * ppp + 3 * pp;\r\n\t\tvar s3 = ppp - pp;\r\n\t\tvar s0 = 1 - s2;\r\n\t\tvar s1 = s3 - pp + p;\r\n\r\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\r\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\r\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\r\n\r\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\r\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\r\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\r\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\r\n\r\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\t/*********************************/\r\n\t/********** INTERNALS ************/\r\n\t/*********************************/\r\n\r\n\t/* CONSTANTS */\r\n\r\n\tvar WEBGL_CONSTANTS = {\r\n\t\tFLOAT: 5126,\r\n\t\t//FLOAT_MAT2: 35674,\r\n\t\tFLOAT_MAT3: 35675,\r\n\t\tFLOAT_MAT4: 35676,\r\n\t\tFLOAT_VEC2: 35664,\r\n\t\tFLOAT_VEC3: 35665,\r\n\t\tFLOAT_VEC4: 35666,\r\n\t\tLINEAR: 9729,\r\n\t\tREPEAT: 10497,\r\n\t\tSAMPLER_2D: 35678,\r\n\t\tPOINTS: 0,\r\n\t\tLINES: 1,\r\n\t\tLINE_LOOP: 2,\r\n\t\tLINE_STRIP: 3,\r\n\t\tTRIANGLES: 4,\r\n\t\tTRIANGLE_STRIP: 5,\r\n\t\tTRIANGLE_FAN: 6,\r\n\t\tUNSIGNED_BYTE: 5121,\r\n\t\tUNSIGNED_SHORT: 5123\r\n\t};\r\n\r\n\tvar WEBGL_COMPONENT_TYPES = {\r\n\t\t5120: Int8Array,\r\n\t\t5121: Uint8Array,\r\n\t\t5122: Int16Array,\r\n\t\t5123: Uint16Array,\r\n\t\t5125: Uint32Array,\r\n\t\t5126: Float32Array\r\n\t};\r\n\r\n\tvar WEBGL_FILTERS = {\r\n\t\t9728: NearestFilter,\r\n\t\t9729: LinearFilter,\r\n\t\t9984: NearestMipmapNearestFilter,\r\n\t\t9985: LinearMipmapNearestFilter,\r\n\t\t9986: NearestMipmapLinearFilter,\r\n\t\t9987: LinearMipmapLinearFilter\r\n\t};\r\n\r\n\tvar WEBGL_WRAPPINGS = {\r\n\t\t33071: ClampToEdgeWrapping,\r\n\t\t33648: MirroredRepeatWrapping,\r\n\t\t10497: RepeatWrapping\r\n\t};\r\n\r\n\tvar WEBGL_TYPE_SIZES = {\r\n\t\t'SCALAR': 1,\r\n\t\t'VEC2': 2,\r\n\t\t'VEC3': 3,\r\n\t\t'VEC4': 4,\r\n\t\t'MAT2': 4,\r\n\t\t'MAT3': 9,\r\n\t\t'MAT4': 16\r\n\t};\r\n\r\n\tvar ATTRIBUTES = {\r\n\t\tPOSITION: 'position',\r\n\t\tNORMAL: 'normal',\r\n\t\tTANGENT: 'tangent',\r\n\t\tTEXCOORD_0: 'uv',\r\n\t\tTEXCOORD_1: 'uv2',\r\n\t\tCOLOR_0: 'color',\r\n\t\tWEIGHTS_0: 'skinWeight',\r\n\t\tJOINTS_0: 'skinIndex',\r\n\t};\r\n\r\n\tvar PATH_PROPERTIES = {\r\n\t\tscale: 'scale',\r\n\t\ttranslation: 'position',\r\n\t\trotation: 'quaternion',\r\n\t\tweights: 'morphTargetInfluences'\r\n\t};\r\n\r\n\tvar INTERPOLATION = {\r\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\r\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\r\n\t\tLINEAR: InterpolateLinear,\r\n\t\tSTEP: InterpolateDiscrete\r\n\t};\r\n\r\n\tvar ALPHA_MODES = {\r\n\t\tOPAQUE: 'OPAQUE',\r\n\t\tMASK: 'MASK',\r\n\t\tBLEND: 'BLEND'\r\n\t};\r\n\r\n\t/* UTILITY FUNCTIONS */\r\n\r\n\tfunction resolveURL( url, path ) {\r\n\r\n\t\t// Invalid URL\r\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\r\n\r\n\t\t// Host Relative URL\r\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\r\n\r\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\r\n\r\n\t\t}\r\n\r\n\t\t// Absolute URL http://,https://,//\r\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\r\n\r\n\t\t// Data URI\r\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Blob URL\r\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Relative URL\r\n\t\treturn path + url;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\r\n\t */\r\n\tfunction createDefaultMaterial( cache ) {\r\n\r\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\r\n\r\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\r\n\t\t\t\tcolor: 0xFFFFFF,\r\n\t\t\t\temissive: 0x000000,\r\n\t\t\t\tmetalness: 1,\r\n\t\t\t\troughness: 1,\r\n\t\t\t\ttransparent: false,\r\n\t\t\t\tdepthTest: true,\r\n\t\t\t\tside: FrontSide\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn cache[ 'DefaultMaterial' ];\r\n\r\n\t}\r\n\r\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\r\n\r\n\t\t// Add unknown glTF extensions to an object's userData.\r\n\r\n\t\tfor ( var name in objectDef.extensions ) {\r\n\r\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\r\n\r\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\r\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Object3D|Material|BufferGeometry} object\r\n\t * @param {GLTF.definition} gltfDef\r\n\t */\r\n\tfunction assignExtrasToUserData( object, gltfDef ) {\r\n\r\n\t\tif ( gltfDef.extras !== undefined ) {\r\n\r\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\r\n\r\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\r\n\t *\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Array<GLTF.Target>} targets\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addMorphTargets( geometry, targets, parser ) {\r\n\r\n\t\tvar hasMorphPosition = false;\r\n\t\tvar hasMorphNormal = false;\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\r\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\r\n\r\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\r\n\r\n\t\tvar pendingPositionAccessors = [];\r\n\t\tvar pendingNormalAccessors = [];\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( hasMorphPosition ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\r\n\t\t\t\t\t: geometry.attributes.position;\r\n\r\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasMorphNormal ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\r\n\t\t\t\t\t: geometry.attributes.normal;\r\n\r\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\t\t\tPromise.all( pendingPositionAccessors ),\r\n\t\t\tPromise.all( pendingNormalAccessors )\r\n\t\t] ).then( function ( accessors ) {\r\n\r\n\t\t\tvar morphPositions = accessors[ 0 ];\r\n\t\t\tvar morphNormals = accessors[ 1 ];\r\n\r\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\r\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\r\n\t\t\tgeometry.morphTargetsRelative = true;\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Mesh} mesh\r\n\t * @param {GLTF.Mesh} meshDef\r\n\t */\r\n\tfunction updateMorphTargets( mesh, meshDef ) {\r\n\r\n\t\tmesh.updateMorphTargets();\r\n\r\n\t\tif ( meshDef.weights !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\r\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\r\n\r\n\t\t\tvar targetNames = meshDef.extras.targetNames;\r\n\r\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\r\n\r\n\t\t\t\tmesh.morphTargetDictionary = {};\r\n\r\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction createPrimitiveKey( primitiveDef ) {\r\n\r\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\r\n\t\tvar geometryKey;\r\n\r\n\t\tif ( dracoExtension ) {\r\n\r\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\r\n\t\t\t\t+ ':' + dracoExtension.indices\r\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\r\n\r\n\t\t}\r\n\r\n\t\treturn geometryKey;\r\n\r\n\t}\r\n\r\n\tfunction createAttributesKey( attributes ) {\r\n\r\n\t\tvar attributesKey = '';\r\n\r\n\t\tvar keys = Object.keys( attributes ).sort();\r\n\r\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\r\n\r\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\r\n\r\n\t\t}\r\n\r\n\t\treturn attributesKey;\r\n\r\n\t}\r\n\r\n\t/* GLTF PARSER */\r\n\r\n\tfunction GLTFParser( json, options ) {\r\n\r\n\t\tthis.json = json || {};\r\n\t\tthis.extensions = {};\r\n\t\tthis.plugins = {};\r\n\t\tthis.options = options || {};\r\n\r\n\t\t// loader object cache\r\n\t\tthis.cache = new GLTFRegistry();\r\n\r\n\t\t// associations between Three.js objects and glTF elements\r\n\t\tthis.associations = new Map();\r\n\r\n\t\t// BufferGeometry caching\r\n\t\tthis.primitiveCache = {};\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.meshCache = { refs: {}, uses: {} };\r\n\t\tthis.cameraCache = { refs: {}, uses: {} };\r\n\t\tthis.lightCache = { refs: {}, uses: {} };\r\n\r\n\t\t// Track node names, to ensure no duplicates\r\n\t\tthis.nodeNamesUsed = {};\r\n\r\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\r\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\r\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\r\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\r\n\r\n\t\t}\r\n\r\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\r\n\r\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\r\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\r\n\r\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\r\n\r\n\t\t\tthis.fileLoader.setWithCredentials( true );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tGLTFParser.prototype.setExtensions = function ( extensions ) {\r\n\r\n\t\tthis.extensions = extensions;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.setPlugins = function ( plugins ) {\r\n\r\n\t\tthis.plugins = plugins;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\t// Clear the loader cache\r\n\t\tthis.cache.removeAll();\r\n\r\n\t\t// Mark the special nodes/meshes in json for efficient parse\r\n\t\tthis._invokeAll( function ( ext ) {\r\n\r\n\t\t\treturn ext._markDefs && ext._markDefs();\r\n\r\n\t\t} );\r\n\r\n\t\tPromise.all( [\r\n\r\n\t\t\tthis.getDependencies( 'scene' ),\r\n\t\t\tthis.getDependencies( 'animation' ),\r\n\t\t\tthis.getDependencies( 'camera' ),\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar result = {\r\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\r\n\t\t\t\tscenes: dependencies[ 0 ],\r\n\t\t\t\tanimations: dependencies[ 1 ],\r\n\t\t\t\tcameras: dependencies[ 2 ],\r\n\t\t\t\tasset: json.asset,\r\n\t\t\t\tparser: parser,\r\n\t\t\t\tuserData: {}\r\n\t\t\t};\r\n\r\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\r\n\r\n\t\t\tassignExtrasToUserData( result, json );\r\n\r\n\t\t\tonLoad( result );\r\n\r\n\t\t} ).catch( onError );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Marks the special nodes/meshes in json for efficient parse.\r\n\t */\r\n\tGLTFParser.prototype._markDefs = function () {\r\n\r\n\t\tvar nodeDefs = this.json.nodes || [];\r\n\t\tvar skinDefs = this.json.skins || [];\r\n\t\tvar meshDefs = this.json.meshes || [];\r\n\r\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\r\n\t\t// Object3D. Use the skins' joint references to mark bones.\r\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\r\n\r\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\r\n\r\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Iterate over all nodes, marking references to shared resources,\r\n\t\t// as well as skeleton joints.\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\r\n\r\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\r\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\r\n\t\t\t\t// to mark SkinnedMesh if node has skin.\r\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\r\n\r\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Counts references to shared node / Object3D resources. These resources\r\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\r\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\r\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\r\n\t * Textures) can be reused directly and are not marked here.\r\n\t *\r\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\r\n\t */\r\n\tGLTFParser.prototype._addNodeRef = function ( cache, index ) {\r\n\r\n\t\tif ( index === undefined ) return;\r\n\r\n\t\tif ( cache.refs[ index ] === undefined ) {\r\n\r\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\r\n\r\n\t\t}\r\n\r\n\t\tcache.refs[ index ] ++;\r\n\r\n\t};\r\n\r\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\r\n\tGLTFParser.prototype._getNodeRef = function ( cache, index, object ) {\r\n\r\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\r\n\r\n\t\tvar ref = object.clone();\r\n\r\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\r\n\r\n\t\treturn ref;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeOne = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.push( this );\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) return result;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeAll = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.unshift( this );\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) pending.push( result );\r\n\r\n\t\t}\r\n\r\n\t\treturn pending;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests the specified dependency asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @param {number} index\r\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\r\n\t */\r\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\r\n\r\n\t\tvar cacheKey = type + ':' + index;\r\n\t\tvar dependency = this.cache.get( cacheKey );\r\n\r\n\t\tif ( ! dependency ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 'scene':\r\n\t\t\t\t\tdependency = this.loadScene( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'node':\r\n\t\t\t\t\tdependency = this.loadNode( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'mesh':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'accessor':\r\n\t\t\t\t\tdependency = this.loadAccessor( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bufferView':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'buffer':\r\n\t\t\t\t\tdependency = this.loadBuffer( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'material':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'texture':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'skin':\r\n\t\t\t\t\tdependency = this.loadSkin( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'animation':\r\n\t\t\t\t\tdependency = this.loadAnimation( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'camera':\r\n\t\t\t\t\tdependency = this.loadCamera( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.cache.add( cacheKey, dependency );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests all dependencies of the specified type asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @return {Promise<Array<Object>>}\r\n\t */\r\n\tGLTFParser.prototype.getDependencies = function ( type ) {\r\n\r\n\t\tvar dependencies = this.cache.get( type );\r\n\r\n\t\tif ( ! dependencies ) {\r\n\r\n\t\t\tvar parser = this;\r\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\r\n\r\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\r\n\r\n\t\t\t\treturn parser.getDependency( type, index );\r\n\r\n\t\t\t} ) );\r\n\r\n\t\t\tthis.cache.add( type, dependencies );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependencies;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\r\n\r\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\r\n\t\tvar loader = this.fileLoader;\r\n\r\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\r\n\r\n\t\t}\r\n\r\n\t\t// If present, GLB container is required to be the first buffer.\r\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\r\n\r\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\r\n\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\r\n\r\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferViewIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\r\n\r\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\r\n\r\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\r\n\r\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\r\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\r\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\r\n\t * @param {number} accessorIndex\r\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\r\n\t */\r\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\r\n\r\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\r\n\r\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\r\n\t\t\t// information about attributes coming from another source (e.g. Draco\r\n\t\t\t// compression extension).\r\n\t\t\treturn Promise.resolve( null );\r\n\r\n\t\t}\r\n\r\n\t\tvar pendingBufferViews = [];\r\n\r\n\t\tif ( accessorDef.bufferView !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpendingBufferViews.push( null );\r\n\r\n\t\t}\r\n\r\n\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\r\n\r\n\t\t\tvar bufferView = bufferViews[ 0 ];\r\n\r\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\r\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\r\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\r\n\t\t\tvar itemBytes = elementBytes * itemSize;\r\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\r\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\r\n\t\t\tvar normalized = accessorDef.normalized === true;\r\n\t\t\tvar array, bufferAttribute;\r\n\r\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\r\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\r\n\r\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\r\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\r\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\r\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\r\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\r\n\r\n\t\t\t\tif ( ! ib ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\r\n\r\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\r\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\r\n\r\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( bufferView === null ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\r\n\t\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\r\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\r\n\r\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\r\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\r\n\r\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\r\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\r\n\r\n\t\t\t\tif ( bufferView !== null ) {\r\n\r\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\r\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar index = sparseIndices[ i ];\r\n\r\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\r\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\r\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\r\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\r\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn bufferAttribute;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\r\n\t * @param {number} textureIndex\r\n\t * @return {Promise<THREE.Texture>}\r\n\t */\r\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar textureExtensions = textureDef.extensions || {};\r\n\r\n\t\tvar source;\r\n\r\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\r\n\r\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\tsource = json.images[ textureDef.source ];\r\n\r\n\t\t}\r\n\r\n\t\tvar loader;\r\n\r\n\t\tif ( source.uri ) {\r\n\r\n\t\t\tloader = options.manager.getHandler( source.uri );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\r\n\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\r\n\t\t\t\t: this.textureLoader;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.loadTextureImage = function ( textureIndex, source, loader ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar URL = self.URL || self.webkitURL;\r\n\r\n\t\tvar sourceURI = source.uri;\r\n\t\tvar isObjectURL = false;\r\n\t\tvar hasAlpha = true;\r\n\r\n\t\tif ( source.mimeType === 'image/jpeg' ) hasAlpha = false;\r\n\r\n\t\tif ( source.bufferView !== undefined ) {\r\n\r\n\t\t\t// Load binary image data from bufferView, if provided.\r\n\t\t\t\r\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\r\n\r\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\r\n\r\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\r\n\t\t\t\t\t// alpha channel. This check is conservative  the image could have an alpha\r\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\r\n\t\t\t\t\t// sometimes contains alpha.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\r\n\t\t\t\t\tvar colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\r\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tisObjectURL = true;\r\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\r\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\r\n\t\t\t\treturn sourceURI;\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\t\tvar onLoad = resolve;\r\n\r\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\r\n\r\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\r\n\r\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} ).then( function ( texture ) {\r\n\r\n\t\t\t// Clean up resources and configure Texture.\r\n\r\n\t\t\tif ( isObjectURL === true ) {\r\n\r\n\t\t\t\tURL.revokeObjectURL( sourceURI );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.flipY = false;\r\n\r\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\r\n\r\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\r\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\r\n\r\n\t\t\tvar samplers = json.samplers || {};\r\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\r\n\r\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\r\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\r\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\r\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\r\n\r\n\t\t\tparser.associations.set( texture, {\r\n\t\t\t\ttype: 'textures',\r\n\t\t\t\tindex: textureIndex\r\n\t\t\t} );\r\n\r\n\t\t\treturn texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Asynchronously assigns a texture to the given material parameters.\r\n\t * @param {Object} materialParams\r\n\t * @param {string} mapName\r\n\t * @param {Object} mapDef\r\n\t * @return {Promise}\r\n\t */\r\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\r\n\r\n\t\tvar parser = this;\r\n\r\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\r\n\r\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\r\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\r\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\r\n\r\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\r\n\r\n\t\t\t\tif ( transform ) {\r\n\r\n\t\t\t\t\tvar gltfReference = parser.associations.get( texture );\r\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\r\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams[ mapName ] = texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\r\n\t * already has a material (generated from the glTF material options alone)\r\n\t * but reuse of the same glTF material may require multiple threejs materials\r\n\t * to accomodate different primitive types, defines, etc. New materials will\r\n\t * be created if necessary, and reused from a cache.\r\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\r\n\t */\r\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\r\n\r\n\t\tvar geometry = mesh.geometry;\r\n\t\tvar material = mesh.material;\r\n\r\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\r\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\r\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\r\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\r\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\r\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\r\n\r\n\t\tif ( mesh.isPoints ) {\r\n\r\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\r\n\r\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! pointsMaterial ) {\r\n\r\n\t\t\t\tpointsMaterial = new PointsMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\r\n\t\t\t\tpointsMaterial.color.copy( material.color );\r\n\t\t\t\tpointsMaterial.map = material.map;\r\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = pointsMaterial;\r\n\r\n\t\t} else if ( mesh.isLine ) {\r\n\r\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\r\n\r\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! lineMaterial ) {\r\n\r\n\t\t\t\tlineMaterial = new LineBasicMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\r\n\t\t\t\tlineMaterial.color.copy( material.color );\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = lineMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// Clone the material if it will be modified\r\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\r\n\r\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\r\n\r\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\r\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\r\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\r\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\r\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\r\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\r\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\r\n\r\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! cachedMaterial ) {\r\n\r\n\t\t\t\tcachedMaterial = material.clone();\r\n\r\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\r\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\r\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\r\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\r\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\r\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\r\n\r\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = cachedMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// workarounds for mesh and geometry\r\n\r\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\r\n\r\n\t\t}\r\n\r\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\r\n\t\tif ( material.normalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.clearcoatNormalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.clearcoatNormalScale.y = - material.clearcoatNormalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tmesh.material = material;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.getMaterialType = function ( /* materialIndex */ ) {\r\n\r\n\t\treturn MeshStandardMaterial;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\r\n\t * @param {number} materialIndex\r\n\t * @return {Promise<Material>}\r\n\t */\r\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar materialDef = json.materials[ materialIndex ];\r\n\r\n\t\tvar materialType;\r\n\t\tvar materialParams = {};\r\n\t\tvar materialExtensions = materialDef.extensions || {};\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\r\n\r\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\r\n\t\t\tmaterialType = sgExtension.getMaterialType();\r\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\r\n\r\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\r\n\t\t\tmaterialType = kmuExtension.getMaterialType();\r\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Specification:\r\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\r\n\r\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\r\n\r\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\r\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\r\n\r\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\r\n\r\n\t\t\t} ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.doubleSided === true ) {\r\n\r\n\t\t\tmaterialParams.side = DoubleSide;\r\n\r\n\t\t}\r\n\r\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\r\n\r\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\r\n\r\n\t\t\tmaterialParams.transparent = true;\r\n\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\r\n\t\t\tmaterialParams.depthWrite = false;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmaterialParams.transparent = false;\r\n\r\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\r\n\r\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\r\n\r\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\r\n\r\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\tvar material;\r\n\r\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\r\n\r\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial = new materialType( materialParams );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\r\n\r\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\r\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\r\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\r\n\r\n\t\t\tassignExtrasToUserData( material, materialDef );\r\n\r\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\r\n\r\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/** When Object3D instances are targeted by animation, they need unique names. */\r\n\tGLTFParser.prototype.createUniqueName = function ( originalName ) {\r\n\r\n\t\tvar name = PropertyBinding.sanitizeNodeName( originalName || '' );\r\n\r\n\t\tfor ( var i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\r\n\r\n\t\t\tname = originalName + '_' + i;\r\n\r\n\t\t}\r\n\r\n\t\tthis.nodeNamesUsed[ name ] = true;\r\n\r\n\t\treturn name;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t */\r\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar box = new Box3();\r\n\r\n\t\tif ( attributes.POSITION !== undefined ) {\r\n\r\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\r\n\r\n\t\t\tvar min = accessor.min;\r\n\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\tbox.set(\r\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\r\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar targets = primitiveDef.targets;\r\n\r\n\t\tif ( targets !== undefined ) {\r\n\r\n\t\t\tvar maxDisplacement = new Vector3();\r\n\t\t\tvar vector = new Vector3();\r\n\r\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( target.POSITION !== undefined ) {\r\n\r\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\r\n\t\t\t\t\tvar min = accessor.min;\r\n\t\t\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\r\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\r\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\r\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\r\n\r\n\t\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\r\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\r\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\r\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\r\n\t\t\t\t\t\tmaxDisplacement.max( vector );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\r\n\t\t\tbox.expandByVector( maxDisplacement );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.boundingBox = box;\r\n\r\n\t\tvar sphere = new Sphere();\r\n\r\n\t\tbox.getCenter( sphere.center );\r\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\r\n\r\n\t\tgeometry.boundingSphere = sphere;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\r\n\r\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\r\n\t\t\t\t.then( function ( accessor ) {\r\n\r\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var gltfAttributeName in attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\r\n\r\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\r\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\r\n\r\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\r\n\r\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\r\n\r\n\t\t\t\tgeometry.setIndex( accessor );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( accessor );\r\n\r\n\t\t}\r\n\r\n\t\tassignExtrasToUserData( geometry, primitiveDef );\r\n\r\n\t\tcomputeBounds( geometry, primitiveDef, parser );\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\treturn primitiveDef.targets !== undefined\r\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\r\n\t\t\t\t: geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Number} drawMode\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\r\n\r\n\t\tvar index = geometry.getIndex();\r\n\r\n\t\t// generate index if not present\r\n\r\n\t\tif ( index === null ) {\r\n\r\n\t\t\tvar indices = [];\r\n\r\n\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\treturn geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar numberOfTriangles = index.count - 2;\r\n\t\tvar newIndices = [];\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t}\r\n\r\n\t\t// build final geometry\r\n\r\n\t\tvar newGeometry = geometry.clone();\r\n\t\tnewGeometry.setIndex( newIndices );\r\n\r\n\t\treturn newGeometry;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\r\n\t *\r\n\t * Creates BufferGeometries from primitives.\r\n\t *\r\n\t * @param {Array<GLTF.Primitive>} primitives\r\n\t * @return {Promise<Array<BufferGeometry>>}\r\n\t */\r\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar cache = this.primitiveCache;\r\n\r\n\t\tfunction createDracoPrimitive( primitive ) {\r\n\r\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\r\n\t\t\t\t.decodePrimitive( primitive, parser )\r\n\t\t\t\t.then( function ( geometry ) {\r\n\r\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar primitive = primitives[ i ];\r\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\r\n\r\n\t\t\t// See if we've already created this geometry\r\n\t\t\tvar cached = cache[ cacheKey ];\r\n\r\n\t\t\tif ( cached ) {\r\n\r\n\t\t\t\t// Use the cached geometry if it exists\r\n\t\t\t\tpending.push( cached.promise );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar geometryPromise;\r\n\r\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\r\n\r\n\t\t\t\t\t// Use DRACO geometry if available\r\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Otherwise create a new geometry\r\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache this geometry\r\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\r\n\r\n\t\t\t\tpending.push( geometryPromise );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\r\n\t * @param {number} meshIndex\r\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\r\n\t */\r\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\tvar meshDef = json.meshes[ meshIndex ];\r\n\t\tvar primitives = meshDef.primitives;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar material = primitives[ i ].material === undefined\r\n\t\t\t\t? createDefaultMaterial( this.cache )\r\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\r\n\r\n\t\t\tpending.push( material );\r\n\r\n\t\t}\r\n\r\n\t\tpending.push( parser.loadGeometries( primitives ) );\r\n\r\n\t\treturn Promise.all( pending ).then( function ( results ) {\r\n\r\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\r\n\t\t\tvar geometries = results[ results.length - 1 ];\r\n\r\n\t\t\tvar meshes = [];\r\n\r\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar geometry = geometries[ i ];\r\n\t\t\t\tvar primitive = primitives[ i ];\r\n\r\n\t\t\t\t// 1. create Mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tvar material = materials[ i ];\r\n\r\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\r\n\t\t\t\t\tprimitive.mode === undefined ) {\r\n\r\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\r\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\r\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\r\n\t\t\t\t\t\t: new Mesh( geometry, material );\r\n\r\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\r\n\r\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\r\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\r\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\r\n\r\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\r\n\r\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\r\n\r\n\t\t\t\t\tmesh = new Line( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\r\n\r\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\r\n\r\n\t\t\t\t\tmesh = new Points( geometry, material );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\r\n\r\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\r\n\r\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\r\n\r\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\r\n\r\n\t\t\t\tparser.assignFinalMaterial( mesh );\r\n\r\n\t\t\t\tmeshes.push( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( meshes.length === 1 ) {\r\n\r\n\t\t\t\treturn meshes[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar group = new Group();\r\n\r\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tgroup.add( meshes[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn group;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\r\n\t * @param {number} cameraIndex\r\n\t * @return {Promise<THREE.Camera>}\r\n\t */\r\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\r\n\r\n\t\tvar camera;\r\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\r\n\t\tvar params = cameraDef[ cameraDef.type ];\r\n\r\n\t\tif ( ! params ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.type === 'perspective' ) {\r\n\r\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\r\n\r\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\r\n\r\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\r\n\r\n\t\tassignExtrasToUserData( camera, cameraDef );\r\n\r\n\t\treturn Promise.resolve( camera );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\r\n\t * @param {number} skinIndex\r\n\t * @return {Promise<Object>}\r\n\t */\r\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\r\n\r\n\t\tvar skinDef = this.json.skins[ skinIndex ];\r\n\r\n\t\tvar skinEntry = { joints: skinDef.joints };\r\n\r\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\r\n\r\n\t\t\treturn Promise.resolve( skinEntry );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\r\n\r\n\t\t\tskinEntry.inverseBindMatrices = accessor;\r\n\r\n\t\t\treturn skinEntry;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\r\n\t * @param {number} animationIndex\r\n\t * @return {Promise<AnimationClip>}\r\n\t */\r\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar animationDef = json.animations[ animationIndex ];\r\n\r\n\t\tvar pendingNodes = [];\r\n\t\tvar pendingInputAccessors = [];\r\n\t\tvar pendingOutputAccessors = [];\r\n\t\tvar pendingSamplers = [];\r\n\t\tvar pendingTargets = [];\r\n\r\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar channel = animationDef.channels[ i ];\r\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\r\n\t\t\tvar target = channel.target;\r\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\r\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\r\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\r\n\r\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\r\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\r\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\r\n\t\t\tpendingSamplers.push( sampler );\r\n\t\t\tpendingTargets.push( target );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\r\n\t\t\tPromise.all( pendingNodes ),\r\n\t\t\tPromise.all( pendingInputAccessors ),\r\n\t\t\tPromise.all( pendingOutputAccessors ),\r\n\t\t\tPromise.all( pendingSamplers ),\r\n\t\t\tPromise.all( pendingTargets )\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar nodes = dependencies[ 0 ];\r\n\t\t\tvar inputAccessors = dependencies[ 1 ];\r\n\t\t\tvar outputAccessors = dependencies[ 2 ];\r\n\t\t\tvar samplers = dependencies[ 3 ];\r\n\t\t\tvar targets = dependencies[ 4 ];\r\n\r\n\t\t\tvar tracks = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar node = nodes[ i ];\r\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\r\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\r\n\t\t\t\tvar sampler = samplers[ i ];\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( node === undefined ) continue;\r\n\r\n\t\t\t\tnode.updateMatrix();\r\n\t\t\t\tnode.matrixAutoUpdate = true;\r\n\r\n\t\t\t\tvar TypedKeyframeTrack;\r\n\r\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.position:\r\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\r\n\r\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\r\n\r\n\t\t\t\tvar targetNames = [];\r\n\r\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\r\n\r\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\r\n\t\t\t\t\tnode.traverse( function ( object ) {\r\n\r\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\r\n\r\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttargetNames.push( targetName );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar outputArray = outputAccessor.array;\r\n\r\n\t\t\t\tif ( outputAccessor.normalized ) {\r\n\r\n\t\t\t\t\tvar scale;\r\n\r\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 127;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 255;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 32767;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 65535;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutputArray = scaled;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\r\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\r\n\t\t\t\t\t\tinputAccessor.array,\r\n\t\t\t\t\t\toutputArray,\r\n\t\t\t\t\t\tinterpolation\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Override interpolation with custom factory method.\r\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\r\n\r\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\r\n\r\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\r\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\r\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\r\n\r\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\r\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttracks.push( track );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\r\n\r\n\t\t\treturn new AnimationClip( name, undefined, tracks );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\r\n\t * @param {number} nodeIndex\r\n\t * @return {Promise<Object3D>}\r\n\t */\r\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar parser = this;\r\n\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\r\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\r\n\t\tvar nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\r\n\r\n\t\treturn ( function () {\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\r\n\r\n\t\t\t\t\tvar node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\r\n\r\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\r\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\r\n\r\n\t\t\t\t\t\tnode.traverse( function ( o ) {\r\n\r\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\r\n\r\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\r\n\r\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\r\n\r\n\t\t\t} ).forEach( function ( promise ) {\r\n\r\n\t\t\t\tpending.push( promise );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\treturn Promise.all( pending );\r\n\r\n\t\t}() ).then( function ( objects ) {\r\n\r\n\t\t\tvar node;\r\n\r\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\r\n\t\t\tif ( nodeDef.isBone === true ) {\r\n\r\n\t\t\t\tnode = new Bone();\r\n\r\n\t\t\t} else if ( objects.length > 1 ) {\r\n\r\n\t\t\t\tnode = new Group();\r\n\r\n\t\t\t} else if ( objects.length === 1 ) {\r\n\r\n\t\t\t\tnode = objects[ 0 ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnode = new Object3D();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node !== objects[ 0 ] ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tnode.add( objects[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.name ) {\r\n\r\n\t\t\t\tnode.userData.name = nodeDef.name;\r\n\t\t\t\tnode.name = nodeName;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tassignExtrasToUserData( node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.matrix !== undefined ) {\r\n\r\n\t\t\t\tvar matrix = new Matrix4();\r\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\r\n\t\t\t\tnode.applyMatrix4( matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\r\n\r\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\r\n\r\n\t\t\treturn node;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\r\n\t * @param {number} sceneIndex\r\n\t * @return {Promise<Group>}\r\n\t */\r\n\tGLTFParser.prototype.loadScene = function () {\r\n\r\n\t\t// scene node hierachy builder\r\n\r\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\r\n\r\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\r\n\r\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\r\n\r\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\r\n\r\n\t\t\t\t// build skeleton here as well\r\n\r\n\t\t\t\tvar skinEntry;\r\n\r\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\r\n\r\n\t\t\t\t\tskinEntry = skin;\r\n\r\n\t\t\t\t\tvar pendingJoints = [];\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Promise.all( pendingJoints );\r\n\r\n\t\t\t\t} ).then( function ( jointNodes ) {\r\n\r\n\t\t\t\t\tnode.traverse( function ( mesh ) {\r\n\r\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\r\n\r\n\t\t\t\t\t\tvar bones = [];\r\n\t\t\t\t\t\tvar boneInverses = [];\r\n\r\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\r\n\r\n\t\t\t\t\t\t\tif ( jointNode ) {\r\n\r\n\t\t\t\t\t\t\t\tbones.push( jointNode );\r\n\r\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\r\n\r\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\r\n\r\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t} ).then( function ( node ) {\r\n\r\n\t\t\t\t// build node hierachy\r\n\r\n\t\t\t\tparentObject.add( node );\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( nodeDef.children ) {\r\n\r\n\t\t\t\t\tvar children = nodeDef.children;\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar child = children[ i ];\r\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn function loadScene( sceneIndex ) {\r\n\r\n\t\t\tvar json = this.json;\r\n\t\t\tvar extensions = this.extensions;\r\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\r\n\t\t\tvar parser = this;\r\n\r\n\t\t\t// Loader returns Group, not Scene.\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\r\n\t\t\tvar scene = new Group();\r\n\t\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\r\n\r\n\t\t\tassignExtrasToUserData( scene, sceneDef );\r\n\r\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\r\n\r\n\t\t\tvar nodeIds = sceneDef.nodes || [];\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\t\treturn scene;\r\n\r\n\t\t\t} );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\treturn GLTFLoader;\r\n\r\n} )();\r\n\r\nexport { GLTFLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/GLTFLoader.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = sOR5\n// module chunks = 0","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = ujcs\n// module chunks = 0","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { TextureCubeUVNode } from './TextureCubeUVNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\n\r\nfunction TextureCubeNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n\tthis.radianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tuv || new ReflectNode( ReflectNode.VECTOR ),\r\n\t\t// bias should be replaced in builder.context in build process\r\n\t\tbias\r\n\t);\r\n\r\n\tthis.irradianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tnew NormalNode( NormalNode.WORLD ),\r\n\t\tnew FloatNode( 1 ).setReadonly( true )\r\n\t);\r\n\r\n}\r\n\r\nTextureCubeNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeNode.prototype.constructor = TextureCubeNode;\r\nTextureCubeNode.prototype.nodeType = \"TextureCube\";\r\n\r\nTextureCubeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tbuilder.require( 'irradiance' );\r\n\r\n\t\tif ( builder.context.bias ) {\r\n\r\n\t\t\tbuilder.context.bias.setTexture( this.value );\r\n\r\n\t\t}\r\n\r\n\t\tvar scopeNode = builder.slot === 'irradiance' ? this.irradianceNode : this.radianceNode;\r\n\r\n\t\treturn scopeNode.build( builder, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeNode.js","/*!\r\n\r\nJSZip - A Javascript class for generating and reading zip files\r\n<http://stuartk.com/jszip>\r\n\r\n(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>\r\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\r\n\r\nJSZip uses the library pako released under the MIT license :\r\nhttps://github.com/nodeca/pako/blob/master/LICENSE\r\n*/\r\n!function(a){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=a();else if(\"function\"==typeof define&&define.amd)define([],a);else{var b;b=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\"function\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\"Cannot find module '\"+g+\"'\");throw j.code=\"MODULE_NOT_FOUND\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\"function\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){\"use strict\";function d(a){if(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0;for(var b=0;b<this.data.length;b++)a[b]=255&a[b]}}var e=a(\"./dataReader\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data[this.zero+a]},d.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f-this.zero;return-1},d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6}],2:[function(a,b,c){\"use strict\";var d=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";c.encode=function(a,b){for(var c,e,f,g,h,i,j,k=\"\",l=0;l<a.length;)c=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k=k+d.charAt(g)+d.charAt(h)+d.charAt(i)+d.charAt(j);return k},c.decode=function(a,b){var c,e,f,g,h,i,j,k=\"\",l=0;for(a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");l<a.length;)g=d.indexOf(a.charAt(l++)),h=d.indexOf(a.charAt(l++)),i=d.indexOf(a.charAt(l++)),j=d.indexOf(a.charAt(l++)),c=g<<2|h>>4,e=(15&h)<<4|i>>2,f=(3&i)<<6|j,k+=String.fromCharCode(c),64!=i&&(k+=String.fromCharCode(e)),64!=j&&(k+=String.fromCharCode(f));return k}},{}],3:[function(a,b,c){\"use strict\";function d(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}d.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},b.exports=d},{}],4:[function(a,b,c){\"use strict\";c.STORE={magic:\"\\x00\\x00\",compress:function(a,b){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null},c.DEFLATE=a(\"./flate\")},{\"./flate\":9}],5:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(a,b){if(\"undefined\"==typeof a||!a.length)return 0;var c=\"string\"!==d.getTypeOf(a);\"undefined\"==typeof b&&(b=0);var f=0,g=0,h=0;b=-1^b;for(var i=0,j=a.length;j>i;i++)h=c?a[i]:a.charCodeAt(i),g=255&(b^h),f=e[g],b=b>>>8^f;return-1^b}},{\"./utils\":22}],6:[function(a,b,c){\"use strict\";function d(a){this.data=null,this.length=0,this.index=0,this.zero=0}var e=a(\"./utils\");d.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||0>a)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+a+\"). Corrupted zip ?\")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return e.transformTo(\"string\",this.readData(a))},readData:function(a){},lastIndexOfSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1)}},b.exports=d},{\"./utils\":22}],7:[function(a,b,c){\"use strict\";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!1,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],8:[function(a,b,c){\"use strict\";var d=a(\"./utils\");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo(\"uint8array\",a)},c.uint8Array2String=function(a){return d.transformTo(\"string\",a)},c.string2Blob=function(a){var b=d.transformTo(\"arraybuffer\",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{\"./utils\":22}],9:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,e=a(\"pako\");c.uncompressInputType=d?\"uint8array\":\"array\",c.compressInputType=d?\"uint8array\":\"array\",c.magic=\"\\b\\x00\",c.compress=function(a,b){return e.deflateRaw(a,{level:b.level||-1})},c.uncompress=function(a){return e.inflateRaw(a)}},{pako:25}],10:[function(a,b,c){\"use strict\";function d(a,b){return this instanceof d?(this.files={},this.comment=null,this.root=\"\",a&&this.load(a,b),void(this.clone=function(){var a=new d;for(var b in this)\"function\"!=typeof this[b]&&(a[b]=this[b]);return a})):new d(a,b)}var e=a(\"./base64\");d.prototype=a(\"./object\"),d.prototype.load=a(\"./load\"),d.support=a(\"./support\"),d.defaults=a(\"./defaults\"),d.utils=a(\"./deprecatedPublicUtils\"),d.base64={encode:function(a){return e.encode(a)},decode:function(a){return e.decode(a)}},d.compressions=a(\"./compressions\"),b.exports=d},{\"./base64\":2,\"./compressions\":4,\"./defaults\":7,\"./deprecatedPublicUtils\":8,\"./load\":11,\"./object\":14,\"./support\":18}],11:[function(a,b,c){\"use strict\";var d=a(\"./base64\"),e=a(\"./utf8\"),f=a(\"./utils\"),g=a(\"./zipEntries\");b.exports=function(a,b){var c,h,i,j;for(b=f.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),b.base64&&(a=d.decode(a)),h=new g(a,b),c=h.files,i=0;i<c.length;i++)j=c[i],this.file(j.fileNameStr,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:b.createFolders});return h.zipComment.length&&(this.comment=h.zipComment),this}},{\"./base64\":2,\"./utf8\":21,\"./utils\":22,\"./zipEntries\":23}],12:[function(a,b,c){(function(a){\"use strict\";b.exports=function(b,c){return new a(b,c)},b.exports.test=function(b){return a.isBuffer(b)}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],13:[function(a,b,c){\"use strict\";function d(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./uint8ArrayReader\");d.prototype=new e,d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./uint8ArrayReader\":19}],14:[function(a,b,c){\"use strict\";var d=a(\"./support\"),e=a(\"./utils\"),f=a(\"./crc32\"),g=a(\"./signature\"),h=a(\"./defaults\"),i=a(\"./base64\"),j=a(\"./compressions\"),k=a(\"./compressedObject\"),l=a(\"./nodeBuffer\"),m=a(\"./utf8\"),n=a(\"./stringWriter\"),o=a(\"./uint8ArrayWriter\"),p=function(a){if(a._data instanceof k&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,\"uint8array\"===e.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},q=function(a){var b=p(a),c=e.getTypeOf(b);return\"string\"===c?!a.options.binary&&d.nodebuffer?l(b,\"utf-8\"):a.asBinary():b},r=function(a){var b=p(this);return null===b||\"undefined\"==typeof b?\"\":(this.options.base64&&(b=i.decode(b)),b=a&&this.options.binary?D.utf8decode(b):e.transformTo(\"string\",b),a||this.options.binary||(b=e.transformTo(\"string\",D.utf8encode(b))),b)},s=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this.options=c,this._initialMetadata={dir:c.dir,date:c.date}};s.prototype={asText:function(){return r.call(this,!0)},asBinary:function(){return r.call(this,!1)},asNodeBuffer:function(){var a=q(this);return e.transformTo(\"nodebuffer\",a)},asUint8Array:function(){var a=q(this);return e.transformTo(\"uint8array\",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var t=function(a,b){var c,d=\"\";for(c=0;b>c;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},u=function(a){return a=a||{},a.base64!==!0||null!==a.binary&&void 0!==a.binary||(a.binary=!0),a=e.extend(a,h),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},v=function(a,b,c){var d,f=e.getTypeOf(b);if(c=u(c),\"string\"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(a=x(a)),c.createFolders&&(d=w(a))&&y.call(this,d,!0),c.dir||null===b||\"undefined\"==typeof b)c.base64=!1,c.binary=!1,b=null,f=null;else if(\"string\"===f)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=e.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(f||b instanceof k))throw new Error(\"The data of '\"+a+\"' is in an unsupported format !\");\"arraybuffer\"===f&&(b=e.transformTo(\"uint8array\",b))}var g=new s(a,b,c);return this.files[a]=g,g},w=function(a){\"/\"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf(\"/\");return b>0?a.substring(0,b):\"\"},x=function(a){return\"/\"!=a.slice(-1)&&(a+=\"/\"),a},y=function(a,b){return b=\"undefined\"!=typeof b?b:!1,a=x(a),this.files[a]||v.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},z=function(a,b,c){var d,g=new k;return a._data instanceof k?(g.uncompressedSize=a._data.uncompressedSize,g.crc32=a._data.crc32,0===g.uncompressedSize||a.dir?(b=j.STORE,g.compressedContent=\"\",g.crc32=0):a._data.compressionMethod===b.magic?g.compressedContent=a._data.getCompressedContent():(d=a._data.getContent(),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c))):(d=q(a),d&&0!==d.length&&!a.dir||(b=j.STORE,d=\"\"),g.uncompressedSize=d.length,g.crc32=f(d),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c)),g.compressedSize=g.compressedContent.length,g.compressionMethod=b.magic,g},A=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},B=function(a,b){return 63&(a||0)},C=function(a,b,c,d,h,i){var j,k,l,n,o=(c.compressedContent,i!==m.utf8encode),p=e.transformTo(\"string\",i(b.name)),q=e.transformTo(\"string\",m.utf8encode(b.name)),r=b.comment||\"\",s=e.transformTo(\"string\",i(r)),u=e.transformTo(\"string\",m.utf8encode(r)),v=q.length!==b.name.length,w=u.length!==r.length,x=b.options,y=\"\",z=\"\",C=\"\";l=b._initialMetadata.dir!==b.dir?b.dir:x.dir,n=b._initialMetadata.date!==b.date?b.date:x.date;var D=0,E=0;l&&(D|=16),\"UNIX\"===h?(E=798,D|=A(b.unixPermissions,l)):(E=20,D|=B(b.dosPermissions,l)),j=n.getHours(),j<<=6,j|=n.getMinutes(),j<<=5,j|=n.getSeconds()/2,k=n.getFullYear()-1980,k<<=4,k|=n.getMonth()+1,k<<=5,k|=n.getDate(),v&&(z=t(1,1)+t(f(p),4)+q,y+=\"up\"+t(z.length,2)+z),w&&(C=t(1,1)+t(this.crc32(s),4)+u,y+=\"uc\"+t(C.length,2)+C);var F=\"\";F+=\"\\n\\x00\",F+=o||!v&&!w?\"\\x00\\x00\":\"\\x00\\b\",F+=c.compressionMethod,F+=t(j,2),F+=t(k,2),F+=t(c.crc32,4),F+=t(c.compressedSize,4),F+=t(c.uncompressedSize,4),F+=t(p.length,2),F+=t(y.length,2);var G=g.LOCAL_FILE_HEADER+F+p+y,H=g.CENTRAL_FILE_HEADER+t(E,2)+F+t(s.length,2)+\"\\x00\\x00\\x00\\x00\"+t(D,4)+t(d,4)+p+y+s;return{fileRecord:G,dirRecord:H,compressedObject:c}},D={load:function(a,b){throw new Error(\"Load method is not defined. Is the file jszip-load.js included ?\")},filter:function(a){var b,c,d,f,g=[];for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],f=new s(d.name,d._data,e.extend(d.options)),c=b.slice(this.root.length,b.length),b.slice(0,this.root.length)===this.root&&a(c,f)&&g.push(f));return g},file:function(a,b,c){if(1===arguments.length){if(e.isRegExp(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,v.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(e.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=y.call(this,b),d=this.clone();return d.root=c.name,d},remove:function(a){a=this.root+a;var b=this.files[a];if(b||(\"/\"!=a.slice(-1)&&(a+=\"/\"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){a=e.extend(a||{},{base64:!0,compression:\"STORE\",compressionOptions:null,type:\"base64\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:m.utf8encode}),e.checkSupport(a.type),\"darwin\"!==a.platform&&\"freebsd\"!==a.platform&&\"linux\"!==a.platform&&\"sunos\"!==a.platform||(a.platform=\"UNIX\"),\"win32\"===a.platform&&(a.platform=\"DOS\");var b,c,d=[],f=0,h=0,k=e.transformTo(\"string\",a.encodeFileName(a.comment||this.comment||\"\"));for(var l in this.files)if(this.files.hasOwnProperty(l)){var p=this.files[l],q=p.options.compression||a.compression.toUpperCase(),r=j[q];if(!r)throw new Error(q+\" is not a valid compression method !\");var s=p.options.compressionOptions||a.compressionOptions||{},u=z.call(this,p,r,s),v=C.call(this,l,p,u,f,a.platform,a.encodeFileName);f+=v.fileRecord.length+u.compressedSize,h+=v.dirRecord.length,d.push(v)}var w=\"\";w=g.CENTRAL_DIRECTORY_END+\"\\x00\\x00\\x00\\x00\"+t(d.length,2)+t(d.length,2)+t(h,4)+t(f,4)+t(k.length,2)+k;var x=a.type.toLowerCase();for(b=\"uint8array\"===x||\"arraybuffer\"===x||\"blob\"===x||\"nodebuffer\"===x?new o(f+h+w.length):new n(f+h+w.length),c=0;c<d.length;c++)b.append(d[c].fileRecord),b.append(d[c].compressedObject.compressedContent);for(c=0;c<d.length;c++)b.append(d[c].dirRecord);b.append(w);var y=b.finalize();switch(a.type.toLowerCase()){case\"uint8array\":case\"arraybuffer\":case\"nodebuffer\":return e.transformTo(a.type.toLowerCase(),y);case\"blob\":return e.arrayBuffer2Blob(e.transformTo(\"arraybuffer\",y),a.mimeType);case\"base64\":return a.base64?i.encode(y):y;default:return y}},crc32:function(a,b){return f(a,b)},utf8encode:function(a){return e.transformTo(\"string\",m.utf8encode(a))},utf8decode:function(a){return m.utf8decode(a)}};b.exports=D},{\"./base64\":2,\"./compressedObject\":3,\"./compressions\":4,\"./crc32\":5,\"./defaults\":7,\"./nodeBuffer\":12,\"./signature\":15,\"./stringWriter\":17,\"./support\":18,\"./uint8ArrayWriter\":20,\"./utf8\":21,\"./utils\":22}],15:[function(a,b,c){\"use strict\";c.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",c.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",c.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",c.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",c.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],16:[function(a,b,c){\"use strict\";function d(a,b){this.data=a,b||(this.data=f.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./dataReader\"),f=a(\"./utils\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},d.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6,\"./utils\":22}],17:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(){this.data=[]};e.prototype={append:function(a){a=d.transformTo(\"string\",a),this.data.push(a)},finalize:function(){return this.data.join(\"\")}},b.exports=e},{\"./utils\":22}],18:[function(a,b,c){(function(a){\"use strict\";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,c.nodebuffer=\"undefined\"!=typeof a,c.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)c.blob=!1;else{var b=new ArrayBuffer(0);try{c.blob=0===new Blob([b],{type:\"application/zip\"}).size}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(b),c.blob=0===f.getBlob(\"application/zip\").size}catch(d){c.blob=!1}}}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],19:[function(a,b,c){\"use strict\";function d(a){a&&(this.data=a,this.length=this.data.length,this.index=0,this.zero=0)}var e=a(\"./arrayReader\");d.prototype=new e,d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./arrayReader\":1}],20:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(a){this.data=new Uint8Array(a),this.index=0};e.prototype={append:function(a){0!==a.length&&(a=d.transformTo(\"uint8array\",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},b.exports=e},{\"./utils\":22}],21:[function(a,b,c){\"use strict\";for(var d=a(\"./utils\"),e=a(\"./support\"),f=a(\"./nodeBuffer\"),g=new Array(256),h=0;256>h;h++)g[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;g[254]=g[254]=1;var i=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=e.uint8array?new Uint8Array(i):new Array(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},j=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+g[a[c]]>b?c:b},k=function(a){var b,c,e,f,h=a.length,i=new Array(2*h);for(c=0,b=0;h>b;)if(e=a[b++],128>e)i[c++]=e;else if(f=g[e],f>4)i[c++]=65533,b+=f-1;else{for(e&=2===f?31:3===f?15:7;f>1&&h>b;)e=e<<6|63&a[b++],f--;f>1?i[c++]=65533:65536>e?i[c++]=e:(e-=65536,i[c++]=55296|e>>10&1023,i[c++]=56320|1023&e)}return i.length!==c&&(i.subarray?i=i.subarray(0,c):i.length=c),d.applyFromCharCode(i)};c.utf8encode=function(a){return e.nodebuffer?f(a,\"utf-8\"):i(a)},c.utf8decode=function(a){if(e.nodebuffer)return d.transformTo(\"nodebuffer\",a).toString(\"utf-8\");a=d.transformTo(e.uint8array?\"uint8array\":\"array\",a);for(var b=[],c=0,f=a.length,g=65536;f>c;){var h=j(a,Math.min(c+g,f));e.uint8array?b.push(k(a.subarray(c,h))):b.push(k(a.slice(c,h))),c=h}return b.join(\"\")}},{\"./nodeBuffer\":12,\"./support\":18,\"./utils\":22}],22:[function(a,b,c){\"use strict\";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=[],e=a.length,f=c.getTypeOf(a),g=0,h=!0;try{switch(f){case\"uint8array\":String.fromCharCode.apply(null,new Uint8Array(0));break;case\"nodebuffer\":String.fromCharCode.apply(null,j(0))}}catch(i){h=!1}if(!h){for(var k=\"\",l=0;l<a.length;l++)k+=String.fromCharCode(a[l]);return k}for(;e>g&&b>1;)try{\"array\"===f||\"nodebuffer\"===f?d.push(String.fromCharCode.apply(null,a.slice(g,Math.min(g+b,e)))):d.push(String.fromCharCode.apply(null,a.subarray(g,Math.min(g+b,e)))),g+=b}catch(i){b=Math.floor(b/2)}return d.join(\"\")}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a(\"./support\"),i=a(\"./compressions\"),j=a(\"./nodeBuffer\");c.string2binary=function(a){for(var b=\"\",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},c.arrayBuffer2Blob=function(a,b){c.checkSupport(\"blob\"),b=b||\"application/zip\";try{return new Blob([a],{type:b})}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;return f.append(a),f.getBlob(b)}catch(d){throw new Error(\"Bug : can't construct the Blob.\")}}},c.applyFromCharCode=f;var k={};k.string={string:d,array:function(a){return e(a,new Array(a.length))},arraybuffer:function(a){return k.string.uint8array(a).buffer},uint8array:function(a){return e(a,new Uint8Array(a.length))},nodebuffer:function(a){return e(a,j(a.length))}},k.array={string:f,array:d,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(a)}},k.arraybuffer={string:function(a){return f(new Uint8Array(a))},array:function(a){return g(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:d,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(new Uint8Array(a))}},k.uint8array={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:d,nodebuffer:function(a){return j(a)}},k.nodebuffer={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return k.nodebuffer.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:d},c.transformTo=function(a,b){if(b||(b=\"\"),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=k[d][a](b);return e},c.getTypeOf=function(a){return\"string\"==typeof a?\"string\":\"[object Array]\"===Object.prototype.toString.call(a)?\"array\":h.nodebuffer&&j.test(a)?\"nodebuffer\":h.uint8array&&a instanceof Uint8Array?\"uint8array\":h.arraybuffer&&a instanceof ArrayBuffer?\"arraybuffer\":void 0},c.checkSupport=function(a){var b=h[a.toLowerCase()];if(!b)throw new Error(a+\" is not supported by this browser\")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d=\"\";for(c=0;c<(a||\"\").length;c++)b=a.charCodeAt(c),d+=\"\\\\x\"+(16>b?\"0\":\"\")+b.toString(16).toUpperCase();return d},c.findCompression=function(a){for(var b in i)if(i.hasOwnProperty(b)&&i[b].magic===a)return i[b];return null},c.isRegExp=function(a){return\"[object RegExp]\"===Object.prototype.toString.call(a)},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&\"undefined\"==typeof c[b]&&(c[b]=arguments[a][b]);return c}},{\"./compressions\":4,\"./nodeBuffer\":12,\"./support\":18}],23:[function(a,b,c){\"use strict\";function d(a,b){this.files=[],this.loadOptions=b,a&&this.load(a)}var e=a(\"./stringReader\"),f=a(\"./nodeBufferReader\"),g=a(\"./uint8ArrayReader\"),h=a(\"./arrayReader\"),i=a(\"./utils\"),j=a(\"./signature\"),k=a(\"./zipEntry\"),l=a(\"./support\");a(\"./object\");d.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw new Error(\"Corrupted zip or bug : unexpected signature (\"+i.pretty(b)+\", expected \"+i.pretty(a)+\")\")},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4),e=d===b;return this.reader.setIndex(c),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=l.uint8array?\"uint8array\":\"array\",c=i.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44,e=0;d>e;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readString(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(j.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===j.CENTRAL_FILE_HEADER;)a=new k({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(j.CENTRAL_DIRECTORY_END);if(0>a){var b=!this.isSignature(0,j.LOCAL_FILE_HEADER);throw b?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip : can't find end of central directory\")}this.reader.setIndex(a);var c=a;if(this.checkSignature(j.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>a)throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(a),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,j.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var e=c-d;if(e>0)this.isSignature(c,j.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(0>e)throw new Error(\"Corrupted zip: missing \"+Math.abs(e)+\" bytes.\")},prepareReader:function(a){var b=i.getTypeOf(a);if(i.checkSupport(b),\"string\"!==b||l.uint8array)if(\"nodebuffer\"===b)this.reader=new f(a);else if(l.uint8array)this.reader=new g(i.transformTo(\"uint8array\",a));else{if(!l.array)throw new Error(\"Unexpected error: unsupported type '\"+b+\"'\");this.reader=new h(i.transformTo(\"array\",a))}else this.reader=new e(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=d},{\"./arrayReader\":1,\"./nodeBufferReader\":13,\"./object\":14,\"./signature\":15,\"./stringReader\":16,\"./support\":18,\"./uint8ArrayReader\":19,\"./utils\":22,\"./zipEntry\":24}],24:[function(a,b,c){\"use strict\";function d(a,b){this.options=a,this.loadOptions=b}var e=a(\"./stringReader\"),f=a(\"./utils\"),g=a(\"./compressedObject\"),h=a(\"./object\"),i=a(\"./support\"),j=0,k=3;d.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var e=a.readData(c);return a.setIndex(d),e}},prepareContent:function(a,b,c,d,e){return function(){var a=f.transformTo(d.uncompressInputType,this.getCompressedContent()),b=d.uncompress(a);if(b.length!==e)throw new Error(\"Bug : uncompressed data size mismatch\");return b}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)\");if(b=f.findCompression(this.compressionMethod),null===b)throw new Error(\"Corrupted zip : compression \"+f.pretty(this.compressionMethod)+\" unknown (inner file : \"+f.transformTo(\"string\",this.fileName)+\")\");if(this.decompressed=new g,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=f.transformTo(\"string\",this.decompressed.getContent()),\r\nh.crc32(this.decompressed)!==this.crc32))throw new Error(\"Corrupted zip : CRC32 mismatch\")},readCentralPart:function(a){if(this.versionMadeBy=a.readInt(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");this.fileName=a.readData(this.fileNameLength),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a===j&&(this.dosPermissions=63&this.externalFileAttributes),a===k&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var b=new e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index;for(this.extraFields=this.extraFields||{};a.index<e+this.extraFieldsLength;)b=a.readInt(2),c=a.readInt(2),d=a.readString(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){var a=i.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=f.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var e=f.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(e)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null}},b.exports=d},{\"./compressedObject\":3,\"./object\":14,\"./stringReader\":16,\"./support\":18,\"./utils\":22}],25:[function(a,b,c){\"use strict\";var d=a(\"./lib/utils/common\").assign,e=a(\"./lib/deflate\"),f=a(\"./lib/inflate\"),g=a(\"./lib/zlib/constants\"),h={};d(h,e,f,g),b.exports=h},{\"./lib/deflate\":26,\"./lib/inflate\":27,\"./lib/utils/common\":28,\"./lib/zlib/constants\":31}],26:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=i.assign({level:s,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=h.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==p)throw new Error(k[c]);b.header&&h.deflateSetHeader(this.strm,b.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}function g(a,b){return b=b||{},b.gzip=!0,e(a,b)}var h=a(\"./zlib/deflate\"),i=a(\"./utils/common\"),j=a(\"./utils/strings\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=Object.prototype.toString,n=0,o=4,p=0,q=1,r=2,s=-1,t=0,u=8;d.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?o:n,\"string\"==typeof a?e.input=j.string2buf(a):\"[object ArrayBuffer]\"===m.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new i.Buf8(f),e.next_out=0,e.avail_out=f),c=h.deflate(e,d),c!==q&&c!==p)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||d!==o&&d!==r)||(\"string\"===this.options.to?this.onData(j.buf2binstring(i.shrinkBuf(e.output,e.next_out))):this.onData(i.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&c!==q);return d===o?(c=h.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===p):d===r?(this.onEnd(p),e.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===p&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=d,c.deflate=e,c.deflateRaw=f,c.gzip=g},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/deflate\":33,\"./zlib/messages\":38,\"./zlib/zstream\":40}],27:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=g.inflateInit2(this.strm,b.windowBits);if(c!==j.Z_OK)throw new Error(k[c]);this.header=new m,g.inflateGetHeader(this.strm,this.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}var g=a(\"./zlib/inflate\"),h=a(\"./utils/common\"),i=a(\"./utils/strings\"),j=a(\"./zlib/constants\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=a(\"./zlib/gzheader\"),n=Object.prototype.toString;d.prototype.push=function(a,b){var c,d,e,f,k,l=this.strm,m=this.options.chunkSize,o=!1;if(this.ended)return!1;d=b===~~b?b:b===!0?j.Z_FINISH:j.Z_NO_FLUSH,\"string\"==typeof a?l.input=i.binstring2buf(a):\"[object ArrayBuffer]\"===n.call(a)?l.input=new Uint8Array(a):l.input=a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new h.Buf8(m),l.next_out=0,l.avail_out=m),c=g.inflate(l,j.Z_NO_FLUSH),c===j.Z_BUF_ERROR&&o===!0&&(c=j.Z_OK,o=!1),c!==j.Z_STREAM_END&&c!==j.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&c!==j.Z_STREAM_END&&(0!==l.avail_in||d!==j.Z_FINISH&&d!==j.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(e=i.utf8border(l.output,l.next_out),f=l.next_out-e,k=i.buf2string(l.output,e),l.next_out=f,l.avail_out=m-f,f&&h.arraySet(l.output,l.output,e,f,0),this.onData(k)):this.onData(h.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(o=!0)}while((l.avail_in>0||0===l.avail_out)&&c!==j.Z_STREAM_END);return c===j.Z_STREAM_END&&(d=j.Z_FINISH),d===j.Z_FINISH?(c=g.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===j.Z_OK):d===j.Z_SYNC_FLUSH?(this.onEnd(j.Z_OK),l.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===j.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=d,c.inflate=e,c.inflateRaw=f,c.ungzip=e},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/constants\":31,\"./zlib/gzheader\":34,\"./zlib/inflate\":36,\"./zlib/messages\":38,\"./zlib/zstream\":40}],28:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if(\"object\"!=typeof c)throw new TypeError(c+\"must be non-object\");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],29:[function(a,b,c){\"use strict\";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c=\"\",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a(\"./common\"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{\"./common\":28}],30:[function(a,b,c){\"use strict\";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],31:[function(a,b,c){\"use strict\";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(a,b,c){\"use strict\";function d(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a^=-1;for(var h=d;g>h;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}var f=d();b.exports=e},{}],33:[function(a,b,c){\"use strict\";function d(a,b){return a.msg=H[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(D.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){E._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,D.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=F(a.adler,b,e,c):2===a.state.wrap&&(a.adler=G(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ka?a.strstart-(a.w_size-ka):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ja,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ja-(m-f),f=m-ja,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ka)){D.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ia)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ia-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ia)););}while(a.lookahead<ka&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===I)return ta;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return ta;if(a.strstart-a.block_start>=a.w_size-ka&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?ta:ta}function o(a,b){for(var c,d;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c)),a.match_length>=ia)if(d=E._tr_tally(a,a.strstart-a.match_start,a.match_length-ia),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ia){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function p(a,b){for(var c,d,e;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ia-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===T||a.match_length===ia&&a.strstart-a.match_start>4096)&&(a.match_length=ia-1)),a.prev_length>=ia&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ia,d=E._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ia),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=ia-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return ta}else if(a.match_available){if(d=E._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return ta}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=E._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ja){if(m(a),a.lookahead<=ja&&b===I)return ta;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ia&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ja;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ja-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ia?(c=E._tr_tally(a,1,a.match_length-ia),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===I)return ta;break}if(a.match_length=0,c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=C[a.level].max_lazy,a.good_match=C[a.level].good_length,a.nice_match=C[a.level].nice_length,a.max_chain_length=C[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ia-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*ga),this.dyn_dtree=new D.Buf16(2*(2*ea+1)),this.bl_tree=new D.Buf16(2*(2*fa+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(ha+1),this.heap=new D.Buf16(2*da+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*da+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Y,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?ma:ra,a.adler=2===b.wrap?0:1,b.last_flush=I,E._tr_init(b),N):d(a,P)}function w(a){var b=v(a);return b===N&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?P:(a.state.gzhead=b,N):P}function y(a,b,c,e,f,g){if(!a)return P;var h=1;if(b===S&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>$||c!==Z||8>e||e>15||0>b||b>9||0>g||g>W)return d(a,P);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ia-1)/ia),i.window=new D.Buf8(2*i.w_size),i.head=new D.Buf16(i.hash_size),i.prev=new D.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new D.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,Z,_,aa,X)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>M||0>b)return a?d(a,P):P;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===sa&&b!==L)return d(a,0===a.avail_out?R:P);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===ma)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=G(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=na):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,xa),h.status=ra);else{var m=Z+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=U||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=la),m+=31-m%31,h.status=ra,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===na)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=pa)}else h.status=pa;if(h.status===pa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=qa)}else h.status=qa;if(h.status===qa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=ra)):h.status=ra),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,N}else if(0===a.avail_in&&e(b)<=e(c)&&b!==L)return d(a,R);if(h.status===sa&&0!==a.avail_in)return d(a,R);if(0!==a.avail_in||0!==h.lookahead||b!==I&&h.status!==sa){var o=h.strategy===U?r(h,b):h.strategy===V?q(h,b):C[h.level].func(h,b);if(o!==va&&o!==wa||(h.status=sa),o===ta||o===va)return 0===a.avail_out&&(h.last_flush=-1),N;if(o===ua&&(b===J?E._tr_align(h):b!==M&&(E._tr_stored_block(h,0,0,!1),b===K&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,N}return b!==L?N:h.wrap<=0?O:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?N:O)}function B(a){var b;return a&&a.state?(b=a.state.status,b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra&&b!==sa?d(a,P):(a.state=null,b===ra?d(a,Q):N)):P}var C,D=a(\"../utils/common\"),E=a(\"./trees\"),F=a(\"./adler32\"),G=a(\"./crc32\"),H=a(\"./messages\"),I=0,J=1,K=3,L=4,M=5,N=0,O=1,P=-2,Q=-3,R=-5,S=-1,T=1,U=2,V=3,W=4,X=0,Y=2,Z=8,$=9,_=15,aa=8,ba=29,ca=256,da=ca+1+ba,ea=30,fa=19,ga=2*da+1,ha=15,ia=3,ja=258,ka=ja+ia+1,la=32,ma=42,na=69,oa=73,pa=91,qa=103,ra=113,sa=666,ta=1,ua=2,va=3,wa=4,xa=3;C=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],c.deflateInit=z,c.deflateInit2=y,c.deflateReset=w,c.deflateResetKeep=v,c.deflateSetHeader=x,c.deflate=A,c.deflateEnd=B,c.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./messages\":38,\"./trees\":39}],34:[function(a,b,c){\"use strict\";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}b.exports=d},{}],35:[function(a,b,c){\"use strict\";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg=\"invalid literal/length code\",c.mode=d;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg=\"invalid distance code\",c.mode=d;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],36:[function(a,b,c){\"use strict\";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg=\"\",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(oa),b.distcode=b.distdyn=new r.Buf32(pa),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sa=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new r.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg=\"incorrect header check\",c.mode=la;break}if((15&m)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(m>>>=4,n-=4,wa=(15&m)+8,0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg=\"invalid window size\",c.mode=la;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(57344&c.flags){a.msg=\"unknown header flags set\",c.mode=la;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=t(c.check,Ba,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){\r\nif(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg=\"header crc mismatch\",c.mode=la;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ia;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=ba,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg=\"invalid block type\",c.mode=la}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg=\"invalid stored block lengths\",c.mode=la;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg=\"too many length or distance symbols\",c.mode=la;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=v(w,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid code lengths set\",c.mode=la;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sa)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg=\"invalid bit length repeat\",c.mode=la;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg=\"invalid bit length repeat\",c.mode=la;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===la)break;if(0===c.lens[256]){a.msg=\"invalid code -- missing end-of-block\",c.mode=la;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid literal/lengths set\",c.mode=la;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg=\"invalid distances set\",c.mode=la;break}if(c.mode=ba,b===B)break a;case ba:c.mode=ca;case ca:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ha;break}if(32&ra){c.back=-1,c.mode=V;break}if(64&ra){a.msg=\"invalid literal/length code\",c.mode=la;break}c.extra=15&ra,c.mode=da;case da:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=ea;case ea:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg=\"invalid distance code\",c.mode=la;break}c.offset=sa,c.extra=15&ra,c.mode=fa;case fa:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg=\"invalid distance too far back\",c.mode=la;break}c.mode=ga;case ga:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg=\"invalid distance too far back\",c.mode=la;break}q>c.wnext?(q-=c.wnext,oa=c.wsize-q):oa=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,oa=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pa[oa++];while(--q);0===c.length&&(c.mode=ca);break;case ha:if(0===j)break a;f[h++]=c.length,j--,c.mode=ca;break;case ia:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg=\"incorrect data check\",c.mode=la;break}m=0,n=0}c.mode=ja;case ja:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg=\"incorrect length check\",c.mode=la;break}m=0,n=0}c.mode=ka;case ka:xa=D;break a;case la:xa=G;break a;case ma:return H;case na:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<la&&(c.mode<ia||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=ma,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===ba||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xa===C&&(xa=I),xa)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a(\"../utils/common\"),s=a(\"./adler32\"),t=a(\"./crc32\"),u=a(\"./inffast\"),v=a(\"./inftrees\"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,aa=19,ba=20,ca=21,da=22,ea=23,fa=24,ga=25,ha=26,ia=27,ja=28,ka=29,la=30,ma=31,na=32,oa=852,pa=592,qa=15,ra=qa,sa=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./inffast\":35,\"./inftrees\":37}],37:[function(a,b,c){\"use strict\";var d=a(\"../utils/common\"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;e>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;e>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;e>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{\"../utils/common\":28}],38:[function(a,b,c){\"use strict\";b.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],39:[function(a,b,c){\"use strict\";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return 256>a?ia[a]:ia[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>X-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>X-a.bi_valid,a.bi_valid+=c-X):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;W>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;V>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(W+1),g=0;for(d=1;W>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(W+1);for(c=0,d=0;Q-1>d;d++)for(ka[d]=c,a=0;a<1<<ba[d];a++)ja[c++]=d;for(ja[c-1]=d,f=0,d=0;16>d;d++)for(la[d]=f,a=0;a<1<<ca[d];a++)ia[f++]=d;for(f>>=7;T>d;d++)for(la[d]=f<<7,a=0;a<1<<ca[d]-7;a++)ia[256+f++]=d;for(b=0;W>=b;b++)g[b]=0;for(a=0;143>=a;)ga[2*a+1]=8,a++,g[8]++;for(;255>=a;)ga[2*a+1]=9,a++,g[9]++;for(;279>=a;)ga[2*a+1]=7,a++,g[7]++;for(;287>=a;)ga[2*a+1]=8,a++,g[8]++;for(n(ga,S+1,g),a=0;T>a;a++)ha[2*a+1]=5,ha[2*a]=k(a,5);ma=new e(ga,ba,R+1,S,W),na=new e(ha,ca,0,T,W),oa=new e(new Array(0),da,0,U,Y)}function p(a){var b;for(b=0;S>b;b++)a.dyn_ltree[2*b]=0;for(b=0;T>b;b++)a.dyn_dtree[2*b]=0;for(b=0;U>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*Z]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ja[e],j(a,f+R+1,b),h=ba[f],0!==h&&(e-=ka[f],i(a,e,h)),d--,f=g(d),j(a,f,c),h=ca[f],0!==h&&(d-=la[f],i(a,d,h)));while(k<a.last_lit);j(a,Z,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=V,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*$]++):10>=h?a.bl_tree[2*_]++:a.bl_tree[2*aa]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;c>=d;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(l>h){do j(a,e,a.bl_tree);while(0!==--h)}else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,$,a.bl_tree),i(a,h-3,2)):10>=h?(j(a,_,a.bl_tree),i(a,h-3,3)):(j(a,aa,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=U-1;b>=3&&0===a.bl_tree[2*ea[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;d>e;e++)i(a,a.bl_tree[2*ea[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;R>b;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){pa||(o(),pa=!0),a.l_desc=new f(a.dyn_ltree,ma),a.d_desc=new f(a.dyn_dtree,na),a.bl_desc=new f(a.bl_tree,oa),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,Z,ga),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,ga,ha)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ja[c]+R+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=a(\"../utils/common\"),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=3,P=258,Q=29,R=256,S=R+1+Q,T=30,U=19,V=2*S+1,W=15,X=16,Y=7,Z=256,$=16,_=17,aa=18,ba=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ca=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],da=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ea=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fa=512,ga=new Array(2*(S+2));d(ga);var ha=new Array(2*T);d(ha);var ia=new Array(fa);d(ia);var ja=new Array(P-O+1);d(ja);var ka=new Array(Q);d(ka);var la=new Array(T);d(la);var ma,na,oa,pa=!1;c._tr_init=B,c._tr_stored_block=C,c._tr_flush_block=E,c._tr_tally=F,c._tr_align=D},{\"../utils/common\":28}],40:[function(a,b,c){\"use strict\";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}]},{},[10])(10)});\r\nexport var JSZip = window.JSZip;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/jszip.module.min.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tSpherical,\r\n\tTOUCH,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nvar OrbitControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.05;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.panSpeed = 1.0;\r\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\r\n\r\n\t// Touch fingers\r\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().invert();\r\n\r\n\t\tvar lastPosition = new Vector3();\r\n\t\tvar lastQuaternion = new Quaternion();\r\n\r\n\t\tvar twoPI = 2 * Math.PI;\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\r\n\t\t\tvar min = scope.minAzimuthAngle;\r\n\t\t\tvar max = scope.maxAzimuthAngle;\r\n\r\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\r\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\tif ( min <= max ) {\r\n\r\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\r\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\r\n\t\t\t\t\t\tMath.min( max, spherical.theta );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = {\r\n\t\tNONE: - 1,\r\n\t\tROTATE: 0,\r\n\t\tDOLLY: 1,\r\n\t\tPAN: 2,\r\n\t\tTOUCH_ROTATE: 3,\r\n\t\tTOUCH_PAN: 4,\r\n\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t};\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new Spherical();\r\n\tvar sphericalDelta = new Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new Vector2();\r\n\tvar rotateEnd = new Vector2();\r\n\tvar rotateDelta = new Vector2();\r\n\r\n\tvar panStart = new Vector2();\r\n\tvar panEnd = new Vector2();\r\n\tvar panDelta = new Vector2();\r\n\r\n\tvar dollyStart = new Vector2();\r\n\tvar dollyEnd = new Vector2();\r\n\tvar dollyDelta = new Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\tvar needsUpdate = false;\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\t// Prevent the browser from scrolling.\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Manually set the focus since calling preventDefault above\r\n\t\t// prevents the browser from setting it automatically.\r\n\r\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\r\n\r\n\t\tvar mouseAction;\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase 0:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\tcase MOUSE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.ROTATE:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.PAN:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\tcase TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nvar MapControls = function ( object, domElement ) {\r\n\r\n\tOrbitControls.call( this, object, domElement );\r\n\r\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\r\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n\r\n\tthis.touches.ONE = TOUCH.PAN;\r\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\r\n\r\n};\r\n\r\nMapControls.prototype = Object.create( EventDispatcher.prototype );\r\nMapControls.prototype.constructor = MapControls;\r\n\r\nexport { OrbitControls, MapControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/OrbitControls.js","// http://mrl.nyu.edu/~perlin/noise/\r\n\r\nvar ImprovedNoise = function () {\r\n\r\n\tvar p = [ 151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10,\r\n\t\t 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87,\r\n\t\t 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211,\r\n\t\t 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208,\r\n\t\t 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5,\r\n\t\t 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119,\r\n\t\t 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232,\r\n\t\t 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249,\r\n\t\t 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205,\r\n\t\t 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180 ];\r\n\r\n\tfor ( var i = 0; i < 256; i ++ ) {\r\n\r\n\t\tp[ 256 + i ] = p[ i ];\r\n\r\n\t}\r\n\r\n\tfunction fade( t ) {\r\n\r\n\t\treturn t * t * t * ( t * ( t * 6 - 15 ) + 10 );\r\n\r\n\t}\r\n\r\n\tfunction lerp( t, a, b ) {\r\n\r\n\t\treturn a + t * ( b - a );\r\n\r\n\t}\r\n\r\n\tfunction grad( hash, x, y, z ) {\r\n\r\n\t\tvar h = hash & 15;\r\n\t\tvar u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\r\n\t\treturn ( ( h & 1 ) == 0 ? u : - u ) + ( ( h & 2 ) == 0 ? v : - v );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tnoise: function ( x, y, z ) {\r\n\r\n\t\t\tvar floorX = Math.floor( x ), floorY = Math.floor( y ), floorZ = Math.floor( z );\r\n\r\n\t\t\tvar X = floorX & 255, Y = floorY & 255, Z = floorZ & 255;\r\n\r\n\t\t\tx -= floorX;\r\n\t\t\ty -= floorY;\r\n\t\t\tz -= floorZ;\r\n\r\n\t\t\tvar xMinus1 = x - 1, yMinus1 = y - 1, zMinus1 = z - 1;\r\n\r\n\t\t\tvar u = fade( x ), v = fade( y ), w = fade( z );\r\n\r\n\t\t\tvar A = p[ X ] + Y, AA = p[ A ] + Z, AB = p[ A + 1 ] + Z, B = p[ X + 1 ] + Y, BA = p[ B ] + Z, BB = p[ B + 1 ] + Z;\r\n\r\n\t\t\treturn lerp( w, lerp( v, lerp( u, grad( p[ AA ], x, y, z ),\r\n\t\t\t\tgrad( p[ BA ], xMinus1, y, z ) ),\r\n\t\t\tlerp( u, grad( p[ AB ], x, yMinus1, z ),\r\n\t\t\t\tgrad( p[ BB ], xMinus1, yMinus1, z ) ) ),\r\n\t\t\tlerp( v, lerp( u, grad( p[ AA + 1 ], x, y, zMinus1 ),\r\n\t\t\t\tgrad( p[ BA + 1 ], xMinus1, y, zMinus1 ) ),\r\n\t\t\tlerp( u, grad( p[ AB + 1 ], x, yMinus1, zMinus1 ),\r\n\t\t\t\tgrad( p[ BB + 1 ], xMinus1, yMinus1, zMinus1 ) ) ) );\r\n\r\n\t\t}\r\n\t};\r\n\r\n};\r\n\r\nexport { ImprovedNoise };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/math/ImprovedNoise.js","import { TempNode } from '../core/TempNode.js';\r\nimport { PositionNode } from './PositionNode.js';\r\nimport { NormalNode } from './NormalNode.js';\r\n\r\nfunction ReflectNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || ReflectNode.CUBE;\r\n\r\n}\r\n\r\nReflectNode.CUBE = 'cube';\r\nReflectNode.SPHERE = 'sphere';\r\nReflectNode.VECTOR = 'vector';\r\n\r\nReflectNode.prototype = Object.create( TempNode.prototype );\r\nReflectNode.prototype.constructor = ReflectNode;\r\nReflectNode.prototype.nodeType = \"Reflect\";\r\n\r\nReflectNode.prototype.getUnique = function ( builder ) {\r\n\r\n\treturn ! builder.context.viewNormal;\r\n\r\n};\r\n\r\nReflectNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\treturn 'v2';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nReflectNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar isUnique = this.getUnique( builder );\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar result;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase ReflectNode.VECTOR:\r\n\r\n\t\t\t\tvar viewNormalNode = new NormalNode( NormalNode.VIEW );\r\n\t\t\t\tvar roughnessNode = builder.context.roughness;\r\n\r\n\t\t\t\tvar viewNormal = viewNormalNode.build( builder, 'v3' );\r\n\t\t\t\tvar viewPosition = new PositionNode( PositionNode.VIEW ).build( builder, 'v3' );\r\n\t\t\t\tvar roughness = roughnessNode ? roughnessNode.build( builder, 'f' ) : undefined;\r\n\r\n\t\t\t\tvar method = `reflect( -normalize( ${viewPosition} ), ${viewNormal} )`;\r\n\r\n\t\t\t\tif ( roughness ) {\r\n\r\n\t\t\t\t\t// Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\r\n\t\t\t\t\tmethod = `normalize( mix( ${method}, ${viewNormal}, ${roughness} * ${roughness} ) )`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar code = `inverseTransformDirection( ${method}, viewMatrix )`;\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.CUBE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'vec3( -' + reflectVec + '.x, ' + reflectVec + '.yz )';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectCubeVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectCubeVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'normalize( ( viewMatrix * vec4( ' + reflectVec + ', 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec2 reflectSphereVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectSphereVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ReflectNode.js","import {\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tGroup,\r\n\tLineBasicMaterial,\r\n\tLineSegments,\r\n\tLoader,\r\n\tMaterial,\r\n\tMesh,\r\n\tMeshPhongMaterial,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar OBJLoader = ( function () {\r\n\r\n\t// o object_name | g group_name\r\n\tvar object_pattern = /^[og]\\s*(.+)?/;\r\n\t// mtllib file_reference\r\n\tvar material_library_pattern = /^mtllib /;\r\n\t// usemtl material_name\r\n\tvar material_use_pattern = /^usemtl /;\r\n\t// usemap map_name\r\n\tvar map_use_pattern = /^usemap /;\r\n\r\n\tvar vA = new Vector3();\r\n\tvar vB = new Vector3();\r\n\tvar vC = new Vector3();\r\n\r\n\tvar ab = new Vector3();\r\n\tvar cb = new Vector3();\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects: [],\r\n\t\t\tobject: {},\r\n\r\n\t\t\tvertices: [],\r\n\t\t\tnormals: [],\r\n\t\t\tcolors: [],\r\n\t\t\tuvs: [],\r\n\r\n\t\t\tmaterials: {},\r\n\t\t\tmaterialLibraries: [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname: name || '',\r\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\tvertices: [],\r\n\t\t\t\t\t\tnormals: [],\r\n\t\t\t\t\t\tcolors: [],\r\n\t\t\t\t\t\tuvs: [],\r\n\t\t\t\t\t\thasUVIndices: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials: [],\r\n\t\t\t\t\tsmooth: true,\r\n\r\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex: this.materials.length,\r\n\t\t\t\t\t\t\tname: name || '',\r\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\tinherited: false,\r\n\r\n\t\t\t\t\t\t\tclone: function ( index ) {\r\n\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\t\t\tinherited: false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize: function ( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push( {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tsmooth: this.smooth\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexPoint: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFaceNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tvA.fromArray( src, a );\r\n\t\t\t\tvB.fromArray( src, b );\r\n\t\t\t\tvC.fromArray( src, c );\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tcb.normalize();\r\n\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddColor: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.colors;\r\n\t\t\t\tvar dst = this.object.geometry.colors;\r\n\r\n\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddDefaultUV: function () {\r\n\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\r\n\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\t\t\t\tthis.addColor( ia, ib, ic );\r\n\r\n\t\t\t\t// normals\r\n\r\n\t\t\t\tif ( na !== undefined && na !== '' ) {\r\n\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uvs\r\n\r\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\r\n\r\n\t\t\t\t\tthis.addDefaultUV();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddPointGeometry: function ( vertices ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Points';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction OBJLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.materials = null;\r\n\r\n\t}\r\n\r\n\tOBJLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: OBJLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetMaterials: function ( materials ) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( text ) {\r\n\r\n\t\t\tvar state = new ParserState();\r\n\r\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = text.split( '\\n' );\r\n\t\t\tvar line = '', lineFirstChar = '';\r\n\t\t\tvar lineLength = 0;\r\n\t\t\tvar result = [];\r\n\r\n\t\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tline = lines[ i ];\r\n\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\t\tlineLength = line.length;\r\n\r\n\t\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t\t// @todo invoke passed in handler if any\r\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\t\tvar data = line.split( /\\s+/ );\r\n\r\n\t\t\t\t\tswitch ( data[ 0 ] ) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif ( data.length >= 7 ) {\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push(\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\r\n\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\r\n\t\t\t\t\tvar faceVertices = [];\r\n\r\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\r\n\r\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\r\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\r\n\r\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\r\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\r\n\r\n\t\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\r\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\r\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\r\n\r\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\r\n\r\n\t\t\t\t\tstate.addPointGeometry( pointData );\r\n\r\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// material\r\n\r\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\r\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t\t} else if ( map_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\r\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\r\n\r\n\t\t\t\t\tresult = line.split( ' ' );\r\n\r\n\t\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t\t\t * or\r\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t\t\t * than 0.\"\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( result.length > 1 ) {\r\n\r\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\r\n\t\t\tvar container = new Group();\r\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar object = state.objects[ i ];\r\n\t\t\t\tvar geometry = object.geometry;\r\n\t\t\t\tvar materials = object.materials;\r\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\r\n\t\t\t\tvar hasVertexColors = false;\r\n\r\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\t\tvar buffergeometry = new BufferGeometry();\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\r\n\r\n\t\t\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\t\t\thasVertexColors = true;\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\r\n\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create materials\r\n\r\n\t\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\tvar materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\r\n\t\t\t\t\tvar material = state.materials[ materialHash ];\r\n\r\n\t\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialLine = new LineBasicMaterial();\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\r\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\r\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\r\n\t\t\t\t\t\t\tmaterial = materialPoints;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( material === undefined ) {\r\n\r\n\t\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\r\n\r\n\t\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\r\n\r\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreatedMaterials.push( material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = object.name;\r\n\r\n\t\t\t\tcontainer.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn OBJLoader;\r\n\r\n} )();\r\n\r\nexport { OBJLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/OBJLoader.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction UVNode( index ) {\r\n\r\n\tTempNode.call( this, 'v2', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nUVNode.prototype = Object.create( TempNode.prototype );\r\nUVNode.prototype.constructor = UVNode;\r\nUVNode.prototype.nodeType = \"UV\";\r\n\r\nUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.uv[ this.index ] = true;\r\n\r\n\tvar uvIndex = this.index > 0 ? this.index + 1 : '';\r\n\tvar result = builder.isShader( 'vertex' ) ? 'uv' + uvIndex : 'vUv' + uvIndex;\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'uv', function () {\r\n\r\n\treturn new UVNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'uv2', function () {\r\n\r\n\treturn new UVNode( 1 );\r\n\r\n} );\r\n\r\nexport { UVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/UVNode.js"],"sourceRoot":""}