{"version":3,"sources":["webpack:///./src/components/jsm/nodes/core/TempNode.js","webpack:///./src/components/jsm/utils/GeometryUtils.js","webpack:///./src/components/jsm/nodes/core/ConstNode.js","webpack:///./src/components/jsm/nodes/core/NodeLib.js","webpack:///./src/components/jsm/nodes/core/NodeBuilder.js","webpack:///./src/components/jsm/nodes/inputs/Vector2Node.js","webpack:///./src/components/jsm/nodes/core/NodeUtils.js","webpack:///./src/components/jsm/postprocessing/EffectComposer.js","webpack:///./src/components/jsm/libs/inflate.module.min.js","webpack:///./src/components/jsm/postprocessing/Pass.js","webpack:///./src/components/jsm/nodes/inputs/Vector3Node.js","webpack:///./src/components/jsm/nodes/utils/ColorSpaceNode.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./src/components/jsm/utils/BufferGeometryUtils.js","webpack:///./src/components/jsm/loaders/RGBELoader.js","webpack:///./src/components/jsm/shaders/GammaCorrectionShader.js","webpack:///./src/components/jsm/controls/TrackballControls.js","webpack:///./src/components/jsm/loaders/HDRCubeTextureLoader.js","webpack:///./src/components/jsm/shaders/ConvolutionShader.js","webpack:///./src/components/jsm/postprocessing/BloomPass.js","webpack:///./src/components/jsm/nodes/inputs/FloatNode.js","webpack:///./src/components/jsm/nodes/accessors/NormalNode.js","webpack:///./src/components/jsm/loaders/EXRLoader.js","webpack:///./src/components/jsm/nodes/core/FunctionNode.js","webpack:///./src/components/jsm/loaders/TGALoader.js","webpack:///./src/components/jsm/postprocessing/MaskPass.js","webpack:///./src/components/jsm/libs/dat.gui.module.js","webpack:///./src/components/jsm/nodes/core/NodeUniform.js","webpack:///./src/components/jsm/controls/FirstPersonControls.js","webpack:///./src/components/jsm/nodes/inputs/ColorNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/RawNode.js","webpack:///./src/components/jsm/nodes/inputs/CubeTextureNode.js","webpack:///./src/components/jsm/nodes/core/FunctionCallNode.js","webpack:///./src/components/jsm/geometries/TeapotBufferGeometry.js","webpack:///./src/components/jsm/postprocessing/SSAARenderPass.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeUVNode.js","webpack:///./src/components/jsm/nodes/inputs/TextureNode.js","webpack:///./src/components/jsm/postprocessing/TexturePass.js","webpack:///./src/components/jsm/postprocessing/RenderPass.js","webpack:///./src/components/jsm/nodes/core/Node.js","webpack:///./src/components/jsm/nodes/core/NodeFrame.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/components/jsm/postprocessing/ShaderPass.js","webpack:///./src/components/jsm/shaders/CopyShader.js","webpack:///./src/components/jsm/nodes/math/OperatorNode.js","webpack:///./src/components/jsm/nodes/accessors/PositionNode.js","webpack:///./src/components/jsm/nodes/core/InputNode.js","webpack:///./src/components/jsm/nodes/math/MathNode.js","webpack:///./src/components/jsm/nodes/materials/NodeMaterial.js","webpack:///./src/components/jsm/nodes/core/StructNode.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/components/jsm/nodes/core/ExpressionNode.js","webpack:///./src/components/jsm/nodes/core/VarNode.js","webpack:///./src/components/jsm/nodes/core/AttributeNode.js","webpack:///./src/components/jsm/nodes/inputs/BoolNode.js","webpack:///./src/components/jsm/nodes/inputs/IntNode.js","webpack:///./src/components/jsm/nodes/inputs/Matrix3Node.js","webpack:///./src/components/jsm/nodes/inputs/Matrix4Node.js","webpack:///./src/components/jsm/nodes/inputs/ScreenNode.js","webpack:///./src/components/jsm/nodes/inputs/ReflectorNode.js","webpack:///./src/components/jsm/nodes/inputs/PropertyNode.js","webpack:///./src/components/jsm/nodes/inputs/RTTNode.js","webpack:///./src/components/jsm/nodes/accessors/ColorsNode.js","webpack:///./src/components/jsm/nodes/accessors/CameraNode.js","webpack:///./src/components/jsm/nodes/accessors/LightNode.js","webpack:///./src/components/jsm/nodes/accessors/ResolutionNode.js","webpack:///./src/components/jsm/nodes/accessors/ScreenUVNode.js","webpack:///./src/components/jsm/nodes/math/CondNode.js","webpack:///./src/components/jsm/nodes/procedural/NoiseNode.js","webpack:///./src/components/jsm/nodes/procedural/CheckerNode.js","webpack:///./src/components/jsm/nodes/misc/BumpMapNode.js","webpack:///./src/components/jsm/nodes/misc/NormalMapNode.js","webpack:///./src/components/jsm/nodes/utils/BypassNode.js","webpack:///./src/components/jsm/nodes/utils/JoinNode.js","webpack:///./src/components/jsm/nodes/utils/SwitchNode.js","webpack:///./src/components/jsm/nodes/utils/TimerNode.js","webpack:///./src/components/jsm/nodes/utils/VelocityNode.js","webpack:///./src/components/jsm/nodes/utils/UVTransformNode.js","webpack:///./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","webpack:///./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","webpack:///./src/components/jsm/nodes/effects/LuminanceNode.js","webpack:///./src/components/jsm/nodes/utils/SubSlotNode.js","webpack:///./src/components/jsm/nodes/effects/BlurNode.js","webpack:///./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/BasicNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/SpriteNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/PhongNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/StandardNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","webpack:///./src/components/jsm/nodes/materials/BasicNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/PhongNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/StandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","webpack:///./src/components/jsm/nodes/Nodes.js","webpack:///./src/components/jsm/nodes/inputs/Vector4Node.js","webpack:///./src/components/jsm/loaders/GLTFLoader.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeNode.js","webpack:///./src/components/jsm/libs/jszip.module.min.js","webpack:///./src/components/jsm/controls/OrbitControls.js","webpack:///./src/components/jsm/math/ImprovedNoise.js","webpack:///./src/components/jsm/nodes/accessors/ReflectNode.js","webpack:///./src/components/jsm/loaders/OBJLoader.js","webpack:///./src/components/jsm/nodes/accessors/UVNode.js"],"names":["__webpack_require__","d","__webpack_exports__","TempNode","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","__WEBPACK_IMPORTED_MODULE_1__Node_js__","type","params","Node","call","this","shared","undefined","unique","prototype","Object","create","constructor","build","builder","output","uuid","ns","getType","getShared","isUnique","getUnique","MathUtils","generateUUID","getUuid","data","getNodeData","analyzing","deps","getLabel","appendDepsNode","generate","name","context","ignoreCache","getTemp","format","code","addNodeCode","setLabel","label","scope","tempVar","getVars","console","error","getTempVar","GeometryUtils","hilbert2D","center","size","iterations","v0","v1","v2","v3","Vector3","half","vec_s","x","y","z","vec","tmp","Array","push","apply","hilbert3D","v4","v5","v6","v7","ConstNode","__WEBPACK_IMPORTED_MODULE_0__TempNode_js__","declarationRegexp","src","useDefine","parse","PI","PI2","RECIPROCAL_PI","RECIPROCAL_PI2","LOG2","EPSILON","nodeType","getTypeByFormat","value","match","charAt","length","include","copy","source","toJSON","meta","getJSONNode","createJSONNode","NodeLib","nodes","keywords","add","node","addKeyword","callback","cache","remove","removeKeyword","get","getKeyword","getKeywordData","contains","containsKeyword","NodeBuilder","__WEBPACK_IMPORTED_MODULE_1__NodeUniform_js__","__WEBPACK_IMPORTED_MODULE_2__NodeUtils_js__","__WEBPACK_IMPORTED_MODULE_3__NodeLib_js__","__WEBPACK_IMPORTED_MODULE_4__FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__ConstNode_js__","__WEBPACK_IMPORTED_MODULE_6__StructNode_js__","__WEBPACK_IMPORTED_MODULE_7__inputs_Vector2Node_js__","__WEBPACK_IMPORTED_MODULE_8__inputs_Vector3Node_js__","__WEBPACK_IMPORTED_MODULE_9__inputs_Vector4Node_js__","__WEBPACK_IMPORTED_MODULE_10__inputs_TextureNode_js__","__WEBPACK_IMPORTED_MODULE_11__inputs_CubeTextureNode_js__","__WEBPACK_IMPORTED_MODULE_12__misc_TextureCubeNode_js__","elements","NodeUtils","constructors","convertFormatToType","float","vec2","vec3","vec4","mat4","int","bool","convertTypeToFormat","t","tc","b","i","f","c","m3","m4","slots","caches","contexts","nodeData","requires","uv","color","lights","fog","transparent","irradiance","includes","consts","functions","structs","attributes","prefixCode","join","parsCode","vertex","fragment","nodeCode","resultCode","finalCode","inputs","uniforms","list","vars","varying","defines","extensions","updaters","buildShader","uvIndex","addVaryCode","addVertexParsCode","addVertexFinalCode","position","worldPosition","normal","worldNormal","shader","setShader","setMaterial","material","renderer","mergeDefines","addFlow","slot","addSlot","addCache","addContext","removeFlow","removeSlot","removeCache","removeContext","pop","assign","extra","addVertexCode","addCode","addFragmentCode","addVertexNodeCode","addFragmentNodeCode","clearNodeCode","clearVertexNodeCode","clearFragmentNodeCode","addFinalCode","addFragmentFinalCode","addParsCode","addFragmentParsCode","isCache","indexOf","isSlot","define","require","isDefined","getVar","arguments","prefix","index","getAttribute","getCode","getVarListCode","getIncludesCode","l","nVar","formatType","getFormatByType","Error","isNode","createUniform","needsUpdate","uniform","NodeUniform","createVertexUniform","createFragmentUniform","parent","includesStruct","FunctionNode","StructNode","included","colorToVectorProperties","replace","colorToVector","getIncludes","sortByPosition","a","sort","getConstructorFromLength","len","isTypeMatrix","test","getTypeLength","parseInt","substr","getTypeFromLength","findNode","nodeCandidate","resolve","isTexture","mapping","CubeReflectionMapping","CubeRefractionMapping","CubeTextureNode","CubeUVReflectionMapping","CubeUVRefractionMapping","TextureCubeNode","TextureNode","isVector2","Vector2Node","isVector3","Vector3Node","isVector4","Vector4Node","from","to","useCache","getElementByIndex","getIndexByElement","elm","isShader","mergeUniform","getTextureEncodingFromMap","map","encoding","isWebGLRenderTarget","warn","texture","LinearEncoding","gamma","GammaEncoding","__WEBPACK_IMPORTED_MODULE_1__core_InputNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_NodeUtils_js__","InputNode","Vector2","addShortcuts","generateReadonly","readonly","applyShortcut","proxy","property","subProperty","set","val","proto","shortcuts","split","defineProperties","EffectComposer","__WEBPACK_IMPORTED_MODULE_1__shaders_CopyShader_js__","__WEBPACK_IMPORTED_MODULE_2__postprocessing_ShaderPass_js__","__WEBPACK_IMPORTED_MODULE_3__postprocessing_MaskPass_js__","renderTarget","parameters","minFilter","LinearFilter","magFilter","RGBAFormat","getSize","_pixelRatio","getPixelRatio","_width","width","_height","height","WebGLRenderTarget","renderTarget1","renderTarget2","clone","writeBuffer","readBuffer","renderToScreen","passes","CopyShader","ShaderPass","copyPass","clock","Clock","swapBuffers","addPass","pass","setSize","insertPass","splice","isLastEnabledPass","passIndex","enabled","render","deltaTime","getDelta","currentRenderTarget","getRenderTarget","maskActive","il","needsSwap","getContext","stencil","state","buffers","setFunc","NOTEQUAL","EQUAL","MaskPass","ClearMaskPass","setRenderTarget","reset","dispose","effectiveWidth","effectiveHeight","setPixelRatio","pixelRatio","camera","geometry","FullScreenQuad","Pass","clear","OrthographicCamera","PlaneBufferGeometry","_mesh","Mesh","defineProperty","Inflate","mod","aa","r","e","execScript","shift","Uint8Array","Uint16Array","Uint32Array","DataView","v","g","h","k","m","n","p","s","Number","POSITIVE_INFINITY","w","input","bufferSize","bufferType","resize","A","j","B","C","subarray","ba","ca","S","T","U","V","D","u","M","F","q","E","slice","P","fa","G","H","I","J","K","L","da","ea","N","O","R","ga","Q","W","verify","ha","method","o","buffer","charCodeAt","Y","Z","$","ia","X","ADAPTIVE","BLOCK","keys","Zlib","ColorSpaceNode","LinearToLinear","GammaToLinear","LinearToGamma","sRGBToLinear","LinearTosRGB","RGBEToLinear","LinearToRGBE","RGBMToLinear","LinearToRGBM","RGBDToLinear","LinearToRGBD","cLogLuvM","LinearToLogLuv","cLogLuvInverseM","__WEBPACK_IMPORTED_MODULE_1__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_3__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__core_ExpressionNode_js__","LINEAR_TO_LINEAR","Nodes","LogLuvToLinear","GAMMA_TO_LINEAR","LINEAR_TO_GAMMA","SRGB_TO_LINEAR","LINEAR_TO_SRGB","RGBE_TO_LINEAR","LINEAR_TO_RGBE","RGBM_TO_LINEAR","LINEAR_TO_RGBM","RGBD_TO_LINEAR","LINEAR_TO_RGBD","LINEAR_TO_LOG_LUV","LOG_LUV_TO_LINEAR","getEncodingComponents","sRGBEncoding","RGBEEncoding","RGBM7Encoding","FloatNode","setReadonly","RGBM16Encoding","RGBDEncoding","ExpressionNode","hashProperties","outputType","methodNode","factor","fromEncoding","components","fromDecoding","exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","arr","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","len2","encodeChunk","lookup","start","end","num","global","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","ArrayBuffer","array","byteOffset","fromArrayLike","fromArrayBuffer","string","isEncoding","actual","write","fromString","obj","isBuffer","checked","fromObject","assertSize","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64Slice","utf8Slice","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","Symbol","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","concat","pos","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","inspect","max","target","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","trim","stringtrim","base64clean","dst","BufferGeometryUtils","computeTangents","indices","positions","normals","uvs","nVertices","tangent","setAttribute","BufferAttribute","Float32Array","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","groups","count","group","jl","handleTriangle","tmp2","n2","handleVertex","fromArray","multiplyScalar","addScaledVector","dot","normalize","crossVectors","mergeBufferGeometries","geometries","useGroups","isIndexed","attributesUsed","Set","morphAttributesUsed","morphAttributes","morphTargetsRelative","mergedGeometry","BufferGeometry","attributesCount","has","userData","mergedUserData","addGroup","indexOffset","mergedIndex","getX","setIndex","mergedAttribute","mergeBufferAttributes","numMorphTargets","morphAttributesToMerge","mergedMorphAttribute","TypedArray","itemSize","normalized","arrayLength","attribute","isInterleavedBufferAttribute","interleaveAttributes","stride","interleavedBuffer","InterleavedBuffer","getters","setters","iba","InterleavedBufferAttribute","estimateBytesUsed","mem","attr","BYTES_PER_ELEMENT","getIndex","mergeVertices","tolerance","hashToIndex","vertexCount","nextIndex","attributeNames","attrArrays","morphAttrsArrays","newIndices","morphAttr","decimalShift","log10","shiftMultiplier","hash","newarray","newMorphArrays","getterFunc","ml","result","oldAttribute","oldMorphAttribute","morphAttribute","toTrianglesDrawMode","drawMode","TrianglesDrawMode","TriangleFanDrawMode","TriangleStripDrawMode","numberOfTriangles","newGeometry","clearGroups","RGBELoader","manager","DataTextureLoader","UnsignedByteType","rgbe_error","rgbe_error_code","msg","fgets","lineLimit","consume","chunk","RGBEByteToRGBHalf","sourceArray","sourceOffset","destArray","destOffset","scale","DataUtils","toHalfFloat","rgbe_header_info","line","gamma_re","exposure_re","format_re","dimensions_re","header","valid","comments","programtype","exposure","parseFloat","RGBE_ReadHeader","image_rgba_data","data_rgba","byteValue","scanline_buffer","ptr","ptr_end","off","isEncodedRun","rgbeStart","scanline_width","num_scanlines","RGBE_ReadPixels_RLE","RGBEFormat","FloatType","numElements","floatArray","RGBFormat","HalfFloatType","halfArray","setDataType","load","url","onLoad","onProgress","onError","texData","NearestFilter","generateMipmaps","flipY","GammaCorrectionShader","tDiffuse","vertexShader","fragmentShader","TrackballControls","object","domElement","document","STATE","NONE","ROTATE","ZOOM","PAN","TOUCH_ROTATE","TOUCH_ZOOM_PAN","screen","left","top","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","maxDistance","mouseButtons","LEFT","MOUSE","MIDDLE","RIGHT","lastPosition","lastZoom","_state","_keyState","_eye","_movePrev","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","target0","position0","up0","up","zoom0","zoom","changeEvent","startEvent","endEvent","handleResize","box","getBoundingClientRect","ownerDocument","documentElement","window","pageXOffset","clientLeft","pageYOffset","clientTop","vector","angle","axis","quaternion","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","mouseChange","objectUp","pan","getMouseOnScreen","pageX","pageY","getMouseOnCircle","onPointerDown","event","pointerType","preventDefault","stopPropagation","button","addEventListener","onPointerMove","onPointerUp","dispatchEvent","onMouseDown","onMouseMove","removeEventListener","onMouseUp","keydown","keyCode","keyup","mousewheel","deltaMode","deltaY","touchstart","touches","dx","dy","sqrt","touchmove","touchend","contextmenu","rotateCamera","Quaternion","setLength","setFromAxisAngle","applyQuaternion","zoomCamera","isPerspectiveCamera","isOrthographicCamera","updateProjectionMatrix","panCamera","lengthSq","scale_x","right","clientWidth","scale_y","bottom","cross","subVectors","checkDistances","addVectors","update","lookAt","distanceToSquared","EventDispatcher","HDRCubeTextureLoader","__WEBPACK_IMPORTED_MODULE_1__loaders_RGBELoader_js__","Loader","hdrLoader","urls","CubeTexture","loaded","loadHDRData","FileLoader","setPath","path","setResponseType","setWithCredentials","withCredentials","dataTexture","DataTexture","images","ConvolutionShader","KERNEL_SIZE_FLOAT","KERNEL_SIZE_INT","uImageIncrement","cKernel","buildKernel","sigma","gauss","exp","values","sum","halfWidth","kernelSize","ceil","BloomPass_BloomPass","BloomPass","strength","resolution","pars","renderTargetX","renderTargetY","copyShader","copyUniforms","UniformsUtils","materialCopy","ShaderMaterial","blending","AdditiveBlending","convolutionShader","convolutionUniforms","blurX","materialConvolution","toFixed","fsQuad","setTest","blurY","__WEBPACK_IMPORTED_MODULE_0__core_InputNode_js__","NormalNode","__WEBPACK_IMPORTED_MODULE_0__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_1__core_NodeLib_js__","VIEW","LOCAL","WORLD","contextNormal","NORMAL","EXRLoader","__WEBPACK_IMPORTED_MODULE_1__libs_inflate_module_min_js__","USHORT_RANGE","BITMAP_SIZE","HUF_DECBITS","HUF_ENCSIZE","HUF_DECSIZE","HUF_DECMASK","A_OFFSET","MOD_MASK","SHORT_ZEROCODE_RUN","LONG_ZEROCODE_RUN","SHORTEST_LONG_RUN","ULONG_SIZE","FLOAT32_SIZE","INT32_SIZE","INT16_SIZE","INT8_SIZE","STATIC_HUFFMAN","DEFLATE","UNKNOWN","LOSSY_DCT","RLE","logBase","tmpDataView","frexp","setFloat64","bits","getUint32","exponent","mantissa","steps","abs","ldexp","getBitsReturn","lc","getBits","nBits","uInt8Array","inOffset","parseUint8Array","hufTableBuffer","hufUnpackEncTable","inDataView","ni","im","iM","hcode","zerun","nc","hufCanonicalCodeTable","hufLength","hufCode","getCharReturn","getChar","getCodeReturn","po","rlc","outBuffer","outBufferOffset","outBufferEndOffset","cs","UInt16","Int16","ref","wdec14Return","wdec14","ls","hs","ai","as","bs","wdec16","bb","wav2Decode","nx","ox","ny","oy","mx","p2","w14","i00","i01","i10","i11","py","ey","oy1","oy2","ox1","ox2","px","ex","p01","p11","p10","hufUncompress","nCompressed","nRaw","initialInOffset","parseUint32","freq","hdec","lit","hufClearDecTable","hdecod","pl","plOffset","hufBuildDecTable","encodingTable","decodingTable","no","outOffset","inOffsetEnd","trunc","hufDecode","predictor","interleaveScalar","t1","t2","stop","decodeRunLength","reader","getInt8","getUint8","unRleAC","currAcComp","acBuffer","halfZigBlock","acValue","dctComp","unZigZag","decodeFloat16","dctInverse","cos","alpha","beta","theta","row","rowPtr","column","csc709Inverse","cb","cr","convertToHalf","idx","toLinear","sign","uncompressZIP","info","compressed","inflate","rawBuffer","decompress","tmpBuffer","uncompressDWA","viewer","lines","EXRHeader","channels","dwaHeader","version","parseInt64","unknownUncompressedSize","unknownCompressedSize","acCompressedSize","dcCompressedSize","rleCompressedSize","rleUncompressedSize","rleRawSize","totalAcUncompressedCount","totalDcUncompressedCount","acCompression","compression","channelRules","ruleSize","parseUint16","parseNullTerminatedString","parseUint8","Int8Array","channelData","cd","channel","decoded","pixelType","pLinear","cscSet","rule","zlibInfo","dcBuffer","rleBuffer","outBufferEnd","rowOffsets","chan","rowPtrs","dataView","numFullBlocksX","numBlocksX","numBlocksY","leftoverX","leftoverY","currDcComp","dctData","rowBlock","comp","blocky","maxY","maxX","blockx","setUint16","halfRow","getUint16","setFloat32","lossyDctDecode","rleOffset","rowOffsetBytes","byte","uintBuffer","endOffset","stringValue","TextDecoder","decode","parseUlong","uLong","parseInt32","Int32","getInt32","Uint32","Uint8","getBigInt64","parseFloat32","getFloat32","binary","fraction","NaN","Uint16","parseValue","parseFixedLengthString","startOffset","xSampling","ySampling","parseChlist","redX","redY","greenX","greenY","blueX","blueY","whiteX","whiteY","parseChromaticities","parseCompression","xMin","yMin","xMax","yMax","parseBox2i","parseLineOrder","parseV2f","parseV3f","parseRational","parseTimecode","bufferDataView","keepReading","attributeName","attributeType","attributeValue","uncompress","scanlineBlockSize","size_t","getValue","dataWindowHeight","dataWindow","tmpBufSize","bitmap","pizChannelData","minNonZero","maxNonZero","lut","maxValue","reverseLutFromBitmap","nData","applyLut","tmpOffset","cp","sz","tmpBufferEnd","writePtr","pixel","numBlocks","channelOffsets","compressionInfo","scanlineBlockIdx","line_y","true_y","channelID","cOff","RGBEArray","red","green","blue","__WEBPACK_IMPORTED_MODULE_1__NodeLib_js__","propertiesRegexp","isMethod","isInterface","useKeywords","getInputByName","getIncludeByName","matches","exec","prop","isGlobal","reference","keyword","substring","qualifier","JSON","stringify","TGALoader","Texture","loader","image","TGA_TYPE_NO_DATA","TGA_TYPE_INDEXED","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_INDEXED","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_BL","TGA_ORIGIN_BR","TGA_ORIGIN_UL","TGA_ORIGIN_UR","content","id_length","colormap_type","image_type","colormap_index","colormap_length","colormap_size","origin","pixel_size","flags","tgaCheckHeader","use_rle","use_pal","use_grey","canvas","OffscreenCanvas","createElement","imageData","createImageData","pixel_data","pixel_total","palettes","pixels","tgaParse","palette","x_start","y_start","x_step","y_step","x_end","y_end","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","colormap","tgaGetImageData8bits","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","getTgaRGBA","putImageData","__WEBPACK_IMPORTED_MODULE_0__postprocessing_Pass_js__","scene","inverse","writeValue","clearValue","setMask","depth","setLocked","setOp","REPLACE","ALWAYS","setClear","KEEP","colorToString","forceCSSHex","colorFormat","__state","conversionName","round","hex","ARR_EACH","forEach","ARR_SLICE","Common","BREAK","extend","each","isObject","key","isUndefined","bind","defaults","compose","toCall","args","itr","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","callNow","clearTimeout","toArray","isNull","_isNaN","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","original","space","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","rgb_to_hsv","delta","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","_typeof","_typeof2","iterator","classCallCheck","instance","Constructor","createClass","props","descriptor","enumerable","writable","protoProps","staticProps","receiver","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","inherits","subClass","superClass","setPrototypeOf","possibleConstructorReturn","self","ReferenceError","Color","defineRGBComponent","component","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","__onChange","__onFinishChange","newValue","updateDisplay","EVENT_MAP_INV","HTMLEvents","MouseEvents","KeyboardEvents","CSS_VALUE_PIXELS","cssValueToPixels","dom","makeSelectable","elem","selectable","style","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","fakeEvent","eventType","aux","className","evt","createEvent","clientX","clientY","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","charCode","initEvent","newBool","attachEvent","unbind","detachEvent","addClass","classes","removeClass","removeAttribute","hasClass","RegExp","getWidth","getComputedStyle","getHeight","getOffset","el","offsetParent","offsetLeft","offsetTop","isActive","activeElement","href","BooleanController","_Controller","_this2","_this","__prev","__checkbox","setValue","appendChild","OptionController","opts","options","__select","element","opt","innerHTML","desiredValue","selectedIndex","StringController","onChange","__input","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","log","LN10","__precision","_v","minValue","stepValue","NumberControllerBox","_NumberController","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","attempted","decimals","tenTo","i1","i2","o1","o2","NumberControllerSlider","bgRect","__background","onTouchMove","onTouchEnd","__foreground","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","onBlur","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","background","linearGradient","cssText","outline","textAlign","fontWeight","textShadow","mismatch","flip","_flip","marginLeft","marginTop","toHexString","vendors","vendor","css","cssContent","indoc","doc","injected","head","getElementsByTagName","ControllerFactory","requestAnimationFrame$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","body","hide","webkitTransform","layout","innerWidth","innerHeight","___$insertStyle","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","preset","scrollable","root","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","gui","__preset_select","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","getSaveObject","saveToLocalStorageIfPossible","newDom","liBefore","li","removeListeners","markPresetModified","modified","recallSavedValue","controller","matchedIndex","controllerMap","remembered","presetMap","_add","factoryArgs","before","__li","container","CLASS_CONTROLLER_ROW","__gui","_options","nextSibling","nextElementSibling","_nextSibling","_name","firstElementChild","listen","pc","pb","returned","oldName","wasListening","newController","borderLeftColor","isModified","augmentController","location","addPresetOption","setSelected","showHideExplain","explain","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","__save_row","getCurrentPreset","useInitialValues","savedValues","toggleHide","CLASS_TOO_TALL","_keydownHandler","which","addColor","removeChild","destroy","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","close","show","offsetHeight","remember","div","firstChild","gears","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","focus","save","presetName","prompt","saveAs","addSaveMenu","updateDisplays","controllerArray","GUI$1","FirstPersonControls","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","mouseDragOn","autoSpeedFactor","mouseX","mouseY","moveForward","moveBackward","moveLeft","moveRight","viewHalfX","viewHalfY","targetPosition","lat","lon","lookDirection","spherical","Spherical","offsetWidth","onKeyDown","moveUp","moveDown","onKeyUp","setOrientation","heightDelta","clamp","actualMoveSpeed","translateZ","translateX","translateY","actualLookSpeed","verticalLookRatio","phi","degToRad","mapLinear","setFromSphericalCoords","_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown","_onKeyUp","fn","controls","setFromVector3","radToDeg","ColorNode","RawNode","__WEBPACK_IMPORTED_MODULE_0__core_Node_js__","analyzeAndFlow","__WEBPACK_IMPORTED_MODULE_1__accessors_ReflectNode_js__","__WEBPACK_IMPORTED_MODULE_2__utils_ColorSpaceNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_ExpressionNode_js__","bias","ReflectNode","getTexture","cubetex","setTexture","colorSpace","FunctionCallNode","setFunction","getFunction","inpt","param","TeapotBufferGeometry","segments","lid","fitLid","blinn","teapotPatches","teapotVertices","maxHeight2","trueSize","numTriangles","numVertices","vertices","ms","Matrix4","tcoord","sstep","tstep","vertPerRow","sval","tval","sp","tp","dsp","dtp","mgm","norm","dsval","dtval","normOut","gmx","tmtx","vsp","Vector4","vtp","vdsp","vdtp","vsdir","vtdir","mst","transpose","notDegenerate","vtx1","vtx2","vtx3","maxPatches","surfCount","vertCount","normCount","uvCount","indexCount","surf","multiplyMatrices","applyMatrix4","computeBoundingSphere","SSAARenderPass","__WEBPACK_IMPORTED_MODULE_1__postprocessing_Pass_js__","__WEBPACK_IMPORTED_MODULE_2__shaders_CopyShader_js__","clearColor","clearAlpha","sampleLevel","unbiased","copyMaterial","premultipliedAlpha","depthTest","depthWrite","sampleRenderTarget","jitterOffsets","JitterVectors","autoClear","oldClearColor","getClearColor","getHex","oldClearAlpha","getClearAlpha","baseSampleWeight","jitterOffset","setViewOffset","sampleWeight","setClearColor","clearViewOffset","TextureCubeUVNode","__WEBPACK_IMPORTED_MODULE_1__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_StructNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionCallNode_js__","__WEBPACK_IMPORTED_MODULE_6__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_7__math_OperatorNode_js__","__WEBPACK_IMPORTED_MODULE_8__math_MathNode_js__","__WEBPACK_IMPORTED_MODULE_9__utils_ColorSpaceNode_js__","TextureCubeUVData","cubeUV_maxMipLevel","cubeUV_minMipLevel","cubeUV_maxTileSize","cubeUV_minTileSize","getFace","getUV","bilinearCubeUV","r0","m0","roughnessToMip","mipInt","colorSpaceTL","colorSpaceTR","colorSpaceBL","colorSpaceBR","colorSpaceTLExp","colorSpaceTRExp","colorSpaceBLExp","colorSpaceBRExp","roughness","mipV","mip","MathNode","CLAMP","FLOOR","mipF","FRACT","color0","color1","OperatorNode","ADD","color1Mix","MIX","__WEBPACK_IMPORTED_MODULE_1__accessors_UVNode_js__","project","UVNode","tex","TexturePass","oldAutoClear","RenderPass","overrideMaterial","clearDepth","oldOverrideMaterial","autoClearColor","autoClearDepth","autoClearStencil","analyze","settings","flow","updateFrame","getHash","outputLen","outputMax","setName","getName","isRootObject","NodeFrame","time","id","setRenderer","setRenderTexture","renderTexture","updateNode","frameId","module","originalModule","webpackPolyfill","children","textureID","op","SUB","MUL","DIV","PositionNode","PROJECTION","getReadonly","bOrMethod","cOrMethod","RAD","DEG","EXP","EXP2","LOG","SQRT","INV_SQRT","CEIL","NORMALIZE","SATURATE","SIN","COS","TAN","ASIN","ACOS","ARCTAN","ABS","SIGN","LENGTH","NEGATE","INVERT","MIN","MAX","MOD","STEP","REFLECT","DISTANCE","DOT","CROSS","POW","REFRACT","SMOOTHSTEP","FACEFORWARD","getNumInputs","getInputType","al","bl","cl","inputType","numInputs","NodeMaterial","__WEBPACK_IMPORTED_MODULE_1__core_NodeBuilder_js__","__WEBPACK_IMPORTED_MODULE_2__inputs_ColorNode_js__","__WEBPACK_IMPORTED_MODULE_3__accessors_PositionNode_js__","__WEBPACK_IMPORTED_MODULE_4__nodes_RawNode_js__","isNodeMaterial","properties","needsCompile","onBeforeCompile","extensionDerivatives","derivatives","extensionFragDepth","fragDepth","extensionDrawBuffers","drawBuffers","extensionShaderTextureLOD","shaderTextureLOD","customProgramCacheKey","frame","NormalBlending","materials","sizeAttenuation","flatShading","side","FrontSide","vertexColors","NoColors","depthFunc","LessEqualDepth","linewidth","dashSize","gapSize","dithering","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","alphaTest","morphTargets","skinning","visible","declaration","__webpack_amd_options__","__WEBPACK_IMPORTED_MODULE_0__FunctionNode_js__","VarNode","AttributeNode","getAttributeType","BoolNode","Boolean","IntNode","Matrix3Node","matrix","Matrix3","Matrix4Node","ScreenNode","ReflectorNode","mirror","setMirror","PropertyNode","textureMatrix","localPosition","uvResult","RTTNode","Scene","quad","frustumCulled","rttBuilder","updateFramesaveTo","saveTo","saveToCurrent","saveToMaterial","saveToScene","vertexDict","fragmentDict","ColorsNode","CameraNode","setScope","POSITION","setCamera","LightNode","TOTAL","depthColor","DEPTH","TO_VERTEX","onUpdateFrame","near","far","number","ResolutionNode","ScreenUVNode","CondNode","ifNode","elseNode","NoiseNode","CheckerNode","NOT_EQUAL","GREATER","GREATER_EQUAL","LESS","LESS_EQUAL","AND","OR","ifType","elseType","getCondType","condType","ifCode","elseCode","snoise","checker","dHdxy_fwd","NormalMapNode","BumpMapNode","toNormalMap","BypassNode","perturbNormal2Arb","BackSide","perturbNormalArb","bumpToNormal","derivativeHeight","derivativeHeightCode","JoinNode","SwitchNode","TimerNode","timeScale","GLOBAL","VelocityNode","velocity","setTarget","setParams","UVTransformNode","MaxMIPLevelNode","maxMIPLevel","SpecularMIPLevelNode","getNumElements","outputs","inputLength","outputLength","DELTA","moment","speed","springVelocity","lastVelocity","oldPosition","getWorldPosition","updateFrameVelocity","deltaFps","fps","spring","damping","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","LOG2E","getSpecularMIPLevel","LUMA","SubSlotNode","BlurNode","radius","LuminanceNode","rgb","ColorAdjustmentNode","adjustment","SATURATION","blurCode","luminance","hue","saturation","vibrance","HUE","VIBRANCE","BRIGHTNESS","CONTRAST","BasicNode","SpriteNode","PhongNode","specular","shininess","StandardNode","metalness","MeshStandardNode","normalScale","BasicNodeMaterial","SpriteNodeMaterial","PhongNodeMaterial","StandardNodeMaterial","MeshStandardNodeMaterial","NodePostProcessing","getDrawingBufferSize","mask","merge","UniformsLib","light","ao","ambient","shadow","emissive","environment","environmentAlpha","useClearcoat","clearcoat","clearcoatRoughness","clearCoatNormal","LTC_1","ltc_1","ltc_2","specularRoughness","contextEnvironment","viewNormal","contextGammaOnly","contextClearcoatEnvironment","clearcoatNormal","reflectivity","sheen","radiance","clearcoatEnv","roughnessMap","metalnessMap","normalMap","envMap","post","GLTFLoader","dracoLoader","ddsLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFMeshoptCompression","resourcePath","LoaderUtils","extractUrlBase","itemStart","_onError","itemError","itemEnd","setRequestHeader","requestHeader","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","unregister","plugins","decodeText","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","headerView","BINARY_EXTENSION_HEADER_LENGTH","magic","chunkView","chunkIndex","chunkLength","chunkType","BINARY_EXTENSION_CHUNK_TYPES","contentArray","BIN","json","asset","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","isSupported","_markDefs","nodeDefs","nodeIndex","nodeLength","nodeDef","_addNodeRef","_loadLight","lightIndex","cacheKey","dependency","lightNode","lightDef","range","DirectionalLight","PointLight","distance","SpotLight","spot","innerConeAngle","outerConeAngle","penumbra","decay","intensity","createUniqueName","Promise","createNodeAttachment","then","_getNodeRef","getMaterialType","MeshBasicMaterial","extendParams","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","materialIndex","MeshPhysicalMaterial","extendMaterialParams","extension","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","transmissionFactor","transmission","transmissionTexture","loadTexture","textureIndex","textureDef","textures","loadTextureImage","uri","getHandler","textureLoader","detectSupport","Image","onload","onerror","loadBufferView","bufferView","bufferViews","extensionDef","getDependency","decoder","supported","ready","byteStride","decodeGltfBuffer","mode","filter","preload","GLTFMeshStandardSGMaterial","MeshStandardMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","setValues","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMapType","TangentSpaceNormalMap","displacementMap","displacementScale","displacementBias","alphaMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","Interpolant","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","extendTexture","transform","repeat","texCoord","copySampleValue_","valueSize","beforeStart_","afterEnd_","interpolate_","t0","stride2","stride3","td","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","p1","m1","WEBGL_CONSTANTS","5120","5121","5122","Int16Array","5123","5125","5126","WEBGL_FILTERS","9728","9729","9984","NearestMipmapNearestFilter","9985","LinearMipmapNearestFilter","9986","NearestMipmapLinearFilter","9987","LinearMipmapLinearFilter","WEBGL_WRAPPINGS","33071","ClampToEdgeWrapping","33648","MirroredRepeatWrapping","10497","RepeatWrapping","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","InterpolateDiscrete","ALPHA_MODES","resolveURL","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","mesh","meshDef","morphTargetInfluences","targetNames","morphTargetDictionary","createAttributesKey","attributesKey","objects","removeAll","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","nodeNamesUsed","createImageBitmap","navigator","userAgent","ImageBitmapLoader","TextureLoader","setCrossOrigin","addPrimitiveAttributes","primitiveDef","assignAttributeAccessor","accessorIndex","accessor","gltfAttributeName","Box3","targets","maxDisplacement","setX","setY","setZ","expandByVector","boundingBox","sphere","Sphere","getCenter","distanceTo","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","morphNormals","addMorphTargets","_invokeAll","getDependencies","dependencies","scenes","animations","cameras","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","_invokeOne","unshift","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","reject","bufferViewDef","sparse","pendingBufferViews","bufferAttribute","elementBytes","itemBytes","ibSlice","ibCacheKey","ib","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setW","textureExtensions","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","mimeType","colorType","blob","Blob","createObjectURL","isImageBitmapLoader","imageBitmap","CanvasTexture","revokeObjectURL","sampler","samplers","wrapS","wrapT","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","useVertexColors","useFlatShading","useSkinning","useMorphTargets","useMorphNormals","isPoints","pointsMaterial","PointsMaterial","Material","isLine","lineMaterial","LineBasicMaterial","cachedMaterial","vertexTangents","uv2","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","DoubleSide","alphaMode","alphaCutoff","normalTexture","occlusionTexture","emissiveFactor","emissiveTexture","originalName","PropertyBinding","sanitizeNodeName","loadGeometries","primitives","createDracoPrimitive","dracoExtension","geometryPromise","cached","promise","meshIndex","results","SkinnedMesh","skinWeight","normalizeSkinWeights","LineSegments","Line","LineLoop","Points","Group","cameraIndex","cameraDef","PerspectiveCamera","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","updateMatrix","matrixAutoUpdate","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","traverse","isMesh","outputArray","scaled","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","nodeName","Bone","Object3D","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","Skeleton","matrixWorld","child","sceneIndex","sceneDef","nodeIds","isLE","mLen","nBytes","eLen","eMax","eBias","rt","LN2","__WEBPACK_IMPORTED_MODULE_1__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_2__TextureCubeUVNode_js__","__WEBPACK_IMPORTED_MODULE_3__accessors_ReflectNode_js__","__WEBPACK_IMPORTED_MODULE_4__accessors_NormalNode_js__","radianceNode","VECTOR","irradianceNode","JSZip","1","zero","byteAt","lastIndexOfSignature","readData","./dataReader","2","encode","3","compressedSize","uncompressedSize","crc32","compressionMethod","compressedContent","getContent","getCompressedContent","4","STORE","compress","compressInputType","uncompressInputType","./flate","5","getTypeOf","./utils","6","checkIndex","skip","readInt","readString","transformTo","readDate","Date","7","createFolders","date","compressionOptions","comment","unixPermissions","dosPermissions","8","string2binary","string2Uint8Array","uint8Array2String","string2Blob","arrayBuffer2Blob","checkSupport","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","findCompression","isRegExp","9","deflateRaw","level","inflateRaw","pako","10","files","support","utils","compressions","./base64","./compressions","./defaults","./deprecatedPublicUtils","./load","./object","./support","11","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","file","fileNameStr","decompressed","fileCommentStr","zipComment","./utf8","./zipEntries","12","13","./uint8ArrayReader","14","_data","nodebuffer","asBinary","utf8encode","_initialMetadata","asText","asNodeBuffer","asUint8Array","asArrayBuffer","toUpperCase","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","fileRecord","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","compressedObject","hasOwnProperty","platform","encodeFileName","CENTRAL_DIRECTORY_END","append","finalize","./compressedObject","./crc32","./nodeBuffer","./signature","./stringWriter","./uint8ArrayWriter","15","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","DATA_DESCRIPTOR","16","17","18","arraybuffer","uint8array","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","19","./arrayReader","20","21","applyFromCharCode","22","23","loadOptions","checkSignature","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","versionMadeBy","versionNeeded","zip64ExtensibleData","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","prepareReader","./nodeBufferReader","./stringReader","./zipEntry","24","isEncrypted","bitFlag","useUTF8","prepareCompressedContent","prepareContent","fileNameLength","fileName","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","25","./lib/deflate","./lib/inflate","./lib/utils/common","./lib/zlib/constants","26","chunkSize","windowBits","memLevel","strategy","raw","gzip","err","ended","chunks","strm","avail_out","deflateInit2","deflateSetHeader","string2buf","next_in","avail_in","Buf8","next_out","deflate","onEnd","onData","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","./utils/common","./utils/strings","./zlib/deflate","./zlib/messages","./zlib/zstream","27","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","ungzip","./zlib/constants","./zlib/gzheader","./zlib/inflate","28","Int32Array","setTyped","Buf16","Buf32","29","./common","30","31","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_NEED_DICT","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","32","33","pending_buf","pending_out","total_out","_tr_flush_block","block_start","strstart","wrap","adler","total_in","max_chain_length","prev_length","nice_match","w_size","ka","w_mask","prev","ja","good_match","lookahead","match_start","window_size","hash_size","insert","ins_h","hash_shift","hash_mask","ta","match_length","_tr_tally","max_lazy_match","va","wa","last_lit","ua","prev_match","match_available","good_length","max_lazy","nice_length","max_chain","status","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","data_type","ma","ra","_tr_init","_","la","na","oa","pa","qa","sa","xa","deflateInit","deflateReset","deflateResetKeep","hcrc","os","_tr_align","_tr_stored_block","deflateInfo","../utils/common","./adler32","./messages","./trees","34","xflags","extra_len","done","35","dmax","wsize","whave","wnext","hold","lencode","distcode","lenbits","distbits","sane","36","total","last","havedict","lendyn","distdyn","back","wbits","check","ncode","nlen","ndist","have","next","work","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","ya","za","Aa","Ba","Ca","inflateInfo","./inffast","./inftrees","37","38","0","-1","-2","-3","-4","-5","-6","39","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","40","OrbitControls","quat","quatInverse","lastQuaternion","twoPI","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","enableRotate","enablePan","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","DOLLY","ONE","TOUCH","TWO","DOLLY_PAN","getPolarAngle","getAzimuthalAngle","saveState","setFromUnitVectors","invert","rotateLeft","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","EPS","onContextMenu","onMouseWheel","onTouchStart","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","deltaX","targetDistance","tan","fov","clientHeight","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","handleMouseDownPan","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","mouseAction","handleMouseDownDolly","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","MapControls","ImprovedNoise","fade","lerp","grad","noise","floorX","floorY","floorZ","xMinus1","yMinus1","zMinus1","AA","AB","BA","BB","__WEBPACK_IMPORTED_MODULE_1__PositionNode_js__","__WEBPACK_IMPORTED_MODULE_2__NormalNode_js__","CUBE","SPHERE","viewNormalNode","roughnessNode","viewPosition","reflectVec","OBJLoader","object_pattern","material_library_pattern","material_use_pattern","map_use_pattern","ab","setMaterials","colors","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","groupCount","mtllib","groupStart","groupEnd","cloned","lastMultiMaterial","mi","declared","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","addUV","addDefaultUV","addUVLine","addFace","ub","uc","nb","vLen","ic","nLen","uvLen","addPointGeometry","vi","addLineGeometry","uvi","lineFirstChar","trimLeft","vertexData","faceVertices","vertexParts","lineParts","lineVertices","lineUVs","llen","pointData","hasVertexColors","buffergeometry","Float32BufferAttribute","createdMaterials","miLen","materialHash","sourceMaterial","materialPoints","materialLine","MeshPhongMaterial"],"mappings":"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","file":"static/js/0.d6b9553f60f2d84ed171.js","sourcesContent":["import { MathUtils } from '@/components/build/three.module.js';\r\nimport { Node } from './Node.js';\r\n\r\nfunction TempNode( type, params ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.shared = params.shared !== undefined ? params.shared : true;\r\n\tthis.unique = params.unique !== undefined ? params.unique : false;\r\n\r\n}\r\n\r\nTempNode.prototype = Object.create( Node.prototype );\r\nTempNode.prototype.constructor = TempNode;\r\n\r\nTempNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\toutput = output || this.getType( builder );\r\n\r\n\tif ( this.getShared( builder, output ) ) {\r\n\r\n\t\tvar isUnique = this.getUnique( builder, output );\r\n\r\n\t\tif ( isUnique && this.constructor.uuid === undefined ) {\r\n\r\n\t\t\tthis.constructor.uuid = MathUtils.generateUUID();\r\n\r\n\t\t}\r\n\r\n\t\tuuid = builder.getUuid( uuid || this.getUuid(), ! isUnique );\r\n\r\n\t\tvar data = builder.getNodeData( uuid ),\r\n\t\t\ttype = data.output || this.getType( builder );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tif ( ( data.deps || 0 ) > 0 || this.getLabel() ) {\r\n\r\n\t\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t} else if ( isUnique ) {\r\n\r\n\t\t\tdata.name = data.name || Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t\treturn data.name;\r\n\r\n\t\t} else if ( ! this.getLabel() && ( ! this.getShared( builder, type ) || ( builder.context.ignoreCache || data.deps === 1 ) ) ) {\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t}\r\n\r\n\t\tuuid = this.getUuid( false );\r\n\r\n\t\tvar name = this.getTemp( builder, uuid );\r\n\r\n\t\tif ( name ) {\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tname = TempNode.prototype.generate.call( this, builder, output, uuid, data.output, ns );\r\n\r\n\t\t\tvar code = this.generate( builder, type, uuid );\r\n\r\n\t\t\tbuilder.addNodeCode( name + ' = ' + code + ';' );\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nTempNode.prototype.getShared = function ( builder, output ) {\r\n\r\n\treturn output !== 'sampler2D' && output !== 'samplerCube' && this.shared;\r\n\r\n};\r\n\r\nTempNode.prototype.getUnique = function ( /* builder, output */ ) {\r\n\r\n\treturn this.unique;\r\n\r\n};\r\n\r\nTempNode.prototype.setLabel = function ( name ) {\r\n\r\n\tthis.label = name;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTempNode.prototype.getLabel = function ( /* builder */ ) {\r\n\r\n\treturn this.label;\r\n\r\n};\r\n\r\nTempNode.prototype.getUuid = function ( unique ) {\r\n\r\n\tvar uuid = unique || unique == undefined ? this.constructor.uuid || this.uuid : this.uuid;\r\n\r\n\tif ( typeof this.scope === \"string\" ) uuid = this.scope + '-' + uuid;\r\n\r\n\treturn uuid;\r\n\r\n};\r\n\r\nTempNode.prototype.getTemp = function ( builder, uuid ) {\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\tvar tempVar = builder.getVars()[ uuid ];\r\n\r\n\treturn tempVar ? tempVar.name : undefined;\r\n\r\n};\r\n\r\nTempNode.prototype.generate = function ( builder, output, uuid, type, ns ) {\r\n\r\n\tif ( ! this.getShared( builder, output ) ) console.error( \"THREE.TempNode is not shared!\" );\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\treturn builder.getTempVar( uuid, type || this.getType( builder ), ns, this.getLabel() ).name;\r\n\r\n};\r\n\r\nexport { TempNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/TempNode.js","import {\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GeometryUtils = {\r\n\r\n\t/**\r\n\t * Generates 2D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/sketch/15493\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, -Z.\r\n\t * @param v1         Corner index -X, +Z.\r\n\t * @param v2         Corner index +X, +Z.\r\n\t * @param v3         Corner index +X, -Z.\r\n\t */\r\n\thilbert2D: function ( center, size, iterations, v0, v1, v2, v3 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( 0 <= -- iterations ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 0 ], half, iterations, v0, v3, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 1 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 2 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 3 ], half, iterations, v2, v1, v0, v3 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Generates 3D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/visuals/?visualID=15599\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, +Y, -Z.\r\n\t * @param v1         Corner index -X, +Y, +Z.\r\n\t * @param v2         Corner index -X, -Y, +Z.\r\n\t * @param v3         Corner index -X, -Y, -Z.\r\n\t * @param v4         Corner index +X, -Y, -Z.\r\n\t * @param v5         Corner index +X, -Y, +Z.\r\n\t * @param v6         Corner index +X, +Y, +Z.\r\n\t * @param v7         Corner index +X, +Y, -Z.\r\n\t */\r\n\thilbert3D: function ( center, size, iterations, v0, v1, v2, v3, v4, v5, v6, v7 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3,\r\n\t\t\tv4 = v4 !== undefined ? v4 : 4,\r\n\t\t\tv5 = v5 !== undefined ? v5 : 5,\r\n\t\t\tv6 = v6 !== undefined ? v6 : 6,\r\n\t\t\tv7 = v7 !== undefined ? v7 : 7\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ],\r\n\t\t\tvec_s[ v4 ],\r\n\t\t\tvec_s[ v5 ],\r\n\t\t\tvec_s[ v6 ],\r\n\t\t\tvec_s[ v7 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( -- iterations >= 0 ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 0 ], half, iterations, v0, v3, v4, v7, v6, v5, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 1 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 2 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 3 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 4 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 5 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 6 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 7 ], half, iterations, v6, v5, v2, v1, v0, v3, v4, v7 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { GeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/GeometryUtils.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^([a-z_0-9]+)\\s([a-z_0-9]+)\\s?\\=?\\s?(.*?)(\\;|$)/i;\r\n\r\nfunction ConstNode( src, useDefine ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src || ConstNode.PI, useDefine );\r\n\r\n}\r\n\r\nConstNode.PI = 'PI';\r\nConstNode.PI2 = 'PI2';\r\nConstNode.RECIPROCAL_PI = 'RECIPROCAL_PI';\r\nConstNode.RECIPROCAL_PI2 = 'RECIPROCAL_PI2';\r\nConstNode.LOG2 = 'LOG2';\r\nConstNode.EPSILON = 'EPSILON';\r\n\r\nConstNode.prototype = Object.create( TempNode.prototype );\r\nConstNode.prototype.constructor = ConstNode;\r\nConstNode.prototype.nodeType = \"Const\";\r\n\r\nConstNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nConstNode.prototype.parse = function ( src, useDefine ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tvar name, type, value = \"\";\r\n\r\n\tvar match = this.src.match( declarationRegexp );\r\n\r\n\tthis.useDefine = useDefine || this.src.charAt( 0 ) === '#';\r\n\r\n\tif ( match && match.length > 1 ) {\r\n\r\n\t\ttype = match[ 1 ];\r\n\t\tname = match[ 2 ];\r\n\t\tvalue = match[ 3 ];\r\n\r\n\t} else {\r\n\r\n\t\tname = this.src;\r\n\t\ttype = 'f';\r\n\r\n\t}\r\n\r\n\tthis.name = name;\r\n\tthis.type = type;\r\n\tthis.value = value;\r\n\r\n};\r\n\r\nConstNode.prototype.build = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\tif ( this.useDefine ) {\r\n\r\n\t\t\t\treturn '#define ' + this.name + ' ' + this.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn 'const ' + this.type + ' ' + this.name + ' = ' + this.value + ';';\r\n\r\n\t\t} else if ( this.useDefine ) {\r\n\r\n\t\t\treturn this.src;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.include( this );\r\n\r\n\t\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nConstNode.prototype.generate = function ( builder, output ) {\r\n\r\n\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nConstNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.parse( source.src, source.useDefine );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nConstNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t\tif ( data.useDefine === true ) data.useDefine = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ConstNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ConstNode.js","var NodeLib = {\r\n\r\n\tnodes: {},\r\n\tkeywords: {},\r\n\r\n\tadd: function ( node ) {\r\n\r\n\t\tthis.nodes[ node.name ] = node;\r\n\r\n\t},\r\n\r\n\taddKeyword: function ( name, callback, cache ) {\r\n\r\n\t\tcache = cache !== undefined ? cache : true;\r\n\r\n\t\tthis.keywords[ name ] = { callback: callback, cache: cache };\r\n\r\n\t},\r\n\r\n\tremove: function ( node ) {\r\n\r\n\t\tdelete this.nodes[ node.name ];\r\n\r\n\t},\r\n\r\n\tremoveKeyword: function ( name ) {\r\n\r\n\t\tdelete this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tget: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ];\r\n\r\n\t},\r\n\r\n\tgetKeyword: function ( name, builder ) {\r\n\r\n\t\treturn this.keywords[ name ].callback.call( this, builder );\r\n\r\n\t},\r\n\r\n\tgetKeywordData: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tcontains: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tcontainsKeyword: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ] !== undefined;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeLib };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeLib.js","import {\r\n\tCubeReflectionMapping,\r\n\tCubeRefractionMapping,\r\n\tCubeUVReflectionMapping,\r\n\tCubeUVRefractionMapping,\r\n\tLinearEncoding,\r\n\tGammaEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeUniform } from './NodeUniform.js';\r\nimport { NodeUtils } from './NodeUtils.js';\r\nimport { NodeLib } from './NodeLib.js';\r\nimport { FunctionNode } from './FunctionNode.js';\r\nimport { ConstNode } from './ConstNode.js';\r\nimport { StructNode } from './StructNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\nimport { Vector4Node } from '../inputs/Vector4Node.js';\r\nimport { TextureNode } from '../inputs/TextureNode.js';\r\nimport { CubeTextureNode } from '../inputs/CubeTextureNode.js';\r\nimport { TextureCubeNode } from '../misc/TextureCubeNode.js';\r\n\r\n\r\nvar elements = NodeUtils.elements,\r\n\tconstructors = [ 'float', 'vec2', 'vec3', 'vec4' ],\r\n\tconvertFormatToType = {\r\n\t\tfloat: 'f',\r\n\t\tvec2: 'v2',\r\n\t\tvec3: 'v3',\r\n\t\tvec4: 'v4',\r\n\t\tmat4: 'v4',\r\n\t\tint: 'i',\r\n\t\tbool: 'b'\r\n\t},\r\n\tconvertTypeToFormat = {\r\n\t\tt: 'sampler2D',\r\n\t\ttc: 'samplerCube',\r\n\t\tb: 'bool',\r\n\t\ti: 'int',\r\n\t\tf: 'float',\r\n\t\tc: 'vec3',\r\n\t\tv2: 'vec2',\r\n\t\tv3: 'vec3',\r\n\t\tv4: 'vec4',\r\n\t\tm3: 'mat3',\r\n\t\tm4: 'mat4'\r\n\t};\r\n\r\nfunction NodeBuilder() {\r\n\r\n\tthis.slots = [];\r\n\tthis.caches = [];\r\n\tthis.contexts = [];\r\n\r\n\tthis.keywords = {};\r\n\r\n\tthis.nodeData = {};\r\n\r\n\tthis.requires = {\r\n\t\tuv: [],\r\n\t\tcolor: [],\r\n\t\tlights: false,\r\n\t\tfog: false,\r\n\t\ttransparent: false,\r\n\t\tirradiance: false\r\n\t};\r\n\r\n\tthis.includes = {\r\n\t\tconsts: [],\r\n\t\tfunctions: [],\r\n\t\tstructs: []\r\n\t};\r\n\r\n\tthis.attributes = {};\r\n\r\n\tthis.prefixCode = [\r\n\t\t\"#ifdef TEXTURE_LOD_EXT\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)\",\r\n\r\n\t\t\"#else\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCube(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2D(a, b, c)\",\r\n\r\n\t\t\"#endif\",\r\n\r\n\t\t\"#include <packing>\",\r\n\t\t\"#include <common>\"\r\n\r\n\t].join( \"\\n\" );\r\n\r\n\tthis.parsCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.code = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.nodeCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.resultCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.finalCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tuniforms: {\r\n\t\t\tlist: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t},\r\n\t\tvars: {\r\n\t\t\tvarying: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t}\r\n\t};\r\n\r\n\t// send to material\r\n\r\n\tthis.defines = {};\r\n\r\n\tthis.uniforms = {};\r\n\r\n\tthis.extensions = {};\r\n\r\n\tthis.updaters = [];\r\n\r\n\tthis.nodes = [];\r\n\r\n\t// --\r\n\r\n\tthis.analyzing = false;\r\n\r\n}\r\n\r\nNodeBuilder.prototype = {\r\n\r\n\tconstructor: NodeBuilder,\r\n\r\n\tbuild: function ( vertex, fragment ) {\r\n\r\n\t\tthis.buildShader( 'vertex', vertex );\r\n\t\tthis.buildShader( 'fragment', fragment );\r\n\r\n\t\tfor ( var i = 0; i < this.requires.uv.length; i ++ ) {\r\n\r\n\t\t\tif ( this.requires.uv[ i ] ) {\r\n\r\n\t\t\t\tvar uvIndex = i > 0 ? i + 1 : '';\r\n\r\n\t\t\t\tthis.addVaryCode( 'varying vec2 vUv' + uvIndex + ';' );\r\n\r\n\t\t\t\tif ( i > 0 ) {\r\n\r\n\t\t\t\t\tthis.addVertexParsCode( 'attribute vec2 uv' + uvIndex + ';' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.addVertexFinalCode( 'vUv' + uvIndex + ' = uv' + uvIndex + ';' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 0 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor = color;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 1 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor2;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color2;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor2 = color2;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.position ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vPosition = transformed;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldPosition ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.normal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vObjectNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vObjectNormal = normal;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldNormal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tbuildShader: function ( shader, node ) {\r\n\r\n\t\tthis.resultCode[ shader ] = node.build( this.setShader( shader ), 'v4' );\r\n\r\n\t},\r\n\r\n\tsetMaterial: function ( material, renderer ) {\r\n\r\n\t\tthis.material = material;\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\tthis.requires.lights = material.lights;\r\n\t\tthis.requires.fog = material.fog;\r\n\r\n\t\tthis.mergeDefines( material.defines );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddFlow: function ( slot, cache, context ) {\r\n\r\n\t\treturn this.addSlot( slot ).addCache( cache ).addContext( context );\r\n\r\n\t},\r\n\r\n\tremoveFlow: function () {\r\n\r\n\t\treturn this.removeSlot().removeCache().removeContext();\r\n\r\n\t},\r\n\r\n\taddCache: function ( name ) {\r\n\r\n\t\tthis.cache = name || '';\r\n\t\tthis.caches.push( this.cache );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveCache: function () {\r\n\r\n\t\tthis.caches.pop();\r\n\t\tthis.cache = this.caches[ this.caches.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddContext: function ( context ) {\r\n\r\n\t\tthis.context = Object.assign( {}, this.context, context );\r\n\t\tthis.context.extra = this.context.extra || {};\r\n\r\n\t\tthis.contexts.push( this.context );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveContext: function () {\r\n\r\n\t\tthis.contexts.pop();\r\n\t\tthis.context = this.contexts[ this.contexts.length - 1 ] || {};\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddSlot: function ( name ) {\r\n\r\n\t\tthis.slot = name || '';\r\n\t\tthis.slots.push( this.slot );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveSlot: function () {\r\n\r\n\t\tthis.slots.pop();\r\n\t\tthis.slot = this.slots[ this.slots.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\r\n\taddVertexCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddCode: function ( code, shader ) {\r\n\r\n\t\tthis.code[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddNodeCode: function ( code, shader ) {\r\n\r\n\t\tthis.nodeCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\tclearNodeCode: function ( shader ) {\r\n\r\n\t\tshader = shader || this.shader;\r\n\r\n\t\tvar code = this.nodeCode[ shader ];\r\n\r\n\t\tthis.nodeCode[ shader ] = '';\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tclearVertexNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'vertex' );\r\n\r\n\t},\r\n\r\n\tclearFragmentNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'fragment' );\r\n\r\n\t},\r\n\r\n\taddVertexFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddFinalCode: function ( code, shader ) {\r\n\r\n\t\tthis.finalCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddParsCode: function ( code, shader ) {\r\n\r\n\t\tthis.parsCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVaryCode: function ( code ) {\r\n\r\n\t\tthis.addVertexParsCode( code );\r\n\t\tthis.addFragmentParsCode( code );\r\n\r\n\t},\r\n\r\n\r\n\tisCache: function ( name ) {\r\n\r\n\t\treturn this.caches.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tisSlot: function ( name ) {\r\n\r\n\t\treturn this.slots.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tdefine: function ( name, value ) {\r\n\r\n\t\tthis.defines[ name ] = value === undefined ? 1 : value;\r\n\r\n\t},\r\n\r\n\trequire: function ( name ) {\r\n\r\n\t\tthis.requires[ name ] = true;\r\n\r\n\t},\r\n\r\n\tisDefined: function ( name ) {\r\n\r\n\t\treturn this.defines[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tgetVar: function ( uuid, type, ns, shader = 'varying', prefix = 'V', label = '' ) {\r\n\r\n\t\tvar vars = this.getVars( shader ),\r\n\t\t\tdata = vars[ uuid ];\r\n\r\n\t\tif ( ! data ) {\r\n\r\n\t\t\tvar index = vars.length,\r\n\t\t\t\tname = ns ? ns : 'node' + prefix + index + ( label ? '_' + label : '' );\r\n\r\n\t\t\tdata = { name: name, type: type };\r\n\r\n\t\t\tvars.push( data );\r\n\t\t\tvars[ uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tgetTempVar: function ( uuid, type, ns, label ) {\r\n\r\n\t\treturn this.getVar( uuid, type, ns, this.shader, 'T', label );\r\n\r\n\t},\r\n\r\n\tgetAttribute: function ( name, type ) {\r\n\r\n\t\tif ( ! this.attributes[ name ] ) {\r\n\r\n\t\t\tvar varying = this.getVar( name, type );\r\n\r\n\t\t\tthis.addVertexParsCode( 'attribute ' + type + ' ' + name + ';' );\r\n\t\t\tthis.addVertexFinalCode( varying.name + ' = ' + name + ';' );\r\n\r\n\t\t\tthis.attributes[ name ] = { varying: varying, name: name, type: type };\r\n\r\n\t\t}\r\n\r\n\t\treturn this.attributes[ name ];\r\n\r\n\t},\r\n\r\n\tgetCode: function ( shader ) {\r\n\r\n\t\treturn [\r\n\t\t\tthis.prefixCode,\r\n\t\t\tthis.parsCode[ shader ],\r\n\t\t\tthis.getVarListCode( this.getVars( 'varying' ), 'varying' ),\r\n\t\t\tthis.getVarListCode( this.inputs.uniforms[ shader ], 'uniform' ),\r\n\t\t\tthis.getIncludesCode( 'consts', shader ),\r\n\t\t\tthis.getIncludesCode( 'structs', shader ),\r\n\t\t\tthis.getIncludesCode( 'functions', shader ),\r\n\t\t\t'void main() {',\r\n\t\t\tthis.getVarListCode( this.getVars( shader ) ),\r\n\t\t\tthis.code[ shader ],\r\n\t\t\tthis.resultCode[ shader ],\r\n\t\t\tthis.finalCode[ shader ],\r\n\t\t\t'}'\r\n\t\t].join( \"\\n\" );\r\n\r\n\t},\r\n\r\n\tgetVarListCode: function ( vars, prefix ) {\r\n\r\n\t\tprefix = prefix || '';\r\n\r\n\t\tvar code = '';\r\n\r\n\t\tfor ( var i = 0, l = vars.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar nVar = vars[ i ],\r\n\t\t\t\ttype = nVar.type,\r\n\t\t\t\tname = nVar.name;\r\n\r\n\t\t\tvar formatType = this.getFormatByType( type );\r\n\r\n\t\t\tif ( formatType === undefined ) {\r\n\r\n\t\t\t\tthrow new Error( \"Node pars \" + formatType + \" not found.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcode += prefix + ' ' + formatType + ' ' + name + ';\\n';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetVars: function ( shader ) {\r\n\r\n\t\treturn this.inputs.vars[ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetNodeData: function ( node ) {\r\n\r\n\t\tvar uuid = node.isNode ? node.uuid : node;\r\n\r\n\t\treturn this.nodeData[ uuid ] = this.nodeData[ uuid ] || {};\r\n\r\n\t},\r\n\r\n\tcreateUniform: function ( shader, type, node, ns, needsUpdate, label ) {\r\n\r\n\t\tvar uniforms = this.inputs.uniforms,\r\n\t\t\tindex = uniforms.list.length;\r\n\r\n\t\tvar uniform = new NodeUniform( {\r\n\t\t\ttype: type,\r\n\t\t\tname: ns ? ns : 'nodeU' + index + ( label ? '_' + label : '' ),\r\n\t\t\tnode: node,\r\n\t\t\tneedsUpdate: needsUpdate\r\n\t\t} );\r\n\r\n\t\tuniforms.list.push( uniform );\r\n\r\n\t\tuniforms[ shader ].push( uniform );\r\n\t\tuniforms[ shader ][ uniform.name ] = uniform;\r\n\r\n\t\tthis.uniforms[ uniform.name ] = uniform;\r\n\r\n\t\treturn uniform;\r\n\r\n\t},\r\n\r\n\tcreateVertexUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'vertex', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tcreateFragmentUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'fragment', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tinclude: function ( node, parent, source ) {\r\n\r\n\t\tvar includesStruct;\r\n\r\n\t\tnode = typeof node === 'string' ? NodeLib.get( node ) : node;\r\n\r\n\t\tif ( this.context.include === false ) {\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t}\r\n\r\n\r\n\t\tif ( node instanceof FunctionNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.functions;\r\n\r\n\t\t} else if ( node instanceof ConstNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.consts;\r\n\r\n\t\t} else if ( node instanceof StructNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.structs;\r\n\r\n\t\t}\r\n\r\n\t\tvar includes = includesStruct[ this.shader ] = includesStruct[ this.shader ] || [];\r\n\r\n\t\tif ( node ) {\r\n\r\n\t\t\tvar included = includes[ node.name ];\r\n\r\n\t\t\tif ( ! included ) {\r\n\r\n\t\t\t\tincluded = includes[ node.name ] = {\r\n\t\t\t\t\tnode: node,\r\n\t\t\t\t\tdeps: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tincludes.push( included );\r\n\r\n\t\t\t\tincluded.src = node.build( this, 'source' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node instanceof FunctionNode && parent && includes[ parent.name ] && includes[ parent.name ].deps.indexOf( node ) == - 1 ) {\r\n\r\n\t\t\t\tincludes[ parent.name ].deps.push( node );\r\n\r\n\t\t\t\tif ( node.includes && node.includes.length ) {\r\n\r\n\t\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\t\tdo {\r\n\r\n\t\t\t\t\t\tthis.include( node.includes[ i ++ ], parent );\r\n\r\n\t\t\t\t\t} while ( i < node.includes.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( source ) {\r\n\r\n\t\t\t\tincluded.src = source;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( \"Include not found.\" );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcolorToVectorProperties: function ( color ) {\r\n\r\n\t\treturn color.replace( 'r', 'x' ).replace( 'g', 'y' ).replace( 'b', 'z' ).replace( 'a', 'w' );\r\n\r\n\t},\r\n\r\n\tcolorToVector: function ( color ) {\r\n\r\n\t\treturn color.replace( /c/g, 'v3' );\r\n\r\n\t},\r\n\r\n\tgetIncludes: function ( type, shader ) {\r\n\r\n\t\treturn this.includes[ type ][ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetIncludesCode: function () {\r\n\r\n\t\tfunction sortByPosition( a, b ) {\r\n\r\n\t\t\treturn a.deps.length - b.deps.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn function getIncludesCode( type, shader ) {\r\n\r\n\t\t\tvar includes = this.getIncludes( type, shader );\r\n\r\n\t\t\tif ( ! includes ) return '';\r\n\r\n\t\t\tvar code = '',\r\n\t\t\t\tincludes = includes.sort( sortByPosition );\r\n\r\n\t\t\tfor ( var i = 0; i < includes.length; i ++ ) {\r\n\r\n\t\t\t\tif ( includes[ i ].src ) code += includes[ i ].src + '\\n';\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn code;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetConstructorFromLength: function ( len ) {\r\n\r\n\t\treturn constructors[ len - 1 ];\r\n\r\n\t},\r\n\r\n\tisTypeMatrix: function ( format ) {\r\n\r\n\t\treturn /^m/.test( format );\r\n\r\n\t},\r\n\r\n\tgetTypeLength: function ( type ) {\r\n\r\n\t\tif ( type === 'f' ) return 1;\r\n\r\n\t\treturn parseInt( this.colorToVector( type ).substr( 1 ) );\r\n\r\n\t},\r\n\r\n\tgetTypeFromLength: function ( len ) {\r\n\r\n\t\tif ( len === 1 ) return 'f';\r\n\r\n\t\treturn 'v' + len;\r\n\r\n\t},\r\n\r\n\tfindNode: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined && nodeCandidate.isNode ) {\r\n\r\n\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tresolve: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined ) {\r\n\r\n\t\t\t\tif ( nodeCandidate.isNode ) {\r\n\r\n\t\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isTexture ) {\r\n\r\n\t\t\t\t\tswitch ( nodeCandidate.mapping ) {\r\n\r\n\t\t\t\t\t\tcase CubeReflectionMapping:\r\n\t\t\t\t\t\tcase CubeRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new CubeTextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase CubeUVReflectionMapping:\r\n\t\t\t\t\t\tcase CubeUVRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new TextureCubeNode( new TextureNode( nodeCandidate ) );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\treturn new TextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector2 ) {\r\n\r\n\t\t\t\t\treturn new Vector2Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector3 ) {\r\n\r\n\t\t\t\t\treturn new Vector3Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector4 ) {\r\n\r\n\t\t\t\t\treturn new Vector4Node( nodeCandidate );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tformat: function ( code, from, to ) {\r\n\r\n\t\tvar typeToType = this.colorToVector( to + ' <- ' + from );\r\n\r\n\t\tswitch ( typeToType ) {\r\n\r\n\t\t\tcase 'f <- v2' : return code + '.x';\r\n\t\t\tcase 'f <- v3' : return code + '.x';\r\n\t\t\tcase 'f <- v4' : return code + '.x';\r\n\t\t\tcase 'f <- i' :\r\n\t\t\tcase 'f <- b' :\treturn 'float( ' + code + ' )';\r\n\r\n\t\t\tcase 'v2 <- f' : return 'vec2( ' + code + ' )';\r\n\t\t\tcase 'v2 <- v3': return code + '.xy';\r\n\t\t\tcase 'v2 <- v4': return code + '.xy';\r\n\t\t\tcase 'v2 <- i' :\r\n\t\t\tcase 'v2 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v3 <- f' : return 'vec3( ' + code + ' )';\r\n\t\t\tcase 'v3 <- v2': return 'vec3( ' + code + ', 0.0 )';\r\n\t\t\tcase 'v3 <- v4': return code + '.xyz';\r\n\t\t\tcase 'v3 <- i' :\r\n\t\t\tcase 'v3 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v4 <- f' : return 'vec4( ' + code + ' )';\r\n\t\t\tcase 'v4 <- v2': return 'vec4( ' + code + ', 0.0, 1.0 )';\r\n\t\t\tcase 'v4 <- v3': return 'vec4( ' + code + ', 1.0 )';\r\n\t\t\tcase 'v4 <- i' :\r\n\t\t\tcase 'v4 <- b' : return 'vec4( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'i <- f' :\r\n\t\t\tcase 'i <- b' : return 'int( ' + code + ' )';\r\n\t\t\tcase 'i <- v2' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v3' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v4' : return 'int( ' + code + '.x )';\r\n\r\n\t\t\tcase 'b <- f' : return '( ' + code + ' != 0.0 )';\r\n\t\t\tcase 'b <- v2' : return '( ' + code + ' != vec2( 0.0 ) )';\r\n\t\t\tcase 'b <- v3' : return '( ' + code + ' != vec3( 0.0 ) )';\r\n\t\t\tcase 'b <- v4' : return '( ' + code + ' != vec4( 0.0 ) )';\r\n\t\t\tcase 'b <- i' : return '( ' + code + ' != 0 )';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetTypeByFormat: function ( format ) {\r\n\r\n\t\treturn convertFormatToType[ format ] || format;\r\n\r\n\t},\r\n\r\n\tgetFormatByType: function ( type ) {\r\n\r\n\t\treturn convertTypeToFormat[ type ] || type;\r\n\r\n\t},\r\n\r\n\tgetUuid: function ( uuid, useCache ) {\r\n\r\n\t\tuseCache = useCache !== undefined ? useCache : true;\r\n\r\n\t\tif ( useCache && this.cache ) uuid = this.cache + '-' + uuid;\r\n\r\n\t\treturn uuid;\r\n\r\n\t},\r\n\r\n\tgetElementByIndex: function ( index ) {\r\n\r\n\t\treturn elements[ index ];\r\n\r\n\t},\r\n\r\n\tgetIndexByElement: function ( elm ) {\r\n\r\n\t\treturn elements.indexOf( elm );\r\n\r\n\t},\r\n\r\n\tisShader: function ( shader ) {\r\n\r\n\t\treturn this.shader === shader;\r\n\r\n\t},\r\n\r\n\tsetShader: function ( shader ) {\r\n\r\n\t\tthis.shader = shader;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmergeDefines: function ( defines ) {\r\n\r\n\t\tfor ( var name in defines ) {\r\n\r\n\t\t\tthis.defines[ name ] = defines[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.defines;\r\n\r\n\t},\r\n\r\n\tmergeUniform: function ( uniforms ) {\r\n\r\n\t\tfor ( var name in uniforms ) {\r\n\r\n\t\t\tthis.uniforms[ name ] = uniforms[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.uniforms;\r\n\r\n\t},\r\n\r\n\tgetTextureEncodingFromMap: function ( map ) {\r\n\r\n\t\tvar encoding;\r\n\r\n\t\tif ( ! map ) {\r\n\r\n\t\t\tencoding = LinearEncoding;\r\n\r\n\t\t} else if ( map.isTexture ) {\r\n\r\n\t\t\tencoding = map.encoding;\r\n\r\n\t\t} else if ( map.isWebGLRenderTarget ) {\r\n\r\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\tencoding = map.texture.encoding;\r\n\r\n\t\t}\r\n\r\n\t\tif ( encoding === LinearEncoding && this.context.gamma ) {\r\n\r\n\t\t\tencoding = GammaEncoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn encoding;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeBuilder };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeBuilder.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector2Node( x, y ) {\r\n\r\n\tInputNode.call( this, 'v2' );\r\n\r\n\tthis.value = x instanceof Vector2 ? x : new Vector2( x, y );\r\n\r\n}\r\n\r\nVector2Node.prototype = Object.create( InputNode.prototype );\r\nVector2Node.prototype.constructor = Vector2Node;\r\nVector2Node.prototype.nodeType = \"Vector2\";\r\n\r\nNodeUtils.addShortcuts( Vector2Node.prototype, 'value', [ 'x', 'y' ] );\r\n\r\nVector2Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec2( \" + this.x + \", \" + this.y + \" )\", type, output );\r\n\r\n};\r\n\r\nVector2Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector2Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector2Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector2Node.js","var NodeUtils = {\r\n\r\n\telements: [ 'x', 'y', 'z', 'w' ],\r\n\r\n\taddShortcuts: function () {\r\n\r\n\t\tfunction applyShortcut( proxy, property, subProperty ) {\r\n\r\n\t\t\tif ( subProperty ) {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ][ subProperty ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ][ subProperty ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn function addShortcuts( proto, proxy, list ) {\r\n\r\n\t\t\tvar shortcuts = {};\r\n\r\n\t\t\tfor ( var i = 0; i < list.length; ++ i ) {\r\n\r\n\t\t\t\tvar data = list[ i ].split( \".\" ),\r\n\t\t\t\t\tproperty = data[ 0 ],\r\n\t\t\t\t\tsubProperty = data[ 1 ];\r\n\r\n\t\t\t\tshortcuts[ property ] = applyShortcut( proxy, property, subProperty );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tObject.defineProperties( proto, shortcuts );\r\n\r\n\t\t};\r\n\r\n\t}()\r\n\r\n};\r\n\r\nexport { NodeUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUtils.js","import {\r\n\tClock,\r\n\tLinearFilter,\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tRGBAFormat,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { ShaderPass } from \"../postprocessing/ShaderPass.js\";\r\nimport { MaskPass } from \"../postprocessing/MaskPass.js\";\r\nimport { ClearMaskPass } from \"../postprocessing/MaskPass.js\";\r\n\r\nvar EffectComposer = function ( renderer, renderTarget ) {\r\n\r\n\tthis.renderer = renderer;\r\n\r\n\tif ( renderTarget === undefined ) {\r\n\r\n\t\tvar parameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tvar size = renderer.getSize( new Vector2() );\r\n\t\tthis._pixelRatio = renderer.getPixelRatio();\r\n\t\tthis._width = size.width;\r\n\t\tthis._height = size.height;\r\n\r\n\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\r\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\r\n\r\n\t} else {\r\n\r\n\t\tthis._pixelRatio = 1;\r\n\t\tthis._width = renderTarget.width;\r\n\t\tthis._height = renderTarget.height;\r\n\r\n\t}\r\n\r\n\tthis.renderTarget1 = renderTarget;\r\n\tthis.renderTarget2 = renderTarget.clone();\r\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\r\n\r\n\tthis.writeBuffer = this.renderTarget1;\r\n\tthis.readBuffer = this.renderTarget2;\r\n\r\n\tthis.renderToScreen = true;\r\n\r\n\tthis.passes = [];\r\n\r\n\t// dependencies\r\n\r\n\tif ( CopyShader === undefined ) {\r\n\r\n\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\r\n\r\n\t}\r\n\r\n\tif ( ShaderPass === undefined ) {\r\n\r\n\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\r\n\r\n\t}\r\n\r\n\tthis.copyPass = new ShaderPass( CopyShader );\r\n\r\n\tthis.clock = new Clock();\r\n\r\n};\r\n\r\nObject.assign( EffectComposer.prototype, {\r\n\r\n\tswapBuffers: function () {\r\n\r\n\t\tvar tmp = this.readBuffer;\r\n\t\tthis.readBuffer = this.writeBuffer;\r\n\t\tthis.writeBuffer = tmp;\r\n\r\n\t},\r\n\r\n\taddPass: function ( pass ) {\r\n\r\n\t\tthis.passes.push( pass );\r\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t},\r\n\r\n\tinsertPass: function ( pass, index ) {\r\n\r\n\t\tthis.passes.splice( index, 0, pass );\r\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t},\r\n\r\n\tisLastEnabledPass: function ( passIndex ) {\r\n\r\n\t\tfor ( var i = passIndex + 1; i < this.passes.length; i ++ ) {\r\n\r\n\t\t\tif ( this.passes[ i ].enabled ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\trender: function ( deltaTime ) {\r\n\r\n\t\t// deltaTime value is in seconds\r\n\r\n\t\tif ( deltaTime === undefined ) {\r\n\r\n\t\t\tdeltaTime = this.clock.getDelta();\r\n\r\n\t\t}\r\n\r\n\t\tvar currentRenderTarget = this.renderer.getRenderTarget();\r\n\r\n\t\tvar maskActive = false;\r\n\r\n\t\tvar pass, i, il = this.passes.length;\r\n\r\n\t\tfor ( i = 0; i < il; i ++ ) {\r\n\r\n\t\t\tpass = this.passes[ i ];\r\n\r\n\t\t\tif ( pass.enabled === false ) continue;\r\n\r\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\r\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\r\n\r\n\t\t\tif ( pass.needsSwap ) {\r\n\r\n\t\t\t\tif ( maskActive ) {\r\n\r\n\t\t\t\t\tvar context = this.renderer.getContext();\r\n\t\t\t\t\tvar stencil = this.renderer.state.buffers.stencil;\r\n\r\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\r\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\r\n\r\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\r\n\r\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\r\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.swapBuffers();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( MaskPass !== undefined ) {\r\n\r\n\t\t\t\tif ( pass instanceof MaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = true;\r\n\r\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t},\r\n\r\n\treset: function ( renderTarget ) {\r\n\r\n\t\tif ( renderTarget === undefined ) {\r\n\r\n\t\t\tvar size = this.renderer.getSize( new Vector2() );\r\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\r\n\t\t\tthis._width = size.width;\r\n\t\t\tthis._height = size.height;\r\n\r\n\t\t\trenderTarget = this.renderTarget1.clone();\r\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderTarget1.dispose();\r\n\t\tthis.renderTarget2.dispose();\r\n\t\tthis.renderTarget1 = renderTarget;\r\n\t\tthis.renderTarget2 = renderTarget.clone();\r\n\r\n\t\tthis.writeBuffer = this.renderTarget1;\r\n\t\tthis.readBuffer = this.renderTarget2;\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\r\n\t\tvar effectiveWidth = this._width * this._pixelRatio;\r\n\t\tvar effectiveHeight = this._height * this._pixelRatio;\r\n\r\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\r\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\r\n\r\n\t\tfor ( var i = 0; i < this.passes.length; i ++ ) {\r\n\r\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetPixelRatio: function ( pixelRatio ) {\r\n\r\n\t\tthis._pixelRatio = pixelRatio;\r\n\r\n\t\tthis.setSize( this._width, this._height );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nvar Pass = function () {\r\n\r\n\t// if set to true, the pass is processed by the composer\r\n\tthis.enabled = true;\r\n\r\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\r\n\tthis.needsSwap = true;\r\n\r\n\t// if set to true, the pass clears its buffer before rendering\r\n\tthis.clear = false;\r\n\r\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\r\n\tthis.renderToScreen = false;\r\n\r\n};\r\n\r\nObject.assign( Pass.prototype, {\r\n\r\n\tsetSize: function ( /* width, height */ ) {},\r\n\r\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// Helper for passes that need to fill the viewport with a single quad.\r\nPass.FullScreenQuad = ( function () {\r\n\r\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\r\n\r\n\tvar FullScreenQuad = function ( material ) {\r\n\r\n\t\tthis._mesh = new Mesh( geometry, material );\r\n\r\n\t};\r\n\r\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._mesh.material;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._mesh.material = value;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( FullScreenQuad.prototype, {\r\n\r\n\t\tdispose: function () {\r\n\r\n\t\t\tthis._mesh.geometry.dispose();\r\n\r\n\t\t},\r\n\r\n\t\trender: function ( renderer ) {\r\n\r\n\t\t\trenderer.render( this._mesh, camera );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn FullScreenQuad;\r\n\r\n} )();\r\n\r\nexport { EffectComposer, Pass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/EffectComposer.js","/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var mod={}, l=void 0,aa=mod;function r(c,d){var a=c.split(\".\"),b=aa;!(a[0]in b)&&b.execScript&&b.execScript(\"var \"+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==l?b[e]=d:b=b[e]?b[e]:b[e]={}};var t=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function v(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,k,m,n,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (t?Uint32Array:Array)(e);g=1;h=0;for(k=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){m=0;n=h;for(s=0;s<g;++s)m=m<<1|n&1,n>>=1;x=g<<16|p;for(s=m;s<e;s+=k)f[s]=x;++h}++g;h<<=1;k<<=1}return[f,a,b]};function w(c,d){this.g=[];this.h=32768;this.d=this.f=this.a=this.l=0;this.input=t?new Uint8Array(c):c;this.m=!1;this.i=y;this.r=!1;if(d||!(d={}))d.index&&(this.a=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.r=d.resize);switch(this.i){case A:this.b=32768;this.c=new (t?Uint8Array:Array)(32768+this.h+258);break;case y:this.b=0;this.c=new (t?Uint8Array:Array)(this.h);this.e=this.z;this.n=this.v;this.j=this.w;break;default:throw Error(\"invalid inflate mode\");\r\n}}var A=0,y=1,B={t:A,s:y};\r\nw.prototype.k=function(){for(;!this.m;){var c=C(this,3);c&1&&(this.m=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.a,b=this.c,e=this.b,f=d.length,g=l,h=l,k=b.length,m=l;this.d=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=d[a++]|d[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>d.length)throw Error(\"input buffer is broken\");switch(this.i){case A:for(;e+\r\ng>b.length;){m=k-e;g-=m;if(t)b.set(d.subarray(a,a+m),e),e+=m,a+=m;else for(;m--;)b[e++]=d[a++];this.b=e;b=this.e();e=this.b}break;case y:for(;e+g>b.length;)b=this.e({p:2});break;default:throw Error(\"invalid inflate mode\");}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.a=a;this.b=e;this.c=b;break;case 1:this.j(ba,ca);break;case 2:for(var n=C(this,5)+257,p=C(this,5)+1,s=C(this,4)+4,x=new (t?Uint8Array:Array)(D.length),S=l,T=l,U=l,u=l,M=l,F=l,z=l,q=l,V=l,q=0;q<s;++q)x[D[q]]=\r\nC(this,3);if(!t){q=s;for(s=x.length;q<s;++q)x[D[q]]=0}S=v(x);u=new (t?Uint8Array:Array)(n+p);q=0;for(V=n+p;q<V;)switch(M=E(this,S),M){case 16:for(z=3+C(this,2);z--;)u[q++]=F;break;case 17:for(z=3+C(this,3);z--;)u[q++]=0;F=0;break;case 18:for(z=11+C(this,7);z--;)u[q++]=0;F=0;break;default:F=u[q++]=M}T=t?v(u.subarray(0,n)):v(u.slice(0,n));U=t?v(u.subarray(n)):v(u.slice(n));this.j(T,U);break;default:throw Error(\"unknown BTYPE: \"+c);}}return this.n()};\r\nvar G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=t?new Uint16Array(G):G,H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],I=t?new Uint16Array(H):H,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],K=t?new Uint8Array(J):J,L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=t?new Uint16Array(L):L,ea=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,\r\n13,13],N=t?new Uint8Array(ea):ea,O=new (t?Uint8Array:Array)(288),P,fa;P=0;for(fa=O.length;P<fa;++P)O[P]=143>=P?8:255>=P?9:279>=P?7:8;var ba=v(O),Q=new (t?Uint8Array:Array)(30),R,ga;R=0;for(ga=Q.length;R<ga;++R)Q[R]=5;var ca=v(Q);function C(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h;b<d;){if(f>=g)throw Error(\"input buffer is broken\");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.d=b-d;c.a=f;return h}\r\nfunction E(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h=d[0],k=d[1],m,n;b<k&&!(f>=g);)a|=e[f++]<<b,b+=8;m=h[a&(1<<k)-1];n=m>>>16;if(n>b)throw Error(\"invalid code length: \"+n);c.f=a>>n;c.d=b-n;c.a=f;return m&65535}\r\nw.prototype.j=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length-258,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(this.b=b,a=this.e(),b=this.b),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b>=e&&(this.b=b,a=this.e(),b=this.b);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.w=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b+k>e&&(a=this.e(),e=a.length);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.e=function(){var c=new (t?Uint8Array:Array)(this.b-32768),d=this.b-32768,a,b,e=this.c;if(t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.l+=c.length;if(t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.b=32768;return e};\r\nw.prototype.z=function(c){var d,a=this.input.length/this.a+1|0,b,e,f,g=this.input,h=this.c;c&&(\"number\"===typeof c.p&&(a=c.p),\"number\"===typeof c.u&&(a+=c.u));2>a?(b=(g.length-this.a)/this.o[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;t?(d=new Uint8Array(e),d.set(h)):d=h;return this.c=d};\r\nw.prototype.n=function(){var c=0,d=this.c,a=this.g,b,e=new (t?Uint8Array:Array)(this.l+(this.b-32768)),f,g,h,k;if(0===a.length)return t?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(k=b.length;h<k;++h)e[c++]=b[h]}f=32768;for(g=this.b;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};\r\nw.prototype.v=function(){var c,d=this.b;t?this.r?(c=new Uint8Array(d),c.set(this.c.subarray(0,d))):c=this.c.subarray(0,d):(this.c.length>d&&(this.c.length=d),c=this.c);return this.buffer=c};function W(c,d){var a,b;this.input=c;this.a=0;if(d||!(d={}))d.index&&(this.a=d.index),d.verify&&(this.A=d.verify);a=c[this.a++];b=c[this.a++];switch(a&15){case ha:this.method=ha;break;default:throw Error(\"unsupported compression method\");}if(0!==((a<<8)+b)%31)throw Error(\"invalid fcheck flag:\"+((a<<8)+b)%31);if(b&32)throw Error(\"fdict flag is not supported\");this.q=new w(c,{index:this.a,bufferSize:d.bufferSize,bufferType:d.bufferType,resize:d.resize})}\r\nW.prototype.k=function(){var c=this.input,d,a;d=this.q.k();this.a=this.q.a;if(this.A){a=(c[this.a++]<<24|c[this.a++]<<16|c[this.a++]<<8|c[this.a++])>>>0;var b=d;if(\"string\"===typeof b){var e=b.split(\"\"),f,g;f=0;for(g=e.length;f<g;f++)e[f]=(e[f].charCodeAt(0)&255)>>>0;b=e}for(var h=1,k=0,m=b.length,n,p=0;0<m;){n=1024<m?1024:m;m-=n;do h+=b[p++],k+=h;while(--n);h%=65521;k%=65521}if(a!==(k<<16|h)>>>0)throw Error(\"invalid adler-32 checksum\");}return d};var ha=8;r(\"Zlib.Inflate\",W);r(\"Zlib.Inflate.prototype.decompress\",W.prototype.k);var X={ADAPTIVE:B.s,BLOCK:B.t},Y,Z,$,ia;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(ia=Y.length;$<ia;++$)Z=Y[$],r(\"Zlib.Inflate.BufferType.\"+Z,X[Z]);\r\nvar Inflate=mod.Zlib.Inflate;\r\nexport { Inflate }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/inflate.module.min.js","import {\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tMesh\r\n} from \"@/components/build/three.module.js\";\r\n\r\nfunction Pass() {\r\n\r\n\t// if set to true, the pass is processed by the composer\r\n\tthis.enabled = true;\r\n\r\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\r\n\tthis.needsSwap = true;\r\n\r\n\t// if set to true, the pass clears its buffer before rendering\r\n\tthis.clear = false;\r\n\r\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\r\n\tthis.renderToScreen = false;\r\n\r\n}\r\n\r\nObject.assign( Pass.prototype, {\r\n\r\n\tsetSize: function ( /* width, height */ ) {},\r\n\r\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// Helper for passes that need to fill the viewport with a single quad.\r\n\r\n// Important: It's actually a hack to put FullScreenQuad into the Pass namespace. This is only\r\n// done to make examples/js code work. Normally, FullScreenQuad should be exported\r\n// from this module like Pass.\r\n\r\nPass.FullScreenQuad = ( function () {\r\n\r\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\r\n\r\n\tvar FullScreenQuad = function ( material ) {\r\n\r\n\t\tthis._mesh = new Mesh( geometry, material );\r\n\r\n\t};\r\n\r\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._mesh.material;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._mesh.material = value;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( FullScreenQuad.prototype, {\r\n\r\n\t\tdispose: function () {\r\n\r\n\t\t\tthis._mesh.geometry.dispose();\r\n\r\n\t\t},\r\n\r\n\t\trender: function ( renderer ) {\r\n\r\n\t\t\trenderer.render( this._mesh, camera );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn FullScreenQuad;\r\n\r\n} )();\r\n\r\nexport { Pass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/Pass.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector3Node( x, y, z ) {\r\n\r\n\tInputNode.call( this, 'v3' );\r\n\r\n\tthis.value = x instanceof Vector3 ? x : new Vector3( x, y, z );\r\n\r\n}\r\n\r\nVector3Node.prototype = Object.create( InputNode.prototype );\r\nVector3Node.prototype.constructor = Vector3Node;\r\nVector3Node.prototype.nodeType = \"Vector3\";\r\n\r\nNodeUtils.addShortcuts( Vector3Node.prototype, 'value', [ 'x', 'y', 'z' ] );\r\n\r\nVector3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.x + \", \" + this.y + \", \" + this.z + \" )\", type, output );\r\n\r\n};\r\n\r\nVector3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector3Node.js","import {\r\n\tGammaEncoding,\r\n\tLinearEncoding,\r\n\tRGBEEncoding,\r\n\tRGBM7Encoding,\r\n\tRGBM16Encoding,\r\n\tRGBDEncoding,\r\n\tsRGBEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction ColorSpaceNode( input, method ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.method = method || ColorSpaceNode.LINEAR_TO_LINEAR;\r\n\r\n}\r\n\r\nColorSpaceNode.Nodes = ( function () {\r\n\r\n\t// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\r\n\r\n\tvar LinearToLinear = new FunctionNode( [\r\n\t\t\"vec4 LinearToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn value;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar GammaToLinear = new FunctionNode( [\r\n\t\t\"vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToGamma = new FunctionNode( [\r\n\t\t\"vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar sRGBToLinear = new FunctionNode( [\r\n\t\t\"vec4 sRGBToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearTosRGB = new FunctionNode( [\r\n\t\t\"vec4 LinearTosRGB( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar RGBEToLinear = new FunctionNode( [\r\n\t\t\"vec4 RGBEToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBE = new FunctionNode( [\r\n\t\t\"vec4 LinearToRGBE( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat maxComponent = max( max( value.r, value.g ), value.b );\",\r\n\t\t\"\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\",\r\n\t\t\"\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\",\r\n\t\t//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBMToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBMToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBM = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBM( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\",\r\n\t\t\"\tM            = ceil( M * 255.0 ) / 255.0;\",\r\n\t\t\"\treturn vec4( value.rgb / ( M * maxRange ), M );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBDToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBDToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\r\n\tvar LinearToRGBD = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBD( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat D      = max( maxRange / maxRGB, 1.0 );\",\r\n\t\t\"\tD            = clamp( floor( D ) / 255.0, 0.0, 1.0 );\",\r\n\t\t\"\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\r\n\r\n\t// M matrix, for encoding\r\n\r\n\tvar cLogLuvM = new ConstNode( \"const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\" );\r\n\r\n\tvar LinearToLogLuv = new FunctionNode( [\r\n\t\t\"vec4 LinearToLogLuv( in vec4 value ) {\",\r\n\r\n\t\t\"\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\",\r\n\t\t\"\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\",\r\n\t\t\"\tvec4 vResult;\",\r\n\t\t\"\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\",\r\n\t\t\"\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\",\r\n\t\t\"\tvResult.w = fract(Le);\",\r\n\t\t\"\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\",\r\n\t\t\"\treturn vResult;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvM ] );\r\n\r\n\t// Inverse M matrix, for decoding\r\n\r\n\tvar cLogLuvInverseM = new ConstNode( \"const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\" );\r\n\r\n\tvar LogLuvToLinear = new FunctionNode( [\r\n\t\t\"vec4 LogLuvToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat Le = value.z * 255.0 + value.w;\",\r\n\t\t\"\tvec3 Xp_Y_XYZp;\",\r\n\t\t\"\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\",\r\n\t\t\"\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\",\r\n\t\t\"\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\",\r\n\t\t\"\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\",\r\n\t\t\"\treturn vec4( max(vRGB, 0.0), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvInverseM ] );\r\n\r\n\treturn {\r\n\t\tLinearToLinear: LinearToLinear,\r\n\t\tGammaToLinear: GammaToLinear,\r\n\t\tLinearToGamma: LinearToGamma,\r\n\t\tsRGBToLinear: sRGBToLinear,\r\n\t\tLinearTosRGB: LinearTosRGB,\r\n\t\tRGBEToLinear: RGBEToLinear,\r\n\t\tLinearToRGBE: LinearToRGBE,\r\n\t\tRGBMToLinear: RGBMToLinear,\r\n\t\tLinearToRGBM: LinearToRGBM,\r\n\t\tRGBDToLinear: RGBDToLinear,\r\n\t\tLinearToRGBD: LinearToRGBD,\r\n\t\tcLogLuvM: cLogLuvM,\r\n\t\tLinearToLogLuv: LinearToLogLuv,\r\n\t\tcLogLuvInverseM: cLogLuvInverseM,\r\n\t\tLogLuvToLinear: LogLuvToLinear\r\n\t};\r\n\r\n} )();\r\n\r\nColorSpaceNode.LINEAR_TO_LINEAR = 'LinearToLinear';\r\n\r\nColorSpaceNode.GAMMA_TO_LINEAR = 'GammaToLinear';\r\nColorSpaceNode.LINEAR_TO_GAMMA = 'LinearToGamma';\r\n\r\nColorSpaceNode.SRGB_TO_LINEAR = 'sRGBToLinear';\r\nColorSpaceNode.LINEAR_TO_SRGB = 'LinearTosRGB';\r\n\r\nColorSpaceNode.RGBE_TO_LINEAR = 'RGBEToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBE = 'LinearToRGBE';\r\n\r\nColorSpaceNode.RGBM_TO_LINEAR = 'RGBMToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBM = 'LinearToRGBM';\r\n\r\nColorSpaceNode.RGBD_TO_LINEAR = 'RGBDToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBD = 'LinearToRGBD';\r\n\r\nColorSpaceNode.LINEAR_TO_LOG_LUV = 'LinearToLogLuv';\r\nColorSpaceNode.LOG_LUV_TO_LINEAR = 'LogLuvToLinear';\r\n\r\nColorSpaceNode.getEncodingComponents = function ( encoding ) {\r\n\r\n\tswitch ( encoding ) {\r\n\r\n\t\tcase LinearEncoding:\r\n\t\t\treturn [ 'Linear' ];\r\n\t\tcase sRGBEncoding:\r\n\t\t\treturn [ 'sRGB' ];\r\n\t\tcase RGBEEncoding:\r\n\t\t\treturn [ 'RGBE' ];\r\n\t\tcase RGBM7Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 7.0 ).setReadonly( true ) ];\r\n\t\tcase RGBM16Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 16.0 ).setReadonly( true ) ];\r\n\t\tcase RGBDEncoding:\r\n\t\t\treturn [ 'RGBD', new FloatNode( 256.0 ).setReadonly( true ) ];\r\n\t\tcase GammaEncoding:\r\n\t\t\treturn [ 'Gamma', new ExpressionNode( 'float( GAMMA_FACTOR )', 'f' ) ];\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype = Object.create( TempNode.prototype );\r\nColorSpaceNode.prototype.constructor = ColorSpaceNode;\r\nColorSpaceNode.prototype.nodeType = \"ColorSpace\";\r\nColorSpaceNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorSpaceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar input = this.input.build( builder, 'v4' );\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tvar methodNode = ColorSpaceNode.Nodes[ this.method ];\r\n\tvar method = builder.include( methodNode );\r\n\r\n\tif ( method === ColorSpaceNode.LINEAR_TO_LINEAR ) {\r\n\r\n\t\treturn builder.format( input, outputType, output );\r\n\r\n\t} else {\r\n\r\n\t\tif ( methodNode.inputs.length === 2 ) {\r\n\r\n\t\t\tvar factor = this.factor.build( builder, 'f' );\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ', ' + factor + ' )', outputType, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ' )', outputType, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromEncoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = 'LinearTo' + components[ 0 ];\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromDecoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = components[ 0 ] + 'ToLinear';\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.input = source.input;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.input = this.input.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorSpaceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/ColorSpaceNode.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = EKta\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = EuP9\n// module chunks = 0","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tTrianglesDrawMode,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar BufferGeometryUtils = {\r\n\r\n\tcomputeTangents: function ( geometry ) {\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar attributes = geometry.attributes;\r\n\r\n\t\t// based on http://www.terathon.com/code/tangent.html\r\n\t\t// (per vertex tangents)\r\n\r\n\t\tif ( index === null ||\r\n\t\t\t attributes.position === undefined ||\r\n\t\t\t attributes.normal === undefined ||\r\n\t\t\t attributes.uv === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = index.array;\r\n\t\tvar positions = attributes.position.array;\r\n\t\tvar normals = attributes.normal.array;\r\n\t\tvar uvs = attributes.uv.array;\r\n\r\n\t\tvar nVertices = positions.length / 3;\r\n\r\n\t\tif ( attributes.tangent === undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar tangents = attributes.tangent.array;\r\n\r\n\t\tvar tan1 = [], tan2 = [];\r\n\r\n\t\tfor ( var i = 0; i < nVertices; i ++ ) {\r\n\r\n\t\t\ttan1[ i ] = new Vector3();\r\n\t\t\ttan2[ i ] = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tvar vA = new Vector3(),\r\n\t\t\tvB = new Vector3(),\r\n\t\t\tvC = new Vector3(),\r\n\r\n\t\t\tuvA = new Vector2(),\r\n\t\t\tuvB = new Vector2(),\r\n\t\t\tuvC = new Vector2(),\r\n\r\n\t\t\tsdir = new Vector3(),\r\n\t\t\ttdir = new Vector3();\r\n\r\n\t\tfunction handleTriangle( a, b, c ) {\r\n\r\n\t\t\tvA.fromArray( positions, a * 3 );\r\n\t\t\tvB.fromArray( positions, b * 3 );\r\n\t\t\tvC.fromArray( positions, c * 3 );\r\n\r\n\t\t\tuvA.fromArray( uvs, a * 2 );\r\n\t\t\tuvB.fromArray( uvs, b * 2 );\r\n\t\t\tuvC.fromArray( uvs, c * 2 );\r\n\r\n\t\t\tvB.sub( vA );\r\n\t\t\tvC.sub( vA );\r\n\r\n\t\t\tuvB.sub( uvA );\r\n\t\t\tuvC.sub( uvA );\r\n\r\n\t\t\tvar r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\r\n\r\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\r\n\r\n\t\t\tif ( ! isFinite( r ) ) return;\r\n\r\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\r\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\r\n\r\n\t\t\ttan1[ a ].add( sdir );\r\n\t\t\ttan1[ b ].add( sdir );\r\n\t\t\ttan1[ c ].add( sdir );\r\n\r\n\t\t\ttan2[ a ].add( tdir );\r\n\t\t\ttan2[ b ].add( tdir );\r\n\t\t\ttan2[ c ].add( tdir );\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = geometry.groups;\r\n\r\n\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\tgroups = [ {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tcount: indices.length\r\n\t\t\t} ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleTriangle(\r\n\t\t\t\t\tindices[ j + 0 ],\r\n\t\t\t\t\tindices[ j + 1 ],\r\n\t\t\t\t\tindices[ j + 2 ]\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar tmp = new Vector3(), tmp2 = new Vector3();\r\n\t\tvar n = new Vector3(), n2 = new Vector3();\r\n\t\tvar w, t, test;\r\n\r\n\t\tfunction handleVertex( v ) {\r\n\r\n\t\t\tn.fromArray( normals, v * 3 );\r\n\t\t\tn2.copy( n );\r\n\r\n\t\t\tt = tan1[ v ];\r\n\r\n\t\t\t// Gram-Schmidt orthogonalize\r\n\r\n\t\t\ttmp.copy( t );\r\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\r\n\r\n\t\t\t// Calculate handedness\r\n\r\n\t\t\ttmp2.crossVectors( n2, t );\r\n\t\t\ttest = tmp2.dot( tan2[ v ] );\r\n\t\t\tw = ( test < 0.0 ) ? - 1.0 : 1.0;\r\n\r\n\t\t\ttangents[ v * 4 ] = tmp.x;\r\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\r\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\r\n\t\t\ttangents[ v * 4 + 3 ] = w;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleVertex( indices[ j + 0 ] );\r\n\t\t\t\thandleVertex( indices[ j + 1 ] );\r\n\t\t\t\thandleVertex( indices[ j + 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param  {Array<BufferGeometry>} geometries\r\n\t * @param  {Boolean} useGroups\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tmergeBufferGeometries: function ( geometries, useGroups ) {\r\n\r\n\t\tvar isIndexed = geometries[ 0 ].index !== null;\r\n\r\n\t\tvar attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\r\n\t\tvar morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\r\n\r\n\t\tvar attributes = {};\r\n\t\tvar morphAttributes = {};\r\n\r\n\t\tvar morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\r\n\r\n\t\tvar mergedGeometry = new BufferGeometry();\r\n\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\tvar geometry = geometries[ i ];\r\n\t\t\tvar attributesCount = 0;\r\n\r\n\t\t\t// ensure that all geometries are indexed, or none\r\n\r\n\t\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather attributes, exit early if they're different\r\n\r\n\t\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\t\tif ( ! attributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\r\n\r\n\t\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\r\n\r\n\t\t\t\tattributesCount ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// ensure geometries have the same number of attributes\r\n\r\n\t\t\tif ( attributesCount !== attributesUsed.size ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather morph attributes, exit early if they're different\r\n\r\n\t\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var name in geometry.morphAttributes ) {\r\n\r\n\t\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\r\n\r\n\t\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather .userData\r\n\r\n\t\t\tmergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || [];\r\n\t\t\tmergedGeometry.userData.mergedUserData.push( geometry.userData );\r\n\r\n\t\t\tif ( useGroups ) {\r\n\r\n\t\t\t\tvar count;\r\n\r\n\t\t\t\tif ( isIndexed ) {\r\n\r\n\t\t\t\t\tcount = geometry.index.count;\r\n\r\n\t\t\t\t} else if ( geometry.attributes.position !== undefined ) {\r\n\r\n\t\t\t\t\tcount = geometry.attributes.position.count;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.addGroup( offset, count, i );\r\n\r\n\t\t\t\toffset += count;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// merge indices\r\n\r\n\t\tif ( isIndexed ) {\r\n\r\n\t\t\tvar indexOffset = 0;\r\n\t\t\tvar mergedIndex = [];\r\n\r\n\t\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\t\tvar index = geometries[ i ].index;\r\n\r\n\t\t\t\tfor ( var j = 0; j < index.count; ++ j ) {\r\n\r\n\t\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindexOffset += geometries[ i ].attributes.position.count;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setIndex( mergedIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// merge attributes\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tvar mergedAttribute = this.mergeBufferAttributes( attributes[ name ] );\r\n\r\n\t\t\tif ( ! mergedAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setAttribute( name, mergedAttribute );\r\n\r\n\t\t}\r\n\r\n\t\t// merge morph attributes\r\n\r\n\t\tfor ( var name in morphAttributes ) {\r\n\r\n\t\t\tvar numMorphTargets = morphAttributes[ name ][ 0 ].length;\r\n\r\n\t\t\tif ( numMorphTargets === 0 ) break;\r\n\r\n\t\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\r\n\t\t\tmergedGeometry.morphAttributes[ name ] = [];\r\n\r\n\t\t\tfor ( var i = 0; i < numMorphTargets; ++ i ) {\r\n\r\n\t\t\t\tvar morphAttributesToMerge = [];\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttributes[ name ].length; ++ j ) {\r\n\r\n\t\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar mergedMorphAttribute = this.mergeBufferAttributes( morphAttributesToMerge );\r\n\r\n\t\t\t\tif ( ! mergedMorphAttribute ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn mergedGeometry;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {BufferAttribute}\r\n\t */\r\n\tmergeBufferAttributes: function ( attributes ) {\r\n\r\n\t\tvar TypedArray;\r\n\t\tvar itemSize;\r\n\t\tvar normalized;\r\n\t\tvar arrayLength = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\r\n\t\t\tif ( itemSize !== attribute.itemSize ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( normalized === undefined ) normalized = attribute.normalized;\r\n\t\t\tif ( normalized !== attribute.normalized ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\r\n\t\t}\r\n\r\n\t\tvar array = new TypedArray( arrayLength );\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tarray.set( attributes[ i ].array, offset );\r\n\r\n\t\t\toffset += attributes[ i ].array.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {Array<InterleavedBufferAttribute>}\r\n\t */\r\n\tinterleaveAttributes: function ( attributes ) {\r\n\r\n\t\t// Interleaves the provided attributes into an InterleavedBuffer and returns\r\n\t\t// a set of InterleavedBufferAttributes for each attribute\r\n\t\tvar TypedArray;\r\n\t\tvar arrayLength = 0;\r\n\t\tvar stride = 0;\r\n\r\n\t\t// calculate the the length and type of the interleavedBuffer\r\n\t\tfor ( var i = 0, l = attributes.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\t\t\tstride += attribute.itemSize;\r\n\r\n\t\t}\r\n\r\n\t\t// Create the set of buffer attributes\r\n\t\tvar interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\r\n\t\tvar offset = 0;\r\n\t\tvar res = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\t\tvar setters = [ 'setX', 'setY', 'setZ', 'setW' ];\r\n\r\n\t\tfor ( var j = 0, l = attributes.length; j < l; j ++ ) {\r\n\r\n\t\t\tvar attribute = attributes[ j ];\r\n\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\tvar count = attribute.count;\r\n\t\t\tvar iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\r\n\t\t\tres.push( iba );\r\n\r\n\t\t\toffset += itemSize;\r\n\r\n\t\t\t// Move the data for each attribute into the new interleavedBuffer\r\n\t\t\t// at the appropriate offset\r\n\t\t\tfor ( var c = 0; c < count; c ++ ) {\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferGeometry>} geometry\r\n\t * @return {number}\r\n\t */\r\n\testimateBytesUsed: function ( geometry ) {\r\n\r\n\t\t// Return the estimated memory used by this geometry in bytes\r\n\t\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\r\n\t\t// for InterleavedBufferAttributes.\r\n\t\tvar mem = 0;\r\n\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\tvar attr = geometry.getAttribute( name );\r\n\t\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\r\n\t\treturn mem;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} tolerance\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\tmergeVertices: function ( geometry, tolerance = 1e-4 ) {\r\n\r\n\t\ttolerance = Math.max( tolerance, Number.EPSILON );\r\n\r\n\t\t// Generate an index buffer if the geometry doesn't have one, or optimize it\r\n\t\t// if it's already available.\r\n\t\tvar hashToIndex = {};\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tvar positions = geometry.getAttribute( 'position' );\r\n\t\tvar vertexCount = indices ? indices.count : positions.count;\r\n\r\n\t\t// next value for triangle indices\r\n\t\tvar nextIndex = 0;\r\n\r\n\t\t// attributes and new attribute arrays\r\n\t\tvar attributeNames = Object.keys( geometry.attributes );\r\n\t\tvar attrArrays = {};\r\n\t\tvar morphAttrsArrays = {};\r\n\t\tvar newIndices = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\r\n\t\t// initialize the arrays\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\r\n\t\t\tattrArrays[ name ] = [];\r\n\r\n\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\tmorphAttrsArrays[ name ] = new Array( morphAttr.length ).fill().map( () => [] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// convert the error tolerance to an amount of decimal places to truncate to\r\n\t\tvar decimalShift = Math.log10( 1 / tolerance );\r\n\t\tvar shiftMultiplier = Math.pow( 10, decimalShift );\r\n\t\tfor ( var i = 0; i < vertexCount; i ++ ) {\r\n\r\n\t\t\tvar index = indices ? indices.getX( i ) : i;\r\n\r\n\t\t\t// Generate a hash for the vertex attributes at the current index 'i'\r\n\t\t\tvar hash = '';\r\n\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\tvar itemSize = attribute.itemSize;\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t// double tilde truncates the decimal value\r\n\t\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * shiftMultiplier ) },`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Add another reference to the vertex if it's already\r\n\t\t\t// used by another index\r\n\t\t\tif ( hash in hashToIndex ) {\r\n\r\n\t\t\t\tnewIndices.push( hashToIndex[ hash ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// copy data to the new index in the attribute arrays\r\n\t\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\t\t\tvar newarray = attrArrays[ name ];\r\n\t\t\t\t\tvar newMorphArrays = morphAttrsArrays[ name ];\r\n\r\n\t\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t\tvar getterFunc = getters[ k ];\r\n\t\t\t\t\t\tnewarray.push( attribute[ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var m = 0, ml = morphAttr.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tnewMorphArrays[ m ].push( morphAttr[ m ][ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\thashToIndex[ hash ] = nextIndex;\r\n\t\t\t\tnewIndices.push( nextIndex );\r\n\t\t\t\tnextIndex ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Generate typed arrays from new attribute arrays and update\r\n\t\t// the attributeBuffers\r\n\t\tconst result = geometry.clone();\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\t\t\tvar oldAttribute = geometry.getAttribute( name );\r\n\r\n\t\t\tvar buffer = new oldAttribute.array.constructor( attrArrays[ name ] );\r\n\t\t\tvar attribute = new BufferAttribute( buffer, oldAttribute.itemSize, oldAttribute.normalized );\r\n\r\n\t\t\tresult.setAttribute( name, attribute );\r\n\r\n\t\t\t// Update the attribute arrays\r\n\t\t\tif ( name in morphAttrsArrays ) {\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttrsArrays[ name ].length; j ++ ) {\r\n\r\n\t\t\t\t\tvar oldMorphAttribute = geometry.morphAttributes[ name ][ j ];\r\n\r\n\t\t\t\t\tvar buffer = new oldMorphAttribute.array.constructor( morphAttrsArrays[ name ][ j ] );\r\n\t\t\t\t\tvar morphAttribute = new BufferAttribute( buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized );\r\n\t\t\t\t\tresult.morphAttributes[ name ][ j ] = morphAttribute;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tresult.setIndex( newIndices );\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} drawMode\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\ttoTrianglesDrawMode: function ( geometry, drawMode ) {\r\n\r\n\t\tif ( drawMode === TrianglesDrawMode ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\r\n\r\n\t\t\tvar index = geometry.getIndex();\r\n\r\n\t\t\t// generate index if not present\r\n\r\n\t\t\tif ( index === null ) {\r\n\r\n\t\t\t\tvar indices = [];\r\n\r\n\t\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\t\treturn geometry;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tvar numberOfTriangles = index.count - 2;\r\n\t\t\tvar newIndices = [];\r\n\r\n\t\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// build final geometry\r\n\r\n\t\t\tvar newGeometry = geometry.clone();\r\n\t\t\tnewGeometry.setIndex( newIndices );\r\n\t\t\tnewGeometry.clearGroups();\r\n\r\n\t\t\treturn newGeometry;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { BufferGeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/BufferGeometryUtils.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// https://github.com/mrdoob/three.js/issues/5552\r\n// http://en.wikipedia.org/wiki/RGBE_image_format\r\n\r\nvar RGBELoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nRGBELoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: RGBELoader,\r\n\r\n\t// adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tvar\r\n\t\t\t/* return codes for rgbe routines */\r\n\t\t\t//RGBE_RETURN_SUCCESS = 0,\r\n\t\t\tRGBE_RETURN_FAILURE = - 1,\r\n\r\n\t\t\t/* default error routine.  change this to change error handling */\r\n\t\t\trgbe_read_error = 1,\r\n\t\t\trgbe_write_error = 2,\r\n\t\t\trgbe_format_error = 3,\r\n\t\t\trgbe_memory_error = 4,\r\n\t\t\trgbe_error = function ( rgbe_error_code, msg ) {\r\n\r\n\t\t\t\tswitch ( rgbe_error_code ) {\r\n\r\n\t\t\t\t\tcase rgbe_read_error: console.error( \"RGBELoader Read Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_write_error: console.error( \"RGBELoader Write Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_format_error: console.error( \"RGBELoader Bad File Format: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tcase rgbe_memory_error: console.error( \"RGBELoader: Error: \" + ( msg || '' ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn RGBE_RETURN_FAILURE;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* offsets to red, green, and blue components in a data (float) pixel */\r\n\t\t\t//RGBE_DATA_RED = 0,\r\n\t\t\t//RGBE_DATA_GREEN = 1,\r\n\t\t\t//RGBE_DATA_BLUE = 2,\r\n\r\n\t\t\t/* number of floats per pixel, use 4 since stored in rgba image format */\r\n\t\t\t//RGBE_DATA_SIZE = 4,\r\n\r\n\t\t\t/* flags indicating which fields in an rgbe_header_info are valid */\r\n\t\t\tRGBE_VALID_PROGRAMTYPE = 1,\r\n\t\t\tRGBE_VALID_FORMAT = 2,\r\n\t\t\tRGBE_VALID_DIMENSIONS = 4,\r\n\r\n\t\t\tNEWLINE = \"\\n\",\r\n\r\n\t\t\tfgets = function ( buffer, lineLimit, consume ) {\r\n\r\n\t\t\t\tlineLimit = ! lineLimit ? 1024 : lineLimit;\r\n\t\t\t\tvar p = buffer.pos,\r\n\t\t\t\t\ti = - 1, len = 0, s = '', chunkSize = 128,\r\n\t\t\t\t\tchunk = String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) )\r\n\t\t\t\t;\r\n\t\t\t\twhile ( ( 0 > ( i = chunk.indexOf( NEWLINE ) ) ) && ( len < lineLimit ) && ( p < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\ts += chunk; len += chunk.length;\r\n\t\t\t\t\tp += chunkSize;\r\n\t\t\t\t\tchunk += String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( - 1 < i ) {\r\n\r\n\t\t\t\t\t/*for (i=l-1; i>=0; i--) {\r\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\r\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\r\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\r\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\r\n\t\t\t\t\t}*/\r\n\t\t\t\t\tif ( false !== consume ) buffer.pos += len + i + 1;\r\n\t\t\t\t\treturn s + chunk.slice( 0, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* minimal header reading.  modify if you want to parse more information */\r\n\t\t\tRGBE_ReadHeader = function ( buffer ) {\r\n\r\n\t\t\t\tvar line, match,\r\n\r\n\t\t\t\t\t// regexes to parse header info fields\r\n\t\t\t\t\tmagic_token_re = /^#\\?(\\S+)$/,\r\n\t\t\t\t\tgamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\texposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\tformat_re = /^\\s*FORMAT=(\\S+)\\s*$/,\r\n\t\t\t\t\tdimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\r\n\r\n\t\t\t\t\t// RGBE format header struct\r\n\t\t\t\t\theader = {\r\n\r\n\t\t\t\t\t\tvalid: 0, /* indicate which fields are valid */\r\n\r\n\t\t\t\t\t\tstring: '', /* the actual header string */\r\n\r\n\t\t\t\t\t\tcomments: '', /* comments found in header */\r\n\r\n\t\t\t\t\t\tprogramtype: 'RGBE', /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\r\n\r\n\t\t\t\t\t\tformat: '', /* RGBE format, default 32-bit_rle_rgbe */\r\n\r\n\t\t\t\t\t\tgamma: 1.0, /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\r\n\r\n\t\t\t\t\t\texposure: 1.0, /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\r\n\r\n\t\t\t\t\t\twidth: 0, height: 0 /* image dimensions, width/height */\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tif ( buffer.pos >= buffer.byteLength || ! ( line = fgets( buffer ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_read_error, \"no header found\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* if you want to require the magic token then uncomment the next line */\r\n\t\t\t\tif ( ! ( match = line.match( magic_token_re ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad initial token\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\theader.valid |= RGBE_VALID_PROGRAMTYPE;\r\n\t\t\t\theader.programtype = match[ 1 ];\r\n\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\twhile ( true ) {\r\n\r\n\t\t\t\t\tline = fgets( buffer );\r\n\t\t\t\t\tif ( false === line ) break;\r\n\t\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\t\tif ( '#' === line.charAt( 0 ) ) {\r\n\r\n\t\t\t\t\t\theader.comments += line + \"\\n\";\r\n\t\t\t\t\t\tcontinue; // comment line\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( gamma_re ) ) {\r\n\r\n\t\t\t\t\t\theader.gamma = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( exposure_re ) ) {\r\n\r\n\t\t\t\t\t\theader.exposure = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( format_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_FORMAT;\r\n\t\t\t\t\t\theader.format = match[ 1 ];//'32-bit_rle_rgbe';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( dimensions_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_DIMENSIONS;\r\n\t\t\t\t\t\theader.height = parseInt( match[ 1 ], 10 );\r\n\t\t\t\t\t\theader.width = parseInt( match[ 2 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ( header.valid & RGBE_VALID_FORMAT ) && ( header.valid & RGBE_VALID_DIMENSIONS ) ) break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_FORMAT ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing format specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_DIMENSIONS ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing image size specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn header;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tRGBE_ReadPixels_RLE = function ( buffer, w, h ) {\r\n\r\n\t\t\t\tvar data_rgba, offset, pos, count, byteValue,\r\n\t\t\t\t\tscanline_buffer, ptr, ptr_end, i, l, off, isEncodedRun,\r\n\t\t\t\t\tscanline_width = w, num_scanlines = h, rgbeStart\r\n\t\t\t\t;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t// run length encoding is not allowed so read flat\r\n\t\t\t\t\t( ( scanline_width < 8 ) || ( scanline_width > 0x7fff ) ) ||\r\n\t\t\t\t\t// this file is not run length encoded\r\n\t\t\t\t\t( ( 2 !== buffer[ 0 ] ) || ( 2 !== buffer[ 1 ] ) || ( buffer[ 2 ] & 0x80 ) )\r\n\t\t\t\t) {\r\n\r\n\t\t\t\t\t// return the flat buffer\r\n\t\t\t\t\treturn new Uint8Array( buffer );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( scanline_width !== ( ( buffer[ 2 ] << 8 ) | buffer[ 3 ] ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"wrong scanline width\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata_rgba = new Uint8Array( 4 * w * h );\r\n\r\n\t\t\t\tif ( ! data_rgba.length ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_memory_error, \"unable to allocate buffer space\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset = 0; pos = 0; ptr_end = 4 * scanline_width;\r\n\t\t\t\trgbeStart = new Uint8Array( 4 );\r\n\t\t\t\tscanline_buffer = new Uint8Array( ptr_end );\r\n\r\n\t\t\t\t// read in each successive scanline\r\n\t\t\t\twhile ( ( num_scanlines > 0 ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\tif ( pos + 4 > buffer.byteLength ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_read_error );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trgbeStart[ 0 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 1 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 2 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 3 ] = buffer[ pos ++ ];\r\n\r\n\t\t\t\t\tif ( ( 2 != rgbeStart[ 0 ] ) || ( 2 != rgbeStart[ 1 ] ) || ( ( ( rgbeStart[ 2 ] << 8 ) | rgbeStart[ 3 ] ) != scanline_width ) ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad rgbe scanline format\" );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// read each of the four channels for the scanline into the buffer\r\n\t\t\t\t\t// first red, then green, then blue, then exponent\r\n\t\t\t\t\tptr = 0;\r\n\t\t\t\t\twhile ( ( ptr < ptr_end ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\t\tcount = buffer[ pos ++ ];\r\n\t\t\t\t\t\tisEncodedRun = count > 128;\r\n\t\t\t\t\t\tif ( isEncodedRun ) count -= 128;\r\n\r\n\t\t\t\t\t\tif ( ( 0 === count ) || ( ptr + count > ptr_end ) ) {\r\n\r\n\t\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad scanline data\" );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( isEncodedRun ) {\r\n\r\n\t\t\t\t\t\t\t// a (encoded) run of the same value\r\n\t\t\t\t\t\t\tbyteValue = buffer[ pos ++ ];\r\n\t\t\t\t\t\t\tfor ( i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tscanline_buffer[ ptr ++ ] = byteValue;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//ptr += count;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t// a literal-run\r\n\t\t\t\t\t\t\tscanline_buffer.set( buffer.subarray( pos, pos + count ), ptr );\r\n\t\t\t\t\t\t\tptr += count; pos += count;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// now convert data from buffer into rgba\r\n\t\t\t\t\t// first red, then green, then blue, then exponent (alpha)\r\n\t\t\t\t\tl = scanline_width; //scanline_buffer.byteLength;\r\n\t\t\t\t\tfor ( i = 0; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\toff = 0;\r\n\t\t\t\t\t\tdata_rgba[ offset ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 1 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 2 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 3 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toffset += 4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnum_scanlines --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data_rgba;\r\n\r\n\t\t\t};\r\n\r\n\t\tvar RGBEByteToRGBFloat = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = sourceArray[ sourceOffset + 0 ] * scale;\r\n\t\t\tdestArray[ destOffset + 1 ] = sourceArray[ sourceOffset + 1 ] * scale;\r\n\t\t\tdestArray[ destOffset + 2 ] = sourceArray[ sourceOffset + 2 ] * scale;\r\n\r\n\t\t};\r\n\r\n\t\tvar RGBEByteToRGBHalf = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 0 ] * scale );\r\n\t\t\tdestArray[ destOffset + 1 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 1 ] * scale );\r\n\t\t\tdestArray[ destOffset + 2 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 2 ] * scale );\r\n\r\n\t\t};\r\n\r\n\t\tvar byteArray = new Uint8Array( buffer );\r\n\t\tbyteArray.pos = 0;\r\n\t\tvar rgbe_header_info = RGBE_ReadHeader( byteArray );\r\n\r\n\t\tif ( RGBE_RETURN_FAILURE !== rgbe_header_info ) {\r\n\r\n\t\t\tvar w = rgbe_header_info.width,\r\n\t\t\t\th = rgbe_header_info.height,\r\n\t\t\t\timage_rgba_data = RGBE_ReadPixels_RLE( byteArray.subarray( byteArray.pos ), w, h );\r\n\r\n\t\t\tif ( RGBE_RETURN_FAILURE !== image_rgba_data ) {\r\n\r\n\t\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\t\tvar data = image_rgba_data;\r\n\t\t\t\t\t\tvar format = RGBEFormat; // handled as THREE.RGBAFormat in shaders\r\n\t\t\t\t\t\tvar type = UnsignedByteType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar floatArray = new Float32Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBFloat( image_rgba_data, j * 4, floatArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = floatArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = FloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar halfArray = new Uint16Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBHalf( image_rgba_data, j * 4, halfArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = halfArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = HalfFloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.RGBELoader: unsupported type: ', this.type );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: w, height: h,\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\theader: rgbe_header_info.string,\r\n\t\t\t\t\tgamma: rgbe_header_info.gamma,\r\n\t\t\t\t\texposure: rgbe_header_info.exposure,\r\n\t\t\t\t\tformat: format,\r\n\t\t\t\t\ttype: type\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { RGBELoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/RGBELoader.js","/**\r\n * Gamma Correction Shader\r\n * http://en.wikipedia.org/wiki/gamma_correction\r\n */\r\n\r\nvar GammaCorrectionShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 tex = texture2D( tDiffuse, vUv );\",\r\n\r\n\t\t\"\tgl_FragColor = LinearTosRGB( tex );\", // optional: LinearToGamma( tex, float( GAMMA_FACTOR ) );\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { GammaCorrectionShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/GammaCorrectionShader.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TrackballControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tvar scope = this;\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\r\n\r\n\tthis.rotateSpeed = 1.0;\r\n\tthis.zoomSpeed = 1.2;\r\n\tthis.panSpeed = 0.3;\r\n\r\n\tthis.noRotate = false;\r\n\tthis.noZoom = false;\r\n\tthis.noPan = false;\r\n\r\n\tthis.staticMoving = false;\r\n\tthis.dynamicDampingFactor = 0.2;\r\n\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\tthis.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\r\n\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.ZOOM, RIGHT: MOUSE.PAN };\r\n\r\n\t// internals\r\n\r\n\tthis.target = new Vector3();\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\tvar lastPosition = new Vector3();\r\n\tvar lastZoom = 1;\r\n\r\n\tvar _state = STATE.NONE,\r\n\t\t_keyState = STATE.NONE,\r\n\r\n\t\t_eye = new Vector3(),\r\n\r\n\t\t_movePrev = new Vector2(),\r\n\t\t_moveCurr = new Vector2(),\r\n\r\n\t\t_lastAxis = new Vector3(),\r\n\t\t_lastAngle = 0,\r\n\r\n\t\t_zoomStart = new Vector2(),\r\n\t\t_zoomEnd = new Vector2(),\r\n\r\n\t\t_touchZoomDistanceStart = 0,\r\n\t\t_touchZoomDistanceEnd = 0,\r\n\r\n\t\t_panStart = new Vector2(),\r\n\t\t_panEnd = new Vector2();\r\n\r\n\t// for reset\r\n\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.up0 = this.object.up.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t// events\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\r\n\t// methods\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tvar box = scope.domElement.getBoundingClientRect();\r\n\t\t// adjustments come from similar code in the jquery offset() function\r\n\t\tvar d = scope.domElement.ownerDocument.documentElement;\r\n\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\r\n\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\r\n\t\tscope.screen.width = box.width;\r\n\t\tscope.screen.height = box.height;\r\n\r\n\t};\r\n\r\n\tvar getMouseOnScreen = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnScreen( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\r\n\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tvar getMouseOnCircle = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnCircle( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\r\n\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.rotateCamera = ( function () {\r\n\r\n\t\tvar axis = new Vector3(),\r\n\t\t\tquaternion = new Quaternion(),\r\n\t\t\teyeDirection = new Vector3(),\r\n\t\t\tobjectUpDirection = new Vector3(),\r\n\t\t\tobjectSidewaysDirection = new Vector3(),\r\n\t\t\tmoveDirection = new Vector3(),\r\n\t\t\tangle;\r\n\r\n\t\treturn function rotateCamera() {\r\n\r\n\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\r\n\t\t\tangle = moveDirection.length();\r\n\r\n\t\t\tif ( angle ) {\r\n\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\r\n\t\t\t\teyeDirection.copy( _eye ).normalize();\r\n\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\r\n\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\r\n\r\n\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\r\n\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\r\n\r\n\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\r\n\r\n\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\r\n\r\n\t\t\t\tangle *= scope.rotateSpeed;\r\n\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t\t_lastAxis.copy( axis );\r\n\t\t\t\t_lastAngle = angle;\r\n\r\n\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\r\n\r\n\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\r\n\tthis.zoomCamera = function () {\r\n\r\n\t\tvar factor;\r\n\r\n\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\r\n\r\n\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\r\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\tscope.object.zoom *= factor;\r\n\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\r\n\r\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\r\n\r\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tscope.object.zoom /= factor;\r\n\t\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.panCamera = ( function () {\r\n\r\n\t\tvar mouseChange = new Vector2(),\r\n\t\t\tobjectUp = new Vector3(),\r\n\t\t\tpan = new Vector3();\r\n\r\n\t\treturn function panCamera() {\r\n\r\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\r\n\r\n\t\t\tif ( mouseChange.lengthSq() ) {\r\n\r\n\t\t\t\tif ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tvar scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\t\t\t\t\tvar scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\r\n\t\t\t\t\tmouseChange.x *= scale_x;\r\n\t\t\t\t\tmouseChange.y *= scale_y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\r\n\r\n\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\r\n\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\r\n\r\n\t\t\t\tscope.object.position.add( pan );\r\n\t\t\t\tscope.target.add( pan );\r\n\r\n\t\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t\t_panStart.copy( _panEnd );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.checkDistances = function () {\r\n\r\n\t\tif ( ! scope.noZoom || ! scope.noPan ) {\r\n\r\n\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tif ( ! scope.noRotate ) {\r\n\r\n\t\t\tscope.rotateCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noZoom ) {\r\n\r\n\t\t\tscope.zoomCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noPan ) {\r\n\r\n\t\t\tscope.panCamera();\r\n\r\n\t\t}\r\n\r\n\t\tscope.object.position.addVectors( scope.target, _eye );\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscope.checkDistances();\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastZoom = scope.object.zoom;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\t_state = STATE.NONE;\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.up.copy( scope.up0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tlastPosition.copy( scope.object.position );\r\n\t\tlastZoom = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\t// listeners\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keydown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown );\r\n\r\n\t\tif ( _keyState !== STATE.NONE ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\r\n\r\n\t\t\t_keyState = STATE.ROTATE;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\r\n\r\n\t\t\t_keyState = STATE.ZOOM;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\r\n\r\n\t\t\t_keyState = STATE.PAN;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keyup() {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\twindow.addEventListener( 'keydown', keydown, false );\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( _state === STATE.NONE ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase scope.mouseButtons.LEFT:\r\n\t\t\t\t\t_state = STATE.ROTATE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.MIDDLE:\r\n\t\t\t\t\t_state = STATE.ZOOM;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.RIGHT:\r\n\t\t\t\t\t_state = STATE.PAN;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t_state = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_zoomEnd.copy( _zoomStart );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_panEnd.copy( _panStart );\r\n\r\n\t\t}\r\n\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t_state = STATE.NONE;\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction mousewheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tif ( scope.noZoom === true ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.deltaMode ) {\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\t// Zoom in pages\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t// Zoom in lines\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\t// undefined, 0, assume pixels\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchstart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\t_panEnd.copy( _panStart );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchmove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction touchend( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\t_state = STATE.NONE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', mousewheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', touchstart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', touchend, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', touchmove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown, false );\r\n\t\twindow.removeEventListener( 'keyup', keyup, false );\r\n\r\n\t};\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\tthis.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tthis.domElement.addEventListener( 'wheel', mousewheel, false );\r\n\r\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\r\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\r\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\r\n\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', keydown, false );\r\n\twindow.addEventListener( 'keyup', keyup, false );\r\n\r\n\tthis.handleResize();\r\n\r\n\t// force an update at start\r\n\tthis.update();\r\n\r\n};\r\n\r\nTrackballControls.prototype = Object.create( EventDispatcher.prototype );\r\nTrackballControls.prototype.constructor = TrackballControls;\r\n\r\nexport { TrackballControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/TrackballControls.js","import {\r\n\tCubeTexture,\r\n\tDataTexture,\r\n\tFileLoader,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tLoader,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { RGBELoader } from \"../loaders/RGBELoader.js\";\r\n\r\nvar HDRCubeTextureLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.hdrLoader = new RGBELoader();\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nHDRCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: HDRCubeTextureLoader,\r\n\r\n\tload: function ( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( ! Array.isArray( urls ) ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.HDRCubeTextureLoader signature has changed. Use .setDataType() instead.' );\r\n\r\n\t\t\tthis.setDataType( urls );\r\n\r\n\t\t\turls = onLoad;\r\n\t\t\tonLoad = onProgress;\r\n\t\t\tonProgress = onError;\r\n\t\t\tonError = arguments[ 4 ];\r\n\r\n\t\t}\r\n\r\n\t\tvar texture = new CubeTexture();\r\n\r\n\t\ttexture.type = this.type;\r\n\r\n\t\tswitch ( texture.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\ttexture.format = RGBAFormat;\r\n\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loaded = 0;\r\n\r\n\t\tfunction loadHDRData( i, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tnew FileLoader( scope.manager )\r\n\t\t\t\t.setPath( scope.path )\r\n\t\t\t\t.setResponseType( 'arraybuffer' )\r\n\t\t\t\t.setWithCredentials( scope.withCredentials )\r\n\t\t\t\t.load( urls[ i ], function ( buffer ) {\r\n\r\n\t\t\t\t\tloaded ++;\r\n\r\n\t\t\t\t\tvar texData = scope.hdrLoader.parse( buffer );\r\n\r\n\t\t\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\t\t\tif ( texData.data !== undefined ) {\r\n\r\n\t\t\t\t\t\tvar dataTexture = new DataTexture( texData.data, texData.width, texData.height );\r\n\r\n\t\t\t\t\t\tdataTexture.type = texture.type;\r\n\t\t\t\t\t\tdataTexture.encoding = texture.encoding;\r\n\t\t\t\t\t\tdataTexture.format = texture.format;\r\n\t\t\t\t\t\tdataTexture.minFilter = texture.minFilter;\r\n\t\t\t\t\t\tdataTexture.magFilter = texture.magFilter;\r\n\t\t\t\t\t\tdataTexture.generateMipmaps = texture.generateMipmaps;\r\n\r\n\t\t\t\t\t\ttexture.images[ i ] = dataTexture;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < urls.length; i ++ ) {\r\n\r\n\t\t\tloadHDRData( i, onLoad, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\tthis.hdrLoader.setDataType( value );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { HDRCubeTextureLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/HDRCubeTextureLoader.js","import {\r\n\tVector2\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Convolution shader\r\n * ported from o3d sample to WebGL / GLSL\r\n * http://o3d.googlecode.com/svn/trunk/samples/convolution.html\r\n */\r\n\r\nvar ConvolutionShader = {\r\n\r\n\tdefines: {\r\n\r\n\t\t\"KERNEL_SIZE_FLOAT\": \"25.0\",\r\n\t\t\"KERNEL_SIZE_INT\": \"25\"\r\n\r\n\t},\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"uImageIncrement\": { value: new Vector2( 0.001953125, 0.0 ) },\r\n\t\t\"cKernel\": { value: [] }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"uniform vec2 uImageIncrement;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float cKernel[ KERNEL_SIZE_INT ];\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"uniform vec2 uImageIncrement;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec2 imageCoord = vUv;\",\r\n\t\t\"\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\",\r\n\r\n\t\t\"\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\",\r\n\r\n\t\t\"\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\",\r\n\t\t\"\t\timageCoord += uImageIncrement;\",\r\n\r\n\t\t\"\t}\",\r\n\r\n\t\t\"\tgl_FragColor = sum;\",\r\n\r\n\t\t\"}\"\r\n\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tbuildKernel: function ( sigma ) {\r\n\r\n\t\t// We lop off the sqrt(2 * pi) * sigma term, since we're going to normalize anyway.\r\n\r\n\t\tfunction gauss( x, sigma ) {\r\n\r\n\t\t\treturn Math.exp( - ( x * x ) / ( 2.0 * sigma * sigma ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar i, values, sum, halfWidth, kMaxKernelSize = 25, kernelSize = 2 * Math.ceil( sigma * 3.0 ) + 1;\r\n\r\n\t\tif ( kernelSize > kMaxKernelSize ) kernelSize = kMaxKernelSize;\r\n\t\thalfWidth = ( kernelSize - 1 ) * 0.5;\r\n\r\n\t\tvalues = new Array( kernelSize );\r\n\t\tsum = 0.0;\r\n\t\tfor ( i = 0; i < kernelSize; ++ i ) {\r\n\r\n\t\t\tvalues[ i ] = gauss( i - halfWidth, sigma );\r\n\t\t\tsum += values[ i ];\r\n\r\n\t\t}\r\n\r\n\t\t// normalize the kernel\r\n\r\n\t\tfor ( i = 0; i < kernelSize; ++ i ) values[ i ] /= sum;\r\n\r\n\t\treturn values;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { ConvolutionShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/ConvolutionShader.js","import {\r\n\tAdditiveBlending,\r\n\tLinearFilter,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { ConvolutionShader } from \"../shaders/ConvolutionShader.js\";\r\n\r\nvar BloomPass = function ( strength, kernelSize, sigma, resolution ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tstrength = ( strength !== undefined ) ? strength : 1;\r\n\tkernelSize = ( kernelSize !== undefined ) ? kernelSize : 25;\r\n\tsigma = ( sigma !== undefined ) ? sigma : 4.0;\r\n\tresolution = ( resolution !== undefined ) ? resolution : 256;\r\n\r\n\t// render targets\r\n\r\n\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\r\n\r\n\tthis.renderTargetX = new WebGLRenderTarget( resolution, resolution, pars );\r\n\tthis.renderTargetX.texture.name = \"BloomPass.x\";\r\n\tthis.renderTargetY = new WebGLRenderTarget( resolution, resolution, pars );\r\n\tthis.renderTargetY.texture.name = \"BloomPass.y\";\r\n\r\n\t// copy material\r\n\r\n\tif ( CopyShader === undefined )\r\n\t\tconsole.error( \"BloomPass relies on CopyShader\" );\r\n\r\n\tvar copyShader = CopyShader;\r\n\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\r\n\tthis.copyUniforms[ \"opacity\" ].value = strength;\r\n\r\n\tthis.materialCopy = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tblending: AdditiveBlending,\r\n\t\ttransparent: true\r\n\r\n\t} );\r\n\r\n\t// convolution material\r\n\r\n\tif ( ConvolutionShader === undefined )\r\n\t\tconsole.error( \"BloomPass relies on ConvolutionShader\" );\r\n\r\n\tvar convolutionShader = ConvolutionShader;\r\n\r\n\tthis.convolutionUniforms = UniformsUtils.clone( convolutionShader.uniforms );\r\n\r\n\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurX;\r\n\tthis.convolutionUniforms[ \"cKernel\" ].value = ConvolutionShader.buildKernel( sigma );\r\n\r\n\tthis.materialConvolution = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.convolutionUniforms,\r\n\t\tvertexShader: convolutionShader.vertexShader,\r\n\t\tfragmentShader: convolutionShader.fragmentShader,\r\n\t\tdefines: {\r\n\t\t\t\"KERNEL_SIZE_FLOAT\": kernelSize.toFixed( 1 ),\r\n\t\t\t\"KERNEL_SIZE_INT\": kernelSize.toFixed( 0 )\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nBloomPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: BloomPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\r\n\r\n\t\t// Render quad with blured scene into texture (convolution pass 1)\r\n\r\n\t\tthis.fsQuad.material = this.materialConvolution;\r\n\r\n\t\tthis.convolutionUniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurX;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetX );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\r\n\t\t// Render quad with blured scene into texture (convolution pass 2)\r\n\r\n\t\tthis.convolutionUniforms[ \"tDiffuse\" ].value = this.renderTargetX.texture;\r\n\t\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurY;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetY );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t// Render original scene with superimposed blur to texture\r\n\r\n\t\tthis.fsQuad.material = this.materialCopy;\r\n\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.renderTargetY.texture;\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\r\n\r\n\t\trenderer.setRenderTarget( readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nBloomPass.blurX = new Vector2( 0.001953125, 0.0 );\r\nBloomPass.blurY = new Vector2( 0.0, 0.001953125 );\r\n\r\nexport { BloomPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/BloomPass.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction FloatNode( value ) {\r\n\r\n\tInputNode.call( this, 'f' );\r\n\r\n\tthis.value = value || 0;\r\n\r\n}\r\n\r\nFloatNode.prototype = Object.create( InputNode.prototype );\r\nFloatNode.prototype.constructor = FloatNode;\r\nFloatNode.prototype.nodeType = \"Float\";\r\n\r\nFloatNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value + ( this.value % 1 ? '' : '.0' ), type, output );\r\n\r\n};\r\n\r\nFloatNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFloatNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FloatNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/FloatNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction NormalNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || NormalNode.VIEW;\r\n\r\n}\r\n\r\nNormalNode.LOCAL = 'local';\r\nNormalNode.WORLD = 'world';\r\nNormalNode.VIEW = 'view';\r\n\r\nNormalNode.prototype = Object.create( TempNode.prototype );\r\nNormalNode.prototype.constructor = NormalNode;\r\nNormalNode.prototype.nodeType = \"Normal\";\r\n\r\nNormalNode.prototype.getShared = function () {\r\n\r\n\t// if shared is false, TempNode will not create temp variable (for optimization)\r\n\r\n\treturn this.scope === NormalNode.WORLD;\r\n\r\n};\r\n\r\nNormalNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\tvar contextNormal = builder.context[ this.scope + 'Normal' ];\r\n\r\n\tif ( contextNormal ) {\r\n\r\n\t\treturn contextNormal.build( builder, output, uuid, ns );\r\n\r\n\t}\r\n\r\n\treturn TempNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nNormalNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase NormalNode.VIEW:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) result = 'transformedNormal';\r\n\t\t\telse result = 'geometryNormal';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'objectNormal';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.normal = true;\r\n\r\n\t\t\t\tresult = 'vObjectNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'inverseTransformDirection( transformedNormal, viewMatrix ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldNormal = true;\r\n\r\n\t\t\t\tresult = 'vWNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nNormalNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'viewNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.VIEW );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'localNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.NORMAL );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.WORLD );\r\n\r\n} );\r\n\r\nexport { NormalNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/NormalNode.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { Inflate } from \"../libs/inflate.module.min.js\";\r\n\r\n/**\r\n * OpenEXR loader currently supports uncompressed, ZIP(S), RLE, PIZ and DWA/B compression.\r\n * Supports reading as UnsignedByte, HalfFloat and Float type data texture.\r\n *\r\n * Referred to the original Industrial Light & Magic OpenEXR implementation and the TinyEXR / Syoyo Fujita\r\n * implementation, so I have preserved their copyright notices.\r\n */\r\n\r\n// /*\r\n// Copyright (c) 2014 - 2017, Syoyo Fujita\r\n// All rights reserved.\r\n\r\n// Redistribution and use in source and binary forms, with or without\r\n// modification, are permitted provided that the following conditions are met:\r\n//     * Redistributions of source code must retain the above copyright\r\n//       notice, this list of conditions and the following disclaimer.\r\n//     * Redistributions in binary form must reproduce the above copyright\r\n//       notice, this list of conditions and the following disclaimer in the\r\n//       documentation and/or other materials provided with the distribution.\r\n//     * Neither the name of the Syoyo Fujita nor the\r\n//       names of its contributors may be used to endorse or promote products\r\n//       derived from this software without specific prior written permission.\r\n\r\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n// DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\r\n// DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n// ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// */\r\n\r\n// // TinyEXR contains some OpenEXR code, which is licensed under ------------\r\n\r\n// ///////////////////////////////////////////////////////////////////////////\r\n// //\r\n// // Copyright (c) 2002, Industrial Light & Magic, a division of Lucas\r\n// // Digital Ltd. LLC\r\n// //\r\n// // All rights reserved.\r\n// //\r\n// // Redistribution and use in source and binary forms, with or without\r\n// // modification, are permitted provided that the following conditions are\r\n// // met:\r\n// // *       Redistributions of source code must retain the above copyright\r\n// // notice, this list of conditions and the following disclaimer.\r\n// // *       Redistributions in binary form must reproduce the above\r\n// // copyright notice, this list of conditions and the following disclaimer\r\n// // in the documentation and/or other materials provided with the\r\n// // distribution.\r\n// // *       Neither the name of Industrial Light & Magic nor the names of\r\n// // its contributors may be used to endorse or promote products derived\r\n// // from this software without specific prior written permission.\r\n// //\r\n// // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n// // \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n// // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n// // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n// // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n// // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n// // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n// // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n// // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n// // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// //\r\n// ///////////////////////////////////////////////////////////////////////////\r\n\r\n// // End of OpenEXR license -------------------------------------------------\r\n\r\nvar EXRLoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = FloatType;\r\n\r\n};\r\n\r\nEXRLoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: EXRLoader,\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tconst USHORT_RANGE = ( 1 << 16 );\r\n\t\tconst BITMAP_SIZE = ( USHORT_RANGE >> 3 );\r\n\r\n\t\tconst HUF_ENCBITS = 16; // literal (value) bit length\r\n\t\tconst HUF_DECBITS = 14; // decoding bit size (>= 8)\r\n\r\n\t\tconst HUF_ENCSIZE = ( 1 << HUF_ENCBITS ) + 1; // encoding table size\r\n\t\tconst HUF_DECSIZE = 1 << HUF_DECBITS; // decoding table size\r\n\t\tconst HUF_DECMASK = HUF_DECSIZE - 1;\r\n\r\n\t\tconst NBITS = 16;\r\n\t\tconst A_OFFSET = 1 << ( NBITS - 1 );\r\n\t\tconst MOD_MASK = ( 1 << NBITS ) - 1;\r\n\r\n\t\tconst SHORT_ZEROCODE_RUN = 59;\r\n\t\tconst LONG_ZEROCODE_RUN = 63;\r\n\t\tconst SHORTEST_LONG_RUN = 2 + LONG_ZEROCODE_RUN - SHORT_ZEROCODE_RUN;\r\n\r\n\t\tconst ULONG_SIZE = 8;\r\n\t\tconst FLOAT32_SIZE = 4;\r\n\t\tconst INT32_SIZE = 4;\r\n\t\tconst INT16_SIZE = 2;\r\n\t\tconst INT8_SIZE = 1;\r\n\r\n\t\tconst STATIC_HUFFMAN = 0;\r\n\t\tconst DEFLATE = 1;\r\n\r\n\t\tconst UNKNOWN = 0;\r\n\t\tconst LOSSY_DCT = 1;\r\n\t\tconst RLE = 2;\r\n\r\n\t\tconst logBase = Math.pow( 2.7182818, 2.2 );\r\n\r\n\t\tvar tmpDataView = new DataView( new ArrayBuffer( 8 ) );\r\n\r\n\t\tfunction frexp( value ) {\r\n\r\n\t\t\tif ( value === 0 ) return [ value, 0 ];\r\n\r\n\t\t\ttmpDataView.setFloat64( 0, value );\r\n\r\n\t\t\tvar bits = ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF;\r\n\t\t\tif ( bits === 0 ) { // denormal\r\n\r\n\t\t\t\ttmpDataView.setFloat64( 0, value * Math.pow( 2, 64 ) ); // exp + 64\r\n\t\t\t\tbits = ( ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF ) - 64;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar exponent = bits - 1022;\r\n\t\t\tvar mantissa = ldexp( value, - exponent );\r\n\r\n\t\t\treturn [ mantissa, exponent ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction ldexp( mantissa, exponent ) {\r\n\r\n\t\t\tvar steps = Math.min( 3, Math.ceil( Math.abs( exponent ) / 1023 ) );\r\n\t\t\tvar result = mantissa;\r\n\r\n\t\t\tfor ( var i = 0; i < steps; i ++ )\r\n\t\t\t\tresult *= Math.pow( 2, Math.floor( ( exponent + i ) / steps ) );\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t\tfunction reverseLutFromBitmap( bitmap, lut ) {\r\n\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < USHORT_RANGE; ++ i ) {\r\n\r\n\t\t\t\tif ( ( i == 0 ) || ( bitmap[ i >> 3 ] & ( 1 << ( i & 7 ) ) ) ) {\r\n\r\n\t\t\t\t\tlut[ k ++ ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar n = k - 1;\r\n\r\n\t\t\twhile ( k < USHORT_RANGE ) lut[ k ++ ] = 0;\r\n\r\n\t\t\treturn n;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufClearDecTable( hdec ) {\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_DECSIZE; i ++ ) {\r\n\r\n\t\t\t\thdec[ i ] = {};\r\n\t\t\t\thdec[ i ].len = 0;\r\n\t\t\t\thdec[ i ].lit = 0;\r\n\t\t\t\thdec[ i ].p = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst getBitsReturn = { l: 0, c: 0, lc: 0 };\r\n\r\n\t\tfunction getBits( nBits, c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\twhile ( lc < nBits ) {\r\n\r\n\t\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\t\tlc += 8;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlc -= nBits;\r\n\r\n\t\t\tgetBitsReturn.l = ( c >> lc ) & ( ( 1 << nBits ) - 1 );\r\n\t\t\tgetBitsReturn.c = c;\r\n\t\t\tgetBitsReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst hufTableBuffer = new Array( 59 );\r\n\r\n\t\tfunction hufCanonicalCodeTable( hcode ) {\r\n\r\n\t\t\tfor ( var i = 0; i <= 58; ++ i ) hufTableBuffer[ i ] = 0;\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) hufTableBuffer[ hcode[ i ] ] += 1;\r\n\r\n\t\t\tvar c = 0;\r\n\r\n\t\t\tfor ( var i = 58; i > 0; -- i ) {\r\n\r\n\t\t\t\tvar nc = ( ( c + hufTableBuffer[ i ] ) >> 1 );\r\n\t\t\t\thufTableBuffer[ i ] = c;\r\n\t\t\t\tc = nc;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) {\r\n\r\n\t\t\t\tvar l = hcode[ i ];\r\n\t\t\t\tif ( l > 0 ) hcode[ i ] = l | ( hufTableBuffer[ l ] ++ << 6 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, hcode ) {\r\n\r\n\t\t\tvar p = inOffset;\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tif ( p.value - inOffset.value > ni ) return false;\r\n\r\n\t\t\t\tgetBits( 6, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\tvar l = getBitsReturn.l;\r\n\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\thcode[ im ] = l;\r\n\r\n\t\t\t\tif ( l == LONG_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tif ( p.value - inOffset.value > ni ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgetBits( 8, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\t\tvar zerun = getBitsReturn.l + SHORTEST_LONG_RUN;\r\n\t\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t} else if ( l >= SHORT_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tvar zerun = l - SHORT_ZEROCODE_RUN + 2;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufCanonicalCodeTable( hcode );\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufLength( code ) {\r\n\r\n\t\t\treturn code & 63;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufCode( code ) {\r\n\r\n\t\t\treturn code >> 6;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufBuildDecTable( hcode, im, iM, hdecod ) {\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tvar c = hufCode( hcode[ im ] );\r\n\t\t\t\tvar l = hufLength( hcode[ im ] );\r\n\r\n\t\t\t\tif ( c >> l ) {\r\n\r\n\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( l > HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar pl = hdecod[ ( c >> ( l - HUF_DECBITS ) ) ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.lit ++;\r\n\r\n\t\t\t\t\tif ( pl.p ) {\r\n\r\n\t\t\t\t\t\tvar p = pl.p;\r\n\t\t\t\t\t\tpl.p = new Array( pl.lit );\r\n\r\n\t\t\t\t\t\tfor ( var i = 0; i < pl.lit - 1; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpl.p[ i ] = p[ i ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tpl.p = new Array( 1 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.p[ pl.lit - 1 ] = im;\r\n\r\n\t\t\t\t} else if ( l ) {\r\n\r\n\t\t\t\t\tvar plOffset = 0;\r\n\r\n\t\t\t\t\tfor ( var i = 1 << ( HUF_DECBITS - l ); i > 0; i -- ) {\r\n\r\n\t\t\t\t\t\tvar pl = hdecod[ ( c << ( HUF_DECBITS - l ) ) + plOffset ];\r\n\r\n\t\t\t\t\t\tif ( pl.len || pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpl.len = l;\r\n\t\t\t\t\t\tpl.lit = im;\r\n\r\n\t\t\t\t\t\tplOffset ++;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCharReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getChar( c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\tlc += 8;\r\n\r\n\t\t\tgetCharReturn.c = c;\r\n\t\t\tgetCharReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCodeReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getCode( po, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outBufferOffset, outBufferEndOffset ) {\r\n\r\n\t\t\tif ( po == rlc ) {\r\n\r\n\t\t\t\tif ( lc < 8 ) {\r\n\r\n\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlc -= 8;\r\n\r\n\t\t\t\tvar cs = ( c >> lc );\r\n\t\t\t\tvar cs = new Uint8Array( [ cs ] )[ 0 ];\r\n\r\n\t\t\t\tif ( outBufferOffset.value + cs > outBufferEndOffset ) {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar s = outBuffer[ outBufferOffset.value - 1 ];\r\n\r\n\t\t\t\twhile ( cs -- > 0 ) {\r\n\r\n\t\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( outBufferOffset.value < outBufferEndOffset ) {\r\n\r\n\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = po;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgetCodeReturn.c = c;\r\n\t\t\tgetCodeReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tfunction UInt16( value ) {\r\n\r\n\t\t\treturn ( value & 0xFFFF );\r\n\r\n\t\t}\r\n\r\n\t\tfunction Int16( value ) {\r\n\r\n\t\t\tvar ref = UInt16( value );\r\n\t\t\treturn ( ref > 0x7FFF ) ? ref - 0x10000 : ref;\r\n\r\n\t\t}\r\n\r\n\t\tconst wdec14Return = { a: 0, b: 0 };\r\n\r\n\t\tfunction wdec14( l, h ) {\r\n\r\n\t\t\tvar ls = Int16( l );\r\n\t\t\tvar hs = Int16( h );\r\n\r\n\t\t\tvar hi = hs;\r\n\t\t\tvar ai = ls + ( hi & 1 ) + ( hi >> 1 );\r\n\r\n\t\t\tvar as = ai;\r\n\t\t\tvar bs = ai - hi;\r\n\r\n\t\t\twdec14Return.a = as;\r\n\t\t\twdec14Return.b = bs;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wdec16( l, h ) {\r\n\r\n\t\t\tvar m = UInt16( l );\r\n\t\t\tvar d = UInt16( h );\r\n\r\n\t\t\tvar bb = ( m - ( d >> 1 ) ) & MOD_MASK;\r\n\t\t\tvar aa = ( d + bb - A_OFFSET ) & MOD_MASK;\r\n\r\n\t\t\twdec14Return.a = aa;\r\n\t\t\twdec14Return.b = bb;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wav2Decode( buffer, j, nx, ox, ny, oy, mx ) {\r\n\r\n\t\t\tvar w14 = mx < ( 1 << 14 );\r\n\t\t\tvar n = ( nx > ny ) ? ny : nx;\r\n\t\t\tvar p = 1;\r\n\t\t\tvar p2;\r\n\r\n\t\t\twhile ( p <= n ) p <<= 1;\r\n\r\n\t\t\tp >>= 1;\r\n\t\t\tp2 = p;\r\n\t\t\tp >>= 1;\r\n\r\n\t\t\twhile ( p >= 1 ) {\r\n\r\n\t\t\t\tvar py = 0;\r\n\t\t\t\tvar ey = py + oy * ( ny - p2 );\r\n\t\t\t\tvar oy1 = oy * p;\r\n\t\t\t\tvar oy2 = oy * p2;\r\n\t\t\t\tvar ox1 = ox * p;\r\n\t\t\t\tvar ox2 = ox * p2;\r\n\t\t\t\tvar i00, i01, i10, i11;\r\n\r\n\t\t\t\tfor ( ; py <= ey; py += oy2 ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\t\t\t\t\t\tvar p11 = p10 + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 ) {\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( nx & p ) {\r\n\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ny & p ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p01 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p01 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tp2 = p;\r\n\t\t\t\tp >>= 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn py;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufDecode( encodingTable, decodingTable, uInt8Array, inDataView, inOffset, ni, rlc, no, outBuffer, outOffset ) {\r\n\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\t\t\tvar outBufferEndOffset = no;\r\n\t\t\tvar inOffsetEnd = Math.trunc( inOffset.value + ( ni + 7 ) / 8 );\r\n\r\n\t\t\twhile ( inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\twhile ( lc >= HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar index = ( c >> ( lc - HUF_DECBITS ) ) & HUF_DECMASK;\r\n\t\t\t\t\tvar pl = decodingTable[ index ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( ! pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar j;\r\n\r\n\t\t\t\t\t\tfor ( j = 0; j < pl.lit; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar l = hufLength( encodingTable[ pl.p[ j ] ] );\r\n\r\n\t\t\t\t\t\t\twhile ( lc < l && inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( lc >= l ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( hufCode( encodingTable[ pl.p[ j ] ] ) == ( ( c >> ( lc - l ) ) & ( ( 1 << l ) - 1 ) ) ) {\r\n\r\n\t\t\t\t\t\t\t\t\tlc -= l;\r\n\r\n\t\t\t\t\t\t\t\t\tgetCode( pl.p[ j ], rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( j == pl.lit ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar i = ( 8 - ni ) & 7;\r\n\r\n\t\t\tc >>= i;\r\n\t\t\tlc -= i;\r\n\r\n\t\t\twhile ( lc > 0 ) {\r\n\r\n\t\t\t\tvar pl = decodingTable[ ( c << ( HUF_DECBITS - lc ) ) & HUF_DECMASK ];\r\n\r\n\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUncompress( uInt8Array, inDataView, inOffset, nCompressed, outBuffer, nRaw ) {\r\n\r\n\t\t\tvar outOffset = { value: 0 };\r\n\t\t\tvar initialInOffset = inOffset.value;\r\n\r\n\t\t\tvar im = parseUint32( inDataView, inOffset );\r\n\t\t\tvar iM = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tvar nBits = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tif ( im < 0 || im >= HUF_ENCSIZE || iM < 0 || iM >= HUF_ENCSIZE ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with HUF_ENCSIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar freq = new Array( HUF_ENCSIZE );\r\n\t\t\tvar hdec = new Array( HUF_DECSIZE );\r\n\r\n\t\t\thufClearDecTable( hdec );\r\n\r\n\t\t\tvar ni = nCompressed - ( inOffset.value - initialInOffset );\r\n\r\n\t\t\thufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, freq );\r\n\r\n\t\t\tif ( nBits > 8 * ( nCompressed - ( inOffset.value - initialInOffset ) ) ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with hufUncompress';\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufBuildDecTable( freq, im, iM, hdec );\r\n\r\n\t\t\thufDecode( freq, hdec, uInt8Array, inDataView, inOffset, nBits, iM, nRaw, outBuffer, outOffset );\r\n\r\n\t\t}\r\n\r\n\t\tfunction applyLut( lut, data, nData ) {\r\n\r\n\t\t\tfor ( var i = 0; i < nData; ++ i ) {\r\n\r\n\t\t\t\tdata[ i ] = lut[ data[ i ] ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction predictor( source ) {\r\n\r\n\t\t\tfor ( var t = 1; t < source.length; t ++ ) {\r\n\r\n\t\t\t\tvar d = source[ t - 1 ] + source[ t ] - 128;\r\n\t\t\t\tsource[ t ] = d;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction interleaveScalar( source, out ) {\r\n\r\n\t\t\tvar t1 = 0;\r\n\t\t\tvar t2 = Math.floor( ( source.length + 1 ) / 2 );\r\n\t\t\tvar s = 0;\r\n\t\t\tvar stop = source.length - 1;\r\n\r\n\t\t\twhile ( true ) {\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t1 ++ ];\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t2 ++ ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeRunLength( source ) {\r\n\r\n\t\t\tvar size = source.byteLength;\r\n\t\t\tvar out = new Array();\r\n\t\t\tvar p = 0;\r\n\r\n\t\t\tvar reader = new DataView( source );\r\n\r\n\t\t\twhile ( size > 0 ) {\r\n\r\n\t\t\t\tvar l = reader.getInt8( p ++ );\r\n\r\n\t\t\t\tif ( l < 0 ) {\r\n\r\n\t\t\t\t\tvar count = - l;\r\n\t\t\t\t\tsize -= count + 1;\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( reader.getUint8( p ++ ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar count = l;\r\n\t\t\t\t\tsize -= 2;\r\n\r\n\t\t\t\t\tvar value = reader.getUint8( p ++ );\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count + 1; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( value );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn out;\r\n\r\n\t\t}\r\n\r\n\t\tfunction lossyDctDecode( cscSet, rowPtrs, channelData, acBuffer, dcBuffer, outBuffer ) {\r\n\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\tvar width = channelData[ cscSet.idx[ 0 ] ].width;\r\n\t\t\tvar height = channelData[ cscSet.idx[ 0 ] ].height;\r\n\r\n\t\t\tvar numComp = 3;\r\n\r\n\t\t\tvar numFullBlocksX = Math.floor( width / 8.0 );\r\n\t\t\tvar numBlocksX = Math.ceil( width / 8.0 );\r\n\t\t\tvar numBlocksY = Math.ceil( height / 8.0 );\r\n\t\t\tvar leftoverX = width - ( numBlocksX - 1 ) * 8;\r\n\t\t\tvar leftoverY = height - ( numBlocksY - 1 ) * 8;\r\n\r\n\t\t\tvar currAcComp = { value: 0 };\r\n\t\t\tvar currDcComp = new Array( numComp );\r\n\t\t\tvar dctData = new Array( numComp );\r\n\t\t\tvar halfZigBlock = new Array( numComp );\r\n\t\t\tvar rowBlock = new Array( numComp );\r\n\t\t\tvar rowOffsets = new Array( numComp );\r\n\r\n\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\trowOffsets[ comp ] = rowPtrs[ cscSet.idx[ comp ] ];\r\n\t\t\t\tcurrDcComp[ comp ] = ( comp < 1 ) ? 0 : currDcComp[ comp - 1 ] + numBlocksX * numBlocksY;\r\n\t\t\t\tdctData[ comp ] = new Float32Array( 64 );\r\n\t\t\t\thalfZigBlock[ comp ] = new Uint16Array( 64 );\r\n\t\t\t\trowBlock[ comp ] = new Uint16Array( numBlocksX * 64 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let blocky = 0; blocky < numBlocksY; ++ blocky ) {\r\n\r\n\t\t\t\tvar maxY = 8;\r\n\r\n\t\t\t\tif ( blocky == numBlocksY - 1 )\r\n\t\t\t\t\tmaxY = leftoverY;\r\n\r\n\t\t\t\tvar maxX = 8;\r\n\r\n\t\t\t\tfor ( let blockx = 0; blockx < numBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\tif ( blockx == numBlocksX - 1 )\r\n\t\t\t\t\t\tmaxX = leftoverX;\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\thalfZigBlock[ comp ].fill( 0 );\r\n\r\n\t\t\t\t\t\t// set block DC component\r\n\t\t\t\t\t\thalfZigBlock[ comp ][ 0 ] = dcBuffer[ currDcComp[ comp ] ++ ];\r\n\t\t\t\t\t\t// set block AC components\r\n\t\t\t\t\t\tunRleAC( currAcComp, acBuffer, halfZigBlock[ comp ] );\r\n\r\n\t\t\t\t\t\t// UnZigZag block to float\r\n\t\t\t\t\t\tunZigZag( halfZigBlock[ comp ], dctData[ comp ] );\r\n\t\t\t\t\t\t// decode float dct\r\n\t\t\t\t\t\tdctInverse( dctData[ comp ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( numComp == 3 ) {\r\n\r\n\t\t\t\t\t\tcsc709Inverse( dctData );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\tconvertToHalf( dctData[ comp ], rowBlock[ comp ], blockx * 64 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // blockx\r\n\r\n\t\t\t\tlet offset = 0;\r\n\r\n\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\tconst type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\toffset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\t\tfor ( let blockx = 0; blockx < numFullBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\t\t\tconst src = blockx * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 0 * INT16_SIZE * type, rowBlock[ comp ][ src + 0 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 1 * INT16_SIZE * type, rowBlock[ comp ][ src + 1 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 2 * INT16_SIZE * type, rowBlock[ comp ][ src + 2 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 3 * INT16_SIZE * type, rowBlock[ comp ][ src + 3 ], true );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 4 * INT16_SIZE * type, rowBlock[ comp ][ src + 4 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 5 * INT16_SIZE * type, rowBlock[ comp ][ src + 5 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 6 * INT16_SIZE * type, rowBlock[ comp ][ src + 6 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 7 * INT16_SIZE * type, rowBlock[ comp ][ src + 7 ], true );\r\n\r\n\t\t\t\t\t\t\toffset += 8 * INT16_SIZE * type;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// handle partial X blocks\r\n\t\t\t\t\tif ( numFullBlocksX != numBlocksX ) {\r\n\r\n\t\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ] + 8 * numFullBlocksX * INT16_SIZE * type;\r\n\t\t\t\t\t\t\tconst src = numFullBlocksX * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tfor ( let x = 0; x < maxX; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tdataView.setUint16( offset + x * INT16_SIZE * type, rowBlock[ comp ][ src + x ], true );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // comp\r\n\r\n\t\t\t} // blocky\r\n\r\n\t\t\tvar halfRow = new Uint16Array( width );\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\t// convert channels back to float, if needed\r\n\t\t\tfor ( var comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\tchannelData[ cscSet.idx[ comp ] ].decoded = true;\r\n\t\t\t\tvar type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\tif ( channelData[ comp ].type != 2 ) continue;\r\n\r\n\t\t\t\tfor ( var y = 0; y < height; ++ y ) {\r\n\r\n\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\thalfRow[ x ] = dataView.getUint16( offset + x * INT16_SIZE * type, true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\tdataView.setFloat32( offset + x * INT16_SIZE * type, decodeFloat16( halfRow[ x ] ), true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unRleAC( currAcComp, acBuffer, halfZigBlock ) {\r\n\r\n\t\t\tvar acValue;\r\n\t\t\tvar dctComp = 1;\r\n\r\n\t\t\twhile ( dctComp < 64 ) {\r\n\r\n\t\t\t\tacValue = acBuffer[ currAcComp.value ];\r\n\r\n\t\t\t\tif ( acValue == 0xff00 ) {\r\n\r\n\t\t\t\t\tdctComp = 64;\r\n\r\n\t\t\t\t} else if ( acValue >> 8 == 0xff ) {\r\n\r\n\t\t\t\t\tdctComp += acValue & 0xff;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\thalfZigBlock[ dctComp ] = acValue;\r\n\t\t\t\t\tdctComp ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrAcComp.value ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unZigZag( src, dst ) {\r\n\r\n\t\t\tdst[ 0 ] = decodeFloat16( src[ 0 ] );\r\n\t\t\tdst[ 1 ] = decodeFloat16( src[ 1 ] );\r\n\t\t\tdst[ 2 ] = decodeFloat16( src[ 5 ] );\r\n\t\t\tdst[ 3 ] = decodeFloat16( src[ 6 ] );\r\n\t\t\tdst[ 4 ] = decodeFloat16( src[ 14 ] );\r\n\t\t\tdst[ 5 ] = decodeFloat16( src[ 15 ] );\r\n\t\t\tdst[ 6 ] = decodeFloat16( src[ 27 ] );\r\n\t\t\tdst[ 7 ] = decodeFloat16( src[ 28 ] );\r\n\t\t\tdst[ 8 ] = decodeFloat16( src[ 2 ] );\r\n\t\t\tdst[ 9 ] = decodeFloat16( src[ 4 ] );\r\n\r\n\t\t\tdst[ 10 ] = decodeFloat16( src[ 7 ] );\r\n\t\t\tdst[ 11 ] = decodeFloat16( src[ 13 ] );\r\n\t\t\tdst[ 12 ] = decodeFloat16( src[ 16 ] );\r\n\t\t\tdst[ 13 ] = decodeFloat16( src[ 26 ] );\r\n\t\t\tdst[ 14 ] = decodeFloat16( src[ 29 ] );\r\n\t\t\tdst[ 15 ] = decodeFloat16( src[ 42 ] );\r\n\t\t\tdst[ 16 ] = decodeFloat16( src[ 3 ] );\r\n\t\t\tdst[ 17 ] = decodeFloat16( src[ 8 ] );\r\n\t\t\tdst[ 18 ] = decodeFloat16( src[ 12 ] );\r\n\t\t\tdst[ 19 ] = decodeFloat16( src[ 17 ] );\r\n\r\n\t\t\tdst[ 20 ] = decodeFloat16( src[ 25 ] );\r\n\t\t\tdst[ 21 ] = decodeFloat16( src[ 30 ] );\r\n\t\t\tdst[ 22 ] = decodeFloat16( src[ 41 ] );\r\n\t\t\tdst[ 23 ] = decodeFloat16( src[ 43 ] );\r\n\t\t\tdst[ 24 ] = decodeFloat16( src[ 9 ] );\r\n\t\t\tdst[ 25 ] = decodeFloat16( src[ 11 ] );\r\n\t\t\tdst[ 26 ] = decodeFloat16( src[ 18 ] );\r\n\t\t\tdst[ 27 ] = decodeFloat16( src[ 24 ] );\r\n\t\t\tdst[ 28 ] = decodeFloat16( src[ 31 ] );\r\n\t\t\tdst[ 29 ] = decodeFloat16( src[ 40 ] );\r\n\r\n\t\t\tdst[ 30 ] = decodeFloat16( src[ 44 ] );\r\n\t\t\tdst[ 31 ] = decodeFloat16( src[ 53 ] );\r\n\t\t\tdst[ 32 ] = decodeFloat16( src[ 10 ] );\r\n\t\t\tdst[ 33 ] = decodeFloat16( src[ 19 ] );\r\n\t\t\tdst[ 34 ] = decodeFloat16( src[ 23 ] );\r\n\t\t\tdst[ 35 ] = decodeFloat16( src[ 32 ] );\r\n\t\t\tdst[ 36 ] = decodeFloat16( src[ 39 ] );\r\n\t\t\tdst[ 37 ] = decodeFloat16( src[ 45 ] );\r\n\t\t\tdst[ 38 ] = decodeFloat16( src[ 52 ] );\r\n\t\t\tdst[ 39 ] = decodeFloat16( src[ 54 ] );\r\n\r\n\t\t\tdst[ 40 ] = decodeFloat16( src[ 20 ] );\r\n\t\t\tdst[ 41 ] = decodeFloat16( src[ 22 ] );\r\n\t\t\tdst[ 42 ] = decodeFloat16( src[ 33 ] );\r\n\t\t\tdst[ 43 ] = decodeFloat16( src[ 38 ] );\r\n\t\t\tdst[ 44 ] = decodeFloat16( src[ 46 ] );\r\n\t\t\tdst[ 45 ] = decodeFloat16( src[ 51 ] );\r\n\t\t\tdst[ 46 ] = decodeFloat16( src[ 55 ] );\r\n\t\t\tdst[ 47 ] = decodeFloat16( src[ 60 ] );\r\n\t\t\tdst[ 48 ] = decodeFloat16( src[ 21 ] );\r\n\t\t\tdst[ 49 ] = decodeFloat16( src[ 34 ] );\r\n\r\n\t\t\tdst[ 50 ] = decodeFloat16( src[ 37 ] );\r\n\t\t\tdst[ 51 ] = decodeFloat16( src[ 47 ] );\r\n\t\t\tdst[ 52 ] = decodeFloat16( src[ 50 ] );\r\n\t\t\tdst[ 53 ] = decodeFloat16( src[ 56 ] );\r\n\t\t\tdst[ 54 ] = decodeFloat16( src[ 59 ] );\r\n\t\t\tdst[ 55 ] = decodeFloat16( src[ 61 ] );\r\n\t\t\tdst[ 56 ] = decodeFloat16( src[ 35 ] );\r\n\t\t\tdst[ 57 ] = decodeFloat16( src[ 36 ] );\r\n\t\t\tdst[ 58 ] = decodeFloat16( src[ 48 ] );\r\n\t\t\tdst[ 59 ] = decodeFloat16( src[ 49 ] );\r\n\r\n\t\t\tdst[ 60 ] = decodeFloat16( src[ 57 ] );\r\n\t\t\tdst[ 61 ] = decodeFloat16( src[ 58 ] );\r\n\t\t\tdst[ 62 ] = decodeFloat16( src[ 62 ] );\r\n\t\t\tdst[ 63 ] = decodeFloat16( src[ 63 ] );\r\n\r\n\t\t}\r\n\r\n\t\tfunction dctInverse( data ) {\r\n\r\n\t\t\tconst a = 0.5 * Math.cos( 3.14159 / 4.0 );\r\n\t\t\tconst b = 0.5 * Math.cos( 3.14159 / 16.0 );\r\n\t\t\tconst c = 0.5 * Math.cos( 3.14159 / 8.0 );\r\n\t\t\tconst d = 0.5 * Math.cos( 3.0 * 3.14159 / 16.0 );\r\n\t\t\tconst e = 0.5 * Math.cos( 5.0 * 3.14159 / 16.0 );\r\n\t\t\tconst f = 0.5 * Math.cos( 3.0 * 3.14159 / 8.0 );\r\n\t\t\tconst g = 0.5 * Math.cos( 7.0 * 3.14159 / 16.0 );\r\n\r\n\t\t\tvar alpha = new Array( 4 );\r\n\t\t\tvar beta = new Array( 4 );\r\n\t\t\tvar theta = new Array( 4 );\r\n\t\t\tvar gamma = new Array( 4 );\r\n\r\n\t\t\tfor ( var row = 0; row < 8; ++ row ) {\r\n\r\n\t\t\t\tvar rowPtr = row * 8;\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 1 ] = f * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 2 ] = c * data[ rowPtr + 6 ];\r\n\t\t\t\talpha[ 3 ] = f * data[ rowPtr + 6 ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ rowPtr + 1 ] + d * data[ rowPtr + 3 ] + e * data[ rowPtr + 5 ] + g * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ rowPtr + 1 ] - g * data[ rowPtr + 3 ] - b * data[ rowPtr + 5 ] - e * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ rowPtr + 1 ] - b * data[ rowPtr + 3 ] + g * data[ rowPtr + 5 ] + d * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ rowPtr + 1 ] - e * data[ rowPtr + 3 ] + d * data[ rowPtr + 5 ] - b * data[ rowPtr + 7 ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ rowPtr + 0 ] + data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ rowPtr + 0 ] - data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 0 ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ rowPtr + 1 ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 2 ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 3 ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 4 ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ rowPtr + 5 ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 6 ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 7 ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var column = 0; column < 8; ++ column ) {\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ 16 + column ];\r\n\t\t\t\talpha[ 1 ] = f * data[ 16 + column ];\r\n\t\t\t\talpha[ 2 ] = c * data[ 48 + column ];\r\n\t\t\t\talpha[ 3 ] = f * data[ 48 + column ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ 8 + column ] + d * data[ 24 + column ] + e * data[ 40 + column ] + g * data[ 56 + column ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ 8 + column ] - g * data[ 24 + column ] - b * data[ 40 + column ] - e * data[ 56 + column ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ 8 + column ] - b * data[ 24 + column ] + g * data[ 40 + column ] + d * data[ 56 + column ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ 8 + column ] - e * data[ 24 + column ] + d * data[ 40 + column ] - b * data[ 56 + column ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ column ] + data[ 32 + column ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ column ] - data[ 32 + column ] );\r\n\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ 0 + column ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ 8 + column ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ 16 + column ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ 24 + column ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ 32 + column ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ 40 + column ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ 48 + column ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ 56 + column ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction csc709Inverse( data ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tvar y = data[ 0 ][ i ];\r\n\t\t\t\tvar cb = data[ 1 ][ i ];\r\n\t\t\t\tvar cr = data[ 2 ][ i ];\r\n\r\n\t\t\t\tdata[ 0 ][ i ] = y + 1.5747 * cr;\r\n\t\t\t\tdata[ 1 ][ i ] = y - 0.1873 * cb - 0.4682 * cr;\r\n\t\t\t\tdata[ 2 ][ i ] = y + 1.8556 * cb;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction convertToHalf( src, dst, idx ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tdst[ idx + i ] = DataUtils.toHalfFloat( toLinear( src[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction toLinear( float ) {\r\n\r\n\t\t\tif ( float <= 1 ) {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( Math.abs( float ), 2.2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( logBase, Math.abs( float ) - 1.0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRAW( info ) {\r\n\r\n\t\t\treturn new DataView( info.array.buffer, info.offset.value, info.size );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRLE( info ) {\r\n\r\n\t\t\tvar compressed = info.viewer.buffer.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( decodeRunLength( compressed ) );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressZIP( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPIZ( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\r\n\t\t\tvar tmpBufSize = info.width * scanlineBlockSize * ( EXRHeader.channels.length * info.type );\r\n\t\t\tvar outBuffer = new Uint16Array( tmpBufSize );\r\n\t\t\tvar bitmap = new Uint8Array( BITMAP_SIZE );\r\n\r\n\t\t\t// Setup channel info\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar pizChannelData = new Array( info.channels );\r\n\t\t\tfor ( var i = 0; i < info.channels; i ++ ) {\r\n\r\n\t\t\t\tpizChannelData[ i ] = {};\r\n\t\t\t\tpizChannelData[ i ][ 'start' ] = outBufferEnd;\r\n\t\t\t\tpizChannelData[ i ][ 'end' ] = pizChannelData[ i ][ 'start' ];\r\n\t\t\t\tpizChannelData[ i ][ 'nx' ] = info.width;\r\n\t\t\t\tpizChannelData[ i ][ 'ny' ] = info.lines;\r\n\t\t\t\tpizChannelData[ i ][ 'size' ] = info.type;\r\n\r\n\t\t\t\toutBufferEnd += pizChannelData[ i ].nx * pizChannelData[ i ].ny * pizChannelData[ i ].size;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read range compression data\r\n\t\t\tvar minNonZero = parseUint16( inDataView, inOffset );\r\n\t\t\tvar maxNonZero = parseUint16( inDataView, inOffset );\r\n\r\n\t\t\tif ( maxNonZero >= BITMAP_SIZE ) {\r\n\r\n\t\t\t\tthrow 'Something is wrong with PIZ_COMPRESSION BITMAP_SIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( minNonZero <= maxNonZero ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < maxNonZero - minNonZero + 1; i ++ ) {\r\n\r\n\t\t\t\t\tbitmap[ i + minNonZero ] = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Reverse LUT\r\n\t\t\tvar lut = new Uint16Array( USHORT_RANGE );\r\n\t\t\tvar maxValue = reverseLutFromBitmap( bitmap, lut );\r\n\r\n\t\t\tvar length = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\t// Huffman decoding\r\n\t\t\thufUncompress( info.array, inDataView, inOffset, length, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Wavelet decoding\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = pizChannelData[ i ];\r\n\r\n\t\t\t\tfor ( var j = 0; j < pizChannelData[ i ].size; ++ j ) {\r\n\r\n\t\t\t\t\twav2Decode(\r\n\t\t\t\t\t\toutBuffer,\r\n\t\t\t\t\t\tcd.start + j,\r\n\t\t\t\t\t\tcd.nx,\r\n\t\t\t\t\t\tcd.size,\r\n\t\t\t\t\t\tcd.ny,\r\n\t\t\t\t\t\tcd.nx * cd.size,\r\n\t\t\t\t\t\tmaxValue\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Expand the pixel data to their original range\r\n\t\t\tapplyLut( lut, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Rearrange the pixel data into the format expected by the caller.\r\n\t\t\tvar tmpOffset = 0;\r\n\t\t\tvar tmpBuffer = new Uint8Array( outBuffer.buffer.byteLength );\r\n\t\t\tfor ( var y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( var c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tvar cd = pizChannelData[ c ];\r\n\r\n\t\t\t\t\tvar n = cd.nx * cd.size;\r\n\t\t\t\t\tvar cp = new Uint8Array( outBuffer.buffer, cd.end * INT16_SIZE, n * INT16_SIZE );\r\n\r\n\t\t\t\t\ttmpBuffer.set( cp, tmpOffset );\r\n\t\t\t\t\ttmpOffset += n * INT16_SIZE;\r\n\t\t\t\t\tcd.end += n;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPXR( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\tconst rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\r\n\t\t\tconst sz = info.lines * info.channels * info.width;\r\n\t\t\tconst tmpBuffer = ( info.type == 1 ) ? new Uint16Array( sz ) : new Uint32Array( sz );\r\n\r\n\t\t\tlet tmpBufferEnd = 0;\r\n\t\t\tlet writePtr = 0;\r\n\t\t\tconst ptr = new Array( 4 );\r\n\r\n\t\t\tfor ( let y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( let c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tlet pixel = 0;\r\n\r\n\t\t\t\t\tswitch ( info.type ) {\r\n\r\n\t\t\t\t\t\tcase 1:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 1 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 8 ) | rawBuffer[ ptr[ 1 ] ++ ];\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 2:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\tptr[ 2 ] = ptr[ 1 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 2 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 24 ) | ( rawBuffer[ ptr[ 1 ] ++ ] << 16 ) | ( rawBuffer[ ptr[ 2 ] ++ ] << 8 );\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressDWA( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\t\t\tvar outBuffer = new Uint8Array( info.width * info.lines * ( EXRHeader.channels.length * info.type * INT16_SIZE ) );\r\n\r\n\t\t\t// Read compression header information\r\n\t\t\tvar dwaHeader = {\r\n\r\n\t\t\t\tversion: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tdcCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleRawSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalAcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalDcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompression: parseInt64( inDataView, inOffset )\r\n\r\n\t\t\t};\r\n\r\n\t\t\tif ( dwaHeader.version < 2 )\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' version ' + dwaHeader.version + ' is unsupported';\r\n\r\n\t\t\t// Read channel ruleset information\r\n\t\t\tvar channelRules = new Array();\r\n\t\t\tvar ruleSize = parseUint16( inDataView, inOffset ) - INT16_SIZE;\r\n\r\n\t\t\twhile ( ruleSize > 0 ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( inDataView.buffer, inOffset );\r\n\t\t\t\tvar value = parseUint8( inDataView, inOffset );\r\n\t\t\t\tvar compression = ( value >> 2 ) & 3;\r\n\t\t\t\tvar csc = ( value >> 4 ) - 1;\r\n\t\t\t\tvar index = new Int8Array( [ csc ] )[ 0 ];\r\n\t\t\t\tvar type = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\tchannelRules.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tcompression: compression,\r\n\t\t\t\t} );\r\n\r\n\t\t\t\truleSize -= name.length + 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Classify channels\r\n\t\t\tvar channels = EXRHeader.channels;\r\n\t\t\tvar channelData = new Array( info.channels );\r\n\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ] = {};\r\n\t\t\t\tvar channel = channels[ i ];\r\n\r\n\t\t\t\tcd.name = channel.name;\r\n\t\t\t\tcd.compression = UNKNOWN;\r\n\t\t\t\tcd.decoded = false;\r\n\t\t\t\tcd.type = channel.pixelType;\r\n\t\t\t\tcd.pLinear = channel.pLinear;\r\n\t\t\t\tcd.width = info.width;\r\n\t\t\t\tcd.height = info.lines;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar cscSet = {\r\n\t\t\t\tidx: new Array( 3 )\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var offset = 0; offset < info.channels; ++ offset ) {\r\n\r\n\t\t\t\tvar cd = channelData[ offset ];\r\n\r\n\t\t\t\tfor ( var i = 0; i < channelRules.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar rule = channelRules[ i ];\r\n\r\n\t\t\t\t\tif ( cd.name == rule.name ) {\r\n\r\n\t\t\t\t\t\tcd.compression = rule.compression;\r\n\r\n\t\t\t\t\t\tif ( rule.index >= 0 ) {\r\n\r\n\t\t\t\t\t\t\tcscSet.idx[ rule.index ] = offset;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcd.offset = offset;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - AC component data\r\n\t\t\tif ( dwaHeader.acCompressedSize > 0 ) {\r\n\r\n\t\t\t\tswitch ( dwaHeader.acCompression ) {\r\n\r\n\t\t\t\t\tcase STATIC_HUFFMAN:\r\n\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\thufUncompress( info.array, inDataView, inOffset, dwaHeader.acCompressedSize, acBuffer, dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase DEFLATE:\r\n\r\n\t\t\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( inflate.decompress().buffer );\r\n\t\t\t\t\t\tinOffset.value += dwaHeader.totalAcUncompressedCount;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - DC component data\r\n\t\t\tif ( dwaHeader.dcCompressedSize > 0 ) {\r\n\r\n\t\t\t\tvar zlibInfo = {\r\n\t\t\t\t\tarray: info.array,\r\n\t\t\t\t\toffset: inOffset,\r\n\t\t\t\t\tsize: dwaHeader.dcCompressedSize\r\n\t\t\t\t};\r\n\t\t\t\tvar dcBuffer = new Uint16Array( uncompressZIP( zlibInfo ).buffer );\r\n\t\t\t\tinOffset.value += dwaHeader.dcCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read RLE compressed data\r\n\t\t\tif ( dwaHeader.rleRawSize > 0 ) {\r\n\r\n\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.rleCompressedSize );\r\n\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\tvar rleBuffer = decodeRunLength( inflate.decompress().buffer );\r\n\r\n\t\t\t\tinOffset.value += dwaHeader.rleCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Prepare outbuffer data offset\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar rowOffsets = new Array( channelData.length );\r\n\t\t\tfor ( var i = 0; i < rowOffsets.length; ++ i ) {\r\n\r\n\t\t\t\trowOffsets[ i ] = new Array();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\tfor ( var chan = 0; chan < channelData.length; ++ chan ) {\r\n\r\n\t\t\t\t\trowOffsets[ chan ].push( outBufferEnd );\r\n\t\t\t\t\toutBufferEnd += channelData[ chan ].width * info.type * INT16_SIZE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Lossy DCT decode RGB channels\r\n\t\t\tlossyDctDecode( cscSet, rowOffsets, channelData, acBuffer, dcBuffer, outBuffer );\r\n\r\n\t\t\t// Decode other channels\r\n\t\t\tfor ( var i = 0; i < channelData.length; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ];\r\n\r\n\t\t\t\tif ( cd.decoded ) continue;\r\n\r\n\t\t\t\tswitch ( cd.compression ) {\r\n\r\n\t\t\t\t\tcase RLE:\r\n\r\n\t\t\t\t\t\tvar row = 0;\r\n\t\t\t\t\t\tvar rleOffset = 0;\r\n\r\n\t\t\t\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tvar rowOffsetBytes = rowOffsets[ i ][ row ];\r\n\r\n\t\t\t\t\t\t\tfor ( var x = 0; x < cd.width; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tfor ( var byte = 0; byte < INT16_SIZE * cd.type; ++ byte ) {\r\n\r\n\t\t\t\t\t\t\t\t\toutBuffer[ rowOffsetBytes ++ ] = rleBuffer[ rleOffset + byte * cd.width * cd.height ];\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\trleOffset ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trow ++;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase LOSSY_DCT: // skip\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow 'EXRLoader.parse: unsupported channel compression';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( outBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseNullTerminatedString( buffer, offset ) {\r\n\r\n\t\t\tvar uintBuffer = new Uint8Array( buffer );\r\n\t\t\tvar endOffset = 0;\r\n\r\n\t\t\twhile ( uintBuffer[ offset.value + endOffset ] != 0 ) {\r\n\r\n\t\t\t\tendOffset += 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tuintBuffer.slice( offset.value, offset.value + endOffset )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + endOffset + 1;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFixedLengthString( buffer, offset, size ) {\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tnew Uint8Array( buffer ).slice( offset.value, offset.value + size )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + size;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUlong( dataView, offset ) {\r\n\r\n\t\t\tvar uLong = dataView.getUint32( 0, true );\r\n\r\n\t\t\toffset.value = offset.value + ULONG_SIZE;\r\n\r\n\t\t\treturn uLong;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseRational( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseInt32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseTimecode( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseUint32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt32( dataView, offset ) {\r\n\r\n\t\t\tvar Int32 = dataView.getInt32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Int32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint32( dataView, offset ) {\r\n\r\n\t\t\tvar Uint32 = dataView.getUint32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Uint32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8Array( uInt8Array, offset ) {\r\n\r\n\t\t\tvar Uint8 = uInt8Array[ offset.value ];\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8( dataView, offset ) {\r\n\r\n\t\t\tvar Uint8 = dataView.getUint8( offset.value );\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt64( dataView, offset ) {\r\n\r\n\t\t\tvar int = Number( dataView.getBigInt64( offset.value, true ) );\r\n\r\n\t\t\toffset.value += ULONG_SIZE;\r\n\r\n\t\t\treturn int;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat32( dataView, offset ) {\r\n\r\n\t\t\tvar float = dataView.getFloat32( offset.value, true );\r\n\r\n\t\t\toffset.value += FLOAT32_SIZE;\r\n\r\n\t\t\treturn float;\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeFloat32( dataView, offset ) {\r\n\r\n\t\t\treturn DataUtils.toHalfFloat( parseFloat32( dataView, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\t// https://stackoverflow.com/questions/5678432/decompressing-half-precision-floats-in-javascript\r\n\t\tfunction decodeFloat16( binary ) {\r\n\r\n\t\t\tvar exponent = ( binary & 0x7C00 ) >> 10,\r\n\t\t\t\tfraction = binary & 0x03FF;\r\n\r\n\t\t\treturn ( binary >> 15 ? - 1 : 1 ) * (\r\n\t\t\t\texponent ?\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\texponent === 0x1F ?\r\n\t\t\t\t\t\t\tfraction ? NaN : Infinity :\r\n\t\t\t\t\t\t\tMath.pow( 2, exponent - 15 ) * ( 1 + fraction / 0x400 )\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t6.103515625e-5 * ( fraction / 0x400 )\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint16( dataView, offset ) {\r\n\r\n\t\t\tvar Uint16 = dataView.getUint16( offset.value, true );\r\n\r\n\t\t\toffset.value += INT16_SIZE;\r\n\r\n\t\t\treturn Uint16;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat16( buffer, offset ) {\r\n\r\n\t\t\treturn decodeFloat16( parseUint16( buffer, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChlist( dataView, buffer, offset, size ) {\r\n\r\n\t\t\tvar startOffset = offset.value;\r\n\t\t\tvar channels = [];\r\n\r\n\t\t\twhile ( offset.value < ( startOffset + size - 1 ) ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar pixelType = parseInt32( dataView, offset );\r\n\t\t\t\tvar pLinear = parseUint8( dataView, offset );\r\n\t\t\t\toffset.value += 3; // reserved, three chars\r\n\t\t\t\tvar xSampling = parseInt32( dataView, offset );\r\n\t\t\t\tvar ySampling = parseInt32( dataView, offset );\r\n\r\n\t\t\t\tchannels.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tpixelType: pixelType,\r\n\t\t\t\t\tpLinear: pLinear,\r\n\t\t\t\t\txSampling: xSampling,\r\n\t\t\t\t\tySampling: ySampling\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.value += 1;\r\n\r\n\t\t\treturn channels;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChromaticities( dataView, offset ) {\r\n\r\n\t\t\tvar redX = parseFloat32( dataView, offset );\r\n\t\t\tvar redY = parseFloat32( dataView, offset );\r\n\t\t\tvar greenX = parseFloat32( dataView, offset );\r\n\t\t\tvar greenY = parseFloat32( dataView, offset );\r\n\t\t\tvar blueX = parseFloat32( dataView, offset );\r\n\t\t\tvar blueY = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteX = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteY = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn { redX: redX, redY: redY, greenX: greenX, greenY: greenY, blueX: blueX, blueY: blueY, whiteX: whiteX, whiteY: whiteY };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseCompression( dataView, offset ) {\r\n\r\n\t\t\tvar compressionCodes = [\r\n\t\t\t\t'NO_COMPRESSION',\r\n\t\t\t\t'RLE_COMPRESSION',\r\n\t\t\t\t'ZIPS_COMPRESSION',\r\n\t\t\t\t'ZIP_COMPRESSION',\r\n\t\t\t\t'PIZ_COMPRESSION',\r\n\t\t\t\t'PXR24_COMPRESSION',\r\n\t\t\t\t'B44_COMPRESSION',\r\n\t\t\t\t'B44A_COMPRESSION',\r\n\t\t\t\t'DWAA_COMPRESSION',\r\n\t\t\t\t'DWAB_COMPRESSION'\r\n\t\t\t];\r\n\r\n\t\t\tvar compression = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn compressionCodes[ compression ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseBox2i( dataView, offset ) {\r\n\r\n\t\t\tvar xMin = parseUint32( dataView, offset );\r\n\t\t\tvar yMin = parseUint32( dataView, offset );\r\n\t\t\tvar xMax = parseUint32( dataView, offset );\r\n\t\t\tvar yMax = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn { xMin: xMin, yMin: yMin, xMax: xMax, yMax: yMax };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseLineOrder( dataView, offset ) {\r\n\r\n\t\t\tvar lineOrders = [\r\n\t\t\t\t'INCREASING_Y'\r\n\t\t\t];\r\n\r\n\t\t\tvar lineOrder = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn lineOrders[ lineOrder ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV2f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV3f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\t\t\tvar z = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y, z ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseValue( dataView, buffer, offset, type, size ) {\r\n\r\n\t\t\tif ( type === 'string' || type === 'stringvector' || type === 'iccProfile' ) {\r\n\r\n\t\t\t\treturn parseFixedLengthString( buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chlist' ) {\r\n\r\n\t\t\t\treturn parseChlist( dataView, buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chromaticities' ) {\r\n\r\n\t\t\t\treturn parseChromaticities( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'compression' ) {\r\n\r\n\t\t\t\treturn parseCompression( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'box2i' ) {\r\n\r\n\t\t\t\treturn parseBox2i( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'lineOrder' ) {\r\n\r\n\t\t\t\treturn parseLineOrder( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'float' ) {\r\n\r\n\t\t\t\treturn parseFloat32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v2f' ) {\r\n\r\n\t\t\t\treturn parseV2f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v3f' ) {\r\n\r\n\t\t\t\treturn parseV3f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'int' ) {\r\n\r\n\t\t\t\treturn parseInt32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'rational' ) {\r\n\r\n\t\t\t\treturn parseRational( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'timecode' ) {\r\n\r\n\t\t\t\treturn parseTimecode( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'preview' ) {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn 'skipped';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar bufferDataView = new DataView( buffer );\r\n\t\tvar uInt8Array = new Uint8Array( buffer );\r\n\r\n\t\tvar EXRHeader = {};\r\n\r\n\t\tbufferDataView.getUint32( 0, true ); // magic\r\n\t\tbufferDataView.getUint8( 4, true ); // versionByteZero\r\n\t\tbufferDataView.getUint8( 5, true ); // fullMask\r\n\r\n\t\t// start of header\r\n\r\n\t\tvar offset = { value: 8 }; // start at 8, after magic stuff\r\n\r\n\t\tvar keepReading = true;\r\n\r\n\t\twhile ( keepReading ) {\r\n\r\n\t\t\tvar attributeName = parseNullTerminatedString( buffer, offset );\r\n\r\n\t\t\tif ( attributeName == 0 ) {\r\n\r\n\t\t\t\tkeepReading = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar attributeType = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar attributeSize = parseUint32( bufferDataView, offset );\r\n\t\t\t\tvar attributeValue = parseValue( bufferDataView, buffer, offset, attributeType, attributeSize );\r\n\r\n\t\t\t\tif ( attributeValue === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( `EXRLoader.parse: skipped unknown header attribute type \\'${ attributeType }\\'.` );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tEXRHeader[ attributeName ] = attributeValue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// offsets\r\n\t\tvar dataWindowHeight = EXRHeader.dataWindow.yMax + 1;\r\n\r\n\t\tvar uncompress;\r\n\t\tvar scanlineBlockSize;\r\n\r\n\t\tswitch ( EXRHeader.compression ) {\r\n\r\n\t\t\tcase 'NO_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRAW;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'RLE_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIPS_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIP_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PIZ_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressPIZ;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PXR24_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressPXR;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAA_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAB_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 256;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' is unsupported';\r\n\r\n\t\t}\r\n\r\n\t\tvar size_t;\r\n\t\tvar getValue;\r\n\r\n\t\t// mixed pixelType not supported\r\n\t\tvar pixelType = EXRHeader.channels[ 0 ].pixelType;\r\n\r\n\t\tif ( pixelType === 1 ) { // half\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = parseUint16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( pixelType === 2 ) { // float\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = decodeFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow 'EXRLoader.parse: unsupported pixelType ' + pixelType + ' for ' + EXRHeader.compression + '.';\r\n\r\n\t\t}\r\n\r\n\t\tvar numBlocks = dataWindowHeight / scanlineBlockSize;\r\n\r\n\t\tfor ( var i = 0; i < numBlocks; i ++ ) {\r\n\r\n\t\t\tparseUlong( bufferDataView, offset ); // scanlineOffset\r\n\r\n\t\t}\r\n\r\n\t\t// we should be passed the scanline offset table, start reading pixel data\r\n\r\n\t\tvar width = EXRHeader.dataWindow.xMax - EXRHeader.dataWindow.xMin + 1;\r\n\t\tvar height = EXRHeader.dataWindow.yMax - EXRHeader.dataWindow.yMin + 1;\r\n\t\t// Firefox only supports RGBA (half) float textures\r\n\t\t// var numChannels = EXRHeader.channels.length;\r\n\t\tvar numChannels = 4;\r\n\t\tvar size = width * height * numChannels;\r\n\r\n\t\t// Fill initially with 1s for the alpha value if the texture is not RGBA, RGB values will be overwritten\r\n\t\tswitch ( this.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\tvar byteArray = new Float32Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 1, 0, size );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\tvar byteArray = new Uint16Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 0x3C00, 0, size ); // Uint16Array holds half float data, 0x3C00 is 1\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: unsupported type: ', this.type );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar channelOffsets = {\r\n\t\t\tR: 0,\r\n\t\t\tG: 1,\r\n\t\t\tB: 2,\r\n\t\t\tA: 3\r\n\t\t};\r\n\r\n\t\tvar compressionInfo = {\r\n\r\n\t\t\tsize: 0,\r\n\t\t\twidth: width,\r\n\t\t\tlines: scanlineBlockSize,\r\n\r\n\t\t\toffset: offset,\r\n\t\t\tarray: uInt8Array,\r\n\t\t\tviewer: bufferDataView,\r\n\r\n\t\t\ttype: pixelType,\r\n\t\t\tchannels: EXRHeader.channels.length,\r\n\r\n\t\t};\r\n\r\n\t\tvar line;\r\n\t\tvar size;\r\n\t\tvar viewer;\r\n\t\tvar tmpOffset = { value: 0 };\r\n\r\n\t\tfor ( var scanlineBlockIdx = 0; scanlineBlockIdx < height / scanlineBlockSize; scanlineBlockIdx ++ ) {\r\n\r\n\t\t\tline = parseUint32( bufferDataView, offset ); // line_no\r\n\t\t\tsize = parseUint32( bufferDataView, offset ); // data_len\r\n\r\n\t\t\tcompressionInfo.lines = ( line + scanlineBlockSize > height ) ? height - line : scanlineBlockSize;\r\n\t\t\tcompressionInfo.offset = offset;\r\n\t\t\tcompressionInfo.size = size;\r\n\r\n\t\t\tviewer = uncompress( compressionInfo );\r\n\r\n\t\t\toffset.value += size;\r\n\r\n\t\t\tfor ( var line_y = 0; line_y < scanlineBlockSize; line_y ++ ) {\r\n\r\n\t\t\t\tvar true_y = line_y + ( scanlineBlockIdx * scanlineBlockSize );\r\n\r\n\t\t\t\tif ( true_y >= height ) break;\r\n\r\n\t\t\t\tfor ( var channelID = 0; channelID < EXRHeader.channels.length; channelID ++ ) {\r\n\r\n\t\t\t\t\tvar cOff = channelOffsets[ EXRHeader.channels[ channelID ].name ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; x ++ ) {\r\n\r\n\t\t\t\t\t\tvar idx = ( line_y * ( EXRHeader.channels.length * width ) ) + ( channelID * width ) + x;\r\n\t\t\t\t\t\ttmpOffset.value = idx * size_t;\r\n\r\n\t\t\t\t\t\tvar val = getValue( viewer, tmpOffset );\r\n\r\n\t\t\t\t\t\tbyteArray[ ( ( ( height - 1 - true_y ) * ( width * numChannels ) ) + ( x * numChannels ) ) + cOff ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.type === UnsignedByteType ) {\r\n\r\n\t\t\tlet v, i;\r\n\t\t\tconst size = byteArray.length;\r\n\t\t\tconst RGBEArray = new Uint8Array( size );\r\n\r\n\t\t\tfor ( let h = 0; h < height; ++ h ) {\r\n\r\n\t\t\t\tfor ( let w = 0; w < width; ++ w ) {\r\n\r\n\t\t\t\t\ti = h * width * 4 + w * 4;\r\n\r\n\t\t\t\t\tconst red = byteArray[ i ];\r\n\t\t\t\t\tconst green = byteArray[ i + 1 ];\r\n\t\t\t\t\tconst blue = byteArray[ i + 2 ];\r\n\r\n\t\t\t\t\tv = ( red > green ) ? red : green;\r\n\t\t\t\t\tv = ( blue > v ) ? blue : v;\r\n\r\n\t\t\t\t\tif ( v < 1e-32 ) {\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = RGBEArray[ i + 1 ] = RGBEArray[ i + 2 ] = RGBEArray[ i + 3 ] = 0;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconst res = frexp( v );\r\n\t\t\t\t\t\tv = res[ 0 ] * 256 / v;\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = red * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 1 ] = green * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 2 ] = blue * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 3 ] = res[ 1 ] + 128;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbyteArray = RGBEArray;\r\n\r\n\t\t}\r\n\r\n\t\tconst format = ( this.type === UnsignedByteType ) ? RGBEFormat : ( numChannels === 4 ) ? RGBAFormat : RGBFormat;\r\n\r\n\t\treturn {\r\n\t\t\theader: EXRHeader,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tdata: byteArray,\r\n\t\t\tformat: format,\r\n\t\t\ttype: this.type\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { EXRLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/EXRLoader.js","import { TempNode } from './TempNode.js';\r\nimport { NodeLib } from './NodeLib.js';\r\n\r\nvar declarationRegexp = /^\\s*([a-z_0-9]+)\\s([a-z_0-9]+)\\s*\\((.*?)\\)/i,\r\n\tpropertiesRegexp = /[a-z_0-9]+/ig;\r\n\r\nfunction FunctionNode( src, includes, extensions, keywords, type ) {\r\n\r\n\tthis.isMethod = type === undefined;\r\n\tthis.isInterface = false;\r\n\r\n\tTempNode.call( this, type );\r\n\r\n\tthis.parse( src, includes, extensions, keywords );\r\n\r\n}\r\n\r\nFunctionNode.prototype = Object.create( TempNode.prototype );\r\nFunctionNode.prototype.constructor = FunctionNode;\r\nFunctionNode.prototype.nodeType = \"Function\";\r\n\r\nFunctionNode.prototype.useKeywords = true;\r\n\r\nFunctionNode.prototype.getShared = function ( /* builder, output */ ) {\r\n\r\n\treturn ! this.isMethod;\r\n\r\n};\r\n\r\nFunctionNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nFunctionNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.getIncludeByName = function ( name ) {\r\n\r\n\tvar i = this.includes.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.includes[ i ].name === name ) {\r\n\r\n\t\t\treturn this.includes[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar match, offset = 0, src = this.src;\r\n\r\n\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\tbuilder.include( this.includes[ i ], this );\r\n\r\n\t}\r\n\r\n\tfor ( var ext in this.extensions ) {\r\n\r\n\t\tbuilder.extensions[ ext ] = true;\r\n\r\n\t}\r\n\r\n\tvar matches = [];\r\n\r\n\twhile ( match = propertiesRegexp.exec( this.src ) ) matches.push( match );\r\n\r\n\tfor ( var i = 0; i < matches.length; i ++ ) {\r\n\r\n\t\tvar match = matches[ i ];\r\n\r\n\t\tvar prop = match[ 0 ],\r\n\t\t\tisGlobal = this.isMethod ? ! this.getInputByName( prop ) : true,\r\n\t\t\treference = prop;\r\n\r\n\t\tif ( this.keywords[ prop ] || ( this.useKeywords && isGlobal && NodeLib.containsKeyword( prop ) ) ) {\r\n\r\n\t\t\tvar node = this.keywords[ prop ];\r\n\r\n\t\t\tif ( ! node ) {\r\n\r\n\t\t\t\tvar keyword = NodeLib.getKeywordData( prop );\r\n\r\n\t\t\t\tif ( keyword.cache ) node = builder.keywords[ prop ];\r\n\r\n\t\t\t\tnode = node || NodeLib.getKeyword( prop, builder );\r\n\r\n\t\t\t\tif ( keyword.cache ) builder.keywords[ prop ] = node;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treference = node.build( builder );\r\n\r\n\t\t}\r\n\r\n\t\tif ( prop !== reference ) {\r\n\r\n\t\t\tsrc = src.substring( 0, match.index + offset ) + reference + src.substring( match.index + prop.length + offset );\r\n\r\n\t\t\toffset += reference.length - prop.length;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.getIncludeByName( reference ) === undefined && NodeLib.contains( reference ) ) {\r\n\r\n\t\t\tbuilder.include( NodeLib.get( reference ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn src;\r\n\r\n\t} else if ( this.isMethod ) {\r\n\r\n\t\tif ( ! this.isInterface ) {\r\n\r\n\t\t\tbuilder.include( this, false, src );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.name;\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.parse = function ( src, includes, extensions, keywords ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.includes = includes || [];\r\n\tthis.extensions = extensions || {};\r\n\tthis.keywords = keywords || {};\r\n\r\n\tif ( this.isMethod ) {\r\n\r\n\t\tvar match = this.src.match( declarationRegexp );\r\n\r\n\t\tthis.inputs = [];\r\n\r\n\t\tif ( match && match.length == 4 ) {\r\n\r\n\t\t\tthis.type = match[ 1 ];\r\n\t\t\tthis.name = match[ 2 ];\r\n\r\n\t\t\tvar inputs = match[ 3 ].match( propertiesRegexp );\r\n\r\n\t\t\tif ( inputs ) {\r\n\r\n\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\twhile ( i < inputs.length ) {\r\n\r\n\t\t\t\t\tvar qualifier = inputs[ i ++ ];\r\n\t\t\t\t\tvar type, name;\r\n\r\n\t\t\t\t\tif ( qualifier === 'in' || qualifier === 'out' || qualifier === 'inout' ) {\r\n\r\n\t\t\t\t\t\ttype = inputs[ i ++ ];\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttype = qualifier;\r\n\t\t\t\t\t\tqualifier = '';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tname = inputs[ i ++ ];\r\n\r\n\t\t\t\t\tthis.inputs.push( {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tqualifier: qualifier\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.isInterface = this.src.indexOf( '{' ) === - 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.type = '';\r\n\t\t\tthis.name = '';\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.isMethod = source.isMethod;\r\n\tthis.useKeywords = source.useKeywords;\r\n\r\n\tthis.parse( source.src, source.includes, source.extensions, source.keywords );\r\n\r\n\tif ( source.type !== undefined ) this.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\t\tdata.isMethod = this.isMethod;\r\n\t\tdata.useKeywords = this.useKeywords;\r\n\r\n\t\tif ( ! this.isMethod ) data.type = this.type;\r\n\r\n\t\tdata.extensions = JSON.parse( JSON.stringify( this.extensions ) );\r\n\t\tdata.keywords = {};\r\n\r\n\t\tfor ( var keyword in this.keywords ) {\r\n\r\n\t\t\tdata.keywords[ keyword ] = this.keywords[ keyword ].toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.includes.length ) {\r\n\r\n\t\t\tdata.includes = [];\r\n\r\n\t\t\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\t\t\tdata.includes.push( this.includes[ i ].toJSON( meta ).uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionNode.js","import {\r\n\tFileLoader,\r\n\tLoader,\r\n\tTexture\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TGALoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n};\r\n\r\nTGALoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: TGALoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar texture = new Texture();\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\ttexture.image = scope.parse( buffer );\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\t// reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\r\n\r\n\t\tfunction tgaCheckHeader( header ) {\r\n\r\n\t\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\t\t// check indexed type\r\n\r\n\t\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\t\tif ( header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1 ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for indexed type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// check colormap type\r\n\r\n\t\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\t\tif ( header.colormap_type ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for colormap type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// What the need of a file without data ?\r\n\r\n\t\t\t\tcase TGA_TYPE_NO_DATA:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t\t\t\t// Invalid type ?\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type \"%s\".', header.image_type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image width and height\r\n\r\n\t\t\tif ( header.width <= 0 || header.height <= 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid image size.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image pixel size\r\n\r\n\t\t\tif ( header.pixel_size !== 8 && header.pixel_size !== 16 &&\r\n\t\t\t\theader.pixel_size !== 24 && header.pixel_size !== 32 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// parse tga image buffer\r\n\r\n\t\tfunction tgaParse( use_rle, use_pal, header, offset, data ) {\r\n\r\n\t\t\tvar pixel_data,\r\n\t\t\t\tpixel_size,\r\n\t\t\t\tpixel_total,\r\n\t\t\t\tpalettes;\r\n\r\n\t\t\tpixel_size = header.pixel_size >> 3;\r\n\t\t\tpixel_total = header.width * header.height * pixel_size;\r\n\r\n\t\t\t // read palettes\r\n\r\n\t\t\t if ( use_pal ) {\r\n\r\n\t\t\t\t palettes = data.subarray( offset, offset += header.colormap_length * ( header.colormap_size >> 3 ) );\r\n\r\n\t\t\t }\r\n\r\n\t\t\t // read RLE\r\n\r\n\t\t\t if ( use_rle ) {\r\n\r\n\t\t\t\t pixel_data = new Uint8Array( pixel_total );\r\n\r\n\t\t\t\tvar c, count, i;\r\n\t\t\t\tvar shift = 0;\r\n\t\t\t\tvar pixels = new Uint8Array( pixel_size );\r\n\r\n\t\t\t\twhile ( shift < pixel_total ) {\r\n\r\n\t\t\t\t\tc = data[ offset ++ ];\r\n\t\t\t\t\tcount = ( c & 0x7f ) + 1;\r\n\r\n\t\t\t\t\t// RLE pixels\r\n\r\n\t\t\t\t\tif ( c & 0x80 ) {\r\n\r\n\t\t\t\t\t\t// bind pixel tmp array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < pixel_size; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixels[ i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// copy pixel array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data.set( pixels, shift + i * pixel_size );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += pixel_size * count;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// raw pixels\r\n\r\n\t\t\t\t\t\tcount *= pixel_size;\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data[ shift + i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += count;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t } else {\r\n\r\n\t\t\t\t// raw pixels\r\n\r\n\t\t\t\tpixel_data = data.subarray(\r\n\t\t\t\t\t offset, offset += ( use_pal ? header.width * header.height : pixel_total )\r\n\t\t\t\t);\r\n\r\n\t\t\t }\r\n\r\n\t\t\t return {\r\n\t\t\t\tpixel_data: pixel_data,\r\n\t\t\t\tpalettes: palettes\r\n\t\t\t };\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes ) {\r\n\r\n\t\t\tvar colormap = palettes;\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = colormap[ ( color * 3 ) + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = colormap[ ( color * 3 ) + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = colormap[ ( color * 3 ) + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\tcolor = image[ i + 0 ] + ( image[ i + 1 ] << 8 ); // Inversed ?\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = ( color & 0x7C00 ) >> 7;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = ( color & 0x03E0 ) >> 2;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = ( color & 0x001F ) >> 3;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = ( color & 0x8000 ) ? 0 : 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData24bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 3 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData32bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 4 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getTgaRGBA( data, width, height, image, palette ) {\r\n\r\n\t\t\tvar x_start,\r\n\t\t\t\ty_start,\r\n\t\t\t\tx_step,\r\n\t\t\t\ty_step,\r\n\t\t\t\tx_end,\r\n\t\t\t\ty_end;\r\n\r\n\t\t\tswitch ( ( header.flags & TGA_ORIGIN_MASK ) >> TGA_ORIGIN_SHIFT ) {\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase TGA_ORIGIN_UL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_UR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( use_grey ) {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageDataGrey8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageDataGrey16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageData8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageData16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 24:\r\n\t\t\t\t\t\ttgaGetImageData24bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 32:\r\n\t\t\t\t\t\ttgaGetImageData32bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Load image data according to specific method\r\n\t\t\t// var func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\r\n\t\t\t// func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\t// TGA constants\r\n\r\n\t\tvar TGA_TYPE_NO_DATA = 0,\r\n\t\t\tTGA_TYPE_INDEXED = 1,\r\n\t\t\tTGA_TYPE_RGB = 2,\r\n\t\t\tTGA_TYPE_GREY = 3,\r\n\t\t\tTGA_TYPE_RLE_INDEXED = 9,\r\n\t\t\tTGA_TYPE_RLE_RGB = 10,\r\n\t\t\tTGA_TYPE_RLE_GREY = 11,\r\n\r\n\t\t\tTGA_ORIGIN_MASK = 0x30,\r\n\t\t\tTGA_ORIGIN_SHIFT = 0x04,\r\n\t\t\tTGA_ORIGIN_BL = 0x00,\r\n\t\t\tTGA_ORIGIN_BR = 0x01,\r\n\t\t\tTGA_ORIGIN_UL = 0x02,\r\n\t\t\tTGA_ORIGIN_UR = 0x03;\r\n\r\n\t\tif ( buffer.length < 19 ) console.error( 'THREE.TGALoader: Not enough data to contain header.' );\r\n\r\n\t\tvar content = new Uint8Array( buffer ),\r\n\t\t\toffset = 0,\r\n\t\t\theader = {\r\n\t\t\t\tid_length: content[ offset ++ ],\r\n\t\t\t\tcolormap_type: content[ offset ++ ],\r\n\t\t\t\timage_type: content[ offset ++ ],\r\n\t\t\t\tcolormap_index: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_length: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_size: content[ offset ++ ],\r\n\t\t\t\torigin: [\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8\r\n\t\t\t\t],\r\n\t\t\t\twidth: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\theight: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tpixel_size: content[ offset ++ ],\r\n\t\t\t\tflags: content[ offset ++ ]\r\n\t\t\t};\r\n\r\n\t\t// check tga if it is valid format\r\n\r\n\t\ttgaCheckHeader( header );\r\n\r\n\t\tif ( header.id_length + offset > buffer.length ) {\r\n\r\n\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t}\r\n\r\n\t\t// skip the needn't data\r\n\r\n\t\toffset += header.id_length;\r\n\r\n\t\t// get targa information about RLE compression and palette\r\n\r\n\t\tvar use_rle = false,\r\n\t\t\tuse_pal = false,\r\n\t\t\tuse_grey = false;\r\n\r\n\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar useOffscreen = typeof OffscreenCanvas !== 'undefined';\r\n\r\n\t\tvar canvas = useOffscreen ? new OffscreenCanvas( header.width, header.height ) : document.createElement( 'canvas' );\r\n\t\tcanvas.width = header.width;\r\n\t\tcanvas.height = header.height;\r\n\r\n\t\tvar context = canvas.getContext( '2d' );\r\n\t\tvar imageData = context.createImageData( header.width, header.height );\r\n\r\n\t\tvar result = tgaParse( use_rle, use_pal, header, offset, content );\r\n\t\tgetTgaRGBA( imageData.data, header.width, header.height, result.pixel_data, result.palettes );\r\n\r\n\t\tcontext.putImageData( imageData, 0, 0 );\r\n\r\n\t\treturn canvas;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { TGALoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/TGALoader.js","import { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar MaskPass = function ( scene, camera ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.clear = true;\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.inverse = false;\r\n\r\n};\r\n\r\nMaskPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: MaskPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar context = renderer.getContext();\r\n\t\tvar state = renderer.state;\r\n\r\n\t\t// don't update color or depth\r\n\r\n\t\tstate.buffers.color.setMask( false );\r\n\t\tstate.buffers.depth.setMask( false );\r\n\r\n\t\t// lock buffers\r\n\r\n\t\tstate.buffers.color.setLocked( true );\r\n\t\tstate.buffers.depth.setLocked( true );\r\n\r\n\t\t// set up stencil\r\n\r\n\t\tvar writeValue, clearValue;\r\n\r\n\t\tif ( this.inverse ) {\r\n\r\n\t\t\twriteValue = 0;\r\n\t\t\tclearValue = 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\twriteValue = 1;\r\n\t\t\tclearValue = 0;\r\n\r\n\t\t}\r\n\r\n\t\tstate.buffers.stencil.setTest( true );\r\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\r\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\r\n\t\tstate.buffers.stencil.setClear( clearValue );\r\n\t\tstate.buffers.stencil.setLocked( true );\r\n\r\n\t\t// draw into the stencil buffer\r\n\r\n\t\trenderer.setRenderTarget( readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t// unlock color and depth buffer for subsequent rendering\r\n\r\n\t\tstate.buffers.color.setLocked( false );\r\n\t\tstate.buffers.depth.setLocked( false );\r\n\r\n\t\t// only render where stencil is set to 1\r\n\r\n\t\tstate.buffers.stencil.setLocked( false );\r\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\r\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\r\n\t\tstate.buffers.stencil.setLocked( true );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nvar ClearMaskPass = function () {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n};\r\n\r\nClearMaskPass.prototype = Object.create( Pass.prototype );\r\n\r\nObject.assign( ClearMaskPass.prototype, {\r\n\r\n\trender: function ( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\trenderer.state.buffers.stencil.setLocked( false );\r\n\t\trenderer.state.buffers.stencil.setTest( false );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { MaskPass, ClearMaskPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/MaskPass.js","/**\r\n * dat-gui JavaScript Controller Library\r\n * http://code.google.com/p/dat-gui\r\n *\r\n * Copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nfunction ___$insertStyle( css ) {\r\n\r\n\tif ( ! css ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\tif ( typeof window === 'undefined' ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tvar style = document.createElement( 'style' );\r\n\r\n\tstyle.setAttribute( 'type', 'text/css' );\r\n\tstyle.innerHTML = css;\r\n\tdocument.head.appendChild( style );\r\n\r\n\treturn css;\r\n\r\n}\r\n\r\nfunction colorToString( color, forceCSSHex ) {\r\n\r\n\tvar colorFormat = color.__state.conversionName.toString();\r\n\tvar r = Math.round( color.r );\r\n\tvar g = Math.round( color.g );\r\n\tvar b = Math.round( color.b );\r\n\tvar a = color.a;\r\n\tvar h = Math.round( color.h );\r\n\tvar s = color.s.toFixed( 1 );\r\n\tvar v = color.v.toFixed( 1 );\r\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\r\n\r\n\t\tvar str = color.hex.toString( 16 );\r\n\t\twhile ( str.length < 6 ) {\r\n\r\n\t\t\tstr = '0' + str;\r\n\r\n\t\t}\r\n\t\treturn '#' + str;\r\n\r\n\t} else if ( colorFormat === 'CSS_RGB' ) {\r\n\r\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\r\n\r\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\r\n\r\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\r\n\r\n\t} else if ( colorFormat === 'HEX' ) {\r\n\r\n\t\treturn '0x' + color.hex.toString( 16 );\r\n\r\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\r\n\r\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\r\n\r\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\r\n\r\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\r\n\r\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\r\n\r\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\r\n\r\n\t}\r\n\treturn 'unknown format';\r\n\r\n}\r\n\r\nvar ARR_EACH = Array.prototype.forEach;\r\nvar ARR_SLICE = Array.prototype.slice;\r\nvar Common = {\r\n\tBREAK: {},\r\n\textend: function extend( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tdefaults: function defaults( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tcompose: function compose() {\r\n\r\n\t\tvar toCall = ARR_SLICE.call( arguments );\r\n\t\treturn function () {\r\n\r\n\t\t\tvar args = ARR_SLICE.call( arguments );\r\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\r\n\r\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\r\n\r\n\t\t\t}\r\n\t\t\treturn args[ 0 ];\r\n\r\n\t\t};\r\n\r\n\t},\r\n\teach: function each( obj, itr, scope ) {\r\n\r\n\t\tif ( ! obj ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\r\n\r\n\t\t\tobj.forEach( itr, scope );\r\n\r\n\t\t} else if ( obj.length === obj.length + 0 ) {\r\n\r\n\t\t\tvar key = void 0;\r\n\t\t\tvar l = void 0;\r\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\r\n\r\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( var _key in obj ) {\r\n\r\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tdefer: function defer( fnc ) {\r\n\r\n\t\tsetTimeout( fnc, 0 );\r\n\r\n\t},\r\n\tdebounce: function debounce( func, threshold, callImmediately ) {\r\n\r\n\t\tvar timeout = void 0;\r\n\t\treturn function () {\r\n\r\n\t\t\tvar obj = this;\r\n\t\t\tvar args = arguments;\r\n\t\t\tfunction delayed() {\r\n\r\n\t\t\t\ttimeout = null;\r\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\r\n\r\n\t\t\t}\r\n\t\t\tvar callNow = callImmediately || ! timeout;\r\n\t\t\tclearTimeout( timeout );\r\n\t\t\ttimeout = setTimeout( delayed, threshold );\r\n\t\t\tif ( callNow ) {\r\n\r\n\t\t\t\tfunc.apply( obj, args );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t},\r\n\ttoArray: function toArray( obj ) {\r\n\r\n\t\tif ( obj.toArray ) return obj.toArray();\r\n\t\treturn ARR_SLICE.call( obj );\r\n\r\n\t},\r\n\tisUndefined: function isUndefined( obj ) {\r\n\r\n\t\treturn obj === undefined;\r\n\r\n\t},\r\n\tisNull: function isNull( obj ) {\r\n\r\n\t\treturn obj === null;\r\n\r\n\t},\r\n\tisNaN: function ( _isNaN ) {\r\n\r\n\t\tfunction isNaN() {\r\n\r\n\t\t\treturn _isNaN.apply( this, arguments );\r\n\r\n\t\t}\r\n\t\tisNaN.toString = function () {\r\n\r\n\t\t\treturn _isNaN.toString();\r\n\r\n\t\t};\r\n\t\treturn isNaN;\r\n\r\n\t}( function ( obj ) {\r\n\r\n\t\treturn isNaN( obj );\r\n\r\n\t} ),\r\n\tisArray: Array.isArray || function ( obj ) {\r\n\r\n\t\treturn obj.constructor === Array;\r\n\r\n\t},\r\n\tisObject: function isObject( obj ) {\r\n\r\n\t\treturn obj === Object( obj );\r\n\r\n\t},\r\n\tisNumber: function isNumber( obj ) {\r\n\r\n\t\treturn obj === obj + 0;\r\n\r\n\t},\r\n\tisString: function isString( obj ) {\r\n\r\n\t\treturn obj === obj + '';\r\n\r\n\t},\r\n\tisBoolean: function isBoolean( obj ) {\r\n\r\n\t\treturn obj === false || obj === true;\r\n\r\n\t},\r\n\tisFunction: function isFunction( obj ) {\r\n\r\n\t\treturn obj instanceof Function;\r\n\r\n\t}\r\n};\r\n\r\nvar INTERPRETATIONS = [\r\n\t{\r\n\t\tlitmus: Common.isString,\r\n\t\tconversions: {\r\n\t\t\tTHREE_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tSIX_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGB: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGBA: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\r\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isNumber,\r\n\t\tconversions: {\r\n\t\t\tHEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: original,\r\n\t\t\t\t\t\tconversionName: 'HEX'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn color.hex;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isArray,\r\n\t\tconversions: {\r\n\t\t\tRGB_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 3 ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGBA_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 4 ) return false;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ],\r\n\t\t\t\t\t\ta: original[ 3 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isObject,\r\n\t\tconversions: {\r\n\t\t\tRGBA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGB_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSVA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSV_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} ];\r\nvar result = void 0;\r\nvar toReturn = void 0;\r\nvar interpret = function interpret() {\r\n\r\n\ttoReturn = false;\r\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\r\n\tCommon.each( INTERPRETATIONS, function ( family ) {\r\n\r\n\t\tif ( family.litmus( original ) ) {\r\n\r\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\r\n\r\n\t\t\t\tresult = conversion.read( original );\r\n\t\t\t\tif ( toReturn === false && result !== false ) {\r\n\r\n\t\t\t\t\ttoReturn = result;\r\n\t\t\t\t\tresult.conversionName = conversionName;\r\n\t\t\t\t\tresult.conversion = conversion;\r\n\t\t\t\t\treturn Common.BREAK;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn Common.BREAK;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n};\r\n\r\nvar tmpComponent = void 0;\r\nvar ColorMath = {\r\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\r\n\r\n\t\tvar hi = Math.floor( h / 60 ) % 6;\r\n\t\tvar f = h / 60 - Math.floor( h / 60 );\r\n\t\tvar p = v * ( 1.0 - s );\r\n\t\tvar q = v * ( 1.0 - f * s );\r\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\r\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\r\n\t\treturn {\r\n\t\t\tr: c[ 0 ] * 255,\r\n\t\t\tg: c[ 1 ] * 255,\r\n\t\t\tb: c[ 2 ] * 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\r\n\r\n\t\tvar min = Math.min( r, g, b );\r\n\t\tvar max = Math.max( r, g, b );\r\n\t\tvar delta = max - min;\r\n\t\tvar h = void 0;\r\n\t\tvar s = void 0;\r\n\t\tif ( max !== 0 ) {\r\n\r\n\t\t\ts = delta / max;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn {\r\n\t\t\t\th: NaN,\r\n\t\t\t\ts: 0,\r\n\t\t\t\tv: 0\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\tif ( r === max ) {\r\n\r\n\t\t\th = ( g - b ) / delta;\r\n\r\n\t\t} else if ( g === max ) {\r\n\r\n\t\t\th = 2 + ( b - r ) / delta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\th = 4 + ( r - g ) / delta;\r\n\r\n\t\t}\r\n\t\th /= 6;\r\n\t\tif ( h < 0 ) {\r\n\r\n\t\t\th += 1;\r\n\r\n\t\t}\r\n\t\treturn {\r\n\t\t\th: h * 360,\r\n\t\t\ts: s,\r\n\t\t\tv: max / 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\r\n\r\n\t\tvar hex = this.hex_with_component( 0, 2, r );\r\n\t\thex = this.hex_with_component( hex, 1, g );\r\n\t\thex = this.hex_with_component( hex, 0, b );\r\n\t\treturn hex;\r\n\r\n\t},\r\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\r\n\r\n\t\treturn hex >> componentIndex * 8 & 0xFF;\r\n\r\n\t},\r\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\r\n\r\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\r\n\r\n\t}\r\n};\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\r\n\r\n\treturn typeof obj;\r\n\r\n} : function ( obj ) {\r\n\r\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar classCallCheck = function ( instance, Constructor ) {\r\n\r\n\tif ( ! ( instance instanceof Constructor ) ) {\r\n\r\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar createClass = function () {\r\n\r\n\tfunction defineProperties( target, props ) {\r\n\r\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\r\n\r\n\t\t\tvar descriptor = props[ i ];\r\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\r\n\t\t\tdescriptor.configurable = true;\r\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\r\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn function ( Constructor, protoProps, staticProps ) {\r\n\r\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\r\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\r\n\t\treturn Constructor;\r\n\r\n\t};\r\n\r\n}();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar get = function get( object, property, receiver ) {\r\n\r\n\tif ( object === null ) object = Function.prototype;\r\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\r\n\r\n\tif ( desc === undefined ) {\r\n\r\n\t\tvar parent = Object.getPrototypeOf( object );\r\n\r\n\t\tif ( parent === null ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn get( parent, property, receiver );\r\n\r\n\t\t}\r\n\r\n\t} else if ( \"value\" in desc ) {\r\n\r\n\t\treturn desc.value;\r\n\r\n\t} else {\r\n\r\n\t\tvar getter = desc.get;\r\n\r\n\t\tif ( getter === undefined ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t}\r\n\r\n\t\treturn getter.call( receiver );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar inherits = function ( subClass, superClass ) {\r\n\r\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\r\n\r\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\r\n\r\n\t}\r\n\r\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: subClass,\r\n\t\t\tenumerable: false,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t} );\r\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar possibleConstructorReturn = function ( self, call ) {\r\n\r\n\tif ( ! self ) {\r\n\r\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\r\n\r\n\t}\r\n\r\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\r\n\r\n};\r\n\r\nvar Color = function () {\r\n\r\n\tfunction Color() {\r\n\r\n\t\tclassCallCheck( this, Color );\r\n\t\tthis.__state = interpret.apply( this, arguments );\r\n\t\tif ( this.__state === false ) {\r\n\r\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\r\n\r\n\t\t}\r\n\t\tthis.__state.a = this.__state.a || 1;\r\n\r\n\t}\r\n\tcreateClass( Color, [ {\r\n\t\tkey: 'toString',\r\n\t\tvalue: function toString() {\r\n\r\n\t\t\treturn colorToString( this );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toHexString',\r\n\t\tvalue: function toHexString() {\r\n\r\n\t\t\treturn colorToString( this, true );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toOriginal',\r\n\t\tvalue: function toOriginal() {\r\n\r\n\t\t\treturn this.__state.conversion.write( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Color;\r\n\r\n}();\r\nfunction defineRGBComponent( target, component, componentHexIndex ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'RGB' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'RGB' ) {\r\n\r\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\t\tthis.__state.space = 'RGB';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nfunction defineHSVComponent( target, component ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'HSV' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateHSV( this );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'HSV' ) {\r\n\r\n\t\t\t\tColor.recalculateHSV( this );\r\n\t\t\t\tthis.__state.space = 'HSV';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\r\n\r\n\tif ( color.__state.space === 'HEX' ) {\r\n\r\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\r\n\r\n\t} else if ( color.__state.space === 'HSV' ) {\r\n\r\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\r\n\r\n\t} else {\r\n\r\n\t\tthrow new Error( 'Corrupted color state' );\r\n\r\n\t}\r\n\r\n};\r\nColor.recalculateHSV = function ( color ) {\r\n\r\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\r\n\tCommon.extend( color.__state, {\r\n\t\ts: result.s,\r\n\t\tv: result.v\r\n\t} );\r\n\tif ( ! Common.isNaN( result.h ) ) {\r\n\r\n\t\tcolor.__state.h = result.h;\r\n\r\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\r\n\r\n\t\tcolor.__state.h = 0;\r\n\r\n\t}\r\n\r\n};\r\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\r\ndefineRGBComponent( Color.prototype, 'r', 2 );\r\ndefineRGBComponent( Color.prototype, 'g', 1 );\r\ndefineRGBComponent( Color.prototype, 'b', 0 );\r\ndefineHSVComponent( Color.prototype, 'h' );\r\ndefineHSVComponent( Color.prototype, 's' );\r\ndefineHSVComponent( Color.prototype, 'v' );\r\nObject.defineProperty( Color.prototype, 'a', {\r\n\tget: function get$$1() {\r\n\r\n\t\treturn this.__state.a;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.a = v;\r\n\r\n\t}\r\n} );\r\nObject.defineProperty( Color.prototype, 'hex', {\r\n\tget: function get$$1() {\r\n\r\n\t\tif ( this.__state.space !== 'HEX' ) {\r\n\r\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\r\n\t\t\tthis.__state.space = 'HEX';\r\n\r\n\t\t}\r\n\t\treturn this.__state.hex;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.space = 'HEX';\r\n\t\tthis.__state.hex = v;\r\n\r\n\t}\r\n} );\r\n\r\nvar Controller = function () {\r\n\r\n\tfunction Controller( object, property ) {\r\n\r\n\t\tclassCallCheck( this, Controller );\r\n\t\tthis.initialValue = object[ property ];\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tthis.object = object;\r\n\t\tthis.property = property;\r\n\t\tthis.__onChange = undefined;\r\n\t\tthis.__onFinishChange = undefined;\r\n\r\n\t}\r\n\tcreateClass( Controller, [ {\r\n\t\tkey: 'onChange',\r\n\t\tvalue: function onChange( fnc ) {\r\n\r\n\t\t\tthis.__onChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'onFinishChange',\r\n\t\tvalue: function onFinishChange( fnc ) {\r\n\r\n\t\t\tthis.__onFinishChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( newValue ) {\r\n\r\n\t\t\tthis.object[ this.property ] = newValue;\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this, newValue );\r\n\r\n\t\t\t}\r\n\t\t\tthis.updateDisplay();\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getValue',\r\n\t\tvalue: function getValue() {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'isModified',\r\n\t\tvalue: function isModified() {\r\n\r\n\t\t\treturn this.initialValue !== this.getValue();\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Controller;\r\n\r\n}();\r\n\r\nvar EVENT_MAP = {\r\n\tHTMLEvents: [ 'change' ],\r\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\r\n\tKeyboardEvents: [ 'keydown' ]\r\n};\r\nvar EVENT_MAP_INV = {};\r\nCommon.each( EVENT_MAP, function ( v, k ) {\r\n\r\n\tCommon.each( v, function ( e ) {\r\n\r\n\t\tEVENT_MAP_INV[ e ] = k;\r\n\r\n\t} );\r\n\r\n} );\r\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\r\nfunction cssValueToPixels( val ) {\r\n\r\n\tif ( val === '0' || Common.isUndefined( val ) ) {\r\n\r\n\t\treturn 0;\r\n\r\n\t}\r\n\tvar match = val.match( CSS_VALUE_PIXELS );\r\n\tif ( ! Common.isNull( match ) ) {\r\n\r\n\t\treturn parseFloat( match[ 1 ] );\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar dom = {\r\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\r\n\r\n\t\tif ( elem === undefined || elem.style === undefined ) return;\r\n\t\telem.onselectstart = selectable ? function () {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t} : function () {};\r\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.unselectable = selectable ? 'on' : 'off';\r\n\r\n\t},\r\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\r\n\r\n\t\tvar vertical = vert;\r\n\t\tvar horizontal = hor;\r\n\t\tif ( Common.isUndefined( horizontal ) ) {\r\n\r\n\t\t\thorizontal = true;\r\n\r\n\t\t}\r\n\t\tif ( Common.isUndefined( vertical ) ) {\r\n\r\n\t\t\tvertical = true;\r\n\r\n\t\t}\r\n\t\telem.style.position = 'absolute';\r\n\t\tif ( horizontal ) {\r\n\r\n\t\t\telem.style.left = 0;\r\n\t\t\telem.style.right = 0;\r\n\r\n\t\t}\r\n\t\tif ( vertical ) {\r\n\r\n\t\t\telem.style.top = 0;\r\n\t\t\telem.style.bottom = 0;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\r\n\r\n\t\tvar params = pars || {};\r\n\t\tvar className = EVENT_MAP_INV[ eventType ];\r\n\t\tif ( ! className ) {\r\n\r\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\r\n\r\n\t\t}\r\n\t\tvar evt = document.createEvent( className );\r\n\t\tswitch ( className ) {\r\n\r\n\t\t\tcase 'MouseEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\r\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\r\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tclientX,\r\n\t\t\t\t\tclientY,\r\n\t\t\t\t\tfalse, false, false, false, 0, null );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tcase 'KeyboardEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\r\n\t\t\t\tCommon.defaults( params, {\r\n\t\t\t\t\tcancelable: true,\r\n\t\t\t\t\tctrlKey: false,\r\n\t\t\t\t\taltKey: false,\r\n\t\t\t\t\tshiftKey: false,\r\n\t\t\t\t\tmetaKey: false,\r\n\t\t\t\t\tkeyCode: undefined,\r\n\t\t\t\t\tcharCode: undefined\r\n\t\t\t\t} );\r\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t{\r\n\r\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tCommon.defaults( evt, aux );\r\n\t\telem.dispatchEvent( evt );\r\n\r\n\t},\r\n\tbind: function bind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.addEventListener ) {\r\n\r\n\t\t\telem.addEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.attachEvent ) {\r\n\r\n\t\t\telem.attachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tunbind: function unbind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.removeEventListener ) {\r\n\r\n\t\t\telem.removeEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.detachEvent ) {\r\n\r\n\t\t\telem.detachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\taddClass: function addClass( elem, className ) {\r\n\r\n\t\tif ( elem.className === undefined ) {\r\n\r\n\t\t\telem.className = className;\r\n\r\n\t\t} else if ( elem.className !== className ) {\r\n\r\n\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\r\n\r\n\t\t\t\tclasses.push( className );\r\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tremoveClass: function removeClass( elem, className ) {\r\n\r\n\t\tif ( className ) {\r\n\r\n\t\t\tif ( elem.className === className ) {\r\n\r\n\t\t\t\telem.removeAttribute( 'class' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\t\tvar index = classes.indexOf( className );\r\n\t\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\t\tclasses.splice( index, 1 );\r\n\t\t\t\t\telem.className = classes.join( ' ' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\telem.className = undefined;\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\thasClass: function hasClass( elem, className ) {\r\n\r\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\r\n\r\n\t},\r\n\tgetWidth: function getWidth( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\r\n\r\n\t},\r\n\tgetHeight: function getHeight( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\r\n\r\n\t},\r\n\tgetOffset: function getOffset( el ) {\r\n\r\n\t\tvar elem = el;\r\n\t\tvar offset = { left: 0, top: 0 };\r\n\t\tif ( elem.offsetParent ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\toffset.left += elem.offsetLeft;\r\n\t\t\t\toffset.top += elem.offsetTop;\r\n\t\t\t\telem = elem.offsetParent;\r\n\r\n\t\t\t} while ( elem );\r\n\r\n\t\t}\r\n\t\treturn offset;\r\n\r\n\t},\r\n\tisActive: function isActive( elem ) {\r\n\r\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\r\n\r\n\t}\r\n};\r\n\r\nvar BooleanController = function ( _Controller ) {\r\n\r\n\tinherits( BooleanController, _Controller );\r\n\tfunction BooleanController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, BooleanController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__prev = _this2.getValue();\r\n\t\t_this2.__checkbox = document.createElement( 'input' );\r\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( ! _this.__prev );\r\n\r\n\t\t}\r\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\r\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\r\n\t\t_this2.updateDisplay();\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( BooleanController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\tthis.__prev = this.getValue();\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( this.getValue() === true ) {\r\n\r\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\r\n\t\t\t\tthis.__checkbox.checked = true;\r\n\t\t\t\tthis.__prev = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.__checkbox.checked = false;\r\n\t\t\t\tthis.__prev = false;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn BooleanController;\r\n\r\n}( Controller );\r\n\r\nvar OptionController = function ( _Controller ) {\r\n\r\n\tinherits( OptionController, _Controller );\r\n\tfunction OptionController( object, property, opts ) {\r\n\r\n\t\tclassCallCheck( this, OptionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\r\n\t\tvar options = opts;\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__select = document.createElement( 'select' );\r\n\t\tif ( Common.isArray( options ) ) {\r\n\r\n\t\t\tvar map = {};\r\n\t\t\tCommon.each( options, function ( element ) {\r\n\r\n\t\t\t\tmap[ element ] = element;\r\n\r\n\t\t\t} );\r\n\t\t\toptions = map;\r\n\r\n\t\t}\r\n\t\tCommon.each( options, function ( value, key ) {\r\n\r\n\t\t\tvar opt = document.createElement( 'option' );\r\n\t\t\topt.innerHTML = key;\r\n\t\t\topt.setAttribute( 'value', value );\r\n\t\t\t_this.__select.appendChild( opt );\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\tdom.bind( _this2.__select, 'change', function () {\r\n\r\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\r\n\t\t\t_this.setValue( desiredValue );\r\n\r\n\t\t} );\r\n\t\t_this2.domElement.appendChild( _this2.__select );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( OptionController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\r\n\t\t\tthis.__select.value = this.getValue();\r\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn OptionController;\r\n\r\n}( Controller );\r\n\r\nvar StringController = function ( _Controller ) {\r\n\r\n\tinherits( StringController, _Controller );\r\n\tfunction StringController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, StringController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( _this.__input.value );\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tthis.blur();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( StringController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\r\n\r\n\t\t\t\tthis.__input.value = this.getValue();\r\n\r\n\t\t\t}\r\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn StringController;\r\n\r\n}( Controller );\r\n\r\nfunction numDecimals( x ) {\r\n\r\n\tvar _x = x.toString();\r\n\tif ( _x.indexOf( '.' ) > - 1 ) {\r\n\r\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar NumberController = function ( _Controller ) {\r\n\r\n\tinherits( NumberController, _Controller );\r\n\tfunction NumberController( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberController );\r\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\r\n\t\tvar _params = params || {};\r\n\t\t_this.__min = _params.min;\r\n\t\t_this.__max = _params.max;\r\n\t\t_this.__step = _params.step;\r\n\t\tif ( Common.isUndefined( _this.__step ) ) {\r\n\r\n\t\t\tif ( _this.initialValue === 0 ) {\r\n\r\n\t\t\t\t_this.__impliedStep = 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_this.__impliedStep = _this.__step;\r\n\r\n\t\t}\r\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\r\n\t\treturn _this;\r\n\r\n\t}\r\n\tcreateClass( NumberController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar _v = v;\r\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\r\n\r\n\t\t\t\t_v = this.__min;\r\n\r\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\r\n\r\n\t\t\t\t_v = this.__max;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\r\n\r\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'min',\r\n\t\tvalue: function min( minValue ) {\r\n\r\n\t\t\tthis.__min = minValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'max',\r\n\t\tvalue: function max( maxValue ) {\r\n\r\n\t\t\tthis.__max = maxValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'step',\r\n\t\tvalue: function step( stepValue ) {\r\n\r\n\t\t\tthis.__step = stepValue;\r\n\t\t\tthis.__impliedStep = stepValue;\r\n\t\t\tthis.__precision = numDecimals( stepValue );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberController;\r\n\r\n}( Controller );\r\n\r\nfunction roundToDecimal( value, decimals ) {\r\n\r\n\tvar tenTo = Math.pow( 10, decimals );\r\n\treturn Math.round( value * tenTo ) / tenTo;\r\n\r\n}\r\nvar NumberControllerBox = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerBox, _NumberController );\r\n\tfunction NumberControllerBox( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerBox );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\r\n\t\t_this2.__truncationSuspended = false;\r\n\t\tvar _this = _this2;\r\n\t\tvar prevY = void 0;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\tvar attempted = parseFloat( _this.__input.value );\r\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\r\n\r\n\t\t\t\t_this.setValue( attempted );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\tvar diff = prevY - e.clientY;\r\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\t_this.__truncationSuspended = true;\r\n\t\t\t\tthis.blur();\r\n\t\t\t\t_this.__truncationSuspended = false;\r\n\t\t\t\tonFinish();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerBox, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\r\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerBox;\r\n\r\n}( NumberController );\r\n\r\nfunction map( v, i1, i2, o1, o2 ) {\r\n\r\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\r\n\r\n}\r\nvar NumberControllerSlider = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerSlider, _NumberController );\r\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerSlider );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__background = document.createElement( 'div' );\r\n\t\t_this2.__foreground = document.createElement( 'div' );\r\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\r\n\t\tdom.addClass( _this2.__background, 'slider' );\r\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tonMouseDrag( e );\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onTouchStart( e ) {\r\n\r\n\t\t\tif ( e.touches.length !== 1 ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\r\n\t\t\tonTouchMove( e );\r\n\r\n\t\t}\r\n\t\tfunction onTouchMove( e ) {\r\n\r\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\r\n\t\t}\r\n\t\tfunction onTouchEnd() {\r\n\r\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.__background.appendChild( _this2.__foreground );\r\n\t\t_this2.domElement.appendChild( _this2.__background );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerSlider, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\r\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\r\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerSlider;\r\n\r\n}( NumberController );\r\n\r\nvar FunctionController = function ( _Controller ) {\r\n\r\n\tinherits( FunctionController, _Controller );\r\n\tfunction FunctionController( object, property, text ) {\r\n\r\n\t\tclassCallCheck( this, FunctionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__button = document.createElement( 'div' );\r\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\r\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.fire();\r\n\t\t\treturn false;\r\n\r\n\t\t} );\r\n\t\tdom.addClass( _this2.__button, 'button' );\r\n\t\t_this2.domElement.appendChild( _this2.__button );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( FunctionController, [ {\r\n\t\tkey: 'fire',\r\n\t\tvalue: function fire() {\r\n\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this );\r\n\r\n\t\t\t}\r\n\t\t\tthis.getValue().call( this.object );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn FunctionController;\r\n\r\n}( Controller );\r\n\r\nvar ColorController = function ( _Controller ) {\r\n\r\n\tinherits( ColorController, _Controller );\r\n\tfunction ColorController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, ColorController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\r\n\t\t_this2.__color = new Color( _this2.getValue() );\r\n\t\t_this2.__temp = new Color( 0 );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.domElement = document.createElement( 'div' );\r\n\t\tdom.makeSelectable( _this2.domElement, false );\r\n\t\t_this2.__selector = document.createElement( 'div' );\r\n\t\t_this2.__selector.className = 'selector';\r\n\t\t_this2.__saturation_field = document.createElement( 'div' );\r\n\t\t_this2.__saturation_field.className = 'saturation-field';\r\n\t\t_this2.__field_knob = document.createElement( 'div' );\r\n\t\t_this2.__field_knob.className = 'field-knob';\r\n\t\t_this2.__field_knob_border = '2px solid ';\r\n\t\t_this2.__hue_knob = document.createElement( 'div' );\r\n\t\t_this2.__hue_knob.className = 'hue-knob';\r\n\t\t_this2.__hue_field = document.createElement( 'div' );\r\n\t\t_this2.__hue_field.className = 'hue-field';\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.type = 'text';\r\n\t\t_this2.__input_textShadow = '0 1px 1px ';\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tonBlur.call( this );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tvar valueField = document.createElement( 'div' );\r\n\t\tCommon.extend( _this2.__selector.style, {\r\n\t\t\twidth: '122px',\r\n\t\t\theight: '102px',\r\n\t\t\tpadding: '3px',\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__field_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '12px',\r\n\t\t\theight: '12px',\r\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\r\n\t\t\tborderRadius: '12px',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__hue_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '2px',\r\n\t\t\tborderRight: '4px solid #fff',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__saturation_field.style, {\r\n\t\t\twidth: '100px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tmarginRight: '3px',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\tcursor: 'pointer'\r\n\t\t} );\r\n\t\tCommon.extend( valueField.style, {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tbackground: 'none'\r\n\t\t} );\r\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\r\n\t\tCommon.extend( _this2.__hue_field.style, {\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tcursor: 'ns-resize',\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '3px',\r\n\t\t\tright: '3px'\r\n\t\t} );\r\n\t\thueGradient( _this2.__hue_field );\r\n\t\tCommon.extend( _this2.__input.style, {\r\n\t\t\toutline: 'none',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#fff',\r\n\t\t\tborder: 0,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\r\n\t\t} );\r\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\r\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\r\n\t\tfunction fieldDown( e ) {\r\n\r\n\t\t\tsetSV( e );\r\n\t\t\tdom.bind( window, 'mousemove', setSV );\r\n\t\t\tdom.bind( window, 'touchmove', setSV );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\r\n\r\n\t\t}\r\n\t\tfunction fieldDownH( e ) {\r\n\r\n\t\t\tsetH( e );\r\n\t\t\tdom.bind( window, 'mousemove', setH );\r\n\t\t\tdom.bind( window, 'touchmove', setH );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\r\n\r\n\t\t}\r\n\t\tfunction fieldUpSV() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setSV );\r\n\t\t\tdom.unbind( window, 'touchmove', setSV );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction fieldUpH() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setH );\r\n\t\t\tdom.unbind( window, 'touchmove', setH );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tvar i = interpret( this.value );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\t_this.__color.__state = i;\r\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.value = _this.__color.toString();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__saturation_field.appendChild( valueField );\r\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\r\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\r\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\r\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\t_this2.domElement.appendChild( _this2.__selector );\r\n\t\t_this2.updateDisplay();\r\n\t\tfunction setSV( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\r\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientX = _ref.clientX,\r\n\t\t\t\tclientY = _ref.clientY;\r\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\r\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( v > 1 ) {\r\n\r\n\t\t\t\tv = 1;\r\n\r\n\t\t\t} else if ( v < 0 ) {\r\n\r\n\t\t\t\tv = 0;\r\n\r\n\t\t\t}\r\n\t\t\tif ( s > 1 ) {\r\n\r\n\t\t\t\ts = 1;\r\n\r\n\t\t\t} else if ( s < 0 ) {\r\n\r\n\t\t\t\ts = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.v = v;\r\n\t\t\t_this.__color.s = s;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction setH( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\r\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientY = _ref2.clientY;\r\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( h > 1 ) {\r\n\r\n\t\t\t\th = 1;\r\n\r\n\t\t\t} else if ( h < 0 ) {\r\n\r\n\t\t\t\th = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.h = h * 360;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( ColorController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar i = interpret( this.getValue() );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\tvar mismatch = false;\r\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\r\n\r\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\r\n\r\n\t\t\t\t\t\tmismatch = true;\r\n\t\t\t\t\t\treturn {};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, this );\r\n\t\t\t\tif ( mismatch ) {\r\n\r\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\r\n\t\t\tthis.__temp.a = 1;\r\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\r\n\t\t\tvar _flip = 255 - flip;\r\n\t\t\tCommon.extend( this.__field_knob.style, {\r\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\r\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\r\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\r\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\r\n\t\t\t} );\r\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\r\n\t\t\tthis.__temp.s = 1;\r\n\t\t\tthis.__temp.v = 1;\r\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\r\n\t\t\tthis.__input.value = this.__color.toString();\r\n\t\t\tCommon.extend( this.__input.style, {\r\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\r\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\r\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn ColorController;\r\n\r\n}( Controller );\r\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\r\nfunction linearGradient( elem, x, a, b ) {\r\n\r\n\telem.style.background = '';\r\n\tCommon.each( vendors, function ( vendor ) {\r\n\r\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\r\n\r\n\t} );\r\n\r\n}\r\nfunction hueGradient( elem ) {\r\n\r\n\telem.style.background = '';\r\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\r\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\r\n}\r\n\r\nvar css = {\r\n\tload: function load( url, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar link = doc.createElement( 'link' );\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.href = url;\r\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\r\n\r\n\t},\r\n\tinject: function inject( cssContent, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar injected = document.createElement( 'style' );\r\n\t\tinjected.type = 'text/css';\r\n\t\tinjected.innerHTML = cssContent;\r\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\r\n\t\ttry {\r\n\r\n\t\t\thead.appendChild( injected );\r\n\r\n\t\t} catch ( e ) {\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\r\n\r\nvar ControllerFactory = function ControllerFactory( object, property ) {\r\n\r\n\tvar initialValue = object[ property ];\r\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\r\n\r\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\r\n\r\n\t}\r\n\tif ( Common.isNumber( initialValue ) ) {\r\n\r\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\r\n\r\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\r\n\r\n\t\t\t}\r\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\r\n\r\n\t\t}\r\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\r\n\r\n\t\t}\r\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\r\n\r\n\t}\r\n\tif ( Common.isString( initialValue ) ) {\r\n\r\n\t\treturn new StringController( object, property );\r\n\r\n\t}\r\n\tif ( Common.isFunction( initialValue ) ) {\r\n\r\n\t\treturn new FunctionController( object, property, '' );\r\n\r\n\t}\r\n\tif ( Common.isBoolean( initialValue ) ) {\r\n\r\n\t\treturn new BooleanController( object, property );\r\n\r\n\t}\r\n\treturn null;\r\n\r\n};\r\n\r\nfunction requestAnimationFrame( callback ) {\r\n\r\n\tsetTimeout( callback, 1000 / 60 );\r\n\r\n}\r\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\r\n\r\nvar CenteredDiv = function () {\r\n\r\n\tfunction CenteredDiv() {\r\n\r\n\t\tclassCallCheck( this, CenteredDiv );\r\n\t\tthis.backgroundElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.backgroundElement.style, {\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1000',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\r\n\t\t\ttransition: 'opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdom.makeFullscreen( this.backgroundElement );\r\n\t\tthis.backgroundElement.style.position = 'fixed';\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.domElement.style, {\r\n\t\t\tposition: 'fixed',\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1001',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\r\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdocument.body.appendChild( this.backgroundElement );\r\n\t\tdocument.body.appendChild( this.domElement );\r\n\t\tvar _this = this;\r\n\t\tdom.bind( this.backgroundElement, 'click', function () {\r\n\r\n\t\t\t_this.hide();\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tcreateClass( CenteredDiv, [ {\r\n\t\tkey: 'show',\r\n\t\tvalue: function show() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.backgroundElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\t\t\tthis.layout();\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'hide',\r\n\t\tvalue: function hide() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tvar hide = function hide() {\r\n\r\n\t\t\t\t_this.domElement.style.display = 'none';\r\n\t\t\t\t_this.backgroundElement.style.display = 'none';\r\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\r\n\r\n\t\t\t};\r\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\r\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\r\n\t\t\tthis.backgroundElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'layout',\r\n\t\tvalue: function layout() {\r\n\r\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\r\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn CenteredDiv;\r\n\r\n}();\r\n\r\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\r\n\r\ncss.inject( styleSheet );\r\nvar CSS_NAMESPACE = 'dg';\r\nvar HIDE_KEY_CODE = 72;\r\nvar CLOSE_BUTTON_HEIGHT = 20;\r\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\r\nvar SUPPORTS_LOCAL_STORAGE = function () {\r\n\r\n\ttry {\r\n\r\n\t\treturn !! window.localStorage;\r\n\r\n\t} catch ( e ) {\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n}();\r\nvar SAVE_DIALOGUE = void 0;\r\nvar autoPlaceVirgin = true;\r\nvar autoPlaceContainer = void 0;\r\nvar hide = false;\r\nvar hideableGuis = [];\r\nvar GUI = function GUI( pars ) {\r\n\r\n\tvar _this = this;\r\n\tvar params = pars || {};\r\n\tthis.domElement = document.createElement( 'div' );\r\n\tthis.__ul = document.createElement( 'ul' );\r\n\tthis.domElement.appendChild( this.__ul );\r\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\r\n\tthis.__folders = {};\r\n\tthis.__controllers = [];\r\n\tthis.__rememberedObjects = [];\r\n\tthis.__rememberedObjectIndecesToControllers = [];\r\n\tthis.__listening = [];\r\n\tparams = Common.defaults( params, {\r\n\t\tcloseOnTop: false,\r\n\t\tautoPlace: true,\r\n\t\twidth: GUI.DEFAULT_WIDTH\r\n\t} );\r\n\tparams = Common.defaults( params, {\r\n\t\tresizable: params.autoPlace,\r\n\t\thideable: params.autoPlace\r\n\t} );\r\n\tif ( ! Common.isUndefined( params.load ) ) {\r\n\r\n\t\tif ( params.preset ) {\r\n\r\n\t\t\tparams.load.preset = params.preset;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\r\n\r\n\t}\r\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\r\n\r\n\t\thideableGuis.push( this );\r\n\r\n\t}\r\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\r\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\r\n\r\n\t\tparams.scrollable = true;\r\n\r\n\t}\r\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\r\n\tvar saveToLocalStorage = void 0;\r\n\tvar titleRow = void 0;\r\n\tObject.defineProperties( this,\r\n\t\t{\r\n\t\t\tparent: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.parent;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollable: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.scrollable;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tautoPlace: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.autoPlace;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseOnTop: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closeOnTop;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpreset: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\treturn _this.getRoot().preset;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn params.load.preset;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\t_this.getRoot().preset = v;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tparams.load.preset = v;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetPresetSelectIndex( this );\r\n\t\t\t\t\t_this.revert();\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.width;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.width = v;\r\n\t\t\t\t\tsetWidth( _this, v );\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.name;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.name = v;\r\n\t\t\t\t\tif ( titleRow ) {\r\n\r\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclosed: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closed;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.closed = v;\r\n\t\t\t\t\tif ( params.closed ) {\r\n\r\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onResize();\r\n\t\t\t\t\tif ( _this.__closeButton ) {\r\n\r\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tload: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.load;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuseLocalStorage: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn useLocalStorage;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( bool ) {\r\n\r\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\t\t\t\tuseLocalStorage = bool;\r\n\t\t\t\t\t\tif ( bool ) {\r\n\r\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\tthis.closed = params.closed || false;\r\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\r\n\t\tdom.makeSelectable( this.domElement, false );\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\tif ( useLocalStorage ) {\r\n\r\n\t\t\t\t_this.useLocalStorage = true;\r\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\r\n\t\t\t\tif ( savedGui ) {\r\n\r\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis.__closeButton = document.createElement( 'div' );\r\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\r\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\r\n\t\tif ( params.closeOnTop ) {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\r\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\r\n\t\t\tthis.domElement.appendChild( this.__closeButton );\r\n\r\n\t\t}\r\n\t\tdom.bind( this.__closeButton, 'click', function () {\r\n\r\n\t\t\t_this.closed = ! _this.closed;\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\tif ( params.closed === undefined ) {\r\n\r\n\t\t\tparams.closed = true;\r\n\r\n\t\t}\r\n\t\tvar titleRowName = document.createTextNode( params.name );\r\n\t\tdom.addClass( titleRowName, 'controller-name' );\r\n\t\ttitleRow = addRow( _this, titleRowName );\r\n\t\tvar onClickTitle = function onClickTitle( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.closed = ! _this.closed;\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\r\n\t\tdom.addClass( titleRow, 'title' );\r\n\t\tdom.bind( titleRow, 'click', onClickTitle );\r\n\t\tif ( ! params.closed ) {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tif ( params.autoPlace ) {\r\n\r\n\t\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\t\tif ( autoPlaceVirgin ) {\r\n\r\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\r\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\r\n\t\t\t\tautoPlaceVirgin = false;\r\n\r\n\t\t\t}\r\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\r\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\r\n\r\n\t\t}\r\n\t\tif ( ! this.parent ) {\r\n\r\n\t\t\tsetWidth( _this, params.width );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tthis.__resizeHandler = function () {\r\n\r\n\t\t_this.onResizeDebounced();\r\n\r\n\t};\r\n\tdom.bind( window, 'resize', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\r\n\tthis.onResize();\r\n\tif ( params.resizable ) {\r\n\r\n\t\taddResizeHandle( this );\r\n\r\n\t}\r\n\tsaveToLocalStorage = function saveToLocalStorage() {\r\n\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\r\n\tfunction resetWidth() {\r\n\r\n\t\tvar root = _this.getRoot();\r\n\t\troot.width += 1;\r\n\t\tCommon.defer( function () {\r\n\r\n\t\t\troot.width -= 1;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tif ( ! params.parent ) {\r\n\r\n\t\tresetWidth();\r\n\r\n\t}\r\n\r\n};\r\nGUI.toggleHide = function () {\r\n\r\n\thide = ! hide;\r\n\tCommon.each( hideableGuis, function ( gui ) {\r\n\r\n\t\tgui.domElement.style.display = hide ? 'none' : '';\r\n\r\n\t} );\r\n\r\n};\r\nGUI.CLASS_AUTO_PLACE = 'a';\r\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\r\nGUI.CLASS_MAIN = 'main';\r\nGUI.CLASS_CONTROLLER_ROW = 'cr';\r\nGUI.CLASS_TOO_TALL = 'taller-than-window';\r\nGUI.CLASS_CLOSED = 'closed';\r\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\r\nGUI.CLASS_CLOSE_TOP = 'close-top';\r\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\r\nGUI.CLASS_DRAG = 'drag';\r\nGUI.DEFAULT_WIDTH = 245;\r\nGUI.TEXT_CLOSED = 'Close Controls';\r\nGUI.TEXT_OPEN = 'Open Controls';\r\nGUI._keydownHandler = function ( e ) {\r\n\r\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\r\n\r\n\t\tGUI.toggleHide();\r\n\r\n\t}\r\n\r\n};\r\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\r\nCommon.extend( GUI.prototype,\r\n\t{\r\n\t\tadd: function add( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\taddColor: function addColor( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tcolor: true\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tremove: function remove( controller ) {\r\n\r\n\t\t\tthis.__ul.removeChild( controller.__li );\r\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdestroy: function destroy() {\r\n\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\t_this.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\r\n\t\t\tremoveListeners( this );\r\n\r\n\t\t},\r\n\t\taddFolder: function addFolder( name ) {\r\n\r\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\r\n\r\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\r\n\r\n\t\t\t}\r\n\t\t\tvar newGuiParams = { name: name, parent: this };\r\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ name ] ) {\r\n\r\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\r\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\r\n\r\n\t\t\t}\r\n\t\t\tvar gui = new GUI( newGuiParams );\r\n\t\t\tthis.__folders[ name ] = gui;\r\n\t\t\tvar li = addRow( this, gui.domElement );\r\n\t\t\tdom.addClass( li, 'folder' );\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tremoveFolder: function removeFolder( folder ) {\r\n\r\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\r\n\t\t\tdelete this.__folders[ folder.name ];\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ folder.name ] ) {\r\n\r\n\t\t\t\tdelete this.load.folders[ folder.name ];\r\n\r\n\t\t\t}\r\n\t\t\tremoveListeners( folder );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\tfolder.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\topen: function open() {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t},\r\n\t\tclose: function close() {\r\n\r\n\t\t\tthis.closed = true;\r\n\r\n\t\t},\r\n\t\thide: function hide() {\r\n\r\n\t\t\tthis.domElement.style.display = 'none';\r\n\r\n\t\t},\r\n\t\tshow: function show() {\r\n\r\n\t\t\tthis.domElement.style.display = '';\r\n\r\n\t\t},\r\n\t\tonResize: function onResize() {\r\n\r\n\t\t\tvar root = this.getRoot();\r\n\t\t\tif ( root.scrollable ) {\r\n\r\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\r\n\t\t\t\tvar h = 0;\r\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\r\n\r\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\r\n\r\n\t\t\t\t\t\th += dom.getHeight( node );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\r\n\r\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = 'auto';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__resize_handle ) {\r\n\r\n\t\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__closeButton ) {\r\n\r\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonResizeDebounced: Common.debounce( function () {\r\n\r\n\t\t\tthis.onResize();\r\n\r\n\t\t}, 50 ),\r\n\t\tremember: function remember() {\r\n\r\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\r\n\r\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\r\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\r\n\r\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\r\n\r\n\t\t\t\t\taddSaveMenu( _this );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\r\n\r\n\t\t\t\t\t_this.__rememberedObjects.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tsetWidth( this, this.width );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tgetRoot: function getRoot() {\r\n\r\n\t\t\tvar gui = this;\r\n\t\t\twhile ( gui.parent ) {\r\n\r\n\t\t\t\tgui = gui.parent;\r\n\r\n\t\t\t}\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tgetSaveObject: function getSaveObject() {\r\n\r\n\t\t\tvar toReturn = this.load;\r\n\t\t\ttoReturn.closed = this.closed;\r\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\r\n\r\n\t\t\t\ttoReturn.preset = this.preset;\r\n\t\t\t\tif ( ! toReturn.remembered ) {\r\n\r\n\t\t\t\t\ttoReturn.remembered = {};\r\n\r\n\t\t\t\t}\r\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\r\n\r\n\t\t\t}\r\n\t\t\ttoReturn.folders = {};\r\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\r\n\r\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\r\n\r\n\t\t\t} );\r\n\t\t\treturn toReturn;\r\n\r\n\t\t},\r\n\t\tsave: function save() {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\r\n\t\t\tmarkPresetModified( this, false );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\tsaveAs: function saveAs( presetName ) {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\r\n\t\t\tthis.preset = presetName;\r\n\t\t\taddPresetOption( this, presetName, true );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\trevert: function revert( gui ) {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\r\n\r\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( controller.__onFinishChange ) {\r\n\r\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, this );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.revert( folder );\r\n\r\n\t\t\t} );\r\n\t\t\tif ( ! gui ) {\r\n\r\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tlisten: function listen( controller ) {\r\n\r\n\t\t\tvar init = this.__listening.length === 0;\r\n\t\t\tthis.__listening.push( controller );\r\n\t\t\tif ( init ) {\r\n\r\n\t\t\t\tupdateDisplays( this.__listening );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tupdateDisplay: function updateDisplay() {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tcontroller.updateDisplay();\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.updateDisplay();\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} );\r\nfunction addRow( gui, newDom, liBefore ) {\r\n\r\n\tvar li = document.createElement( 'li' );\r\n\tif ( newDom ) {\r\n\r\n\t\tli.appendChild( newDom );\r\n\r\n\t}\r\n\tif ( liBefore ) {\r\n\r\n\t\tgui.__ul.insertBefore( li, liBefore );\r\n\r\n\t} else {\r\n\r\n\t\tgui.__ul.appendChild( li );\r\n\r\n\t}\r\n\tgui.onResize();\r\n\treturn li;\r\n\r\n}\r\nfunction removeListeners( gui ) {\r\n\r\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\r\n\tif ( gui.saveToLocalStorageIfPossible ) {\r\n\r\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\r\n\r\n\t}\r\n\r\n}\r\nfunction markPresetModified( gui, modified ) {\r\n\r\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\r\n\tif ( modified ) {\r\n\r\n\t\topt.innerHTML = opt.value + '*';\r\n\r\n\t} else {\r\n\r\n\t\topt.innerHTML = opt.value;\r\n\r\n\t}\r\n\r\n}\r\nfunction augmentController( gui, li, controller ) {\r\n\r\n\tcontroller.__li = li;\r\n\tcontroller.__gui = gui;\r\n\tCommon.extend( controller, {\r\n\t\toptions: function options( _options ) {\r\n\r\n\t\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\r\n\r\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: _nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ _options ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tname: function name( _name ) {\r\n\r\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tlisten: function listen() {\r\n\r\n\t\t\tcontroller.__gui.listen( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tremove: function remove() {\r\n\r\n\t\t\tcontroller.__gui.remove( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t}\r\n\t} );\r\n\tif ( controller instanceof NumberControllerSlider ) {\r\n\r\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\r\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\r\n\r\n\t\t\tvar pc = controller[ method ];\r\n\t\t\tvar pb = box[ method ];\r\n\t\t\tcontroller[ method ] = box[ method ] = function () {\r\n\r\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\r\n\t\t\t\tpb.apply( box, args );\r\n\t\t\t\treturn pc.apply( controller, args );\r\n\r\n\t\t\t};\r\n\r\n\t\t} );\r\n\t\tdom.addClass( li, 'has-slider' );\r\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\r\n\r\n\t} else if ( controller instanceof NumberControllerBox ) {\r\n\r\n\t\tvar r = function r( returned ) {\r\n\r\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\r\n\r\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\r\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\r\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\r\n\t\t\t\t} );\r\n\t\t\t\tnewController.name( oldName );\r\n\t\t\t\tif ( wasListening ) newController.listen();\r\n\t\t\t\treturn newController;\r\n\r\n\t\t\t}\r\n\t\t\treturn returned;\r\n\r\n\t\t};\r\n\t\tcontroller.min = Common.compose( r, controller.min );\r\n\t\tcontroller.max = Common.compose( r, controller.max );\r\n\r\n\t} else if ( controller instanceof BooleanController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\r\n\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof FunctionController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseover', function () {\r\n\r\n\t\t\tdom.addClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseout', function () {\r\n\r\n\t\t\tdom.removeClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\r\n\r\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\r\n\t\t\treturn val;\r\n\r\n\t\t}, controller.updateDisplay );\r\n\t\tcontroller.updateDisplay();\r\n\r\n\t}\r\n\tcontroller.setValue = Common.compose( function ( val ) {\r\n\r\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\r\n\r\n\t\t\tmarkPresetModified( gui.getRoot(), true );\r\n\r\n\t\t}\r\n\t\treturn val;\r\n\r\n\t}, controller.setValue );\r\n\r\n}\r\nfunction recallSavedValue( gui, controller ) {\r\n\r\n\tvar root = gui.getRoot();\r\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\r\n\tif ( matchedIndex !== - 1 ) {\r\n\r\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\r\n\t\tif ( controllerMap === undefined ) {\r\n\r\n\t\t\tcontrollerMap = {};\r\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\r\n\r\n\t\t}\r\n\t\tcontrollerMap[ controller.property ] = controller;\r\n\t\tif ( root.load && root.load.remembered ) {\r\n\r\n\t\t\tvar presetMap = root.load.remembered;\r\n\t\t\tvar preset = void 0;\r\n\t\t\tif ( presetMap[ gui.preset ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ gui.preset ];\r\n\r\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\r\n\r\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\r\n\t\t\t\tcontroller.initialValue = value;\r\n\t\t\t\tcontroller.setValue( value );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction _add( gui, object, property, params ) {\r\n\r\n\tif ( object[ property ] === undefined ) {\r\n\r\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\r\n\r\n\t}\r\n\tvar controller = void 0;\r\n\tif ( params.color ) {\r\n\r\n\t\tcontroller = new ColorController( object, property );\r\n\r\n\t} else {\r\n\r\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\r\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\r\n\r\n\t}\r\n\tif ( params.before instanceof Controller ) {\r\n\r\n\t\tparams.before = params.before.__li;\r\n\r\n\t}\r\n\trecallSavedValue( gui, controller );\r\n\tdom.addClass( controller.domElement, 'c' );\r\n\tvar name = document.createElement( 'span' );\r\n\tdom.addClass( name, 'property-name' );\r\n\tname.innerHTML = controller.property;\r\n\tvar container = document.createElement( 'div' );\r\n\tcontainer.appendChild( name );\r\n\tcontainer.appendChild( controller.domElement );\r\n\tvar li = addRow( gui, container, params.before );\r\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\r\n\tif ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\r\n\t} else {\r\n\r\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\r\n\r\n\t}\r\n\taugmentController( gui, li, controller );\r\n\tgui.__controllers.push( controller );\r\n\treturn controller;\r\n\r\n}\r\nfunction getLocalStorageHash( gui, key ) {\r\n\r\n\treturn document.location.href + '.' + key;\r\n\r\n}\r\nfunction addPresetOption( gui, name, setSelected ) {\r\n\r\n\tvar opt = document.createElement( 'option' );\r\n\topt.innerHTML = name;\r\n\topt.value = name;\r\n\tgui.__preset_select.appendChild( opt );\r\n\tif ( setSelected ) {\r\n\r\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\r\n\r\n\t}\r\n\r\n}\r\nfunction showHideExplain( gui, explain ) {\r\n\r\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\r\n\r\n}\r\nfunction addSaveMenu( gui ) {\r\n\r\n\tvar div = gui.__save_row = document.createElement( 'li' );\r\n\tdom.addClass( gui.domElement, 'has-save' );\r\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\r\n\tdom.addClass( div, 'save-row' );\r\n\tvar gears = document.createElement( 'span' );\r\n\tgears.innerHTML = '&nbsp;';\r\n\tdom.addClass( gears, 'button gears' );\r\n\tvar button = document.createElement( 'span' );\r\n\tbutton.innerHTML = 'Save';\r\n\tdom.addClass( button, 'button' );\r\n\tdom.addClass( button, 'save' );\r\n\tvar button2 = document.createElement( 'span' );\r\n\tbutton2.innerHTML = 'New';\r\n\tdom.addClass( button2, 'button' );\r\n\tdom.addClass( button2, 'save-as' );\r\n\tvar button3 = document.createElement( 'span' );\r\n\tbutton3.innerHTML = 'Revert';\r\n\tdom.addClass( button3, 'button' );\r\n\tdom.addClass( button3, 'revert' );\r\n\tvar select = gui.__preset_select = document.createElement( 'select' );\r\n\tif ( gui.load && gui.load.remembered ) {\r\n\r\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\r\n\r\n\t\t\taddPresetOption( gui, key, key === gui.preset );\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\r\n\r\n\t}\r\n\tdom.bind( select, 'change', function () {\r\n\r\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\r\n\r\n\t\t}\r\n\t\tgui.preset = this.value;\r\n\r\n\t} );\r\n\tdiv.appendChild( select );\r\n\tdiv.appendChild( gears );\r\n\tdiv.appendChild( button );\r\n\tdiv.appendChild( button2 );\r\n\tdiv.appendChild( button3 );\r\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\r\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\r\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\r\n\t\tsaveLocally.style.display = 'block';\r\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\r\n\r\n\t\t}\r\n\t\tshowHideExplain( gui, explain );\r\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\r\n\r\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\r\n\t\t\tshowHideExplain( gui, explain );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\r\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\r\n\r\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\r\n\r\n\t\t\tSAVE_DIALOGUE.hide();\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( gears, 'click', function () {\r\n\r\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\r\n\t\tSAVE_DIALOGUE.show();\r\n\t\tnewConstructorTextArea.focus();\r\n\t\tnewConstructorTextArea.select();\r\n\r\n\t} );\r\n\tdom.bind( button, 'click', function () {\r\n\r\n\t\tgui.save();\r\n\r\n\t} );\r\n\tdom.bind( button2, 'click', function () {\r\n\r\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\r\n\t\tif ( presetName ) {\r\n\r\n\t\t\tgui.saveAs( presetName );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( button3, 'click', function () {\r\n\r\n\t\tgui.revert();\r\n\r\n\t} );\r\n\r\n}\r\nfunction addResizeHandle( gui ) {\r\n\r\n\tvar pmouseX = void 0;\r\n\tgui.__resize_handle = document.createElement( 'div' );\r\n\tCommon.extend( gui.__resize_handle.style, {\r\n\t\twidth: '6px',\r\n\t\tmarginLeft: '-3px',\r\n\t\theight: '200px',\r\n\t\tcursor: 'ew-resize',\r\n\t\tposition: 'absolute'\r\n\t} );\r\n\tfunction drag( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tgui.width += pmouseX - e.clientX;\r\n\t\tgui.onResize();\r\n\t\tpmouseX = e.clientX;\r\n\t\treturn false;\r\n\r\n\t}\r\n\tfunction dragStop() {\r\n\r\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.unbind( window, 'mousemove', drag );\r\n\t\tdom.unbind( window, 'mouseup', dragStop );\r\n\r\n\t}\r\n\tfunction dragStart( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tpmouseX = e.clientX;\r\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.bind( window, 'mousemove', drag );\r\n\t\tdom.bind( window, 'mouseup', dragStop );\r\n\t\treturn false;\r\n\r\n\t}\r\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\r\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\r\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\r\n\r\n}\r\nfunction setWidth( gui, w ) {\r\n\r\n\tgui.domElement.style.width = w + 'px';\r\n\tif ( gui.__save_row && gui.autoPlace ) {\r\n\r\n\t\tgui.__save_row.style.width = w + 'px';\r\n\r\n\t}\r\n\tif ( gui.__closeButton ) {\r\n\r\n\t\tgui.__closeButton.style.width = w + 'px';\r\n\r\n\t}\r\n\r\n}\r\nfunction getCurrentPreset( gui, useInitialValues ) {\r\n\r\n\tvar toReturn = {};\r\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\r\n\r\n\t\tvar savedValues = {};\r\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\r\n\t\tCommon.each( controllerMap, function ( controller, property ) {\r\n\r\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\r\n\r\n\t\t} );\r\n\t\ttoReturn[ index ] = savedValues;\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n}\r\nfunction setPresetSelectIndex( gui ) {\r\n\r\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\r\n\r\n\t\t\tgui.__preset_select.selectedIndex = index;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction updateDisplays( controllerArray ) {\r\n\r\n\tif ( controllerArray.length !== 0 ) {\r\n\r\n\t\trequestAnimationFrame$1.call( window, function () {\r\n\r\n\t\t\tupdateDisplays( controllerArray );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tCommon.each( controllerArray, function ( c ) {\r\n\r\n\t\tc.updateDisplay();\r\n\r\n\t} );\r\n\r\n}\r\n\r\nvar color = {\r\n\tColor: Color,\r\n\tmath: ColorMath,\r\n\tinterpret: interpret\r\n};\r\nvar controllers = {\r\n\tController: Controller,\r\n\tBooleanController: BooleanController,\r\n\tOptionController: OptionController,\r\n\tStringController: StringController,\r\n\tNumberController: NumberController,\r\n\tNumberControllerBox: NumberControllerBox,\r\n\tNumberControllerSlider: NumberControllerSlider,\r\n\tFunctionController: FunctionController,\r\n\tColorController: ColorController\r\n};\r\nvar dom$1 = { dom: dom };\r\nvar gui = { GUI: GUI };\r\nvar GUI$1 = GUI;\r\nvar index = {\r\n\tcolor: color,\r\n\tcontrollers: controllers,\r\n\tdom: dom$1,\r\n\tgui: gui,\r\n\tGUI: GUI$1\r\n};\r\n\r\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\r\nexport default index;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/dat.gui.module.js","function NodeUniform( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.name = params.name;\r\n\tthis.type = params.type;\r\n\tthis.node = params.node;\r\n\tthis.needsUpdate = params.needsUpdate;\r\n\r\n}\r\n\r\nObject.defineProperties( NodeUniform.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.node.value;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.node.value = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { NodeUniform };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUniform.js","import {\r\n\tMathUtils,\r\n\tSpherical,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar FirstPersonControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) {\r\n\r\n\t\tconsole.warn( 'THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\tdomElement = document;\r\n\r\n\t}\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.movementSpeed = 1.0;\r\n\tthis.lookSpeed = 0.005;\r\n\r\n\tthis.lookVertical = true;\r\n\tthis.autoForward = false;\r\n\r\n\tthis.activeLook = true;\r\n\r\n\tthis.heightSpeed = false;\r\n\tthis.heightCoef = 1.0;\r\n\tthis.heightMin = 0.0;\r\n\tthis.heightMax = 1.0;\r\n\r\n\tthis.constrainVertical = false;\r\n\tthis.verticalMin = 0;\r\n\tthis.verticalMax = Math.PI;\r\n\r\n\tthis.mouseDragOn = false;\r\n\r\n\t// internals\r\n\r\n\tthis.autoSpeedFactor = 0.0;\r\n\r\n\tthis.mouseX = 0;\r\n\tthis.mouseY = 0;\r\n\r\n\tthis.moveForward = false;\r\n\tthis.moveBackward = false;\r\n\tthis.moveLeft = false;\r\n\tthis.moveRight = false;\r\n\r\n\tthis.viewHalfX = 0;\r\n\tthis.viewHalfY = 0;\r\n\r\n\t// private variables\r\n\r\n\tvar lat = 0;\r\n\tvar lon = 0;\r\n\r\n\tvar lookDirection = new Vector3();\r\n\tvar spherical = new Spherical();\r\n\tvar target = new Vector3();\r\n\r\n\t//\r\n\r\n\tif ( this.domElement !== document ) {\r\n\r\n\t\tthis.domElement.setAttribute( 'tabindex', - 1 );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.viewHalfX = window.innerWidth / 2;\r\n\t\t\tthis.viewHalfY = window.innerHeight / 2;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\r\n\t\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onMouseDown = function ( event ) {\r\n\r\n\t\tif ( this.domElement !== document ) {\r\n\r\n\t\t\tthis.domElement.focus();\r\n\r\n\t\t}\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = true; break;\r\n\t\t\t\tcase 2: this.moveBackward = true; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = true;\r\n\r\n\t};\r\n\r\n\tthis.onMouseUp = function ( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = false; break;\r\n\t\t\t\tcase 2: this.moveBackward = false; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = false;\r\n\r\n\t};\r\n\r\n\tthis.onMouseMove = function ( event ) {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyDown = function ( event ) {\r\n\r\n\t\t//event.preventDefault();\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = true; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = true; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = true; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = true; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = true; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = true; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyUp = function ( event ) {\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = false; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = false; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = false; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = false; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = false; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = false; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.lookAt = function ( x, y, z ) {\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\ttarget.copy( x );\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttarget.set( x, y, z );\r\n\r\n\t\t}\r\n\r\n\t\tthis.object.lookAt( target );\r\n\r\n\t\tsetOrientation( this );\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\tvar targetPosition = new Vector3();\r\n\r\n\t\treturn function update( delta ) {\r\n\r\n\t\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t\tif ( this.heightSpeed ) {\r\n\r\n\t\t\t\tvar y = MathUtils.clamp( this.object.position.y, this.heightMin, this.heightMax );\r\n\t\t\t\tvar heightDelta = y - this.heightMin;\r\n\r\n\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.autoSpeedFactor = 0.0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar actualMoveSpeed = delta * this.movementSpeed;\r\n\r\n\t\t\tif ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\r\n\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\r\n\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\r\n\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\r\n\r\n\t\t\tvar actualLookSpeed = delta * this.lookSpeed;\r\n\r\n\t\t\tif ( ! this.activeLook ) {\r\n\r\n\t\t\t\tactualLookSpeed = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar verticalLookRatio = 1;\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlon -= this.mouseX * actualLookSpeed;\r\n\t\t\tif ( this.lookVertical ) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\r\n\r\n\t\t\tlat = Math.max( - 85, Math.min( 85, lat ) );\r\n\r\n\t\t\tvar phi = MathUtils.degToRad( 90 - lat );\r\n\t\t\tvar theta = MathUtils.degToRad( lon );\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tphi = MathUtils.mapLinear( phi, 0, Math.PI, this.verticalMin, this.verticalMax );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar position = this.object.position;\r\n\r\n\t\t\ttargetPosition.setFromSphericalCoords( 1, phi, theta ).add( position );\r\n\r\n\t\t\tthis.object.lookAt( targetPosition );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\t\tthis.domElement.removeEventListener( 'mousedown', _onMouseDown, false );\r\n\t\tthis.domElement.removeEventListener( 'mousemove', _onMouseMove, false );\r\n\t\tthis.domElement.removeEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', _onKeyDown, false );\r\n\t\twindow.removeEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\t};\r\n\r\n\tvar _onMouseMove = bind( this, this.onMouseMove );\r\n\tvar _onMouseDown = bind( this, this.onMouseDown );\r\n\tvar _onMouseUp = bind( this, this.onMouseUp );\r\n\tvar _onKeyDown = bind( this, this.onKeyDown );\r\n\tvar _onKeyUp = bind( this, this.onKeyUp );\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\tthis.domElement.addEventListener( 'mousemove', _onMouseMove, false );\r\n\tthis.domElement.addEventListener( 'mousedown', _onMouseDown, false );\r\n\tthis.domElement.addEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', _onKeyDown, false );\r\n\twindow.addEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\tfunction bind( scope, fn ) {\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tfn.apply( scope, arguments );\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction setOrientation( controls ) {\r\n\r\n\t\tvar quaternion = controls.object.quaternion;\r\n\r\n\t\tlookDirection.set( 0, 0, - 1 ).applyQuaternion( quaternion );\r\n\t\tspherical.setFromVector3( lookDirection );\r\n\r\n\t\tlat = 90 - MathUtils.radToDeg( spherical.phi );\r\n\t\tlon = MathUtils.radToDeg( spherical.theta );\r\n\r\n\t}\r\n\r\n\tthis.handleResize();\r\n\r\n\tsetOrientation( this );\r\n\r\n};\r\n\r\nexport { FirstPersonControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/FirstPersonControls.js","import { Color } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction ColorNode( color, g, b ) {\r\n\r\n\tInputNode.call( this, 'c' );\r\n\r\n\tthis.value = color instanceof Color ? color : new Color( color || 0, g, b );\r\n\r\n}\r\n\r\nColorNode.prototype = Object.create( InputNode.prototype );\r\nColorNode.prototype.constructor = ColorNode;\r\nColorNode.prototype.nodeType = \"Color\";\r\n\r\nNodeUtils.addShortcuts( ColorNode.prototype, 'value', [ 'r', 'g', 'b' ] );\r\n\r\nColorNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.r + \", \" + this.g + \", \" + this.b + \" )\", type, output );\r\n\r\n};\r\n\r\nColorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.r = this.r;\r\n\t\tdata.g = this.g;\r\n\t\tdata.b = this.b;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ColorNode.js","import { Node } from '../../core/Node.js';\r\n\r\nfunction RawNode( value ) {\r\n\r\n\tNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nRawNode.prototype = Object.create( Node.prototype );\r\nRawNode.prototype.constructor = RawNode;\r\nRawNode.prototype.nodeType = \"Raw\";\r\n\r\nRawNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar data = this.value.analyzeAndFlow( builder, this.type ),\r\n\t\tcode = data.code + '\\n';\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tcode += 'gl_Position = ' + data.result + ';';\r\n\r\n\t} else {\r\n\r\n\t\tcode += 'gl_FragColor = ' + data.result + ';';\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nRawNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRawNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RawNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/RawNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction CubeTextureNode( value, uv, bias ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new ReflectNode();\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nCubeTextureNode.prototype = Object.create( InputNode.prototype );\r\nCubeTextureNode.prototype.constructor = CubeTextureNode;\r\nCubeTextureNode.prototype.nodeType = \"CubeTexture\";\r\n\r\nCubeTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 'tc' );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'samplerCube' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar cubetex = this.getTexture( builder, output );\r\n\tvar uv = this.uv.build( builder, 'v3' );\r\n\tvar bias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar code;\r\n\r\n\tif ( bias ) code = 'texCubeBias( ' + cubetex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = 'texCube( ' + cubetex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create variables temp nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CubeTextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/CubeTextureNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction FunctionCallNode( func, inputs ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.setFunction( func, inputs );\r\n\r\n}\r\n\r\nFunctionCallNode.prototype = Object.create( TempNode.prototype );\r\nFunctionCallNode.prototype.constructor = FunctionCallNode;\r\nFunctionCallNode.prototype.nodeType = \"FunctionCall\";\r\n\r\nFunctionCallNode.prototype.setFunction = function ( func, inputs ) {\r\n\r\n\tthis.value = func;\r\n\tthis.inputs = inputs || [];\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getFunction = function () {\r\n\r\n\treturn this.value;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn this.value.getType( builder );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tfunc = this.value;\r\n\r\n\tvar code = func.build( builder, output ) + '( ',\r\n\t\tparams = [];\r\n\r\n\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\tvar inpt = func.inputs[ i ],\r\n\t\t\tparam = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\tparams.push( param.build( builder, builder.getTypeByFormat( inpt.type ) ) );\r\n\r\n\t}\r\n\r\n\tcode += params.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis.inputs[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tvar func = this.value;\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t\tif ( func.inputs.length ) {\r\n\r\n\t\t\tdata.inputs = {};\r\n\r\n\t\t\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\t\t\tvar inpt = func.inputs[ i ],\r\n\t\t\t\t\tnode = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\t\t\tdata.inputs[ inpt.name ] = node.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionCallNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionCallNode.js","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tMatrix4,\r\n\tVector3,\r\n\tVector4\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Tessellates the famous Utah teapot database by Martin Newell into triangles.\r\n *\r\n * Parameters: size = 50, segments = 10, bottom = true, lid = true, body = true,\r\n *   fitLid = false, blinn = true\r\n *\r\n * size is a relative scale: I've scaled the teapot to fit vertically between -1 and 1.\r\n * Think of it as a \"radius\".\r\n * segments - number of line segments to subdivide each patch edge;\r\n *   1 is possible but gives degenerates, so two is the real minimum.\r\n * bottom - boolean, if true (default) then the bottom patches are added. Some consider\r\n *   adding the bottom heresy, so set this to \"false\" to adhere to the One True Way.\r\n * lid - to remove the lid and look inside, set to true.\r\n * body - to remove the body and leave the lid, set this and \"bottom\" to false.\r\n * fitLid - the lid is a tad small in the original. This stretches it a bit so you can't\r\n *   see the teapot's insides through the gap.\r\n * blinn - Jim Blinn scaled the original data vertically by dividing by about 1.3 to look\r\n *   nicer. If you want to see the original teapot, similar to the real-world model, set\r\n *   this to false. True by default.\r\n *   See http://en.wikipedia.org/wiki/File:Original_Utah_Teapot.jpg for the original\r\n *   real-world teapot (from http://en.wikipedia.org/wiki/Utah_teapot).\r\n *\r\n * Note that the bottom (the last four patches) is not flat - blame Frank Crow, not me.\r\n *\r\n * The teapot should normally be rendered as a double sided object, since for some\r\n * patches both sides can be seen, e.g., the gap around the lid and inside the spout.\r\n *\r\n * Segments 'n' determines the number of triangles output.\r\n *   Total triangles = 32*2*n*n - 8*n    [degenerates at the top and bottom cusps are deleted]\r\n *\r\n *   size_factor   # triangles\r\n *       1          56\r\n *       2         240\r\n *       3         552\r\n *       4         992\r\n *\r\n *      10        6320\r\n *      20       25440\r\n *      30       57360\r\n *\r\n * Code converted from my ancient SPD software, http://tog.acm.org/resources/SPD/\r\n * Created for the Udacity course \"Interactive Rendering\", http://bit.ly/ericity\r\n * Lesson: https://www.udacity.com/course/viewer#!/c-cs291/l-68866048/m-106482448\r\n * YouTube video on teapot history: https://www.youtube.com/watch?v=DxMfblPzFNc\r\n *\r\n * See https://en.wikipedia.org/wiki/Utah_teapot for the history of the teapot\r\n *\r\n */\r\n\r\nvar TeapotBufferGeometry = function ( size, segments, bottom, lid, body, fitLid, blinn ) {\r\n\r\n\t// 32 * 4 * 4 Bezier spline patches\r\n\tvar teapotPatches = [\r\n\t\t/*rim*/\r\n\t\t0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\r\n\t\t3, 16, 17, 18, 7, 19, 20, 21, 11, 22, 23, 24, 15, 25, 26, 27,\r\n\t\t18, 28, 29, 30, 21, 31, 32, 33, 24, 34, 35, 36, 27, 37, 38, 39,\r\n\t\t30, 40, 41, 0, 33, 42, 43, 4, 36, 44, 45, 8, 39, 46, 47, 12,\r\n\t\t/*body*/\r\n\t\t12, 13, 14, 15, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59,\r\n\t\t15, 25, 26, 27, 51, 60, 61, 62, 55, 63, 64, 65, 59, 66, 67, 68,\r\n\t\t27, 37, 38, 39, 62, 69, 70, 71, 65, 72, 73, 74, 68, 75, 76, 77,\r\n\t\t39, 46, 47, 12, 71, 78, 79, 48, 74, 80, 81, 52, 77, 82, 83, 56,\r\n\t\t56, 57, 58, 59, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\r\n\t\t59, 66, 67, 68, 87, 96, 97, 98, 91, 99, 100, 101, 95, 102, 103, 104,\r\n\t\t68, 75, 76, 77, 98, 105, 106, 107, 101, 108, 109, 110, 104, 111, 112, 113,\r\n\t\t77, 82, 83, 56, 107, 114, 115, 84, 110, 116, 117, 88, 113, 118, 119, 92,\r\n\t\t/*handle*/\r\n\t\t120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135,\r\n\t\t123, 136, 137, 120, 127, 138, 139, 124, 131, 140, 141, 128, 135, 142, 143, 132,\r\n\t\t132, 133, 134, 135, 144, 145, 146, 147, 148, 149, 150, 151, 68, 152, 153, 154,\r\n\t\t135, 142, 143, 132, 147, 155, 156, 144, 151, 157, 158, 148, 154, 159, 160, 68,\r\n\t\t/*spout*/\r\n\t\t161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176,\r\n\t\t164, 177, 178, 161, 168, 179, 180, 165, 172, 181, 182, 169, 176, 183, 184, 173,\r\n\t\t173, 174, 175, 176, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196,\r\n\t\t176, 183, 184, 173, 188, 197, 198, 185, 192, 199, 200, 189, 196, 201, 202, 193,\r\n\t\t/*lid*/\r\n\t\t203, 203, 203, 203, 204, 205, 206, 207, 208, 208, 208, 208, 209, 210, 211, 212,\r\n\t\t203, 203, 203, 203, 207, 213, 214, 215, 208, 208, 208, 208, 212, 216, 217, 218,\r\n\t\t203, 203, 203, 203, 215, 219, 220, 221, 208, 208, 208, 208, 218, 222, 223, 224,\r\n\t\t203, 203, 203, 203, 221, 225, 226, 204, 208, 208, 208, 208, 224, 227, 228, 209,\r\n\t\t209, 210, 211, 212, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,\r\n\t\t212, 216, 217, 218, 232, 241, 242, 243, 236, 244, 245, 246, 240, 247, 248, 249,\r\n\t\t218, 222, 223, 224, 243, 250, 251, 252, 246, 253, 254, 255, 249, 256, 257, 258,\r\n\t\t224, 227, 228, 209, 252, 259, 260, 229, 255, 261, 262, 233, 258, 263, 264, 237,\r\n\t\t/*bottom*/\r\n\t\t265, 265, 265, 265, 266, 267, 268, 269, 270, 271, 272, 273, 92, 119, 118, 113,\r\n\t\t265, 265, 265, 265, 269, 274, 275, 276, 273, 277, 278, 279, 113, 112, 111, 104,\r\n\t\t265, 265, 265, 265, 276, 280, 281, 282, 279, 283, 284, 285, 104, 103, 102, 95,\r\n\t\t265, 265, 265, 265, 282, 286, 287, 266, 285, 288, 289, 270, 95, 94, 93, 92\r\n\t];\r\n\r\n\tvar teapotVertices = [\r\n\t\t1.4, 0, 2.4,\r\n\t\t1.4, - 0.784, 2.4,\r\n\t\t0.784, - 1.4, 2.4,\r\n\t\t0, - 1.4, 2.4,\r\n\t\t1.3375, 0, 2.53125,\r\n\t\t1.3375, - 0.749, 2.53125,\r\n\t\t0.749, - 1.3375, 2.53125,\r\n\t\t0, - 1.3375, 2.53125,\r\n\t\t1.4375, 0, 2.53125,\r\n\t\t1.4375, - 0.805, 2.53125,\r\n\t\t0.805, - 1.4375, 2.53125,\r\n\t\t0, - 1.4375, 2.53125,\r\n\t\t1.5, 0, 2.4,\r\n\t\t1.5, - 0.84, 2.4,\r\n\t\t0.84, - 1.5, 2.4,\r\n\t\t0, - 1.5, 2.4,\r\n\t\t- 0.784, - 1.4, 2.4,\r\n\t\t- 1.4, - 0.784, 2.4,\r\n\t\t- 1.4, 0, 2.4,\r\n\t\t- 0.749, - 1.3375, 2.53125,\r\n\t\t- 1.3375, - 0.749, 2.53125,\r\n\t\t- 1.3375, 0, 2.53125,\r\n\t\t- 0.805, - 1.4375, 2.53125,\r\n\t\t- 1.4375, - 0.805, 2.53125,\r\n\t\t- 1.4375, 0, 2.53125,\r\n\t\t- 0.84, - 1.5, 2.4,\r\n\t\t- 1.5, - 0.84, 2.4,\r\n\t\t- 1.5, 0, 2.4,\r\n\t\t- 1.4, 0.784, 2.4,\r\n\t\t- 0.784, 1.4, 2.4,\r\n\t\t0, 1.4, 2.4,\r\n\t\t- 1.3375, 0.749, 2.53125,\r\n\t\t- 0.749, 1.3375, 2.53125,\r\n\t\t0, 1.3375, 2.53125,\r\n\t\t- 1.4375, 0.805, 2.53125,\r\n\t\t- 0.805, 1.4375, 2.53125,\r\n\t\t0, 1.4375, 2.53125,\r\n\t\t- 1.5, 0.84, 2.4,\r\n\t\t- 0.84, 1.5, 2.4,\r\n\t\t0, 1.5, 2.4,\r\n\t\t0.784, 1.4, 2.4,\r\n\t\t1.4, 0.784, 2.4,\r\n\t\t0.749, 1.3375, 2.53125,\r\n\t\t1.3375, 0.749, 2.53125,\r\n\t\t0.805, 1.4375, 2.53125,\r\n\t\t1.4375, 0.805, 2.53125,\r\n\t\t0.84, 1.5, 2.4,\r\n\t\t1.5, 0.84, 2.4,\r\n\t\t1.75, 0, 1.875,\r\n\t\t1.75, - 0.98, 1.875,\r\n\t\t0.98, - 1.75, 1.875,\r\n\t\t0, - 1.75, 1.875,\r\n\t\t2, 0, 1.35,\r\n\t\t2, - 1.12, 1.35,\r\n\t\t1.12, - 2, 1.35,\r\n\t\t0, - 2, 1.35,\r\n\t\t2, 0, 0.9,\r\n\t\t2, - 1.12, 0.9,\r\n\t\t1.12, - 2, 0.9,\r\n\t\t0, - 2, 0.9,\r\n\t\t- 0.98, - 1.75, 1.875,\r\n\t\t- 1.75, - 0.98, 1.875,\r\n\t\t- 1.75, 0, 1.875,\r\n\t\t- 1.12, - 2, 1.35,\r\n\t\t- 2, - 1.12, 1.35,\r\n\t\t- 2, 0, 1.35,\r\n\t\t- 1.12, - 2, 0.9,\r\n\t\t- 2, - 1.12, 0.9,\r\n\t\t- 2, 0, 0.9,\r\n\t\t- 1.75, 0.98, 1.875,\r\n\t\t- 0.98, 1.75, 1.875,\r\n\t\t0, 1.75, 1.875,\r\n\t\t- 2, 1.12, 1.35,\r\n\t\t- 1.12, 2, 1.35,\r\n\t\t0, 2, 1.35,\r\n\t\t- 2, 1.12, 0.9,\r\n\t\t- 1.12, 2, 0.9,\r\n\t\t0, 2, 0.9,\r\n\t\t0.98, 1.75, 1.875,\r\n\t\t1.75, 0.98, 1.875,\r\n\t\t1.12, 2, 1.35,\r\n\t\t2, 1.12, 1.35,\r\n\t\t1.12, 2, 0.9,\r\n\t\t2, 1.12, 0.9,\r\n\t\t2, 0, 0.45,\r\n\t\t2, - 1.12, 0.45,\r\n\t\t1.12, - 2, 0.45,\r\n\t\t0, - 2, 0.45,\r\n\t\t1.5, 0, 0.225,\r\n\t\t1.5, - 0.84, 0.225,\r\n\t\t0.84, - 1.5, 0.225,\r\n\t\t0, - 1.5, 0.225,\r\n\t\t1.5, 0, 0.15,\r\n\t\t1.5, - 0.84, 0.15,\r\n\t\t0.84, - 1.5, 0.15,\r\n\t\t0, - 1.5, 0.15,\r\n\t\t- 1.12, - 2, 0.45,\r\n\t\t- 2, - 1.12, 0.45,\r\n\t\t- 2, 0, 0.45,\r\n\t\t- 0.84, - 1.5, 0.225,\r\n\t\t- 1.5, - 0.84, 0.225,\r\n\t\t- 1.5, 0, 0.225,\r\n\t\t- 0.84, - 1.5, 0.15,\r\n\t\t- 1.5, - 0.84, 0.15,\r\n\t\t- 1.5, 0, 0.15,\r\n\t\t- 2, 1.12, 0.45,\r\n\t\t- 1.12, 2, 0.45,\r\n\t\t0, 2, 0.45,\r\n\t\t- 1.5, 0.84, 0.225,\r\n\t\t- 0.84, 1.5, 0.225,\r\n\t\t0, 1.5, 0.225,\r\n\t\t- 1.5, 0.84, 0.15,\r\n\t\t- 0.84, 1.5, 0.15,\r\n\t\t0, 1.5, 0.15,\r\n\t\t1.12, 2, 0.45,\r\n\t\t2, 1.12, 0.45,\r\n\t\t0.84, 1.5, 0.225,\r\n\t\t1.5, 0.84, 0.225,\r\n\t\t0.84, 1.5, 0.15,\r\n\t\t1.5, 0.84, 0.15,\r\n\t\t- 1.6, 0, 2.025,\r\n\t\t- 1.6, - 0.3, 2.025,\r\n\t\t- 1.5, - 0.3, 2.25,\r\n\t\t- 1.5, 0, 2.25,\r\n\t\t- 2.3, 0, 2.025,\r\n\t\t- 2.3, - 0.3, 2.025,\r\n\t\t- 2.5, - 0.3, 2.25,\r\n\t\t- 2.5, 0, 2.25,\r\n\t\t- 2.7, 0, 2.025,\r\n\t\t- 2.7, - 0.3, 2.025,\r\n\t\t- 3, - 0.3, 2.25,\r\n\t\t- 3, 0, 2.25,\r\n\t\t- 2.7, 0, 1.8,\r\n\t\t- 2.7, - 0.3, 1.8,\r\n\t\t- 3, - 0.3, 1.8,\r\n\t\t- 3, 0, 1.8,\r\n\t\t- 1.5, 0.3, 2.25,\r\n\t\t- 1.6, 0.3, 2.025,\r\n\t\t- 2.5, 0.3, 2.25,\r\n\t\t- 2.3, 0.3, 2.025,\r\n\t\t- 3, 0.3, 2.25,\r\n\t\t- 2.7, 0.3, 2.025,\r\n\t\t- 3, 0.3, 1.8,\r\n\t\t- 2.7, 0.3, 1.8,\r\n\t\t- 2.7, 0, 1.575,\r\n\t\t- 2.7, - 0.3, 1.575,\r\n\t\t- 3, - 0.3, 1.35,\r\n\t\t- 3, 0, 1.35,\r\n\t\t- 2.5, 0, 1.125,\r\n\t\t- 2.5, - 0.3, 1.125,\r\n\t\t- 2.65, - 0.3, 0.9375,\r\n\t\t- 2.65, 0, 0.9375,\r\n\t\t- 2, - 0.3, 0.9,\r\n\t\t- 1.9, - 0.3, 0.6,\r\n\t\t- 1.9, 0, 0.6,\r\n\t\t- 3, 0.3, 1.35,\r\n\t\t- 2.7, 0.3, 1.575,\r\n\t\t- 2.65, 0.3, 0.9375,\r\n\t\t- 2.5, 0.3, 1.125,\r\n\t\t- 1.9, 0.3, 0.6,\r\n\t\t- 2, 0.3, 0.9,\r\n\t\t1.7, 0, 1.425,\r\n\t\t1.7, - 0.66, 1.425,\r\n\t\t1.7, - 0.66, 0.6,\r\n\t\t1.7, 0, 0.6,\r\n\t\t2.6, 0, 1.425,\r\n\t\t2.6, - 0.66, 1.425,\r\n\t\t3.1, - 0.66, 0.825,\r\n\t\t3.1, 0, 0.825,\r\n\t\t2.3, 0, 2.1,\r\n\t\t2.3, - 0.25, 2.1,\r\n\t\t2.4, - 0.25, 2.025,\r\n\t\t2.4, 0, 2.025,\r\n\t\t2.7, 0, 2.4,\r\n\t\t2.7, - 0.25, 2.4,\r\n\t\t3.3, - 0.25, 2.4,\r\n\t\t3.3, 0, 2.4,\r\n\t\t1.7, 0.66, 0.6,\r\n\t\t1.7, 0.66, 1.425,\r\n\t\t3.1, 0.66, 0.825,\r\n\t\t2.6, 0.66, 1.425,\r\n\t\t2.4, 0.25, 2.025,\r\n\t\t2.3, 0.25, 2.1,\r\n\t\t3.3, 0.25, 2.4,\r\n\t\t2.7, 0.25, 2.4,\r\n\t\t2.8, 0, 2.475,\r\n\t\t2.8, - 0.25, 2.475,\r\n\t\t3.525, - 0.25, 2.49375,\r\n\t\t3.525, 0, 2.49375,\r\n\t\t2.9, 0, 2.475,\r\n\t\t2.9, - 0.15, 2.475,\r\n\t\t3.45, - 0.15, 2.5125,\r\n\t\t3.45, 0, 2.5125,\r\n\t\t2.8, 0, 2.4,\r\n\t\t2.8, - 0.15, 2.4,\r\n\t\t3.2, - 0.15, 2.4,\r\n\t\t3.2, 0, 2.4,\r\n\t\t3.525, 0.25, 2.49375,\r\n\t\t2.8, 0.25, 2.475,\r\n\t\t3.45, 0.15, 2.5125,\r\n\t\t2.9, 0.15, 2.475,\r\n\t\t3.2, 0.15, 2.4,\r\n\t\t2.8, 0.15, 2.4,\r\n\t\t0, 0, 3.15,\r\n\t\t0.8, 0, 3.15,\r\n\t\t0.8, - 0.45, 3.15,\r\n\t\t0.45, - 0.8, 3.15,\r\n\t\t0, - 0.8, 3.15,\r\n\t\t0, 0, 2.85,\r\n\t\t0.2, 0, 2.7,\r\n\t\t0.2, - 0.112, 2.7,\r\n\t\t0.112, - 0.2, 2.7,\r\n\t\t0, - 0.2, 2.7,\r\n\t\t- 0.45, - 0.8, 3.15,\r\n\t\t- 0.8, - 0.45, 3.15,\r\n\t\t- 0.8, 0, 3.15,\r\n\t\t- 0.112, - 0.2, 2.7,\r\n\t\t- 0.2, - 0.112, 2.7,\r\n\t\t- 0.2, 0, 2.7,\r\n\t\t- 0.8, 0.45, 3.15,\r\n\t\t- 0.45, 0.8, 3.15,\r\n\t\t0, 0.8, 3.15,\r\n\t\t- 0.2, 0.112, 2.7,\r\n\t\t- 0.112, 0.2, 2.7,\r\n\t\t0, 0.2, 2.7,\r\n\t\t0.45, 0.8, 3.15,\r\n\t\t0.8, 0.45, 3.15,\r\n\t\t0.112, 0.2, 2.7,\r\n\t\t0.2, 0.112, 2.7,\r\n\t\t0.4, 0, 2.55,\r\n\t\t0.4, - 0.224, 2.55,\r\n\t\t0.224, - 0.4, 2.55,\r\n\t\t0, - 0.4, 2.55,\r\n\t\t1.3, 0, 2.55,\r\n\t\t1.3, - 0.728, 2.55,\r\n\t\t0.728, - 1.3, 2.55,\r\n\t\t0, - 1.3, 2.55,\r\n\t\t1.3, 0, 2.4,\r\n\t\t1.3, - 0.728, 2.4,\r\n\t\t0.728, - 1.3, 2.4,\r\n\t\t0, - 1.3, 2.4,\r\n\t\t- 0.224, - 0.4, 2.55,\r\n\t\t- 0.4, - 0.224, 2.55,\r\n\t\t- 0.4, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.55,\r\n\t\t- 1.3, - 0.728, 2.55,\r\n\t\t- 1.3, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.4,\r\n\t\t- 1.3, - 0.728, 2.4,\r\n\t\t- 1.3, 0, 2.4,\r\n\t\t- 0.4, 0.224, 2.55,\r\n\t\t- 0.224, 0.4, 2.55,\r\n\t\t0, 0.4, 2.55,\r\n\t\t- 1.3, 0.728, 2.55,\r\n\t\t- 0.728, 1.3, 2.55,\r\n\t\t0, 1.3, 2.55,\r\n\t\t- 1.3, 0.728, 2.4,\r\n\t\t- 0.728, 1.3, 2.4,\r\n\t\t0, 1.3, 2.4,\r\n\t\t0.224, 0.4, 2.55,\r\n\t\t0.4, 0.224, 2.55,\r\n\t\t0.728, 1.3, 2.55,\r\n\t\t1.3, 0.728, 2.55,\r\n\t\t0.728, 1.3, 2.4,\r\n\t\t1.3, 0.728, 2.4,\r\n\t\t0, 0, 0,\r\n\t\t1.425, 0, 0,\r\n\t\t1.425, 0.798, 0,\r\n\t\t0.798, 1.425, 0,\r\n\t\t0, 1.425, 0,\r\n\t\t1.5, 0, 0.075,\r\n\t\t1.5, 0.84, 0.075,\r\n\t\t0.84, 1.5, 0.075,\r\n\t\t0, 1.5, 0.075,\r\n\t\t- 0.798, 1.425, 0,\r\n\t\t- 1.425, 0.798, 0,\r\n\t\t- 1.425, 0, 0,\r\n\t\t- 0.84, 1.5, 0.075,\r\n\t\t- 1.5, 0.84, 0.075,\r\n\t\t- 1.5, 0, 0.075,\r\n\t\t- 1.425, - 0.798, 0,\r\n\t\t- 0.798, - 1.425, 0,\r\n\t\t0, - 1.425, 0,\r\n\t\t- 1.5, - 0.84, 0.075,\r\n\t\t- 0.84, - 1.5, 0.075,\r\n\t\t0, - 1.5, 0.075,\r\n\t\t0.798, - 1.425, 0,\r\n\t\t1.425, - 0.798, 0,\r\n\t\t0.84, - 1.5, 0.075,\r\n\t\t1.5, - 0.84, 0.075\r\n\t];\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tsize = size || 50;\r\n\r\n\t// number of segments per patch\r\n\tsegments = segments !== undefined ? Math.max( 2, Math.floor( segments ) || 10 ) : 10;\r\n\r\n\t// which parts should be visible\r\n\tbottom = bottom === undefined ? true : bottom;\r\n\tlid = lid === undefined ? true : lid;\r\n\tbody = body === undefined ? true : body;\r\n\r\n\t// Should the lid be snug? It's not traditional, but we make it snug by default\r\n\tfitLid = fitLid === undefined ? true : fitLid;\r\n\r\n\t// Jim Blinn scaled the teapot down in size by about 1.3 for\r\n\t// some rendering tests. He liked the new proportions that he kept\r\n\t// the data in this form. The model was distributed with these new\r\n\t// proportions and became the norm. Trivia: comparing images of the\r\n\t// real teapot and the computer model, the ratio for the bowl of the\r\n\t// real teapot is more like 1.25, but since 1.3 is the traditional\r\n\t// value given, we use it here.\r\n\tvar blinnScale = 1.3;\r\n\tblinn = blinn === undefined ? true : blinn;\r\n\r\n\t// scale the size to be the real scaling factor\r\n\tvar maxHeight = 3.15 * ( blinn ? 1 : blinnScale );\r\n\r\n\tvar maxHeight2 = maxHeight / 2;\r\n\tvar trueSize = size / maxHeight2;\r\n\r\n\t// Number of elements depends on what is needed. Subtract degenerate\r\n\t// triangles at tip of bottom and lid out in advance.\r\n\tvar numTriangles = bottom ? ( 8 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += lid ? ( 16 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += body ? 40 * segments * segments : 0;\r\n\r\n\tvar indices = new Uint32Array( numTriangles * 3 );\r\n\r\n\tvar numVertices = bottom ? 4 : 0;\r\n\tnumVertices += lid ? 8 : 0;\r\n\tnumVertices += body ? 20 : 0;\r\n\tnumVertices *= ( segments + 1 ) * ( segments + 1 );\r\n\r\n\tvar vertices = new Float32Array( numVertices * 3 );\r\n\tvar normals = new Float32Array( numVertices * 3 );\r\n\tvar uvs = new Float32Array( numVertices * 2 );\r\n\r\n\t// Bezier form\r\n\tvar ms = new Matrix4();\r\n\tms.set(\r\n\t\t- 1.0, 3.0, - 3.0, 1.0,\r\n\t\t3.0, - 6.0, 3.0, 0.0,\r\n\t\t- 3.0, 3.0, 0.0, 0.0,\r\n\t\t1.0, 0.0, 0.0, 0.0 );\r\n\r\n\tvar g = [];\r\n\tvar i, r, c;\r\n\r\n\tvar sp = [];\r\n\tvar tp = [];\r\n\tvar dsp = [];\r\n\tvar dtp = [];\r\n\r\n\t// M * G * M matrix, sort of see\r\n\t// http://www.cs.helsinki.fi/group/goa/mallinnus/curves/surfaces.html\r\n\tvar mgm = [];\r\n\r\n\tvar vert = [];\r\n\tvar sdir = [];\r\n\tvar tdir = [];\r\n\r\n\tvar norm = new Vector3();\r\n\r\n\tvar tcoord;\r\n\r\n\tvar sstep, tstep;\r\n\tvar vertPerRow;\r\n\r\n\tvar s, t, sval, tval, p;\r\n\tvar dsval = 0;\r\n\tvar dtval = 0;\r\n\r\n\tvar normOut = new Vector3();\r\n\tvar v1, v2, v3, v4;\r\n\r\n\tvar gmx = new Matrix4();\r\n\tvar tmtx = new Matrix4();\r\n\r\n\tvar vsp = new Vector4();\r\n\tvar vtp = new Vector4();\r\n\tvar vdsp = new Vector4();\r\n\tvar vdtp = new Vector4();\r\n\r\n\tvar vsdir = new Vector3();\r\n\tvar vtdir = new Vector3();\r\n\r\n\tvar mst = ms.clone();\r\n\tmst.transpose();\r\n\r\n\t// internal function: test if triangle has any matching vertices;\r\n\t// if so, don't save triangle, since it won't display anything.\r\n\tvar notDegenerate = function ( vtx1, vtx2, vtx3 ) {\r\n\r\n\t\t// if any vertex matches, return false\r\n\t\treturn ! ( ( ( vertices[ vtx1 * 3 ] === vertices[ vtx2 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx2 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx2 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx1 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx2 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) );\r\n\r\n\t};\r\n\r\n\r\n\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\tmgm[ i ] = new Matrix4();\r\n\r\n\t}\r\n\r\n\tvar minPatches = body ? 0 : 20;\r\n\tvar maxPatches = bottom ? 32 : 28;\r\n\r\n\tvertPerRow = segments + 1;\r\n\r\n\tvar surfCount = 0;\r\n\r\n\tvar vertCount = 0;\r\n\tvar normCount = 0;\r\n\tvar uvCount = 0;\r\n\r\n\tvar indexCount = 0;\r\n\r\n\tfor ( var surf = minPatches; surf < maxPatches; surf ++ ) {\r\n\r\n\t\t// lid is in the middle of the data, patches 20-27,\r\n\t\t// so ignore it for this part of the loop if the lid is not desired\r\n\t\tif ( lid || ( surf < 20 || surf >= 28 ) ) {\r\n\r\n\t\t\t// get M * G * M matrix for x,y,z\r\n\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t// get control patches\r\n\t\t\t\tfor ( r = 0; r < 4; r ++ ) {\r\n\r\n\t\t\t\t\tfor ( c = 0; c < 4; c ++ ) {\r\n\r\n\t\t\t\t\t\t// transposed\r\n\t\t\t\t\t\tg[ c * 4 + r ] = teapotVertices[ teapotPatches[ surf * 16 + r * 4 + c ] * 3 + i ];\r\n\r\n\t\t\t\t\t\t// is the lid to be made larger, and is this a point on the lid\r\n\t\t\t\t\t\t// that is X or Y?\r\n\t\t\t\t\t\tif ( fitLid && ( surf >= 20 && surf < 28 ) && ( i !== 2 ) ) {\r\n\r\n\t\t\t\t\t\t\t// increase XY size by 7.7%, found empirically. I don't\r\n\t\t\t\t\t\t\t// increase Z so that the teapot will continue to fit in the\r\n\t\t\t\t\t\t\t// space -1 to 1 for Y (Y is up for the final model).\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= 1.077;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Blinn \"fixed\" the teapot by dividing Z by blinnScale, and that's the\r\n\t\t\t\t\t\t// data we now use. The original teapot is taller. Fix it:\r\n\t\t\t\t\t\tif ( ! blinn && ( i === 2 ) ) {\r\n\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= blinnScale;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgmx.set( g[ 0 ], g[ 1 ], g[ 2 ], g[ 3 ], g[ 4 ], g[ 5 ], g[ 6 ], g[ 7 ], g[ 8 ], g[ 9 ], g[ 10 ], g[ 11 ], g[ 12 ], g[ 13 ], g[ 14 ], g[ 15 ] );\r\n\r\n\t\t\t\ttmtx.multiplyMatrices( gmx, ms );\r\n\t\t\t\tmgm[ i ].multiplyMatrices( mst, tmtx );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// step along, get points, and output\r\n\t\t\tfor ( sstep = 0; sstep <= segments; sstep ++ ) {\r\n\r\n\t\t\t\ts = sstep / segments;\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep <= segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tt = tstep / segments;\r\n\r\n\t\t\t\t\t// point from basis\r\n\t\t\t\t\t// get power vectors and their derivatives\r\n\t\t\t\t\tfor ( p = 4, sval = tval = 1.0; p --; ) {\r\n\r\n\t\t\t\t\t\tsp[ p ] = sval;\r\n\t\t\t\t\t\ttp[ p ] = tval;\r\n\t\t\t\t\t\tsval *= s;\r\n\t\t\t\t\t\ttval *= t;\r\n\r\n\t\t\t\t\t\tif ( p === 3 ) {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dtp[ p ] = 0.0;\r\n\t\t\t\t\t\t\tdsval = dtval = 1.0;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dsval * ( 3 - p );\r\n\t\t\t\t\t\t\tdtp[ p ] = dtval * ( 3 - p );\r\n\t\t\t\t\t\t\tdsval *= s;\r\n\t\t\t\t\t\t\tdtval *= t;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvsp.fromArray( sp );\r\n\t\t\t\t\tvtp.fromArray( tp );\r\n\t\t\t\t\tvdsp.fromArray( dsp );\r\n\t\t\t\t\tvdtp.fromArray( dtp );\r\n\r\n\t\t\t\t\t// do for x,y,z\r\n\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\t\t// multiply power vectors times matrix to get value\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tvert[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\t// get s and t tangent vectors\r\n\t\t\t\t\t\ttcoord = vdsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tsdir[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\ttdir[ i ] = tcoord.dot( vdtp );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// find normal\r\n\t\t\t\t\tvsdir.fromArray( sdir );\r\n\t\t\t\t\tvtdir.fromArray( tdir );\r\n\t\t\t\t\tnorm.crossVectors( vtdir, vsdir );\r\n\t\t\t\t\tnorm.normalize();\r\n\r\n\t\t\t\t\t// if X and Z length is 0, at the cusp, so point the normal up or down, depending on patch number\r\n\t\t\t\t\tif ( vert[ 0 ] === 0 && vert[ 1 ] === 0 ) {\r\n\r\n\t\t\t\t\t\t// if above the middle of the teapot, normal points up, else down\r\n\t\t\t\t\t\tnormOut.set( 0, vert[ 2 ] > maxHeight2 ? 1 : - 1, 0 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// standard output: rotate on X axis\r\n\t\t\t\t\t\tnormOut.set( norm.x, norm.z, - norm.y );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// store it all\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * vert[ 0 ];\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * ( vert[ 2 ] - maxHeight2 );\r\n\t\t\t\t\tvertices[ vertCount ++ ] = - trueSize * vert[ 1 ];\r\n\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.x;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.y;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.z;\r\n\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - t;\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// save the faces\r\n\t\t\tfor ( sstep = 0; sstep < segments; sstep ++ ) {\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep < segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tv1 = surfCount * vertPerRow * vertPerRow + sstep * vertPerRow + tstep;\r\n\t\t\t\t\tv2 = v1 + 1;\r\n\t\t\t\t\tv3 = v2 + vertPerRow;\r\n\t\t\t\t\tv4 = v1 + vertPerRow;\r\n\r\n\t\t\t\t\t// Normals and UVs cannot be shared. Without clone(), you can see the consequences\r\n\t\t\t\t\t// of sharing if you call geometry.applyMatrix4( matrix ).\r\n\t\t\t\t\tif ( notDegenerate( v1, v2, v3 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v2;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( notDegenerate( v1, v3, v4 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// increment only if a surface was used\r\n\t\t\tsurfCount ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.setIndex( new BufferAttribute( indices, 1 ) );\r\n\tthis.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ) );\r\n\r\n\tthis.computeBoundingSphere();\r\n\r\n};\r\n\r\n\r\nTeapotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nTeapotBufferGeometry.prototype.constructor = TeapotBufferGeometry;\r\n\r\nexport { TeapotBufferGeometry };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/geometries/TeapotBufferGeometry.js","import {\r\n\tAdditiveBlending,\r\n\tLinearFilter,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\n\r\n/**\r\n*\r\n* Supersample Anti-Aliasing Render Pass\r\n*\r\n* This manual approach to SSAA re-renders the scene ones for each sample with camera jitter and accumulates the results.\r\n*\r\n* References: https://en.wikipedia.org/wiki/Supersampling\r\n*\r\n*/\r\n\r\nvar SSAARenderPass = function ( scene, camera, clearColor, clearAlpha ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.sampleLevel = 4; // specified as n, where the number of samples is 2^n, so sampleLevel = 4, is 2^4 samples, 16.\r\n\tthis.unbiased = true;\r\n\r\n\t// as we need to clear the buffer in this pass, clearColor must be set to something, defaults to black.\r\n\tthis.clearColor = ( clearColor !== undefined ) ? clearColor : 0x000000;\r\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\r\n\r\n\tif ( CopyShader === undefined ) console.error( \"SSAARenderPass relies on CopyShader\" );\r\n\r\n\tvar copyShader = CopyShader;\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\r\n\tthis.copyMaterial = new ShaderMaterial(\t{\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tpremultipliedAlpha: true,\r\n\t\ttransparent: true,\r\n\t\tblending: AdditiveBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\t} );\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( this.copyMaterial );\r\n\r\n};\r\n\r\nSSAARenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: SSAARenderPass,\r\n\r\n\tdispose: function () {\r\n\r\n\t\tif ( this.sampleRenderTarget ) {\r\n\r\n\t\t\tthis.sampleRenderTarget.dispose();\r\n\t\t\tthis.sampleRenderTarget = null;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tif ( this.sampleRenderTarget )\tthis.sampleRenderTarget.setSize( width, height );\r\n\r\n\t},\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tif ( ! this.sampleRenderTarget ) {\r\n\r\n\t\t\tthis.sampleRenderTarget = new WebGLRenderTarget( readBuffer.width, readBuffer.height, { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat } );\r\n\t\t\tthis.sampleRenderTarget.texture.name = \"SSAARenderPass.sample\";\r\n\r\n\t\t}\r\n\r\n\t\tvar jitterOffsets = SSAARenderPass.JitterVectors[ Math.max( 0, Math.min( this.sampleLevel, 5 ) ) ];\r\n\r\n\t\tvar autoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tvar oldClearColor = renderer.getClearColor().getHex();\r\n\t\tvar oldClearAlpha = renderer.getClearAlpha();\r\n\r\n\t\tvar baseSampleWeight = 1.0 / jitterOffsets.length;\r\n\t\tvar roundingRange = 1 / 32;\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.sampleRenderTarget.texture;\r\n\r\n\t\tvar width = readBuffer.width, height = readBuffer.height;\r\n\r\n\t\t// render the scene multiple times, each slightly jitter offset from the last and accumulate the results.\r\n\t\tfor ( var i = 0; i < jitterOffsets.length; i ++ ) {\r\n\r\n\t\t\tvar jitterOffset = jitterOffsets[ i ];\r\n\r\n\t\t\tif ( this.camera.setViewOffset ) {\r\n\r\n\t\t\t\tthis.camera.setViewOffset( width, height,\r\n\t\t\t\t\tjitterOffset[ 0 ] * 0.0625, jitterOffset[ 1 ] * 0.0625, // 0.0625 = 1 / 16\r\n\t\t\t\t\twidth, height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar sampleWeight = baseSampleWeight;\r\n\r\n\t\t\tif ( this.unbiased ) {\r\n\r\n\t\t\t\t// the theory is that equal weights for each sample lead to an accumulation of rounding errors.\r\n\t\t\t\t// The following equation varies the sampleWeight per sample so that it is uniformly distributed\r\n\t\t\t\t// across a range of values whose rounding errors cancel each other out.\r\n\r\n\t\t\t\tvar uniformCenteredDistribution = ( - 0.5 + ( i + 0.5 ) / jitterOffsets.length );\r\n\t\t\t\tsampleWeight += roundingRange * uniformCenteredDistribution;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.copyUniforms[ \"opacity\" ].value = sampleWeight;\r\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\r\n\t\t\trenderer.setRenderTarget( this.sampleRenderTarget );\r\n\t\t\trenderer.clear();\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t\trenderer.setRenderTarget( this.renderToScreen ? null : writeBuffer );\r\n\r\n\t\t\tif ( i === 0 ) {\r\n\r\n\t\t\t\trenderer.setClearColor( 0x000000, 0.0 );\r\n\t\t\t\trenderer.clear();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.camera.clearViewOffset ) this.camera.clearViewOffset();\r\n\r\n\t\trenderer.autoClear = autoClear;\r\n\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\n// These jitter vectors are specified in integers because it is easier.\r\n// I am assuming a [-8,8) integer grid, but it needs to be mapped onto [-0.5,0.5)\r\n// before being used, thus these integers need to be scaled by 1/16.\r\n//\r\n// Sample patterns reference: https://msdn.microsoft.com/en-us/library/windows/desktop/ff476218%28v=vs.85%29.aspx?f=255&MSPPError=-2147217396\r\nSSAARenderPass.JitterVectors = [\r\n\t[\r\n\t\t[ 0, 0 ]\r\n\t],\r\n\t[\r\n\t\t[ 4, 4 ], [ - 4, - 4 ]\r\n\t],\r\n\t[\r\n\t\t[ - 2, - 6 ], [ 6, - 2 ], [ - 6, 2 ], [ 2, 6 ]\r\n\t],\r\n\t[\r\n\t\t[ 1, - 3 ], [ - 1, 3 ], [ 5, 1 ], [ - 3, - 5 ],\r\n\t\t[ - 5, 5 ], [ - 7, - 1 ], [ 3, 7 ], [ 7, - 7 ]\r\n\t],\r\n\t[\r\n\t\t[ 1, 1 ], [ - 1, - 3 ], [ - 3, 2 ], [ 4, - 1 ],\r\n\t\t[ - 5, - 2 ], [ 2, 5 ], [ 5, 3 ], [ 3, - 5 ],\r\n\t\t[ - 2, 6 ], [ 0, - 7 ], [ - 4, - 6 ], [ - 6, 4 ],\r\n\t\t[ - 8, 0 ], [ 7, - 4 ], [ 6, 7 ], [ - 7, - 8 ]\r\n\t],\r\n\t[\r\n\t\t[ - 4, - 7 ], [ - 7, - 5 ], [ - 3, - 5 ], [ - 5, - 4 ],\r\n\t\t[ - 1, - 4 ], [ - 2, - 2 ], [ - 6, - 1 ], [ - 4, 0 ],\r\n\t\t[ - 7, 1 ], [ - 1, 2 ], [ - 6, 3 ], [ - 3, 3 ],\r\n\t\t[ - 7, 6 ], [ - 3, 6 ], [ - 5, 7 ], [ - 1, 7 ],\r\n\t\t[ 5, - 7 ], [ 1, - 6 ], [ 6, - 5 ], [ 4, - 4 ],\r\n\t\t[ 2, - 3 ], [ 7, - 2 ], [ 1, - 1 ], [ 4, - 1 ],\r\n\t\t[ 2, 1 ], [ 6, 2 ], [ 0, 4 ], [ 4, 4 ],\r\n\t\t[ 2, 5 ], [ 7, 5 ], [ 5, 6 ], [ 3, 7 ]\r\n\t]\r\n];\r\n\r\nexport { SSAARenderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/SSAARenderPass.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { StructNode } from '../core/StructNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FunctionCallNode } from '../core/FunctionCallNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { MathNode } from '../math/MathNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\n\r\nfunction TextureCubeUVNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value,\r\n\tthis.uv = uv;\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nTextureCubeUVNode.Nodes = ( function () {\r\n\r\n\tvar TextureCubeUVData = new StructNode(\r\n\t\t`struct TextureCubeUVData {\r\n\t\t\tvec4 tl;\r\n\t\t\tvec4 tr;\r\n\t\t\tvec4 br;\r\n\t\t\tvec4 bl;\r\n\t\t\tvec2 f;\r\n\t\t}` );\r\n\r\n\tvar cubeUV_maxMipLevel = new ConstNode( `float cubeUV_maxMipLevel 8.0`, true );\r\n\tvar cubeUV_minMipLevel = new ConstNode( `float cubeUV_minMipLevel 4.0`, true );\r\n\tvar cubeUV_maxTileSize = new ConstNode( `float cubeUV_maxTileSize 256.0`, true );\r\n\tvar cubeUV_minTileSize = new ConstNode( `float cubeUV_minTileSize 16.0`, true );\r\n\r\n\t// These shader functions convert between the UV coordinates of a single face of\r\n\t// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\r\n\t// sampling a textureCube (not generally normalized).\r\n\r\n\tvar getFace = new FunctionNode(\r\n\t\t`float getFace(vec3 direction) {\r\n\t\t\t\tvec3 absDirection = abs(direction);\r\n\t\t\t\tfloat face = -1.0;\r\n\t\t\t\tif (absDirection.x > absDirection.z) {\r\n\t\t\t\t\tif (absDirection.x > absDirection.y)\r\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (absDirection.z > absDirection.y)\r\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t}\r\n\t\t\t\treturn face;\r\n\t\t}` );\r\n\tgetFace.useKeywords = false;\r\n\r\n\tvar getUV = new FunctionNode(\r\n\t\t`vec2 getUV(vec3 direction, float face) {\r\n\t\t\t\tvec2 uv;\r\n\t\t\t\tif (face == 0.0) {\r\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\r\n\t\t\t\t} else if (face == 1.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\r\n\t\t\t\t} else if (face == 2.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\r\n\t\t\t\t} else if (face == 3.0) {\r\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\r\n\t\t\t\t} else if (face == 4.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\r\n\t\t\t\t}\r\n\t\t\t\treturn 0.5 * (uv + 1.0);\r\n\t\t}` );\r\n\tgetUV.useKeywords = false;\r\n\r\n\tvar bilinearCubeUV = new FunctionNode(\r\n\t\t`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\r\n\r\n\t\t\tfloat face = getFace(direction);\r\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\r\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\r\n\t\t\tfloat faceSize = exp2(mipInt);\r\n\r\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\r\n\r\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\r\n\t\t\tvec2 f = fract(uv);\r\n\t\t\tuv += 0.5 - f;\r\n\t\t\tif (face > 2.0) {\r\n\t\t\t\tuv.y += faceSize;\r\n\t\t\t\tface -= 3.0;\r\n\t\t\t}\r\n\t\t\tuv.x += face * faceSize;\r\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\r\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\r\n\t\t\t}\r\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\r\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\r\n\t\t\tuv *= texelSize;\r\n\r\n\t\t\tvec4 tl = texture2D(envMap, uv);\r\n\t\t\tuv.x += texelSize;\r\n\t\t\tvec4 tr = texture2D(envMap, uv);\r\n\t\t\tuv.y += texelSize;\r\n\t\t\tvec4 br = texture2D(envMap, uv);\r\n\t\t\tuv.x -= texelSize;\r\n\t\t\tvec4 bl = texture2D(envMap, uv);\r\n\r\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\r\n\t\t}`, [ TextureCubeUVData, getFace, getUV, cubeUV_maxMipLevel, cubeUV_minMipLevel, cubeUV_maxTileSize, cubeUV_minTileSize ] );\r\n\tbilinearCubeUV.useKeywords = false;\r\n\r\n\t// These defines must match with PMREMGenerator\r\n\r\n\tvar r0 = new ConstNode( `float r0 1.0`, true );\r\n\tvar v0 = new ConstNode( `float v0 0.339`, true );\r\n\tvar m0 = new ConstNode( `float m0 -2.0`, true );\r\n\tvar r1 = new ConstNode( `float r1 0.8`, true );\r\n\tvar v1 = new ConstNode( `float v1 0.276`, true );\r\n\tvar m1 = new ConstNode( `float m1 -1.0`, true );\r\n\tvar r4 = new ConstNode( `float r4 0.4`, true );\r\n\tvar v4 = new ConstNode( `float v4 0.046`, true );\r\n\tvar m4 = new ConstNode( `float m4 2.0`, true );\r\n\tvar r5 = new ConstNode( `float r5 0.305`, true );\r\n\tvar v5 = new ConstNode( `float v5 0.016`, true );\r\n\tvar m5 = new ConstNode( `float m5 3.0`, true );\r\n\tvar r6 = new ConstNode( `float r6 0.21`, true );\r\n\tvar v6 = new ConstNode( `float v6 0.0038`, true );\r\n\tvar m6 = new ConstNode( `float m6 4.0`, true );\r\n\r\n\tvar defines = [ r0, v0, m0, r1, v1, m1, r4, v4, m4, r5, v5, m5, r6, v6, m6 ];\r\n\r\n\tvar roughnessToMip = new FunctionNode(\r\n\t\t`float roughnessToMip(float roughness) {\r\n\t\t\tfloat mip = 0.0;\r\n\t\t\tif (roughness >= r1) {\r\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\r\n\t\t\t} else if (roughness >= r4) {\r\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\r\n\t\t\t} else if (roughness >= r5) {\r\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\r\n\t\t\t} else if (roughness >= r6) {\r\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\r\n\t\t\t} else {\r\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\r\n\t\t\t}\r\n\t\t\treturn mip;\r\n\t\t}`, defines );\r\n\r\n\treturn {\r\n\t\tbilinearCubeUV: bilinearCubeUV,\r\n\t\troughnessToMip: roughnessToMip,\r\n\t\tm0: m0,\r\n\t\tcubeUV_maxMipLevel: cubeUV_maxMipLevel\r\n\t};\r\n\r\n} )();\r\n\r\nTextureCubeUVNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeUVNode.prototype.constructor = TextureCubeUVNode;\r\nTextureCubeUVNode.prototype.nodeType = \"TextureCubeUV\";\r\n\r\nTextureCubeUVNode.prototype.bilinearCubeUV = function ( builder, texture, uv, mipInt ) {\r\n\r\n\tvar bilinearCubeUV = new FunctionCallNode( TextureCubeUVNode.Nodes.bilinearCubeUV, [ texture, uv, mipInt ] );\r\n\r\n\tthis.colorSpaceTL = this.colorSpaceTL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTL.input.parse( bilinearCubeUV.build( builder ) + '.tl' );\r\n\r\n\tthis.colorSpaceTR = this.colorSpaceTR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTR.input.parse( bilinearCubeUV.build( builder ) + '.tr' );\r\n\r\n\tthis.colorSpaceBL = this.colorSpaceBL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBL.input.parse( bilinearCubeUV.build( builder ) + '.bl' );\r\n\r\n\tthis.colorSpaceBR = this.colorSpaceBR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBR.input.parse( bilinearCubeUV.build( builder ) + '.br' );\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpaceTLExp = new ExpressionNode( this.colorSpaceTL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceTRExp = new ExpressionNode( this.colorSpaceTR.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBLExp = new ExpressionNode( this.colorSpaceBL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBRExp = new ExpressionNode( this.colorSpaceBR.build( builder, 'v4' ), 'v4' );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\t// --\r\n\r\n\tvar output = new ExpressionNode( `mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )`, 'v4' );\r\n\toutput.keywords[ 'cubeUV_TL' ] = this.colorSpaceTLExp;\r\n\toutput.keywords[ 'cubeUV_TR' ] = this.colorSpaceTRExp;\r\n\toutput.keywords[ 'cubeUV_BL' ] = this.colorSpaceBLExp;\r\n\toutput.keywords[ 'cubeUV_BR' ] = this.colorSpaceBRExp;\r\n\toutput.keywords[ 'cubeUV' ] = bilinearCubeUV;\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar uv = this.uv;\r\n\t\tvar bias = this.bias || builder.context.roughness;\r\n\r\n\t\tvar mipV = new FunctionCallNode( TextureCubeUVNode.Nodes.roughnessToMip, [ bias ] );\r\n\t\tvar mip = new MathNode( mipV, TextureCubeUVNode.Nodes.m0, TextureCubeUVNode.Nodes.cubeUV_maxMipLevel, MathNode.CLAMP );\r\n\t\tvar mipInt\t= new MathNode( mip, MathNode.FLOOR );\r\n\t\tvar mipF\t= new MathNode( mip, MathNode.FRACT );\r\n\r\n\t\tvar color0 = this.bilinearCubeUV( builder, this.value, uv, mipInt );\r\n\t\tvar color1 = this.bilinearCubeUV( builder, this.value, uv, new OperatorNode(\r\n\t\t\tmipInt,\r\n\t\t\tnew FloatNode( 1 ).setReadonly( true ),\r\n\t\t\tOperatorNode.ADD\r\n\t\t) );\r\n\r\n\t\tvar color1Mix = new MathNode( color0, color1, mipF, MathNode.MIX );\r\n\r\n\t\t/*\r\n\t\t// TODO: Optimize this in the future\r\n\t\tvar cond = new CondNode(\r\n\t\t\tmipF,\r\n\t\t\tnew FloatNode( 0 ).setReadonly( true ),\r\n\t\t\tCondNode.EQUAL,\r\n\t\t\tcolor0, // if\r\n\t\t\tcolor1Mix\t// else\r\n\t\t);\r\n\t\t*/\r\n\r\n\t\treturn builder.format( color1Mix.build( builder ), 'v4', output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeUVNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction TextureNode( value, uv, bias, project ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.bias = bias;\r\n\tthis.project = project !== undefined ? project : false;\r\n\r\n}\r\n\r\nTextureNode.prototype = Object.create( InputNode.prototype );\r\nTextureNode.prototype.constructor = TextureNode;\r\nTextureNode.prototype.nodeType = \"Texture\";\r\n\r\nTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 't' );\r\n\r\n};\r\n\r\nTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'sampler2D' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar tex = this.getTexture( builder, output ),\r\n\t\tuv = this.uv.build( builder, this.project ? 'v4' : 'v2' ),\r\n\t\tbias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar method, code;\r\n\r\n\tif ( this.project ) method = 'texture2DProj';\r\n\telse method = bias ? 'tex2DBias' : 'tex2D';\r\n\r\n\tif ( bias ) code = method + '( ' + tex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = method + '( ' + tex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\tif ( source.project !== undefined ) this.project = source.project;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.value ) data.value = this.value.uuid;\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.project = this.project;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/TextureNode.js","import {\r\n\tShaderMaterial,\r\n\tUniformsUtils\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\n\r\nvar TexturePass = function ( map, opacity ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tif ( CopyShader === undefined )\r\n\t\tconsole.error( \"TexturePass relies on CopyShader\" );\r\n\r\n\tvar shader = CopyShader;\r\n\r\n\tthis.map = map;\r\n\tthis.opacity = ( opacity !== undefined ) ? opacity : 1.0;\r\n\r\n\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\tthis.material = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.uniforms,\r\n\t\tvertexShader: shader.vertexShader,\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nTexturePass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: TexturePass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tthis.fsQuad.material = this.material;\r\n\r\n\t\tthis.uniforms[ \"opacity\" ].value = this.opacity;\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = this.map;\r\n\t\tthis.material.transparent = ( this.opacity < 1.0 );\r\n\r\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { TexturePass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/TexturePass.js","import { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.overrideMaterial = overrideMaterial;\r\n\r\n\tthis.clearColor = clearColor;\r\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\r\n\r\n\tthis.clear = true;\r\n\tthis.clearDepth = false;\r\n\tthis.needsSwap = false;\r\n\r\n};\r\n\r\nRenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: RenderPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tvar oldClearColor, oldClearAlpha, oldOverrideMaterial;\r\n\r\n\t\tif ( this.overrideMaterial !== undefined ) {\r\n\r\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\r\n\r\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\toldClearColor = renderer.getClearColor().getHex();\r\n\t\t\toldClearAlpha = renderer.getClearAlpha();\r\n\r\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearDepth ) {\r\n\r\n\t\t\trenderer.clearDepth();\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\r\n\r\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\r\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.overrideMaterial !== undefined ) {\r\n\r\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\r\n\r\n\t\t}\r\n\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { RenderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/RenderPass.js","import { MathUtils } from '@/components/build/three.module.js';\r\n\r\nfunction Node( type ) {\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = \"\";\r\n\r\n\tthis.type = type;\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nNode.prototype = {\r\n\r\n\tconstructor: Node,\r\n\r\n\tisNode: true,\r\n\r\n\thashProperties: undefined,\r\n\r\n\tanalyze: function ( builder, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.analyzing = true;\r\n\r\n\t\tthis.build( builder.addFlow( settings.slot, settings.cache, settings.context ), 'v4' );\r\n\r\n\t\tbuilder.clearVertexNodeCode();\r\n\t\tbuilder.clearFragmentNodeCode();\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\tbuilder.analyzing = false;\r\n\r\n\t},\r\n\r\n\tanalyzeAndFlow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tthis.analyze( builder, settings );\r\n\r\n\t\treturn this.flow( builder, output, settings );\r\n\r\n\t},\r\n\r\n\tflow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.addFlow( settings.slot, settings.cache, settings.context );\r\n\r\n\t\tvar flow = {};\r\n\t\tflow.result = this.build( builder, output );\r\n\t\tflow.code = builder.clearNodeCode();\r\n\t\tflow.extra = builder.context.extra;\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\treturn flow;\r\n\r\n\t},\r\n\r\n\tbuild: function ( builder, output, uuid ) {\r\n\r\n\t\toutput = output || this.getType( builder, output );\r\n\r\n\t\tvar data = builder.getNodeData( uuid || this );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t}\r\n\r\n\t\tif ( builder.nodes.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.nodes.push( this );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.updateFrame !== undefined && builder.updaters.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.updaters.push( this );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t},\r\n\r\n\tgenerate: function ( /* builder, output, uuid, type, ns */ ) {\r\n\r\n\t\t// This method needs to be implemented in subclasses\r\n\r\n\t},\r\n\r\n\tgetHash: function () {\r\n\r\n\t\tvar hash = '{';\r\n\t\tvar prop, obj;\r\n\r\n\t\tfor ( prop in this ) {\r\n\r\n\t\t\tobj = this[ prop ];\r\n\r\n\t\t\tif ( obj instanceof Node ) {\r\n\r\n\t\t\t\thash += '\"' + prop + '\":' + obj.getHash() + ',';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.hashProperties ) {\r\n\r\n\t\t\tfor ( var i = 0; i < this.hashProperties.length; i ++ ) {\r\n\r\n\t\t\t\tprop = this.hashProperties[ i ];\r\n\t\t\t\tobj = this[ prop ];\r\n\r\n\t\t\t\thash += '\"' + prop + '\":\"' + String( obj ) + '\",';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\thash += '\"id\":\"' + this.uuid + '\"}';\r\n\r\n\t\treturn hash;\r\n\r\n\t},\r\n\r\n\tappendDepsNode: function ( builder, data, output ) {\r\n\r\n\t\tdata.deps = ( data.deps || 0 ) + 1;\r\n\r\n\t\tvar outputLen = builder.getTypeLength( output );\r\n\r\n\t\tif ( outputLen > ( data.outputMax || 0 ) || this.getType( builder, output ) ) {\r\n\r\n\t\t\tdata.outputMax = outputLen;\r\n\t\t\tdata.output = output;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetName: function ( name ) {\r\n\r\n\t\tthis.name = name;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetName: function ( /* builder */ ) {\r\n\r\n\t\treturn this.name;\r\n\r\n\t},\r\n\r\n\tgetType: function ( builder, output ) {\r\n\r\n\t\treturn output === 'sampler2D' || output === 'samplerCube' ? output : this.type;\r\n\r\n\t},\r\n\r\n\tgetJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( ! isRootObject && meta.nodes[ this.uuid ] !== undefined ) {\r\n\r\n\t\t\treturn meta.nodes[ this.uuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tif ( source.name !== undefined ) this.name = source.name;\r\n\r\n\t\tif ( source.userData !== undefined ) this.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcreateJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tif ( typeof this.nodeType !== \"string\" ) throw new Error( \"Node does not allow serialization.\" );\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.nodeType = this.nodeType;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tif ( ! isRootObject ) {\r\n\r\n\t\t\tmeta.nodes[ this.uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\treturn this.getJSONNode( meta ) || this.createJSONNode( meta );\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/Node.js","function NodeFrame( time ) {\r\n\r\n\tthis.time = time !== undefined ? time : 0;\r\n\r\n\tthis.id = 0;\r\n\r\n}\r\n\r\nNodeFrame.prototype = {\r\n\r\n\tconstructor: NodeFrame,\r\n\r\n\tupdate: function ( delta ) {\r\n\r\n\t\t++ this.id;\r\n\r\n\t\tthis.time += delta;\r\n\t\tthis.delta = delta;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderer: function ( renderer ) {\r\n\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderTexture: function ( renderTexture ) {\r\n\r\n\t\tthis.renderTexture = renderTexture;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateNode: function ( node ) {\r\n\r\n\t\tif ( node.frameId === this.id ) return this;\r\n\r\n\t\tnode.updateFrame( this );\r\n\r\n\t\tnode.frameId = this.id;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeFrame };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeFrame.js","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = f1Eh\n// module chunks = 0","import {\r\n\tShaderMaterial,\r\n\tUniformsUtils\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar ShaderPass = function ( shader, textureID ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\r\n\r\n\tif ( shader instanceof ShaderMaterial ) {\r\n\r\n\t\tthis.uniforms = shader.uniforms;\r\n\r\n\t\tthis.material = shader;\r\n\r\n\t} else if ( shader ) {\r\n\r\n\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\t\tthis.material = new ShaderMaterial( {\r\n\r\n\t\t\tdefines: Object.assign( {}, shader.defines ),\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\tfragmentShader: shader.fragmentShader\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\r\n\r\n};\r\n\r\nShaderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: ShaderPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tif ( this.uniforms[ this.textureID ] ) {\r\n\r\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\r\n\r\n\t\t}\r\n\r\n\t\tthis.fsQuad.material = this.material;\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\r\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { ShaderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/ShaderPass.js","/**\r\n * Full-screen textured quad shader\r\n */\r\n\r\nvar CopyShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"opacity\": { value: 1.0 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float opacity;\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 texel = texture2D( tDiffuse, vUv );\",\r\n\t\t\"\tgl_FragColor = opacity * texel;\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { CopyShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/CopyShader.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction OperatorNode( a, b, op ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\tthis.op = op;\r\n\r\n}\r\n\r\nOperatorNode.ADD = '+';\r\nOperatorNode.SUB = '-';\r\nOperatorNode.MUL = '*';\r\nOperatorNode.DIV = '/';\r\n\r\nOperatorNode.prototype = Object.create( TempNode.prototype );\r\nOperatorNode.prototype.constructor = OperatorNode;\r\nOperatorNode.prototype.nodeType = \"Operator\";\r\n\r\nOperatorNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar a = this.a.getType( builder ),\r\n\t\tb = this.b.getType( builder );\r\n\r\n\tif ( builder.isTypeMatrix( a ) ) {\r\n\r\n\t\treturn 'v4';\r\n\r\n\t} else if ( builder.getTypeLength( b ) > builder.getTypeLength( a ) ) {\r\n\r\n\t\t// use the greater length vector\r\n\r\n\t\treturn b;\r\n\r\n\t}\r\n\r\n\treturn a;\r\n\r\n};\r\n\r\nOperatorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder );\r\n\r\n\tvar a = this.a.build( builder, type ),\r\n\t\tb = this.b.build( builder, type );\r\n\r\n\treturn builder.format( '( ' + a + ' ' + this.op + ' ' + b + ' )', type, output );\r\n\r\n};\r\n\r\nOperatorNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.op = source.op;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nOperatorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\t\tdata.op = this.op;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { OperatorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/OperatorNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction PositionNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || PositionNode.LOCAL;\r\n\r\n}\r\n\r\nPositionNode.LOCAL = 'local';\r\nPositionNode.WORLD = 'world';\r\nPositionNode.VIEW = 'view';\r\nPositionNode.PROJECTION = 'projection';\r\n\r\nPositionNode.prototype = Object.create( TempNode.prototype );\r\nPositionNode.prototype.constructor = PositionNode;\r\nPositionNode.prototype.nodeType = \"Position\";\r\n\r\nPositionNode.prototype.getType = function ( ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\treturn 'v4';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nPositionNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nPositionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'transformed';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.position = true;\r\n\r\n\t\t\t\tresult = 'vPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\treturn '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldPosition = true;\r\n\r\n\t\t\t\tresult = 'vWPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.VIEW:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '-mvPosition.xyz' : 'vViewPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nPositionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPositionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'position', function () {\r\n\r\n\treturn new PositionNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.WORLD );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'viewPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.VIEW );\r\n\r\n} );\r\n\r\nexport { PositionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/PositionNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction InputNode( type, params ) {\r\n\r\n\tparams = params || {};\r\n\tparams.shared = params.shared !== undefined ? params.shared : false;\r\n\r\n\tTempNode.call( this, type, params );\r\n\r\n\tthis.readonly = false;\r\n\r\n}\r\n\r\nInputNode.prototype = Object.create( TempNode.prototype );\r\nInputNode.prototype.constructor = InputNode;\r\n\r\nInputNode.prototype.setReadonly = function ( value ) {\r\n\r\n\tthis.readonly = value;\r\n\r\n\tthis.hashProperties = this.readonly ? [ \"value\" ] : undefined;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.getReadonly = function ( /* builder */ ) {\r\n\r\n\treturn this.readonly;\r\n\r\n};\r\n\r\nInputNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.readonly !== undefined ) this.readonly = source.readonly;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.createJSONNode = function ( meta ) {\r\n\r\n\tvar data = TempNode.prototype.createJSONNode.call( this, meta );\r\n\r\n\tif ( this.readonly === true ) data.readonly = this.readonly;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nInputNode.prototype.generate = function ( builder, output, uuid, type, ns, needsUpdate ) {\r\n\r\n\tuuid = builder.getUuid( uuid || this.getUuid() );\r\n\ttype = type || this.getType( builder );\r\n\r\n\tvar data = builder.getNodeData( uuid ),\r\n\t\treadonly = this.getReadonly( builder ) && this.generateReadonly !== undefined;\r\n\r\n\tif ( readonly ) {\r\n\r\n\t\treturn this.generateReadonly( builder, output, uuid, type, ns, needsUpdate );\r\n\r\n\t} else {\r\n\r\n\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\tif ( ! data.vertex ) {\r\n\r\n\t\t\t\tdata.vertex = builder.createVertexUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.vertex.name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( ! data.fragment ) {\r\n\r\n\t\t\t\tdata.fragment = builder.createFragmentUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.fragment.name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { InputNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/InputNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction MathNode( a, bOrMethod, cOrMethod, method ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\ttypeof bOrMethod !== 'string' ? this.b = bOrMethod : method = bOrMethod;\r\n\ttypeof cOrMethod !== 'string' ? this.c = cOrMethod : method = cOrMethod;\r\n\r\n\tthis.method = method;\r\n\r\n}\r\n\r\n// 1 input\r\n\r\nMathNode.RAD = 'radians';\r\nMathNode.DEG = 'degrees';\r\nMathNode.EXP = 'exp';\r\nMathNode.EXP2 = 'exp2';\r\nMathNode.LOG = 'log';\r\nMathNode.LOG2 = 'log2';\r\nMathNode.SQRT = 'sqrt';\r\nMathNode.INV_SQRT = 'inversesqrt';\r\nMathNode.FLOOR = 'floor';\r\nMathNode.CEIL = 'ceil';\r\nMathNode.NORMALIZE = 'normalize';\r\nMathNode.FRACT = 'fract';\r\nMathNode.SATURATE = 'saturate';\r\nMathNode.SIN = 'sin';\r\nMathNode.COS = 'cos';\r\nMathNode.TAN = 'tan';\r\nMathNode.ASIN = 'asin';\r\nMathNode.ACOS = 'acos';\r\nMathNode.ARCTAN = 'atan';\r\nMathNode.ABS = 'abs';\r\nMathNode.SIGN = 'sign';\r\nMathNode.LENGTH = 'length';\r\nMathNode.NEGATE = 'negate';\r\nMathNode.INVERT = 'invert';\r\n\r\n// 2 inputs\r\n\r\nMathNode.MIN = 'min';\r\nMathNode.MAX = 'max';\r\nMathNode.MOD = 'mod';\r\nMathNode.STEP = 'step';\r\nMathNode.REFLECT = 'reflect';\r\nMathNode.DISTANCE = 'distance';\r\nMathNode.DOT = 'dot';\r\nMathNode.CROSS = 'cross';\r\nMathNode.POW = 'pow';\r\n\r\n// 3 inputs\r\n\r\nMathNode.MIX = 'mix';\r\nMathNode.CLAMP = 'clamp';\r\nMathNode.REFRACT = 'refract';\r\nMathNode.SMOOTHSTEP = 'smoothstep';\r\nMathNode.FACEFORWARD = 'faceforward';\r\n\r\nMathNode.prototype = Object.create( TempNode.prototype );\r\nMathNode.prototype.constructor = MathNode;\r\nMathNode.prototype.nodeType = \"Math\";\r\nMathNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nMathNode.prototype.getNumInputs = function ( /*builder*/ ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.MIX:\r\n\t\tcase MathNode.CLAMP:\r\n\t\tcase MathNode.REFRACT:\r\n\t\tcase MathNode.SMOOTHSTEP:\r\n\t\tcase MathNode.FACEFORWARD:\r\n\r\n\t\t\treturn 3;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\t\tcase MathNode.STEP:\r\n\t\tcase MathNode.REFLECT:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\t\tcase MathNode.CROSS:\r\n\t\tcase MathNode.POW:\r\n\r\n\t\t\treturn 2;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\treturn 1;\r\n\r\n\t}\r\n\r\n};\r\n\r\nMathNode.prototype.getInputType = function ( builder ) {\r\n\r\n\tvar a = builder.getTypeLength( this.a.getType( builder ) );\r\n\tvar b = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0;\r\n\tvar c = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0;\r\n\r\n\tif ( a > b && a > c ) {\r\n\r\n\t\treturn this.a.getType( builder );\r\n\r\n\t} else if ( b > c ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.c.getType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.getType = function ( builder ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.LENGTH:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\treturn 'v3';\r\n\r\n\t}\r\n\r\n\treturn this.getInputType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar a, b, c,\r\n\t\tal = this.a ? builder.getTypeLength( this.a.getType( builder ) ) : 0,\r\n\t\tbl = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0,\r\n\t\tcl = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0,\r\n\t\tinputType = this.getInputType( builder ),\r\n\t\tnodeType = this.getType( builder );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\t// 1 input\r\n\r\n\t\tcase MathNode.NEGATE:\r\n\r\n\t\t\treturn builder.format( '( -' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\tcase MathNode.INVERT:\r\n\r\n\t\t\treturn builder.format( '( 1.0 - ' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\t\t// 2 inputs\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\ta = this.a.build( builder, 'v3' );\r\n\t\t\tb = this.b.build( builder, 'v3' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.STEP:\r\n\r\n\t\t\ta = this.a.build( builder, al === 1 ? 'f' : inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, bl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// 3 inputs\r\n\r\n\t\tcase MathNode.REFRACT:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, 'f' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIX:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, cl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// default\r\n\r\n\t\tdefault:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tif ( this.b ) b = this.b.build( builder, inputType );\r\n\t\t\tif ( this.c ) c = this.c.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\t// build function call\r\n\r\n\tvar params = [];\r\n\tparams.push( a );\r\n\tif ( b ) params.push( b );\r\n\tif ( c ) params.push( c );\r\n\r\n\tvar numInputs = this.getNumInputs( builder );\r\n\r\n\tif ( params.length !== numInputs ) {\r\n\r\n\t\tthrow Error( `Arguments not match used in \"${this.method}\". Require ${numInputs}, currently ${params.length}.` );\r\n\r\n\t}\r\n\r\n\treturn builder.format( this.method + '( ' + params.join( ', ' ) + ' )', nodeType, output );\r\n\r\n};\r\n\r\nMathNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.c = source.c;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMathNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tif ( this.b ) data.b = this.b.toJSON( meta ).uuid;\r\n\t\tif ( this.c ) data.c = this.c.toJSON( meta ).uuid;\r\n\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MathNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/MathNode.js","import {\r\n\tFrontSide,\r\n\tLessEqualDepth,\r\n\tNoColors,\r\n\tNormalBlending,\r\n\tShaderMaterial\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { ColorNode } from '../inputs/ColorNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { RawNode } from './nodes/RawNode.js';\r\n\r\nfunction NodeMaterial( vertex, fragment ) {\r\n\r\n\tShaderMaterial.call( this );\r\n\r\n\tthis.vertex = vertex || new RawNode( new PositionNode( PositionNode.PROJECTION ) );\r\n\tthis.fragment = fragment || new RawNode( new ColorNode( 0xFF0000 ) );\r\n\r\n\tthis.updaters = [];\r\n\r\n}\r\n\r\nNodeMaterial.prototype = Object.create( ShaderMaterial.prototype );\r\nNodeMaterial.prototype.constructor = NodeMaterial;\r\nNodeMaterial.prototype.type = \"NodeMaterial\";\r\n\r\nNodeMaterial.prototype.isNodeMaterial = true;\r\n\r\nObject.defineProperties( NodeMaterial.prototype, {\r\n\r\n\tproperties: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.fragment.properties;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tneedsUpdate: {\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tif ( value === true ) this.version ++;\r\n\t\t\tthis.needsCompile = value;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.needsCompile;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nNodeMaterial.prototype.onBeforeCompile = function ( shader, renderer ) {\r\n\r\n\tthis.build( { renderer: renderer } );\r\n\r\n\tshader.defines = this.defines;\r\n\tshader.uniforms = this.uniforms;\r\n\tshader.vertexShader = this.vertexShader;\r\n\tshader.fragmentShader = this.fragmentShader;\r\n\r\n\tshader.extensionDerivatives = ( this.extensions.derivatives === true );\r\n\tshader.extensionFragDepth = ( this.extensions.fragDepth === true );\r\n\tshader.extensionDrawBuffers = ( this.extensions.drawBuffers === true );\r\n\tshader.extensionShaderTextureLOD = ( this.extensions.shaderTextureLOD === true );\r\n\r\n};\r\n\r\nNodeMaterial.prototype.customProgramCacheKey = function () {\r\n\r\n\tvar hash = this.getHash();\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.getHash = function () {\r\n\r\n\tvar hash = '{';\r\n\r\n\thash += '\"vertex\":' + this.vertex.getHash() + ',';\r\n\thash += '\"fragment\":' + this.fragment.getHash();\r\n\r\n\thash += '}';\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.updateFrame = function ( frame ) {\r\n\r\n\tfor ( var i = 0; i < this.updaters.length; ++ i ) {\r\n\r\n\t\tframe.updateNode( this.updaters[ i ] );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNodeMaterial.prototype.build = function ( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tvar builder = params.builder || new NodeBuilder();\r\n\r\n\tbuilder.setMaterial( this, params.renderer );\r\n\tbuilder.build( this.vertex, this.fragment );\r\n\r\n\tthis.vertexShader = builder.getCode( 'vertex' );\r\n\tthis.fragmentShader = builder.getCode( 'fragment' );\r\n\r\n\tthis.defines = builder.defines;\r\n\tthis.uniforms = builder.uniforms;\r\n\tthis.extensions = builder.extensions;\r\n\tthis.updaters = builder.updaters;\r\n\r\n\tthis.fog = builder.requires.fog;\r\n\tthis.lights = builder.requires.lights;\r\n\r\n\tthis.transparent = builder.requires.transparent || this.blending > NormalBlending;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.copy = function ( source ) {\r\n\r\n\tvar uuid = this.uuid;\r\n\r\n\tfor ( var name in source ) {\r\n\r\n\t\tthis[ name ] = source[ name ];\r\n\r\n\t}\r\n\r\n\tthis.uuid = uuid;\r\n\r\n\tif ( source.userData !== undefined ) {\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\tif ( isRootObject ) {\r\n\r\n\t\tmeta = {\r\n\t\t\tnodes: {}\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tif ( meta && ! meta.materials ) meta.materials = {};\r\n\r\n\tif ( ! meta.materials[ this.uuid ] ) {\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\r\n\t\tmeta.materials[ data.uuid ] = data;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( this.size !== undefined ) data.size = this.size;\r\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\r\n\r\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\r\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\r\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\r\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\r\n\r\n\t\tif ( this.depthFunc !== LessEqualDepth ) data.depthFunc = this.depthFunc;\r\n\t\tif ( this.depthTest === false ) data.depthTest = this.depthTest;\r\n\t\tif ( this.depthWrite === false ) data.depthWrite = this.depthWrite;\r\n\r\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\r\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\r\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\r\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\r\n\r\n\t\tif ( this.dithering === true ) data.dithering = true;\r\n\r\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\r\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\r\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\r\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\r\n\r\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\r\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\r\n\r\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\r\n\t\tif ( this.skinning === true ) data.skinning = true;\r\n\r\n\t\tif ( this.visible === false ) data.visible = false;\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tdata.fog = this.fog;\r\n\t\tdata.lights = this.lights;\r\n\r\n\t\tdata.vertex = this.vertex.toJSON( meta ).uuid;\r\n\t\tdata.fragment = this.fragment.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\tmeta.material = this.uuid;\r\n\r\n\treturn meta;\r\n\r\n};\r\n\r\nexport { NodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/NodeMaterial.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^struct\\s*([a-z_0-9]+)\\s*{\\s*((.|\\n)*?)}/img,\r\n\tpropertiesRegexp = /\\s*(\\w*?)\\s*(\\w*?)(\\=|\\;)/img;\r\n\r\nfunction StructNode( src ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src );\r\n\r\n}\r\n\r\nStructNode.prototype = Object.create( TempNode.prototype );\r\nStructNode.prototype.constructor = StructNode;\r\nStructNode.prototype.nodeType = \"Struct\";\r\n\r\nStructNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.name );\r\n\r\n};\r\n\r\nStructNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn this.src + ';';\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + this.src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.parse = function ( src ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.inputs = [];\r\n\r\n\tvar declaration = declarationRegexp.exec( this.src );\r\n\r\n\tif ( declaration ) {\r\n\r\n\t\tvar properties = declaration[ 2 ], match;\r\n\r\n\t\twhile ( match = propertiesRegexp.exec( properties ) ) {\r\n\r\n\t\t\tthis.inputs.push( {\r\n\t\t\t\ttype: match[ 1 ],\r\n\t\t\t\tname: match[ 2 ]\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = declaration[ 1 ];\r\n\r\n\t} else {\r\n\r\n\t\tthis.name = '';\r\n\r\n\t}\r\n\r\n\tthis.type = this.name;\r\n\r\n};\r\n\r\nStructNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StructNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/StructNode.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = nErl\n// module chunks = 0","import { FunctionNode } from './FunctionNode.js';\r\n\r\nfunction ExpressionNode( src, type, keywords, extensions, includes ) {\r\n\r\n\tFunctionNode.call( this, src, includes, extensions, keywords, type );\r\n\r\n}\r\n\r\nExpressionNode.prototype = Object.create( FunctionNode.prototype );\r\nExpressionNode.prototype.constructor = ExpressionNode;\r\nExpressionNode.prototype.nodeType = \"Expression\";\r\n\r\nexport { ExpressionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ExpressionNode.js","import { Node } from './Node.js';\r\n\r\nfunction VarNode( type, value ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nVarNode.prototype = Object.create( Node.prototype );\r\nVarNode.prototype.constructor = VarNode;\r\nVarNode.prototype.nodeType = \"Var\";\r\n\r\nVarNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nVarNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar varying = builder.getVar( this.uuid, this.type );\r\n\r\n\tif ( this.value && builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tbuilder.addNodeCode( varying.name + ' = ' + this.value.build( builder, this.getType( builder ) ) + ';' );\r\n\r\n\t}\r\n\r\n\treturn builder.format( varying.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nVarNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVarNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VarNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/VarNode.js","import { Node } from './Node.js';\r\n\r\nfunction AttributeNode( name, type ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.name = name;\r\n\r\n}\r\n\r\nAttributeNode.prototype = Object.create( Node.prototype );\r\nAttributeNode.prototype.constructor = AttributeNode;\r\nAttributeNode.prototype.nodeType = \"Attribute\";\r\n\r\nAttributeNode.prototype.getAttributeType = function ( builder ) {\r\n\r\n\treturn typeof this.type === 'number' ? builder.getConstructorFromLength( this.type ) : this.type;\r\n\r\n};\r\n\r\nAttributeNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\treturn builder.getTypeByFormat( type );\r\n\r\n};\r\n\r\nAttributeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\tvar attribute = builder.getAttribute( this.name, type ),\r\n\t\tname = builder.isShader( 'vertex' ) ? this.name : attribute.varying.name;\r\n\r\n\treturn builder.format( name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nAttributeNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nAttributeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { AttributeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/AttributeNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction BoolNode( value ) {\r\n\r\n\tInputNode.call( this, 'b' );\r\n\r\n\tthis.value = Boolean( value );\r\n\r\n}\r\n\r\nBoolNode.prototype = Object.create( InputNode.prototype );\r\nBoolNode.prototype.constructor = BoolNode;\r\nBoolNode.prototype.nodeType = \"Bool\";\r\n\r\nBoolNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nBoolNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBoolNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BoolNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/BoolNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction IntNode( value ) {\r\n\r\n\tInputNode.call( this, 'i' );\r\n\r\n\tthis.value = Math.floor( value || 0 );\r\n\r\n}\r\n\r\nIntNode.prototype = Object.create( InputNode.prototype );\r\nIntNode.prototype.constructor = IntNode;\r\nIntNode.prototype.nodeType = \"Int\";\r\n\r\nIntNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nIntNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nIntNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { IntNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/IntNode.js","import { Matrix3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix3Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm3' );\r\n\r\n\tthis.value = matrix || new Matrix3();\r\n\r\n}\r\n\r\nMatrix3Node.prototype = Object.create( InputNode.prototype );\r\nMatrix3Node.prototype.constructor = Matrix3Node;\r\nMatrix3Node.prototype.nodeType = \"Matrix3\";\r\n\r\nObject.defineProperties( Matrix3Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat3( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\n\r\nMatrix3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix3Node.js","import { Matrix4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix4Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm4' );\r\n\r\n\tthis.value = matrix || new Matrix4();\r\n\r\n}\r\n\r\nMatrix4Node.prototype = Object.create( InputNode.prototype );\r\nMatrix4Node.prototype.constructor = Matrix4Node;\r\nMatrix4Node.prototype.nodeType = \"Matrix4\";\r\n\r\nObject.defineProperties( Matrix4Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix4Node.prototype.generateReadonly = function ( builder, output, uuid, type /*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat4( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\nMatrix4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix4Node.js","import { InputNode } from '../core/InputNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction ScreenNode( uv ) {\r\n\r\n\tTextureNode.call( this, undefined, uv );\r\n\r\n}\r\n\r\nScreenNode.prototype = Object.create( TextureNode.prototype );\r\nScreenNode.prototype.constructor = ScreenNode;\r\nScreenNode.prototype.nodeType = \"Screen\";\r\n\r\nScreenNode.prototype.getUnique = function () {\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nScreenNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.getUuid(), 't', 'renderTexture' );\r\n\r\n};\r\n\r\nexport { ScreenNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ScreenNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\nimport { Matrix4Node } from './Matrix4Node.js';\r\n\r\nfunction ReflectorNode( mirror ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tif ( mirror ) this.setMirror( mirror );\r\n\r\n}\r\n\r\nReflectorNode.prototype = Object.create( TempNode.prototype );\r\nReflectorNode.prototype.constructor = ReflectorNode;\r\nReflectorNode.prototype.nodeType = \"Reflector\";\r\n\r\nReflectorNode.prototype.setMirror = function ( mirror ) {\r\n\r\n\tthis.mirror = mirror;\r\n\r\n\tthis.textureMatrix = new Matrix4Node( this.mirror.material.uniforms.textureMatrix.value );\r\n\r\n\tthis.localPosition = new PositionNode( PositionNode.LOCAL );\r\n\r\n\tthis.uv = new OperatorNode( this.textureMatrix, this.localPosition, OperatorNode.MUL );\r\n\tthis.uvResult = new OperatorNode( null, this.uv, OperatorNode.ADD );\r\n\r\n\tthis.texture = new TextureNode( this.mirror.material.uniforms.tDiffuse.value, this.uv, null, true );\r\n\r\n};\r\n\r\nReflectorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.uvResult.a = this.offset;\r\n\t\tthis.texture.uv = this.offset ? this.uvResult : this.uv;\r\n\r\n\t\tif ( output === 'sampler2D' ) {\r\n\r\n\t\t\treturn this.texture.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( this.texture.build( builder, this.type ), this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectorNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.mirror = source.mirror;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nReflectorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.mirror = this.mirror.uuid;\r\n\r\n\t\tif ( this.offset ) data.offset = this.offset.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ReflectorNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction PropertyNode( object, property, type ) {\r\n\r\n\tInputNode.call( this, type );\r\n\r\n\tthis.object = object;\r\n\tthis.property = property;\r\n\r\n}\r\n\r\nPropertyNode.prototype = Object.create( InputNode.prototype );\r\nPropertyNode.prototype.constructor = PropertyNode;\r\nPropertyNode.prototype.nodeType = \"Property\";\r\n\r\nObject.defineProperties( PropertyNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.object[ this.property ] = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nPropertyNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\t\tdata.property = this.property;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PropertyNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/PropertyNode.js","import {\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tScene,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction RTTNode( width, height, input, options ) {\r\n\r\n\toptions = options || {};\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.clear = options.clear !== undefined ? options.clear : true;\r\n\r\n\tthis.renderTarget = new WebGLRenderTarget( width, height, options );\r\n\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.render = true;\r\n\r\n\tTextureNode.call( this, this.renderTarget.texture );\r\n\r\n}\r\n\r\nRTTNode.prototype = Object.create( TextureNode.prototype );\r\nRTTNode.prototype.constructor = RTTNode;\r\nRTTNode.prototype.nodeType = \"RTT\";\r\n\r\nRTTNode.prototype.build = function ( builder, output, uuid ) {\r\n\r\n\tvar rttBuilder = new NodeBuilder();\r\n\trttBuilder.nodes = builder.nodes;\r\n\trttBuilder.updaters = builder.updaters;\r\n\r\n\tthis.material.fragment.value = this.input;\r\n\tthis.material.build( { builder: rttBuilder } );\r\n\r\n\treturn TextureNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFramesaveTo = function ( frame ) {\r\n\r\n\tthis.saveTo.render = false;\r\n\r\n\tif ( this.saveTo !== this.saveToCurrent ) {\r\n\r\n\t\tif ( this.saveToMaterial ) this.saveToMaterial.dispose();\r\n\r\n\t\tvar material = new NodeMaterial();\r\n\t\tmaterial.fragment.value = this;\r\n\t\tmaterial.build();\r\n\r\n\t\tvar scene = new Scene();\r\n\r\n\t\tvar quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), material );\r\n\t\tquad.frustumCulled = false; // Avoid getting clipped\r\n\t\tscene.add( quad );\r\n\r\n\t\tthis.saveToScene = scene;\r\n\t\tthis.saveToMaterial = material;\r\n\r\n\t}\r\n\r\n\tthis.saveToCurrent = this.saveTo;\r\n\r\n\tframe.renderer.setRenderTarget( this.saveTo.renderTarget );\r\n\tif ( this.saveTo.clear ) frame.renderer.clear();\r\n\tframe.renderer.render( this.saveToScene, this.camera );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\t// from the second frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === false ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.render ) {\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = frame.renderTexture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tframe.renderer.setRenderTarget( this.renderTarget );\r\n\t\t\tif ( this.clear ) frame.renderer.clear();\r\n\t\t\tframe.renderer.render( this.scene, this.camera );\r\n\r\n\t\t}\r\n\r\n\t\t// first frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === true ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"RTTNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nRTTNode.prototype.copy = function ( source ) {\r\n\r\n\tTextureNode.prototype.copy.call( this, source );\r\n\r\n\tthis.saveTo = source.saveTo;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRTTNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = TextureNode.prototype.toJSON.call( this, meta );\r\n\r\n\t\tif ( this.saveTo ) data.saveTo = this.saveTo.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RTTNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/RTTNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nvar vertexDict = [ 'color', 'color2' ],\r\n\tfragmentDict = [ 'vColor', 'vColor2' ];\r\n\r\nfunction ColorsNode( index ) {\r\n\r\n\tTempNode.call( this, 'v4', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nColorsNode.prototype = Object.create( TempNode.prototype );\r\nColorsNode.prototype.constructor = ColorsNode;\r\nColorsNode.prototype.nodeType = \"Colors\";\r\n\r\nColorsNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.color[ this.index ] = true;\r\n\r\n\tvar result = builder.isShader( 'vertex' ) ? vertexDict[ this.index ] : fragmentDict[ this.index ];\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorsNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorsNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorsNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ColorsNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction CameraNode( scope, camera ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.setScope( scope || CameraNode.POSITION );\r\n\tthis.setCamera( camera );\r\n\r\n}\r\n\r\nCameraNode.Nodes = ( function () {\r\n\r\n\tvar depthColor = new FunctionNode( [\r\n\t\t\"float depthColor( float mNear, float mFar ) {\",\r\n\r\n\t\t\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#else\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#endif\",\r\n\r\n\t\t\"\treturn 1.0 - smoothstep( mNear, mFar, depth );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tdepthColor: depthColor\r\n\t};\r\n\r\n} )();\r\n\r\nCameraNode.POSITION = 'position';\r\nCameraNode.DEPTH = 'depth';\r\nCameraNode.TO_VERTEX = 'toVertex';\r\n\r\nCameraNode.prototype = Object.create( TempNode.prototype );\r\nCameraNode.prototype.constructor = CameraNode;\r\nCameraNode.prototype.nodeType = \"Camera\";\r\n\r\nCameraNode.prototype.setCamera = function ( camera ) {\r\n\r\n\tthis.camera = camera;\r\n\tthis.updateFrame = camera !== undefined ? this.onUpdateFrame : undefined;\r\n\r\n};\r\n\r\nCameraNode.prototype.setScope = function ( scope ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tdelete this.near;\r\n\t\t\tdelete this.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.scope = scope;\r\n\r\n\tswitch ( scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near = new FloatNode( camera ? camera.near : 1 );\r\n\t\t\tthis.far = new FloatNode( camera ? camera.far : 1200 );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nCameraNode.prototype.getUnique = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\treturn true;\r\n\r\n\t}\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nCameraNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nCameraNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\tresult = 'cameraPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar depthColor = builder.include( CameraNode.Nodes.depthColor );\r\n\r\n\t\t\tresult = depthColor + '( ' + this.near.build( builder, 'f' ) + ', ' + this.far.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\tresult = 'normalize( ' + new PositionNode( PositionNode.WORLD ).build( builder, 'v3' ) + ' - cameraPosition )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCameraNode.prototype.onUpdateFrame = function ( /* frame */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near.value = camera.near;\r\n\t\t\tthis.far.value = camera.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.setScope( source.scope );\r\n\r\n\tif ( source.camera ) {\r\n\r\n\t\tthis.setCamera( source.camera );\r\n\r\n\t}\r\n\r\n\tswitch ( source.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tthis.near.number = source.near;\r\n\t\t\tthis.far.number = source.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCameraNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t\tif ( this.camera ) data.camera = this.camera.uuid;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\t\tdata.near = this.near.value;\r\n\t\t\t\tdata.far = this.far.value;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CameraNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/CameraNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction LightNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3', { shared: false } );\r\n\r\n\tthis.scope = scope || LightNode.TOTAL;\r\n\r\n}\r\n\r\nLightNode.TOTAL = 'total';\r\n\r\nLightNode.prototype = Object.create( TempNode.prototype );\r\nLightNode.prototype.constructor = LightNode;\r\nLightNode.prototype.nodeType = \"Light\";\r\n\r\nLightNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isCache( 'light' ) ) {\r\n\r\n\t\treturn builder.format( 'reflectedLight.directDiffuse', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.LightNode is only compatible in \\\"light\\\" channel.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nLightNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLightNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LightNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/LightNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\n\r\nfunction ResolutionNode() {\r\n\r\n\tVector2Node.call( this );\r\n\r\n\tthis.size = new Vector2();\r\n\r\n}\r\n\r\nResolutionNode.prototype = Object.create( Vector2Node.prototype );\r\nResolutionNode.prototype.constructor = ResolutionNode;\r\nResolutionNode.prototype.nodeType = \"Resolution\";\r\n\r\nResolutionNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\tframe.renderer.getSize( this.size );\r\n\r\n\t\tvar pixelRatio = frame.renderer.getPixelRatio();\r\n\r\n\t\tthis.x = this.size.width * pixelRatio;\r\n\t\tthis.y = this.size.height * pixelRatio;\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"ResolutionNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nResolutionNode.prototype.copy = function ( source ) {\r\n\r\n\tVector2Node.prototype.copy.call( this, source );\r\n\r\n\tthis.renderer = source.renderer;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nResolutionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.renderer = this.renderer.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ResolutionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ResolutionNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ResolutionNode } from './ResolutionNode.js';\r\n\r\nfunction ScreenUVNode( resolution ) {\r\n\r\n\tTempNode.call( this, 'v2' );\r\n\r\n\tthis.resolution = resolution || new ResolutionNode();\r\n\r\n}\r\n\r\nScreenUVNode.prototype = Object.create( TempNode.prototype );\r\nScreenUVNode.prototype.constructor = ScreenUVNode;\r\nScreenUVNode.prototype.nodeType = \"ScreenUV\";\r\n\r\nScreenUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tresult = '( gl_FragCoord.xy / ' + this.resolution.build( builder, 'v2' ) + ')';\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ScreenUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\tresult = 'vec2( 0.0 )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nScreenUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.resolution = source.resolution;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nScreenUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.resolution = this.resolution.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ScreenUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ScreenUVNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction CondNode( a, b, op, ifNode, elseNode ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\r\n\tthis.op = op;\r\n\r\n\tthis.ifNode = ifNode;\r\n\tthis.elseNode = elseNode;\r\n\r\n}\r\n\r\nCondNode.EQUAL = '==';\r\nCondNode.NOT_EQUAL = '!=';\r\nCondNode.GREATER = '>';\r\nCondNode.GREATER_EQUAL = '>=';\r\nCondNode.LESS = '<';\r\nCondNode.LESS_EQUAL = '<=';\r\nCondNode.AND = '&&';\r\nCondNode.OR = '||';\r\n\r\nCondNode.prototype = Object.create( TempNode.prototype );\r\nCondNode.prototype.constructor = CondNode;\r\nCondNode.prototype.nodeType = \"Cond\";\r\n\r\nCondNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifType = this.ifNode.getType( builder );\r\n\t\tvar elseType = this.elseNode.getType( builder );\r\n\r\n\t\tif ( builder.getTypeLength( elseType ) > builder.getTypeLength( ifType ) ) {\r\n\r\n\t\t\treturn elseType;\r\n\r\n\t\t}\r\n\r\n\t\treturn ifType;\r\n\r\n\t}\r\n\r\n\treturn 'b';\r\n\r\n};\r\n\r\nCondNode.prototype.getCondType = function ( builder ) {\r\n\r\n\tif ( builder.getTypeLength( this.b.getType( builder ) ) > builder.getTypeLength( this.a.getType( builder ) ) ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.a.getType( builder );\r\n\r\n};\r\n\r\nCondNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tcondType = this.getCondType( builder ),\r\n\t\ta = this.a.build( builder, condType ),\r\n\t\tb = this.b.build( builder, condType ),\r\n\t\tcode;\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifCode = this.ifNode.build( builder, type ),\r\n\t\t\telseCode = this.elseNode.build( builder, type );\r\n\r\n\t\tcode = '( ' + [ a, this.op, b, '?', ifCode, ':', elseCode ].join( ' ' ) + ' )';\r\n\r\n\t} else {\r\n\r\n\t\tcode = '( ' + a + ' ' + this.op + ' ' + b + ' )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCondNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\r\n\tthis.op = source.op;\r\n\r\n\tthis.ifNode = source.ifNode;\r\n\tthis.elseNode = source.elseNode;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCondNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\r\n\t\tdata.op = this.op;\r\n\r\n\t\tif ( data.ifNode ) data.ifNode = this.ifNode.toJSON( meta ).uuid;\r\n\t\tif ( data.elseNode ) data.elseNode = this.elseNode.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CondNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/CondNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction NoiseNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nNoiseNode.prototype = Object.create( TempNode.prototype );\r\nNoiseNode.prototype.constructor = NoiseNode;\r\nNoiseNode.prototype.nodeType = \"Noise\";\r\n\r\nNoiseNode.Nodes = ( function () {\r\n\r\n\tvar snoise = new FunctionNode( [\r\n\t\t\"float snoise(vec2 co) {\",\r\n\r\n\t\t\"\treturn fract( sin( dot( co.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tsnoise: snoise\r\n\t};\r\n\r\n} )();\r\n\r\nNoiseNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( NoiseNode.Nodes.snoise );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nNoiseNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNoiseNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NoiseNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/NoiseNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction CheckerNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nCheckerNode.prototype = Object.create( TempNode.prototype );\r\nCheckerNode.prototype.constructor = CheckerNode;\r\nCheckerNode.prototype.nodeType = \"Noise\";\r\n\r\nCheckerNode.Nodes = ( function () {\r\n\r\n\t// https://github.com/mattdesl/glsl-checker/blob/master/index.glsl\r\n\r\n\tvar checker = new FunctionNode( [\r\n\t\t\"float checker( vec2 uv ) {\",\r\n\r\n\t\t\"\tfloat cx = floor( uv.x );\",\r\n\t\t\"\tfloat cy = floor( uv.y ); \",\r\n\t\t\"\tfloat result = mod( cx + cy, 2.0 );\",\r\n\r\n\t\t\"\treturn sign( result );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tchecker: checker\r\n\t};\r\n\r\n} )();\r\n\r\nCheckerNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( CheckerNode.Nodes.checker );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nCheckerNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCheckerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CheckerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/CheckerNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction BumpMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new FloatNode( 1 );\r\n\r\n\tthis.toNormalMap = false;\r\n\r\n}\r\n\r\nBumpMapNode.Nodes = ( function () {\r\n\r\n\tvar dHdxy_fwd = new FunctionNode( [\r\n\r\n\t\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\r\n\t\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\r\n\r\n\t\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\r\n\r\n\t\t\"vec2 dHdxy_fwd( sampler2D bumpMap, vec2 vUv, float bumpScale ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( vUv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( vUv );\",\r\n\r\n\t\t\"\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\",\r\n\t\t\"\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec2( dBx, dBy );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\tvar perturbNormalArb = new FunctionNode( [\r\n\r\n\t\t\"vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vN = surf_norm;\", // normalized\r\n\r\n\t\t\"\tvec3 R1 = cross( vSigmaY, vN );\",\r\n\t\t\"\tvec3 R2 = cross( vN, vSigmaX );\",\r\n\r\n\t\t\"\tfloat fDet = dot( vSigmaX, R1 );\",\r\n\r\n\t\t\"\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\",\r\n\r\n\t\t\"\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\",\r\n\r\n\t\t\"\treturn normalize( abs( fDet ) * surf_norm - vGrad );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), [ dHdxy_fwd ], { derivatives: true } );\r\n\r\n\tvar bumpToNormal = new FunctionNode( [\r\n\t\t\"vec3 bumpToNormal( sampler2D bumpMap, vec2 uv, float scale ) {\",\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( uv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( uv );\",\r\n\r\n\t\t\"\tfloat Hll = texture2D( bumpMap, uv ).x;\",\r\n\t\t\"\tfloat dBx = texture2D( bumpMap, uv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = texture2D( bumpMap, uv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec3( .5 - ( dBx * scale ), .5 - ( dBy * scale ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tdHdxy_fwd: dHdxy_fwd,\r\n\t\tperturbNormalArb: perturbNormalArb,\r\n\t\tbumpToNormal: bumpToNormal\r\n\t};\r\n\r\n} )();\r\n\r\nBumpMapNode.prototype = Object.create( TempNode.prototype );\r\nBumpMapNode.prototype.constructor = BumpMapNode;\r\nBumpMapNode.prototype.nodeType = \"BumpMap\";\r\nBumpMapNode.prototype.hashProperties = [ \"toNormalMap\" ];\r\n\r\nBumpMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tif ( this.toNormalMap ) {\r\n\r\n\t\t\tvar bumpToNormal = builder.include( BumpMapNode.Nodes.bumpToNormal );\r\n\r\n\t\t\treturn builder.format( bumpToNormal + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )', this.getType( builder ), output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar derivativeHeight = builder.include( BumpMapNode.Nodes.dHdxy_fwd ),\r\n\t\t\t\tperturbNormalArb = builder.include( BumpMapNode.Nodes.perturbNormalArb );\r\n\r\n\t\t\tthis.normal = this.normal || new NormalNode();\r\n\t\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\r\n\t\t\tvar derivativeHeightCode = derivativeHeight + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\treturn builder.format( perturbNormalArb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tderivativeHeightCode + ' )', this.getType( builder ), output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BumpMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBumpMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBumpMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BumpMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/BumpMapNode.js","import {\r\n\tBackSide\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction NormalMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new Vector2Node( 1, 1 );\r\n\r\n}\r\n\r\nNormalMapNode.Nodes = ( function () {\r\n\r\n\tvar perturbNormal2Arb = new FunctionNode(\r\n\r\n\t\t// Per-Pixel Tangent Space Normal Mapping\r\n\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\r\n\r\n\t\t`vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 map, vec2 vUv, vec2 normalScale ) {\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\r\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\r\n\t\tvec2 st0 = dFdx( vUv.st );\r\n\t\tvec2 st1 = dFdy( vUv.st );\r\n\r\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\r\n\r\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\r\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\r\n\t\tvec3 N = normalize( surf_norm );\r\n\r\n\t\tvec3 mapN = map * 2.0 - 1.0;\r\n\r\n\t\tmapN.xy *= normalScale;\r\n\r\n\t\t#ifdef DOUBLE_SIDED\r\n\r\n\t\t\t// Workaround for Adreno GPUs gl_FrontFacing bug. See #15850 and #10331\r\n\r\n\t\t\tif ( dot( cross( S, T ), N ) < 0.0 ) mapN.xy *= - 1.0;\r\n\r\n\t\t#else\r\n\r\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\r\n\r\n\t\t#endif\r\n\r\n\t\tmat3 tsn = mat3( S, T, N );\r\n\t\treturn normalize( tsn * mapN );\r\n\r\n\t}`, null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tperturbNormal2Arb: perturbNormal2Arb\r\n\t};\r\n\r\n} )();\r\n\r\nNormalMapNode.prototype = Object.create( TempNode.prototype );\r\nNormalMapNode.prototype.constructor = NormalMapNode;\r\nNormalMapNode.prototype.nodeType = \"NormalMap\";\r\n\r\nNormalMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar perturbNormal2Arb = builder.include( NormalMapNode.Nodes.perturbNormal2Arb );\r\n\r\n\t\tthis.normal = this.normal || new NormalNode();\r\n\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\t\tthis.uv = this.uv || new UVNode();\r\n\r\n\t\tvar scale = this.scale.build( builder, 'v2' );\r\n\r\n\t\tif ( builder.material.side === BackSide ) {\r\n\r\n\t\t\tscale = '-' + scale;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( perturbNormal2Arb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.value.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\tscale + ' )', this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.NormalMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNormalMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NormalMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/NormalMapNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction BypassNode( code, value ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.code = code;\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nBypassNode.prototype = Object.create( Node.prototype );\r\nBypassNode.prototype.constructor = BypassNode;\r\nBypassNode.prototype.nodeType = \"Bypass\";\r\n\r\nBypassNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.value ) {\r\n\r\n\t\treturn this.value.getType( builder );\r\n\r\n\t} else if ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn 'void';\r\n\r\n};\r\n\r\nBypassNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar code = this.code.build( builder, output ) + ';';\r\n\r\n\tbuilder.addNodeCode( code );\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\treturn this.value.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\treturn this.value ? this.value.build( builder, output ) : builder.format( '0.0', 'f', output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBypassNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.code = source.code;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBypassNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.code = this.code.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BypassNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/BypassNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nvar inputs = NodeUtils.elements;\r\n\r\nfunction JoinNode( x, y, z, w ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.x = x;\r\n\tthis.y = y;\r\n\tthis.z = z;\r\n\tthis.w = w;\r\n\r\n}\r\n\r\nJoinNode.prototype = Object.create( TempNode.prototype );\r\nJoinNode.prototype.constructor = JoinNode;\r\nJoinNode.prototype.nodeType = \"Join\";\r\n\r\nJoinNode.prototype.getNumElements = function () {\r\n\r\n\tvar i = inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this[ inputs[ i ] ] !== undefined ) {\r\n\r\n\t\t\t++ i;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Math.max( i, 2 );\r\n\r\n};\r\n\r\nJoinNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.getNumElements() );\r\n\r\n};\r\n\r\nJoinNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tlength = this.getNumElements(),\r\n\t\toutputs = [];\r\n\r\n\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\toutputs.push( elm ? elm.build( builder, 'f' ) : '0.0' );\r\n\r\n\t}\r\n\r\n\tvar code = ( length > 1 ? builder.getConstructorFromLength( length ) : '' ) + '( ' + outputs.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nJoinNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nJoinNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.inputs = {};\r\n\r\n\t\tvar length = this.getNumElements();\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\t\tif ( elm ) {\r\n\r\n\t\t\t\tdata.inputs[ inputs[ i ] ] = elm.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { JoinNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/JoinNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction SwitchNode( node, components ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.node = node;\r\n\tthis.components = components || 'x';\r\n\r\n}\r\n\r\nSwitchNode.prototype = Object.create( Node.prototype );\r\nSwitchNode.prototype.constructor = SwitchNode;\r\nSwitchNode.prototype.nodeType = \"Switch\";\r\n\r\nSwitchNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.components.length );\r\n\r\n};\r\n\r\nSwitchNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.node.getType( builder ),\r\n\t\tnode = this.node.build( builder, type ),\r\n\t\tinputLength = builder.getTypeLength( type ) - 1;\r\n\r\n\tif ( inputLength > 0 ) {\r\n\r\n\t\t// get max length\r\n\r\n\t\tvar outputLength = 0,\r\n\t\t\tcomponents = builder.colorToVectorProperties( this.components );\r\n\r\n\t\tvar i, len = components.length;\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\toutputLength = Math.max( outputLength, builder.getIndexByElement( components.charAt( i ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( outputLength > inputLength ) outputLength = inputLength;\r\n\r\n\t\t// split\r\n\r\n\t\tnode += '.';\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\tvar idx = builder.getIndexByElement( components.charAt( i ) );\r\n\r\n\t\t\tif ( idx > outputLength ) idx = outputLength;\r\n\r\n\t\t\tnode += builder.getElementByIndex( idx );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( node, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\t// join\r\n\r\n\t\treturn builder.format( node, type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSwitchNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.node = source.node;\r\n\tthis.components = source.components;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSwitchNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.node = this.node.toJSON( meta ).uuid;\r\n\t\tdata.components = this.components;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SwitchNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SwitchNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction TimerNode( scale, scope, timeScale ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.scale = scale !== undefined ? scale : 1;\r\n\tthis.scope = scope || TimerNode.GLOBAL;\r\n\r\n\tthis.timeScale = timeScale !== undefined ? timeScale : scale !== undefined;\r\n\r\n}\r\n\r\nTimerNode.GLOBAL = 'global';\r\nTimerNode.LOCAL = 'local';\r\nTimerNode.DELTA = 'delta';\r\n\r\nTimerNode.prototype = Object.create( FloatNode.prototype );\r\nTimerNode.prototype.constructor = TimerNode;\r\nTimerNode.prototype.nodeType = \"Timer\";\r\n\r\nTimerNode.prototype.getReadonly = function () {\r\n\r\n\t// never use TimerNode as readonly but aways as \"uniform\"\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nTimerNode.prototype.getUnique = function () {\r\n\r\n\t// share TimerNode \"uniform\" input if is used on more time with others TimerNode\r\n\r\n\treturn this.timeScale && ( this.scope === TimerNode.GLOBAL || this.scope === TimerNode.DELTA );\r\n\r\n};\r\n\r\nTimerNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tvar scale = this.timeScale ? this.scale : 1;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase TimerNode.LOCAL:\r\n\r\n\t\t\tthis.value += frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase TimerNode.DELTA:\r\n\r\n\t\t\tthis.value = frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value = frame.time * scale;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTimerNode.prototype.copy = function ( source ) {\r\n\r\n\tFloatNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\tthis.scale = source.scale;\r\n\r\n\tthis.timeScale = source.timeScale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTimerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\t\tdata.scale = this.scale;\r\n\r\n\t\tdata.timeScale = this.timeScale;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'time', function () {\r\n\r\n\treturn new TimerNode();\r\n\r\n} );\r\n\r\nexport { TimerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/TimerNode.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\n\r\nfunction VelocityNode( target, params ) {\r\n\r\n\tVector3Node.call( this );\r\n\r\n\tthis.params = {};\r\n\r\n\tthis.velocity = new Vector3();\r\n\r\n\tthis.setTarget( target );\r\n\tthis.setParams( params );\r\n\r\n}\r\n\r\nVelocityNode.prototype = Object.create( Vector3Node.prototype );\r\nVelocityNode.prototype.constructor = VelocityNode;\r\nVelocityNode.prototype.nodeType = \"Velocity\";\r\n\r\nVelocityNode.prototype.getReadonly = function ( /*builder*/ ) {\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nVelocityNode.prototype.setParams = function ( params ) {\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tdelete this.moment;\r\n\r\n\t\t\tdelete this.speed;\r\n\t\t\tdelete this.springVelocity;\r\n\r\n\t\t\tdelete this.lastVelocity;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.params = params || {};\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tthis.moment = new Vector3();\r\n\r\n\t\t\tthis.speed = new Vector3();\r\n\t\t\tthis.springVelocity = new Vector3();\r\n\r\n\t\t\tthis.lastVelocity = new Vector3();\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.setTarget = function ( target ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tdelete this.position;\r\n\t\tdelete this.oldPosition;\r\n\r\n\t}\r\n\r\n\tthis.target = target;\r\n\r\n\tif ( target ) {\r\n\r\n\t\tthis.position = target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.oldPosition = this.position.clone();\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrameVelocity = function ( /*frame*/ ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tthis.position = this.target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.velocity.subVectors( this.position, this.oldPosition );\r\n\t\tthis.oldPosition.copy( this.position );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tthis.updateFrameVelocity( frame );\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\t// convert to real scale: 0 at 1 values\r\n\t\t\tvar deltaFps = frame.delta * ( this.params.fps || 60 );\r\n\r\n\t\t\tvar spring = Math.pow( this.params.spring, deltaFps ),\r\n\t\t\t\tdamping = Math.pow( this.params.damping, deltaFps );\r\n\r\n\t\t\t// fix relative frame-rate\r\n\t\t\tthis.velocity.multiplyScalar( Math.exp( - this.params.damping * deltaFps ) );\r\n\r\n\t\t\t// elastic\r\n\t\t\tthis.velocity.add( this.springVelocity );\r\n\t\t\tthis.velocity.add( this.speed.multiplyScalar( damping ).multiplyScalar( 1 - spring ) );\r\n\r\n\t\t\t// speed\r\n\t\t\tthis.speed.subVectors( this.velocity, this.lastVelocity );\r\n\r\n\t\t\t// spring velocity\r\n\t\t\tthis.springVelocity.add( this.speed );\r\n\t\t\tthis.springVelocity.multiplyScalar( spring );\r\n\r\n\t\t\t// moment\r\n\t\t\tthis.moment.add( this.springVelocity );\r\n\r\n\t\t\t// damping\r\n\t\t\tthis.moment.multiplyScalar( damping );\r\n\r\n\t\t\tthis.lastVelocity.copy( this.velocity );\r\n\t\t\tthis.value.copy( this.moment );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value.copy( this.velocity );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.copy = function ( source ) {\r\n\r\n\tVector3Node.prototype.copy.call( this, source );\r\n\r\n\tif ( source.target ) this.setTarget( source.target );\r\n\r\n\tthis.setParams( source.params );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVelocityNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.target ) data.target = this.target.uuid;\r\n\r\n\t\t// clone params\r\n\t\tdata.params = JSON.parse( JSON.stringify( this.params ) );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VelocityNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/VelocityNode.js","import { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { Matrix3Node } from '../inputs/Matrix3Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction UVTransformNode( uv, position ) {\r\n\r\n\tExpressionNode.call( this, \"( uvTransform * vec3( uvNode, 1 ) ).xy\", \"vec2\" );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.position = position || new Matrix3Node();\r\n\r\n}\r\n\r\nUVTransformNode.prototype = Object.create( ExpressionNode.prototype );\r\nUVTransformNode.prototype.constructor = UVTransformNode;\r\nUVTransformNode.prototype.nodeType = \"UVTransform\";\r\n\r\nUVTransformNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tthis.keywords[ \"uvNode\" ] = this.uv;\r\n\tthis.keywords[ \"uvTransform\" ] = this.position;\r\n\r\n\treturn ExpressionNode.prototype.generate.call( this, builder, output );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.setUvTransform = function ( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\tcx = cx !== undefined ? cx : .5;\r\n\tcy = cy !== undefined ? cy : .5;\r\n\r\n\tthis.position.value.setUvTransform( tx, ty, sx, sy, rotation, cx, cy );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.copy = function ( source ) {\r\n\r\n\tExpressionNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\tthis.position = source.position;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVTransformNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { UVTransformNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/UVTransformNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\n\r\nfunction MaxMIPLevelNode( texture ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = 0;\r\n\r\n}\r\n\r\nMaxMIPLevelNode.prototype = Object.create( FloatNode.prototype );\r\nMaxMIPLevelNode.prototype.constructor = MaxMIPLevelNode;\r\nMaxMIPLevelNode.prototype.nodeType = \"MaxMIPLevel\";\r\n\r\nObject.defineProperties( MaxMIPLevelNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tif ( this.maxMIPLevel === 0 ) {\r\n\r\n\t\t\t\tvar image = this.texture.value.image;\r\n\r\n\t\t\t\tif ( Array.isArray( image ) ) image = image[ 0 ];\r\n\r\n\t\t\t\tthis.maxMIPLevel = image !== undefined ? Math.log( Math.max( image.width, image.height ) ) * Math.LOG2E : 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.maxMIPLevel;\r\n\r\n\t\t},\r\n\r\n\t\tset: function () { }\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMaxMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MaxMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { MaxMIPLevelNode } from './MaxMIPLevelNode.js';\r\n\r\nfunction SpecularMIPLevelNode( roughness, texture ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.roughness = roughness;\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = undefined;\r\n\r\n}\r\n\r\nSpecularMIPLevelNode.Nodes = ( function () {\r\n\r\n\tvar getSpecularMIPLevel = new FunctionNode( [\r\n\t\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\r\n\t\t\"float getSpecularMIPLevel( const in float roughness, const in float maxMIPLevelScalar ) {\",\r\n\r\n\t\t\"\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\",\r\n\t\t\"\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\",\r\n\r\n\t\t// clamp to allowable LOD ranges.\r\n\t\t\"\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tgetSpecularMIPLevel: getSpecularMIPLevel\r\n\t};\r\n\r\n} )();\r\n\r\nSpecularMIPLevelNode.prototype = Object.create( TempNode.prototype );\r\nSpecularMIPLevelNode.prototype.constructor = SpecularMIPLevelNode;\r\nSpecularMIPLevelNode.prototype.nodeType = \"SpecularMIPLevel\";\r\n\r\nSpecularMIPLevelNode.prototype.setTexture = function ( texture ) {\r\n\r\n\tthis.texture = texture;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.maxMIPLevel = this.maxMIPLevel || new MaxMIPLevelNode();\r\n\t\tthis.maxMIPLevel.texture = this.texture;\r\n\r\n\t\tvar getSpecularMIPLevel = builder.include( SpecularMIPLevelNode.Nodes.getSpecularMIPLevel );\r\n\r\n\t\treturn builder.format( getSpecularMIPLevel + '( ' + this.roughness.build( builder, 'f' ) + ', ' + this.maxMIPLevel.build( builder, 'f' ) + ' )', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.SpecularMIPLevelNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( '0.0', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.texture = source.texture;\r\n\tthis.roughness = source.roughness;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture;\r\n\t\tdata.roughness = this.roughness;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpecularMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\n\r\nfunction LuminanceNode( rgb ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.rgb = rgb;\r\n\r\n}\r\n\r\nLuminanceNode.Nodes = ( function () {\r\n\r\n\tvar LUMA = new ConstNode( \"vec3 LUMA vec3( 0.2125, 0.7154, 0.0721 )\" );\r\n\r\n\tvar luminance = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 10 of Graphics Shaders\r\n\t\t\"float luminance( vec3 rgb ) {\",\r\n\r\n\t\t\"\treturn dot( rgb, LUMA );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LUMA ] );\r\n\r\n\treturn {\r\n\t\tLUMA: LUMA,\r\n\t\tluminance: luminance\r\n\t};\r\n\r\n} )();\r\n\r\nLuminanceNode.prototype = Object.create( TempNode.prototype );\r\nLuminanceNode.prototype.constructor = LuminanceNode;\r\nLuminanceNode.prototype.nodeType = \"Luminance\";\r\n\r\nLuminanceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar luminance = builder.include( LuminanceNode.Nodes.luminance );\r\n\r\n\treturn builder.format( luminance + '( ' + this.rgb.build( builder, 'v3' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nLuminanceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLuminanceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LuminanceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/LuminanceNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction SubSlotNode( slots ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.slots = slots || {};\r\n\r\n}\r\n\r\nSubSlotNode.prototype = Object.create( TempNode.prototype );\r\nSubSlotNode.prototype.constructor = SubSlotNode;\r\nSubSlotNode.prototype.nodeType = \"SubSlot\";\r\n\r\nSubSlotNode.prototype.getType = function ( builder, output ) {\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( this.slots[ builder.slot ] ) {\r\n\r\n\t\treturn this.slots[ builder.slot ].build( builder, output );\r\n\r\n\t}\r\n\r\n\treturn builder.format( '0.0', 'f', output );\r\n\r\n};\r\n\r\nSubSlotNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.slots ) {\r\n\r\n\t\tthis.slots[ prop ] = source.slots[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.slots = {};\r\n\r\n\t\tfor ( var prop in this.slots ) {\r\n\r\n\t\t\tvar slot = this.slots[ prop ];\r\n\r\n\t\t\tif ( slot ) {\r\n\r\n\t\t\t\tdata.slots[ prop ] = slot.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SubSlotNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SubSlotNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction BlurNode( value, uv, radius, size ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.radius = radius || new Vector2Node( 1, 1 );\r\n\r\n\tthis.size = size;\r\n\r\n\tthis.blurX = true;\r\n\tthis.blurY = true;\r\n\r\n\tthis.horizontal = new FloatNode( 1 / 64 );\r\n\tthis.vertical = new FloatNode( 1 / 64 );\r\n\r\n}\r\n\r\nBlurNode.Nodes = ( function () {\r\n\r\n\tvar blurX = new FunctionNode( [\r\n\t\t\"vec4 blurX( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar blurY = new FunctionNode( [\r\n\t\t\"vec4 blurY( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tblurX: blurX,\r\n\t\tblurY: blurY\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nBlurNode.prototype = Object.create( TempNode.prototype );\r\nBlurNode.prototype.constructor = BlurNode;\r\nBlurNode.prototype.nodeType = \"Blur\";\r\nBlurNode.prototype.hashProperties = [ \"blurX\", \"blurY\" ];\r\n\r\nBlurNode.prototype.updateFrame = function ( /* frame */ ) {\r\n\r\n\tif ( this.size ) {\r\n\r\n\t\tthis.horizontal.value = this.radius.x / this.size.x;\r\n\t\tthis.vertical.value = this.radius.y / this.size.y;\r\n\r\n\t} else if ( this.value.value && this.value.value.image ) {\r\n\r\n\t\tvar image = this.value.value.image;\r\n\r\n\t\tthis.horizontal.value = this.radius.x / image.width;\r\n\t\tthis.vertical.value = this.radius.y / image.height;\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar blurCode = [], code;\r\n\r\n\t\tvar blurX = builder.include( BlurNode.Nodes.blurX ),\r\n\t\t\tblurY = builder.include( BlurNode.Nodes.blurY );\r\n\r\n\t\tif ( this.blurX ) {\r\n\r\n\t\t\tblurCode.push( blurX + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.horizontal.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.blurY ) {\r\n\r\n\t\t\tblurCode.push( blurY + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.vertical.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( blurCode.length == 2 ) code = '( ' + blurCode.join( ' + ' ) + ' / 2.0 )';\r\n\t\telse if ( blurCode.length ) code = '( ' + blurCode[ 0 ] + ' )';\r\n\t\telse code = 'vec4( 0.0 )';\r\n\r\n\t\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BlurNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.uv = source.uv;\r\n\tthis.radius = source.radius;\r\n\r\n\tif ( source.size !== undefined ) this.size = new Vector2( source.size.x, source.size.y );\r\n\r\n\tthis.blurX = source.blurX;\r\n\tthis.blurY = source.blurY;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBlurNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.radius = this.radius.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.size ) data.size = { x: this.size.x, y: this.size.y };\r\n\r\n\t\tdata.blurX = this.blurX;\r\n\t\tdata.blurY = this.blurY;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BlurNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/BlurNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { LuminanceNode } from './LuminanceNode.js';\r\n\r\nfunction ColorAdjustmentNode( rgb, adjustment, method ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.rgb = rgb;\r\n\tthis.adjustment = adjustment;\r\n\r\n\tthis.method = method || ColorAdjustmentNode.SATURATION;\r\n\r\n}\r\n\r\nColorAdjustmentNode.Nodes = ( function () {\r\n\r\n\tvar hue = new FunctionNode( [\r\n\t\t\"vec3 hue(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tconst mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.595716, -0.274453, -0.321263, 0.211456, -0.522591, 0.311135);\",\r\n\t\t\"\tconst mat3 YIQtoRGB = mat3(1.0, 0.9563, 0.6210, 1.0, -0.2721, -0.6474, 1.0, -1.107, 1.7046);\",\r\n\r\n\t\t\"\tvec3 yiq = RGBtoYIQ * rgb;\",\r\n\r\n\t\t\"\tfloat hue = atan(yiq.z, yiq.y) + adjustment;\",\r\n\t\t\"\tfloat chroma = sqrt(yiq.z * yiq.z + yiq.y * yiq.y);\",\r\n\r\n\t\t\"\treturn YIQtoRGB * vec3(yiq.x, chroma * cos(hue), chroma * sin(hue));\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar saturation = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 16 of OpenGL Shading Language\r\n\t\t\"vec3 saturation(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tvec3 intensity = vec3( luminance( rgb ) );\",\r\n\r\n\t\t\"\treturn mix( intensity, rgb, adjustment );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LuminanceNode.Nodes.luminance ] ); // include LuminanceNode function\r\n\r\n\tvar vibrance = new FunctionNode( [\r\n\t\t// Shader by Evan Wallace adapted by @lo-th\r\n\t\t\"vec3 vibrance(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tfloat average = (rgb.r + rgb.g + rgb.b) / 3.0;\",\r\n\r\n\t\t\"\tfloat mx = max(rgb.r, max(rgb.g, rgb.b));\",\r\n\t\t\"\tfloat amt = (mx - average) * (-3.0 * adjustment);\",\r\n\r\n\t\t\"\treturn mix(rgb.rgb, vec3(mx), amt);\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\thue: hue,\r\n\t\tsaturation: saturation,\r\n\t\tvibrance: vibrance\r\n\t};\r\n\r\n} )();\r\n\r\nColorAdjustmentNode.SATURATION = 'saturation';\r\nColorAdjustmentNode.HUE = 'hue';\r\nColorAdjustmentNode.VIBRANCE = 'vibrance';\r\nColorAdjustmentNode.BRIGHTNESS = 'brightness';\r\nColorAdjustmentNode.CONTRAST = 'contrast';\r\n\r\nColorAdjustmentNode.prototype = Object.create( TempNode.prototype );\r\nColorAdjustmentNode.prototype.constructor = ColorAdjustmentNode;\r\nColorAdjustmentNode.prototype.nodeType = \"ColorAdjustment\";\r\nColorAdjustmentNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorAdjustmentNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar rgb = this.rgb.build( builder, 'v3' ),\r\n\t\tadjustment = this.adjustment.build( builder, 'f' );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase ColorAdjustmentNode.BRIGHTNESS:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' + ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase ColorAdjustmentNode.CONTRAST:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' * ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tvar method = builder.include( ColorAdjustmentNode.Nodes[ this.method ] );\r\n\r\n\treturn builder.format( method + '( ' + rgb + ', ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\tthis.adjustment = source.adjustment;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\t\tdata.adjustment = this.adjustment.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorAdjustmentNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","import { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction BasicNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\r\n}\r\n\r\nBasicNode.prototype = Object.create( Node.prototype );\r\nBasicNode.prototype.constructor = BasicNode;\r\nBasicNode.prototype.nodeType = \"Basic\";\r\n\r\nBasicNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\" vNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\",\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// Analyze all nodes to reuse generate codes\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\t// Build code\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\tcolor.code,\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t' if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nBasicNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBasicNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BasicNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/BasicNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction SpriteNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.spherical = true;\r\n\r\n}\r\n\r\nSpriteNode.prototype = Object.create( Node.prototype );\r\nSpriteNode.prototype.constructor = SpriteNode;\r\nSpriteNode.prototype.nodeType = \"Sprite\";\r\n\r\nSpriteNode.prototype.build = function ( builder ) {\r\n\r\n\tvar output;\r\n\r\n\tbuilder.define( 'SPRITE' );\r\n\r\n\tbuilder.requires.lights = false;\r\n\tbuilder.requires.transparent = this.alpha !== undefined;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\t\t\tUniformsLib.fog\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\toutput = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\r\n\t\t\t'mat4 modelViewMtx = modelViewMatrix;',\r\n\t\t\t'mat4 modelMtx = modelMatrix;',\r\n\r\n\t\t\t// ignore position from modelMatrix (use vary position)\r\n\t\t\t'modelMtx[3][0] = 0.0;',\r\n\t\t\t'modelMtx[3][1] = 0.0;',\r\n\t\t\t'modelMtx[3][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( ! this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'modelMtx[1][1] = 1.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// http://www.geeks3d.com/20140807/billboarding-vertex-shader-glsl/\r\n\t\t\t// First colunm.\r\n\t\t\t'modelViewMtx[0][0] = 1.0;',\r\n\t\t\t'modelViewMtx[0][1] = 0.0;',\r\n\t\t\t'modelViewMtx[0][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t// Second colunm.\r\n\t\t\t\t'modelViewMtx[1][0] = 0.0;',\r\n\t\t\t\t'modelViewMtx[1][1] = 1.0;',\r\n\t\t\t\t'modelViewMtx[1][2] = 0.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// Thrid colunm.\r\n\t\t\t'modelViewMtx[2][0] = 0.0;',\r\n\t\t\t'modelViewMtx[2][1] = 0.0;',\r\n\t\t\t'modelViewMtx[2][2] = 1.0;',\r\n\r\n\t\t\t\"gl_Position = projectionMatrix * modelViewMtx * modelMtx * vec4( transformed, 1.0 );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\",\r\n\t\t\t\"#include <clipping_planes_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tbuilder.addCode( [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined,\r\n\t\t\talpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined,\r\n\t\t\tcolor = this.color.flow( builder, 'c', { slot: 'color' } ),\r\n\t\t\toutput = [];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif',\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", \" + alpha.result + \" );\"\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", 1.0 );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\"\r\n\t\t);\r\n\r\n\t}\r\n\r\n\treturn output.join( \"\\n\" );\r\n\r\n};\r\n\r\nSpriteNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.spherical !== undefined ) this.spherical = source.spherical;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpriteNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.spherical === false ) data.spherical = false;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpriteNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/SpriteNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\n\r\nfunction PhongNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.specular = new ColorNode( 0x111111 );\r\n\tthis.shininess = new FloatNode( 30 );\r\n\r\n}\r\n\r\nPhongNode.prototype = Object.create( Node.prototype );\r\nPhongNode.prototype.constructor = PhongNode;\r\nPhongNode.prototype.nodeType = \"Phong\";\r\n\r\nPhongNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'PHONG' );\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"\t#include <morphtarget_vertex>\",\r\n\t\t\t\"\t#include <skinning_vertex>\",\r\n\t\t\t\"\t#include <project_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\",\r\n\t\t\t\"\t#include <logdepthbuf_vertex>\",\r\n\t\t\t\"\t#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"\t#include <worldpos_vertex>\",\r\n\t\t\t\"\t#include <shadowmap_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\t\tthis.specular.analyze( builder );\r\n\t\tthis.shininess.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) this.environment.analyze( builder, { slot: 'environment' } );\r\n\t\tif ( this.environmentAlpha && this.environment ) this.environmentAlpha.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar specular = this.specular.flow( builder, 'c' );\r\n\t\tvar shininess = this.shininess.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment = this.environment ? this.environment.flow( builder, 'c', { slot: 'environment' } ) : undefined;\r\n\t\tvar environmentAlpha = this.environmentAlpha && this.environment ? this.environmentAlpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_phong_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\t// prevent undeclared material\r\n\t\t\t\"\tBlinnPhongMaterial material;\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\tspecular.code,\r\n\t\t\t\"\tvec3 specular = \" + specular.result + \";\",\r\n\r\n\t\t\tshininess.code,\r\n\t\t\t\"\tfloat shininess = max( 0.0001, \" + shininess.result + \" );\",\r\n\r\n\t\t\t\"\tfloat specularStrength = 1.0;\" // Ignored in MaterialNode ( replace to specular )\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push( 'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor' ) + ';' );\r\n\r\n\t\toutput.push(\r\n\t\t\t// accumulation\r\n\t\t\t'material.specularColor = specular;',\r\n\t\t\t'material.specularShininess = shininess;',\r\n\t\t\t'material.specularStrength = specularStrength;',\r\n\r\n\t\t\t\"#include <lights_fragment_begin>\",\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular;\" );\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.code );\r\n\r\n\t\t\tif ( environmentAlpha ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tenvironmentAlpha.code,\r\n\t\t\t\t\t\"outgoingLight = mix( outgoingLight, \" + environment.result + \", \" + environmentAlpha.result + \" );\"\r\n\t\t\t\t);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toutput.push( \"outgoingLight = \" + environment.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t/*\r\n\t\tswitch( builder.material.combine ) {\r\n\r\n\t\t\tcase ENVMAP_BLENDING_MULTIPLY:\r\n\r\n\t\t\t\t//output.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\t\t\t\t//outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\r\n\t\t}\r\n\t*/\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nPhongNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.specular = source.specular;\r\n\tthis.shininess = source.shininess;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\tif ( source.environmentAlpha ) this.environmentAlpha = source.environmentAlpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPhongNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.specular = this.specular.toJSON( meta ).uuid;\r\n\t\tdata.shininess = this.shininess.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\t\tif ( this.environmentAlpha ) data.environmentAlpha = this.environmentAlpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PhongNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/PhongNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ExpressionNode } from '../../core/ExpressionNode.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\nimport { SpecularMIPLevelNode } from '../../utils/SpecularMIPLevelNode.js';\r\n\r\nfunction StandardNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\tthis.roughness = new FloatNode( 1 );\r\n\tthis.metalness = new FloatNode( 0 );\r\n\r\n}\r\n\r\nStandardNode.prototype = Object.create( Node.prototype );\r\nStandardNode.prototype.constructor = StandardNode;\r\nStandardNode.prototype.nodeType = \"Standard\";\r\n\r\nStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'STANDARD' );\r\n\r\n\tvar useClearcoat = this.clearcoat || this.clearcoatRoughness || this.clearCoatNormal;\r\n\r\n\tif ( useClearcoat ) {\r\n\r\n\t\tbuilder.define( 'CLEARCOAT' );\r\n\r\n\t}\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tbuilder.extensions.derivatives = true;\r\n\tbuilder.extensions.shaderTextureLOD = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tif ( UniformsLib.LTC_1 ) {\r\n\r\n\t\t\t// add ltc data textures to material uniforms\r\n\r\n\t\t\tbuilder.uniforms.ltc_1 = { value: undefined };\r\n\t\t\tbuilder.uniforms.ltc_2 = { value: undefined };\r\n\r\n\t\t}\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\tvar specularRoughness = new ExpressionNode( 'material.specularRoughness', 'f' );\r\n\t\tvar clearcoatRoughness = new ExpressionNode( 'material.clearcoatRoughness', 'f' );\r\n\r\n\t\tvar contextEnvironment = {\r\n\t\t\troughness: specularRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( specularRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'normal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.normal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextGammaOnly = {\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextClearcoatEnvironment = {\r\n\t\t\troughness: clearcoatRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( clearcoatRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'clearcoatNormal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.clearcoatNormal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color', context: contextGammaOnly } );\r\n\t\tthis.roughness.analyze( builder );\r\n\t\tthis.metalness.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.clearcoat ) this.clearcoat.analyze( builder );\r\n\t\tif ( this.clearcoatRoughness ) this.clearcoatRoughness.analyze( builder );\r\n\t\tif ( this.clearcoatNormal ) this.clearcoatNormal.analyze( builder );\r\n\r\n\t\tif ( this.reflectivity ) this.reflectivity.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\t// isolate environment from others inputs ( see TextureNode, CubeTextureNode )\r\n\t\t\t// environment.analyze will detect if there is a need of calculate irradiance\r\n\r\n\t\t\tthis.environment.analyze( builder, { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tthis.environment.analyze( builder, { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.sheen ) this.sheen.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color', context: contextGammaOnly } );\r\n\t\tvar roughness = this.roughness.flow( builder, 'f' );\r\n\t\tvar metalness = this.metalness.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar clearcoat = this.clearcoat ? this.clearcoat.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatRoughness = this.clearcoatRoughness ? this.clearcoatRoughness.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatNormal = this.clearcoatNormal ? this.clearcoatNormal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar reflectivity = this.reflectivity ? this.reflectivity.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment;\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\tenvironment = {\r\n\t\t\t\tradiance: this.environment.flow( builder, 'c', { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } )\r\n\t\t\t};\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tenvironment.irradiance = this.environment.flow( builder, 'c', { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar clearcoatEnv = useClearcoat && environment ? this.environment.flow( builder, 'c', { cache: 'clearcoat', context: contextClearcoatEnvironment, slot: 'environment' } ) : undefined;\r\n\r\n\t\tvar sheen = this.sheen ? this.sheen.flow( builder, 'c' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <dithering_pars_fragment>\",\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_physical_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"\t#include <normal_fragment_begin>\",\r\n\t\t\t\"\t#include <clearcoat_normal_fragment_begin>\",\r\n\r\n\t\t\t// add before: prevent undeclared material\r\n\t\t\t\"\tPhysicalMaterial material;\",\r\n\t\t\t\"\tmaterial.diffuseColor = vec3( 1.0 );\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\troughness.code,\r\n\t\t\t\"\tfloat roughnessFactor = \" + roughness.result + \";\",\r\n\r\n\t\t\tmetalness.code,\r\n\t\t\t\"\tfloat metalnessFactor = \" + metalness.result + \";\"\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'\tif ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatNormal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatNormal.code,\r\n\t\t\t\t'clearcoatNormal = ' + clearcoatNormal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// anti-aliasing code by @elalish\r\n\r\n\t\toutput.push(\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t);\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push(\r\n\t\t\t'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor * ( 1.0 - metalnessFactor )' ) + ';',\r\n\r\n\t\t\t'material.specularRoughness = max( roughnessFactor, 0.0525 );',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\r\n\t\t\t'material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );'\r\n\t\t);\r\n\r\n\t\tif ( clearcoat ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoat.code,\r\n\t\t\t\t'material.clearcoat = saturate( ' + clearcoat.result + ' );' // Burley clearcoat model\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoat = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatRoughness ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatRoughness.code,\r\n\t\t\t\t'material.clearcoatRoughness = max( ' + clearcoatRoughness.result + ', 0.0525 );',\r\n\t\t\t\t'material.clearcoatRoughness += geometryRoughness;',\r\n\t\t\t\t'material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );'\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoatRoughness = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( sheen ) {\r\n\r\n\t\t\toutput.push( 'material.sheenColor = ' + sheen.result + ';' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( reflectivity ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\treflectivity.code,\r\n\t\t\t\t'material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( ' + reflectivity.result + ' ) ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_begin>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"diffuseColor *= 1.0 - metalnessFactor;\",\r\n\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\",\r\n\t\t\t\t\"float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\r\n\t\t\t\t\"reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, \" + ao.result + \", material.specularRoughness );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.radiance.code );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( environment.irradiance.code );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( clearcoatEnv ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tclearcoatEnv.code,\r\n\t\t\t\t\t\"clearcoatRadiance += \" + clearcoatEnv.result + \";\"\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\toutput.push( \"radiance += \" + environment.radiance.result + \";\" );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( \"iblIrradiance += PI * \" + environment.irradiance.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\",\r\n\t\t\t\"#include <dithering_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nStandardNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.roughness = source.roughness;\r\n\tthis.metalness = source.metalness;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.clearcoat ) this.clearcoat = source.clearcoat;\r\n\tif ( source.clearcoatRoughness ) this.clearcoatRoughness = source.clearcoatRoughness;\r\n\tif ( source.clearcoatNormal ) this.clearcoatNormal = source.clearcoatNormal;\r\n\r\n\tif ( source.reflectivity ) this.reflectivity = source.reflectivity;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\r\n\tif ( source.sheen ) this.sheen = source.sheen;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.roughness = this.roughness.toJSON( meta ).uuid;\r\n\t\tdata.metalness = this.metalness.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.clearcoat ) data.clearcoat = this.clearcoat.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatRoughness ) data.clearcoatRoughness = this.clearcoatRoughness.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatNormal ) data.clearcoatNormal = this.clearcoatNormal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.reflectivity ) data.reflectivity = this.reflectivity.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.sheen ) data.sheen = this.sheen.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/StandardNode.js","import {\r\n\tColor,\r\n\tVector2\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { StandardNode } from './StandardNode.js';\r\nimport { PropertyNode } from '../../inputs/PropertyNode.js';\r\nimport { OperatorNode } from '../../math/OperatorNode.js';\r\nimport { SwitchNode } from '../../utils/SwitchNode.js';\r\nimport { NormalMapNode } from '../../misc/NormalMapNode.js';\r\n\r\nfunction MeshStandardNode() {\r\n\r\n\tStandardNode.call( this );\r\n\r\n\tthis.properties = {\r\n\t\tcolor: new Color( 0xffffff ),\r\n\t\troughness: 0.5,\r\n\t\tmetalness: 0.5,\r\n\t\tnormalScale: new Vector2( 1, 1 )\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tcolor: new PropertyNode( this.properties, 'color', 'c' ),\r\n\t\troughness: new PropertyNode( this.properties, 'roughness', 'f' ),\r\n\t\tmetalness: new PropertyNode( this.properties, 'metalness', 'f' ),\r\n\t\tnormalScale: new PropertyNode( this.properties, 'normalScale', 'v2' )\r\n\t};\r\n\r\n}\r\n\r\nMeshStandardNode.prototype = Object.create( StandardNode.prototype );\r\nMeshStandardNode.prototype.constructor = MeshStandardNode;\r\nMeshStandardNode.prototype.nodeType = \"MeshStandard\";\r\n\r\nMeshStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar props = this.properties,\r\n\t\tinputs = this.inputs;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\t// slots\r\n\t\t// * color\r\n\t\t// * map\r\n\r\n\t\tvar color = builder.findNode( props.color, inputs.color ),\r\n\t\t\tmap = builder.resolve( props.map );\r\n\r\n\t\tthis.color = map ? new OperatorNode( color, map, OperatorNode.MUL ) : color;\r\n\r\n\t\t// slots\r\n\t\t// * roughness\r\n\t\t// * roughnessMap\r\n\r\n\t\tvar roughness = builder.findNode( props.roughness, inputs.roughness ),\r\n\t\t\troughnessMap = builder.resolve( props.roughnessMap );\r\n\r\n\t\tthis.roughness = roughnessMap ? new OperatorNode( roughness, new SwitchNode( roughnessMap, \"g\" ), OperatorNode.MUL ) : roughness;\r\n\r\n\t\t// slots\r\n\t\t// * metalness\r\n\t\t// * metalnessMap\r\n\r\n\t\tvar metalness = builder.findNode( props.metalness, inputs.metalness ),\r\n\t\t\tmetalnessMap = builder.resolve( props.metalnessMap );\r\n\r\n\t\tthis.metalness = metalnessMap ? new OperatorNode( metalness, new SwitchNode( metalnessMap, \"b\" ), OperatorNode.MUL ) : metalness;\r\n\r\n\t\t// slots\r\n\t\t// * normalMap\r\n\t\t// * normalScale\r\n\r\n\t\tif ( props.normalMap ) {\r\n\r\n\t\t\tthis.normal = new NormalMapNode( builder.resolve( props.normalMap ) );\r\n\t\t\tthis.normal.scale = builder.findNode( props.normalScale, inputs.normalScale );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.normal = undefined;\r\n\r\n\t\t}\r\n\r\n\t\t// slots\r\n\t\t// * envMap\r\n\r\n\t\tthis.environment = builder.resolve( props.envMap );\r\n\r\n\t}\r\n\r\n\t// build code\r\n\r\n\treturn StandardNode.prototype.build.call( this, builder );\r\n\r\n};\r\n\r\nMeshStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tconsole.warn( \".toJSON not implemented in\", this );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MeshStandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","import { BasicNode } from './nodes/BasicNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction BasicNodeMaterial() {\r\n\r\n\tvar node = new BasicNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"BasicNodeMaterial\";\r\n\r\n}\r\n\r\nBasicNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nBasicNodeMaterial.prototype.constructor = BasicNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( BasicNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { BasicNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/BasicNodeMaterial.js","import { SpriteNode } from './nodes/SpriteNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction SpriteNodeMaterial() {\r\n\r\n\tvar node = new SpriteNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"SpriteNodeMaterial\";\r\n\r\n}\r\n\r\nSpriteNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nSpriteNodeMaterial.prototype.constructor = SpriteNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( SpriteNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position',\r\n\t'spherical'\r\n] );\r\n\r\nexport { SpriteNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","import { PhongNode } from './nodes/PhongNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction PhongNodeMaterial() {\r\n\r\n\tvar node = new PhongNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"PhongNodeMaterial\";\r\n\r\n}\r\n\r\nPhongNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nPhongNodeMaterial.prototype.constructor = PhongNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( PhongNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'specular',\r\n\t'shininess',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'environmentAlpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { PhongNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/PhongNodeMaterial.js","import { StandardNode } from './nodes/StandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction StandardNodeMaterial() {\r\n\r\n\tvar node = new StandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"StandardNodeMaterial\";\r\n\r\n}\r\n\r\nStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nStandardNodeMaterial.prototype.constructor = StandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( StandardNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'roughness',\r\n\t'metalness',\r\n\t'reflectivity',\r\n\t'clearcoat',\r\n\t'clearcoatRoughness',\r\n\t'clearcoatNormal',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'mask',\r\n\t'position',\r\n\t'sheen'\r\n] );\r\n\r\nexport { StandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/StandardNodeMaterial.js","import { MeshStandardNode } from './nodes/MeshStandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction MeshStandardNodeMaterial() {\r\n\r\n\tvar node = new MeshStandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"MeshStandardNodeMaterial\";\r\n\r\n}\r\n\r\nMeshStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nMeshStandardNodeMaterial.prototype.constructor = MeshStandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( MeshStandardNodeMaterial.prototype, 'properties', [\r\n\t\"color\",\r\n\t\"roughness\",\r\n\t\"metalness\",\r\n\t\"map\",\r\n\t\"normalMap\",\r\n\t\"normalScale\",\r\n\t\"metalnessMap\",\r\n\t\"roughnessMap\",\r\n\t\"envMap\"\r\n] );\r\n\r\nexport { MeshStandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","import {\r\n\tLinearFilter,\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tRGBAFormat,\r\n\tScene,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { ScreenNode } from '../inputs/ScreenNode.js';\r\n\r\nfunction NodePostProcessing( renderer, renderTarget ) {\r\n\r\n\tif ( renderTarget === undefined ) {\r\n\r\n\t\tvar parameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tvar size = renderer.getDrawingBufferSize( new Vector2() );\r\n\t\trenderTarget = new WebGLRenderTarget( size.width, size.height, parameters );\r\n\r\n\t}\r\n\r\n\tthis.renderer = renderer;\r\n\tthis.renderTarget = renderTarget;\r\n\r\n\tthis.output = new ScreenNode();\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n}\r\n\r\nNodePostProcessing.prototype = {\r\n\r\n\tconstructor: NodePostProcessing,\r\n\r\n\trender: function ( scene, camera, frame ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.material.dispose();\r\n\r\n\t\t\tthis.material.fragment.value = this.output;\r\n\t\t\tthis.material.build();\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = this.renderTarget.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.needsUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tframe.setRenderer( this.renderer )\r\n\t\t\t.setRenderTexture( this.renderTarget.texture );\r\n\r\n\t\tthis.renderer.setRenderTarget( this.renderTarget );\r\n\t\tthis.renderer.render( scene, camera );\r\n\r\n\t\tframe.updateNode( this.material );\r\n\r\n\t\tthis.renderer.setRenderTarget( null );\r\n\t\tthis.renderer.render( this.scene, this.camera );\r\n\r\n\t},\r\n\r\n\tsetPixelRatio: function ( value ) {\r\n\r\n\t\tthis.renderer.setPixelRatio( value );\r\n\r\n\t\tvar size = this.renderer.getSize( new Vector2() );\r\n\r\n\t\tthis.setSize( size.width, size.height );\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tvar pixelRatio = this.renderer.getPixelRatio();\r\n\r\n\t\tthis.renderTarget.setSize( width * pixelRatio, height * pixelRatio );\r\n\r\n\t\tthis.renderer.setSize( width, height );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.output = source.output;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\tmeta = {\r\n\t\t\t\tnodes: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tif ( meta && ! meta.post ) meta.post = {};\r\n\r\n\t\tif ( ! meta.post[ this.uuid ] ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tdata.uuid = this.uuid;\r\n\t\t\tdata.type = \"NodePostProcessing\";\r\n\r\n\t\t\tmeta.post[ this.uuid ] = data;\r\n\r\n\t\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\t\tdata.output = this.output.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tmeta.post = this.uuid;\r\n\r\n\t\treturn meta;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodePostProcessing };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","// TODO: all nodes\r\n\r\n// core\r\n\r\nexport { Node } from './core/Node.js';\r\nexport { TempNode } from './core/TempNode.js';\r\nexport { InputNode } from './core/InputNode.js';\r\nexport { ConstNode } from './core/ConstNode.js';\r\nexport { VarNode } from './core/VarNode.js';\r\nexport { StructNode } from './core/StructNode.js';\r\nexport { AttributeNode } from './core/AttributeNode.js';\r\nexport { FunctionNode } from './core/FunctionNode.js';\r\nexport { ExpressionNode } from './core/ExpressionNode.js';\r\nexport { FunctionCallNode } from './core/FunctionCallNode.js';\r\nexport { NodeLib } from './core/NodeLib.js';\r\nexport { NodeUtils } from './core/NodeUtils.js';\r\nexport { NodeFrame } from './core/NodeFrame.js';\r\nexport { NodeUniform } from './core/NodeUniform.js';\r\nexport { NodeBuilder } from './core/NodeBuilder.js';\r\n\r\n// inputs\r\n\r\nexport { BoolNode } from './inputs/BoolNode.js';\r\nexport { IntNode } from './inputs/IntNode.js';\r\nexport { FloatNode } from './inputs/FloatNode.js';\r\nexport { Vector2Node } from './inputs/Vector2Node.js';\r\nexport { Vector3Node } from './inputs/Vector3Node.js';\r\nexport { Vector4Node } from './inputs/Vector4Node.js';\r\nexport { ColorNode } from './inputs/ColorNode.js';\r\nexport { Matrix3Node } from './inputs/Matrix3Node.js';\r\nexport { Matrix4Node } from './inputs/Matrix4Node.js';\r\nexport { TextureNode } from './inputs/TextureNode.js';\r\nexport { CubeTextureNode } from './inputs/CubeTextureNode.js';\r\nexport { ScreenNode } from './inputs/ScreenNode.js';\r\nexport { ReflectorNode } from './inputs/ReflectorNode.js';\r\nexport { PropertyNode } from './inputs/PropertyNode.js';\r\nexport { RTTNode } from './inputs/RTTNode.js';\r\n\r\n// accessors\r\n\r\nexport { UVNode } from './accessors/UVNode.js';\r\nexport { ColorsNode } from './accessors/ColorsNode.js';\r\nexport { PositionNode } from './accessors/PositionNode.js';\r\nexport { NormalNode } from './accessors/NormalNode.js';\r\nexport { CameraNode } from './accessors/CameraNode.js';\r\nexport { LightNode } from './accessors/LightNode.js';\r\nexport { ReflectNode } from './accessors/ReflectNode.js';\r\nexport { ScreenUVNode } from './accessors/ScreenUVNode.js';\r\nexport { ResolutionNode } from './accessors/ResolutionNode.js';\r\n\r\n// math\r\n\r\nexport { MathNode } from './math/MathNode.js';\r\nexport { OperatorNode } from './math/OperatorNode.js';\r\nexport { CondNode } from './math/CondNode.js';\r\n\r\n// procedural\r\n\r\nexport { NoiseNode } from './procedural/NoiseNode.js';\r\nexport { CheckerNode } from './procedural/CheckerNode.js';\r\n\r\n// misc\r\n\r\nexport { TextureCubeUVNode } from './misc/TextureCubeUVNode.js';\r\nexport { TextureCubeNode } from './misc/TextureCubeNode.js';\r\nexport { NormalMapNode } from './misc/NormalMapNode.js';\r\nexport { BumpMapNode } from './misc/BumpMapNode.js';\r\n\r\n// utils\r\n\r\nexport { BypassNode } from './utils/BypassNode.js';\r\nexport { JoinNode } from './utils/JoinNode.js';\r\nexport { SwitchNode } from './utils/SwitchNode.js';\r\nexport { TimerNode } from './utils/TimerNode.js';\r\nexport { VelocityNode } from './utils/VelocityNode.js';\r\nexport { UVTransformNode } from './utils/UVTransformNode.js';\r\nexport { MaxMIPLevelNode } from './utils/MaxMIPLevelNode.js';\r\nexport { SpecularMIPLevelNode } from './utils/SpecularMIPLevelNode.js';\r\nexport { ColorSpaceNode } from './utils/ColorSpaceNode.js';\r\nexport { SubSlotNode } from './utils/SubSlotNode.js';\r\n\r\n// effects\r\n\r\nexport { BlurNode } from './effects/BlurNode.js';\r\nexport { ColorAdjustmentNode } from './effects/ColorAdjustmentNode.js';\r\nexport { LuminanceNode } from './effects/LuminanceNode.js';\r\n\r\n// material nodes\r\n\r\nexport { RawNode } from './materials/nodes/RawNode.js';\r\nexport { BasicNode } from './materials/nodes/BasicNode.js';\r\nexport { SpriteNode } from './materials/nodes/SpriteNode.js';\r\nexport { PhongNode } from './materials/nodes/PhongNode.js';\r\nexport { StandardNode } from './materials/nodes/StandardNode.js';\r\nexport { MeshStandardNode } from './materials/nodes/MeshStandardNode.js';\r\n\r\n// materials\r\n\r\nexport { NodeMaterial } from './materials/NodeMaterial.js';\r\nexport { BasicNodeMaterial } from './materials/BasicNodeMaterial.js';\r\nexport { SpriteNodeMaterial } from './materials/SpriteNodeMaterial.js';\r\nexport { PhongNodeMaterial } from './materials/PhongNodeMaterial.js';\r\nexport { StandardNodeMaterial } from './materials/StandardNodeMaterial.js';\r\nexport { MeshStandardNodeMaterial } from './materials/MeshStandardNodeMaterial.js';\r\n\r\n// postprocessing\r\n\r\nexport { NodePostProcessing } from './postprocessing/NodePostProcessing.js';\r\n//export { NodePass } from './postprocessing/NodePass.js';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/Nodes.js","import { Vector4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector4Node( x, y, z, w ) {\r\n\r\n\tInputNode.call( this, 'v4' );\r\n\r\n\tthis.value = x instanceof Vector4 ? x : new Vector4( x, y, z, w );\r\n\r\n}\r\n\r\nVector4Node.prototype = Object.create( InputNode.prototype );\r\nVector4Node.prototype.constructor = Vector4Node;\r\nVector4Node.prototype.nodeType = \"Vector4\";\r\n\r\nNodeUtils.addShortcuts( Vector4Node.prototype, 'value', [ 'x', 'y', 'z', 'w' ] );\r\n\r\nVector4Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec4( \" + this.x + \", \" + this.y + \", \" + this.z + \", \" + this.w + \" )\", type, output );\r\n\r\n};\r\n\r\nVector4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\t\tdata.w = this.w;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector4Node.js","import {\r\n\tAnimationClip,\r\n\tBone,\r\n\tBox3,\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tCanvasTexture,\r\n\tClampToEdgeWrapping,\r\n\tColor,\r\n\tDirectionalLight,\r\n\tDoubleSide,\r\n\tFileLoader,\r\n\tFrontSide,\r\n\tGroup,\r\n\tImageBitmapLoader,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tInterpolant,\r\n\tInterpolateDiscrete,\r\n\tInterpolateLinear,\r\n\tLine,\r\n\tLineBasicMaterial,\r\n\tLineLoop,\r\n\tLineSegments,\r\n\tLinearFilter,\r\n\tLinearMipmapLinearFilter,\r\n\tLinearMipmapNearestFilter,\r\n\tLoader,\r\n\tLoaderUtils,\r\n\tMaterial,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tMeshBasicMaterial,\r\n\tMeshPhysicalMaterial,\r\n\tMeshStandardMaterial,\r\n\tMirroredRepeatWrapping,\r\n\tNearestFilter,\r\n\tNearestMipmapLinearFilter,\r\n\tNearestMipmapNearestFilter,\r\n\tNumberKeyframeTrack,\r\n\tObject3D,\r\n\tOrthographicCamera,\r\n\tPerspectiveCamera,\r\n\tPointLight,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tPropertyBinding,\r\n\tQuaternionKeyframeTrack,\r\n\tRGBFormat,\r\n\tRepeatWrapping,\r\n\tSkeleton,\r\n\tSkinnedMesh,\r\n\tSphere,\r\n\tSpotLight,\r\n\tTangentSpaceNormalMap,\r\n\tTextureLoader,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tVector2,\r\n\tVector3,\r\n\tVectorKeyframeTrack,\r\n\tsRGBEncoding\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GLTFLoader = ( function () {\r\n\r\n\tfunction GLTFLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.dracoLoader = null;\r\n\t\tthis.ddsLoader = null;\r\n\t\tthis.ktx2Loader = null;\r\n\t\tthis.meshoptDecoder = null;\r\n\r\n\t\tthis.pluginCallbacks = [];\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureWebPExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFLightsExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMeshoptCompression( parser );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: GLTFLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar resourcePath;\r\n\r\n\t\t\tif ( this.resourcePath !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.resourcePath;\r\n\r\n\t\t\t} else if ( this.path !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.path;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\r\n\t\t\t// the model is fully loaded. This means the count of items loaded will\r\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\r\n\t\t\tthis.manager.itemStart( url );\r\n\r\n\t\t\tvar _onError = function ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\t\tloader.load( url, function ( data ) {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\r\n\r\n\t\t\t\t\t\tonLoad( gltf );\r\n\r\n\t\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t\t}, _onError );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t_onError( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, _onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetDRACOLoader: function ( dracoLoader ) {\r\n\r\n\t\t\tthis.dracoLoader = dracoLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetDDSLoader: function ( ddsLoader ) {\r\n\r\n\t\t\tthis.ddsLoader = ddsLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetKTX2Loader: function ( ktx2Loader ) {\r\n\r\n\t\t\tthis.ktx2Loader = ktx2Loader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetMeshoptDecoder: function ( meshoptDecoder ) {\r\n\r\n\t\t\tthis.meshoptDecoder = meshoptDecoder;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.push( callback );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tunregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( data, path, onLoad, onError ) {\r\n\r\n\t\t\tvar content;\r\n\t\t\tvar extensions = {};\r\n\t\t\tvar plugins = {};\r\n\r\n\t\t\tif ( typeof data === 'string' ) {\r\n\r\n\t\t\t\tcontent = data;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\r\n\r\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\r\n\r\n\t\t\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\t\t\tif ( onError ) onError( error );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar json = JSON.parse( content );\r\n\r\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\r\n\r\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar parser = new GLTFParser( json, {\r\n\r\n\t\t\t\tpath: path || this.resourcePath || '',\r\n\t\t\t\tcrossOrigin: this.crossOrigin,\r\n\t\t\t\tmanager: this.manager,\r\n\t\t\t\tktx2Loader: this.ktx2Loader,\r\n\t\t\t\tmeshoptDecoder: this.meshoptDecoder\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\r\n\r\n\t\t\tfor ( var i = 0; i < this.pluginCallbacks.length; i ++ ) {\r\n\r\n\t\t\t\tvar plugin = this.pluginCallbacks[ i ]( parser );\r\n\t\t\t\tplugins[ plugin.name ] = plugin;\r\n\r\n\t\t\t\t// Workaround to avoid determining as unknown extension\r\n\t\t\t\t// in addUnknownExtensionsToUserData().\r\n\t\t\t\t// Remove this workaround if we move all the existing\r\n\t\t\t\t// extension handlers to plugin system\r\n\t\t\t\textensions[ plugin.name ] = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.extensionsUsed ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\r\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\r\n\r\n\t\t\t\t\tswitch ( extensionName ) {\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.setExtensions( extensions );\r\n\t\t\tparser.setPlugins( plugins );\r\n\t\t\tparser.parse( onLoad, onError );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\t/* GLTFREGISTRY */\r\n\r\n\tfunction GLTFRegistry() {\r\n\r\n\t\tvar objects = {};\r\n\r\n\t\treturn\t{\r\n\r\n\t\t\tget: function ( key ) {\r\n\r\n\t\t\t\treturn objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tadd: function ( key, object ) {\r\n\r\n\t\t\t\tobjects[ key ] = object;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremove: function ( key ) {\r\n\r\n\t\t\t\tdelete objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremoveAll: function () {\r\n\r\n\t\t\t\tobjects = {};\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** EXTENSIONS ***********/\r\n\t/*********************************/\r\n\r\n\tvar EXTENSIONS = {\r\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\r\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\r\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\r\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\r\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\r\n\t\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\r\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\r\n\t\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\r\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\r\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\r\n\t\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\r\n\t\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\r\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\r\n\t};\r\n\r\n\t/**\r\n\t * DDS Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\r\n\t *\r\n\t */\r\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\r\n\r\n\t\tif ( ! ddsLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\r\n\t\tthis.ddsLoader = ddsLoader;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Punctual Lights Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\r\n\t */\r\n\tfunction GLTFLightsExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.cache = { refs: {}, uses: {} };\r\n\r\n\t}\r\n\r\n\tGLTFLightsExtension.prototype._markDefs = function () {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar nodeDefs = this.parser.json.nodes || [];\r\n\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.extensions\r\n\t\t\t\t&& nodeDef.extensions[ this.name ]\r\n\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\r\n\r\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype._loadLight = function ( lightIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar cacheKey = 'light:' + lightIndex;\r\n\t\tvar dependency = parser.cache.get( cacheKey );\r\n\r\n\t\tif ( dependency ) return dependency;\r\n\r\n\t\tvar json = parser.json;\r\n\t\tvar extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\r\n\t\tvar lightDefs = extensions.lights || [];\r\n\t\tvar lightDef = lightDefs[ lightIndex ];\r\n\t\tvar lightNode;\r\n\r\n\t\tvar color = new Color( 0xffffff );\r\n\r\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\r\n\r\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\r\n\r\n\t\tswitch ( lightDef.type ) {\r\n\r\n\t\t\tcase 'directional':\r\n\t\t\t\tlightNode = new DirectionalLight( color );\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'point':\r\n\t\t\t\tlightNode = new PointLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'spot':\r\n\t\t\t\tlightNode = new SpotLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\t// Handle spotlight properties.\r\n\t\t\t\tlightDef.spot = lightDef.spot || {};\r\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\r\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\r\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\r\n\r\n\t\t}\r\n\r\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\r\n\t\t// here, because node-level parsing will only override position if explicitly specified.\r\n\t\tlightNode.position.set( 0, 0, 0 );\r\n\r\n\t\tlightNode.decay = 2;\r\n\r\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\r\n\r\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\r\n\r\n\t\tdependency = Promise.resolve( lightNode );\r\n\r\n\t\tparser.cache.add( cacheKey, dependency );\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype.createNodeAttachment = function ( nodeIndex ) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\t\tvar lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\r\n\t\tvar lightIndex = lightDef.light;\r\n\r\n\t\tif ( lightIndex === undefined ) return null;\r\n\r\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\r\n\r\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Unlit Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\r\n\t */\r\n\tfunction GLTFMaterialsUnlitExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\r\n\r\n\t\treturn MeshBasicMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\r\n\r\n\t\tif ( metallicRoughness ) {\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Clearcoat Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\r\n\t */\r\n\tfunction GLTFMaterialsClearcoatExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.clearcoatFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\r\n\r\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tvar scale = extension.clearcoatNormalTexture.scale;\r\n\r\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Transmission Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\r\n\t * Draft: https://github.com/KhronosGroup/glTF/pull/1698\r\n\t */\r\n\tfunction GLTFMaterialsTransmissionExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.transmissionFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.transmissionTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * BasisU Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\r\n\t */\r\n\tfunction GLTFTextureBasisUExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\r\n\r\n\t}\r\n\r\n\tGLTFTextureBasisUExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ this.name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = parser.options.ktx2Loader;\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * WebP Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\r\n\t */\r\n\tfunction GLTFTextureWebPExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\r\n\t\tthis.isSupported = null;\r\n\r\n\t}\r\n\r\n\tGLTFTextureWebPExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar name = this.name;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = source.uri ? parser.options.manager.getHandler( source.uri ) : parser.textureLoader;\r\n\r\n\t\treturn this.detectSupport().then( function ( isSupported ) {\r\n\r\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Fall back to PNG or JPEG.\r\n\t\t\treturn parser.loadTexture( textureIndex );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\tGLTFTextureWebPExtension.prototype.detectSupport = function () {\r\n\r\n\t\tif ( ! this.isSupported ) {\r\n\r\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tvar image = new Image();\r\n\r\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\r\n\t\t\t\t// WebP images, unfortunately.\r\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\r\n\r\n\t\t\t\timage.onload = image.onerror = function () {\r\n\r\n\t\t\t\t\tresolve( image.height === 1 );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isSupported;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t* meshopt BufferView Compression Extension\r\n\t*\r\n\t* Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\r\n\t*/\r\n\tfunction GLTFMeshoptCompression( parser ) {\r\n\r\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\r\n\t\tthis.parser = parser;\r\n\r\n\t}\r\n\r\n\tGLTFMeshoptCompression.prototype.loadBufferView = function ( index ) {\r\n\r\n\t\tvar json = this.parser.json;\r\n\t\tvar bufferView = json.bufferViews[ index ];\r\n\r\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\r\n\r\n\t\t\tvar extensionDef = bufferView.extensions[ this.name ];\r\n\r\n\t\t\tvar buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\r\n\t\t\tvar decoder = this.parser.options.meshoptDecoder;\r\n\r\n\t\t\tif ( ! decoder || ! decoder.supported ) {\r\n\r\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\r\n\r\n\t\t\t\tvar byteOffset = extensionDef.byteOffset || 0;\r\n\t\t\t\tvar byteLength = extensionDef.byteLength || 0;\r\n\r\n\t\t\t\tvar count = extensionDef.count;\r\n\t\t\t\tvar stride = extensionDef.byteStride;\r\n\r\n\t\t\t\tvar result = new ArrayBuffer( count * stride );\r\n\t\t\t\tvar source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\r\n\r\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\r\n\t\t\t\treturn result;\r\n\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/* BINARY EXTENSION */\r\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\r\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\r\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\r\n\r\n\tfunction GLTFBinaryExtension( data ) {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\r\n\t\tthis.content = null;\r\n\t\tthis.body = null;\r\n\r\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\r\n\r\n\t\tthis.header = {\r\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\r\n\t\t\tversion: headerView.getUint32( 4, true ),\r\n\t\t\tlength: headerView.getUint32( 8, true )\r\n\t\t};\r\n\r\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\r\n\r\n\t\t} else if ( this.header.version < 2.0 ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\r\n\t\tvar chunkIndex = 0;\r\n\r\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\r\n\r\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\r\n\r\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\r\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\r\n\r\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\r\n\r\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\r\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Clients must ignore chunks with unknown types.\r\n\r\n\t\t\tchunkIndex += chunkLength;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.content === null ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * DRACO Mesh Compression Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\r\n\t */\r\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\r\n\r\n\t\tif ( ! dracoLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\r\n\t\tthis.json = json;\r\n\t\tthis.dracoLoader = dracoLoader;\r\n\t\tthis.dracoLoader.preload();\r\n\r\n\t}\r\n\r\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar dracoLoader = this.dracoLoader;\r\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\r\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\r\n\t\tvar threeAttributeMap = {};\r\n\t\tvar attributeNormalizedMap = {};\r\n\t\tvar attributeTypeMap = {};\r\n\r\n\t\tfor ( var attributeName in gltfAttributeMap ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( attributeName in primitive.attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\r\n\r\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\r\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\r\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\r\n\r\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\r\n\r\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\r\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\r\n\r\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresolve( geometry );\r\n\r\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Texture Transform Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\r\n\t */\r\n\tfunction GLTFTextureTransformExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\r\n\r\n\t}\r\n\r\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\r\n\r\n\t\ttexture = texture.clone();\r\n\r\n\t\tif ( transform.offset !== undefined ) {\r\n\r\n\t\t\ttexture.offset.fromArray( transform.offset );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.rotation !== undefined ) {\r\n\r\n\t\t\ttexture.rotation = transform.rotation;\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.scale !== undefined ) {\r\n\r\n\t\t\ttexture.repeat.fromArray( transform.scale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.texCoord !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\r\n\r\n\t\t}\r\n\r\n\t\ttexture.needsUpdate = true;\r\n\r\n\t\treturn texture;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specular-Glossiness Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\r\n\t */\r\n\r\n\t/**\r\n\t * A sub class of StandardMaterial with some of the functionality\r\n\t * changed via the `onBeforeCompile` callback\r\n\t * @pailhead\r\n\t */\r\n\r\n\tfunction GLTFMeshStandardSGMaterial( params ) {\r\n\r\n\t\tMeshStandardMaterial.call( this );\r\n\r\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\r\n\r\n\t\t//various chunks that need replacing\r\n\t\tvar specularMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tuniform sampler2D specularMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tuniform sampler2D glossinessMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar specularMapFragmentChunk = [\r\n\t\t\t'vec3 specularFactor = specular;',\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\r\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\r\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapFragmentChunk = [\r\n\t\t\t'float glossinessFactor = glossiness;',\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\r\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar lightPhysicalFragmentChunk = [\r\n\t\t\t'PhysicalMaterial material;',\r\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\t\t\t'material.specularColor = specularFactor;',\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar uniforms = {\r\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\r\n\t\t\tglossiness: { value: 1 },\r\n\t\t\tspecularMap: { value: null },\r\n\t\t\tglossinessMap: { value: null }\r\n\t\t};\r\n\r\n\t\tthis._extraUniforms = uniforms;\r\n\r\n\t\tthis.onBeforeCompile = function ( shader ) {\r\n\r\n\t\t\tfor ( var uniformName in uniforms ) {\r\n\r\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tshader.fragmentShader = shader.fragmentShader\r\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\r\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\r\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\r\n\r\n\t\t};\r\n\r\n\t\tObject.defineProperties( this, {\r\n\r\n\t\t\tspecular: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specular.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specular.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tspecularMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specularMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specularMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossiness: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossiness.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossiness.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossinessMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossinessMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossinessMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\r\n\t\t\t\t\t\tthis.defines.USE_UV = '';\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\r\n\t\t\t\t\t\tdelete this.defines.USE_UV;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\r\n\t\tthis.setValues( params );\r\n\r\n\t}\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\r\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\r\n\r\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\r\n\t\tthis.specularMap = source.specularMap;\r\n\t\tthis.specular.copy( source.specular );\r\n\t\tthis.glossinessMap = source.glossinessMap;\r\n\t\tthis.glossiness = source.glossiness;\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\r\n\r\n\t\treturn {\r\n\r\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\r\n\r\n\t\t\tspecularGlossinessParams: [\r\n\t\t\t\t'color',\r\n\t\t\t\t'map',\r\n\t\t\t\t'lightMap',\r\n\t\t\t\t'lightMapIntensity',\r\n\t\t\t\t'aoMap',\r\n\t\t\t\t'aoMapIntensity',\r\n\t\t\t\t'emissive',\r\n\t\t\t\t'emissiveIntensity',\r\n\t\t\t\t'emissiveMap',\r\n\t\t\t\t'bumpMap',\r\n\t\t\t\t'bumpScale',\r\n\t\t\t\t'normalMap',\r\n\t\t\t\t'normalMapType',\r\n\t\t\t\t'displacementMap',\r\n\t\t\t\t'displacementScale',\r\n\t\t\t\t'displacementBias',\r\n\t\t\t\t'specularMap',\r\n\t\t\t\t'specular',\r\n\t\t\t\t'glossinessMap',\r\n\t\t\t\t'glossiness',\r\n\t\t\t\t'alphaMap',\r\n\t\t\t\t'envMap',\r\n\t\t\t\t'envMapIntensity',\r\n\t\t\t\t'refractionRatio',\r\n\t\t\t],\r\n\r\n\t\t\tgetMaterialType: function () {\r\n\r\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\r\n\r\n\t\t\t},\r\n\r\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\r\n\r\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\r\n\r\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\r\n\r\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\r\n\r\n\t\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\r\n\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\r\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\r\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\r\n\r\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\r\n\r\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tcreateMaterial: function ( materialParams ) {\r\n\r\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\r\n\t\t\t\tmaterial.fog = true;\r\n\r\n\t\t\t\tmaterial.color = materialParams.color;\r\n\r\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\r\n\r\n\t\t\t\tmaterial.lightMap = null;\r\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\r\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.emissive = materialParams.emissive;\r\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\r\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\r\n\r\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\r\n\t\t\t\tmaterial.bumpScale = 1;\r\n\r\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\r\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\r\n\r\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\r\n\r\n\t\t\t\tmaterial.displacementMap = null;\r\n\t\t\t\tmaterial.displacementScale = 1;\r\n\t\t\t\tmaterial.displacementBias = 0;\r\n\r\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\r\n\t\t\t\tmaterial.specular = materialParams.specular;\r\n\r\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\r\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\r\n\r\n\t\t\t\tmaterial.alphaMap = null;\r\n\r\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\r\n\t\t\t\tmaterial.envMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.refractionRatio = 0.98;\r\n\r\n\t\t\t\treturn material;\r\n\r\n\t\t\t},\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Mesh Quantization Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\r\n\t */\r\n\tfunction GLTFMeshQuantizationExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** INTERPOLATION ********/\r\n\t/*********************************/\r\n\r\n\t// Spline Interpolation\r\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\r\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n\t}\r\n\r\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\r\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\r\n\r\n\t\t// Copies a sample value to the result buffer. See description of glTF\r\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tvalueSize = this.valueSize,\r\n\t\t\toffset = index * valueSize * 3 + valueSize;\r\n\r\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\r\n\r\n\t\t\tresult[ i ] = values[ offset + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer;\r\n\t\tvar values = this.sampleValues;\r\n\t\tvar stride = this.valueSize;\r\n\r\n\t\tvar stride2 = stride * 2;\r\n\t\tvar stride3 = stride * 3;\r\n\r\n\t\tvar td = t1 - t0;\r\n\r\n\t\tvar p = ( t - t0 ) / td;\r\n\t\tvar pp = p * p;\r\n\t\tvar ppp = pp * p;\r\n\r\n\t\tvar offset1 = i1 * stride3;\r\n\t\tvar offset0 = offset1 - stride3;\r\n\r\n\t\tvar s2 = - 2 * ppp + 3 * pp;\r\n\t\tvar s3 = ppp - pp;\r\n\t\tvar s0 = 1 - s2;\r\n\t\tvar s1 = s3 - pp + p;\r\n\r\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\r\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\r\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\r\n\r\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\r\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\r\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\r\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\r\n\r\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\t/*********************************/\r\n\t/********** INTERNALS ************/\r\n\t/*********************************/\r\n\r\n\t/* CONSTANTS */\r\n\r\n\tvar WEBGL_CONSTANTS = {\r\n\t\tFLOAT: 5126,\r\n\t\t//FLOAT_MAT2: 35674,\r\n\t\tFLOAT_MAT3: 35675,\r\n\t\tFLOAT_MAT4: 35676,\r\n\t\tFLOAT_VEC2: 35664,\r\n\t\tFLOAT_VEC3: 35665,\r\n\t\tFLOAT_VEC4: 35666,\r\n\t\tLINEAR: 9729,\r\n\t\tREPEAT: 10497,\r\n\t\tSAMPLER_2D: 35678,\r\n\t\tPOINTS: 0,\r\n\t\tLINES: 1,\r\n\t\tLINE_LOOP: 2,\r\n\t\tLINE_STRIP: 3,\r\n\t\tTRIANGLES: 4,\r\n\t\tTRIANGLE_STRIP: 5,\r\n\t\tTRIANGLE_FAN: 6,\r\n\t\tUNSIGNED_BYTE: 5121,\r\n\t\tUNSIGNED_SHORT: 5123\r\n\t};\r\n\r\n\tvar WEBGL_COMPONENT_TYPES = {\r\n\t\t5120: Int8Array,\r\n\t\t5121: Uint8Array,\r\n\t\t5122: Int16Array,\r\n\t\t5123: Uint16Array,\r\n\t\t5125: Uint32Array,\r\n\t\t5126: Float32Array\r\n\t};\r\n\r\n\tvar WEBGL_FILTERS = {\r\n\t\t9728: NearestFilter,\r\n\t\t9729: LinearFilter,\r\n\t\t9984: NearestMipmapNearestFilter,\r\n\t\t9985: LinearMipmapNearestFilter,\r\n\t\t9986: NearestMipmapLinearFilter,\r\n\t\t9987: LinearMipmapLinearFilter\r\n\t};\r\n\r\n\tvar WEBGL_WRAPPINGS = {\r\n\t\t33071: ClampToEdgeWrapping,\r\n\t\t33648: MirroredRepeatWrapping,\r\n\t\t10497: RepeatWrapping\r\n\t};\r\n\r\n\tvar WEBGL_TYPE_SIZES = {\r\n\t\t'SCALAR': 1,\r\n\t\t'VEC2': 2,\r\n\t\t'VEC3': 3,\r\n\t\t'VEC4': 4,\r\n\t\t'MAT2': 4,\r\n\t\t'MAT3': 9,\r\n\t\t'MAT4': 16\r\n\t};\r\n\r\n\tvar ATTRIBUTES = {\r\n\t\tPOSITION: 'position',\r\n\t\tNORMAL: 'normal',\r\n\t\tTANGENT: 'tangent',\r\n\t\tTEXCOORD_0: 'uv',\r\n\t\tTEXCOORD_1: 'uv2',\r\n\t\tCOLOR_0: 'color',\r\n\t\tWEIGHTS_0: 'skinWeight',\r\n\t\tJOINTS_0: 'skinIndex',\r\n\t};\r\n\r\n\tvar PATH_PROPERTIES = {\r\n\t\tscale: 'scale',\r\n\t\ttranslation: 'position',\r\n\t\trotation: 'quaternion',\r\n\t\tweights: 'morphTargetInfluences'\r\n\t};\r\n\r\n\tvar INTERPOLATION = {\r\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\r\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\r\n\t\tLINEAR: InterpolateLinear,\r\n\t\tSTEP: InterpolateDiscrete\r\n\t};\r\n\r\n\tvar ALPHA_MODES = {\r\n\t\tOPAQUE: 'OPAQUE',\r\n\t\tMASK: 'MASK',\r\n\t\tBLEND: 'BLEND'\r\n\t};\r\n\r\n\t/* UTILITY FUNCTIONS */\r\n\r\n\tfunction resolveURL( url, path ) {\r\n\r\n\t\t// Invalid URL\r\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\r\n\r\n\t\t// Host Relative URL\r\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\r\n\r\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\r\n\r\n\t\t}\r\n\r\n\t\t// Absolute URL http://,https://,//\r\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\r\n\r\n\t\t// Data URI\r\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Blob URL\r\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Relative URL\r\n\t\treturn path + url;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\r\n\t */\r\n\tfunction createDefaultMaterial( cache ) {\r\n\r\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\r\n\r\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\r\n\t\t\t\tcolor: 0xFFFFFF,\r\n\t\t\t\temissive: 0x000000,\r\n\t\t\t\tmetalness: 1,\r\n\t\t\t\troughness: 1,\r\n\t\t\t\ttransparent: false,\r\n\t\t\t\tdepthTest: true,\r\n\t\t\t\tside: FrontSide\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn cache[ 'DefaultMaterial' ];\r\n\r\n\t}\r\n\r\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\r\n\r\n\t\t// Add unknown glTF extensions to an object's userData.\r\n\r\n\t\tfor ( var name in objectDef.extensions ) {\r\n\r\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\r\n\r\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\r\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Object3D|Material|BufferGeometry} object\r\n\t * @param {GLTF.definition} gltfDef\r\n\t */\r\n\tfunction assignExtrasToUserData( object, gltfDef ) {\r\n\r\n\t\tif ( gltfDef.extras !== undefined ) {\r\n\r\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\r\n\r\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\r\n\t *\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Array<GLTF.Target>} targets\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addMorphTargets( geometry, targets, parser ) {\r\n\r\n\t\tvar hasMorphPosition = false;\r\n\t\tvar hasMorphNormal = false;\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\r\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\r\n\r\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\r\n\r\n\t\tvar pendingPositionAccessors = [];\r\n\t\tvar pendingNormalAccessors = [];\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( hasMorphPosition ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\r\n\t\t\t\t\t: geometry.attributes.position;\r\n\r\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasMorphNormal ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\r\n\t\t\t\t\t: geometry.attributes.normal;\r\n\r\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\t\t\tPromise.all( pendingPositionAccessors ),\r\n\t\t\tPromise.all( pendingNormalAccessors )\r\n\t\t] ).then( function ( accessors ) {\r\n\r\n\t\t\tvar morphPositions = accessors[ 0 ];\r\n\t\t\tvar morphNormals = accessors[ 1 ];\r\n\r\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\r\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\r\n\t\t\tgeometry.morphTargetsRelative = true;\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Mesh} mesh\r\n\t * @param {GLTF.Mesh} meshDef\r\n\t */\r\n\tfunction updateMorphTargets( mesh, meshDef ) {\r\n\r\n\t\tmesh.updateMorphTargets();\r\n\r\n\t\tif ( meshDef.weights !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\r\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\r\n\r\n\t\t\tvar targetNames = meshDef.extras.targetNames;\r\n\r\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\r\n\r\n\t\t\t\tmesh.morphTargetDictionary = {};\r\n\r\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction createPrimitiveKey( primitiveDef ) {\r\n\r\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\r\n\t\tvar geometryKey;\r\n\r\n\t\tif ( dracoExtension ) {\r\n\r\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\r\n\t\t\t\t+ ':' + dracoExtension.indices\r\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\r\n\r\n\t\t}\r\n\r\n\t\treturn geometryKey;\r\n\r\n\t}\r\n\r\n\tfunction createAttributesKey( attributes ) {\r\n\r\n\t\tvar attributesKey = '';\r\n\r\n\t\tvar keys = Object.keys( attributes ).sort();\r\n\r\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\r\n\r\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\r\n\r\n\t\t}\r\n\r\n\t\treturn attributesKey;\r\n\r\n\t}\r\n\r\n\t/* GLTF PARSER */\r\n\r\n\tfunction GLTFParser( json, options ) {\r\n\r\n\t\tthis.json = json || {};\r\n\t\tthis.extensions = {};\r\n\t\tthis.plugins = {};\r\n\t\tthis.options = options || {};\r\n\r\n\t\t// loader object cache\r\n\t\tthis.cache = new GLTFRegistry();\r\n\r\n\t\t// associations between Three.js objects and glTF elements\r\n\t\tthis.associations = new Map();\r\n\r\n\t\t// BufferGeometry caching\r\n\t\tthis.primitiveCache = {};\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.meshCache = { refs: {}, uses: {} };\r\n\t\tthis.cameraCache = { refs: {}, uses: {} };\r\n\t\tthis.lightCache = { refs: {}, uses: {} };\r\n\r\n\t\t// Track node names, to ensure no duplicates\r\n\t\tthis.nodeNamesUsed = {};\r\n\r\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\r\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\r\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\r\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\r\n\r\n\t\t}\r\n\r\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\r\n\r\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\r\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\r\n\r\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\r\n\r\n\t\t\tthis.fileLoader.setWithCredentials( true );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tGLTFParser.prototype.setExtensions = function ( extensions ) {\r\n\r\n\t\tthis.extensions = extensions;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.setPlugins = function ( plugins ) {\r\n\r\n\t\tthis.plugins = plugins;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\t// Clear the loader cache\r\n\t\tthis.cache.removeAll();\r\n\r\n\t\t// Mark the special nodes/meshes in json for efficient parse\r\n\t\tthis._invokeAll( function ( ext ) {\r\n\r\n\t\t\treturn ext._markDefs && ext._markDefs();\r\n\r\n\t\t} );\r\n\r\n\t\tPromise.all( [\r\n\r\n\t\t\tthis.getDependencies( 'scene' ),\r\n\t\t\tthis.getDependencies( 'animation' ),\r\n\t\t\tthis.getDependencies( 'camera' ),\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar result = {\r\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\r\n\t\t\t\tscenes: dependencies[ 0 ],\r\n\t\t\t\tanimations: dependencies[ 1 ],\r\n\t\t\t\tcameras: dependencies[ 2 ],\r\n\t\t\t\tasset: json.asset,\r\n\t\t\t\tparser: parser,\r\n\t\t\t\tuserData: {}\r\n\t\t\t};\r\n\r\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\r\n\r\n\t\t\tassignExtrasToUserData( result, json );\r\n\r\n\t\t\tonLoad( result );\r\n\r\n\t\t} ).catch( onError );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Marks the special nodes/meshes in json for efficient parse.\r\n\t */\r\n\tGLTFParser.prototype._markDefs = function () {\r\n\r\n\t\tvar nodeDefs = this.json.nodes || [];\r\n\t\tvar skinDefs = this.json.skins || [];\r\n\t\tvar meshDefs = this.json.meshes || [];\r\n\r\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\r\n\t\t// Object3D. Use the skins' joint references to mark bones.\r\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\r\n\r\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\r\n\r\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Iterate over all nodes, marking references to shared resources,\r\n\t\t// as well as skeleton joints.\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\r\n\r\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\r\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\r\n\t\t\t\t// to mark SkinnedMesh if node has skin.\r\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\r\n\r\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Counts references to shared node / Object3D resources. These resources\r\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\r\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\r\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\r\n\t * Textures) can be reused directly and are not marked here.\r\n\t *\r\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\r\n\t */\r\n\tGLTFParser.prototype._addNodeRef = function ( cache, index ) {\r\n\r\n\t\tif ( index === undefined ) return;\r\n\r\n\t\tif ( cache.refs[ index ] === undefined ) {\r\n\r\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\r\n\r\n\t\t}\r\n\r\n\t\tcache.refs[ index ] ++;\r\n\r\n\t};\r\n\r\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\r\n\tGLTFParser.prototype._getNodeRef = function ( cache, index, object ) {\r\n\r\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\r\n\r\n\t\tvar ref = object.clone();\r\n\r\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\r\n\r\n\t\treturn ref;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeOne = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.push( this );\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) return result;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeAll = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.unshift( this );\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) pending.push( result );\r\n\r\n\t\t}\r\n\r\n\t\treturn pending;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests the specified dependency asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @param {number} index\r\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\r\n\t */\r\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\r\n\r\n\t\tvar cacheKey = type + ':' + index;\r\n\t\tvar dependency = this.cache.get( cacheKey );\r\n\r\n\t\tif ( ! dependency ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 'scene':\r\n\t\t\t\t\tdependency = this.loadScene( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'node':\r\n\t\t\t\t\tdependency = this.loadNode( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'mesh':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'accessor':\r\n\t\t\t\t\tdependency = this.loadAccessor( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bufferView':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'buffer':\r\n\t\t\t\t\tdependency = this.loadBuffer( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'material':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'texture':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'skin':\r\n\t\t\t\t\tdependency = this.loadSkin( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'animation':\r\n\t\t\t\t\tdependency = this.loadAnimation( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'camera':\r\n\t\t\t\t\tdependency = this.loadCamera( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.cache.add( cacheKey, dependency );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests all dependencies of the specified type asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @return {Promise<Array<Object>>}\r\n\t */\r\n\tGLTFParser.prototype.getDependencies = function ( type ) {\r\n\r\n\t\tvar dependencies = this.cache.get( type );\r\n\r\n\t\tif ( ! dependencies ) {\r\n\r\n\t\t\tvar parser = this;\r\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\r\n\r\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\r\n\r\n\t\t\t\treturn parser.getDependency( type, index );\r\n\r\n\t\t\t} ) );\r\n\r\n\t\t\tthis.cache.add( type, dependencies );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependencies;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\r\n\r\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\r\n\t\tvar loader = this.fileLoader;\r\n\r\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\r\n\r\n\t\t}\r\n\r\n\t\t// If present, GLB container is required to be the first buffer.\r\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\r\n\r\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\r\n\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\r\n\r\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferViewIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\r\n\r\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\r\n\r\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\r\n\r\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\r\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\r\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\r\n\t * @param {number} accessorIndex\r\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\r\n\t */\r\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\r\n\r\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\r\n\r\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\r\n\t\t\t// information about attributes coming from another source (e.g. Draco\r\n\t\t\t// compression extension).\r\n\t\t\treturn Promise.resolve( null );\r\n\r\n\t\t}\r\n\r\n\t\tvar pendingBufferViews = [];\r\n\r\n\t\tif ( accessorDef.bufferView !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpendingBufferViews.push( null );\r\n\r\n\t\t}\r\n\r\n\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\r\n\r\n\t\t\tvar bufferView = bufferViews[ 0 ];\r\n\r\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\r\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\r\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\r\n\t\t\tvar itemBytes = elementBytes * itemSize;\r\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\r\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\r\n\t\t\tvar normalized = accessorDef.normalized === true;\r\n\t\t\tvar array, bufferAttribute;\r\n\r\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\r\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\r\n\r\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\r\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\r\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\r\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\r\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\r\n\r\n\t\t\t\tif ( ! ib ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\r\n\r\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\r\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\r\n\r\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( bufferView === null ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\r\n\t\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\r\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\r\n\r\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\r\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\r\n\r\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\r\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\r\n\r\n\t\t\t\tif ( bufferView !== null ) {\r\n\r\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\r\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar index = sparseIndices[ i ];\r\n\r\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\r\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\r\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\r\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\r\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn bufferAttribute;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\r\n\t * @param {number} textureIndex\r\n\t * @return {Promise<THREE.Texture>}\r\n\t */\r\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar textureExtensions = textureDef.extensions || {};\r\n\r\n\t\tvar source;\r\n\r\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\r\n\r\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\tsource = json.images[ textureDef.source ];\r\n\r\n\t\t}\r\n\r\n\t\tvar loader;\r\n\r\n\t\tif ( source.uri ) {\r\n\r\n\t\t\tloader = options.manager.getHandler( source.uri );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\r\n\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\r\n\t\t\t\t: this.textureLoader;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.loadTextureImage = function ( textureIndex, source, loader ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar URL = self.URL || self.webkitURL;\r\n\r\n\t\tvar sourceURI = source.uri;\r\n\t\tvar isObjectURL = false;\r\n\t\tvar hasAlpha = true;\r\n\r\n\t\tif ( source.mimeType === 'image/jpeg' ) hasAlpha = false;\r\n\r\n\t\tif ( source.bufferView !== undefined ) {\r\n\r\n\t\t\t// Load binary image data from bufferView, if provided.\r\n\t\t\t\r\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\r\n\r\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\r\n\r\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\r\n\t\t\t\t\t// alpha channel. This check is conservative  the image could have an alpha\r\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\r\n\t\t\t\t\t// sometimes contains alpha.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\r\n\t\t\t\t\tvar colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\r\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tisObjectURL = true;\r\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\r\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\r\n\t\t\t\treturn sourceURI;\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\t\tvar onLoad = resolve;\r\n\r\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\r\n\r\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\r\n\r\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} ).then( function ( texture ) {\r\n\r\n\t\t\t// Clean up resources and configure Texture.\r\n\r\n\t\t\tif ( isObjectURL === true ) {\r\n\r\n\t\t\t\tURL.revokeObjectURL( sourceURI );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.flipY = false;\r\n\r\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\r\n\r\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\r\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\r\n\r\n\t\t\tvar samplers = json.samplers || {};\r\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\r\n\r\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\r\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\r\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\r\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\r\n\r\n\t\t\tparser.associations.set( texture, {\r\n\t\t\t\ttype: 'textures',\r\n\t\t\t\tindex: textureIndex\r\n\t\t\t} );\r\n\r\n\t\t\treturn texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Asynchronously assigns a texture to the given material parameters.\r\n\t * @param {Object} materialParams\r\n\t * @param {string} mapName\r\n\t * @param {Object} mapDef\r\n\t * @return {Promise}\r\n\t */\r\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\r\n\r\n\t\tvar parser = this;\r\n\r\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\r\n\r\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\r\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\r\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\r\n\r\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\r\n\r\n\t\t\t\tif ( transform ) {\r\n\r\n\t\t\t\t\tvar gltfReference = parser.associations.get( texture );\r\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\r\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams[ mapName ] = texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\r\n\t * already has a material (generated from the glTF material options alone)\r\n\t * but reuse of the same glTF material may require multiple threejs materials\r\n\t * to accomodate different primitive types, defines, etc. New materials will\r\n\t * be created if necessary, and reused from a cache.\r\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\r\n\t */\r\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\r\n\r\n\t\tvar geometry = mesh.geometry;\r\n\t\tvar material = mesh.material;\r\n\r\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\r\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\r\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\r\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\r\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\r\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\r\n\r\n\t\tif ( mesh.isPoints ) {\r\n\r\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\r\n\r\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! pointsMaterial ) {\r\n\r\n\t\t\t\tpointsMaterial = new PointsMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\r\n\t\t\t\tpointsMaterial.color.copy( material.color );\r\n\t\t\t\tpointsMaterial.map = material.map;\r\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = pointsMaterial;\r\n\r\n\t\t} else if ( mesh.isLine ) {\r\n\r\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\r\n\r\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! lineMaterial ) {\r\n\r\n\t\t\t\tlineMaterial = new LineBasicMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\r\n\t\t\t\tlineMaterial.color.copy( material.color );\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = lineMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// Clone the material if it will be modified\r\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\r\n\r\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\r\n\r\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\r\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\r\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\r\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\r\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\r\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\r\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\r\n\r\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! cachedMaterial ) {\r\n\r\n\t\t\t\tcachedMaterial = material.clone();\r\n\r\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\r\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\r\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\r\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\r\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\r\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\r\n\r\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = cachedMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// workarounds for mesh and geometry\r\n\r\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\r\n\r\n\t\t}\r\n\r\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\r\n\t\tif ( material.normalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.clearcoatNormalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.clearcoatNormalScale.y = - material.clearcoatNormalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tmesh.material = material;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.getMaterialType = function ( /* materialIndex */ ) {\r\n\r\n\t\treturn MeshStandardMaterial;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\r\n\t * @param {number} materialIndex\r\n\t * @return {Promise<Material>}\r\n\t */\r\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar materialDef = json.materials[ materialIndex ];\r\n\r\n\t\tvar materialType;\r\n\t\tvar materialParams = {};\r\n\t\tvar materialExtensions = materialDef.extensions || {};\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\r\n\r\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\r\n\t\t\tmaterialType = sgExtension.getMaterialType();\r\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\r\n\r\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\r\n\t\t\tmaterialType = kmuExtension.getMaterialType();\r\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Specification:\r\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\r\n\r\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\r\n\r\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\r\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\r\n\r\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\r\n\r\n\t\t\t} ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.doubleSided === true ) {\r\n\r\n\t\t\tmaterialParams.side = DoubleSide;\r\n\r\n\t\t}\r\n\r\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\r\n\r\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\r\n\r\n\t\t\tmaterialParams.transparent = true;\r\n\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\r\n\t\t\tmaterialParams.depthWrite = false;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmaterialParams.transparent = false;\r\n\r\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\r\n\r\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\r\n\r\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\r\n\r\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\tvar material;\r\n\r\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\r\n\r\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial = new materialType( materialParams );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\r\n\r\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\r\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\r\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\r\n\r\n\t\t\tassignExtrasToUserData( material, materialDef );\r\n\r\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\r\n\r\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/** When Object3D instances are targeted by animation, they need unique names. */\r\n\tGLTFParser.prototype.createUniqueName = function ( originalName ) {\r\n\r\n\t\tvar name = PropertyBinding.sanitizeNodeName( originalName || '' );\r\n\r\n\t\tfor ( var i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\r\n\r\n\t\t\tname = originalName + '_' + i;\r\n\r\n\t\t}\r\n\r\n\t\tthis.nodeNamesUsed[ name ] = true;\r\n\r\n\t\treturn name;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t */\r\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar box = new Box3();\r\n\r\n\t\tif ( attributes.POSITION !== undefined ) {\r\n\r\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\r\n\r\n\t\t\tvar min = accessor.min;\r\n\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\tbox.set(\r\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\r\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar targets = primitiveDef.targets;\r\n\r\n\t\tif ( targets !== undefined ) {\r\n\r\n\t\t\tvar maxDisplacement = new Vector3();\r\n\t\t\tvar vector = new Vector3();\r\n\r\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( target.POSITION !== undefined ) {\r\n\r\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\r\n\t\t\t\t\tvar min = accessor.min;\r\n\t\t\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\r\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\r\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\r\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\r\n\r\n\t\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\r\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\r\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\r\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\r\n\t\t\t\t\t\tmaxDisplacement.max( vector );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\r\n\t\t\tbox.expandByVector( maxDisplacement );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.boundingBox = box;\r\n\r\n\t\tvar sphere = new Sphere();\r\n\r\n\t\tbox.getCenter( sphere.center );\r\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\r\n\r\n\t\tgeometry.boundingSphere = sphere;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\r\n\r\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\r\n\t\t\t\t.then( function ( accessor ) {\r\n\r\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var gltfAttributeName in attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\r\n\r\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\r\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\r\n\r\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\r\n\r\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\r\n\r\n\t\t\t\tgeometry.setIndex( accessor );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( accessor );\r\n\r\n\t\t}\r\n\r\n\t\tassignExtrasToUserData( geometry, primitiveDef );\r\n\r\n\t\tcomputeBounds( geometry, primitiveDef, parser );\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\treturn primitiveDef.targets !== undefined\r\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\r\n\t\t\t\t: geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Number} drawMode\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\r\n\r\n\t\tvar index = geometry.getIndex();\r\n\r\n\t\t// generate index if not present\r\n\r\n\t\tif ( index === null ) {\r\n\r\n\t\t\tvar indices = [];\r\n\r\n\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\treturn geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar numberOfTriangles = index.count - 2;\r\n\t\tvar newIndices = [];\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t}\r\n\r\n\t\t// build final geometry\r\n\r\n\t\tvar newGeometry = geometry.clone();\r\n\t\tnewGeometry.setIndex( newIndices );\r\n\r\n\t\treturn newGeometry;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\r\n\t *\r\n\t * Creates BufferGeometries from primitives.\r\n\t *\r\n\t * @param {Array<GLTF.Primitive>} primitives\r\n\t * @return {Promise<Array<BufferGeometry>>}\r\n\t */\r\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar cache = this.primitiveCache;\r\n\r\n\t\tfunction createDracoPrimitive( primitive ) {\r\n\r\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\r\n\t\t\t\t.decodePrimitive( primitive, parser )\r\n\t\t\t\t.then( function ( geometry ) {\r\n\r\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar primitive = primitives[ i ];\r\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\r\n\r\n\t\t\t// See if we've already created this geometry\r\n\t\t\tvar cached = cache[ cacheKey ];\r\n\r\n\t\t\tif ( cached ) {\r\n\r\n\t\t\t\t// Use the cached geometry if it exists\r\n\t\t\t\tpending.push( cached.promise );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar geometryPromise;\r\n\r\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\r\n\r\n\t\t\t\t\t// Use DRACO geometry if available\r\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Otherwise create a new geometry\r\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache this geometry\r\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\r\n\r\n\t\t\t\tpending.push( geometryPromise );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\r\n\t * @param {number} meshIndex\r\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\r\n\t */\r\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\tvar meshDef = json.meshes[ meshIndex ];\r\n\t\tvar primitives = meshDef.primitives;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar material = primitives[ i ].material === undefined\r\n\t\t\t\t? createDefaultMaterial( this.cache )\r\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\r\n\r\n\t\t\tpending.push( material );\r\n\r\n\t\t}\r\n\r\n\t\tpending.push( parser.loadGeometries( primitives ) );\r\n\r\n\t\treturn Promise.all( pending ).then( function ( results ) {\r\n\r\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\r\n\t\t\tvar geometries = results[ results.length - 1 ];\r\n\r\n\t\t\tvar meshes = [];\r\n\r\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar geometry = geometries[ i ];\r\n\t\t\t\tvar primitive = primitives[ i ];\r\n\r\n\t\t\t\t// 1. create Mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tvar material = materials[ i ];\r\n\r\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\r\n\t\t\t\t\tprimitive.mode === undefined ) {\r\n\r\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\r\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\r\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\r\n\t\t\t\t\t\t: new Mesh( geometry, material );\r\n\r\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\r\n\r\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\r\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\r\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\r\n\r\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\r\n\r\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\r\n\r\n\t\t\t\t\tmesh = new Line( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\r\n\r\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\r\n\r\n\t\t\t\t\tmesh = new Points( geometry, material );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\r\n\r\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\r\n\r\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\r\n\r\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\r\n\r\n\t\t\t\tparser.assignFinalMaterial( mesh );\r\n\r\n\t\t\t\tmeshes.push( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( meshes.length === 1 ) {\r\n\r\n\t\t\t\treturn meshes[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar group = new Group();\r\n\r\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tgroup.add( meshes[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn group;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\r\n\t * @param {number} cameraIndex\r\n\t * @return {Promise<THREE.Camera>}\r\n\t */\r\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\r\n\r\n\t\tvar camera;\r\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\r\n\t\tvar params = cameraDef[ cameraDef.type ];\r\n\r\n\t\tif ( ! params ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.type === 'perspective' ) {\r\n\r\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\r\n\r\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\r\n\r\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\r\n\r\n\t\tassignExtrasToUserData( camera, cameraDef );\r\n\r\n\t\treturn Promise.resolve( camera );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\r\n\t * @param {number} skinIndex\r\n\t * @return {Promise<Object>}\r\n\t */\r\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\r\n\r\n\t\tvar skinDef = this.json.skins[ skinIndex ];\r\n\r\n\t\tvar skinEntry = { joints: skinDef.joints };\r\n\r\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\r\n\r\n\t\t\treturn Promise.resolve( skinEntry );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\r\n\r\n\t\t\tskinEntry.inverseBindMatrices = accessor;\r\n\r\n\t\t\treturn skinEntry;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\r\n\t * @param {number} animationIndex\r\n\t * @return {Promise<AnimationClip>}\r\n\t */\r\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar animationDef = json.animations[ animationIndex ];\r\n\r\n\t\tvar pendingNodes = [];\r\n\t\tvar pendingInputAccessors = [];\r\n\t\tvar pendingOutputAccessors = [];\r\n\t\tvar pendingSamplers = [];\r\n\t\tvar pendingTargets = [];\r\n\r\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar channel = animationDef.channels[ i ];\r\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\r\n\t\t\tvar target = channel.target;\r\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\r\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\r\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\r\n\r\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\r\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\r\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\r\n\t\t\tpendingSamplers.push( sampler );\r\n\t\t\tpendingTargets.push( target );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\r\n\t\t\tPromise.all( pendingNodes ),\r\n\t\t\tPromise.all( pendingInputAccessors ),\r\n\t\t\tPromise.all( pendingOutputAccessors ),\r\n\t\t\tPromise.all( pendingSamplers ),\r\n\t\t\tPromise.all( pendingTargets )\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar nodes = dependencies[ 0 ];\r\n\t\t\tvar inputAccessors = dependencies[ 1 ];\r\n\t\t\tvar outputAccessors = dependencies[ 2 ];\r\n\t\t\tvar samplers = dependencies[ 3 ];\r\n\t\t\tvar targets = dependencies[ 4 ];\r\n\r\n\t\t\tvar tracks = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar node = nodes[ i ];\r\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\r\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\r\n\t\t\t\tvar sampler = samplers[ i ];\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( node === undefined ) continue;\r\n\r\n\t\t\t\tnode.updateMatrix();\r\n\t\t\t\tnode.matrixAutoUpdate = true;\r\n\r\n\t\t\t\tvar TypedKeyframeTrack;\r\n\r\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.position:\r\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\r\n\r\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\r\n\r\n\t\t\t\tvar targetNames = [];\r\n\r\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\r\n\r\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\r\n\t\t\t\t\tnode.traverse( function ( object ) {\r\n\r\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\r\n\r\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttargetNames.push( targetName );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar outputArray = outputAccessor.array;\r\n\r\n\t\t\t\tif ( outputAccessor.normalized ) {\r\n\r\n\t\t\t\t\tvar scale;\r\n\r\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 127;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 255;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 32767;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 65535;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutputArray = scaled;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\r\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\r\n\t\t\t\t\t\tinputAccessor.array,\r\n\t\t\t\t\t\toutputArray,\r\n\t\t\t\t\t\tinterpolation\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Override interpolation with custom factory method.\r\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\r\n\r\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\r\n\r\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\r\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\r\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\r\n\r\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\r\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttracks.push( track );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\r\n\r\n\t\t\treturn new AnimationClip( name, undefined, tracks );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\r\n\t * @param {number} nodeIndex\r\n\t * @return {Promise<Object3D>}\r\n\t */\r\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar parser = this;\r\n\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\r\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\r\n\t\tvar nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\r\n\r\n\t\treturn ( function () {\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\r\n\r\n\t\t\t\t\tvar node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\r\n\r\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\r\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\r\n\r\n\t\t\t\t\t\tnode.traverse( function ( o ) {\r\n\r\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\r\n\r\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\r\n\r\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\r\n\r\n\t\t\t} ).forEach( function ( promise ) {\r\n\r\n\t\t\t\tpending.push( promise );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\treturn Promise.all( pending );\r\n\r\n\t\t}() ).then( function ( objects ) {\r\n\r\n\t\t\tvar node;\r\n\r\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\r\n\t\t\tif ( nodeDef.isBone === true ) {\r\n\r\n\t\t\t\tnode = new Bone();\r\n\r\n\t\t\t} else if ( objects.length > 1 ) {\r\n\r\n\t\t\t\tnode = new Group();\r\n\r\n\t\t\t} else if ( objects.length === 1 ) {\r\n\r\n\t\t\t\tnode = objects[ 0 ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnode = new Object3D();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node !== objects[ 0 ] ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tnode.add( objects[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.name ) {\r\n\r\n\t\t\t\tnode.userData.name = nodeDef.name;\r\n\t\t\t\tnode.name = nodeName;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tassignExtrasToUserData( node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.matrix !== undefined ) {\r\n\r\n\t\t\t\tvar matrix = new Matrix4();\r\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\r\n\t\t\t\tnode.applyMatrix4( matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\r\n\r\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\r\n\r\n\t\t\treturn node;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\r\n\t * @param {number} sceneIndex\r\n\t * @return {Promise<Group>}\r\n\t */\r\n\tGLTFParser.prototype.loadScene = function () {\r\n\r\n\t\t// scene node hierachy builder\r\n\r\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\r\n\r\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\r\n\r\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\r\n\r\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\r\n\r\n\t\t\t\t// build skeleton here as well\r\n\r\n\t\t\t\tvar skinEntry;\r\n\r\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\r\n\r\n\t\t\t\t\tskinEntry = skin;\r\n\r\n\t\t\t\t\tvar pendingJoints = [];\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Promise.all( pendingJoints );\r\n\r\n\t\t\t\t} ).then( function ( jointNodes ) {\r\n\r\n\t\t\t\t\tnode.traverse( function ( mesh ) {\r\n\r\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\r\n\r\n\t\t\t\t\t\tvar bones = [];\r\n\t\t\t\t\t\tvar boneInverses = [];\r\n\r\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\r\n\r\n\t\t\t\t\t\t\tif ( jointNode ) {\r\n\r\n\t\t\t\t\t\t\t\tbones.push( jointNode );\r\n\r\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\r\n\r\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\r\n\r\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t} ).then( function ( node ) {\r\n\r\n\t\t\t\t// build node hierachy\r\n\r\n\t\t\t\tparentObject.add( node );\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( nodeDef.children ) {\r\n\r\n\t\t\t\t\tvar children = nodeDef.children;\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar child = children[ i ];\r\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn function loadScene( sceneIndex ) {\r\n\r\n\t\t\tvar json = this.json;\r\n\t\t\tvar extensions = this.extensions;\r\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\r\n\t\t\tvar parser = this;\r\n\r\n\t\t\t// Loader returns Group, not Scene.\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\r\n\t\t\tvar scene = new Group();\r\n\t\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\r\n\r\n\t\t\tassignExtrasToUserData( scene, sceneDef );\r\n\r\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\r\n\r\n\t\t\tvar nodeIds = sceneDef.nodes || [];\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\t\treturn scene;\r\n\r\n\t\t\t} );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\treturn GLTFLoader;\r\n\r\n} )();\r\n\r\nexport { GLTFLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/GLTFLoader.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = sOR5\n// module chunks = 0","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = ujcs\n// module chunks = 0","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { TextureCubeUVNode } from './TextureCubeUVNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\n\r\nfunction TextureCubeNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n\tthis.radianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tuv || new ReflectNode( ReflectNode.VECTOR ),\r\n\t\t// bias should be replaced in builder.context in build process\r\n\t\tbias\r\n\t);\r\n\r\n\tthis.irradianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tnew NormalNode( NormalNode.WORLD ),\r\n\t\tnew FloatNode( 1 ).setReadonly( true )\r\n\t);\r\n\r\n}\r\n\r\nTextureCubeNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeNode.prototype.constructor = TextureCubeNode;\r\nTextureCubeNode.prototype.nodeType = \"TextureCube\";\r\n\r\nTextureCubeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tbuilder.require( 'irradiance' );\r\n\r\n\t\tif ( builder.context.bias ) {\r\n\r\n\t\t\tbuilder.context.bias.setTexture( this.value );\r\n\r\n\t\t}\r\n\r\n\t\tvar scopeNode = builder.slot === 'irradiance' ? this.irradianceNode : this.radianceNode;\r\n\r\n\t\treturn scopeNode.build( builder, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeNode.js","/*!\r\n\r\nJSZip - A Javascript class for generating and reading zip files\r\n<http://stuartk.com/jszip>\r\n\r\n(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>\r\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\r\n\r\nJSZip uses the library pako released under the MIT license :\r\nhttps://github.com/nodeca/pako/blob/master/LICENSE\r\n*/\r\n!function(a){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=a();else if(\"function\"==typeof define&&define.amd)define([],a);else{var b;b=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\"function\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\"Cannot find module '\"+g+\"'\");throw j.code=\"MODULE_NOT_FOUND\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\"function\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){\"use strict\";function d(a){if(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0;for(var b=0;b<this.data.length;b++)a[b]=255&a[b]}}var e=a(\"./dataReader\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data[this.zero+a]},d.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f-this.zero;return-1},d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6}],2:[function(a,b,c){\"use strict\";var d=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";c.encode=function(a,b){for(var c,e,f,g,h,i,j,k=\"\",l=0;l<a.length;)c=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k=k+d.charAt(g)+d.charAt(h)+d.charAt(i)+d.charAt(j);return k},c.decode=function(a,b){var c,e,f,g,h,i,j,k=\"\",l=0;for(a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");l<a.length;)g=d.indexOf(a.charAt(l++)),h=d.indexOf(a.charAt(l++)),i=d.indexOf(a.charAt(l++)),j=d.indexOf(a.charAt(l++)),c=g<<2|h>>4,e=(15&h)<<4|i>>2,f=(3&i)<<6|j,k+=String.fromCharCode(c),64!=i&&(k+=String.fromCharCode(e)),64!=j&&(k+=String.fromCharCode(f));return k}},{}],3:[function(a,b,c){\"use strict\";function d(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}d.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},b.exports=d},{}],4:[function(a,b,c){\"use strict\";c.STORE={magic:\"\\x00\\x00\",compress:function(a,b){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null},c.DEFLATE=a(\"./flate\")},{\"./flate\":9}],5:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(a,b){if(\"undefined\"==typeof a||!a.length)return 0;var c=\"string\"!==d.getTypeOf(a);\"undefined\"==typeof b&&(b=0);var f=0,g=0,h=0;b=-1^b;for(var i=0,j=a.length;j>i;i++)h=c?a[i]:a.charCodeAt(i),g=255&(b^h),f=e[g],b=b>>>8^f;return-1^b}},{\"./utils\":22}],6:[function(a,b,c){\"use strict\";function d(a){this.data=null,this.length=0,this.index=0,this.zero=0}var e=a(\"./utils\");d.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||0>a)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+a+\"). Corrupted zip ?\")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return e.transformTo(\"string\",this.readData(a))},readData:function(a){},lastIndexOfSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1)}},b.exports=d},{\"./utils\":22}],7:[function(a,b,c){\"use strict\";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!1,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],8:[function(a,b,c){\"use strict\";var d=a(\"./utils\");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo(\"uint8array\",a)},c.uint8Array2String=function(a){return d.transformTo(\"string\",a)},c.string2Blob=function(a){var b=d.transformTo(\"arraybuffer\",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{\"./utils\":22}],9:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,e=a(\"pako\");c.uncompressInputType=d?\"uint8array\":\"array\",c.compressInputType=d?\"uint8array\":\"array\",c.magic=\"\\b\\x00\",c.compress=function(a,b){return e.deflateRaw(a,{level:b.level||-1})},c.uncompress=function(a){return e.inflateRaw(a)}},{pako:25}],10:[function(a,b,c){\"use strict\";function d(a,b){return this instanceof d?(this.files={},this.comment=null,this.root=\"\",a&&this.load(a,b),void(this.clone=function(){var a=new d;for(var b in this)\"function\"!=typeof this[b]&&(a[b]=this[b]);return a})):new d(a,b)}var e=a(\"./base64\");d.prototype=a(\"./object\"),d.prototype.load=a(\"./load\"),d.support=a(\"./support\"),d.defaults=a(\"./defaults\"),d.utils=a(\"./deprecatedPublicUtils\"),d.base64={encode:function(a){return e.encode(a)},decode:function(a){return e.decode(a)}},d.compressions=a(\"./compressions\"),b.exports=d},{\"./base64\":2,\"./compressions\":4,\"./defaults\":7,\"./deprecatedPublicUtils\":8,\"./load\":11,\"./object\":14,\"./support\":18}],11:[function(a,b,c){\"use strict\";var d=a(\"./base64\"),e=a(\"./utf8\"),f=a(\"./utils\"),g=a(\"./zipEntries\");b.exports=function(a,b){var c,h,i,j;for(b=f.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),b.base64&&(a=d.decode(a)),h=new g(a,b),c=h.files,i=0;i<c.length;i++)j=c[i],this.file(j.fileNameStr,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:b.createFolders});return h.zipComment.length&&(this.comment=h.zipComment),this}},{\"./base64\":2,\"./utf8\":21,\"./utils\":22,\"./zipEntries\":23}],12:[function(a,b,c){(function(a){\"use strict\";b.exports=function(b,c){return new a(b,c)},b.exports.test=function(b){return a.isBuffer(b)}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],13:[function(a,b,c){\"use strict\";function d(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./uint8ArrayReader\");d.prototype=new e,d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./uint8ArrayReader\":19}],14:[function(a,b,c){\"use strict\";var d=a(\"./support\"),e=a(\"./utils\"),f=a(\"./crc32\"),g=a(\"./signature\"),h=a(\"./defaults\"),i=a(\"./base64\"),j=a(\"./compressions\"),k=a(\"./compressedObject\"),l=a(\"./nodeBuffer\"),m=a(\"./utf8\"),n=a(\"./stringWriter\"),o=a(\"./uint8ArrayWriter\"),p=function(a){if(a._data instanceof k&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,\"uint8array\"===e.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},q=function(a){var b=p(a),c=e.getTypeOf(b);return\"string\"===c?!a.options.binary&&d.nodebuffer?l(b,\"utf-8\"):a.asBinary():b},r=function(a){var b=p(this);return null===b||\"undefined\"==typeof b?\"\":(this.options.base64&&(b=i.decode(b)),b=a&&this.options.binary?D.utf8decode(b):e.transformTo(\"string\",b),a||this.options.binary||(b=e.transformTo(\"string\",D.utf8encode(b))),b)},s=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this.options=c,this._initialMetadata={dir:c.dir,date:c.date}};s.prototype={asText:function(){return r.call(this,!0)},asBinary:function(){return r.call(this,!1)},asNodeBuffer:function(){var a=q(this);return e.transformTo(\"nodebuffer\",a)},asUint8Array:function(){var a=q(this);return e.transformTo(\"uint8array\",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var t=function(a,b){var c,d=\"\";for(c=0;b>c;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},u=function(a){return a=a||{},a.base64!==!0||null!==a.binary&&void 0!==a.binary||(a.binary=!0),a=e.extend(a,h),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},v=function(a,b,c){var d,f=e.getTypeOf(b);if(c=u(c),\"string\"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(a=x(a)),c.createFolders&&(d=w(a))&&y.call(this,d,!0),c.dir||null===b||\"undefined\"==typeof b)c.base64=!1,c.binary=!1,b=null,f=null;else if(\"string\"===f)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=e.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(f||b instanceof k))throw new Error(\"The data of '\"+a+\"' is in an unsupported format !\");\"arraybuffer\"===f&&(b=e.transformTo(\"uint8array\",b))}var g=new s(a,b,c);return this.files[a]=g,g},w=function(a){\"/\"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf(\"/\");return b>0?a.substring(0,b):\"\"},x=function(a){return\"/\"!=a.slice(-1)&&(a+=\"/\"),a},y=function(a,b){return b=\"undefined\"!=typeof b?b:!1,a=x(a),this.files[a]||v.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},z=function(a,b,c){var d,g=new k;return a._data instanceof k?(g.uncompressedSize=a._data.uncompressedSize,g.crc32=a._data.crc32,0===g.uncompressedSize||a.dir?(b=j.STORE,g.compressedContent=\"\",g.crc32=0):a._data.compressionMethod===b.magic?g.compressedContent=a._data.getCompressedContent():(d=a._data.getContent(),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c))):(d=q(a),d&&0!==d.length&&!a.dir||(b=j.STORE,d=\"\"),g.uncompressedSize=d.length,g.crc32=f(d),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c)),g.compressedSize=g.compressedContent.length,g.compressionMethod=b.magic,g},A=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},B=function(a,b){return 63&(a||0)},C=function(a,b,c,d,h,i){var j,k,l,n,o=(c.compressedContent,i!==m.utf8encode),p=e.transformTo(\"string\",i(b.name)),q=e.transformTo(\"string\",m.utf8encode(b.name)),r=b.comment||\"\",s=e.transformTo(\"string\",i(r)),u=e.transformTo(\"string\",m.utf8encode(r)),v=q.length!==b.name.length,w=u.length!==r.length,x=b.options,y=\"\",z=\"\",C=\"\";l=b._initialMetadata.dir!==b.dir?b.dir:x.dir,n=b._initialMetadata.date!==b.date?b.date:x.date;var D=0,E=0;l&&(D|=16),\"UNIX\"===h?(E=798,D|=A(b.unixPermissions,l)):(E=20,D|=B(b.dosPermissions,l)),j=n.getHours(),j<<=6,j|=n.getMinutes(),j<<=5,j|=n.getSeconds()/2,k=n.getFullYear()-1980,k<<=4,k|=n.getMonth()+1,k<<=5,k|=n.getDate(),v&&(z=t(1,1)+t(f(p),4)+q,y+=\"up\"+t(z.length,2)+z),w&&(C=t(1,1)+t(this.crc32(s),4)+u,y+=\"uc\"+t(C.length,2)+C);var F=\"\";F+=\"\\n\\x00\",F+=o||!v&&!w?\"\\x00\\x00\":\"\\x00\\b\",F+=c.compressionMethod,F+=t(j,2),F+=t(k,2),F+=t(c.crc32,4),F+=t(c.compressedSize,4),F+=t(c.uncompressedSize,4),F+=t(p.length,2),F+=t(y.length,2);var G=g.LOCAL_FILE_HEADER+F+p+y,H=g.CENTRAL_FILE_HEADER+t(E,2)+F+t(s.length,2)+\"\\x00\\x00\\x00\\x00\"+t(D,4)+t(d,4)+p+y+s;return{fileRecord:G,dirRecord:H,compressedObject:c}},D={load:function(a,b){throw new Error(\"Load method is not defined. Is the file jszip-load.js included ?\")},filter:function(a){var b,c,d,f,g=[];for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],f=new s(d.name,d._data,e.extend(d.options)),c=b.slice(this.root.length,b.length),b.slice(0,this.root.length)===this.root&&a(c,f)&&g.push(f));return g},file:function(a,b,c){if(1===arguments.length){if(e.isRegExp(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,v.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(e.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=y.call(this,b),d=this.clone();return d.root=c.name,d},remove:function(a){a=this.root+a;var b=this.files[a];if(b||(\"/\"!=a.slice(-1)&&(a+=\"/\"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){a=e.extend(a||{},{base64:!0,compression:\"STORE\",compressionOptions:null,type:\"base64\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:m.utf8encode}),e.checkSupport(a.type),\"darwin\"!==a.platform&&\"freebsd\"!==a.platform&&\"linux\"!==a.platform&&\"sunos\"!==a.platform||(a.platform=\"UNIX\"),\"win32\"===a.platform&&(a.platform=\"DOS\");var b,c,d=[],f=0,h=0,k=e.transformTo(\"string\",a.encodeFileName(a.comment||this.comment||\"\"));for(var l in this.files)if(this.files.hasOwnProperty(l)){var p=this.files[l],q=p.options.compression||a.compression.toUpperCase(),r=j[q];if(!r)throw new Error(q+\" is not a valid compression method !\");var s=p.options.compressionOptions||a.compressionOptions||{},u=z.call(this,p,r,s),v=C.call(this,l,p,u,f,a.platform,a.encodeFileName);f+=v.fileRecord.length+u.compressedSize,h+=v.dirRecord.length,d.push(v)}var w=\"\";w=g.CENTRAL_DIRECTORY_END+\"\\x00\\x00\\x00\\x00\"+t(d.length,2)+t(d.length,2)+t(h,4)+t(f,4)+t(k.length,2)+k;var x=a.type.toLowerCase();for(b=\"uint8array\"===x||\"arraybuffer\"===x||\"blob\"===x||\"nodebuffer\"===x?new o(f+h+w.length):new n(f+h+w.length),c=0;c<d.length;c++)b.append(d[c].fileRecord),b.append(d[c].compressedObject.compressedContent);for(c=0;c<d.length;c++)b.append(d[c].dirRecord);b.append(w);var y=b.finalize();switch(a.type.toLowerCase()){case\"uint8array\":case\"arraybuffer\":case\"nodebuffer\":return e.transformTo(a.type.toLowerCase(),y);case\"blob\":return e.arrayBuffer2Blob(e.transformTo(\"arraybuffer\",y),a.mimeType);case\"base64\":return a.base64?i.encode(y):y;default:return y}},crc32:function(a,b){return f(a,b)},utf8encode:function(a){return e.transformTo(\"string\",m.utf8encode(a))},utf8decode:function(a){return m.utf8decode(a)}};b.exports=D},{\"./base64\":2,\"./compressedObject\":3,\"./compressions\":4,\"./crc32\":5,\"./defaults\":7,\"./nodeBuffer\":12,\"./signature\":15,\"./stringWriter\":17,\"./support\":18,\"./uint8ArrayWriter\":20,\"./utf8\":21,\"./utils\":22}],15:[function(a,b,c){\"use strict\";c.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",c.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",c.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",c.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",c.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],16:[function(a,b,c){\"use strict\";function d(a,b){this.data=a,b||(this.data=f.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./dataReader\"),f=a(\"./utils\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},d.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6,\"./utils\":22}],17:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(){this.data=[]};e.prototype={append:function(a){a=d.transformTo(\"string\",a),this.data.push(a)},finalize:function(){return this.data.join(\"\")}},b.exports=e},{\"./utils\":22}],18:[function(a,b,c){(function(a){\"use strict\";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,c.nodebuffer=\"undefined\"!=typeof a,c.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)c.blob=!1;else{var b=new ArrayBuffer(0);try{c.blob=0===new Blob([b],{type:\"application/zip\"}).size}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(b),c.blob=0===f.getBlob(\"application/zip\").size}catch(d){c.blob=!1}}}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],19:[function(a,b,c){\"use strict\";function d(a){a&&(this.data=a,this.length=this.data.length,this.index=0,this.zero=0)}var e=a(\"./arrayReader\");d.prototype=new e,d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./arrayReader\":1}],20:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(a){this.data=new Uint8Array(a),this.index=0};e.prototype={append:function(a){0!==a.length&&(a=d.transformTo(\"uint8array\",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},b.exports=e},{\"./utils\":22}],21:[function(a,b,c){\"use strict\";for(var d=a(\"./utils\"),e=a(\"./support\"),f=a(\"./nodeBuffer\"),g=new Array(256),h=0;256>h;h++)g[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;g[254]=g[254]=1;var i=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=e.uint8array?new Uint8Array(i):new Array(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},j=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+g[a[c]]>b?c:b},k=function(a){var b,c,e,f,h=a.length,i=new Array(2*h);for(c=0,b=0;h>b;)if(e=a[b++],128>e)i[c++]=e;else if(f=g[e],f>4)i[c++]=65533,b+=f-1;else{for(e&=2===f?31:3===f?15:7;f>1&&h>b;)e=e<<6|63&a[b++],f--;f>1?i[c++]=65533:65536>e?i[c++]=e:(e-=65536,i[c++]=55296|e>>10&1023,i[c++]=56320|1023&e)}return i.length!==c&&(i.subarray?i=i.subarray(0,c):i.length=c),d.applyFromCharCode(i)};c.utf8encode=function(a){return e.nodebuffer?f(a,\"utf-8\"):i(a)},c.utf8decode=function(a){if(e.nodebuffer)return d.transformTo(\"nodebuffer\",a).toString(\"utf-8\");a=d.transformTo(e.uint8array?\"uint8array\":\"array\",a);for(var b=[],c=0,f=a.length,g=65536;f>c;){var h=j(a,Math.min(c+g,f));e.uint8array?b.push(k(a.subarray(c,h))):b.push(k(a.slice(c,h))),c=h}return b.join(\"\")}},{\"./nodeBuffer\":12,\"./support\":18,\"./utils\":22}],22:[function(a,b,c){\"use strict\";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=[],e=a.length,f=c.getTypeOf(a),g=0,h=!0;try{switch(f){case\"uint8array\":String.fromCharCode.apply(null,new Uint8Array(0));break;case\"nodebuffer\":String.fromCharCode.apply(null,j(0))}}catch(i){h=!1}if(!h){for(var k=\"\",l=0;l<a.length;l++)k+=String.fromCharCode(a[l]);return k}for(;e>g&&b>1;)try{\"array\"===f||\"nodebuffer\"===f?d.push(String.fromCharCode.apply(null,a.slice(g,Math.min(g+b,e)))):d.push(String.fromCharCode.apply(null,a.subarray(g,Math.min(g+b,e)))),g+=b}catch(i){b=Math.floor(b/2)}return d.join(\"\")}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a(\"./support\"),i=a(\"./compressions\"),j=a(\"./nodeBuffer\");c.string2binary=function(a){for(var b=\"\",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},c.arrayBuffer2Blob=function(a,b){c.checkSupport(\"blob\"),b=b||\"application/zip\";try{return new Blob([a],{type:b})}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;return f.append(a),f.getBlob(b)}catch(d){throw new Error(\"Bug : can't construct the Blob.\")}}},c.applyFromCharCode=f;var k={};k.string={string:d,array:function(a){return e(a,new Array(a.length))},arraybuffer:function(a){return k.string.uint8array(a).buffer},uint8array:function(a){return e(a,new Uint8Array(a.length))},nodebuffer:function(a){return e(a,j(a.length))}},k.array={string:f,array:d,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(a)}},k.arraybuffer={string:function(a){return f(new Uint8Array(a))},array:function(a){return g(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:d,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(new Uint8Array(a))}},k.uint8array={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:d,nodebuffer:function(a){return j(a)}},k.nodebuffer={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return k.nodebuffer.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:d},c.transformTo=function(a,b){if(b||(b=\"\"),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=k[d][a](b);return e},c.getTypeOf=function(a){return\"string\"==typeof a?\"string\":\"[object Array]\"===Object.prototype.toString.call(a)?\"array\":h.nodebuffer&&j.test(a)?\"nodebuffer\":h.uint8array&&a instanceof Uint8Array?\"uint8array\":h.arraybuffer&&a instanceof ArrayBuffer?\"arraybuffer\":void 0},c.checkSupport=function(a){var b=h[a.toLowerCase()];if(!b)throw new Error(a+\" is not supported by this browser\")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d=\"\";for(c=0;c<(a||\"\").length;c++)b=a.charCodeAt(c),d+=\"\\\\x\"+(16>b?\"0\":\"\")+b.toString(16).toUpperCase();return d},c.findCompression=function(a){for(var b in i)if(i.hasOwnProperty(b)&&i[b].magic===a)return i[b];return null},c.isRegExp=function(a){return\"[object RegExp]\"===Object.prototype.toString.call(a)},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&\"undefined\"==typeof c[b]&&(c[b]=arguments[a][b]);return c}},{\"./compressions\":4,\"./nodeBuffer\":12,\"./support\":18}],23:[function(a,b,c){\"use strict\";function d(a,b){this.files=[],this.loadOptions=b,a&&this.load(a)}var e=a(\"./stringReader\"),f=a(\"./nodeBufferReader\"),g=a(\"./uint8ArrayReader\"),h=a(\"./arrayReader\"),i=a(\"./utils\"),j=a(\"./signature\"),k=a(\"./zipEntry\"),l=a(\"./support\");a(\"./object\");d.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw new Error(\"Corrupted zip or bug : unexpected signature (\"+i.pretty(b)+\", expected \"+i.pretty(a)+\")\")},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4),e=d===b;return this.reader.setIndex(c),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=l.uint8array?\"uint8array\":\"array\",c=i.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44,e=0;d>e;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readString(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(j.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===j.CENTRAL_FILE_HEADER;)a=new k({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(j.CENTRAL_DIRECTORY_END);if(0>a){var b=!this.isSignature(0,j.LOCAL_FILE_HEADER);throw b?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip : can't find end of central directory\")}this.reader.setIndex(a);var c=a;if(this.checkSignature(j.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>a)throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(a),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,j.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var e=c-d;if(e>0)this.isSignature(c,j.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(0>e)throw new Error(\"Corrupted zip: missing \"+Math.abs(e)+\" bytes.\")},prepareReader:function(a){var b=i.getTypeOf(a);if(i.checkSupport(b),\"string\"!==b||l.uint8array)if(\"nodebuffer\"===b)this.reader=new f(a);else if(l.uint8array)this.reader=new g(i.transformTo(\"uint8array\",a));else{if(!l.array)throw new Error(\"Unexpected error: unsupported type '\"+b+\"'\");this.reader=new h(i.transformTo(\"array\",a))}else this.reader=new e(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=d},{\"./arrayReader\":1,\"./nodeBufferReader\":13,\"./object\":14,\"./signature\":15,\"./stringReader\":16,\"./support\":18,\"./uint8ArrayReader\":19,\"./utils\":22,\"./zipEntry\":24}],24:[function(a,b,c){\"use strict\";function d(a,b){this.options=a,this.loadOptions=b}var e=a(\"./stringReader\"),f=a(\"./utils\"),g=a(\"./compressedObject\"),h=a(\"./object\"),i=a(\"./support\"),j=0,k=3;d.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var e=a.readData(c);return a.setIndex(d),e}},prepareContent:function(a,b,c,d,e){return function(){var a=f.transformTo(d.uncompressInputType,this.getCompressedContent()),b=d.uncompress(a);if(b.length!==e)throw new Error(\"Bug : uncompressed data size mismatch\");return b}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)\");if(b=f.findCompression(this.compressionMethod),null===b)throw new Error(\"Corrupted zip : compression \"+f.pretty(this.compressionMethod)+\" unknown (inner file : \"+f.transformTo(\"string\",this.fileName)+\")\");if(this.decompressed=new g,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=f.transformTo(\"string\",this.decompressed.getContent()),\r\nh.crc32(this.decompressed)!==this.crc32))throw new Error(\"Corrupted zip : CRC32 mismatch\")},readCentralPart:function(a){if(this.versionMadeBy=a.readInt(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");this.fileName=a.readData(this.fileNameLength),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a===j&&(this.dosPermissions=63&this.externalFileAttributes),a===k&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var b=new e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index;for(this.extraFields=this.extraFields||{};a.index<e+this.extraFieldsLength;)b=a.readInt(2),c=a.readInt(2),d=a.readString(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){var a=i.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=f.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var e=f.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(e)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null}},b.exports=d},{\"./compressedObject\":3,\"./object\":14,\"./stringReader\":16,\"./support\":18,\"./utils\":22}],25:[function(a,b,c){\"use strict\";var d=a(\"./lib/utils/common\").assign,e=a(\"./lib/deflate\"),f=a(\"./lib/inflate\"),g=a(\"./lib/zlib/constants\"),h={};d(h,e,f,g),b.exports=h},{\"./lib/deflate\":26,\"./lib/inflate\":27,\"./lib/utils/common\":28,\"./lib/zlib/constants\":31}],26:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=i.assign({level:s,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=h.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==p)throw new Error(k[c]);b.header&&h.deflateSetHeader(this.strm,b.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}function g(a,b){return b=b||{},b.gzip=!0,e(a,b)}var h=a(\"./zlib/deflate\"),i=a(\"./utils/common\"),j=a(\"./utils/strings\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=Object.prototype.toString,n=0,o=4,p=0,q=1,r=2,s=-1,t=0,u=8;d.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?o:n,\"string\"==typeof a?e.input=j.string2buf(a):\"[object ArrayBuffer]\"===m.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new i.Buf8(f),e.next_out=0,e.avail_out=f),c=h.deflate(e,d),c!==q&&c!==p)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||d!==o&&d!==r)||(\"string\"===this.options.to?this.onData(j.buf2binstring(i.shrinkBuf(e.output,e.next_out))):this.onData(i.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&c!==q);return d===o?(c=h.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===p):d===r?(this.onEnd(p),e.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===p&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=d,c.deflate=e,c.deflateRaw=f,c.gzip=g},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/deflate\":33,\"./zlib/messages\":38,\"./zlib/zstream\":40}],27:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=g.inflateInit2(this.strm,b.windowBits);if(c!==j.Z_OK)throw new Error(k[c]);this.header=new m,g.inflateGetHeader(this.strm,this.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}var g=a(\"./zlib/inflate\"),h=a(\"./utils/common\"),i=a(\"./utils/strings\"),j=a(\"./zlib/constants\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=a(\"./zlib/gzheader\"),n=Object.prototype.toString;d.prototype.push=function(a,b){var c,d,e,f,k,l=this.strm,m=this.options.chunkSize,o=!1;if(this.ended)return!1;d=b===~~b?b:b===!0?j.Z_FINISH:j.Z_NO_FLUSH,\"string\"==typeof a?l.input=i.binstring2buf(a):\"[object ArrayBuffer]\"===n.call(a)?l.input=new Uint8Array(a):l.input=a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new h.Buf8(m),l.next_out=0,l.avail_out=m),c=g.inflate(l,j.Z_NO_FLUSH),c===j.Z_BUF_ERROR&&o===!0&&(c=j.Z_OK,o=!1),c!==j.Z_STREAM_END&&c!==j.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&c!==j.Z_STREAM_END&&(0!==l.avail_in||d!==j.Z_FINISH&&d!==j.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(e=i.utf8border(l.output,l.next_out),f=l.next_out-e,k=i.buf2string(l.output,e),l.next_out=f,l.avail_out=m-f,f&&h.arraySet(l.output,l.output,e,f,0),this.onData(k)):this.onData(h.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(o=!0)}while((l.avail_in>0||0===l.avail_out)&&c!==j.Z_STREAM_END);return c===j.Z_STREAM_END&&(d=j.Z_FINISH),d===j.Z_FINISH?(c=g.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===j.Z_OK):d===j.Z_SYNC_FLUSH?(this.onEnd(j.Z_OK),l.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===j.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=d,c.inflate=e,c.inflateRaw=f,c.ungzip=e},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/constants\":31,\"./zlib/gzheader\":34,\"./zlib/inflate\":36,\"./zlib/messages\":38,\"./zlib/zstream\":40}],28:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if(\"object\"!=typeof c)throw new TypeError(c+\"must be non-object\");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],29:[function(a,b,c){\"use strict\";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c=\"\",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a(\"./common\"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{\"./common\":28}],30:[function(a,b,c){\"use strict\";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],31:[function(a,b,c){\"use strict\";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(a,b,c){\"use strict\";function d(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a^=-1;for(var h=d;g>h;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}var f=d();b.exports=e},{}],33:[function(a,b,c){\"use strict\";function d(a,b){return a.msg=H[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(D.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){E._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,D.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=F(a.adler,b,e,c):2===a.state.wrap&&(a.adler=G(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ka?a.strstart-(a.w_size-ka):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ja,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ja-(m-f),f=m-ja,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ka)){D.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ia)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ia-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ia)););}while(a.lookahead<ka&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===I)return ta;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return ta;if(a.strstart-a.block_start>=a.w_size-ka&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?ta:ta}function o(a,b){for(var c,d;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c)),a.match_length>=ia)if(d=E._tr_tally(a,a.strstart-a.match_start,a.match_length-ia),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ia){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function p(a,b){for(var c,d,e;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ia-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===T||a.match_length===ia&&a.strstart-a.match_start>4096)&&(a.match_length=ia-1)),a.prev_length>=ia&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ia,d=E._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ia),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=ia-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return ta}else if(a.match_available){if(d=E._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return ta}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=E._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ja){if(m(a),a.lookahead<=ja&&b===I)return ta;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ia&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ja;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ja-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ia?(c=E._tr_tally(a,1,a.match_length-ia),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===I)return ta;break}if(a.match_length=0,c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=C[a.level].max_lazy,a.good_match=C[a.level].good_length,a.nice_match=C[a.level].nice_length,a.max_chain_length=C[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ia-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*ga),this.dyn_dtree=new D.Buf16(2*(2*ea+1)),this.bl_tree=new D.Buf16(2*(2*fa+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(ha+1),this.heap=new D.Buf16(2*da+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*da+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Y,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?ma:ra,a.adler=2===b.wrap?0:1,b.last_flush=I,E._tr_init(b),N):d(a,P)}function w(a){var b=v(a);return b===N&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?P:(a.state.gzhead=b,N):P}function y(a,b,c,e,f,g){if(!a)return P;var h=1;if(b===S&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>$||c!==Z||8>e||e>15||0>b||b>9||0>g||g>W)return d(a,P);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ia-1)/ia),i.window=new D.Buf8(2*i.w_size),i.head=new D.Buf16(i.hash_size),i.prev=new D.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new D.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,Z,_,aa,X)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>M||0>b)return a?d(a,P):P;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===sa&&b!==L)return d(a,0===a.avail_out?R:P);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===ma)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=G(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=na):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,xa),h.status=ra);else{var m=Z+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=U||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=la),m+=31-m%31,h.status=ra,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===na)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=pa)}else h.status=pa;if(h.status===pa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=qa)}else h.status=qa;if(h.status===qa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=ra)):h.status=ra),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,N}else if(0===a.avail_in&&e(b)<=e(c)&&b!==L)return d(a,R);if(h.status===sa&&0!==a.avail_in)return d(a,R);if(0!==a.avail_in||0!==h.lookahead||b!==I&&h.status!==sa){var o=h.strategy===U?r(h,b):h.strategy===V?q(h,b):C[h.level].func(h,b);if(o!==va&&o!==wa||(h.status=sa),o===ta||o===va)return 0===a.avail_out&&(h.last_flush=-1),N;if(o===ua&&(b===J?E._tr_align(h):b!==M&&(E._tr_stored_block(h,0,0,!1),b===K&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,N}return b!==L?N:h.wrap<=0?O:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?N:O)}function B(a){var b;return a&&a.state?(b=a.state.status,b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra&&b!==sa?d(a,P):(a.state=null,b===ra?d(a,Q):N)):P}var C,D=a(\"../utils/common\"),E=a(\"./trees\"),F=a(\"./adler32\"),G=a(\"./crc32\"),H=a(\"./messages\"),I=0,J=1,K=3,L=4,M=5,N=0,O=1,P=-2,Q=-3,R=-5,S=-1,T=1,U=2,V=3,W=4,X=0,Y=2,Z=8,$=9,_=15,aa=8,ba=29,ca=256,da=ca+1+ba,ea=30,fa=19,ga=2*da+1,ha=15,ia=3,ja=258,ka=ja+ia+1,la=32,ma=42,na=69,oa=73,pa=91,qa=103,ra=113,sa=666,ta=1,ua=2,va=3,wa=4,xa=3;C=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],c.deflateInit=z,c.deflateInit2=y,c.deflateReset=w,c.deflateResetKeep=v,c.deflateSetHeader=x,c.deflate=A,c.deflateEnd=B,c.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./messages\":38,\"./trees\":39}],34:[function(a,b,c){\"use strict\";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}b.exports=d},{}],35:[function(a,b,c){\"use strict\";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg=\"invalid literal/length code\",c.mode=d;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg=\"invalid distance code\",c.mode=d;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],36:[function(a,b,c){\"use strict\";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg=\"\",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(oa),b.distcode=b.distdyn=new r.Buf32(pa),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sa=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new r.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg=\"incorrect header check\",c.mode=la;break}if((15&m)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(m>>>=4,n-=4,wa=(15&m)+8,0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg=\"invalid window size\",c.mode=la;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(57344&c.flags){a.msg=\"unknown header flags set\",c.mode=la;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=t(c.check,Ba,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){\r\nif(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg=\"header crc mismatch\",c.mode=la;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ia;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=ba,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg=\"invalid block type\",c.mode=la}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg=\"invalid stored block lengths\",c.mode=la;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg=\"too many length or distance symbols\",c.mode=la;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=v(w,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid code lengths set\",c.mode=la;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sa)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg=\"invalid bit length repeat\",c.mode=la;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg=\"invalid bit length repeat\",c.mode=la;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===la)break;if(0===c.lens[256]){a.msg=\"invalid code -- missing end-of-block\",c.mode=la;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid literal/lengths set\",c.mode=la;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg=\"invalid distances set\",c.mode=la;break}if(c.mode=ba,b===B)break a;case ba:c.mode=ca;case ca:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ha;break}if(32&ra){c.back=-1,c.mode=V;break}if(64&ra){a.msg=\"invalid literal/length code\",c.mode=la;break}c.extra=15&ra,c.mode=da;case da:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=ea;case ea:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg=\"invalid distance code\",c.mode=la;break}c.offset=sa,c.extra=15&ra,c.mode=fa;case fa:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg=\"invalid distance too far back\",c.mode=la;break}c.mode=ga;case ga:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg=\"invalid distance too far back\",c.mode=la;break}q>c.wnext?(q-=c.wnext,oa=c.wsize-q):oa=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,oa=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pa[oa++];while(--q);0===c.length&&(c.mode=ca);break;case ha:if(0===j)break a;f[h++]=c.length,j--,c.mode=ca;break;case ia:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg=\"incorrect data check\",c.mode=la;break}m=0,n=0}c.mode=ja;case ja:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg=\"incorrect length check\",c.mode=la;break}m=0,n=0}c.mode=ka;case ka:xa=D;break a;case la:xa=G;break a;case ma:return H;case na:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<la&&(c.mode<ia||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=ma,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===ba||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xa===C&&(xa=I),xa)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a(\"../utils/common\"),s=a(\"./adler32\"),t=a(\"./crc32\"),u=a(\"./inffast\"),v=a(\"./inftrees\"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,aa=19,ba=20,ca=21,da=22,ea=23,fa=24,ga=25,ha=26,ia=27,ja=28,ka=29,la=30,ma=31,na=32,oa=852,pa=592,qa=15,ra=qa,sa=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./inffast\":35,\"./inftrees\":37}],37:[function(a,b,c){\"use strict\";var d=a(\"../utils/common\"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;e>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;e>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;e>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{\"../utils/common\":28}],38:[function(a,b,c){\"use strict\";b.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],39:[function(a,b,c){\"use strict\";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return 256>a?ia[a]:ia[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>X-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>X-a.bi_valid,a.bi_valid+=c-X):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;W>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;V>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(W+1),g=0;for(d=1;W>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(W+1);for(c=0,d=0;Q-1>d;d++)for(ka[d]=c,a=0;a<1<<ba[d];a++)ja[c++]=d;for(ja[c-1]=d,f=0,d=0;16>d;d++)for(la[d]=f,a=0;a<1<<ca[d];a++)ia[f++]=d;for(f>>=7;T>d;d++)for(la[d]=f<<7,a=0;a<1<<ca[d]-7;a++)ia[256+f++]=d;for(b=0;W>=b;b++)g[b]=0;for(a=0;143>=a;)ga[2*a+1]=8,a++,g[8]++;for(;255>=a;)ga[2*a+1]=9,a++,g[9]++;for(;279>=a;)ga[2*a+1]=7,a++,g[7]++;for(;287>=a;)ga[2*a+1]=8,a++,g[8]++;for(n(ga,S+1,g),a=0;T>a;a++)ha[2*a+1]=5,ha[2*a]=k(a,5);ma=new e(ga,ba,R+1,S,W),na=new e(ha,ca,0,T,W),oa=new e(new Array(0),da,0,U,Y)}function p(a){var b;for(b=0;S>b;b++)a.dyn_ltree[2*b]=0;for(b=0;T>b;b++)a.dyn_dtree[2*b]=0;for(b=0;U>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*Z]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ja[e],j(a,f+R+1,b),h=ba[f],0!==h&&(e-=ka[f],i(a,e,h)),d--,f=g(d),j(a,f,c),h=ca[f],0!==h&&(d-=la[f],i(a,d,h)));while(k<a.last_lit);j(a,Z,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=V,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*$]++):10>=h?a.bl_tree[2*_]++:a.bl_tree[2*aa]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;c>=d;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(l>h){do j(a,e,a.bl_tree);while(0!==--h)}else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,$,a.bl_tree),i(a,h-3,2)):10>=h?(j(a,_,a.bl_tree),i(a,h-3,3)):(j(a,aa,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=U-1;b>=3&&0===a.bl_tree[2*ea[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;d>e;e++)i(a,a.bl_tree[2*ea[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;R>b;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){pa||(o(),pa=!0),a.l_desc=new f(a.dyn_ltree,ma),a.d_desc=new f(a.dyn_dtree,na),a.bl_desc=new f(a.bl_tree,oa),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,Z,ga),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,ga,ha)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ja[c]+R+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=a(\"../utils/common\"),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=3,P=258,Q=29,R=256,S=R+1+Q,T=30,U=19,V=2*S+1,W=15,X=16,Y=7,Z=256,$=16,_=17,aa=18,ba=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ca=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],da=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ea=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fa=512,ga=new Array(2*(S+2));d(ga);var ha=new Array(2*T);d(ha);var ia=new Array(fa);d(ia);var ja=new Array(P-O+1);d(ja);var ka=new Array(Q);d(ka);var la=new Array(T);d(la);var ma,na,oa,pa=!1;c._tr_init=B,c._tr_stored_block=C,c._tr_flush_block=E,c._tr_tally=F,c._tr_align=D},{\"../utils/common\":28}],40:[function(a,b,c){\"use strict\";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}]},{},[10])(10)});\r\nexport var JSZip = window.JSZip;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/jszip.module.min.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tSpherical,\r\n\tTOUCH,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nvar OrbitControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.05;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.panSpeed = 1.0;\r\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\r\n\r\n\t// Touch fingers\r\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().invert();\r\n\r\n\t\tvar lastPosition = new Vector3();\r\n\t\tvar lastQuaternion = new Quaternion();\r\n\r\n\t\tvar twoPI = 2 * Math.PI;\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\r\n\t\t\tvar min = scope.minAzimuthAngle;\r\n\t\t\tvar max = scope.maxAzimuthAngle;\r\n\r\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\r\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\tif ( min <= max ) {\r\n\r\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\r\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\r\n\t\t\t\t\t\tMath.min( max, spherical.theta );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = {\r\n\t\tNONE: - 1,\r\n\t\tROTATE: 0,\r\n\t\tDOLLY: 1,\r\n\t\tPAN: 2,\r\n\t\tTOUCH_ROTATE: 3,\r\n\t\tTOUCH_PAN: 4,\r\n\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t};\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new Spherical();\r\n\tvar sphericalDelta = new Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new Vector2();\r\n\tvar rotateEnd = new Vector2();\r\n\tvar rotateDelta = new Vector2();\r\n\r\n\tvar panStart = new Vector2();\r\n\tvar panEnd = new Vector2();\r\n\tvar panDelta = new Vector2();\r\n\r\n\tvar dollyStart = new Vector2();\r\n\tvar dollyEnd = new Vector2();\r\n\tvar dollyDelta = new Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\tvar needsUpdate = false;\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\t// Prevent the browser from scrolling.\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Manually set the focus since calling preventDefault above\r\n\t\t// prevents the browser from setting it automatically.\r\n\r\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\r\n\r\n\t\tvar mouseAction;\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase 0:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\tcase MOUSE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.ROTATE:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.PAN:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\tcase TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nvar MapControls = function ( object, domElement ) {\r\n\r\n\tOrbitControls.call( this, object, domElement );\r\n\r\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\r\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n\r\n\tthis.touches.ONE = TOUCH.PAN;\r\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\r\n\r\n};\r\n\r\nMapControls.prototype = Object.create( EventDispatcher.prototype );\r\nMapControls.prototype.constructor = MapControls;\r\n\r\nexport { OrbitControls, MapControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/OrbitControls.js","// http://mrl.nyu.edu/~perlin/noise/\r\n\r\nvar ImprovedNoise = function () {\r\n\r\n\tvar p = [ 151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10,\r\n\t\t 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87,\r\n\t\t 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211,\r\n\t\t 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208,\r\n\t\t 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5,\r\n\t\t 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119,\r\n\t\t 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232,\r\n\t\t 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249,\r\n\t\t 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205,\r\n\t\t 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180 ];\r\n\r\n\tfor ( var i = 0; i < 256; i ++ ) {\r\n\r\n\t\tp[ 256 + i ] = p[ i ];\r\n\r\n\t}\r\n\r\n\tfunction fade( t ) {\r\n\r\n\t\treturn t * t * t * ( t * ( t * 6 - 15 ) + 10 );\r\n\r\n\t}\r\n\r\n\tfunction lerp( t, a, b ) {\r\n\r\n\t\treturn a + t * ( b - a );\r\n\r\n\t}\r\n\r\n\tfunction grad( hash, x, y, z ) {\r\n\r\n\t\tvar h = hash & 15;\r\n\t\tvar u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\r\n\t\treturn ( ( h & 1 ) == 0 ? u : - u ) + ( ( h & 2 ) == 0 ? v : - v );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tnoise: function ( x, y, z ) {\r\n\r\n\t\t\tvar floorX = Math.floor( x ), floorY = Math.floor( y ), floorZ = Math.floor( z );\r\n\r\n\t\t\tvar X = floorX & 255, Y = floorY & 255, Z = floorZ & 255;\r\n\r\n\t\t\tx -= floorX;\r\n\t\t\ty -= floorY;\r\n\t\t\tz -= floorZ;\r\n\r\n\t\t\tvar xMinus1 = x - 1, yMinus1 = y - 1, zMinus1 = z - 1;\r\n\r\n\t\t\tvar u = fade( x ), v = fade( y ), w = fade( z );\r\n\r\n\t\t\tvar A = p[ X ] + Y, AA = p[ A ] + Z, AB = p[ A + 1 ] + Z, B = p[ X + 1 ] + Y, BA = p[ B ] + Z, BB = p[ B + 1 ] + Z;\r\n\r\n\t\t\treturn lerp( w, lerp( v, lerp( u, grad( p[ AA ], x, y, z ),\r\n\t\t\t\tgrad( p[ BA ], xMinus1, y, z ) ),\r\n\t\t\tlerp( u, grad( p[ AB ], x, yMinus1, z ),\r\n\t\t\t\tgrad( p[ BB ], xMinus1, yMinus1, z ) ) ),\r\n\t\t\tlerp( v, lerp( u, grad( p[ AA + 1 ], x, y, zMinus1 ),\r\n\t\t\t\tgrad( p[ BA + 1 ], xMinus1, y, zMinus1 ) ),\r\n\t\t\tlerp( u, grad( p[ AB + 1 ], x, yMinus1, zMinus1 ),\r\n\t\t\t\tgrad( p[ BB + 1 ], xMinus1, yMinus1, zMinus1 ) ) ) );\r\n\r\n\t\t}\r\n\t};\r\n\r\n};\r\n\r\nexport { ImprovedNoise };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/math/ImprovedNoise.js","import { TempNode } from '../core/TempNode.js';\r\nimport { PositionNode } from './PositionNode.js';\r\nimport { NormalNode } from './NormalNode.js';\r\n\r\nfunction ReflectNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || ReflectNode.CUBE;\r\n\r\n}\r\n\r\nReflectNode.CUBE = 'cube';\r\nReflectNode.SPHERE = 'sphere';\r\nReflectNode.VECTOR = 'vector';\r\n\r\nReflectNode.prototype = Object.create( TempNode.prototype );\r\nReflectNode.prototype.constructor = ReflectNode;\r\nReflectNode.prototype.nodeType = \"Reflect\";\r\n\r\nReflectNode.prototype.getUnique = function ( builder ) {\r\n\r\n\treturn ! builder.context.viewNormal;\r\n\r\n};\r\n\r\nReflectNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\treturn 'v2';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nReflectNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar isUnique = this.getUnique( builder );\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar result;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase ReflectNode.VECTOR:\r\n\r\n\t\t\t\tvar viewNormalNode = new NormalNode( NormalNode.VIEW );\r\n\t\t\t\tvar roughnessNode = builder.context.roughness;\r\n\r\n\t\t\t\tvar viewNormal = viewNormalNode.build( builder, 'v3' );\r\n\t\t\t\tvar viewPosition = new PositionNode( PositionNode.VIEW ).build( builder, 'v3' );\r\n\t\t\t\tvar roughness = roughnessNode ? roughnessNode.build( builder, 'f' ) : undefined;\r\n\r\n\t\t\t\tvar method = `reflect( -normalize( ${viewPosition} ), ${viewNormal} )`;\r\n\r\n\t\t\t\tif ( roughness ) {\r\n\r\n\t\t\t\t\t// Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\r\n\t\t\t\t\tmethod = `normalize( mix( ${method}, ${viewNormal}, ${roughness} * ${roughness} ) )`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar code = `inverseTransformDirection( ${method}, viewMatrix )`;\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.CUBE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'vec3( -' + reflectVec + '.x, ' + reflectVec + '.yz )';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectCubeVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectCubeVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'normalize( ( viewMatrix * vec4( ' + reflectVec + ', 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec2 reflectSphereVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectSphereVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ReflectNode.js","import {\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tGroup,\r\n\tLineBasicMaterial,\r\n\tLineSegments,\r\n\tLoader,\r\n\tMaterial,\r\n\tMesh,\r\n\tMeshPhongMaterial,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar OBJLoader = ( function () {\r\n\r\n\t// o object_name | g group_name\r\n\tvar object_pattern = /^[og]\\s*(.+)?/;\r\n\t// mtllib file_reference\r\n\tvar material_library_pattern = /^mtllib /;\r\n\t// usemtl material_name\r\n\tvar material_use_pattern = /^usemtl /;\r\n\t// usemap map_name\r\n\tvar map_use_pattern = /^usemap /;\r\n\r\n\tvar vA = new Vector3();\r\n\tvar vB = new Vector3();\r\n\tvar vC = new Vector3();\r\n\r\n\tvar ab = new Vector3();\r\n\tvar cb = new Vector3();\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects: [],\r\n\t\t\tobject: {},\r\n\r\n\t\t\tvertices: [],\r\n\t\t\tnormals: [],\r\n\t\t\tcolors: [],\r\n\t\t\tuvs: [],\r\n\r\n\t\t\tmaterials: {},\r\n\t\t\tmaterialLibraries: [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname: name || '',\r\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\tvertices: [],\r\n\t\t\t\t\t\tnormals: [],\r\n\t\t\t\t\t\tcolors: [],\r\n\t\t\t\t\t\tuvs: [],\r\n\t\t\t\t\t\thasUVIndices: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials: [],\r\n\t\t\t\t\tsmooth: true,\r\n\r\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex: this.materials.length,\r\n\t\t\t\t\t\t\tname: name || '',\r\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\tinherited: false,\r\n\r\n\t\t\t\t\t\t\tclone: function ( index ) {\r\n\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\t\t\tinherited: false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize: function ( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push( {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tsmooth: this.smooth\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexPoint: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFaceNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tvA.fromArray( src, a );\r\n\t\t\t\tvB.fromArray( src, b );\r\n\t\t\t\tvC.fromArray( src, c );\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tcb.normalize();\r\n\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddColor: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.colors;\r\n\t\t\t\tvar dst = this.object.geometry.colors;\r\n\r\n\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddDefaultUV: function () {\r\n\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\r\n\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\t\t\t\tthis.addColor( ia, ib, ic );\r\n\r\n\t\t\t\t// normals\r\n\r\n\t\t\t\tif ( na !== undefined && na !== '' ) {\r\n\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uvs\r\n\r\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\r\n\r\n\t\t\t\t\tthis.addDefaultUV();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddPointGeometry: function ( vertices ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Points';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction OBJLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.materials = null;\r\n\r\n\t}\r\n\r\n\tOBJLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: OBJLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetMaterials: function ( materials ) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( text ) {\r\n\r\n\t\t\tvar state = new ParserState();\r\n\r\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = text.split( '\\n' );\r\n\t\t\tvar line = '', lineFirstChar = '';\r\n\t\t\tvar lineLength = 0;\r\n\t\t\tvar result = [];\r\n\r\n\t\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tline = lines[ i ];\r\n\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\t\tlineLength = line.length;\r\n\r\n\t\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t\t// @todo invoke passed in handler if any\r\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\t\tvar data = line.split( /\\s+/ );\r\n\r\n\t\t\t\t\tswitch ( data[ 0 ] ) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif ( data.length >= 7 ) {\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push(\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\r\n\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\r\n\t\t\t\t\tvar faceVertices = [];\r\n\r\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\r\n\r\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\r\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\r\n\r\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\r\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\r\n\r\n\t\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\r\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\r\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\r\n\r\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\r\n\r\n\t\t\t\t\tstate.addPointGeometry( pointData );\r\n\r\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// material\r\n\r\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\r\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t\t} else if ( map_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\r\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\r\n\r\n\t\t\t\t\tresult = line.split( ' ' );\r\n\r\n\t\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t\t\t * or\r\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t\t\t * than 0.\"\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( result.length > 1 ) {\r\n\r\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\r\n\t\t\tvar container = new Group();\r\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar object = state.objects[ i ];\r\n\t\t\t\tvar geometry = object.geometry;\r\n\t\t\t\tvar materials = object.materials;\r\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\r\n\t\t\t\tvar hasVertexColors = false;\r\n\r\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\t\tvar buffergeometry = new BufferGeometry();\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\r\n\r\n\t\t\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\t\t\thasVertexColors = true;\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\r\n\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create materials\r\n\r\n\t\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\tvar materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\r\n\t\t\t\t\tvar material = state.materials[ materialHash ];\r\n\r\n\t\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialLine = new LineBasicMaterial();\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\r\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\r\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\r\n\t\t\t\t\t\t\tmaterial = materialPoints;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( material === undefined ) {\r\n\r\n\t\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\r\n\r\n\t\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\r\n\r\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreatedMaterials.push( material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = object.name;\r\n\r\n\t\t\t\tcontainer.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn OBJLoader;\r\n\r\n} )();\r\n\r\nexport { OBJLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/OBJLoader.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction UVNode( index ) {\r\n\r\n\tTempNode.call( this, 'v2', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nUVNode.prototype = Object.create( TempNode.prototype );\r\nUVNode.prototype.constructor = UVNode;\r\nUVNode.prototype.nodeType = \"UV\";\r\n\r\nUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.uv[ this.index ] = true;\r\n\r\n\tvar uvIndex = this.index > 0 ? this.index + 1 : '';\r\n\tvar result = builder.isShader( 'vertex' ) ? 'uv' + uvIndex : 'vUv' + uvIndex;\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'uv', function () {\r\n\r\n\treturn new UVNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'uv2', function () {\r\n\r\n\treturn new UVNode( 1 );\r\n\r\n} );\r\n\r\nexport { UVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/UVNode.js"],"sourceRoot":""}