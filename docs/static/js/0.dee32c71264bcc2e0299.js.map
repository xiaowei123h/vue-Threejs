{"version":3,"sources":["webpack:///./src/components/jsm/nodes/core/TempNode.js","webpack:///./src/components/jsm/utils/GeometryUtils.js","webpack:///./src/components/jsm/nodes/core/ConstNode.js","webpack:///./src/components/jsm/nodes/core/NodeLib.js","webpack:///./src/components/jsm/nodes/core/NodeBuilder.js","webpack:///./src/components/jsm/nodes/inputs/Vector2Node.js","webpack:///./src/components/jsm/nodes/core/NodeUtils.js","webpack:///./src/components/jsm/postprocessing/EffectComposer.js","webpack:///./src/components/jsm/libs/inflate.module.min.js","webpack:///./src/components/jsm/renderers/CSS3DRenderer.js","webpack:///./src/components/jsm/postprocessing/Pass.js","webpack:///./src/components/jsm/nodes/inputs/Vector3Node.js","webpack:///./src/components/jsm/objects/Reflector.js","webpack:///./src/components/jsm/nodes/utils/ColorSpaceNode.js","webpack:///./src/components/jsm/WebGL.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./src/components/jsm/utils/BufferGeometryUtils.js","webpack:///./src/components/jsm/loaders/RGBELoader.js","webpack:///./src/components/jsm/objects/Refractor.js","webpack:///./src/components/jsm/shaders/GammaCorrectionShader.js","webpack:///./src/components/jsm/controls/TransformControls.js","webpack:///./src/components/jsm/controls/TrackballControls.js","webpack:///./src/components/jsm/loaders/HDRCubeTextureLoader.js","webpack:///./src/components/jsm/shaders/ConvolutionShader.js","webpack:///./src/components/jsm/postprocessing/BloomPass.js","webpack:///./src/components/jsm/nodes/inputs/FloatNode.js","webpack:///./src/components/jsm/nodes/accessors/NormalNode.js","webpack:///./src/components/jsm/loaders/EXRLoader.js","webpack:///./src/components/jsm/nodes/core/FunctionNode.js","webpack:///./src/components/jsm/loaders/TGALoader.js","webpack:///./src/components/jsm/postprocessing/MaskPass.js","webpack:///./src/components/jsm/libs/dat.gui.module.js","webpack:///./src/components/jsm/nodes/core/NodeUniform.js","webpack:///./src/components/jsm/controls/FirstPersonControls.js","webpack:///./src/components/jsm/nodes/inputs/ColorNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/RawNode.js","webpack:///./src/components/jsm/nodes/inputs/CubeTextureNode.js","webpack:///./src/components/jsm/nodes/core/FunctionCallNode.js","webpack:///./src/components/jsm/geometries/TeapotBufferGeometry.js","webpack:///./src/components/jsm/postprocessing/SSAARenderPass.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeUVNode.js","webpack:///./src/components/jsm/nodes/inputs/TextureNode.js","webpack:///./src/components/jsm/postprocessing/TexturePass.js","webpack:///./src/components/jsm/postprocessing/RenderPass.js","webpack:///./src/components/jsm/nodes/core/Node.js","webpack:///./src/components/jsm/nodes/core/NodeFrame.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/components/jsm/postprocessing/ShaderPass.js","webpack:///./src/components/jsm/shaders/CopyShader.js","webpack:///./src/components/jsm/shaders/LuminosityHighPassShader.js","webpack:///./src/components/jsm/postprocessing/UnrealBloomPass.js","webpack:///./src/components/jsm/nodes/math/OperatorNode.js","webpack:///./src/components/jsm/nodes/accessors/PositionNode.js","webpack:///./src/components/jsm/nodes/core/InputNode.js","webpack:///./src/components/jsm/nodes/math/MathNode.js","webpack:///./src/components/jsm/nodes/materials/NodeMaterial.js","webpack:///./src/components/jsm/nodes/core/StructNode.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/components/jsm/nodes/core/ExpressionNode.js","webpack:///./src/components/jsm/nodes/core/VarNode.js","webpack:///./src/components/jsm/nodes/core/AttributeNode.js","webpack:///./src/components/jsm/nodes/inputs/BoolNode.js","webpack:///./src/components/jsm/nodes/inputs/IntNode.js","webpack:///./src/components/jsm/nodes/inputs/Matrix3Node.js","webpack:///./src/components/jsm/nodes/inputs/Matrix4Node.js","webpack:///./src/components/jsm/nodes/inputs/ScreenNode.js","webpack:///./src/components/jsm/nodes/inputs/ReflectorNode.js","webpack:///./src/components/jsm/nodes/inputs/RTTNode.js","webpack:///./src/components/jsm/nodes/inputs/PropertyNode.js","webpack:///./src/components/jsm/nodes/accessors/ColorsNode.js","webpack:///./src/components/jsm/nodes/accessors/CameraNode.js","webpack:///./src/components/jsm/nodes/accessors/LightNode.js","webpack:///./src/components/jsm/nodes/accessors/ResolutionNode.js","webpack:///./src/components/jsm/nodes/accessors/ScreenUVNode.js","webpack:///./src/components/jsm/nodes/math/CondNode.js","webpack:///./src/components/jsm/nodes/procedural/NoiseNode.js","webpack:///./src/components/jsm/nodes/procedural/CheckerNode.js","webpack:///./src/components/jsm/nodes/misc/NormalMapNode.js","webpack:///./src/components/jsm/nodes/misc/BumpMapNode.js","webpack:///./src/components/jsm/nodes/utils/BypassNode.js","webpack:///./src/components/jsm/nodes/utils/JoinNode.js","webpack:///./src/components/jsm/nodes/utils/SwitchNode.js","webpack:///./src/components/jsm/nodes/utils/TimerNode.js","webpack:///./src/components/jsm/nodes/utils/VelocityNode.js","webpack:///./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","webpack:///./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","webpack:///./src/components/jsm/nodes/utils/UVTransformNode.js","webpack:///./src/components/jsm/nodes/utils/SubSlotNode.js","webpack:///./src/components/jsm/nodes/effects/BlurNode.js","webpack:///./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","webpack:///./src/components/jsm/nodes/effects/LuminanceNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/BasicNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/SpriteNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/PhongNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/StandardNode.js","webpack:///./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","webpack:///./src/components/jsm/nodes/materials/StandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","webpack:///./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","webpack:///./src/components/jsm/nodes/materials/BasicNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","webpack:///./src/components/jsm/nodes/materials/PhongNodeMaterial.js","webpack:///./src/components/jsm/nodes/Nodes.js","webpack:///./src/components/jsm/nodes/inputs/Vector4Node.js","webpack:///./src/components/jsm/loaders/GLTFLoader.js","webpack:///./src/components/jsm/shaders/UnpackDepthRGBAShader.js","webpack:///./src/components/jsm/shaders/FilmShader.js","webpack:///./src/components/jsm/postprocessing/FilmPass.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./src/components/jsm/nodes/misc/TextureCubeNode.js","webpack:///./src/components/jsm/libs/jszip.module.min.js","webpack:///./src/components/jsm/controls/OrbitControls.js","webpack:///./src/components/jsm/math/ImprovedNoise.js","webpack:///./src/components/jsm/nodes/accessors/ReflectNode.js","webpack:///./src/components/jsm/loaders/OBJLoader.js","webpack:///./src/components/jsm/nodes/accessors/UVNode.js"],"names":["__webpack_require__","d","__webpack_exports__","TempNode","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","__WEBPACK_IMPORTED_MODULE_1__Node_js__","type","params","Node","call","this","shared","undefined","unique","prototype","Object","create","constructor","build","builder","output","uuid","ns","getType","getShared","isUnique","getUnique","MathUtils","generateUUID","getUuid","data","getNodeData","analyzing","deps","getLabel","appendDepsNode","generate","name","context","ignoreCache","getTemp","format","code","addNodeCode","setLabel","label","scope","tempVar","getVars","console","error","getTempVar","GeometryUtils","hilbert2D","center","size","iterations","v0","v1","v2","v3","Vector3","half","vec_s","x","y","z","vec","tmp","Array","push","apply","hilbert3D","v4","v5","v6","v7","ConstNode","__WEBPACK_IMPORTED_MODULE_0__TempNode_js__","declarationRegexp","src","useDefine","parse","PI","PI2","RECIPROCAL_PI","RECIPROCAL_PI2","LOG2","EPSILON","nodeType","getTypeByFormat","value","match","charAt","length","include","copy","source","toJSON","meta","getJSONNode","createJSONNode","NodeLib","nodes","keywords","add","node","addKeyword","callback","cache","remove","removeKeyword","get","getKeyword","getKeywordData","contains","containsKeyword","NodeBuilder","__WEBPACK_IMPORTED_MODULE_1__NodeUniform_js__","__WEBPACK_IMPORTED_MODULE_2__NodeUtils_js__","__WEBPACK_IMPORTED_MODULE_3__NodeLib_js__","__WEBPACK_IMPORTED_MODULE_4__FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__ConstNode_js__","__WEBPACK_IMPORTED_MODULE_6__StructNode_js__","__WEBPACK_IMPORTED_MODULE_7__inputs_Vector2Node_js__","__WEBPACK_IMPORTED_MODULE_8__inputs_Vector3Node_js__","__WEBPACK_IMPORTED_MODULE_9__inputs_Vector4Node_js__","__WEBPACK_IMPORTED_MODULE_10__inputs_TextureNode_js__","__WEBPACK_IMPORTED_MODULE_11__inputs_CubeTextureNode_js__","__WEBPACK_IMPORTED_MODULE_12__misc_TextureCubeNode_js__","elements","NodeUtils","constructors","convertFormatToType","float","vec2","vec3","vec4","mat4","int","bool","convertTypeToFormat","t","tc","b","i","f","c","m3","m4","slots","caches","contexts","nodeData","requires","uv","color","lights","fog","transparent","irradiance","includes","consts","functions","structs","attributes","prefixCode","join","parsCode","vertex","fragment","nodeCode","resultCode","finalCode","inputs","uniforms","list","vars","varying","defines","extensions","updaters","buildShader","uvIndex","addVaryCode","addVertexParsCode","addVertexFinalCode","position","worldPosition","normal","worldNormal","shader","setShader","setMaterial","material","renderer","mergeDefines","addFlow","slot","addSlot","addCache","addContext","removeFlow","removeSlot","removeCache","removeContext","pop","assign","extra","addVertexCode","addCode","addFragmentCode","addVertexNodeCode","addFragmentNodeCode","clearNodeCode","clearVertexNodeCode","clearFragmentNodeCode","addFinalCode","addFragmentFinalCode","addParsCode","addFragmentParsCode","isCache","indexOf","isSlot","define","require","isDefined","getVar","arguments","prefix","index","getAttribute","getCode","getVarListCode","getIncludesCode","l","nVar","formatType","getFormatByType","Error","isNode","createUniform","needsUpdate","uniform","NodeUniform","createVertexUniform","createFragmentUniform","parent","includesStruct","FunctionNode","StructNode","included","colorToVectorProperties","replace","colorToVector","getIncludes","sortByPosition","a","sort","getConstructorFromLength","len","isTypeMatrix","test","getTypeLength","parseInt","substr","getTypeFromLength","findNode","nodeCandidate","resolve","isTexture","mapping","CubeReflectionMapping","CubeRefractionMapping","CubeTextureNode","CubeUVReflectionMapping","CubeUVRefractionMapping","TextureCubeNode","TextureNode","isVector2","Vector2Node","isVector3","Vector3Node","isVector4","Vector4Node","from","to","useCache","getElementByIndex","getIndexByElement","elm","isShader","mergeUniform","getTextureEncodingFromMap","map","encoding","isWebGLRenderTarget","warn","texture","LinearEncoding","gamma","GammaEncoding","__WEBPACK_IMPORTED_MODULE_1__core_InputNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_NodeUtils_js__","InputNode","Vector2","addShortcuts","generateReadonly","readonly","applyShortcut","proxy","property","subProperty","set","val","proto","shortcuts","split","defineProperties","EffectComposer","__WEBPACK_IMPORTED_MODULE_1__shaders_CopyShader_js__","__WEBPACK_IMPORTED_MODULE_2__postprocessing_ShaderPass_js__","__WEBPACK_IMPORTED_MODULE_3__postprocessing_MaskPass_js__","renderTarget","parameters","minFilter","LinearFilter","magFilter","RGBAFormat","getSize","_pixelRatio","getPixelRatio","_width","width","_height","height","WebGLRenderTarget","renderTarget1","renderTarget2","clone","writeBuffer","readBuffer","renderToScreen","passes","CopyShader","ShaderPass","copyPass","clock","Clock","swapBuffers","addPass","pass","setSize","insertPass","splice","isLastEnabledPass","passIndex","enabled","render","deltaTime","getDelta","currentRenderTarget","getRenderTarget","maskActive","il","needsSwap","getContext","stencil","state","buffers","setFunc","NOTEQUAL","EQUAL","MaskPass","ClearMaskPass","setRenderTarget","reset","dispose","effectiveWidth","effectiveHeight","setPixelRatio","pixelRatio","camera","geometry","FullScreenQuad","Pass","clear","OrthographicCamera","PlaneBufferGeometry","_mesh","Mesh","defineProperty","Inflate","mod","aa","r","e","execScript","shift","Uint8Array","Uint16Array","Uint32Array","DataView","v","g","h","k","m","n","p","s","Number","POSITIVE_INFINITY","w","input","bufferSize","bufferType","resize","A","j","B","C","subarray","ba","ca","S","T","U","V","D","u","M","F","q","E","slice","P","fa","G","H","I","J","K","L","da","ea","N","O","R","ga","Q","W","verify","ha","method","o","buffer","charCodeAt","Y","Z","$","ia","X","ADAPTIVE","BLOCK","keys","Zlib","CSS3DObject","CSS3DRenderer","element","Object3D","document","createElement","style","pointerEvents","addEventListener","traverse","object","Element","parentNode","removeChild","recursive","cloneNode","CSS3DSprite","_widthHalf","_heightHalf","_this","matrix","Matrix4","fov","objects","WeakMap","domElement","overflow","cameraElement","WebkitTransformStyle","transformStyle","appendChild","isIE","navigator","userAgent","epsilon","Math","abs","getCameraCSSMatrix","getObjectCSSMatrix","cameraCSSMatrix","matrix3d","getDistanceToSquared","object1","object2","setFromMatrixPosition","matrixWorld","distanceToSquared","zOrder","scene","sorted","result","filterAndFlatten","distanceToCameraSquared","zMax","zIndex","projectionMatrix","isPerspectiveCamera","WebkitPerspective","perspective","autoUpdate","updateMatrixWorld","isOrthographicCamera","tx","right","left","ty","top","bottom","matrixWorldInverse","WebkitTransform","transform","renderObject","onBeforeRender","transpose","copyPosition","scale","cachedObject","objectData","display","visible","onAfterRender","children","Reflector","options","Color","textureWidth","textureHeight","clipBias","ReflectorShader","reflectorPlane","Plane","reflectorWorldPosition","cameraWorldPosition","rotationMatrix","lookAtPosition","clipPlane","Vector4","view","target","textureMatrix","virtualCamera","PerspectiveCamera","RGBFormat","isPowerOfTwo","generateMipmaps","ShaderMaterial","UniformsUtils","fragmentShader","vertexShader","extractRotation","applyMatrix4","subVectors","dot","reflect","negate","up","lookAt","far","multiply","setFromNormalAndCoplanarPoint","constant","sign","multiplyScalar","outputEncoding","currentXrEnabled","xr","currentShadowAutoUpdate","shadowMap","depth","setMask","autoClear","viewport","tDiffuse","ColorSpaceNode","LinearToLinear","GammaToLinear","LinearToGamma","sRGBToLinear","LinearTosRGB","RGBEToLinear","LinearToRGBE","RGBMToLinear","LinearToRGBM","RGBDToLinear","LinearToRGBD","cLogLuvM","LinearToLogLuv","cLogLuvInverseM","__WEBPACK_IMPORTED_MODULE_1__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_3__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_5__core_ExpressionNode_js__","LINEAR_TO_LINEAR","Nodes","LogLuvToLinear","GAMMA_TO_LINEAR","LINEAR_TO_GAMMA","SRGB_TO_LINEAR","LINEAR_TO_SRGB","RGBE_TO_LINEAR","LINEAR_TO_RGBE","RGBM_TO_LINEAR","LINEAR_TO_RGBM","RGBD_TO_LINEAR","LINEAR_TO_RGBD","LINEAR_TO_LOG_LUV","LOG_LUV_TO_LINEAR","getEncodingComponents","sRGBEncoding","RGBEEncoding","RGBM7Encoding","FloatNode","setReadonly","RGBM16Encoding","RGBDEncoding","ExpressionNode","hashProperties","outputType","methodNode","factor","fromEncoding","components","fromDecoding","WEBGL","isWebGLAvailable","canvas","window","WebGLRenderingContext","isWebGL2Available","WebGL2RenderingContext","getWebGLErrorMessage","getErrorMessage","getWebGL2ErrorMessage","version","1","2","message","id","fontFamily","fontSize","fontWeight","textAlign","background","padding","margin","innerHTML","exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","arr","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","len2","encodeChunk","lookup","start","end","num","global","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","ArrayBuffer","array","byteOffset","fromArrayLike","fromArrayBuffer","string","isEncoding","actual","write","fromString","obj","isBuffer","checked","fromObject","assertSize","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64Slice","utf8Slice","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","Symbol","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","concat","pos","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","trim","stringtrim","base64clean","dst","BufferGeometryUtils","computeTangents","indices","positions","normals","uvs","nVertices","tangent","setAttribute","BufferAttribute","Float32Array","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","groups","count","group","jl","handleTriangle","tmp2","n2","handleVertex","fromArray","addScaledVector","normalize","crossVectors","mergeBufferGeometries","geometries","useGroups","isIndexed","attributesUsed","Set","morphAttributesUsed","morphAttributes","morphTargetsRelative","mergedGeometry","BufferGeometry","attributesCount","has","userData","mergedUserData","addGroup","indexOffset","mergedIndex","getX","setIndex","mergedAttribute","mergeBufferAttributes","numMorphTargets","morphAttributesToMerge","mergedMorphAttribute","TypedArray","itemSize","normalized","arrayLength","attribute","isInterleavedBufferAttribute","interleaveAttributes","stride","interleavedBuffer","InterleavedBuffer","getters","setters","iba","InterleavedBufferAttribute","estimateBytesUsed","mem","attr","BYTES_PER_ELEMENT","getIndex","mergeVertices","tolerance","hashToIndex","vertexCount","nextIndex","attributeNames","attrArrays","morphAttrsArrays","newIndices","morphAttr","decimalShift","log10","shiftMultiplier","hash","newarray","newMorphArrays","getterFunc","ml","oldAttribute","oldMorphAttribute","morphAttribute","toTrianglesDrawMode","drawMode","TrianglesDrawMode","TriangleFanDrawMode","TriangleStripDrawMode","numberOfTriangles","newGeometry","clearGroups","RGBELoader","manager","DataTextureLoader","UnsignedByteType","rgbe_error","rgbe_error_code","msg","fgets","lineLimit","consume","chunk","RGBEByteToRGBHalf","sourceArray","sourceOffset","destArray","destOffset","DataUtils","toHalfFloat","rgbe_header_info","line","gamma_re","exposure_re","format_re","dimensions_re","header","valid","comments","programtype","exposure","parseFloat","RGBE_ReadHeader","image_rgba_data","data_rgba","byteValue","scanline_buffer","ptr","ptr_end","off","isEncodedRun","rgbeStart","scanline_width","num_scanlines","RGBE_ReadPixels_RLE","RGBEFormat","FloatType","numElements","floatArray","HalfFloatType","halfArray","setDataType","load","url","onLoad","onProgress","onError","texData","NearestFilter","flipY","Refractor","RefractorShader","matrixAutoUpdate","refractor","refractorPlane","refractorWorldPosition","clipVector","updateRefractorPlane","quaternion","Quaternion","decompose","applyQuaternion","updateVirtualCamera","invert","updateTextureMatrix","GammaCorrectionShader","TransformControls","_gizmo","TransformControlsGizmo","_plane","TransformControlsPlane","changeEvent","mouseDownEvent","mouseUpEvent","mode","objectChangeEvent","raycaster","Raycaster","intersectObjectWithRay","includeInvisible","allIntersections","intersectObject","_tempVector","_tempVector2","_tempQuaternion","_unit","pointStart","pointEnd","rotationAxis","startNorm","endNorm","rotationAngle","cameraPosition","cameraQuaternion","cameraScale","parentPosition","parentQuaternion","parentQuaternionInv","parentScale","worldPositionStart","worldQuaternionStart","worldScaleStart","worldQuaternion","worldQuaternionInv","worldScale","eye","positionStart","quaternionStart","scaleStart","propName","defaultValue","propValue","dispatchEvent","getPointer","event","ownerDocument","pointerLockElement","button","pointer","changedTouches","rect","getBoundingClientRect","clientX","clientY","onPointerHover","pointerType","pointerHover","onPointerDown","touchAction","onPointerMove","pointerDown","pointerMove","onPointerUp","removeEventListener","pointerUp","child","attach","detach","axis","dragging","setFromCamera","intersect","picker","planeIntersect","space","snap","rotationSnap","rotation","round","point","divide","translationSnap","search","scaleSnap","ROTATION_SPEED","distanceTo","angleTo","cross","setFromAxisAngle","getMode","setMode","setTranslationSnap","setRotationSnap","setScaleSnap","setSpace","update","isTransformControls","gizmoMaterial","MeshBasicMaterial","depthTest","depthWrite","side","DoubleSide","toneMapped","gizmoLineMaterial","LineBasicMaterial","linewidth","matInvisible","opacity","matHelper","matRed","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","CylinderBufferGeometry","scaleHandleGeometry","BoxBufferGeometry","lineGeometry","Float32BufferAttribute","CircleGeometry","radius","arc","vertices","cos","sin","gizmoTranslate","Line","XYZ","OctahedronBufferGeometry","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","gizmoRotate","XYZE","helperRotate","AXIS","pickerRotate","TorusBufferGeometry","SphereBufferGeometry","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tag","updateMatrix","tempGeometry","renderOrder","tempVector","tempEuler","Euler","alignVector","zeroVector","lookAtMatrix","tempQuaternion","tempQuaternion2","identityQuaternion","unitX","unitY","unitZ","helper","handles","handle","zoom","tan","setFromRotationMatrix","atan2","multiplyQuaternions","showX","showY","showZ","_opacity","_color","lerp","some","setFromEuler","isTransformControlsGizmo","wireframe","dirVector","tempMatrix","isTransformControlsPlane","TrackballControls","STATE","NONE","ROTATE","ZOOM","PAN","TOUCH_ROTATE","TOUCH_ZOOM_PAN","screen","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","maxDistance","mouseButtons","LEFT","MOUSE","MIDDLE","RIGHT","lastPosition","lastZoom","_state","_keyState","_eye","_movePrev","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","target0","position0","up0","zoom0","startEvent","endEvent","handleResize","box","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","vector","angle","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","mouseChange","objectUp","pan","getMouseOnScreen","pageX","pageY","getMouseOnCircle","preventDefault","stopPropagation","onMouseDown","onMouseMove","onMouseUp","keydown","keyCode","keyup","mousewheel","deltaMode","deltaY","touchstart","touches","dx","dy","sqrt","touchmove","touchend","contextmenu","rotateCamera","setLength","zoomCamera","updateProjectionMatrix","panCamera","lengthSq","scale_x","clientWidth","scale_y","checkDistances","addVectors","EventDispatcher","HDRCubeTextureLoader","__WEBPACK_IMPORTED_MODULE_1__loaders_RGBELoader_js__","Loader","hdrLoader","urls","CubeTexture","loaded","loadHDRData","FileLoader","setPath","path","setResponseType","setWithCredentials","withCredentials","dataTexture","DataTexture","images","ConvolutionShader","KERNEL_SIZE_FLOAT","KERNEL_SIZE_INT","uImageIncrement","cKernel","buildKernel","sigma","gauss","exp","values","sum","halfWidth","kernelSize","ceil","BloomPass_BloomPass","BloomPass","strength","resolution","pars","renderTargetX","renderTargetY","copyShader","copyUniforms","materialCopy","blending","AdditiveBlending","convolutionShader","convolutionUniforms","blurX","materialConvolution","toFixed","fsQuad","setTest","blurY","__WEBPACK_IMPORTED_MODULE_0__core_InputNode_js__","NormalNode","__WEBPACK_IMPORTED_MODULE_0__core_TempNode_js__","__WEBPACK_IMPORTED_MODULE_1__core_NodeLib_js__","VIEW","LOCAL","WORLD","contextNormal","NORMAL","EXRLoader","__WEBPACK_IMPORTED_MODULE_1__libs_inflate_module_min_js__","USHORT_RANGE","BITMAP_SIZE","HUF_DECBITS","HUF_ENCSIZE","HUF_DECSIZE","HUF_DECMASK","A_OFFSET","MOD_MASK","SHORT_ZEROCODE_RUN","LONG_ZEROCODE_RUN","SHORTEST_LONG_RUN","ULONG_SIZE","FLOAT32_SIZE","INT32_SIZE","INT16_SIZE","INT8_SIZE","STATIC_HUFFMAN","DEFLATE","UNKNOWN","LOSSY_DCT","RLE","logBase","tmpDataView","frexp","setFloat64","bits","getUint32","exponent","mantissa","steps","ldexp","getBitsReturn","lc","getBits","nBits","uInt8Array","inOffset","parseUint8Array","hufTableBuffer","hufUnpackEncTable","inDataView","ni","im","iM","hcode","zerun","nc","hufCanonicalCodeTable","hufLength","hufCode","getCharReturn","getChar","getCodeReturn","po","rlc","outBuffer","outBufferOffset","outBufferEndOffset","cs","UInt16","Int16","ref","wdec14Return","wdec14","ls","hs","ai","as","bs","wdec16","bb","wav2Decode","nx","ox","ny","oy","mx","p2","w14","i00","i01","i10","i11","py","ey","oy1","oy2","ox1","ox2","px","ex","p01","p11","p10","hufUncompress","nCompressed","nRaw","initialInOffset","parseUint32","freq","hdec","lit","hufClearDecTable","hdecod","pl","plOffset","hufBuildDecTable","encodingTable","decodingTable","no","outOffset","inOffsetEnd","trunc","hufDecode","predictor","interleaveScalar","t1","t2","stop","decodeRunLength","reader","getInt8","getUint8","unRleAC","currAcComp","acBuffer","halfZigBlock","acValue","dctComp","unZigZag","decodeFloat16","dctInverse","alpha","beta","theta","row","rowPtr","column","csc709Inverse","cb","cr","convertToHalf","idx","toLinear","uncompressZIP","info","compressed","inflate","rawBuffer","decompress","tmpBuffer","uncompressDWA","viewer","lines","EXRHeader","channels","dwaHeader","parseInt64","unknownUncompressedSize","unknownCompressedSize","acCompressedSize","dcCompressedSize","rleCompressedSize","rleUncompressedSize","rleRawSize","totalAcUncompressedCount","totalDcUncompressedCount","acCompression","compression","channelRules","ruleSize","parseUint16","parseNullTerminatedString","parseUint8","Int8Array","channelData","cd","channel","decoded","pixelType","pLinear","cscSet","rule","zlibInfo","dcBuffer","rleBuffer","outBufferEnd","rowOffsets","chan","rowPtrs","dataView","numFullBlocksX","numBlocksX","numBlocksY","leftoverX","leftoverY","currDcComp","dctData","rowBlock","comp","blocky","maxY","maxX","blockx","setUint16","halfRow","getUint16","setFloat32","lossyDctDecode","rleOffset","rowOffsetBytes","byte","uintBuffer","endOffset","stringValue","TextDecoder","decode","parseUlong","uLong","parseInt32","Int32","getInt32","Uint32","Uint8","getBigInt64","parseFloat32","getFloat32","binary","fraction","NaN","Uint16","parseValue","parseFixedLengthString","startOffset","xSampling","ySampling","parseChlist","redX","redY","greenX","greenY","blueX","blueY","whiteX","whiteY","parseChromaticities","parseCompression","xMin","yMin","xMax","yMax","parseBox2i","parseLineOrder","parseV2f","parseV3f","parseRational","parseTimecode","bufferDataView","keepReading","attributeName","attributeType","attributeValue","uncompress","scanlineBlockSize","size_t","getValue","dataWindowHeight","dataWindow","tmpBufSize","bitmap","pizChannelData","minNonZero","maxNonZero","lut","maxValue","reverseLutFromBitmap","nData","applyLut","tmpOffset","cp","sz","tmpBufferEnd","writePtr","pixel","numBlocks","channelOffsets","compressionInfo","scanlineBlockIdx","line_y","true_y","channelID","cOff","RGBEArray","red","green","blue","__WEBPACK_IMPORTED_MODULE_1__NodeLib_js__","propertiesRegexp","isMethod","isInterface","useKeywords","getInputByName","getIncludeByName","matches","exec","prop","isGlobal","reference","keyword","substring","qualifier","JSON","stringify","TGALoader","Texture","loader","image","TGA_TYPE_NO_DATA","TGA_TYPE_INDEXED","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_INDEXED","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_BL","TGA_ORIGIN_BR","TGA_ORIGIN_UL","TGA_ORIGIN_UR","content","id_length","colormap_type","image_type","colormap_index","colormap_length","colormap_size","origin","pixel_size","flags","tgaCheckHeader","use_rle","use_pal","use_grey","OffscreenCanvas","imageData","createImageData","pixel_data","pixel_total","palettes","pixels","tgaParse","palette","x_start","y_start","x_step","y_step","x_end","y_end","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","colormap","tgaGetImageData8bits","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","getTgaRGBA","putImageData","__WEBPACK_IMPORTED_MODULE_0__postprocessing_Pass_js__","inverse","writeValue","clearValue","setLocked","setOp","REPLACE","ALWAYS","setClear","KEEP","colorToString","forceCSSHex","colorFormat","__state","conversionName","hex","ARR_EACH","forEach","ARR_SLICE","Common","BREAK","extend","each","isObject","key","isUndefined","bind","defaults","compose","toCall","args","itr","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","callNow","clearTimeout","toArray","isNull","_isNaN","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","original","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","rgb_to_hsv","delta","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","_typeof","_typeof2","iterator","classCallCheck","instance","Constructor","createClass","props","descriptor","enumerable","writable","protoProps","staticProps","receiver","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","inherits","subClass","superClass","setPrototypeOf","possibleConstructorReturn","self","ReferenceError","defineRGBComponent","component","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","__onChange","__onFinishChange","newValue","updateDisplay","EVENT_MAP_INV","HTMLEvents","MouseEvents","KeyboardEvents","CSS_VALUE_PIXELS","cssValueToPixels","dom","makeSelectable","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","fakeEvent","eventType","aux","className","evt","createEvent","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","metaKey","charCode","initEvent","newBool","attachEvent","unbind","detachEvent","addClass","classes","removeClass","removeAttribute","hasClass","RegExp","getWidth","getComputedStyle","getHeight","getOffset","el","offsetParent","offsetLeft","offsetTop","isActive","activeElement","href","BooleanController","_Controller","_this2","__prev","__checkbox","setValue","OptionController","opts","__select","opt","desiredValue","selectedIndex","StringController","onChange","__input","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","log","LN10","__precision","_v","minValue","stepValue","NumberControllerBox","_NumberController","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","attempted","decimals","tenTo","i1","i2","o1","o2","NumberControllerSlider","bgRect","__background","onTouchMove","onTouchEnd","__foreground","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","onBlur","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","backgroundColor","boxShadow","border","borderRadius","borderRight","marginRight","cursor","linearGradient","cssText","outline","textShadow","mismatch","flip","_flip","marginLeft","marginTop","toHexString","vendors","vendor","css","cssContent","indoc","doc","injected","head","getElementsByTagName","ControllerFactory","requestAnimationFrame$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","WebkitTransition","transition","body","hide","webkitTransform","layout","innerWidth","innerHeight","___$insertStyle","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","preset","scrollable","root","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","gui","__preset_select","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","getSaveObject","saveToLocalStorageIfPossible","newDom","liBefore","li","removeListeners","markPresetModified","modified","recallSavedValue","controller","matchedIndex","controllerMap","remembered","presetMap","_add","factoryArgs","before","__li","container","CLASS_CONTROLLER_ROW","__gui","_options","nextSibling","nextElementSibling","_nextSibling","_name","firstElementChild","listen","pc","pb","returned","oldName","wasListening","newController","borderLeftColor","isModified","augmentController","location","addPresetOption","setSelected","showHideExplain","explain","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","__save_row","getCurrentPreset","useInitialValues","savedValues","toggleHide","CLASS_TOO_TALL","_keydownHandler","which","addColor","destroy","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","close","show","offsetHeight","remember","div","firstChild","gears","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","focus","save","presetName","prompt","saveAs","addSaveMenu","updateDisplays","controllerArray","GUI$1","FirstPersonControls","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","mouseDragOn","autoSpeedFactor","mouseX","mouseY","moveForward","moveBackward","moveLeft","moveRight","viewHalfX","viewHalfY","targetPosition","lat","lon","lookDirection","spherical","Spherical","offsetWidth","onKeyDown","moveUp","moveDown","onKeyUp","setOrientation","heightDelta","clamp","actualMoveSpeed","translateZ","translateX","translateY","actualLookSpeed","verticalLookRatio","phi","degToRad","mapLinear","setFromSphericalCoords","_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown","_onKeyUp","fn","controls","setFromVector3","radToDeg","ColorNode","RawNode","__WEBPACK_IMPORTED_MODULE_0__core_Node_js__","analyzeAndFlow","__WEBPACK_IMPORTED_MODULE_1__accessors_ReflectNode_js__","__WEBPACK_IMPORTED_MODULE_2__utils_ColorSpaceNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_ExpressionNode_js__","bias","ReflectNode","getTexture","cubetex","setTexture","colorSpace","FunctionCallNode","setFunction","getFunction","inpt","param","TeapotBufferGeometry","segments","lid","fitLid","blinn","teapotPatches","teapotVertices","maxHeight2","trueSize","numTriangles","numVertices","ms","tcoord","sstep","tstep","vertPerRow","sval","tval","sp","tp","dsp","dtp","mgm","norm","dsval","dtval","normOut","gmx","tmtx","vsp","vtp","vdsp","vdtp","vsdir","vtdir","mst","notDegenerate","vtx1","vtx2","vtx3","maxPatches","surfCount","vertCount","normCount","uvCount","indexCount","surf","multiplyMatrices","computeBoundingSphere","SSAARenderPass","__WEBPACK_IMPORTED_MODULE_1__postprocessing_Pass_js__","__WEBPACK_IMPORTED_MODULE_2__shaders_CopyShader_js__","clearColor","clearAlpha","sampleLevel","unbiased","copyMaterial","premultipliedAlpha","sampleRenderTarget","jitterOffsets","JitterVectors","oldClearColor","getClearColor","getHex","oldClearAlpha","getClearAlpha","baseSampleWeight","jitterOffset","setViewOffset","sampleWeight","setClearColor","clearViewOffset","TextureCubeUVNode","__WEBPACK_IMPORTED_MODULE_1__core_ConstNode_js__","__WEBPACK_IMPORTED_MODULE_2__core_StructNode_js__","__WEBPACK_IMPORTED_MODULE_3__core_FunctionNode_js__","__WEBPACK_IMPORTED_MODULE_4__core_FunctionCallNode_js__","__WEBPACK_IMPORTED_MODULE_6__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_7__math_OperatorNode_js__","__WEBPACK_IMPORTED_MODULE_8__math_MathNode_js__","__WEBPACK_IMPORTED_MODULE_9__utils_ColorSpaceNode_js__","TextureCubeUVData","cubeUV_maxMipLevel","cubeUV_minMipLevel","cubeUV_maxTileSize","cubeUV_minTileSize","getFace","getUV","bilinearCubeUV","r0","m0","roughnessToMip","mipInt","colorSpaceTL","colorSpaceTR","colorSpaceBL","colorSpaceBR","colorSpaceTLExp","colorSpaceTRExp","colorSpaceBLExp","colorSpaceBRExp","roughness","mipV","mip","MathNode","CLAMP","FLOOR","mipF","FRACT","color0","color1","OperatorNode","ADD","color1Mix","MIX","__WEBPACK_IMPORTED_MODULE_1__accessors_UVNode_js__","project","UVNode","tex","TexturePass","oldAutoClear","RenderPass","overrideMaterial","clearDepth","oldOverrideMaterial","autoClearColor","autoClearDepth","autoClearStencil","analyze","settings","flow","updateFrame","getHash","outputLen","outputMax","setName","getName","isRootObject","NodeFrame","time","setRenderer","setRenderTexture","renderTexture","updateNode","frameId","module","originalModule","webpackPolyfill","textureID","LuminosityHighPassShader","shaderID","luminosityThreshold","smoothWidth","defaultColor","defaultOpacity","UnrealBloomPass_UnrealBloomPass","UnrealBloomPass","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","resy","renderTargetBright","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","materialHighPassFilter","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","bloomTintColors","basic","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","three_module","op","SUB","MUL","DIV","PositionNode","PROJECTION","getReadonly","bOrMethod","INV_SQRT","NORMALIZE","SATURATE","COS","ACOS","NEGATE","SMOOTHSTEP","cOrMethod","FACEFORWARD","MAX","MOD","REFLECT","DISTANCE","ABS","LENGTH","INVERT","STEP","CROSS","POW","REFRACT","al","bl","DOT","cl","inputType","getInputType","numInputs","NodeMaterial","properties","l/b+","onBeforeCompile","extensionDrawBuffers","customProgramCacheKey","__WEBPACK_IMPORTED_MODULE_3__accessors_PositionNode_js__","frame","extensionDerivatives","derivatives","extensionFragDepth","fragDepth","shaderTextureLOD","materials","__WEBPACK_IMPORTED_MODULE_1__core_NodeBuilder_js__","sizeAttenuation","flatShading","FrontSide","gapSize","wireframeLinecap","dashSize","morphTargets","declaration","VarNode","__webpack_amd_options__","nXFl","__WEBPACK_IMPORTED_MODULE_0__FunctionNode_js__","AttributeNode","Boolean","BoolNode","IntNode","Matrix3Node","Matrix4Node","ScreenNode","ReflectorNode","mirror","setMirror","uvResult","PropertyNode","quad","rttBuilder","saveToMaterial","frustumCulled","RTTNode","saveTo","updateFramesaveTo","fragmentDict","ColorsNode","CameraNode","POSITION","depthColor","vertexDict","TO_VERTEX","setScope","DEPTH","setCamera","near","number","LightNode","TOTAL","ResolutionNode","ScreenUVNode","CondNode","NOT_EQUAL","LESS","AND","elseType","getCondType","ifNode","ifCode","elseCode","elseNode","GREATER","GREATER_EQUAL","ifType","condType","NoiseNode","snoise","CheckerNode","checker","NormalMapNode","perturbNormal2Arb","dHdxy_fwd","BumpMapNode","bumpToNormal","perturbNormalArb","toNormalMap","BypassNode","derivativeHeight","derivativeHeightCode","JoinNode","getNumElements","outputs","TimerNode","timeScale","velocity","oldPosition","UVTransformNode","MaxMIPLevelNode","SwitchNode","outputLength","inputLength","GLOBAL","moment","speed","VelocityNode","getWorldPosition","updateFrameVelocity","damping","lastVelocity","setTarget","deltaFps","springVelocity","cy","setUvTransform","maxMIPLevel","sx","sy","cx","SpecularMIPLevelNode","getSpecularMIPLevel","SubSlotNode","BlurNode","blurCode","rgb","ColorAdjustmentNode","adjustment","LuminanceNode","LUMA","luminance","hue","saturation","VIBRANCE","BRIGHTNESS","CONTRAST","BasicNode","mask","SpriteNode","specular","ao","shininess","ambient","metalness","StandardNode","normalMap","normalScale","NodePostProcessing","merge","PhongNode","environment","environmentAlpha","light","shadow","emissive","useClearcoat","specularRoughness","clearcoatRoughness","viewNormal","LTC_1","ltc_2","reflectivity","contextEnvironment","clearcoat","clearcoatNormal","sheen","contextClearcoatEnvironment","MeshStandardNode","roughnessMap","BasicNodeMaterial","metalnessMap","envMap","SpriteNodeMaterial","PhongNodeMaterial","StandardNodeMaterial","MeshStandardNodeMaterial","post","GLTFLoader","ktx2Loader","register","parser","GLTFLightsExtension","resourcePath","pluginCallbacks","_onError","GLTFTextureBasisUExtension","setDDSLoader","ddsLoader","itemEnd","unregister","setRequestHeader","gltf","plugins","setDRACOLoader","LoaderUtils","dracoLoader","BINARY_EXTENSION_HEADER_MAGIC","KHR_BINARY_GLTF","setMeshoptDecoder","meshoptDecoder","json","crossOrigin","GLTFParser","fileLoader","requestHeader","extensionsUsed","extensionsRequired","EXTENSIONS","KHR_MATERIALS_UNLIT","GLTFDracoMeshCompressionExtension","headerView","BINARY_EXTENSION_HEADER_LENGTH","magic","decodeText","KHR_DRACO_MESH_COMPRESSION","gltfAttributeMap","primitive","threeAttributeMap","attributeTypeMap","chunkLength","threeAttributeName","contentArray","accessorDef","accessors","chunkIndex","getDependency","Promise","asset","KHR_TEXTURE_TRANSFORM","setPlugins","extensionName","GLTFMaterialsPbrSpecularGlossinessExtension","removeAll","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_MESH_QUANTIZATION","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","_addNodeRef","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","lightDef","range","lightNode","KHR_LIGHTS_PUNCTUAL","refs","uses","materialParams","clearcoatNormalScale","textureDef","textureIndex","GLTFTextureWebPExtension","isSupported","GLTFBinaryExtension","outerConeAngle","penumbra","nodeIndex","nodeLength","nodeDefs","nodeDef","_loadLight","lightIndex","intensity","createUniqueName","dependency","cacheKey","then","distance","GLTFMaterialsUnlitExtension","spot","innerConeAngle","getMaterialType","pending","createNodeAttachment","materialDef","metallicRoughness","baseColorFactor","extension","clearcoatTexture","assignTexture","baseColorTexture","GLTFMaterialsClearcoatExtension","GLTFMaterialsTransmissionExtension","materialIndex","clearcoatFactor","clearcoatRoughnessFactor","clearcoatNormalTexture","all","transmissionFactor","transmissionTexture","detectSupport","loadTextureImage","GLTFMeshoptCompression","textures","bufferView","decoder","supported","extensionDef","chunkView","chunkType","BINARY_EXTENSION_CHUNK_TYPES","decodeGltfBuffer","filter","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossiness","setHex","glossinessMap","uniformName","specularMapParsFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","USE_UV","specularMap","setValues","GLTFMeshStandardSGMaterial","MeshStandardMaterial","pbrSpecularGlossiness","lightMap","bumpMap","normalMapType","TangentSpaceNormalMap","displacementMap","displacementScale","alphaMap","glossinessFactor","envMapIntensity","specularFactor","refractionRatio","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFMeshQuantizationExtension","lightMapIntensity","Interpolant","GLTFCubicSplineInterpolant","emissiveMap","copySampleValue_","sampleValues","displacementBias","afterEnd_","offset0","offset1","parameterPositions","sampleSize","resultBuffer","bufferViewIndex","GLTFTextureTransformExtension","decodeDracoFile","valueSize","FLOAT","FLOAT_MAT4","FLOAT_VEC4","beforeStart_","REPEAT","POINTS","interpolate_","t0","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_FAN","UNSIGNED_BYTE","td","WEBGL_COMPONENT_TYPES","pp","ppp","stride3","s2","WEBGL_FILTERS","s1","NearestMipmapLinearFilter","p0","WEBGL_WRAPPINGS","m1","ClampToEdgeWrapping","RepeatWrapping","WEBGL_TYPE_SIZES","PATH_PROPERTIES","translation","LINEAR","InterpolateDiscrete","5121","5123","ALPHA_MODES","OPAQUE","MASK","9728","9984","9986","9987","10497","VEC2","VEC3","MAT2","MAT3","ATTRIBUTES","TEXCOORD_1","createDefaultMaterial","WEIGHTS_0","INTERPOLATION","resolveURL","assignExtrasToUserData","extras","hasMorphPosition","hasMorphNormal","objectDef","pendingNormalAccessors","gltfDef","pendingPositionAccessors","morphNormals","mesh","updateMorphTargets","meshDef","attributesKey","targetNames","morphTargetInfluences","morphTargetDictionary","primitiveCache","cameraCache","associations","_markDefs","Map","dependencies","scenes","animations","addUnknownExtensionsToUserData","skinDefs","primitiveDef","accessorIndex","accessor","maxDisplacement","targets","assignAttributeAccessor","gltfAttributeName","computeBounds","sphere","getCenter","weights","pendingAccessor","createPrimitiveKey","dracoExtension","morphPositions","geometryKey","addPrimitiveAttributes","primitives","cached","promise","setExtensions","joints","skinIndex","skinLength","_invokeOne","skin","meshDefs","isSkinnedMesh","loadScene","loadNode","_invokeAll","unshift","loadAnimation","defs","bufferDef","bufferIndex","reject","loadBufferView","bufferViewDef","def","pendingBufferViews","uri","elementBytes","byteStride","bufferViews","bufferAttribute","ib","loadAccessor","ibCacheKey","sparse","itemSizeIndices","SCALAR","TypedArrayIndices","componentType","byteOffsetValues","sparseIndices","itemBytes","ibSlice","byteOffsetIndices","setX","sparseValues","setY","isObjectURL","sourceURI","textureExtensions","imageBitmap","textureLoader","URL","revokeObjectURL","hasAlpha","sampler","colorType","blob","Blob","mimeType","gltfReference","assignFinalMaterial","wrapT","useFlatShading","pointsMaterial","mapName","mapDef","texCoord","lineMaterial","Material","useVertexTangents","useMorphTargets","useVertexColors","cachedMaterial","useSkinning","vertexColors","aoMap","isGLTFSpecularGlossinessMaterial","loadMaterial","materialType","materialExtensions","sgExtension","uv2","pbrMetallicRoughness","roughnessFactor","alphaMode","BLEND","kmuExtension","extendParams","alphaTest","occlusionTexture","metallicFactor","aoMapIntensity","metallicRoughnessTexture","normalTexture","PropertyBinding","originalName","Box3","sanitizeNodeName","meshes","meshIndex","decodePrimitive","TextureLoader","setCrossOrigin","SkinnedMesh","normalizeSkinWeights","LineSegments","WEBGL_CONSTANTS","Points","results","cameraDef","skins","skinDef","skinEntry","cameras","cameraIndex","pendingOutputAccessors","animationDef","xmag","ymag","znear","zfar","pendingNodes","pendingInputAccessors","inputAccessors","samplers","outputAccessor","outputAccessors","inverseBindMatrices","animationIndex","TypedKeyframeTrack","pendingTargets","VectorKeyframeTrack","targetName","interpolation","pendingSamplers","outputArray","scaled","track","createInterpolant","InterpolantFactoryMethodGLTFCubicSpline","inputAccessor","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","isBone","nodeName","isMesh","_getNodeRef","pendingJoints","boneInverses","Skeleton","nodeId","buildNodeHierachy","jointNodes","jointNode","Group","nodeIds","bones","UnpackDepthRGBAShader","sD7D","FilmShader","FilmPass","sCount","grayscale","noiseIntensity","nIntensity","scanlinesIntensity","sIntensity","scanlinesCount","FilmPass_FilmPass","sOR5","ujcs","isLE","mLen","nBytes","eLen","eMax","eBias","rt","LN2","radianceNode","irradianceNode","scopeNode","__WEBPACK_IMPORTED_MODULE_1__inputs_FloatNode_js__","__WEBPACK_IMPORTED_MODULE_2__TextureCubeUVNode_js__","__WEBPACK_IMPORTED_MODULE_4__accessors_NormalNode_js__","lastIndexOfSignature","w45l","JSZip","uncompressedSize","compressedSize","crc32","compressionMethod","compressedContent","compress","compressInputType","byteAt","zero","checkIndex","./dataReader","encode","readString","readData","string2Uint8Array","uint8Array2String","getContent","arrayBuffer2Blob","transformTo","4","STORE","getTypeOf","checkSupport","MAX_VALUE_16BITS","uncompressInputType","findCompression","5","isRegExp","6","pako","files","skip","readInt","compressions","readDate","Date","./utils","7","zipComment","comment","date","compressionOptions","unixPermissions","dosPermissions","8","string2binary","string2Blob","MAX_VALUE_32BITS","pretty","9","deflateRaw","level","inflateRaw","_data","utf8decode","asText","./base64","./compressions","./defaults","./deprecatedPublicUtils","./load","./object","./support","11","asNodeBuffer","asUint8Array","checkCRC32","optimizedBinaryString","createFolders","decodeFileName","asArrayBuffer","fileNameStr","decompressed","fileCommentStr","./utf8","./zipEntries","12","./uint8ArrayReader","14","nodebuffer","asBinary","utf8encode","_initialMetadata","CENTRAL_FILE_HEADER","file","hasOwnProperty","getCompressedContent","CENTRAL_DIRECTORY_END","append","fileRecord","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","LOCAL_FILE_HEADER","dirRecord","compressedObject","finalize","platform","encodeFileName","BlobBuilder","getBlob","./compressedObject","./crc32","./nodeBuffer","./signature","./stringWriter","./uint8ArrayWriter","15","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","DATA_DESCRIPTOR","16","17","18","arraybuffer","uint8array","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","./arrayReader","20","21","applyFromCharCode","22","checkSignature","isSignature","readBlockEndOfCentral","diskNumber","readBlockZip64EndOfCentral","zip64EndOfCentralSize","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","readLocalFiles","localHeaderOffset","readCentralDir","centralDirOffset","zip64","centralDirRecords","readEndOfCentral","prepareReader","loadOptions","23","useUTF8","prepareCompressedContent","prepareContent","readLocalPart","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirSize","zipCommentLength","fileNameLength","readCentralPart","processAttributes","versionMadeBy","versionNeeded","zip64ExtensibleData","externalFileAttributes","disksCount","readExtraFields","handleUTF8","extraFields","extraFieldsLength","findExtraFieldUnicodePath","fileName","findExtraFieldUnicodeComment","relativeOffsetEndOfZip64CentralDir","fileComment","./nodeBufferReader","./stringReader","./zipEntry","24","isEncrypted","bitFlag","raw","fileCommentLength","diskNumberStart","internalFileAttributes","parseZIP64ExtraField","avail_out","Buf8","avail_in","deflateEnd","strm","chunks","Deflate","gzip","err","25","./lib/deflate","./lib/inflate","./lib/utils/common","./lib/zlib/constants","26","ended","Z_FINISH","Z_NO_FLUSH","windowBits","binstring2buf","next_in","deflateInit2","memLevel","strategy","deflateSetHeader","Z_STREAM_END","shrinkBuf","arraySet","flattenChunks","chunkSize","string2buf","deflate","onEnd","onData","buf2binstring","next_out","Z_OK","./utils/common","./utils/strings","./zlib/deflate","./zlib/messages","./zlib/zstream","27","inflateInit2","inflateGetHeader","setTyped","Z_BUF_ERROR","Z_SYNC_FLUSH","utf8border","buf2string","inflateEnd","ungzip","./zlib/constants","./zlib/gzheader","./zlib/inflate","28","Int32Array","Buf16","Buf32","29","_tr_flush_block","pending_buf","max_chain_length","strstart","nice_match","./common","30","prev","ja","prev_length","good_match","31","Z_PARTIAL_FLUSH","lookahead","Z_BLOCK","Z_TREES","Z_NEED_DICT","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","32","w_size","33","insert","_tr_tally","match_start","match_length","pending_out","max_lazy_match","total_out","ins_h","hash_mask","wrap","adler","total_in","match_available","ta","window_size","max_lazy","block_start","hash_size","status","hash_shift","w_mask","ka","w_bits","gzhead","gzindex","pending_buf_size","hcrc","va","wa","last_lit","ua","prev_match","qa","sa","nice_length","max_chain","last_flush","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","data_type","ma","ra","_tr_init","good_length","_","la","na","xa","deflateInit","deflateReset","deflateResetKeep","os","oa","pa","_tr_align","_tr_stored_block","deflateInfo","../utils/common","./adler32","./messages","./trees","34","xflags","extra_len","done","35","dmax","wsize","whave","wnext","hold","lencode","distcode","lenbits","distbits","last","havedict","sane","work","Aa","total","lendyn","distdyn","back","wbits","check","Ca","ncode","nlen","ndist","have","next","was","Ba","inflateResetKeep","inflateInit","ya","za","inflateInfo","./inffast","./inftrees","37","dyn_tree","max_code","stat_desc","static_tree","has_stree","extra_bits","extra_base","max_length","38","0","-1","-2","-3","-4","-5","-6","elems","OrbitControls","minZoom","maxZoom","minPolarAngle","maxPolarAngle","40","maxAzimuthAngle","enableDamping","wIBv","MapControls","autoRotateSpeed","quat","ONE","TOUCH","autoRotate","quatInverse","BOTTOM","lastQuaternion","DOLLY","getAzimuthalAngle","sphericalDelta","minAzimuthAngle","setFromUnitVectors","makeSafe","setFromSpherical","rotateLeft","dampingFactor","twoPI","zoomChanged","EPS","panEnd","dollyStart","dollyDelta","getAutoRotationAngle","getZoomScale","panLeft","setFromMatrixColumn","panUp","dollyEnd","rotateUp","objectMatrix","dollyOut","dollyScale","panOffset","deltaX","targetDistance","rotateStart","clientHeight","panStart","rotateEnd","rotateDelta","enableZoom","dollyIn","panDelta","handleTouchMovePan","handleTouchMoveDollyPan","handleTouchMoveDolly","handleTouchEnd","mouseAction","enableRotate","handleMouseDownPan","handleMouseMoveDolly","handleMouseDownRotate","handleMouseMovePan","onMouseWheel","enableKeys","handleKeyDown","UP","handleMouseDownDolly","handleTouchStartPan","handleTouchStartDollyPan","TOUCH_DOLLY_PAN","enablePan","keyPanSpeed","handleTouchStartDolly","handleTouchMoveRotate","DOLLY_PAN","DOLLY_ROTATE","handleTouchMoveDollyRotate","TOUCH_PAN","onTouchStart","floorY","floorZ","xTnh","ImprovedNoise","grad","noise","SPHERE","VECTOR","fade","AA","BA","yA4I","viewPosition","CUBE","__WEBPACK_IMPORTED_MODULE_2__NormalNode_js__","viewNormalNode","roughnessNode","reflectVec","OBJLoader","zCdm","fromDeclaration","material_library_pattern","smooth","startMaterial","ab","lineFirstChar","lineLength","setMaterials","groupStart","groupEnd","groupCount","startObject","inherited","previousMaterial","cloned","currentMaterial","_finalize","colors","hasUVIndices","lastMultiMaterial","previous","mtllib","mi","declared","addNormal","addFaceNormal","addFace","parseVertexIndex","nLen","parseNormalIndex","uvLen","parseUVIndex","ic","addDefaultUV","vLen","addLineGeometry","uvi","addUVLine","addUV","vi","addVertexLine","ParserState","faceVertices","trimLeft","lineParts","lineUVs","lineVertices","object_pattern","vertexData","vertexParts","map_use_pattern","pointData","materialLibraries","isLine","hasVertexColors","createdMaterials","materialHash","sourceMaterial","materialLine","materialPoints","PointsMaterial","isPoints","buffergeometry","miLen"],"mappings":"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","file":"static/js/0.dee32c71264bcc2e0299.js","sourcesContent":["import { MathUtils } from '@/components/build/three.module.js';\r\nimport { Node } from './Node.js';\r\n\r\nfunction TempNode( type, params ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.shared = params.shared !== undefined ? params.shared : true;\r\n\tthis.unique = params.unique !== undefined ? params.unique : false;\r\n\r\n}\r\n\r\nTempNode.prototype = Object.create( Node.prototype );\r\nTempNode.prototype.constructor = TempNode;\r\n\r\nTempNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\toutput = output || this.getType( builder );\r\n\r\n\tif ( this.getShared( builder, output ) ) {\r\n\r\n\t\tvar isUnique = this.getUnique( builder, output );\r\n\r\n\t\tif ( isUnique && this.constructor.uuid === undefined ) {\r\n\r\n\t\t\tthis.constructor.uuid = MathUtils.generateUUID();\r\n\r\n\t\t}\r\n\r\n\t\tuuid = builder.getUuid( uuid || this.getUuid(), ! isUnique );\r\n\r\n\t\tvar data = builder.getNodeData( uuid ),\r\n\t\t\ttype = data.output || this.getType( builder );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tif ( ( data.deps || 0 ) > 0 || this.getLabel() ) {\r\n\r\n\t\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t} else if ( isUnique ) {\r\n\r\n\t\t\tdata.name = data.name || Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t\treturn data.name;\r\n\r\n\t\t} else if ( ! this.getLabel() && ( ! this.getShared( builder, type ) || ( builder.context.ignoreCache || data.deps === 1 ) ) ) {\r\n\r\n\t\t\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n\t\t}\r\n\r\n\t\tuuid = this.getUuid( false );\r\n\r\n\t\tvar name = this.getTemp( builder, uuid );\r\n\r\n\t\tif ( name ) {\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tname = TempNode.prototype.generate.call( this, builder, output, uuid, data.output, ns );\r\n\r\n\t\t\tvar code = this.generate( builder, type, uuid );\r\n\r\n\t\t\tbuilder.addNodeCode( name + ' = ' + code + ';' );\r\n\r\n\t\t\treturn builder.format( name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Node.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nTempNode.prototype.getShared = function ( builder, output ) {\r\n\r\n\treturn output !== 'sampler2D' && output !== 'samplerCube' && this.shared;\r\n\r\n};\r\n\r\nTempNode.prototype.getUnique = function ( /* builder, output */ ) {\r\n\r\n\treturn this.unique;\r\n\r\n};\r\n\r\nTempNode.prototype.setLabel = function ( name ) {\r\n\r\n\tthis.label = name;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTempNode.prototype.getLabel = function ( /* builder */ ) {\r\n\r\n\treturn this.label;\r\n\r\n};\r\n\r\nTempNode.prototype.getUuid = function ( unique ) {\r\n\r\n\tvar uuid = unique || unique == undefined ? this.constructor.uuid || this.uuid : this.uuid;\r\n\r\n\tif ( typeof this.scope === \"string\" ) uuid = this.scope + '-' + uuid;\r\n\r\n\treturn uuid;\r\n\r\n};\r\n\r\nTempNode.prototype.getTemp = function ( builder, uuid ) {\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\tvar tempVar = builder.getVars()[ uuid ];\r\n\r\n\treturn tempVar ? tempVar.name : undefined;\r\n\r\n};\r\n\r\nTempNode.prototype.generate = function ( builder, output, uuid, type, ns ) {\r\n\r\n\tif ( ! this.getShared( builder, output ) ) console.error( \"THREE.TempNode is not shared!\" );\r\n\r\n\tuuid = uuid || this.uuid;\r\n\r\n\treturn builder.getTempVar( uuid, type || this.getType( builder ), ns, this.getLabel() ).name;\r\n\r\n};\r\n\r\nexport { TempNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/TempNode.js","import {\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GeometryUtils = {\r\n\r\n\t/**\r\n\t * Generates 2D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/sketch/15493\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, -Z.\r\n\t * @param v1         Corner index -X, +Z.\r\n\t * @param v2         Corner index +X, +Z.\r\n\t * @param v3         Corner index +X, -Z.\r\n\t */\r\n\thilbert2D: function ( center, size, iterations, v0, v1, v2, v3 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( 0 <= -- iterations ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 0 ], half, iterations, v0, v3, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 1 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 2 ], half, iterations, v0, v1, v2, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert2D( vec[ 3 ], half, iterations, v2, v1, v0, v3 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Generates 3D-Coordinates in a very fast way.\r\n\t *\r\n\t * Based on work by:\r\n\t * @link http://www.openprocessing.org/visuals/?visualID=15599\r\n\t *\r\n\t * @param center     Center of Hilbert curve.\r\n\t * @param size       Total width of Hilbert curve.\r\n\t * @param iterations Number of subdivisions.\r\n\t * @param v0         Corner index -X, +Y, -Z.\r\n\t * @param v1         Corner index -X, +Y, +Z.\r\n\t * @param v2         Corner index -X, -Y, +Z.\r\n\t * @param v3         Corner index -X, -Y, -Z.\r\n\t * @param v4         Corner index +X, -Y, -Z.\r\n\t * @param v5         Corner index +X, -Y, +Z.\r\n\t * @param v6         Corner index +X, +Y, +Z.\r\n\t * @param v7         Corner index +X, +Y, -Z.\r\n\t */\r\n\thilbert3D: function ( center, size, iterations, v0, v1, v2, v3, v4, v5, v6, v7 ) {\r\n\r\n\t\t// Default Vars\r\n\t\tvar center = center !== undefined ? center : new Vector3( 0, 0, 0 ),\r\n\t\t\tsize = size !== undefined ? size : 10,\r\n\t\t\thalf = size / 2,\r\n\t\t\titerations = iterations !== undefined ? iterations : 1,\r\n\t\t\tv0 = v0 !== undefined ? v0 : 0,\r\n\t\t\tv1 = v1 !== undefined ? v1 : 1,\r\n\t\t\tv2 = v2 !== undefined ? v2 : 2,\r\n\t\t\tv3 = v3 !== undefined ? v3 : 3,\r\n\t\t\tv4 = v4 !== undefined ? v4 : 4,\r\n\t\t\tv5 = v5 !== undefined ? v5 : 5,\r\n\t\t\tv6 = v6 !== undefined ? v6 : 6,\r\n\t\t\tv7 = v7 !== undefined ? v7 : 7\r\n\t\t;\r\n\r\n\t\tvar vec_s = [\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z - half ),\r\n\t\t\tnew Vector3( center.x - half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x - half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z - half ),\r\n\t\t\tnew Vector3( center.x + half, center.y - half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z + half ),\r\n\t\t\tnew Vector3( center.x + half, center.y + half, center.z - half )\r\n\t\t];\r\n\r\n\t\tvar vec = [\r\n\t\t\tvec_s[ v0 ],\r\n\t\t\tvec_s[ v1 ],\r\n\t\t\tvec_s[ v2 ],\r\n\t\t\tvec_s[ v3 ],\r\n\t\t\tvec_s[ v4 ],\r\n\t\t\tvec_s[ v5 ],\r\n\t\t\tvec_s[ v6 ],\r\n\t\t\tvec_s[ v7 ]\r\n\t\t];\r\n\r\n\t\t// Recurse iterations\r\n\t\tif ( -- iterations >= 0 ) {\r\n\r\n\t\t\tvar tmp = [];\r\n\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 0 ], half, iterations, v0, v3, v4, v7, v6, v5, v2, v1 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 1 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 2 ], half, iterations, v0, v7, v6, v1, v2, v5, v4, v3 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 3 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 4 ], half, iterations, v2, v3, v0, v1, v6, v7, v4, v5 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 5 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 6 ], half, iterations, v4, v3, v2, v5, v6, v1, v0, v7 ) );\r\n\t\t\tArray.prototype.push.apply( tmp, GeometryUtils.hilbert3D( vec[ 7 ], half, iterations, v6, v5, v2, v1, v0, v3, v4, v7 ) );\r\n\r\n\t\t\t// Return recursive call\r\n\t\t\treturn tmp;\r\n\r\n\t\t}\r\n\r\n\t\t// Return complete Hilbert Curve.\r\n\t\treturn vec;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { GeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/GeometryUtils.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^([a-z_0-9]+)\\s([a-z_0-9]+)\\s?\\=?\\s?(.*?)(\\;|$)/i;\r\n\r\nfunction ConstNode( src, useDefine ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src || ConstNode.PI, useDefine );\r\n\r\n}\r\n\r\nConstNode.PI = 'PI';\r\nConstNode.PI2 = 'PI2';\r\nConstNode.RECIPROCAL_PI = 'RECIPROCAL_PI';\r\nConstNode.RECIPROCAL_PI2 = 'RECIPROCAL_PI2';\r\nConstNode.LOG2 = 'LOG2';\r\nConstNode.EPSILON = 'EPSILON';\r\n\r\nConstNode.prototype = Object.create( TempNode.prototype );\r\nConstNode.prototype.constructor = ConstNode;\r\nConstNode.prototype.nodeType = \"Const\";\r\n\r\nConstNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nConstNode.prototype.parse = function ( src, useDefine ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tvar name, type, value = \"\";\r\n\r\n\tvar match = this.src.match( declarationRegexp );\r\n\r\n\tthis.useDefine = useDefine || this.src.charAt( 0 ) === '#';\r\n\r\n\tif ( match && match.length > 1 ) {\r\n\r\n\t\ttype = match[ 1 ];\r\n\t\tname = match[ 2 ];\r\n\t\tvalue = match[ 3 ];\r\n\r\n\t} else {\r\n\r\n\t\tname = this.src;\r\n\t\ttype = 'f';\r\n\r\n\t}\r\n\r\n\tthis.name = name;\r\n\tthis.type = type;\r\n\tthis.value = value;\r\n\r\n};\r\n\r\nConstNode.prototype.build = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\tif ( this.useDefine ) {\r\n\r\n\t\t\t\treturn '#define ' + this.name + ' ' + this.value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn 'const ' + this.type + ' ' + this.name + ' = ' + this.value + ';';\r\n\r\n\t\t} else if ( this.useDefine ) {\r\n\r\n\t\t\treturn this.src;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.include( this );\r\n\r\n\t\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nConstNode.prototype.generate = function ( builder, output ) {\r\n\r\n\treturn builder.format( this.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nConstNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.parse( source.src, source.useDefine );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nConstNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t\tif ( data.useDefine === true ) data.useDefine = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ConstNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ConstNode.js","var NodeLib = {\r\n\r\n\tnodes: {},\r\n\tkeywords: {},\r\n\r\n\tadd: function ( node ) {\r\n\r\n\t\tthis.nodes[ node.name ] = node;\r\n\r\n\t},\r\n\r\n\taddKeyword: function ( name, callback, cache ) {\r\n\r\n\t\tcache = cache !== undefined ? cache : true;\r\n\r\n\t\tthis.keywords[ name ] = { callback: callback, cache: cache };\r\n\r\n\t},\r\n\r\n\tremove: function ( node ) {\r\n\r\n\t\tdelete this.nodes[ node.name ];\r\n\r\n\t},\r\n\r\n\tremoveKeyword: function ( name ) {\r\n\r\n\t\tdelete this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tget: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ];\r\n\r\n\t},\r\n\r\n\tgetKeyword: function ( name, builder ) {\r\n\r\n\t\treturn this.keywords[ name ].callback.call( this, builder );\r\n\r\n\t},\r\n\r\n\tgetKeywordData: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ];\r\n\r\n\t},\r\n\r\n\tcontains: function ( name ) {\r\n\r\n\t\treturn this.nodes[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tcontainsKeyword: function ( name ) {\r\n\r\n\t\treturn this.keywords[ name ] !== undefined;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeLib };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeLib.js","import {\r\n\tCubeReflectionMapping,\r\n\tCubeRefractionMapping,\r\n\tCubeUVReflectionMapping,\r\n\tCubeUVRefractionMapping,\r\n\tLinearEncoding,\r\n\tGammaEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeUniform } from './NodeUniform.js';\r\nimport { NodeUtils } from './NodeUtils.js';\r\nimport { NodeLib } from './NodeLib.js';\r\nimport { FunctionNode } from './FunctionNode.js';\r\nimport { ConstNode } from './ConstNode.js';\r\nimport { StructNode } from './StructNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\nimport { Vector4Node } from '../inputs/Vector4Node.js';\r\nimport { TextureNode } from '../inputs/TextureNode.js';\r\nimport { CubeTextureNode } from '../inputs/CubeTextureNode.js';\r\nimport { TextureCubeNode } from '../misc/TextureCubeNode.js';\r\n\r\n\r\nvar elements = NodeUtils.elements,\r\n\tconstructors = [ 'float', 'vec2', 'vec3', 'vec4' ],\r\n\tconvertFormatToType = {\r\n\t\tfloat: 'f',\r\n\t\tvec2: 'v2',\r\n\t\tvec3: 'v3',\r\n\t\tvec4: 'v4',\r\n\t\tmat4: 'v4',\r\n\t\tint: 'i',\r\n\t\tbool: 'b'\r\n\t},\r\n\tconvertTypeToFormat = {\r\n\t\tt: 'sampler2D',\r\n\t\ttc: 'samplerCube',\r\n\t\tb: 'bool',\r\n\t\ti: 'int',\r\n\t\tf: 'float',\r\n\t\tc: 'vec3',\r\n\t\tv2: 'vec2',\r\n\t\tv3: 'vec3',\r\n\t\tv4: 'vec4',\r\n\t\tm3: 'mat3',\r\n\t\tm4: 'mat4'\r\n\t};\r\n\r\nfunction NodeBuilder() {\r\n\r\n\tthis.slots = [];\r\n\tthis.caches = [];\r\n\tthis.contexts = [];\r\n\r\n\tthis.keywords = {};\r\n\r\n\tthis.nodeData = {};\r\n\r\n\tthis.requires = {\r\n\t\tuv: [],\r\n\t\tcolor: [],\r\n\t\tlights: false,\r\n\t\tfog: false,\r\n\t\ttransparent: false,\r\n\t\tirradiance: false\r\n\t};\r\n\r\n\tthis.includes = {\r\n\t\tconsts: [],\r\n\t\tfunctions: [],\r\n\t\tstructs: []\r\n\t};\r\n\r\n\tthis.attributes = {};\r\n\r\n\tthis.prefixCode = [\r\n\t\t\"#ifdef TEXTURE_LOD_EXT\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)\",\r\n\r\n\t\t\"#else\",\r\n\r\n\t\t\"\t#define texCube(a, b) textureCube(a, b)\",\r\n\t\t\"\t#define texCubeBias(a, b, c) textureCube(a, b, c)\",\r\n\r\n\t\t\"\t#define tex2D(a, b) texture2D(a, b)\",\r\n\t\t\"\t#define tex2DBias(a, b, c) texture2D(a, b, c)\",\r\n\r\n\t\t\"#endif\",\r\n\r\n\t\t\"#include <packing>\",\r\n\t\t\"#include <common>\"\r\n\r\n\t].join( \"\\n\" );\r\n\r\n\tthis.parsCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.code = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.nodeCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.resultCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.finalCode = {\r\n\t\tvertex: '',\r\n\t\tfragment: ''\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tuniforms: {\r\n\t\t\tlist: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t},\r\n\t\tvars: {\r\n\t\t\tvarying: [],\r\n\t\t\tvertex: [],\r\n\t\t\tfragment: []\r\n\t\t}\r\n\t};\r\n\r\n\t// send to material\r\n\r\n\tthis.defines = {};\r\n\r\n\tthis.uniforms = {};\r\n\r\n\tthis.extensions = {};\r\n\r\n\tthis.updaters = [];\r\n\r\n\tthis.nodes = [];\r\n\r\n\t// --\r\n\r\n\tthis.analyzing = false;\r\n\r\n}\r\n\r\nNodeBuilder.prototype = {\r\n\r\n\tconstructor: NodeBuilder,\r\n\r\n\tbuild: function ( vertex, fragment ) {\r\n\r\n\t\tthis.buildShader( 'vertex', vertex );\r\n\t\tthis.buildShader( 'fragment', fragment );\r\n\r\n\t\tfor ( var i = 0; i < this.requires.uv.length; i ++ ) {\r\n\r\n\t\t\tif ( this.requires.uv[ i ] ) {\r\n\r\n\t\t\t\tvar uvIndex = i > 0 ? i + 1 : '';\r\n\r\n\t\t\t\tthis.addVaryCode( 'varying vec2 vUv' + uvIndex + ';' );\r\n\r\n\t\t\t\tif ( i > 0 ) {\r\n\r\n\t\t\t\t\tthis.addVertexParsCode( 'attribute vec2 uv' + uvIndex + ';' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.addVertexFinalCode( 'vUv' + uvIndex + ' = uv' + uvIndex + ';' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 0 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor = color;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.color[ 1 ] ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec4 vColor2;' );\r\n\t\t\tthis.addVertexParsCode( 'attribute vec4 color2;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vColor2 = color2;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.position ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vPosition = transformed;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldPosition ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWPosition;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.normal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vObjectNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vObjectNormal = normal;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.requires.worldNormal ) {\r\n\r\n\t\t\tthis.addVaryCode( 'varying vec3 vWNormal;' );\r\n\r\n\t\t\tthis.addVertexFinalCode( 'vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;' );\r\n\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tbuildShader: function ( shader, node ) {\r\n\r\n\t\tthis.resultCode[ shader ] = node.build( this.setShader( shader ), 'v4' );\r\n\r\n\t},\r\n\r\n\tsetMaterial: function ( material, renderer ) {\r\n\r\n\t\tthis.material = material;\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\tthis.requires.lights = material.lights;\r\n\t\tthis.requires.fog = material.fog;\r\n\r\n\t\tthis.mergeDefines( material.defines );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddFlow: function ( slot, cache, context ) {\r\n\r\n\t\treturn this.addSlot( slot ).addCache( cache ).addContext( context );\r\n\r\n\t},\r\n\r\n\tremoveFlow: function () {\r\n\r\n\t\treturn this.removeSlot().removeCache().removeContext();\r\n\r\n\t},\r\n\r\n\taddCache: function ( name ) {\r\n\r\n\t\tthis.cache = name || '';\r\n\t\tthis.caches.push( this.cache );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveCache: function () {\r\n\r\n\t\tthis.caches.pop();\r\n\t\tthis.cache = this.caches[ this.caches.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddContext: function ( context ) {\r\n\r\n\t\tthis.context = Object.assign( {}, this.context, context );\r\n\t\tthis.context.extra = this.context.extra || {};\r\n\r\n\t\tthis.contexts.push( this.context );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveContext: function () {\r\n\r\n\t\tthis.contexts.pop();\r\n\t\tthis.context = this.contexts[ this.contexts.length - 1 ] || {};\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\taddSlot: function ( name ) {\r\n\r\n\t\tthis.slot = name || '';\r\n\t\tthis.slots.push( this.slot );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tremoveSlot: function () {\r\n\r\n\t\tthis.slots.pop();\r\n\t\tthis.slot = this.slots[ this.slots.length - 1 ] || '';\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\r\n\taddVertexCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentCode: function ( code ) {\r\n\r\n\t\tthis.addCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddCode: function ( code, shader ) {\r\n\r\n\t\tthis.code[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentNodeCode: function ( code ) {\r\n\r\n\t\tthis.addNodeCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddNodeCode: function ( code, shader ) {\r\n\r\n\t\tthis.nodeCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\tclearNodeCode: function ( shader ) {\r\n\r\n\t\tshader = shader || this.shader;\r\n\r\n\t\tvar code = this.nodeCode[ shader ];\r\n\r\n\t\tthis.nodeCode[ shader ] = '';\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tclearVertexNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'vertex' );\r\n\r\n\t},\r\n\r\n\tclearFragmentNodeCode: function ( ) {\r\n\r\n\t\treturn this.clearNodeCode( 'fragment' );\r\n\r\n\t},\r\n\r\n\taddVertexFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentFinalCode: function ( code ) {\r\n\r\n\t\tthis.addFinalCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddFinalCode: function ( code, shader ) {\r\n\r\n\t\tthis.finalCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVertexParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'vertex' );\r\n\r\n\t},\r\n\r\n\taddFragmentParsCode: function ( code ) {\r\n\r\n\t\tthis.addParsCode( code, 'fragment' );\r\n\r\n\t},\r\n\r\n\taddParsCode: function ( code, shader ) {\r\n\r\n\t\tthis.parsCode[ shader || this.shader ] += code + '\\n';\r\n\r\n\t},\r\n\r\n\r\n\taddVaryCode: function ( code ) {\r\n\r\n\t\tthis.addVertexParsCode( code );\r\n\t\tthis.addFragmentParsCode( code );\r\n\r\n\t},\r\n\r\n\r\n\tisCache: function ( name ) {\r\n\r\n\t\treturn this.caches.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tisSlot: function ( name ) {\r\n\r\n\t\treturn this.slots.indexOf( name ) !== - 1;\r\n\r\n\t},\r\n\r\n\tdefine: function ( name, value ) {\r\n\r\n\t\tthis.defines[ name ] = value === undefined ? 1 : value;\r\n\r\n\t},\r\n\r\n\trequire: function ( name ) {\r\n\r\n\t\tthis.requires[ name ] = true;\r\n\r\n\t},\r\n\r\n\tisDefined: function ( name ) {\r\n\r\n\t\treturn this.defines[ name ] !== undefined;\r\n\r\n\t},\r\n\r\n\tgetVar: function ( uuid, type, ns, shader = 'varying', prefix = 'V', label = '' ) {\r\n\r\n\t\tvar vars = this.getVars( shader ),\r\n\t\t\tdata = vars[ uuid ];\r\n\r\n\t\tif ( ! data ) {\r\n\r\n\t\t\tvar index = vars.length,\r\n\t\t\t\tname = ns ? ns : 'node' + prefix + index + ( label ? '_' + label : '' );\r\n\r\n\t\t\tdata = { name: name, type: type };\r\n\r\n\t\t\tvars.push( data );\r\n\t\t\tvars[ uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\tgetTempVar: function ( uuid, type, ns, label ) {\r\n\r\n\t\treturn this.getVar( uuid, type, ns, this.shader, 'T', label );\r\n\r\n\t},\r\n\r\n\tgetAttribute: function ( name, type ) {\r\n\r\n\t\tif ( ! this.attributes[ name ] ) {\r\n\r\n\t\t\tvar varying = this.getVar( name, type );\r\n\r\n\t\t\tthis.addVertexParsCode( 'attribute ' + type + ' ' + name + ';' );\r\n\t\t\tthis.addVertexFinalCode( varying.name + ' = ' + name + ';' );\r\n\r\n\t\t\tthis.attributes[ name ] = { varying: varying, name: name, type: type };\r\n\r\n\t\t}\r\n\r\n\t\treturn this.attributes[ name ];\r\n\r\n\t},\r\n\r\n\tgetCode: function ( shader ) {\r\n\r\n\t\treturn [\r\n\t\t\tthis.prefixCode,\r\n\t\t\tthis.parsCode[ shader ],\r\n\t\t\tthis.getVarListCode( this.getVars( 'varying' ), 'varying' ),\r\n\t\t\tthis.getVarListCode( this.inputs.uniforms[ shader ], 'uniform' ),\r\n\t\t\tthis.getIncludesCode( 'consts', shader ),\r\n\t\t\tthis.getIncludesCode( 'structs', shader ),\r\n\t\t\tthis.getIncludesCode( 'functions', shader ),\r\n\t\t\t'void main() {',\r\n\t\t\tthis.getVarListCode( this.getVars( shader ) ),\r\n\t\t\tthis.code[ shader ],\r\n\t\t\tthis.resultCode[ shader ],\r\n\t\t\tthis.finalCode[ shader ],\r\n\t\t\t'}'\r\n\t\t].join( \"\\n\" );\r\n\r\n\t},\r\n\r\n\tgetVarListCode: function ( vars, prefix ) {\r\n\r\n\t\tprefix = prefix || '';\r\n\r\n\t\tvar code = '';\r\n\r\n\t\tfor ( var i = 0, l = vars.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar nVar = vars[ i ],\r\n\t\t\t\ttype = nVar.type,\r\n\t\t\t\tname = nVar.name;\r\n\r\n\t\t\tvar formatType = this.getFormatByType( type );\r\n\r\n\t\t\tif ( formatType === undefined ) {\r\n\r\n\t\t\t\tthrow new Error( \"Node pars \" + formatType + \" not found.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcode += prefix + ' ' + formatType + ' ' + name + ';\\n';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetVars: function ( shader ) {\r\n\r\n\t\treturn this.inputs.vars[ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetNodeData: function ( node ) {\r\n\r\n\t\tvar uuid = node.isNode ? node.uuid : node;\r\n\r\n\t\treturn this.nodeData[ uuid ] = this.nodeData[ uuid ] || {};\r\n\r\n\t},\r\n\r\n\tcreateUniform: function ( shader, type, node, ns, needsUpdate, label ) {\r\n\r\n\t\tvar uniforms = this.inputs.uniforms,\r\n\t\t\tindex = uniforms.list.length;\r\n\r\n\t\tvar uniform = new NodeUniform( {\r\n\t\t\ttype: type,\r\n\t\t\tname: ns ? ns : 'nodeU' + index + ( label ? '_' + label : '' ),\r\n\t\t\tnode: node,\r\n\t\t\tneedsUpdate: needsUpdate\r\n\t\t} );\r\n\r\n\t\tuniforms.list.push( uniform );\r\n\r\n\t\tuniforms[ shader ].push( uniform );\r\n\t\tuniforms[ shader ][ uniform.name ] = uniform;\r\n\r\n\t\tthis.uniforms[ uniform.name ] = uniform;\r\n\r\n\t\treturn uniform;\r\n\r\n\t},\r\n\r\n\tcreateVertexUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'vertex', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tcreateFragmentUniform: function ( type, node, ns, needsUpdate, label ) {\r\n\r\n\t\treturn this.createUniform( 'fragment', type, node, ns, needsUpdate, label );\r\n\r\n\t},\r\n\r\n\tinclude: function ( node, parent, source ) {\r\n\r\n\t\tvar includesStruct;\r\n\r\n\t\tnode = typeof node === 'string' ? NodeLib.get( node ) : node;\r\n\r\n\t\tif ( this.context.include === false ) {\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t}\r\n\r\n\r\n\t\tif ( node instanceof FunctionNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.functions;\r\n\r\n\t\t} else if ( node instanceof ConstNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.consts;\r\n\r\n\t\t} else if ( node instanceof StructNode ) {\r\n\r\n\t\t\tincludesStruct = this.includes.structs;\r\n\r\n\t\t}\r\n\r\n\t\tvar includes = includesStruct[ this.shader ] = includesStruct[ this.shader ] || [];\r\n\r\n\t\tif ( node ) {\r\n\r\n\t\t\tvar included = includes[ node.name ];\r\n\r\n\t\t\tif ( ! included ) {\r\n\r\n\t\t\t\tincluded = includes[ node.name ] = {\r\n\t\t\t\t\tnode: node,\r\n\t\t\t\t\tdeps: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tincludes.push( included );\r\n\r\n\t\t\t\tincluded.src = node.build( this, 'source' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node instanceof FunctionNode && parent && includes[ parent.name ] && includes[ parent.name ].deps.indexOf( node ) == - 1 ) {\r\n\r\n\t\t\t\tincludes[ parent.name ].deps.push( node );\r\n\r\n\t\t\t\tif ( node.includes && node.includes.length ) {\r\n\r\n\t\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\t\tdo {\r\n\r\n\t\t\t\t\t\tthis.include( node.includes[ i ++ ], parent );\r\n\r\n\t\t\t\t\t} while ( i < node.includes.length );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( source ) {\r\n\r\n\t\t\t\tincluded.src = source;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn node.name;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( \"Include not found.\" );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcolorToVectorProperties: function ( color ) {\r\n\r\n\t\treturn color.replace( 'r', 'x' ).replace( 'g', 'y' ).replace( 'b', 'z' ).replace( 'a', 'w' );\r\n\r\n\t},\r\n\r\n\tcolorToVector: function ( color ) {\r\n\r\n\t\treturn color.replace( /c/g, 'v3' );\r\n\r\n\t},\r\n\r\n\tgetIncludes: function ( type, shader ) {\r\n\r\n\t\treturn this.includes[ type ][ shader || this.shader ];\r\n\r\n\t},\r\n\r\n\tgetIncludesCode: function () {\r\n\r\n\t\tfunction sortByPosition( a, b ) {\r\n\r\n\t\t\treturn a.deps.length - b.deps.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn function getIncludesCode( type, shader ) {\r\n\r\n\t\t\tvar includes = this.getIncludes( type, shader );\r\n\r\n\t\t\tif ( ! includes ) return '';\r\n\r\n\t\t\tvar code = '',\r\n\t\t\t\tincludes = includes.sort( sortByPosition );\r\n\r\n\t\t\tfor ( var i = 0; i < includes.length; i ++ ) {\r\n\r\n\t\t\t\tif ( includes[ i ].src ) code += includes[ i ].src + '\\n';\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn code;\r\n\r\n\t\t};\r\n\r\n\t}(),\r\n\r\n\tgetConstructorFromLength: function ( len ) {\r\n\r\n\t\treturn constructors[ len - 1 ];\r\n\r\n\t},\r\n\r\n\tisTypeMatrix: function ( format ) {\r\n\r\n\t\treturn /^m/.test( format );\r\n\r\n\t},\r\n\r\n\tgetTypeLength: function ( type ) {\r\n\r\n\t\tif ( type === 'f' ) return 1;\r\n\r\n\t\treturn parseInt( this.colorToVector( type ).substr( 1 ) );\r\n\r\n\t},\r\n\r\n\tgetTypeFromLength: function ( len ) {\r\n\r\n\t\tif ( len === 1 ) return 'f';\r\n\r\n\t\treturn 'v' + len;\r\n\r\n\t},\r\n\r\n\tfindNode: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined && nodeCandidate.isNode ) {\r\n\r\n\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tresolve: function () {\r\n\r\n\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\r\n\r\n\t\t\tvar nodeCandidate = arguments[ i ];\r\n\r\n\t\t\tif ( nodeCandidate !== undefined ) {\r\n\r\n\t\t\t\tif ( nodeCandidate.isNode ) {\r\n\r\n\t\t\t\t\treturn nodeCandidate;\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isTexture ) {\r\n\r\n\t\t\t\t\tswitch ( nodeCandidate.mapping ) {\r\n\r\n\t\t\t\t\t\tcase CubeReflectionMapping:\r\n\t\t\t\t\t\tcase CubeRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new CubeTextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase CubeUVReflectionMapping:\r\n\t\t\t\t\t\tcase CubeUVRefractionMapping:\r\n\r\n\t\t\t\t\t\t\treturn new TextureCubeNode( new TextureNode( nodeCandidate ) );\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\treturn new TextureNode( nodeCandidate );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector2 ) {\r\n\r\n\t\t\t\t\treturn new Vector2Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector3 ) {\r\n\r\n\t\t\t\t\treturn new Vector3Node( nodeCandidate );\r\n\r\n\t\t\t\t} else if ( nodeCandidate.isVector4 ) {\r\n\r\n\t\t\t\t\treturn new Vector4Node( nodeCandidate );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tformat: function ( code, from, to ) {\r\n\r\n\t\tvar typeToType = this.colorToVector( to + ' <- ' + from );\r\n\r\n\t\tswitch ( typeToType ) {\r\n\r\n\t\t\tcase 'f <- v2' : return code + '.x';\r\n\t\t\tcase 'f <- v3' : return code + '.x';\r\n\t\t\tcase 'f <- v4' : return code + '.x';\r\n\t\t\tcase 'f <- i' :\r\n\t\t\tcase 'f <- b' :\treturn 'float( ' + code + ' )';\r\n\r\n\t\t\tcase 'v2 <- f' : return 'vec2( ' + code + ' )';\r\n\t\t\tcase 'v2 <- v3': return code + '.xy';\r\n\t\t\tcase 'v2 <- v4': return code + '.xy';\r\n\t\t\tcase 'v2 <- i' :\r\n\t\t\tcase 'v2 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v3 <- f' : return 'vec3( ' + code + ' )';\r\n\t\t\tcase 'v3 <- v2': return 'vec3( ' + code + ', 0.0 )';\r\n\t\t\tcase 'v3 <- v4': return code + '.xyz';\r\n\t\t\tcase 'v3 <- i' :\r\n\t\t\tcase 'v3 <- b' : return 'vec2( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'v4 <- f' : return 'vec4( ' + code + ' )';\r\n\t\t\tcase 'v4 <- v2': return 'vec4( ' + code + ', 0.0, 1.0 )';\r\n\t\t\tcase 'v4 <- v3': return 'vec4( ' + code + ', 1.0 )';\r\n\t\t\tcase 'v4 <- i' :\r\n\t\t\tcase 'v4 <- b' : return 'vec4( float( ' + code + ' ) )';\r\n\r\n\t\t\tcase 'i <- f' :\r\n\t\t\tcase 'i <- b' : return 'int( ' + code + ' )';\r\n\t\t\tcase 'i <- v2' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v3' : return 'int( ' + code + '.x )';\r\n\t\t\tcase 'i <- v4' : return 'int( ' + code + '.x )';\r\n\r\n\t\t\tcase 'b <- f' : return '( ' + code + ' != 0.0 )';\r\n\t\t\tcase 'b <- v2' : return '( ' + code + ' != vec2( 0.0 ) )';\r\n\t\t\tcase 'b <- v3' : return '( ' + code + ' != vec3( 0.0 ) )';\r\n\t\t\tcase 'b <- v4' : return '( ' + code + ' != vec4( 0.0 ) )';\r\n\t\t\tcase 'b <- i' : return '( ' + code + ' != 0 )';\r\n\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\r\n\t},\r\n\r\n\tgetTypeByFormat: function ( format ) {\r\n\r\n\t\treturn convertFormatToType[ format ] || format;\r\n\r\n\t},\r\n\r\n\tgetFormatByType: function ( type ) {\r\n\r\n\t\treturn convertTypeToFormat[ type ] || type;\r\n\r\n\t},\r\n\r\n\tgetUuid: function ( uuid, useCache ) {\r\n\r\n\t\tuseCache = useCache !== undefined ? useCache : true;\r\n\r\n\t\tif ( useCache && this.cache ) uuid = this.cache + '-' + uuid;\r\n\r\n\t\treturn uuid;\r\n\r\n\t},\r\n\r\n\tgetElementByIndex: function ( index ) {\r\n\r\n\t\treturn elements[ index ];\r\n\r\n\t},\r\n\r\n\tgetIndexByElement: function ( elm ) {\r\n\r\n\t\treturn elements.indexOf( elm );\r\n\r\n\t},\r\n\r\n\tisShader: function ( shader ) {\r\n\r\n\t\treturn this.shader === shader;\r\n\r\n\t},\r\n\r\n\tsetShader: function ( shader ) {\r\n\r\n\t\tthis.shader = shader;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tmergeDefines: function ( defines ) {\r\n\r\n\t\tfor ( var name in defines ) {\r\n\r\n\t\t\tthis.defines[ name ] = defines[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.defines;\r\n\r\n\t},\r\n\r\n\tmergeUniform: function ( uniforms ) {\r\n\r\n\t\tfor ( var name in uniforms ) {\r\n\r\n\t\t\tthis.uniforms[ name ] = uniforms[ name ];\r\n\r\n\t\t}\r\n\r\n\t\treturn this.uniforms;\r\n\r\n\t},\r\n\r\n\tgetTextureEncodingFromMap: function ( map ) {\r\n\r\n\t\tvar encoding;\r\n\r\n\t\tif ( ! map ) {\r\n\r\n\t\t\tencoding = LinearEncoding;\r\n\r\n\t\t} else if ( map.isTexture ) {\r\n\r\n\t\t\tencoding = map.encoding;\r\n\r\n\t\t} else if ( map.isWebGLRenderTarget ) {\r\n\r\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\r\n\t\t\tencoding = map.texture.encoding;\r\n\r\n\t\t}\r\n\r\n\t\tif ( encoding === LinearEncoding && this.context.gamma ) {\r\n\r\n\t\t\tencoding = GammaEncoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn encoding;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeBuilder };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeBuilder.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector2Node( x, y ) {\r\n\r\n\tInputNode.call( this, 'v2' );\r\n\r\n\tthis.value = x instanceof Vector2 ? x : new Vector2( x, y );\r\n\r\n}\r\n\r\nVector2Node.prototype = Object.create( InputNode.prototype );\r\nVector2Node.prototype.constructor = Vector2Node;\r\nVector2Node.prototype.nodeType = \"Vector2\";\r\n\r\nNodeUtils.addShortcuts( Vector2Node.prototype, 'value', [ 'x', 'y' ] );\r\n\r\nVector2Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec2( \" + this.x + \", \" + this.y + \" )\", type, output );\r\n\r\n};\r\n\r\nVector2Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector2Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector2Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector2Node.js","var NodeUtils = {\r\n\r\n\telements: [ 'x', 'y', 'z', 'w' ],\r\n\r\n\taddShortcuts: function () {\r\n\r\n\t\tfunction applyShortcut( proxy, property, subProperty ) {\r\n\r\n\t\t\tif ( subProperty ) {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ][ subProperty ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ][ subProperty ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn {\r\n\r\n\t\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\t\treturn this[ proxy ][ property ];\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tset: function ( val ) {\r\n\r\n\t\t\t\t\t\tthis[ proxy ][ property ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn function addShortcuts( proto, proxy, list ) {\r\n\r\n\t\t\tvar shortcuts = {};\r\n\r\n\t\t\tfor ( var i = 0; i < list.length; ++ i ) {\r\n\r\n\t\t\t\tvar data = list[ i ].split( \".\" ),\r\n\t\t\t\t\tproperty = data[ 0 ],\r\n\t\t\t\t\tsubProperty = data[ 1 ];\r\n\r\n\t\t\t\tshortcuts[ property ] = applyShortcut( proxy, property, subProperty );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tObject.defineProperties( proto, shortcuts );\r\n\r\n\t\t};\r\n\r\n\t}()\r\n\r\n};\r\n\r\nexport { NodeUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUtils.js","import {\r\n\tClock,\r\n\tLinearFilter,\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tRGBAFormat,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { ShaderPass } from \"../postprocessing/ShaderPass.js\";\r\nimport { MaskPass } from \"../postprocessing/MaskPass.js\";\r\nimport { ClearMaskPass } from \"../postprocessing/MaskPass.js\";\r\n\r\nvar EffectComposer = function ( renderer, renderTarget ) {\r\n\r\n\tthis.renderer = renderer;\r\n\r\n\tif ( renderTarget === undefined ) {\r\n\r\n\t\tvar parameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tvar size = renderer.getSize( new Vector2() );\r\n\t\tthis._pixelRatio = renderer.getPixelRatio();\r\n\t\tthis._width = size.width;\r\n\t\tthis._height = size.height;\r\n\r\n\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\r\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\r\n\r\n\t} else {\r\n\r\n\t\tthis._pixelRatio = 1;\r\n\t\tthis._width = renderTarget.width;\r\n\t\tthis._height = renderTarget.height;\r\n\r\n\t}\r\n\r\n\tthis.renderTarget1 = renderTarget;\r\n\tthis.renderTarget2 = renderTarget.clone();\r\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\r\n\r\n\tthis.writeBuffer = this.renderTarget1;\r\n\tthis.readBuffer = this.renderTarget2;\r\n\r\n\tthis.renderToScreen = true;\r\n\r\n\tthis.passes = [];\r\n\r\n\t// dependencies\r\n\r\n\tif ( CopyShader === undefined ) {\r\n\r\n\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\r\n\r\n\t}\r\n\r\n\tif ( ShaderPass === undefined ) {\r\n\r\n\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\r\n\r\n\t}\r\n\r\n\tthis.copyPass = new ShaderPass( CopyShader );\r\n\r\n\tthis.clock = new Clock();\r\n\r\n};\r\n\r\nObject.assign( EffectComposer.prototype, {\r\n\r\n\tswapBuffers: function () {\r\n\r\n\t\tvar tmp = this.readBuffer;\r\n\t\tthis.readBuffer = this.writeBuffer;\r\n\t\tthis.writeBuffer = tmp;\r\n\r\n\t},\r\n\r\n\taddPass: function ( pass ) {\r\n\r\n\t\tthis.passes.push( pass );\r\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t},\r\n\r\n\tinsertPass: function ( pass, index ) {\r\n\r\n\t\tthis.passes.splice( index, 0, pass );\r\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t},\r\n\r\n\tisLastEnabledPass: function ( passIndex ) {\r\n\r\n\t\tfor ( var i = passIndex + 1; i < this.passes.length; i ++ ) {\r\n\r\n\t\t\tif ( this.passes[ i ].enabled ) {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t},\r\n\r\n\trender: function ( deltaTime ) {\r\n\r\n\t\t// deltaTime value is in seconds\r\n\r\n\t\tif ( deltaTime === undefined ) {\r\n\r\n\t\t\tdeltaTime = this.clock.getDelta();\r\n\r\n\t\t}\r\n\r\n\t\tvar currentRenderTarget = this.renderer.getRenderTarget();\r\n\r\n\t\tvar maskActive = false;\r\n\r\n\t\tvar pass, i, il = this.passes.length;\r\n\r\n\t\tfor ( i = 0; i < il; i ++ ) {\r\n\r\n\t\t\tpass = this.passes[ i ];\r\n\r\n\t\t\tif ( pass.enabled === false ) continue;\r\n\r\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\r\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\r\n\r\n\t\t\tif ( pass.needsSwap ) {\r\n\r\n\t\t\t\tif ( maskActive ) {\r\n\r\n\t\t\t\t\tvar context = this.renderer.getContext();\r\n\t\t\t\t\tvar stencil = this.renderer.state.buffers.stencil;\r\n\r\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\r\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\r\n\r\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\r\n\r\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\r\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.swapBuffers();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( MaskPass !== undefined ) {\r\n\r\n\t\t\t\tif ( pass instanceof MaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = true;\r\n\r\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t},\r\n\r\n\treset: function ( renderTarget ) {\r\n\r\n\t\tif ( renderTarget === undefined ) {\r\n\r\n\t\t\tvar size = this.renderer.getSize( new Vector2() );\r\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\r\n\t\t\tthis._width = size.width;\r\n\t\t\tthis._height = size.height;\r\n\r\n\t\t\trenderTarget = this.renderTarget1.clone();\r\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderTarget1.dispose();\r\n\t\tthis.renderTarget2.dispose();\r\n\t\tthis.renderTarget1 = renderTarget;\r\n\t\tthis.renderTarget2 = renderTarget.clone();\r\n\r\n\t\tthis.writeBuffer = this.renderTarget1;\r\n\t\tthis.readBuffer = this.renderTarget2;\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tthis._width = width;\r\n\t\tthis._height = height;\r\n\r\n\t\tvar effectiveWidth = this._width * this._pixelRatio;\r\n\t\tvar effectiveHeight = this._height * this._pixelRatio;\r\n\r\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\r\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\r\n\r\n\t\tfor ( var i = 0; i < this.passes.length; i ++ ) {\r\n\r\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetPixelRatio: function ( pixelRatio ) {\r\n\r\n\t\tthis._pixelRatio = pixelRatio;\r\n\r\n\t\tthis.setSize( this._width, this._height );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nvar Pass = function () {\r\n\r\n\t// if set to true, the pass is processed by the composer\r\n\tthis.enabled = true;\r\n\r\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\r\n\tthis.needsSwap = true;\r\n\r\n\t// if set to true, the pass clears its buffer before rendering\r\n\tthis.clear = false;\r\n\r\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\r\n\tthis.renderToScreen = false;\r\n\r\n};\r\n\r\nObject.assign( Pass.prototype, {\r\n\r\n\tsetSize: function ( /* width, height */ ) {},\r\n\r\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// Helper for passes that need to fill the viewport with a single quad.\r\nPass.FullScreenQuad = ( function () {\r\n\r\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\r\n\r\n\tvar FullScreenQuad = function ( material ) {\r\n\r\n\t\tthis._mesh = new Mesh( geometry, material );\r\n\r\n\t};\r\n\r\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._mesh.material;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._mesh.material = value;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( FullScreenQuad.prototype, {\r\n\r\n\t\tdispose: function () {\r\n\r\n\t\t\tthis._mesh.geometry.dispose();\r\n\r\n\t\t},\r\n\r\n\t\trender: function ( renderer ) {\r\n\r\n\t\t\trenderer.render( this._mesh, camera );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn FullScreenQuad;\r\n\r\n} )();\r\n\r\nexport { EffectComposer, Pass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/EffectComposer.js","/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var mod={}, l=void 0,aa=mod;function r(c,d){var a=c.split(\".\"),b=aa;!(a[0]in b)&&b.execScript&&b.execScript(\"var \"+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&d!==l?b[e]=d:b=b[e]?b[e]:b[e]={}};var t=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function v(c){var d=c.length,a=0,b=Number.POSITIVE_INFINITY,e,f,g,h,k,m,n,p,s,x;for(p=0;p<d;++p)c[p]>a&&(a=c[p]),c[p]<b&&(b=c[p]);e=1<<a;f=new (t?Uint32Array:Array)(e);g=1;h=0;for(k=2;g<=a;){for(p=0;p<d;++p)if(c[p]===g){m=0;n=h;for(s=0;s<g;++s)m=m<<1|n&1,n>>=1;x=g<<16|p;for(s=m;s<e;s+=k)f[s]=x;++h}++g;h<<=1;k<<=1}return[f,a,b]};function w(c,d){this.g=[];this.h=32768;this.d=this.f=this.a=this.l=0;this.input=t?new Uint8Array(c):c;this.m=!1;this.i=y;this.r=!1;if(d||!(d={}))d.index&&(this.a=d.index),d.bufferSize&&(this.h=d.bufferSize),d.bufferType&&(this.i=d.bufferType),d.resize&&(this.r=d.resize);switch(this.i){case A:this.b=32768;this.c=new (t?Uint8Array:Array)(32768+this.h+258);break;case y:this.b=0;this.c=new (t?Uint8Array:Array)(this.h);this.e=this.z;this.n=this.v;this.j=this.w;break;default:throw Error(\"invalid inflate mode\");\r\n}}var A=0,y=1,B={t:A,s:y};\r\nw.prototype.k=function(){for(;!this.m;){var c=C(this,3);c&1&&(this.m=!0);c>>>=1;switch(c){case 0:var d=this.input,a=this.a,b=this.c,e=this.b,f=d.length,g=l,h=l,k=b.length,m=l;this.d=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=d[a++]|d[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=d[a++]|d[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>d.length)throw Error(\"input buffer is broken\");switch(this.i){case A:for(;e+\r\ng>b.length;){m=k-e;g-=m;if(t)b.set(d.subarray(a,a+m),e),e+=m,a+=m;else for(;m--;)b[e++]=d[a++];this.b=e;b=this.e();e=this.b}break;case y:for(;e+g>b.length;)b=this.e({p:2});break;default:throw Error(\"invalid inflate mode\");}if(t)b.set(d.subarray(a,a+g),e),e+=g,a+=g;else for(;g--;)b[e++]=d[a++];this.a=a;this.b=e;this.c=b;break;case 1:this.j(ba,ca);break;case 2:for(var n=C(this,5)+257,p=C(this,5)+1,s=C(this,4)+4,x=new (t?Uint8Array:Array)(D.length),S=l,T=l,U=l,u=l,M=l,F=l,z=l,q=l,V=l,q=0;q<s;++q)x[D[q]]=\r\nC(this,3);if(!t){q=s;for(s=x.length;q<s;++q)x[D[q]]=0}S=v(x);u=new (t?Uint8Array:Array)(n+p);q=0;for(V=n+p;q<V;)switch(M=E(this,S),M){case 16:for(z=3+C(this,2);z--;)u[q++]=F;break;case 17:for(z=3+C(this,3);z--;)u[q++]=0;F=0;break;case 18:for(z=11+C(this,7);z--;)u[q++]=0;F=0;break;default:F=u[q++]=M}T=t?v(u.subarray(0,n)):v(u.slice(0,n));U=t?v(u.subarray(n)):v(u.slice(n));this.j(T,U);break;default:throw Error(\"unknown BTYPE: \"+c);}}return this.n()};\r\nvar G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=t?new Uint16Array(G):G,H=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],I=t?new Uint16Array(H):H,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],K=t?new Uint8Array(J):J,L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],da=t?new Uint16Array(L):L,ea=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,\r\n13,13],N=t?new Uint8Array(ea):ea,O=new (t?Uint8Array:Array)(288),P,fa;P=0;for(fa=O.length;P<fa;++P)O[P]=143>=P?8:255>=P?9:279>=P?7:8;var ba=v(O),Q=new (t?Uint8Array:Array)(30),R,ga;R=0;for(ga=Q.length;R<ga;++R)Q[R]=5;var ca=v(Q);function C(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h;b<d;){if(f>=g)throw Error(\"input buffer is broken\");a|=e[f++]<<b;b+=8}h=a&(1<<d)-1;c.f=a>>>d;c.d=b-d;c.a=f;return h}\r\nfunction E(c,d){for(var a=c.f,b=c.d,e=c.input,f=c.a,g=e.length,h=d[0],k=d[1],m,n;b<k&&!(f>=g);)a|=e[f++]<<b,b+=8;m=h[a&(1<<k)-1];n=m>>>16;if(n>b)throw Error(\"invalid code length: \"+n);c.f=a>>n;c.d=b-n;c.a=f;return m&65535}\r\nw.prototype.j=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length-258,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(this.b=b,a=this.e(),b=this.b),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b>=e&&(this.b=b,a=this.e(),b=this.b);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.w=function(c,d){var a=this.c,b=this.b;this.o=c;for(var e=a.length,f,g,h,k;256!==(f=E(this,c));)if(256>f)b>=e&&(a=this.e(),e=a.length),a[b++]=f;else{g=f-257;k=I[g];0<K[g]&&(k+=C(this,K[g]));f=E(this,d);h=da[f];0<N[f]&&(h+=C(this,N[f]));b+k>e&&(a=this.e(),e=a.length);for(;k--;)a[b]=a[b++-h]}for(;8<=this.d;)this.d-=8,this.a--;this.b=b};\r\nw.prototype.e=function(){var c=new (t?Uint8Array:Array)(this.b-32768),d=this.b-32768,a,b,e=this.c;if(t)c.set(e.subarray(32768,c.length));else{a=0;for(b=c.length;a<b;++a)c[a]=e[a+32768]}this.g.push(c);this.l+=c.length;if(t)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];this.b=32768;return e};\r\nw.prototype.z=function(c){var d,a=this.input.length/this.a+1|0,b,e,f,g=this.input,h=this.c;c&&(\"number\"===typeof c.p&&(a=c.p),\"number\"===typeof c.u&&(a+=c.u));2>a?(b=(g.length-this.a)/this.o[2],f=258*(b/2)|0,e=f<h.length?h.length+f:h.length<<1):e=h.length*a;t?(d=new Uint8Array(e),d.set(h)):d=h;return this.c=d};\r\nw.prototype.n=function(){var c=0,d=this.c,a=this.g,b,e=new (t?Uint8Array:Array)(this.l+(this.b-32768)),f,g,h,k;if(0===a.length)return t?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);f=0;for(g=a.length;f<g;++f){b=a[f];h=0;for(k=b.length;h<k;++h)e[c++]=b[h]}f=32768;for(g=this.b;f<g;++f)e[c++]=d[f];this.g=[];return this.buffer=e};\r\nw.prototype.v=function(){var c,d=this.b;t?this.r?(c=new Uint8Array(d),c.set(this.c.subarray(0,d))):c=this.c.subarray(0,d):(this.c.length>d&&(this.c.length=d),c=this.c);return this.buffer=c};function W(c,d){var a,b;this.input=c;this.a=0;if(d||!(d={}))d.index&&(this.a=d.index),d.verify&&(this.A=d.verify);a=c[this.a++];b=c[this.a++];switch(a&15){case ha:this.method=ha;break;default:throw Error(\"unsupported compression method\");}if(0!==((a<<8)+b)%31)throw Error(\"invalid fcheck flag:\"+((a<<8)+b)%31);if(b&32)throw Error(\"fdict flag is not supported\");this.q=new w(c,{index:this.a,bufferSize:d.bufferSize,bufferType:d.bufferType,resize:d.resize})}\r\nW.prototype.k=function(){var c=this.input,d,a;d=this.q.k();this.a=this.q.a;if(this.A){a=(c[this.a++]<<24|c[this.a++]<<16|c[this.a++]<<8|c[this.a++])>>>0;var b=d;if(\"string\"===typeof b){var e=b.split(\"\"),f,g;f=0;for(g=e.length;f<g;f++)e[f]=(e[f].charCodeAt(0)&255)>>>0;b=e}for(var h=1,k=0,m=b.length,n,p=0;0<m;){n=1024<m?1024:m;m-=n;do h+=b[p++],k+=h;while(--n);h%=65521;k%=65521}if(a!==(k<<16|h)>>>0)throw Error(\"invalid adler-32 checksum\");}return d};var ha=8;r(\"Zlib.Inflate\",W);r(\"Zlib.Inflate.prototype.decompress\",W.prototype.k);var X={ADAPTIVE:B.s,BLOCK:B.t},Y,Z,$,ia;if(Object.keys)Y=Object.keys(X);else for(Z in Y=[],$=0,X)Y[$++]=Z;$=0;for(ia=Y.length;$<ia;++$)Z=Y[$],r(\"Zlib.Inflate.BufferType.\"+Z,X[Z]);\r\nvar Inflate=mod.Zlib.Inflate;\r\nexport { Inflate }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/inflate.module.min.js","import {\r\n\tMatrix4,\r\n\tObject3D,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Based on http://www.emagix.net/academic/mscs-project/item/camera-sync-with-css3-and-webgl-threejs\r\n */\r\n\r\nvar CSS3DObject = function ( element ) {\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.element = element || document.createElement( 'div' );\r\n\tthis.element.style.position = 'absolute';\r\n\tthis.element.style.pointerEvents = 'auto';\r\n\r\n\tthis.addEventListener( 'removed', function () {\r\n\r\n\t\tthis.traverse( function ( object ) {\r\n\r\n\t\t\tif ( object.element instanceof Element && object.element.parentNode !== null ) {\r\n\r\n\t\t\t\tobject.element.parentNode.removeChild( object.element );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t} );\r\n\r\n};\r\n\r\nCSS3DObject.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: CSS3DObject,\r\n\r\n\tcopy: function ( source, recursive ) {\r\n\r\n\t\tObject3D.prototype.copy.call( this, source, recursive );\r\n\r\n\t\tthis.element = source.element.cloneNode( true );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nvar CSS3DSprite = function ( element ) {\r\n\r\n\tCSS3DObject.call( this, element );\r\n\r\n};\r\n\r\nCSS3DSprite.prototype = Object.create( CSS3DObject.prototype );\r\nCSS3DSprite.prototype.constructor = CSS3DSprite;\r\n\r\n//\r\n\r\nvar CSS3DRenderer = function () {\r\n\r\n\tvar _this = this;\r\n\r\n\tvar _width, _height;\r\n\tvar _widthHalf, _heightHalf;\r\n\r\n\tvar matrix = new Matrix4();\r\n\r\n\tvar cache = {\r\n\t\tcamera: { fov: 0, style: '' },\r\n\t\tobjects: new WeakMap()\r\n\t};\r\n\r\n\tvar domElement = document.createElement( 'div' );\r\n\tdomElement.style.overflow = 'hidden';\r\n\r\n\tthis.domElement = domElement;\r\n\r\n\tvar cameraElement = document.createElement( 'div' );\r\n\r\n\tcameraElement.style.WebkitTransformStyle = 'preserve-3d';\r\n\tcameraElement.style.transformStyle = 'preserve-3d';\r\n\tcameraElement.style.pointerEvents = 'none';\r\n\r\n\tdomElement.appendChild( cameraElement );\r\n\r\n\tvar isIE = /Trident/i.test( navigator.userAgent );\r\n\r\n\tthis.getSize = function () {\r\n\r\n\t\treturn {\r\n\t\t\twidth: _width,\r\n\t\t\theight: _height\r\n\t\t};\r\n\r\n\t};\r\n\r\n\tthis.setSize = function ( width, height ) {\r\n\r\n\t\t_width = width;\r\n\t\t_height = height;\r\n\t\t_widthHalf = _width / 2;\r\n\t\t_heightHalf = _height / 2;\r\n\r\n\t\tdomElement.style.width = width + 'px';\r\n\t\tdomElement.style.height = height + 'px';\r\n\r\n\t\tcameraElement.style.width = width + 'px';\r\n\t\tcameraElement.style.height = height + 'px';\r\n\r\n\t};\r\n\r\n\tfunction epsilon( value ) {\r\n\r\n\t\treturn Math.abs( value ) < 1e-10 ? 0 : value;\r\n\r\n\t}\r\n\r\n\tfunction getCameraCSSMatrix( matrix ) {\r\n\r\n\t\tvar elements = matrix.elements;\r\n\r\n\t\treturn 'matrix3d(' +\r\n\t\t\tepsilon( elements[ 0 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 1 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 2 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 3 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 4 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 5 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 6 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 7 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 8 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 9 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 10 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 11 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 12 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 13 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 14 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 15 ] ) +\r\n\t\t')';\r\n\r\n\t}\r\n\r\n\tfunction getObjectCSSMatrix( matrix, cameraCSSMatrix ) {\r\n\r\n\t\tvar elements = matrix.elements;\r\n\t\tvar matrix3d = 'matrix3d(' +\r\n\t\t\tepsilon( elements[ 0 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 1 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 2 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 3 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 4 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 5 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 6 ] ) + ',' +\r\n\t\t\tepsilon( - elements[ 7 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 8 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 9 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 10 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 11 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 12 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 13 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 14 ] ) + ',' +\r\n\t\t\tepsilon( elements[ 15 ] ) +\r\n\t\t')';\r\n\r\n\t\tif ( isIE ) {\r\n\r\n\t\t\treturn 'translate(-50%,-50%)' +\r\n\t\t\t\t'translate(' + _widthHalf + 'px,' + _heightHalf + 'px)' +\r\n\t\t\t\tcameraCSSMatrix +\r\n\t\t\t\tmatrix3d;\r\n\r\n\t\t}\r\n\r\n\t\treturn 'translate(-50%,-50%)' + matrix3d;\r\n\r\n\t}\r\n\r\n\tfunction renderObject( object, scene, camera, cameraCSSMatrix ) {\r\n\r\n\t\tif ( object instanceof CSS3DObject ) {\r\n\r\n\t\t\tobject.onBeforeRender( _this, scene, camera );\r\n\r\n\t\t\tvar style;\r\n\r\n\t\t\tif ( object instanceof CSS3DSprite ) {\r\n\r\n\t\t\t\t// http://swiftcoder.wordpress.com/2008/11/25/constructing-a-billboard-matrix/\r\n\r\n\t\t\t\tmatrix.copy( camera.matrixWorldInverse );\r\n\t\t\t\tmatrix.transpose();\r\n\t\t\t\tmatrix.copyPosition( object.matrixWorld );\r\n\t\t\t\tmatrix.scale( object.scale );\r\n\r\n\t\t\t\tmatrix.elements[ 3 ] = 0;\r\n\t\t\t\tmatrix.elements[ 7 ] = 0;\r\n\t\t\t\tmatrix.elements[ 11 ] = 0;\r\n\t\t\t\tmatrix.elements[ 15 ] = 1;\r\n\r\n\t\t\t\tstyle = getObjectCSSMatrix( matrix, cameraCSSMatrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tstyle = getObjectCSSMatrix( object.matrixWorld, cameraCSSMatrix );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar element = object.element;\r\n\t\t\tvar cachedObject = cache.objects.get( object );\r\n\r\n\t\t\tif ( cachedObject === undefined || cachedObject.style !== style ) {\r\n\r\n\t\t\t\telement.style.WebkitTransform = style;\r\n\t\t\t\telement.style.transform = style;\r\n\r\n\t\t\t\tvar objectData = { style: style };\r\n\r\n\t\t\t\tif ( isIE ) {\r\n\r\n\t\t\t\t\tobjectData.distanceToCameraSquared = getDistanceToSquared( camera, object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcache.objects.set( object, objectData );\r\n\r\n\t\t\t}\r\n\r\n\t\t\telement.style.display = object.visible ? '' : 'none';\r\n\r\n\t\t\tif ( element.parentNode !== cameraElement ) {\r\n\r\n\t\t\t\tcameraElement.appendChild( element );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.onAfterRender( _this, scene, camera );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, l = object.children.length; i < l; i ++ ) {\r\n\r\n\t\t\trenderObject( object.children[ i ], scene, camera, cameraCSSMatrix );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar getDistanceToSquared = function () {\r\n\r\n\t\tvar a = new Vector3();\r\n\t\tvar b = new Vector3();\r\n\r\n\t\treturn function ( object1, object2 ) {\r\n\r\n\t\t\ta.setFromMatrixPosition( object1.matrixWorld );\r\n\t\t\tb.setFromMatrixPosition( object2.matrixWorld );\r\n\r\n\t\t\treturn a.distanceToSquared( b );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction filterAndFlatten( scene ) {\r\n\r\n\t\tvar result = [];\r\n\r\n\t\tscene.traverse( function ( object ) {\r\n\r\n\t\t\tif ( object instanceof CSS3DObject ) result.push( object );\r\n\r\n\t\t} );\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\tfunction zOrder( scene ) {\r\n\r\n\t\tvar sorted = filterAndFlatten( scene ).sort( function ( a, b ) {\r\n\r\n\t\t\tvar distanceA = cache.objects.get( a ).distanceToCameraSquared;\r\n\t\t\tvar distanceB = cache.objects.get( b ).distanceToCameraSquared;\r\n\r\n\t\t\treturn distanceA - distanceB;\r\n\r\n\t\t} );\r\n\r\n\t\tvar zMax = sorted.length;\r\n\r\n\t\tfor ( var i = 0, l = sorted.length; i < l; i ++ ) {\r\n\r\n\t\t\tsorted[ i ].element.style.zIndex = zMax - i;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.render = function ( scene, camera ) {\r\n\r\n\t\tvar fov = camera.projectionMatrix.elements[ 5 ] * _heightHalf;\r\n\r\n\t\tif ( cache.camera.fov !== fov ) {\r\n\r\n\t\t\tif ( camera.isPerspectiveCamera ) {\r\n\r\n\t\t\t\tdomElement.style.WebkitPerspective = fov + 'px';\r\n\t\t\t\tdomElement.style.perspective = fov + 'px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tdomElement.style.WebkitPerspective = '';\r\n\t\t\t\tdomElement.style.perspective = '';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcache.camera.fov = fov;\r\n\r\n\t\t}\r\n\r\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\r\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\r\n\r\n\t\tif ( camera.isOrthographicCamera ) {\r\n\r\n\t\t\tvar tx = - ( camera.right + camera.left ) / 2;\r\n\t\t\tvar ty = ( camera.top + camera.bottom ) / 2;\r\n\r\n\t\t}\r\n\r\n\t\tvar cameraCSSMatrix = camera.isOrthographicCamera ?\r\n\t\t\t'scale(' + fov + ')' + 'translate(' + epsilon( tx ) + 'px,' + epsilon( ty ) + 'px)' + getCameraCSSMatrix( camera.matrixWorldInverse ) :\r\n\t\t\t'translateZ(' + fov + 'px)' + getCameraCSSMatrix( camera.matrixWorldInverse );\r\n\r\n\t\tvar style = cameraCSSMatrix +\r\n\t\t\t'translate(' + _widthHalf + 'px,' + _heightHalf + 'px)';\r\n\r\n\t\tif ( cache.camera.style !== style && ! isIE ) {\r\n\r\n\t\t\tcameraElement.style.WebkitTransform = style;\r\n\t\t\tcameraElement.style.transform = style;\r\n\r\n\t\t\tcache.camera.style = style;\r\n\r\n\t\t}\r\n\r\n\t\trenderObject( scene, scene, camera, cameraCSSMatrix );\r\n\r\n\t\tif ( isIE ) {\r\n\r\n\t\t\t// IE10 and 11 does not support 'preserve-3d'.\r\n\t\t\t// Thus, z-order in 3D will not work.\r\n\t\t\t// We have to calc z-order manually and set CSS z-index for IE.\r\n\t\t\t// FYI: z-index can't handle object intersection\r\n\t\t\tzOrder( scene );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n};\r\n\r\nexport { CSS3DObject, CSS3DSprite, CSS3DRenderer };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/renderers/CSS3DRenderer.js","import {\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tMesh\r\n} from \"@/components/build/three.module.js\";\r\n\r\nfunction Pass() {\r\n\r\n\t// if set to true, the pass is processed by the composer\r\n\tthis.enabled = true;\r\n\r\n\t// if set to true, the pass indicates to swap read and write buffer after rendering\r\n\tthis.needsSwap = true;\r\n\r\n\t// if set to true, the pass clears its buffer before rendering\r\n\tthis.clear = false;\r\n\r\n\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\r\n\tthis.renderToScreen = false;\r\n\r\n}\r\n\r\nObject.assign( Pass.prototype, {\r\n\r\n\tsetSize: function ( /* width, height */ ) {},\r\n\r\n\trender: function ( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n// Helper for passes that need to fill the viewport with a single quad.\r\n\r\n// Important: It's actually a hack to put FullScreenQuad into the Pass namespace. This is only\r\n// done to make examples/js code work. Normally, FullScreenQuad should be exported\r\n// from this module like Pass.\r\n\r\nPass.FullScreenQuad = ( function () {\r\n\r\n\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tvar geometry = new PlaneBufferGeometry( 2, 2 );\r\n\r\n\tvar FullScreenQuad = function ( material ) {\r\n\r\n\t\tthis._mesh = new Mesh( geometry, material );\r\n\r\n\t};\r\n\r\n\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this._mesh.material;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tthis._mesh.material = value;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( FullScreenQuad.prototype, {\r\n\r\n\t\tdispose: function () {\r\n\r\n\t\t\tthis._mesh.geometry.dispose();\r\n\r\n\t\t},\r\n\r\n\t\trender: function ( renderer ) {\r\n\r\n\t\t\trenderer.render( this._mesh, camera );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn FullScreenQuad;\r\n\r\n} )();\r\n\r\nexport { Pass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/Pass.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector3Node( x, y, z ) {\r\n\r\n\tInputNode.call( this, 'v3' );\r\n\r\n\tthis.value = x instanceof Vector3 ? x : new Vector3( x, y, z );\r\n\r\n}\r\n\r\nVector3Node.prototype = Object.create( InputNode.prototype );\r\nVector3Node.prototype.constructor = Vector3Node;\r\nVector3Node.prototype.nodeType = \"Vector3\";\r\n\r\nNodeUtils.addShortcuts( Vector3Node.prototype, 'value', [ 'x', 'y', 'z' ] );\r\n\r\nVector3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.x + \", \" + this.y + \", \" + this.z + \" )\", type, output );\r\n\r\n};\r\n\r\nVector3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector3Node.js","import {\r\n\tColor,\r\n\tLinearFilter,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tPerspectiveCamera,\r\n\tPlane,\r\n\tRGBFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector3,\r\n\tVector4,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar Reflector = function ( geometry, options ) {\r\n\r\n\tMesh.call( this, geometry );\r\n\r\n\tthis.type = 'Reflector';\r\n\r\n\tvar scope = this;\r\n\r\n\toptions = options || {};\r\n\r\n\tvar color = ( options.color !== undefined ) ? new Color( options.color ) : new Color( 0x7F7F7F );\r\n\tvar textureWidth = options.textureWidth || 512;\r\n\tvar textureHeight = options.textureHeight || 512;\r\n\tvar clipBias = options.clipBias || 0;\r\n\tvar shader = options.shader || Reflector.ReflectorShader;\r\n\r\n\t//\r\n\r\n\tvar reflectorPlane = new Plane();\r\n\tvar normal = new Vector3();\r\n\tvar reflectorWorldPosition = new Vector3();\r\n\tvar cameraWorldPosition = new Vector3();\r\n\tvar rotationMatrix = new Matrix4();\r\n\tvar lookAtPosition = new Vector3( 0, 0, - 1 );\r\n\tvar clipPlane = new Vector4();\r\n\r\n\tvar view = new Vector3();\r\n\tvar target = new Vector3();\r\n\tvar q = new Vector4();\r\n\r\n\tvar textureMatrix = new Matrix4();\r\n\tvar virtualCamera = new PerspectiveCamera();\r\n\r\n\tvar parameters = {\r\n\t\tminFilter: LinearFilter,\r\n\t\tmagFilter: LinearFilter,\r\n\t\tformat: RGBFormat\r\n\t};\r\n\r\n\tvar renderTarget = new WebGLRenderTarget( textureWidth, textureHeight, parameters );\r\n\r\n\tif ( ! MathUtils.isPowerOfTwo( textureWidth ) || ! MathUtils.isPowerOfTwo( textureHeight ) ) {\r\n\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t}\r\n\r\n\tvar material = new ShaderMaterial( {\r\n\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\tvertexShader: shader.vertexShader\r\n\t} );\r\n\r\n\tmaterial.uniforms[ \"tDiffuse\" ].value = renderTarget.texture;\r\n\tmaterial.uniforms[ \"color\" ].value = color;\r\n\tmaterial.uniforms[ \"textureMatrix\" ].value = textureMatrix;\r\n\r\n\tthis.material = material;\r\n\r\n\tthis.onBeforeRender = function ( renderer, scene, camera ) {\r\n\r\n\t\treflectorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\r\n\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\r\n\r\n\t\trotationMatrix.extractRotation( scope.matrixWorld );\r\n\r\n\t\tnormal.set( 0, 0, 1 );\r\n\t\tnormal.applyMatrix4( rotationMatrix );\r\n\r\n\t\tview.subVectors( reflectorWorldPosition, cameraWorldPosition );\r\n\r\n\t\t// Avoid rendering when reflector is facing away\r\n\r\n\t\tif ( view.dot( normal ) > 0 ) return;\r\n\r\n\t\tview.reflect( normal ).negate();\r\n\t\tview.add( reflectorWorldPosition );\r\n\r\n\t\trotationMatrix.extractRotation( camera.matrixWorld );\r\n\r\n\t\tlookAtPosition.set( 0, 0, - 1 );\r\n\t\tlookAtPosition.applyMatrix4( rotationMatrix );\r\n\t\tlookAtPosition.add( cameraWorldPosition );\r\n\r\n\t\ttarget.subVectors( reflectorWorldPosition, lookAtPosition );\r\n\t\ttarget.reflect( normal ).negate();\r\n\t\ttarget.add( reflectorWorldPosition );\r\n\r\n\t\tvirtualCamera.position.copy( view );\r\n\t\tvirtualCamera.up.set( 0, 1, 0 );\r\n\t\tvirtualCamera.up.applyMatrix4( rotationMatrix );\r\n\t\tvirtualCamera.up.reflect( normal );\r\n\t\tvirtualCamera.lookAt( target );\r\n\r\n\t\tvirtualCamera.far = camera.far; // Used in WebGLBackground\r\n\r\n\t\tvirtualCamera.updateMatrixWorld();\r\n\t\tvirtualCamera.projectionMatrix.copy( camera.projectionMatrix );\r\n\r\n\t\t// Update the texture matrix\r\n\t\ttextureMatrix.set(\r\n\t\t\t0.5, 0.0, 0.0, 0.5,\r\n\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t0.0, 0.0, 0.0, 1.0\r\n\t\t);\r\n\t\ttextureMatrix.multiply( virtualCamera.projectionMatrix );\r\n\t\ttextureMatrix.multiply( virtualCamera.matrixWorldInverse );\r\n\t\ttextureMatrix.multiply( scope.matrixWorld );\r\n\r\n\t\t// Now update projection matrix with new clip plane, implementing code from: http://www.terathon.com/code/oblique.html\r\n\t\t// Paper explaining this technique: http://www.terathon.com/lengyel/Lengyel-Oblique.pdf\r\n\t\treflectorPlane.setFromNormalAndCoplanarPoint( normal, reflectorWorldPosition );\r\n\t\treflectorPlane.applyMatrix4( virtualCamera.matrixWorldInverse );\r\n\r\n\t\tclipPlane.set( reflectorPlane.normal.x, reflectorPlane.normal.y, reflectorPlane.normal.z, reflectorPlane.constant );\r\n\r\n\t\tvar projectionMatrix = virtualCamera.projectionMatrix;\r\n\r\n\t\tq.x = ( Math.sign( clipPlane.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\r\n\t\tq.y = ( Math.sign( clipPlane.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\r\n\t\tq.z = - 1.0;\r\n\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\r\n\r\n\t\t// Calculate the scaled plane vector\r\n\t\tclipPlane.multiplyScalar( 2.0 / clipPlane.dot( q ) );\r\n\r\n\t\t// Replacing the third row of the projection matrix\r\n\t\tprojectionMatrix.elements[ 2 ] = clipPlane.x;\r\n\t\tprojectionMatrix.elements[ 6 ] = clipPlane.y;\r\n\t\tprojectionMatrix.elements[ 10 ] = clipPlane.z + 1.0 - clipBias;\r\n\t\tprojectionMatrix.elements[ 14 ] = clipPlane.w;\r\n\r\n\t\t// Render\r\n\r\n\t\trenderTarget.texture.encoding = renderer.outputEncoding;\r\n\r\n\t\tscope.visible = false;\r\n\r\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\r\n\r\n\t\tvar currentXrEnabled = renderer.xr.enabled;\r\n\t\tvar currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\r\n\r\n\t\trenderer.xr.enabled = false; // Avoid camera modification\r\n\t\trenderer.shadowMap.autoUpdate = false; // Avoid re-computing shadows\r\n\r\n\t\trenderer.setRenderTarget( renderTarget );\r\n\r\n\t\trenderer.state.buffers.depth.setMask( true ); // make sure the depth buffer is writable so it can be properly cleared, see #18897\r\n\r\n\t\tif ( renderer.autoClear === false ) renderer.clear();\r\n\t\trenderer.render( scene, virtualCamera );\r\n\r\n\t\trenderer.xr.enabled = currentXrEnabled;\r\n\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\r\n\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t\t// Restore viewport\r\n\r\n\t\tvar viewport = camera.viewport;\r\n\r\n\t\tif ( viewport !== undefined ) {\r\n\r\n\t\t\trenderer.state.viewport( viewport );\r\n\r\n\t\t}\r\n\r\n\t\tscope.visible = true;\r\n\r\n\t};\r\n\r\n\tthis.getRenderTarget = function () {\r\n\r\n\t\treturn renderTarget;\r\n\r\n\t};\r\n\r\n};\r\n\r\nReflector.prototype = Object.create( Mesh.prototype );\r\nReflector.prototype.constructor = Reflector;\r\n\r\nReflector.ReflectorShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t'color': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'tDiffuse': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'textureMatrix': {\r\n\t\t\tvalue: null\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\t\t'uniform mat4 textureMatrix;',\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvUv = textureMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'}'\r\n\t].join( '\\n' ),\r\n\r\n\tfragmentShader: [\r\n\t\t'uniform vec3 color;',\r\n\t\t'uniform sampler2D tDiffuse;',\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'float blendOverlay( float base, float blend ) {',\r\n\r\n\t\t'\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'vec3 blendOverlay( vec3 base, vec3 blend ) {',\r\n\r\n\t\t'\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvec4 base = texture2DProj( tDiffuse, vUv );',\r\n\t\t'\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );',\r\n\r\n\t\t'}'\r\n\t].join( '\\n' )\r\n};\r\n\r\nexport { Reflector };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/objects/Reflector.js","import {\r\n\tGammaEncoding,\r\n\tLinearEncoding,\r\n\tRGBEEncoding,\r\n\tRGBM7Encoding,\r\n\tRGBM16Encoding,\r\n\tRGBDEncoding,\r\n\tsRGBEncoding\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction ColorSpaceNode( input, method ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.method = method || ColorSpaceNode.LINEAR_TO_LINEAR;\r\n\r\n}\r\n\r\nColorSpaceNode.Nodes = ( function () {\r\n\r\n\t// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\r\n\r\n\tvar LinearToLinear = new FunctionNode( [\r\n\t\t\"vec4 LinearToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn value;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar GammaToLinear = new FunctionNode( [\r\n\t\t\"vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToGamma = new FunctionNode( [\r\n\t\t\"vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\",\r\n\r\n\t\t\"\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar sRGBToLinear = new FunctionNode( [\r\n\t\t\"vec4 sRGBToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearTosRGB = new FunctionNode( [\r\n\t\t\"vec4 LinearTosRGB( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar RGBEToLinear = new FunctionNode( [\r\n\t\t\"vec4 RGBEToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBE = new FunctionNode( [\r\n\t\t\"vec4 LinearToRGBE( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat maxComponent = max( max( value.r, value.g ), value.b );\",\r\n\t\t\"\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\",\r\n\t\t\"\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\",\r\n\t\t//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBMToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBMToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar LinearToRGBM = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBM( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\",\r\n\t\t\"\tM            = ceil( M * 255.0 ) / 255.0;\",\r\n\t\t\"\treturn vec4( value.rgb / ( M * maxRange ), M );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\r\n\r\n\tvar RGBDToLinear = new FunctionNode( [\r\n\t\t\"vec3 RGBDToLinear( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\r\n\tvar LinearToRGBD = new FunctionNode( [\r\n\t\t\"vec3 LinearToRGBD( in vec4 value, in float maxRange ) {\",\r\n\r\n\t\t\"\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\",\r\n\t\t\"\tfloat D      = max( maxRange / maxRGB, 1.0 );\",\r\n\t\t\"\tD            = clamp( floor( D ) / 255.0, 0.0, 1.0 );\",\r\n\t\t\"\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\t// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\r\n\r\n\t// M matrix, for encoding\r\n\r\n\tvar cLogLuvM = new ConstNode( \"const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\" );\r\n\r\n\tvar LinearToLogLuv = new FunctionNode( [\r\n\t\t\"vec4 LinearToLogLuv( in vec4 value ) {\",\r\n\r\n\t\t\"\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\",\r\n\t\t\"\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\",\r\n\t\t\"\tvec4 vResult;\",\r\n\t\t\"\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\",\r\n\t\t\"\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\",\r\n\t\t\"\tvResult.w = fract(Le);\",\r\n\t\t\"\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\",\r\n\t\t\"\treturn vResult;\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvM ] );\r\n\r\n\t// Inverse M matrix, for decoding\r\n\r\n\tvar cLogLuvInverseM = new ConstNode( \"const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\" );\r\n\r\n\tvar LogLuvToLinear = new FunctionNode( [\r\n\t\t\"vec4 LogLuvToLinear( in vec4 value ) {\",\r\n\r\n\t\t\"\tfloat Le = value.z * 255.0 + value.w;\",\r\n\t\t\"\tvec3 Xp_Y_XYZp;\",\r\n\t\t\"\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\",\r\n\t\t\"\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\",\r\n\t\t\"\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\",\r\n\t\t\"\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\",\r\n\t\t\"\treturn vec4( max(vRGB, 0.0), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ cLogLuvInverseM ] );\r\n\r\n\treturn {\r\n\t\tLinearToLinear: LinearToLinear,\r\n\t\tGammaToLinear: GammaToLinear,\r\n\t\tLinearToGamma: LinearToGamma,\r\n\t\tsRGBToLinear: sRGBToLinear,\r\n\t\tLinearTosRGB: LinearTosRGB,\r\n\t\tRGBEToLinear: RGBEToLinear,\r\n\t\tLinearToRGBE: LinearToRGBE,\r\n\t\tRGBMToLinear: RGBMToLinear,\r\n\t\tLinearToRGBM: LinearToRGBM,\r\n\t\tRGBDToLinear: RGBDToLinear,\r\n\t\tLinearToRGBD: LinearToRGBD,\r\n\t\tcLogLuvM: cLogLuvM,\r\n\t\tLinearToLogLuv: LinearToLogLuv,\r\n\t\tcLogLuvInverseM: cLogLuvInverseM,\r\n\t\tLogLuvToLinear: LogLuvToLinear\r\n\t};\r\n\r\n} )();\r\n\r\nColorSpaceNode.LINEAR_TO_LINEAR = 'LinearToLinear';\r\n\r\nColorSpaceNode.GAMMA_TO_LINEAR = 'GammaToLinear';\r\nColorSpaceNode.LINEAR_TO_GAMMA = 'LinearToGamma';\r\n\r\nColorSpaceNode.SRGB_TO_LINEAR = 'sRGBToLinear';\r\nColorSpaceNode.LINEAR_TO_SRGB = 'LinearTosRGB';\r\n\r\nColorSpaceNode.RGBE_TO_LINEAR = 'RGBEToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBE = 'LinearToRGBE';\r\n\r\nColorSpaceNode.RGBM_TO_LINEAR = 'RGBMToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBM = 'LinearToRGBM';\r\n\r\nColorSpaceNode.RGBD_TO_LINEAR = 'RGBDToLinear';\r\nColorSpaceNode.LINEAR_TO_RGBD = 'LinearToRGBD';\r\n\r\nColorSpaceNode.LINEAR_TO_LOG_LUV = 'LinearToLogLuv';\r\nColorSpaceNode.LOG_LUV_TO_LINEAR = 'LogLuvToLinear';\r\n\r\nColorSpaceNode.getEncodingComponents = function ( encoding ) {\r\n\r\n\tswitch ( encoding ) {\r\n\r\n\t\tcase LinearEncoding:\r\n\t\t\treturn [ 'Linear' ];\r\n\t\tcase sRGBEncoding:\r\n\t\t\treturn [ 'sRGB' ];\r\n\t\tcase RGBEEncoding:\r\n\t\t\treturn [ 'RGBE' ];\r\n\t\tcase RGBM7Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 7.0 ).setReadonly( true ) ];\r\n\t\tcase RGBM16Encoding:\r\n\t\t\treturn [ 'RGBM', new FloatNode( 16.0 ).setReadonly( true ) ];\r\n\t\tcase RGBDEncoding:\r\n\t\t\treturn [ 'RGBD', new FloatNode( 256.0 ).setReadonly( true ) ];\r\n\t\tcase GammaEncoding:\r\n\t\t\treturn [ 'Gamma', new ExpressionNode( 'float( GAMMA_FACTOR )', 'f' ) ];\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype = Object.create( TempNode.prototype );\r\nColorSpaceNode.prototype.constructor = ColorSpaceNode;\r\nColorSpaceNode.prototype.nodeType = \"ColorSpace\";\r\nColorSpaceNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorSpaceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar input = this.input.build( builder, 'v4' );\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tvar methodNode = ColorSpaceNode.Nodes[ this.method ];\r\n\tvar method = builder.include( methodNode );\r\n\r\n\tif ( method === ColorSpaceNode.LINEAR_TO_LINEAR ) {\r\n\r\n\t\treturn builder.format( input, outputType, output );\r\n\r\n\t} else {\r\n\r\n\t\tif ( methodNode.inputs.length === 2 ) {\r\n\r\n\t\t\tvar factor = this.factor.build( builder, 'f' );\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ', ' + factor + ' )', outputType, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn builder.format( method + '( ' + input + ' )', outputType, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromEncoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = 'LinearTo' + components[ 0 ];\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.fromDecoding = function ( encoding ) {\r\n\r\n\tvar components = ColorSpaceNode.getEncodingComponents( encoding );\r\n\r\n\tthis.method = components[ 0 ] + 'ToLinear';\r\n\tthis.factor = components[ 1 ];\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.input = source.input;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorSpaceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.input = this.input.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorSpaceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/ColorSpaceNode.js","var WEBGL = {\r\n\r\n\tisWebGLAvailable: function () {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tvar canvas = document.createElement( 'canvas' );\r\n\t\t\treturn !! ( window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ) );\r\n\r\n\t\t} catch ( e ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tisWebGL2Available: function () {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tvar canvas = document.createElement( 'canvas' );\r\n\t\t\treturn !! ( window.WebGL2RenderingContext && canvas.getContext( 'webgl2' ) );\r\n\r\n\t\t} catch ( e ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetWebGLErrorMessage: function () {\r\n\r\n\t\treturn this.getErrorMessage( 1 );\r\n\r\n\t},\r\n\r\n\tgetWebGL2ErrorMessage: function () {\r\n\r\n\t\treturn this.getErrorMessage( 2 );\r\n\r\n\t},\r\n\r\n\tgetErrorMessage: function ( version ) {\r\n\r\n\t\tvar names = {\r\n\t\t\t1: 'WebGL',\r\n\t\t\t2: 'WebGL 2'\r\n\t\t};\r\n\r\n\t\tvar contexts = {\r\n\t\t\t1: window.WebGLRenderingContext,\r\n\t\t\t2: window.WebGL2RenderingContext\r\n\t\t};\r\n\r\n\t\tvar message = 'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>';\r\n\r\n\t\tvar element = document.createElement( 'div' );\r\n\t\telement.id = 'webglmessage';\r\n\t\telement.style.fontFamily = 'monospace';\r\n\t\telement.style.fontSize = '13px';\r\n\t\telement.style.fontWeight = 'normal';\r\n\t\telement.style.textAlign = 'center';\r\n\t\telement.style.background = '#fff';\r\n\t\telement.style.color = '#000';\r\n\t\telement.style.padding = '1.5em';\r\n\t\telement.style.width = '400px';\r\n\t\telement.style.margin = '5em auto 0';\r\n\r\n\t\tif ( contexts[ version ] ) {\r\n\r\n\t\t\tmessage = message.replace( '$0', 'graphics card' );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmessage = message.replace( '$0', 'browser' );\r\n\r\n\t\t}\r\n\r\n\t\tmessage = message.replace( '$1', names[ version ] );\r\n\r\n\t\telement.innerHTML = message;\r\n\r\n\t\treturn element;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { WEBGL };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/WebGL.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = EKta\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = EuP9\n// module chunks = 0","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tTrianglesDrawMode,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar BufferGeometryUtils = {\r\n\r\n\tcomputeTangents: function ( geometry ) {\r\n\r\n\t\tvar index = geometry.index;\r\n\t\tvar attributes = geometry.attributes;\r\n\r\n\t\t// based on http://www.terathon.com/code/tangent.html\r\n\t\t// (per vertex tangents)\r\n\r\n\t\tif ( index === null ||\r\n\t\t\t attributes.position === undefined ||\r\n\t\t\t attributes.normal === undefined ||\r\n\t\t\t attributes.uv === undefined ) {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = index.array;\r\n\t\tvar positions = attributes.position.array;\r\n\t\tvar normals = attributes.normal.array;\r\n\t\tvar uvs = attributes.uv.array;\r\n\r\n\t\tvar nVertices = positions.length / 3;\r\n\r\n\t\tif ( attributes.tangent === undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar tangents = attributes.tangent.array;\r\n\r\n\t\tvar tan1 = [], tan2 = [];\r\n\r\n\t\tfor ( var i = 0; i < nVertices; i ++ ) {\r\n\r\n\t\t\ttan1[ i ] = new Vector3();\r\n\t\t\ttan2[ i ] = new Vector3();\r\n\r\n\t\t}\r\n\r\n\t\tvar vA = new Vector3(),\r\n\t\t\tvB = new Vector3(),\r\n\t\t\tvC = new Vector3(),\r\n\r\n\t\t\tuvA = new Vector2(),\r\n\t\t\tuvB = new Vector2(),\r\n\t\t\tuvC = new Vector2(),\r\n\r\n\t\t\tsdir = new Vector3(),\r\n\t\t\ttdir = new Vector3();\r\n\r\n\t\tfunction handleTriangle( a, b, c ) {\r\n\r\n\t\t\tvA.fromArray( positions, a * 3 );\r\n\t\t\tvB.fromArray( positions, b * 3 );\r\n\t\t\tvC.fromArray( positions, c * 3 );\r\n\r\n\t\t\tuvA.fromArray( uvs, a * 2 );\r\n\t\t\tuvB.fromArray( uvs, b * 2 );\r\n\t\t\tuvC.fromArray( uvs, c * 2 );\r\n\r\n\t\t\tvB.sub( vA );\r\n\t\t\tvC.sub( vA );\r\n\r\n\t\t\tuvB.sub( uvA );\r\n\t\t\tuvC.sub( uvA );\r\n\r\n\t\t\tvar r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\r\n\r\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\r\n\r\n\t\t\tif ( ! isFinite( r ) ) return;\r\n\r\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\r\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\r\n\r\n\t\t\ttan1[ a ].add( sdir );\r\n\t\t\ttan1[ b ].add( sdir );\r\n\t\t\ttan1[ c ].add( sdir );\r\n\r\n\t\t\ttan2[ a ].add( tdir );\r\n\t\t\ttan2[ b ].add( tdir );\r\n\t\t\ttan2[ c ].add( tdir );\r\n\r\n\t\t}\r\n\r\n\t\tvar groups = geometry.groups;\r\n\r\n\t\tif ( groups.length === 0 ) {\r\n\r\n\t\t\tgroups = [ {\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tcount: indices.length\r\n\t\t\t} ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleTriangle(\r\n\t\t\t\t\tindices[ j + 0 ],\r\n\t\t\t\t\tindices[ j + 1 ],\r\n\t\t\t\t\tindices[ j + 2 ]\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar tmp = new Vector3(), tmp2 = new Vector3();\r\n\t\tvar n = new Vector3(), n2 = new Vector3();\r\n\t\tvar w, t, test;\r\n\r\n\t\tfunction handleVertex( v ) {\r\n\r\n\t\t\tn.fromArray( normals, v * 3 );\r\n\t\t\tn2.copy( n );\r\n\r\n\t\t\tt = tan1[ v ];\r\n\r\n\t\t\t// Gram-Schmidt orthogonalize\r\n\r\n\t\t\ttmp.copy( t );\r\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\r\n\r\n\t\t\t// Calculate handedness\r\n\r\n\t\t\ttmp2.crossVectors( n2, t );\r\n\t\t\ttest = tmp2.dot( tan2[ v ] );\r\n\t\t\tw = ( test < 0.0 ) ? - 1.0 : 1.0;\r\n\r\n\t\t\ttangents[ v * 4 ] = tmp.x;\r\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\r\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\r\n\t\t\ttangents[ v * 4 + 3 ] = w;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0, il = groups.length; i < il; ++ i ) {\r\n\r\n\t\t\tvar group = groups[ i ];\r\n\r\n\t\t\tvar start = group.start;\r\n\t\t\tvar count = group.count;\r\n\r\n\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\r\n\r\n\t\t\t\thandleVertex( indices[ j + 0 ] );\r\n\t\t\t\thandleVertex( indices[ j + 1 ] );\r\n\t\t\t\thandleVertex( indices[ j + 2 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param  {Array<BufferGeometry>} geometries\r\n\t * @param  {Boolean} useGroups\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tmergeBufferGeometries: function ( geometries, useGroups ) {\r\n\r\n\t\tvar isIndexed = geometries[ 0 ].index !== null;\r\n\r\n\t\tvar attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\r\n\t\tvar morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\r\n\r\n\t\tvar attributes = {};\r\n\t\tvar morphAttributes = {};\r\n\r\n\t\tvar morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\r\n\r\n\t\tvar mergedGeometry = new BufferGeometry();\r\n\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\tvar geometry = geometries[ i ];\r\n\t\t\tvar attributesCount = 0;\r\n\r\n\t\t\t// ensure that all geometries are indexed, or none\r\n\r\n\t\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather attributes, exit early if they're different\r\n\r\n\t\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\t\tif ( ! attributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\r\n\r\n\t\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\r\n\r\n\t\t\t\tattributesCount ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// ensure geometries have the same number of attributes\r\n\r\n\t\t\tif ( attributesCount !== attributesUsed.size ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather morph attributes, exit early if they're different\r\n\r\n\t\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var name in geometry.morphAttributes ) {\r\n\r\n\t\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\r\n\r\n\t\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// gather .userData\r\n\r\n\t\t\tmergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || [];\r\n\t\t\tmergedGeometry.userData.mergedUserData.push( geometry.userData );\r\n\r\n\t\t\tif ( useGroups ) {\r\n\r\n\t\t\t\tvar count;\r\n\r\n\t\t\t\tif ( isIndexed ) {\r\n\r\n\t\t\t\t\tcount = geometry.index.count;\r\n\r\n\t\t\t\t} else if ( geometry.attributes.position !== undefined ) {\r\n\r\n\t\t\t\t\tcount = geometry.attributes.position.count;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.addGroup( offset, count, i );\r\n\r\n\t\t\t\toffset += count;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// merge indices\r\n\r\n\t\tif ( isIndexed ) {\r\n\r\n\t\t\tvar indexOffset = 0;\r\n\t\t\tvar mergedIndex = [];\r\n\r\n\t\t\tfor ( var i = 0; i < geometries.length; ++ i ) {\r\n\r\n\t\t\t\tvar index = geometries[ i ].index;\r\n\r\n\t\t\t\tfor ( var j = 0; j < index.count; ++ j ) {\r\n\r\n\t\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindexOffset += geometries[ i ].attributes.position.count;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setIndex( mergedIndex );\r\n\r\n\t\t}\r\n\r\n\t\t// merge attributes\r\n\r\n\t\tfor ( var name in attributes ) {\r\n\r\n\t\t\tvar mergedAttribute = this.mergeBufferAttributes( attributes[ name ] );\r\n\r\n\t\t\tif ( ! mergedAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmergedGeometry.setAttribute( name, mergedAttribute );\r\n\r\n\t\t}\r\n\r\n\t\t// merge morph attributes\r\n\r\n\t\tfor ( var name in morphAttributes ) {\r\n\r\n\t\t\tvar numMorphTargets = morphAttributes[ name ][ 0 ].length;\r\n\r\n\t\t\tif ( numMorphTargets === 0 ) break;\r\n\r\n\t\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\r\n\t\t\tmergedGeometry.morphAttributes[ name ] = [];\r\n\r\n\t\t\tfor ( var i = 0; i < numMorphTargets; ++ i ) {\r\n\r\n\t\t\t\tvar morphAttributesToMerge = [];\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttributes[ name ].length; ++ j ) {\r\n\r\n\t\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar mergedMorphAttribute = this.mergeBufferAttributes( morphAttributesToMerge );\r\n\r\n\t\t\t\tif ( ! mergedMorphAttribute ) {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn mergedGeometry;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {BufferAttribute}\r\n\t */\r\n\tmergeBufferAttributes: function ( attributes ) {\r\n\r\n\t\tvar TypedArray;\r\n\t\tvar itemSize;\r\n\t\tvar normalized;\r\n\t\tvar arrayLength = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\r\n\t\t\tif ( itemSize !== attribute.itemSize ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( normalized === undefined ) normalized = attribute.normalized;\r\n\t\t\tif ( normalized !== attribute.normalized ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\r\n\t\t}\r\n\r\n\t\tvar array = new TypedArray( arrayLength );\r\n\t\tvar offset = 0;\r\n\r\n\t\tfor ( var i = 0; i < attributes.length; ++ i ) {\r\n\r\n\t\t\tarray.set( attributes[ i ].array, offset );\r\n\r\n\t\t\toffset += attributes[ i ].array.length;\r\n\r\n\t\t}\r\n\r\n\t\treturn new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferAttribute>} attributes\r\n\t * @return {Array<InterleavedBufferAttribute>}\r\n\t */\r\n\tinterleaveAttributes: function ( attributes ) {\r\n\r\n\t\t// Interleaves the provided attributes into an InterleavedBuffer and returns\r\n\t\t// a set of InterleavedBufferAttributes for each attribute\r\n\t\tvar TypedArray;\r\n\t\tvar arrayLength = 0;\r\n\t\tvar stride = 0;\r\n\r\n\t\t// calculate the the length and type of the interleavedBuffer\r\n\t\tfor ( var i = 0, l = attributes.length; i < l; ++ i ) {\r\n\r\n\t\t\tvar attribute = attributes[ i ];\r\n\r\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\r\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\r\n\r\n\t\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tarrayLength += attribute.array.length;\r\n\t\t\tstride += attribute.itemSize;\r\n\r\n\t\t}\r\n\r\n\t\t// Create the set of buffer attributes\r\n\t\tvar interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\r\n\t\tvar offset = 0;\r\n\t\tvar res = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\t\tvar setters = [ 'setX', 'setY', 'setZ', 'setW' ];\r\n\r\n\t\tfor ( var j = 0, l = attributes.length; j < l; j ++ ) {\r\n\r\n\t\t\tvar attribute = attributes[ j ];\r\n\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\tvar count = attribute.count;\r\n\t\t\tvar iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\r\n\t\t\tres.push( iba );\r\n\r\n\t\t\toffset += itemSize;\r\n\r\n\t\t\t// Move the data for each attribute into the new interleavedBuffer\r\n\t\t\t// at the appropriate offset\r\n\t\t\tfor ( var c = 0; c < count; c ++ ) {\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {Array<BufferGeometry>} geometry\r\n\t * @return {number}\r\n\t */\r\n\testimateBytesUsed: function ( geometry ) {\r\n\r\n\t\t// Return the estimated memory used by this geometry in bytes\r\n\t\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\r\n\t\t// for InterleavedBufferAttributes.\r\n\t\tvar mem = 0;\r\n\t\tfor ( var name in geometry.attributes ) {\r\n\r\n\t\t\tvar attr = geometry.getAttribute( name );\r\n\t\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\r\n\r\n\t\t}\r\n\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\r\n\t\treturn mem;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} tolerance\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\tmergeVertices: function ( geometry, tolerance = 1e-4 ) {\r\n\r\n\t\ttolerance = Math.max( tolerance, Number.EPSILON );\r\n\r\n\t\t// Generate an index buffer if the geometry doesn't have one, or optimize it\r\n\t\t// if it's already available.\r\n\t\tvar hashToIndex = {};\r\n\t\tvar indices = geometry.getIndex();\r\n\t\tvar positions = geometry.getAttribute( 'position' );\r\n\t\tvar vertexCount = indices ? indices.count : positions.count;\r\n\r\n\t\t// next value for triangle indices\r\n\t\tvar nextIndex = 0;\r\n\r\n\t\t// attributes and new attribute arrays\r\n\t\tvar attributeNames = Object.keys( geometry.attributes );\r\n\t\tvar attrArrays = {};\r\n\t\tvar morphAttrsArrays = {};\r\n\t\tvar newIndices = [];\r\n\t\tvar getters = [ 'getX', 'getY', 'getZ', 'getW' ];\r\n\r\n\t\t// initialize the arrays\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\r\n\t\t\tattrArrays[ name ] = [];\r\n\r\n\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\tmorphAttrsArrays[ name ] = new Array( morphAttr.length ).fill().map( () => [] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// convert the error tolerance to an amount of decimal places to truncate to\r\n\t\tvar decimalShift = Math.log10( 1 / tolerance );\r\n\t\tvar shiftMultiplier = Math.pow( 10, decimalShift );\r\n\t\tfor ( var i = 0; i < vertexCount; i ++ ) {\r\n\r\n\t\t\tvar index = indices ? indices.getX( i ) : i;\r\n\r\n\t\t\t// Generate a hash for the vertex attributes at the current index 'i'\r\n\t\t\tvar hash = '';\r\n\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\tvar itemSize = attribute.itemSize;\r\n\r\n\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t// double tilde truncates the decimal value\r\n\t\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * shiftMultiplier ) },`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Add another reference to the vertex if it's already\r\n\t\t\t// used by another index\r\n\t\t\tif ( hash in hashToIndex ) {\r\n\r\n\t\t\t\tnewIndices.push( hashToIndex[ hash ] );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// copy data to the new index in the attribute arrays\r\n\t\t\t\tfor ( var j = 0, l = attributeNames.length; j < l; j ++ ) {\r\n\r\n\t\t\t\t\tvar name = attributeNames[ j ];\r\n\t\t\t\t\tvar attribute = geometry.getAttribute( name );\r\n\t\t\t\t\tvar morphAttr = geometry.morphAttributes[ name ];\r\n\t\t\t\t\tvar itemSize = attribute.itemSize;\r\n\t\t\t\t\tvar newarray = attrArrays[ name ];\r\n\t\t\t\t\tvar newMorphArrays = morphAttrsArrays[ name ];\r\n\r\n\t\t\t\t\tfor ( var k = 0; k < itemSize; k ++ ) {\r\n\r\n\t\t\t\t\t\tvar getterFunc = getters[ k ];\r\n\t\t\t\t\t\tnewarray.push( attribute[ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\tif ( morphAttr ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var m = 0, ml = morphAttr.length; m < ml; m ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tnewMorphArrays[ m ].push( morphAttr[ m ][ getterFunc ]( index ) );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\thashToIndex[ hash ] = nextIndex;\r\n\t\t\t\tnewIndices.push( nextIndex );\r\n\t\t\t\tnextIndex ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Generate typed arrays from new attribute arrays and update\r\n\t\t// the attributeBuffers\r\n\t\tconst result = geometry.clone();\r\n\t\tfor ( var i = 0, l = attributeNames.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar name = attributeNames[ i ];\r\n\t\t\tvar oldAttribute = geometry.getAttribute( name );\r\n\r\n\t\t\tvar buffer = new oldAttribute.array.constructor( attrArrays[ name ] );\r\n\t\t\tvar attribute = new BufferAttribute( buffer, oldAttribute.itemSize, oldAttribute.normalized );\r\n\r\n\t\t\tresult.setAttribute( name, attribute );\r\n\r\n\t\t\t// Update the attribute arrays\r\n\t\t\tif ( name in morphAttrsArrays ) {\r\n\r\n\t\t\t\tfor ( var j = 0; j < morphAttrsArrays[ name ].length; j ++ ) {\r\n\r\n\t\t\t\t\tvar oldMorphAttribute = geometry.morphAttributes[ name ][ j ];\r\n\r\n\t\t\t\t\tvar buffer = new oldMorphAttribute.array.constructor( morphAttrsArrays[ name ][ j ] );\r\n\t\t\t\t\tvar morphAttribute = new BufferAttribute( buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized );\r\n\t\t\t\t\tresult.morphAttributes[ name ][ j ] = morphAttribute;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// indices\r\n\r\n\t\tresult.setIndex( newIndices );\r\n\r\n\t\treturn result;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {number} drawMode\r\n\t * @return {BufferGeometry>}\r\n\t */\r\n\ttoTrianglesDrawMode: function ( geometry, drawMode ) {\r\n\r\n\t\tif ( drawMode === TrianglesDrawMode ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\r\n\r\n\t\t\tvar index = geometry.getIndex();\r\n\r\n\t\t\t// generate index if not present\r\n\r\n\t\t\tif ( index === null ) {\r\n\r\n\t\t\t\tvar indices = [];\r\n\r\n\t\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\t\treturn geometry;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tvar numberOfTriangles = index.count - 2;\r\n\t\t\tvar newIndices = [];\r\n\r\n\t\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// build final geometry\r\n\r\n\t\t\tvar newGeometry = geometry.clone();\r\n\t\t\tnewGeometry.setIndex( newIndices );\r\n\t\t\tnewGeometry.clearGroups();\r\n\r\n\t\t\treturn newGeometry;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { BufferGeometryUtils };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/utils/BufferGeometryUtils.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// https://github.com/mrdoob/three.js/issues/5552\r\n// http://en.wikipedia.org/wiki/RGBE_image_format\r\n\r\nvar RGBELoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nRGBELoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: RGBELoader,\r\n\r\n\t// adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tvar\r\n\t\t\t/* return codes for rgbe routines */\r\n\t\t\t//RGBE_RETURN_SUCCESS = 0,\r\n\t\t\tRGBE_RETURN_FAILURE = - 1,\r\n\r\n\t\t\t/* default error routine.  change this to change error handling */\r\n\t\t\trgbe_read_error = 1,\r\n\t\t\trgbe_write_error = 2,\r\n\t\t\trgbe_format_error = 3,\r\n\t\t\trgbe_memory_error = 4,\r\n\t\t\trgbe_error = function ( rgbe_error_code, msg ) {\r\n\r\n\t\t\t\tswitch ( rgbe_error_code ) {\r\n\r\n\t\t\t\t\tcase rgbe_read_error: console.error( \"RGBELoader Read Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_write_error: console.error( \"RGBELoader Write Error: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase rgbe_format_error: console.error( \"RGBELoader Bad File Format: \" + ( msg || '' ) );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tcase rgbe_memory_error: console.error( \"RGBELoader: Error: \" + ( msg || '' ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn RGBE_RETURN_FAILURE;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* offsets to red, green, and blue components in a data (float) pixel */\r\n\t\t\t//RGBE_DATA_RED = 0,\r\n\t\t\t//RGBE_DATA_GREEN = 1,\r\n\t\t\t//RGBE_DATA_BLUE = 2,\r\n\r\n\t\t\t/* number of floats per pixel, use 4 since stored in rgba image format */\r\n\t\t\t//RGBE_DATA_SIZE = 4,\r\n\r\n\t\t\t/* flags indicating which fields in an rgbe_header_info are valid */\r\n\t\t\tRGBE_VALID_PROGRAMTYPE = 1,\r\n\t\t\tRGBE_VALID_FORMAT = 2,\r\n\t\t\tRGBE_VALID_DIMENSIONS = 4,\r\n\r\n\t\t\tNEWLINE = \"\\n\",\r\n\r\n\t\t\tfgets = function ( buffer, lineLimit, consume ) {\r\n\r\n\t\t\t\tlineLimit = ! lineLimit ? 1024 : lineLimit;\r\n\t\t\t\tvar p = buffer.pos,\r\n\t\t\t\t\ti = - 1, len = 0, s = '', chunkSize = 128,\r\n\t\t\t\t\tchunk = String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) )\r\n\t\t\t\t;\r\n\t\t\t\twhile ( ( 0 > ( i = chunk.indexOf( NEWLINE ) ) ) && ( len < lineLimit ) && ( p < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\ts += chunk; len += chunk.length;\r\n\t\t\t\t\tp += chunkSize;\r\n\t\t\t\t\tchunk += String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( - 1 < i ) {\r\n\r\n\t\t\t\t\t/*for (i=l-1; i>=0; i--) {\r\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\r\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\r\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\r\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\r\n\t\t\t\t\t}*/\r\n\t\t\t\t\tif ( false !== consume ) buffer.pos += len + i + 1;\r\n\t\t\t\t\treturn s + chunk.slice( 0, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/* minimal header reading.  modify if you want to parse more information */\r\n\t\t\tRGBE_ReadHeader = function ( buffer ) {\r\n\r\n\t\t\t\tvar line, match,\r\n\r\n\t\t\t\t\t// regexes to parse header info fields\r\n\t\t\t\t\tmagic_token_re = /^#\\?(\\S+)$/,\r\n\t\t\t\t\tgamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\texposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\r\n\t\t\t\t\tformat_re = /^\\s*FORMAT=(\\S+)\\s*$/,\r\n\t\t\t\t\tdimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\r\n\r\n\t\t\t\t\t// RGBE format header struct\r\n\t\t\t\t\theader = {\r\n\r\n\t\t\t\t\t\tvalid: 0, /* indicate which fields are valid */\r\n\r\n\t\t\t\t\t\tstring: '', /* the actual header string */\r\n\r\n\t\t\t\t\t\tcomments: '', /* comments found in header */\r\n\r\n\t\t\t\t\t\tprogramtype: 'RGBE', /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\r\n\r\n\t\t\t\t\t\tformat: '', /* RGBE format, default 32-bit_rle_rgbe */\r\n\r\n\t\t\t\t\t\tgamma: 1.0, /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\r\n\r\n\t\t\t\t\t\texposure: 1.0, /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\r\n\r\n\t\t\t\t\t\twidth: 0, height: 0 /* image dimensions, width/height */\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tif ( buffer.pos >= buffer.byteLength || ! ( line = fgets( buffer ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_read_error, \"no header found\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* if you want to require the magic token then uncomment the next line */\r\n\t\t\t\tif ( ! ( match = line.match( magic_token_re ) ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad initial token\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\theader.valid |= RGBE_VALID_PROGRAMTYPE;\r\n\t\t\t\theader.programtype = match[ 1 ];\r\n\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\twhile ( true ) {\r\n\r\n\t\t\t\t\tline = fgets( buffer );\r\n\t\t\t\t\tif ( false === line ) break;\r\n\t\t\t\t\theader.string += line + \"\\n\";\r\n\r\n\t\t\t\t\tif ( '#' === line.charAt( 0 ) ) {\r\n\r\n\t\t\t\t\t\theader.comments += line + \"\\n\";\r\n\t\t\t\t\t\tcontinue; // comment line\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( gamma_re ) ) {\r\n\r\n\t\t\t\t\t\theader.gamma = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( exposure_re ) ) {\r\n\r\n\t\t\t\t\t\theader.exposure = parseFloat( match[ 1 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( format_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_FORMAT;\r\n\t\t\t\t\t\theader.format = match[ 1 ];//'32-bit_rle_rgbe';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( match = line.match( dimensions_re ) ) {\r\n\r\n\t\t\t\t\t\theader.valid |= RGBE_VALID_DIMENSIONS;\r\n\t\t\t\t\t\theader.height = parseInt( match[ 1 ], 10 );\r\n\t\t\t\t\t\theader.width = parseInt( match[ 2 ], 10 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( ( header.valid & RGBE_VALID_FORMAT ) && ( header.valid & RGBE_VALID_DIMENSIONS ) ) break;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_FORMAT ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing format specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_DIMENSIONS ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"missing image size specifier\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn header;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tRGBE_ReadPixels_RLE = function ( buffer, w, h ) {\r\n\r\n\t\t\t\tvar data_rgba, offset, pos, count, byteValue,\r\n\t\t\t\t\tscanline_buffer, ptr, ptr_end, i, l, off, isEncodedRun,\r\n\t\t\t\t\tscanline_width = w, num_scanlines = h, rgbeStart\r\n\t\t\t\t;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t// run length encoding is not allowed so read flat\r\n\t\t\t\t\t( ( scanline_width < 8 ) || ( scanline_width > 0x7fff ) ) ||\r\n\t\t\t\t\t// this file is not run length encoded\r\n\t\t\t\t\t( ( 2 !== buffer[ 0 ] ) || ( 2 !== buffer[ 1 ] ) || ( buffer[ 2 ] & 0x80 ) )\r\n\t\t\t\t) {\r\n\r\n\t\t\t\t\t// return the flat buffer\r\n\t\t\t\t\treturn new Uint8Array( buffer );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( scanline_width !== ( ( buffer[ 2 ] << 8 ) | buffer[ 3 ] ) ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"wrong scanline width\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata_rgba = new Uint8Array( 4 * w * h );\r\n\r\n\t\t\t\tif ( ! data_rgba.length ) {\r\n\r\n\t\t\t\t\treturn rgbe_error( rgbe_memory_error, \"unable to allocate buffer space\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\toffset = 0; pos = 0; ptr_end = 4 * scanline_width;\r\n\t\t\t\trgbeStart = new Uint8Array( 4 );\r\n\t\t\t\tscanline_buffer = new Uint8Array( ptr_end );\r\n\r\n\t\t\t\t// read in each successive scanline\r\n\t\t\t\twhile ( ( num_scanlines > 0 ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\tif ( pos + 4 > buffer.byteLength ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_read_error );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trgbeStart[ 0 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 1 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 2 ] = buffer[ pos ++ ];\r\n\t\t\t\t\trgbeStart[ 3 ] = buffer[ pos ++ ];\r\n\r\n\t\t\t\t\tif ( ( 2 != rgbeStart[ 0 ] ) || ( 2 != rgbeStart[ 1 ] ) || ( ( ( rgbeStart[ 2 ] << 8 ) | rgbeStart[ 3 ] ) != scanline_width ) ) {\r\n\r\n\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad rgbe scanline format\" );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// read each of the four channels for the scanline into the buffer\r\n\t\t\t\t\t// first red, then green, then blue, then exponent\r\n\t\t\t\t\tptr = 0;\r\n\t\t\t\t\twhile ( ( ptr < ptr_end ) && ( pos < buffer.byteLength ) ) {\r\n\r\n\t\t\t\t\t\tcount = buffer[ pos ++ ];\r\n\t\t\t\t\t\tisEncodedRun = count > 128;\r\n\t\t\t\t\t\tif ( isEncodedRun ) count -= 128;\r\n\r\n\t\t\t\t\t\tif ( ( 0 === count ) || ( ptr + count > ptr_end ) ) {\r\n\r\n\t\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, \"bad scanline data\" );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( isEncodedRun ) {\r\n\r\n\t\t\t\t\t\t\t// a (encoded) run of the same value\r\n\t\t\t\t\t\t\tbyteValue = buffer[ pos ++ ];\r\n\t\t\t\t\t\t\tfor ( i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tscanline_buffer[ ptr ++ ] = byteValue;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//ptr += count;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t// a literal-run\r\n\t\t\t\t\t\t\tscanline_buffer.set( buffer.subarray( pos, pos + count ), ptr );\r\n\t\t\t\t\t\t\tptr += count; pos += count;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// now convert data from buffer into rgba\r\n\t\t\t\t\t// first red, then green, then blue, then exponent (alpha)\r\n\t\t\t\t\tl = scanline_width; //scanline_buffer.byteLength;\r\n\t\t\t\t\tfor ( i = 0; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\toff = 0;\r\n\t\t\t\t\t\tdata_rgba[ offset ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 1 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 2 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toff += scanline_width; //1;\r\n\t\t\t\t\t\tdata_rgba[ offset + 3 ] = scanline_buffer[ i + off ];\r\n\t\t\t\t\t\toffset += 4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnum_scanlines --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data_rgba;\r\n\r\n\t\t\t};\r\n\r\n\t\tvar RGBEByteToRGBFloat = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = sourceArray[ sourceOffset + 0 ] * scale;\r\n\t\t\tdestArray[ destOffset + 1 ] = sourceArray[ sourceOffset + 1 ] * scale;\r\n\t\t\tdestArray[ destOffset + 2 ] = sourceArray[ sourceOffset + 2 ] * scale;\r\n\r\n\t\t};\r\n\r\n\t\tvar RGBEByteToRGBHalf = function ( sourceArray, sourceOffset, destArray, destOffset ) {\r\n\r\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\r\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\r\n\r\n\t\t\tdestArray[ destOffset + 0 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 0 ] * scale );\r\n\t\t\tdestArray[ destOffset + 1 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 1 ] * scale );\r\n\t\t\tdestArray[ destOffset + 2 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 2 ] * scale );\r\n\r\n\t\t};\r\n\r\n\t\tvar byteArray = new Uint8Array( buffer );\r\n\t\tbyteArray.pos = 0;\r\n\t\tvar rgbe_header_info = RGBE_ReadHeader( byteArray );\r\n\r\n\t\tif ( RGBE_RETURN_FAILURE !== rgbe_header_info ) {\r\n\r\n\t\t\tvar w = rgbe_header_info.width,\r\n\t\t\t\th = rgbe_header_info.height,\r\n\t\t\t\timage_rgba_data = RGBE_ReadPixels_RLE( byteArray.subarray( byteArray.pos ), w, h );\r\n\r\n\t\t\tif ( RGBE_RETURN_FAILURE !== image_rgba_data ) {\r\n\r\n\t\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\t\tvar data = image_rgba_data;\r\n\t\t\t\t\t\tvar format = RGBEFormat; // handled as THREE.RGBAFormat in shaders\r\n\t\t\t\t\t\tvar type = UnsignedByteType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar floatArray = new Float32Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBFloat( image_rgba_data, j * 4, floatArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = floatArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = FloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\r\n\t\t\t\t\t\tvar halfArray = new Uint16Array( numElements );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tRGBEByteToRGBHalf( image_rgba_data, j * 4, halfArray, j * 3 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data = halfArray;\r\n\t\t\t\t\t\tvar format = RGBFormat;\r\n\t\t\t\t\t\tvar type = HalfFloatType;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.RGBELoader: unsupported type: ', this.type );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: w, height: h,\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\theader: rgbe_header_info.string,\r\n\t\t\t\t\tgamma: rgbe_header_info.gamma,\r\n\t\t\t\t\texposure: rgbe_header_info.exposure,\r\n\t\t\t\t\tformat: format,\r\n\t\t\t\t\ttype: type\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { RGBELoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/RGBELoader.js","import {\r\n\tColor,\r\n\tLinearFilter,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tPerspectiveCamera,\r\n\tPlane,\r\n\tQuaternion,\r\n\tRGBFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector3,\r\n\tVector4,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar Refractor = function ( geometry, options ) {\r\n\r\n\tMesh.call( this, geometry );\r\n\r\n\tthis.type = 'Refractor';\r\n\r\n\tvar scope = this;\r\n\r\n\toptions = options || {};\r\n\r\n\tvar color = ( options.color !== undefined ) ? new Color( options.color ) : new Color( 0x7F7F7F );\r\n\tvar textureWidth = options.textureWidth || 512;\r\n\tvar textureHeight = options.textureHeight || 512;\r\n\tvar clipBias = options.clipBias || 0;\r\n\tvar shader = options.shader || Refractor.RefractorShader;\r\n\r\n\t//\r\n\r\n\tvar virtualCamera = new PerspectiveCamera();\r\n\tvirtualCamera.matrixAutoUpdate = false;\r\n\tvirtualCamera.userData.refractor = true;\r\n\r\n\t//\r\n\r\n\tvar refractorPlane = new Plane();\r\n\tvar textureMatrix = new Matrix4();\r\n\r\n\t// render target\r\n\r\n\tvar parameters = {\r\n\t\tminFilter: LinearFilter,\r\n\t\tmagFilter: LinearFilter,\r\n\t\tformat: RGBFormat\r\n\t};\r\n\r\n\tvar renderTarget = new WebGLRenderTarget( textureWidth, textureHeight, parameters );\r\n\r\n\tif ( ! MathUtils.isPowerOfTwo( textureWidth ) || ! MathUtils.isPowerOfTwo( textureHeight ) ) {\r\n\r\n\t\trenderTarget.texture.generateMipmaps = false;\r\n\r\n\t}\r\n\r\n\t// material\r\n\r\n\tthis.material = new ShaderMaterial( {\r\n\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\r\n\t\tvertexShader: shader.vertexShader,\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\ttransparent: true // ensures, refractors are drawn from farthest to closest\r\n\t} );\r\n\r\n\tthis.material.uniforms[ \"color\" ].value = color;\r\n\tthis.material.uniforms[ \"tDiffuse\" ].value = renderTarget.texture;\r\n\tthis.material.uniforms[ \"textureMatrix\" ].value = textureMatrix;\r\n\r\n\t// functions\r\n\r\n\tvar visible = ( function () {\r\n\r\n\t\tvar refractorWorldPosition = new Vector3();\r\n\t\tvar cameraWorldPosition = new Vector3();\r\n\t\tvar rotationMatrix = new Matrix4();\r\n\r\n\t\tvar view = new Vector3();\r\n\t\tvar normal = new Vector3();\r\n\r\n\t\treturn function visible( camera ) {\r\n\r\n\t\t\trefractorWorldPosition.setFromMatrixPosition( scope.matrixWorld );\r\n\t\t\tcameraWorldPosition.setFromMatrixPosition( camera.matrixWorld );\r\n\r\n\t\t\tview.subVectors( refractorWorldPosition, cameraWorldPosition );\r\n\r\n\t\t\trotationMatrix.extractRotation( scope.matrixWorld );\r\n\r\n\t\t\tnormal.set( 0, 0, 1 );\r\n\t\t\tnormal.applyMatrix4( rotationMatrix );\r\n\r\n\t\t\treturn view.dot( normal ) < 0;\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n\tvar updateRefractorPlane = ( function () {\r\n\r\n\t\tvar normal = new Vector3();\r\n\t\tvar position = new Vector3();\r\n\t\tvar quaternion = new Quaternion();\r\n\t\tvar scale = new Vector3();\r\n\r\n\t\treturn function updateRefractorPlane() {\r\n\r\n\t\t\tscope.matrixWorld.decompose( position, quaternion, scale );\r\n\t\t\tnormal.set( 0, 0, 1 ).applyQuaternion( quaternion ).normalize();\r\n\r\n\t\t\t// flip the normal because we want to cull everything above the plane\r\n\r\n\t\t\tnormal.negate();\r\n\r\n\t\t\trefractorPlane.setFromNormalAndCoplanarPoint( normal, position );\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n\tvar updateVirtualCamera = ( function () {\r\n\r\n\t\tvar clipPlane = new Plane();\r\n\t\tvar clipVector = new Vector4();\r\n\t\tvar q = new Vector4();\r\n\r\n\t\treturn function updateVirtualCamera( camera ) {\r\n\r\n\t\t\tvirtualCamera.matrixWorld.copy( camera.matrixWorld );\r\n\t\t\tvirtualCamera.matrixWorldInverse.copy( virtualCamera.matrixWorld ).invert();\r\n\t\t\tvirtualCamera.projectionMatrix.copy( camera.projectionMatrix );\r\n\t\t\tvirtualCamera.far = camera.far; // used in WebGLBackground\r\n\r\n\t\t\t// The following code creates an oblique view frustum for clipping.\r\n\t\t\t// see: Lengyel, Eric. Oblique View Frustum Depth Projection and Clipping.\r\n\t\t\t// Journal of Game Development, Vol. 1, No. 2 (2005), Charles River Media, pp. 516\r\n\r\n\t\t\tclipPlane.copy( refractorPlane );\r\n\t\t\tclipPlane.applyMatrix4( virtualCamera.matrixWorldInverse );\r\n\r\n\t\t\tclipVector.set( clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.constant );\r\n\r\n\t\t\t// calculate the clip-space corner point opposite the clipping plane and\r\n\t\t\t// transform it into camera space by multiplying it by the inverse of the projection matrix\r\n\r\n\t\t\tvar projectionMatrix = virtualCamera.projectionMatrix;\r\n\r\n\t\t\tq.x = ( Math.sign( clipVector.x ) + projectionMatrix.elements[ 8 ] ) / projectionMatrix.elements[ 0 ];\r\n\t\t\tq.y = ( Math.sign( clipVector.y ) + projectionMatrix.elements[ 9 ] ) / projectionMatrix.elements[ 5 ];\r\n\t\t\tq.z = - 1.0;\r\n\t\t\tq.w = ( 1.0 + projectionMatrix.elements[ 10 ] ) / projectionMatrix.elements[ 14 ];\r\n\r\n\t\t\t// calculate the scaled plane vector\r\n\r\n\t\t\tclipVector.multiplyScalar( 2.0 / clipVector.dot( q ) );\r\n\r\n\t\t\t// replacing the third row of the projection matrix\r\n\r\n\t\t\tprojectionMatrix.elements[ 2 ] = clipVector.x;\r\n\t\t\tprojectionMatrix.elements[ 6 ] = clipVector.y;\r\n\t\t\tprojectionMatrix.elements[ 10 ] = clipVector.z + 1.0 - clipBias;\r\n\t\t\tprojectionMatrix.elements[ 14 ] = clipVector.w;\r\n\r\n\t\t};\r\n\r\n\t} )();\r\n\r\n\t// This will update the texture matrix that is used for projective texture mapping in the shader.\r\n\t// see: http://developer.download.nvidia.com/assets/gamedev/docs/projective_texture_mapping.pdf\r\n\r\n\tfunction updateTextureMatrix( camera ) {\r\n\r\n\t\t// this matrix does range mapping to [ 0, 1 ]\r\n\r\n\t\ttextureMatrix.set(\r\n\t\t\t0.5, 0.0, 0.0, 0.5,\r\n\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t0.0, 0.0, 0.0, 1.0\r\n\t\t);\r\n\r\n\t\t// we use \"Object Linear Texgen\", so we need to multiply the texture matrix T\r\n\t\t// (matrix above) with the projection and view matrix of the virtual camera\r\n\t\t// and the model matrix of the refractor\r\n\r\n\t\ttextureMatrix.multiply( camera.projectionMatrix );\r\n\t\ttextureMatrix.multiply( camera.matrixWorldInverse );\r\n\t\ttextureMatrix.multiply( scope.matrixWorld );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction render( renderer, scene, camera ) {\r\n\r\n\t\tscope.visible = false;\r\n\r\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\r\n\t\tvar currentXrEnabled = renderer.xr.enabled;\r\n\t\tvar currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\r\n\r\n\t\trenderer.xr.enabled = false; // avoid camera modification\r\n\t\trenderer.shadowMap.autoUpdate = false; // avoid re-computing shadows\r\n\r\n\t\trenderer.setRenderTarget( renderTarget );\r\n\t\tif ( renderer.autoClear === false ) renderer.clear();\r\n\t\trenderer.render( scene, virtualCamera );\r\n\r\n\t\trenderer.xr.enabled = currentXrEnabled;\r\n\t\trenderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\r\n\t\trenderer.setRenderTarget( currentRenderTarget );\r\n\r\n\t\t// restore viewport\r\n\r\n\t\tvar viewport = camera.viewport;\r\n\r\n\t\tif ( viewport !== undefined ) {\r\n\r\n\t\t\trenderer.state.viewport( viewport );\r\n\r\n\t\t}\r\n\r\n\t\tscope.visible = true;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.onBeforeRender = function ( renderer, scene, camera ) {\r\n\r\n\t\t// Render\r\n\r\n\t\trenderTarget.texture.encoding = renderer.outputEncoding;\r\n\r\n\t\t// ensure refractors are rendered only once per frame\r\n\r\n\t\tif ( camera.userData.refractor === true ) return;\r\n\r\n\t\t// avoid rendering when the refractor is viewed from behind\r\n\r\n\t\tif ( ! visible( camera ) === true ) return;\r\n\r\n\t\t// update\r\n\r\n\t\tupdateRefractorPlane();\r\n\r\n\t\tupdateTextureMatrix( camera );\r\n\r\n\t\tupdateVirtualCamera( camera );\r\n\r\n\t\trender( renderer, scene, camera );\r\n\r\n\t};\r\n\r\n\tthis.getRenderTarget = function () {\r\n\r\n\t\treturn renderTarget;\r\n\r\n\t};\r\n\r\n};\r\n\r\nRefractor.prototype = Object.create( Mesh.prototype );\r\nRefractor.prototype.constructor = Refractor;\r\n\r\nRefractor.RefractorShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t'color': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'tDiffuse': {\r\n\t\t\tvalue: null\r\n\t\t},\r\n\r\n\t\t'textureMatrix': {\r\n\t\t\tvalue: null\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t'uniform mat4 textureMatrix;',\r\n\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvUv = textureMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t'}'\r\n\r\n\t].join( '\\n' ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t'uniform vec3 color;',\r\n\t\t'uniform sampler2D tDiffuse;',\r\n\r\n\t\t'varying vec4 vUv;',\r\n\r\n\t\t'float blendOverlay( float base, float blend ) {',\r\n\r\n\t\t'\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'vec3 blendOverlay( vec3 base, vec3 blend ) {',\r\n\r\n\t\t'\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );',\r\n\r\n\t\t'}',\r\n\r\n\t\t'void main() {',\r\n\r\n\t\t'\tvec4 base = texture2DProj( tDiffuse, vUv );',\r\n\r\n\t\t'\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );',\r\n\r\n\t\t'}'\r\n\r\n\t].join( '\\n' )\r\n};\r\n\r\nexport { Refractor };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/objects/Refractor.js","/**\r\n * Gamma Correction Shader\r\n * http://en.wikipedia.org/wiki/gamma_correction\r\n */\r\n\r\nvar GammaCorrectionShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 tex = texture2D( tDiffuse, vUv );\",\r\n\r\n\t\t\"\tgl_FragColor = LinearTosRGB( tex );\", // optional: LinearToGamma( tex, float( GAMMA_FACTOR ) );\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { GammaCorrectionShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/GammaCorrectionShader.js","import {\r\n\tBoxBufferGeometry,\r\n\tBufferGeometry,\r\n\tColor,\r\n\tCylinderBufferGeometry,\r\n\tDoubleSide,\r\n\tEuler,\r\n\tFloat32BufferAttribute,\r\n\tLine,\r\n\tLineBasicMaterial,\r\n\tMatrix4,\r\n\tMesh,\r\n\tMeshBasicMaterial,\r\n\tObject3D,\r\n\tOctahedronBufferGeometry,\r\n\tPlaneBufferGeometry,\r\n\tQuaternion,\r\n\tRaycaster,\r\n\tSphereBufferGeometry,\r\n\tTorusBufferGeometry,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TransformControls = function ( camera, domElement ) {\r\n\r\n\tif ( domElement === undefined ) {\r\n\r\n\t\tconsole.warn( 'THREE.TransformControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\tdomElement = document;\r\n\r\n\t}\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.visible = false;\r\n\tthis.domElement = domElement;\r\n\r\n\tvar _gizmo = new TransformControlsGizmo();\r\n\tthis.add( _gizmo );\r\n\r\n\tvar _plane = new TransformControlsPlane();\r\n\tthis.add( _plane );\r\n\r\n\tvar scope = this;\r\n\r\n\t// Define properties with getters/setter\r\n\t// Setting the defined property will automatically trigger change event\r\n\t// Defined properties are passed down to gizmo and plane\r\n\r\n\tdefineProperty( \"camera\", camera );\r\n\tdefineProperty( \"object\", undefined );\r\n\tdefineProperty( \"enabled\", true );\r\n\tdefineProperty( \"axis\", null );\r\n\tdefineProperty( \"mode\", \"translate\" );\r\n\tdefineProperty( \"translationSnap\", null );\r\n\tdefineProperty( \"rotationSnap\", null );\r\n\tdefineProperty( \"scaleSnap\", null );\r\n\tdefineProperty( \"space\", \"world\" );\r\n\tdefineProperty( \"size\", 1 );\r\n\tdefineProperty( \"dragging\", false );\r\n\tdefineProperty( \"showX\", true );\r\n\tdefineProperty( \"showY\", true );\r\n\tdefineProperty( \"showZ\", true );\r\n\r\n\tvar changeEvent = { type: \"change\" };\r\n\tvar mouseDownEvent = { type: \"mouseDown\" };\r\n\tvar mouseUpEvent = { type: \"mouseUp\", mode: scope.mode };\r\n\tvar objectChangeEvent = { type: \"objectChange\" };\r\n\r\n\t// Reusable utility variables\r\n\r\n\tvar raycaster = new Raycaster();\r\n\r\n\tfunction intersectObjectWithRay( object, raycaster, includeInvisible ) {\r\n\r\n\t\tvar allIntersections = raycaster.intersectObject( object, true );\r\n\r\n\t\tfor ( var i = 0; i < allIntersections.length; i ++ ) {\r\n\r\n\t\t\tif ( allIntersections[ i ].object.visible || includeInvisible ) {\r\n\r\n\t\t\t\treturn allIntersections[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n\tvar _tempVector = new Vector3();\r\n\tvar _tempVector2 = new Vector3();\r\n\tvar _tempQuaternion = new Quaternion();\r\n\tvar _unit = {\r\n\t\tX: new Vector3( 1, 0, 0 ),\r\n\t\tY: new Vector3( 0, 1, 0 ),\r\n\t\tZ: new Vector3( 0, 0, 1 )\r\n\t};\r\n\r\n\tvar pointStart = new Vector3();\r\n\tvar pointEnd = new Vector3();\r\n\tvar offset = new Vector3();\r\n\tvar rotationAxis = new Vector3();\r\n\tvar startNorm = new Vector3();\r\n\tvar endNorm = new Vector3();\r\n\tvar rotationAngle = 0;\r\n\r\n\tvar cameraPosition = new Vector3();\r\n\tvar cameraQuaternion = new Quaternion();\r\n\tvar cameraScale = new Vector3();\r\n\r\n\tvar parentPosition = new Vector3();\r\n\tvar parentQuaternion = new Quaternion();\r\n\tvar parentQuaternionInv = new Quaternion();\r\n\tvar parentScale = new Vector3();\r\n\r\n\tvar worldPositionStart = new Vector3();\r\n\tvar worldQuaternionStart = new Quaternion();\r\n\tvar worldScaleStart = new Vector3();\r\n\r\n\tvar worldPosition = new Vector3();\r\n\tvar worldQuaternion = new Quaternion();\r\n\tvar worldQuaternionInv = new Quaternion();\r\n\tvar worldScale = new Vector3();\r\n\r\n\tvar eye = new Vector3();\r\n\r\n\tvar positionStart = new Vector3();\r\n\tvar quaternionStart = new Quaternion();\r\n\tvar scaleStart = new Vector3();\r\n\r\n\t// TODO: remove properties unused in plane and gizmo\r\n\r\n\tdefineProperty( \"worldPosition\", worldPosition );\r\n\tdefineProperty( \"worldPositionStart\", worldPositionStart );\r\n\tdefineProperty( \"worldQuaternion\", worldQuaternion );\r\n\tdefineProperty( \"worldQuaternionStart\", worldQuaternionStart );\r\n\tdefineProperty( \"cameraPosition\", cameraPosition );\r\n\tdefineProperty( \"cameraQuaternion\", cameraQuaternion );\r\n\tdefineProperty( \"pointStart\", pointStart );\r\n\tdefineProperty( \"pointEnd\", pointEnd );\r\n\tdefineProperty( \"rotationAxis\", rotationAxis );\r\n\tdefineProperty( \"rotationAngle\", rotationAngle );\r\n\tdefineProperty( \"eye\", eye );\r\n\r\n\t{\r\n\r\n\t\tdomElement.addEventListener( \"pointerdown\", onPointerDown, false );\r\n\t\tdomElement.addEventListener( \"pointermove\", onPointerHover, false );\r\n\t\tscope.domElement.ownerDocument.addEventListener( \"pointerup\", onPointerUp, false );\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tdomElement.removeEventListener( \"pointerdown\", onPointerDown );\r\n\t\tdomElement.removeEventListener( \"pointermove\", onPointerHover );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( \"pointermove\", onPointerMove );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( \"pointerup\", onPointerUp );\r\n\r\n\t\tthis.traverse( function ( child ) {\r\n\r\n\t\t\tif ( child.geometry ) child.geometry.dispose();\r\n\t\t\tif ( child.material ) child.material.dispose();\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t// Set current object\r\n\tthis.attach = function ( object ) {\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.visible = true;\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\t// Detatch from object\r\n\tthis.detach = function () {\r\n\r\n\t\tthis.object = undefined;\r\n\t\tthis.visible = false;\r\n\t\tthis.axis = null;\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\t// Defined getter, setter and store for a property\r\n\tfunction defineProperty( propName, defaultValue ) {\r\n\r\n\t\tvar propValue = defaultValue;\r\n\r\n\t\tObject.defineProperty( scope, propName, {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn propValue !== undefined ? propValue : defaultValue;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tif ( propValue !== value ) {\r\n\r\n\t\t\t\t\tpropValue = value;\r\n\t\t\t\t\t_plane[ propName ] = value;\r\n\t\t\t\t\t_gizmo[ propName ] = value;\r\n\r\n\t\t\t\t\tscope.dispatchEvent( { type: propName + \"-changed\", value: value } );\r\n\t\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tscope[ propName ] = defaultValue;\r\n\t\t_plane[ propName ] = defaultValue;\r\n\t\t_gizmo[ propName ] = defaultValue;\r\n\r\n\t}\r\n\r\n\t// updateMatrixWorld  updates key transformation variables\r\n\tthis.updateMatrixWorld = function () {\r\n\r\n\t\tif ( this.object !== undefined ) {\r\n\r\n\t\t\tthis.object.updateMatrixWorld();\r\n\r\n\t\t\tif ( this.object.parent === null ) {\r\n\r\n\t\t\t\tconsole.error( 'TransformControls: The attached 3D object must be a part of the scene graph.' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.object.parent.matrixWorld.decompose( parentPosition, parentQuaternion, parentScale );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.object.matrixWorld.decompose( worldPosition, worldQuaternion, worldScale );\r\n\r\n\t\t\tparentQuaternionInv.copy( parentQuaternion ).invert();\r\n\t\t\tworldQuaternionInv.copy( worldQuaternion ).invert();\r\n\r\n\t\t}\r\n\r\n\t\tthis.camera.updateMatrixWorld();\r\n\t\tthis.camera.matrixWorld.decompose( cameraPosition, cameraQuaternion, cameraScale );\r\n\r\n\t\teye.copy( cameraPosition ).sub( worldPosition ).normalize();\r\n\r\n\t\tObject3D.prototype.updateMatrixWorld.call( this );\r\n\r\n\t};\r\n\r\n\tthis.pointerHover = function ( pointer ) {\r\n\r\n\t\tif ( this.object === undefined || this.dragging === true ) return;\r\n\r\n\t\traycaster.setFromCamera( pointer, this.camera );\r\n\r\n\t\tvar intersect = intersectObjectWithRay( _gizmo.picker[ this.mode ], raycaster );\r\n\r\n\t\tif ( intersect ) {\r\n\r\n\t\t\tthis.axis = intersect.object.name;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.axis = null;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.pointerDown = function ( pointer ) {\r\n\r\n\t\tif ( this.object === undefined || this.dragging === true || pointer.button !== 0 ) return;\r\n\r\n\t\tif ( this.axis !== null ) {\r\n\r\n\t\t\traycaster.setFromCamera( pointer, this.camera );\r\n\r\n\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\r\n\r\n\t\t\tif ( planeIntersect ) {\r\n\r\n\t\t\t\tvar space = this.space;\r\n\r\n\t\t\t\tif ( this.mode === 'scale' ) {\r\n\r\n\t\t\t\t\tspace = 'local';\r\n\r\n\t\t\t\t} else if ( this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ' ) {\r\n\r\n\t\t\t\t\tspace = 'world';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( space === 'local' && this.mode === 'rotate' ) {\r\n\r\n\t\t\t\t\tvar snap = this.rotationSnap;\r\n\r\n\t\t\t\t\tif ( this.axis === 'X' && snap ) this.object.rotation.x = Math.round( this.object.rotation.x / snap ) * snap;\r\n\t\t\t\t\tif ( this.axis === 'Y' && snap ) this.object.rotation.y = Math.round( this.object.rotation.y / snap ) * snap;\r\n\t\t\t\t\tif ( this.axis === 'Z' && snap ) this.object.rotation.z = Math.round( this.object.rotation.z / snap ) * snap;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object.updateMatrixWorld();\r\n\t\t\t\tthis.object.parent.updateMatrixWorld();\r\n\r\n\t\t\t\tpositionStart.copy( this.object.position );\r\n\t\t\t\tquaternionStart.copy( this.object.quaternion );\r\n\t\t\t\tscaleStart.copy( this.object.scale );\r\n\r\n\t\t\t\tthis.object.matrixWorld.decompose( worldPositionStart, worldQuaternionStart, worldScaleStart );\r\n\r\n\t\t\t\tpointStart.copy( planeIntersect.point ).sub( worldPositionStart );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = true;\r\n\t\t\tmouseDownEvent.mode = this.mode;\r\n\t\t\tthis.dispatchEvent( mouseDownEvent );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.pointerMove = function ( pointer ) {\r\n\r\n\t\tvar axis = this.axis;\r\n\t\tvar mode = this.mode;\r\n\t\tvar object = this.object;\r\n\t\tvar space = this.space;\r\n\r\n\t\tif ( mode === 'scale' ) {\r\n\r\n\t\t\tspace = 'local';\r\n\r\n\t\t} else if ( axis === 'E' || axis === 'XYZE' || axis === 'XYZ' ) {\r\n\r\n\t\t\tspace = 'world';\r\n\r\n\t\t}\r\n\r\n\t\tif ( object === undefined || axis === null || this.dragging === false || pointer.button !== - 1 ) return;\r\n\r\n\t\traycaster.setFromCamera( pointer, this.camera );\r\n\r\n\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\r\n\r\n\t\tif ( ! planeIntersect ) return;\r\n\r\n\t\tpointEnd.copy( planeIntersect.point ).sub( worldPositionStart );\r\n\r\n\t\tif ( mode === 'translate' ) {\r\n\r\n\t\t\t// Apply translate\r\n\r\n\t\t\toffset.copy( pointEnd ).sub( pointStart );\r\n\r\n\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\r\n\r\n\t\t\t\toffset.applyQuaternion( worldQuaternionInv );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( axis.indexOf( 'X' ) === - 1 ) offset.x = 0;\r\n\t\t\tif ( axis.indexOf( 'Y' ) === - 1 ) offset.y = 0;\r\n\t\t\tif ( axis.indexOf( 'Z' ) === - 1 ) offset.z = 0;\r\n\r\n\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\r\n\r\n\t\t\t\toffset.applyQuaternion( quaternionStart ).divide( parentScale );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toffset.applyQuaternion( parentQuaternionInv ).divide( parentScale );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.position.copy( offset ).add( positionStart );\r\n\r\n\t\t\t// Apply translation snap\r\n\r\n\t\t\tif ( this.translationSnap ) {\r\n\r\n\t\t\t\tif ( space === 'local' ) {\r\n\r\n\t\t\t\t\tobject.position.applyQuaternion( _tempQuaternion.copy( quaternionStart ).invert() );\r\n\r\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobject.position.applyQuaternion( quaternionStart );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( space === 'world' ) {\r\n\r\n\t\t\t\t\tif ( object.parent ) {\r\n\r\n\t\t\t\t\t\tobject.position.add( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( object.parent ) {\r\n\r\n\t\t\t\t\t\tobject.position.sub( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( mode === 'scale' ) {\r\n\r\n\t\t\tif ( axis.search( 'XYZ' ) !== - 1 ) {\r\n\r\n\t\t\t\tvar d = pointEnd.length() / pointStart.length();\r\n\r\n\t\t\t\tif ( pointEnd.dot( pointStart ) < 0 ) d *= - 1;\r\n\r\n\t\t\t\t_tempVector2.set( d, d, d );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_tempVector.copy( pointStart );\r\n\t\t\t\t_tempVector2.copy( pointEnd );\r\n\r\n\t\t\t\t_tempVector.applyQuaternion( worldQuaternionInv );\r\n\t\t\t\t_tempVector2.applyQuaternion( worldQuaternionInv );\r\n\r\n\t\t\t\t_tempVector2.divide( _tempVector );\r\n\r\n\t\t\t\tif ( axis.search( 'X' ) === - 1 ) {\r\n\r\n\t\t\t\t\t_tempVector2.x = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Y' ) === - 1 ) {\r\n\r\n\t\t\t\t\t_tempVector2.y = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Z' ) === - 1 ) {\r\n\r\n\t\t\t\t\t_tempVector2.z = 1;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Apply scale\r\n\r\n\t\t\tobject.scale.copy( scaleStart ).multiply( _tempVector2 );\r\n\r\n\t\t\tif ( this.scaleSnap ) {\r\n\r\n\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tobject.scale.x = Math.round( object.scale.x / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tobject.scale.y = Math.round( object.scale.y / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tobject.scale.z = Math.round( object.scale.z / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( mode === 'rotate' ) {\r\n\r\n\t\t\toffset.copy( pointEnd ).sub( pointStart );\r\n\r\n\t\t\tvar ROTATION_SPEED = 20 / worldPosition.distanceTo( _tempVector.setFromMatrixPosition( this.camera.matrixWorld ) );\r\n\r\n\t\t\tif ( axis === 'E' ) {\r\n\r\n\t\t\t\trotationAxis.copy( eye );\r\n\t\t\t\trotationAngle = pointEnd.angleTo( pointStart );\r\n\r\n\t\t\t\tstartNorm.copy( pointStart ).normalize();\r\n\t\t\t\tendNorm.copy( pointEnd ).normalize();\r\n\r\n\t\t\t\trotationAngle *= ( endNorm.cross( startNorm ).dot( eye ) < 0 ? 1 : - 1 );\r\n\r\n\t\t\t} else if ( axis === 'XYZE' ) {\r\n\r\n\t\t\t\trotationAxis.copy( offset ).cross( eye ).normalize();\r\n\t\t\t\trotationAngle = offset.dot( _tempVector.copy( rotationAxis ).cross( this.eye ) ) * ROTATION_SPEED;\r\n\r\n\t\t\t} else if ( axis === 'X' || axis === 'Y' || axis === 'Z' ) {\r\n\r\n\t\t\t\trotationAxis.copy( _unit[ axis ] );\r\n\r\n\t\t\t\t_tempVector.copy( _unit[ axis ] );\r\n\r\n\t\t\t\tif ( space === 'local' ) {\r\n\r\n\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\trotationAngle = offset.dot( _tempVector.cross( eye ).normalize() ) * ROTATION_SPEED;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Apply rotation snap\r\n\r\n\t\t\tif ( this.rotationSnap ) rotationAngle = Math.round( rotationAngle / this.rotationSnap ) * this.rotationSnap;\r\n\r\n\t\t\tthis.rotationAngle = rotationAngle;\r\n\r\n\t\t\t// Apply rotate\r\n\t\t\tif ( space === 'local' && axis !== 'E' && axis !== 'XYZE' ) {\r\n\r\n\t\t\t\tobject.quaternion.copy( quaternionStart );\r\n\t\t\t\tobject.quaternion.multiply( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) ).normalize();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\trotationAxis.applyQuaternion( parentQuaternionInv );\r\n\t\t\t\tobject.quaternion.copy( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) );\r\n\t\t\t\tobject.quaternion.multiply( quaternionStart ).normalize();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.dispatchEvent( changeEvent );\r\n\t\tthis.dispatchEvent( objectChangeEvent );\r\n\r\n\t};\r\n\r\n\tthis.pointerUp = function ( pointer ) {\r\n\r\n\t\tif ( pointer.button !== 0 ) return;\r\n\r\n\t\tif ( this.dragging && ( this.axis !== null ) ) {\r\n\r\n\t\t\tmouseUpEvent.mode = this.mode;\r\n\t\t\tthis.dispatchEvent( mouseUpEvent );\r\n\r\n\t\t}\r\n\r\n\t\tthis.dragging = false;\r\n\t\tthis.axis = null;\r\n\r\n\t};\r\n\r\n\t// normalize mouse / touch pointer and remap {x,y} to view space.\r\n\r\n\tfunction getPointer( event ) {\r\n\r\n\t\tif ( scope.domElement.ownerDocument.pointerLockElement ) {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tbutton: event.button\r\n\t\t\t};\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar pointer = event.changedTouches ? event.changedTouches[ 0 ] : event;\r\n\r\n\t\t\tvar rect = domElement.getBoundingClientRect();\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: ( pointer.clientX - rect.left ) / rect.width * 2 - 1,\r\n\t\t\t\ty: - ( pointer.clientY - rect.top ) / rect.height * 2 + 1,\r\n\t\t\t\tbutton: event.button\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// mouse / touch event handlers\r\n\r\n\tfunction onPointerHover( event ) {\r\n\r\n\t\tif ( ! scope.enabled ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tscope.pointerHover( getPointer( event ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( ! scope.enabled ) return;\r\n\r\n\t\tscope.domElement.style.touchAction = 'none'; // disable touch scroll\r\n\t\tscope.domElement.ownerDocument.addEventListener( \"pointermove\", onPointerMove, false );\r\n\r\n\t\tscope.pointerHover( getPointer( event ) );\r\n\t\tscope.pointerDown( getPointer( event ) );\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( ! scope.enabled ) return;\r\n\r\n\t\tscope.pointerMove( getPointer( event ) );\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( ! scope.enabled ) return;\r\n\r\n\t\tscope.domElement.style.touchAction = '';\r\n\t\tscope.domElement.ownerDocument.removeEventListener( \"pointermove\", onPointerMove, false );\r\n\r\n\t\tscope.pointerUp( getPointer( event ) );\r\n\r\n\t}\r\n\r\n\t// TODO: deprecate\r\n\r\n\tthis.getMode = function () {\r\n\r\n\t\treturn scope.mode;\r\n\r\n\t};\r\n\r\n\tthis.setMode = function ( mode ) {\r\n\r\n\t\tscope.mode = mode;\r\n\r\n\t};\r\n\r\n\tthis.setTranslationSnap = function ( translationSnap ) {\r\n\r\n\t\tscope.translationSnap = translationSnap;\r\n\r\n\t};\r\n\r\n\tthis.setRotationSnap = function ( rotationSnap ) {\r\n\r\n\t\tscope.rotationSnap = rotationSnap;\r\n\r\n\t};\r\n\r\n\tthis.setScaleSnap = function ( scaleSnap ) {\r\n\r\n\t\tscope.scaleSnap = scaleSnap;\r\n\r\n\t};\r\n\r\n\tthis.setSize = function ( size ) {\r\n\r\n\t\tscope.size = size;\r\n\r\n\t};\r\n\r\n\tthis.setSpace = function ( space ) {\r\n\r\n\t\tscope.space = space;\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\tconsole.warn( 'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.' );\r\n\r\n\t};\r\n\r\n};\r\n\r\nTransformControls.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: TransformControls,\r\n\r\n\tisTransformControls: true\r\n\r\n} );\r\n\r\n\r\nvar TransformControlsGizmo = function () {\r\n\r\n\t'use strict';\r\n\r\n\tObject3D.call( this );\r\n\r\n\tthis.type = 'TransformControlsGizmo';\r\n\r\n\t// shared materials\r\n\r\n\tvar gizmoMaterial = new MeshBasicMaterial( {\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false,\r\n\t\ttransparent: true,\r\n\t\tside: DoubleSide,\r\n\t\tfog: false,\r\n\t\ttoneMapped: false\r\n\t} );\r\n\r\n\tvar gizmoLineMaterial = new LineBasicMaterial( {\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false,\r\n\t\ttransparent: true,\r\n\t\tlinewidth: 1,\r\n\t\tfog: false,\r\n\t\ttoneMapped: false\r\n\t} );\r\n\r\n\t// Make unique material for each axis/color\r\n\r\n\tvar matInvisible = gizmoMaterial.clone();\r\n\tmatInvisible.opacity = 0.15;\r\n\r\n\tvar matHelper = gizmoMaterial.clone();\r\n\tmatHelper.opacity = 0.33;\r\n\r\n\tvar matRed = gizmoMaterial.clone();\r\n\tmatRed.color.set( 0xff0000 );\r\n\r\n\tvar matGreen = gizmoMaterial.clone();\r\n\tmatGreen.color.set( 0x00ff00 );\r\n\r\n\tvar matBlue = gizmoMaterial.clone();\r\n\tmatBlue.color.set( 0x0000ff );\r\n\r\n\tvar matWhiteTransparent = gizmoMaterial.clone();\r\n\tmatWhiteTransparent.opacity = 0.25;\r\n\r\n\tvar matYellowTransparent = matWhiteTransparent.clone();\r\n\tmatYellowTransparent.color.set( 0xffff00 );\r\n\r\n\tvar matCyanTransparent = matWhiteTransparent.clone();\r\n\tmatCyanTransparent.color.set( 0x00ffff );\r\n\r\n\tvar matMagentaTransparent = matWhiteTransparent.clone();\r\n\tmatMagentaTransparent.color.set( 0xff00ff );\r\n\r\n\tvar matYellow = gizmoMaterial.clone();\r\n\tmatYellow.color.set( 0xffff00 );\r\n\r\n\tvar matLineRed = gizmoLineMaterial.clone();\r\n\tmatLineRed.color.set( 0xff0000 );\r\n\r\n\tvar matLineGreen = gizmoLineMaterial.clone();\r\n\tmatLineGreen.color.set( 0x00ff00 );\r\n\r\n\tvar matLineBlue = gizmoLineMaterial.clone();\r\n\tmatLineBlue.color.set( 0x0000ff );\r\n\r\n\tvar matLineCyan = gizmoLineMaterial.clone();\r\n\tmatLineCyan.color.set( 0x00ffff );\r\n\r\n\tvar matLineMagenta = gizmoLineMaterial.clone();\r\n\tmatLineMagenta.color.set( 0xff00ff );\r\n\r\n\tvar matLineYellow = gizmoLineMaterial.clone();\r\n\tmatLineYellow.color.set( 0xffff00 );\r\n\r\n\tvar matLineGray = gizmoLineMaterial.clone();\r\n\tmatLineGray.color.set( 0x787878 );\r\n\r\n\tvar matLineYellowTransparent = matLineYellow.clone();\r\n\tmatLineYellowTransparent.opacity = 0.25;\r\n\r\n\t// reusable geometry\r\n\r\n\tvar arrowGeometry = new CylinderBufferGeometry( 0, 0.05, 0.2, 12, 1, false );\r\n\r\n\tvar scaleHandleGeometry = new BoxBufferGeometry( 0.125, 0.125, 0.125 );\r\n\r\n\tvar lineGeometry = new BufferGeometry();\r\n\tlineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0,\t1, 0, 0 ], 3 ) );\r\n\r\n\tvar CircleGeometry = function ( radius, arc ) {\r\n\r\n\t\tvar geometry = new BufferGeometry( );\r\n\t\tvar vertices = [];\r\n\r\n\t\tfor ( var i = 0; i <= 64 * arc; ++ i ) {\r\n\r\n\t\t\tvertices.push( 0, Math.cos( i / 32 * Math.PI ) * radius, Math.sin( i / 32 * Math.PI ) * radius );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\r\n\t\treturn geometry;\r\n\r\n\t};\r\n\r\n\t// Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\r\n\r\n\tvar TranslateHelperGeometry = function () {\r\n\r\n\t\tvar geometry = new BufferGeometry();\r\n\r\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 1, 1, 1 ], 3 ) );\r\n\r\n\t\treturn geometry;\r\n\r\n\t};\r\n\r\n\t// Gizmo definitions - custom hierarchy definitions for setupGizmo() function\r\n\r\n\tvar gizmoTranslate = {\r\n\t\tX: [\r\n\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, - Math.PI / 2 ], null, 'fwd' ],\r\n\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, Math.PI / 2 ], null, 'bwd' ],\r\n\t\t\t[ new Line( lineGeometry, matLineRed ) ]\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], null, null, 'fwd' ],\r\n\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], [ Math.PI, 0, 0 ], null, 'bwd' ],\r\n\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ]]\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ Math.PI / 2, 0, 0 ], null, 'fwd' ],\r\n\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ - Math.PI / 2, 0, 0 ], null, 'bwd' ],\r\n\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ]]\r\n\t\t],\r\n\t\tXYZ: [\r\n\t\t\t[ new Mesh( new OctahedronBufferGeometry( 0.1, 0 ), matWhiteTransparent.clone() ), [ 0, 0, 0 ], [ 0, 0, 0 ]]\r\n\t\t],\r\n\t\tXY: [\r\n\t\t\t[ new Mesh( new PlaneBufferGeometry( 0.295, 0.295 ), matYellowTransparent.clone() ), [ 0.15, 0.15, 0 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.18, 0.3, 0 ], null, [ 0.125, 1, 1 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.3, 0.18, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\r\n\t\t],\r\n\t\tYZ: [\r\n\t\t\t[ new Mesh( new PlaneBufferGeometry( 0.295, 0.295 ), matCyanTransparent.clone() ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.18, 0.3 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.3, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\r\n\t\t],\r\n\t\tXZ: [\r\n\t\t\t[ new Mesh( new PlaneBufferGeometry( 0.295, 0.295 ), matMagentaTransparent.clone() ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.18, 0, 0.3 ], null, [ 0.125, 1, 1 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.3, 0, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\r\n\t\t]\r\n\t};\r\n\r\n\tvar pickerTranslate = {\r\n\t\tX: [\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0.6, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0.6, 0 ]]\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0, 0.6 ], [ Math.PI / 2, 0, 0 ]]\r\n\t\t],\r\n\t\tXYZ: [\r\n\t\t\t[ new Mesh( new OctahedronBufferGeometry( 0.2, 0 ), matInvisible ) ]\r\n\t\t],\r\n\t\tXY: [\r\n\t\t\t[ new Mesh( new PlaneBufferGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0.2, 0 ]]\r\n\t\t],\r\n\t\tYZ: [\r\n\t\t\t[ new Mesh( new PlaneBufferGeometry( 0.4, 0.4 ), matInvisible ), [ 0, 0.2, 0.2 ], [ 0, Math.PI / 2, 0 ]]\r\n\t\t],\r\n\t\tXZ: [\r\n\t\t\t[ new Mesh( new PlaneBufferGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0, 0.2 ], [ - Math.PI / 2, 0, 0 ]]\r\n\t\t]\r\n\t};\r\n\r\n\tvar helperTranslate = {\r\n\t\tSTART: [\r\n\t\t\t[ new Mesh( new OctahedronBufferGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\r\n\t\t],\r\n\t\tEND: [\r\n\t\t\t[ new Mesh( new OctahedronBufferGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\r\n\t\t],\r\n\t\tDELTA: [\r\n\t\t\t[ new Line( TranslateHelperGeometry(), matHelper ), null, null, null, 'helper' ]\r\n\t\t],\r\n\t\tX: [\r\n\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t]\r\n\t};\r\n\r\n\tvar gizmoRotate = {\r\n\t\tX: [\r\n\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineRed ) ],\r\n\t\t\t[ new Mesh( new OctahedronBufferGeometry( 0.04, 0 ), matRed ), [ 0, 0, 0.99 ], null, [ 1, 3, 1 ]],\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineGreen ), null, [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t[ new Mesh( new OctahedronBufferGeometry( 0.04, 0 ), matGreen ), [ 0, 0, 0.99 ], null, [ 3, 1, 1 ]],\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineBlue ), null, [ 0, Math.PI / 2, 0 ]],\r\n\t\t\t[ new Mesh( new OctahedronBufferGeometry( 0.04, 0 ), matBlue ), [ 0.99, 0, 0 ], null, [ 1, 3, 1 ]],\r\n\t\t],\r\n\t\tE: [\r\n\t\t\t[ new Line( CircleGeometry( 1.25, 1 ), matLineYellowTransparent ), null, [ 0, Math.PI / 2, 0 ]],\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 1.17, 0, 0 ], [ 0, 0, - Math.PI / 2 ], [ 1, 1, 0.001 ]],\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ - 1.17, 0, 0 ], [ 0, 0, Math.PI / 2 ], [ 1, 1, 0.001 ]],\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, - 1.17, 0 ], [ Math.PI, 0, 0 ], [ 1, 1, 0.001 ]],\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, 1.17, 0 ], [ 0, 0, 0 ], [ 1, 1, 0.001 ]],\r\n\t\t],\r\n\t\tXYZE: [\r\n\t\t\t[ new Line( CircleGeometry( 1, 1 ), matLineGray ), null, [ 0, Math.PI / 2, 0 ]]\r\n\t\t]\r\n\t};\r\n\r\n\tvar helperRotate = {\r\n\t\tAXIS: [\r\n\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t]\r\n\t};\r\n\r\n\tvar pickerRotate = {\r\n\t\tX: [\r\n\t\t\t[ new Mesh( new TorusBufferGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, - Math.PI / 2, - Math.PI / 2 ]],\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Mesh( new TorusBufferGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Mesh( new TorusBufferGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t],\r\n\t\tE: [\r\n\t\t\t[ new Mesh( new TorusBufferGeometry( 1.25, 0.1, 2, 24 ), matInvisible ) ]\r\n\t\t],\r\n\t\tXYZE: [\r\n\t\t\t[ new Mesh( new SphereBufferGeometry( 0.7, 10, 8 ), matInvisible ) ]\r\n\t\t]\r\n\t};\r\n\r\n\tvar gizmoScale = {\r\n\t\tX: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ 0.8, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineRed ), null, null, [ 0.8, 1, 1 ]]\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, 0.8, 0 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ], [ 0.8, 1, 1 ]]\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, 0.8 ], [ Math.PI / 2, 0, 0 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ], [ 0.8, 1, 1 ]]\r\n\t\t],\r\n\t\tXY: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matYellowTransparent ), [ 0.85, 0.85, 0 ], null, [ 2, 2, 0.2 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.855, 0.98, 0 ], null, [ 0.125, 1, 1 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.98, 0.855, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\r\n\t\t],\r\n\t\tYZ: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matCyanTransparent ), [ 0, 0.85, 0.85 ], null, [ 0.2, 2, 2 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.855, 0.98 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.98, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\r\n\t\t],\r\n\t\tXZ: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matMagentaTransparent ), [ 0.85, 0, 0.85 ], null, [ 2, 0.2, 2 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.855, 0, 0.98 ], null, [ 0.125, 1, 1 ]],\r\n\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.98, 0, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\r\n\t\t],\r\n\t\tXYZX: [\r\n\t\t\t[ new Mesh( new BoxBufferGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 1.1, 0, 0 ]],\r\n\t\t],\r\n\t\tXYZY: [\r\n\t\t\t[ new Mesh( new BoxBufferGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 1.1, 0 ]],\r\n\t\t],\r\n\t\tXYZZ: [\r\n\t\t\t[ new Mesh( new BoxBufferGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 0, 1.1 ]],\r\n\t\t]\r\n\t};\r\n\r\n\tvar pickerScale = {\r\n\t\tX: [\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0.5, 0 ]]\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Mesh( new CylinderBufferGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]]\r\n\t\t],\r\n\t\tXY: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0.85, 0 ], null, [ 3, 3, 0.2 ]],\r\n\t\t],\r\n\t\tYZ: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0, 0.85, 0.85 ], null, [ 0.2, 3, 3 ]],\r\n\t\t],\r\n\t\tXZ: [\r\n\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0, 0.85 ], null, [ 3, 0.2, 3 ]],\r\n\t\t],\r\n\t\tXYZX: [\r\n\t\t\t[ new Mesh( new BoxBufferGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 1.1, 0, 0 ]],\r\n\t\t],\r\n\t\tXYZY: [\r\n\t\t\t[ new Mesh( new BoxBufferGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 1.1, 0 ]],\r\n\t\t],\r\n\t\tXYZZ: [\r\n\t\t\t[ new Mesh( new BoxBufferGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 0, 1.1 ]],\r\n\t\t]\r\n\t};\r\n\r\n\tvar helperScale = {\r\n\t\tX: [\r\n\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t],\r\n\t\tY: [\r\n\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t],\r\n\t\tZ: [\r\n\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\r\n\t\t]\r\n\t};\r\n\r\n\t// Creates an Object3D with gizmos described in custom hierarchy definition.\r\n\r\n\tvar setupGizmo = function ( gizmoMap ) {\r\n\r\n\t\tvar gizmo = new Object3D();\r\n\r\n\t\tfor ( var name in gizmoMap ) {\r\n\r\n\t\t\tfor ( var i = gizmoMap[ name ].length; i --; ) {\r\n\r\n\t\t\t\tvar object = gizmoMap[ name ][ i ][ 0 ].clone();\r\n\t\t\t\tvar position = gizmoMap[ name ][ i ][ 1 ];\r\n\t\t\t\tvar rotation = gizmoMap[ name ][ i ][ 2 ];\r\n\t\t\t\tvar scale = gizmoMap[ name ][ i ][ 3 ];\r\n\t\t\t\tvar tag = gizmoMap[ name ][ i ][ 4 ];\r\n\r\n\t\t\t\t// name and tag properties are essential for picking and updating logic.\r\n\t\t\t\tobject.name = name;\r\n\t\t\t\tobject.tag = tag;\r\n\r\n\t\t\t\tif ( position ) {\r\n\r\n\t\t\t\t\tobject.position.set( position[ 0 ], position[ 1 ], position[ 2 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( rotation ) {\r\n\r\n\t\t\t\t\tobject.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( scale ) {\r\n\r\n\t\t\t\t\tobject.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobject.updateMatrix();\r\n\r\n\t\t\t\tvar tempGeometry = object.geometry.clone();\r\n\t\t\t\ttempGeometry.applyMatrix4( object.matrix );\r\n\t\t\t\tobject.geometry = tempGeometry;\r\n\t\t\t\tobject.renderOrder = Infinity;\r\n\r\n\t\t\t\tobject.position.set( 0, 0, 0 );\r\n\t\t\t\tobject.rotation.set( 0, 0, 0 );\r\n\t\t\t\tobject.scale.set( 1, 1, 1 );\r\n\r\n\t\t\t\tgizmo.add( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn gizmo;\r\n\r\n\t};\r\n\r\n\t// Reusable utility variables\r\n\r\n\tvar tempVector = new Vector3( 0, 0, 0 );\r\n\tvar tempEuler = new Euler();\r\n\tvar alignVector = new Vector3( 0, 1, 0 );\r\n\tvar zeroVector = new Vector3( 0, 0, 0 );\r\n\tvar lookAtMatrix = new Matrix4();\r\n\tvar tempQuaternion = new Quaternion();\r\n\tvar tempQuaternion2 = new Quaternion();\r\n\tvar identityQuaternion = new Quaternion();\r\n\r\n\tvar unitX = new Vector3( 1, 0, 0 );\r\n\tvar unitY = new Vector3( 0, 1, 0 );\r\n\tvar unitZ = new Vector3( 0, 0, 1 );\r\n\r\n\t// Gizmo creation\r\n\r\n\tthis.gizmo = {};\r\n\tthis.picker = {};\r\n\tthis.helper = {};\r\n\r\n\tthis.add( this.gizmo[ \"translate\" ] = setupGizmo( gizmoTranslate ) );\r\n\tthis.add( this.gizmo[ \"rotate\" ] = setupGizmo( gizmoRotate ) );\r\n\tthis.add( this.gizmo[ \"scale\" ] = setupGizmo( gizmoScale ) );\r\n\tthis.add( this.picker[ \"translate\" ] = setupGizmo( pickerTranslate ) );\r\n\tthis.add( this.picker[ \"rotate\" ] = setupGizmo( pickerRotate ) );\r\n\tthis.add( this.picker[ \"scale\" ] = setupGizmo( pickerScale ) );\r\n\tthis.add( this.helper[ \"translate\" ] = setupGizmo( helperTranslate ) );\r\n\tthis.add( this.helper[ \"rotate\" ] = setupGizmo( helperRotate ) );\r\n\tthis.add( this.helper[ \"scale\" ] = setupGizmo( helperScale ) );\r\n\r\n\t// Pickers should be hidden always\r\n\r\n\tthis.picker[ \"translate\" ].visible = false;\r\n\tthis.picker[ \"rotate\" ].visible = false;\r\n\tthis.picker[ \"scale\" ].visible = false;\r\n\r\n\t// updateMatrixWorld will update transformations and appearance of individual handles\r\n\r\n\tthis.updateMatrixWorld = function () {\r\n\r\n\t\tvar space = this.space;\r\n\r\n\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\r\n\r\n\t\tvar quaternion = space === \"local\" ? this.worldQuaternion : identityQuaternion;\r\n\r\n\t\t// Show only gizmos for current transform mode\r\n\r\n\t\tthis.gizmo[ \"translate\" ].visible = this.mode === \"translate\";\r\n\t\tthis.gizmo[ \"rotate\" ].visible = this.mode === \"rotate\";\r\n\t\tthis.gizmo[ \"scale\" ].visible = this.mode === \"scale\";\r\n\r\n\t\tthis.helper[ \"translate\" ].visible = this.mode === \"translate\";\r\n\t\tthis.helper[ \"rotate\" ].visible = this.mode === \"rotate\";\r\n\t\tthis.helper[ \"scale\" ].visible = this.mode === \"scale\";\r\n\r\n\r\n\t\tvar handles = [];\r\n\t\thandles = handles.concat( this.picker[ this.mode ].children );\r\n\t\thandles = handles.concat( this.gizmo[ this.mode ].children );\r\n\t\thandles = handles.concat( this.helper[ this.mode ].children );\r\n\r\n\t\tfor ( var i = 0; i < handles.length; i ++ ) {\r\n\r\n\t\t\tvar handle = handles[ i ];\r\n\r\n\t\t\t// hide aligned to camera\r\n\r\n\t\t\thandle.visible = true;\r\n\t\t\thandle.rotation.set( 0, 0, 0 );\r\n\t\t\thandle.position.copy( this.worldPosition );\r\n\r\n\t\t\tvar factor;\r\n\r\n\t\t\tif ( this.camera.isOrthographicCamera ) {\r\n\r\n\t\t\t\tfactor = ( this.camera.top - this.camera.bottom ) / this.camera.zoom;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfactor = this.worldPosition.distanceTo( this.cameraPosition ) * Math.min( 1.9 * Math.tan( Math.PI * this.camera.fov / 360 ) / this.camera.zoom, 7 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\thandle.scale.set( 1, 1, 1 ).multiplyScalar( factor * this.size / 7 );\r\n\r\n\t\t\t// TODO: simplify helpers and consider decoupling from gizmo\r\n\r\n\t\t\tif ( handle.tag === 'helper' ) {\r\n\r\n\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\tif ( handle.name === 'AXIS' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\t\t\t\t\thandle.visible = !! this.axis;\r\n\r\n\t\t\t\t\tif ( this.axis === 'X' ) {\r\n\r\n\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, 0 ) );\r\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\r\n\r\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'Y' ) {\r\n\r\n\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, Math.PI / 2 ) );\r\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\r\n\r\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'Z' ) {\r\n\r\n\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\r\n\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\r\n\r\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'XYZE' ) {\r\n\r\n\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\r\n\t\t\t\t\t\talignVector.copy( this.rotationAxis );\r\n\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( zeroVector, alignVector, unitY ) );\r\n\t\t\t\t\t\thandle.quaternion.multiply( tempQuaternion );\r\n\t\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis === 'E' ) {\r\n\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else if ( handle.name === 'START' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t} else if ( handle.name === 'END' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPosition );\r\n\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t} else if ( handle.name === 'DELTA' ) {\r\n\r\n\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\t\t\t\t\thandle.quaternion.copy( this.worldQuaternionStart );\r\n\t\t\t\t\ttempVector.set( 1e-10, 1e-10, 1e-10 ).add( this.worldPositionStart ).sub( this.worldPosition ).multiplyScalar( - 1 );\r\n\t\t\t\t\ttempVector.applyQuaternion( this.worldQuaternionStart.clone().invert() );\r\n\t\t\t\t\thandle.scale.copy( tempVector );\r\n\t\t\t\t\thandle.visible = this.dragging;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\thandle.quaternion.copy( quaternion );\r\n\r\n\t\t\t\t\tif ( this.dragging ) {\r\n\r\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\thandle.position.copy( this.worldPosition );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( this.axis ) {\r\n\r\n\t\t\t\t\t\thandle.visible = this.axis.search( handle.name ) !== - 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If updating helper, skip rest of the loop\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Align handles to current local or world rotation\r\n\r\n\t\t\thandle.quaternion.copy( quaternion );\r\n\r\n\t\t\tif ( this.mode === 'translate' || this.mode === 'scale' ) {\r\n\r\n\t\t\t\t// Hide translate and scale axis facing the camera\r\n\r\n\t\t\t\tvar AXIS_HIDE_TRESHOLD = 0.99;\r\n\t\t\t\tvar PLANE_HIDE_TRESHOLD = 0.2;\r\n\t\t\t\tvar AXIS_FLIP_TRESHOLD = 0.0;\r\n\r\n\r\n\t\t\t\tif ( handle.name === 'X' || handle.name === 'XYZX' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Y' || handle.name === 'XYZY' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Z' || handle.name === 'XYZZ' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'XY' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'YZ' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'XZ' ) {\r\n\r\n\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Flip translate and scale axis ocluded behind another axis\r\n\r\n\t\t\t\tif ( handle.name.search( 'X' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tif ( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\thandle.scale.x *= - 1;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\r\n\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name.search( 'Y' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tif ( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\thandle.scale.y *= - 1;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\r\n\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name.search( 'Z' ) !== - 1 ) {\r\n\r\n\t\t\t\t\tif ( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\r\n\r\n\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\r\n\r\n\t\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\thandle.scale.z *= - 1;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\r\n\r\n\t\t\t\t\t\thandle.visible = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( this.mode === 'rotate' ) {\r\n\r\n\t\t\t\t// Align handles to current local or world rotation\r\n\r\n\t\t\t\ttempQuaternion2.copy( quaternion );\r\n\t\t\t\talignVector.copy( this.eye ).applyQuaternion( tempQuaternion.copy( quaternion ).invert() );\r\n\r\n\t\t\t\tif ( handle.name.search( \"E\" ) !== - 1 ) {\r\n\r\n\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( this.eye, zeroVector, unitY ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'X' ) {\r\n\r\n\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitX, Math.atan2( - alignVector.y, alignVector.z ) );\r\n\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\r\n\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Y' ) {\r\n\r\n\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitY, Math.atan2( alignVector.x, alignVector.z ) );\r\n\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\r\n\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handle.name === 'Z' ) {\r\n\r\n\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitZ, Math.atan2( alignVector.y, alignVector.x ) );\r\n\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\r\n\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Hide disabled axes\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( \"X\" ) === - 1 || this.showX );\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( \"Y\" ) === - 1 || this.showY );\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( \"Z\" ) === - 1 || this.showZ );\r\n\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( \"E\" ) === - 1 || ( this.showX && this.showY && this.showZ ) );\r\n\r\n\t\t\t// highlight selected axis\r\n\r\n\t\t\thandle.material._opacity = handle.material._opacity || handle.material.opacity;\r\n\t\t\thandle.material._color = handle.material._color || handle.material.color.clone();\r\n\r\n\t\t\thandle.material.color.copy( handle.material._color );\r\n\t\t\thandle.material.opacity = handle.material._opacity;\r\n\r\n\t\t\tif ( ! this.enabled ) {\r\n\r\n\t\t\t\thandle.material.opacity *= 0.5;\r\n\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\r\n\r\n\t\t\t} else if ( this.axis ) {\r\n\r\n\t\t\t\tif ( handle.name === this.axis ) {\r\n\r\n\t\t\t\t\thandle.material.opacity = 1.0;\r\n\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\r\n\r\n\t\t\t\t} else if ( this.axis.split( '' ).some( function ( a ) {\r\n\r\n\t\t\t\t\treturn handle.name === a;\r\n\r\n\t\t\t\t} ) ) {\r\n\r\n\t\t\t\t\thandle.material.opacity = 1.0;\r\n\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\thandle.material.opacity *= 0.25;\r\n\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tObject3D.prototype.updateMatrixWorld.call( this );\r\n\r\n\t};\r\n\r\n};\r\n\r\nTransformControlsGizmo.prototype = Object.assign( Object.create( Object3D.prototype ), {\r\n\r\n\tconstructor: TransformControlsGizmo,\r\n\r\n\tisTransformControlsGizmo: true\r\n\r\n} );\r\n\r\n\r\nvar TransformControlsPlane = function () {\r\n\r\n\t'use strict';\r\n\r\n\tMesh.call( this,\r\n\t\tnew PlaneBufferGeometry( 100000, 100000, 2, 2 ),\r\n\t\tnew MeshBasicMaterial( { visible: false, wireframe: true, side: DoubleSide, transparent: true, opacity: 0.1, toneMapped: false } )\r\n\t);\r\n\r\n\tthis.type = 'TransformControlsPlane';\r\n\r\n\tvar unitX = new Vector3( 1, 0, 0 );\r\n\tvar unitY = new Vector3( 0, 1, 0 );\r\n\tvar unitZ = new Vector3( 0, 0, 1 );\r\n\r\n\tvar tempVector = new Vector3();\r\n\tvar dirVector = new Vector3();\r\n\tvar alignVector = new Vector3();\r\n\tvar tempMatrix = new Matrix4();\r\n\tvar identityQuaternion = new Quaternion();\r\n\r\n\tthis.updateMatrixWorld = function () {\r\n\r\n\t\tvar space = this.space;\r\n\r\n\t\tthis.position.copy( this.worldPosition );\r\n\r\n\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\r\n\r\n\t\tunitX.set( 1, 0, 0 ).applyQuaternion( space === \"local\" ? this.worldQuaternion : identityQuaternion );\r\n\t\tunitY.set( 0, 1, 0 ).applyQuaternion( space === \"local\" ? this.worldQuaternion : identityQuaternion );\r\n\t\tunitZ.set( 0, 0, 1 ).applyQuaternion( space === \"local\" ? this.worldQuaternion : identityQuaternion );\r\n\r\n\t\t// Align the plane for current transform mode, axis and space.\r\n\r\n\t\talignVector.copy( unitY );\r\n\r\n\t\tswitch ( this.mode ) {\r\n\r\n\t\t\tcase 'translate':\r\n\t\t\tcase 'scale':\r\n\t\t\t\tswitch ( this.axis ) {\r\n\r\n\t\t\t\t\tcase 'X':\r\n\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitX );\r\n\t\t\t\t\t\tdirVector.copy( unitX ).cross( alignVector );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Y':\r\n\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitY );\r\n\t\t\t\t\t\tdirVector.copy( unitY ).cross( alignVector );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Z':\r\n\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitZ );\r\n\t\t\t\t\t\tdirVector.copy( unitZ ).cross( alignVector );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'XY':\r\n\t\t\t\t\t\tdirVector.copy( unitZ );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'YZ':\r\n\t\t\t\t\t\tdirVector.copy( unitX );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'XZ':\r\n\t\t\t\t\t\talignVector.copy( unitZ );\r\n\t\t\t\t\t\tdirVector.copy( unitY );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'XYZ':\r\n\t\t\t\t\tcase 'E':\r\n\t\t\t\t\t\tdirVector.set( 0, 0, 0 );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'rotate':\r\n\t\t\tdefault:\r\n\t\t\t\t// special case for rotate\r\n\t\t\t\tdirVector.set( 0, 0, 0 );\r\n\r\n\t\t}\r\n\r\n\t\tif ( dirVector.length() === 0 ) {\r\n\r\n\t\t\t// If in rotate mode, make the plane parallel to camera\r\n\t\t\tthis.quaternion.copy( this.cameraQuaternion );\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttempMatrix.lookAt( tempVector.set( 0, 0, 0 ), dirVector, alignVector );\r\n\r\n\t\t\tthis.quaternion.setFromRotationMatrix( tempMatrix );\r\n\r\n\t\t}\r\n\r\n\t\tObject3D.prototype.updateMatrixWorld.call( this );\r\n\r\n\t};\r\n\r\n};\r\n\r\nTransformControlsPlane.prototype = Object.assign( Object.create( Mesh.prototype ), {\r\n\r\n\tconstructor: TransformControlsPlane,\r\n\r\n\tisTransformControlsPlane: true\r\n\r\n} );\r\n\r\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/TransformControls.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TrackballControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tvar scope = this;\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\r\n\r\n\tthis.rotateSpeed = 1.0;\r\n\tthis.zoomSpeed = 1.2;\r\n\tthis.panSpeed = 0.3;\r\n\r\n\tthis.noRotate = false;\r\n\tthis.noZoom = false;\r\n\tthis.noPan = false;\r\n\r\n\tthis.staticMoving = false;\r\n\tthis.dynamicDampingFactor = 0.2;\r\n\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\tthis.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\r\n\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.ZOOM, RIGHT: MOUSE.PAN };\r\n\r\n\t// internals\r\n\r\n\tthis.target = new Vector3();\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\tvar lastPosition = new Vector3();\r\n\tvar lastZoom = 1;\r\n\r\n\tvar _state = STATE.NONE,\r\n\t\t_keyState = STATE.NONE,\r\n\r\n\t\t_eye = new Vector3(),\r\n\r\n\t\t_movePrev = new Vector2(),\r\n\t\t_moveCurr = new Vector2(),\r\n\r\n\t\t_lastAxis = new Vector3(),\r\n\t\t_lastAngle = 0,\r\n\r\n\t\t_zoomStart = new Vector2(),\r\n\t\t_zoomEnd = new Vector2(),\r\n\r\n\t\t_touchZoomDistanceStart = 0,\r\n\t\t_touchZoomDistanceEnd = 0,\r\n\r\n\t\t_panStart = new Vector2(),\r\n\t\t_panEnd = new Vector2();\r\n\r\n\t// for reset\r\n\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.up0 = this.object.up.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t// events\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\r\n\t// methods\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tvar box = scope.domElement.getBoundingClientRect();\r\n\t\t// adjustments come from similar code in the jquery offset() function\r\n\t\tvar d = scope.domElement.ownerDocument.documentElement;\r\n\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\r\n\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\r\n\t\tscope.screen.width = box.width;\r\n\t\tscope.screen.height = box.height;\r\n\r\n\t};\r\n\r\n\tvar getMouseOnScreen = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnScreen( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\r\n\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tvar getMouseOnCircle = ( function () {\r\n\r\n\t\tvar vector = new Vector2();\r\n\r\n\t\treturn function getMouseOnCircle( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\r\n\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.rotateCamera = ( function () {\r\n\r\n\t\tvar axis = new Vector3(),\r\n\t\t\tquaternion = new Quaternion(),\r\n\t\t\teyeDirection = new Vector3(),\r\n\t\t\tobjectUpDirection = new Vector3(),\r\n\t\t\tobjectSidewaysDirection = new Vector3(),\r\n\t\t\tmoveDirection = new Vector3(),\r\n\t\t\tangle;\r\n\r\n\t\treturn function rotateCamera() {\r\n\r\n\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\r\n\t\t\tangle = moveDirection.length();\r\n\r\n\t\t\tif ( angle ) {\r\n\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\r\n\t\t\t\teyeDirection.copy( _eye ).normalize();\r\n\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\r\n\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\r\n\r\n\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\r\n\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\r\n\r\n\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\r\n\r\n\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\r\n\r\n\t\t\t\tangle *= scope.rotateSpeed;\r\n\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t\t_lastAxis.copy( axis );\r\n\t\t\t\t_lastAngle = angle;\r\n\r\n\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\r\n\r\n\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\r\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\r\n\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\r\n\tthis.zoomCamera = function () {\r\n\r\n\t\tvar factor;\r\n\r\n\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\r\n\r\n\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\r\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\tscope.object.zoom *= factor;\r\n\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\r\n\r\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\r\n\r\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tscope.object.zoom /= factor;\r\n\t\t\t\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.panCamera = ( function () {\r\n\r\n\t\tvar mouseChange = new Vector2(),\r\n\t\t\tobjectUp = new Vector3(),\r\n\t\t\tpan = new Vector3();\r\n\r\n\t\treturn function panCamera() {\r\n\r\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\r\n\r\n\t\t\tif ( mouseChange.lengthSq() ) {\r\n\r\n\t\t\t\tif ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t\tvar scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\t\t\t\t\tvar scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\r\n\r\n\t\t\t\t\tmouseChange.x *= scale_x;\r\n\t\t\t\t\tmouseChange.y *= scale_y;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\r\n\r\n\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\r\n\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\r\n\r\n\t\t\t\tscope.object.position.add( pan );\r\n\t\t\t\tscope.target.add( pan );\r\n\r\n\t\t\t\tif ( scope.staticMoving ) {\r\n\r\n\t\t\t\t\t_panStart.copy( _panEnd );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.checkDistances = function () {\r\n\r\n\t\tif ( ! scope.noZoom || ! scope.noPan ) {\r\n\r\n\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\r\n\r\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tif ( ! scope.noRotate ) {\r\n\r\n\t\t\tscope.rotateCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noZoom ) {\r\n\r\n\t\t\tscope.zoomCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! scope.noPan ) {\r\n\r\n\t\t\tscope.panCamera();\r\n\r\n\t\t}\r\n\r\n\t\tscope.object.position.addVectors( scope.target, _eye );\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscope.checkDistances();\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastZoom = scope.object.zoom;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\t_state = STATE.NONE;\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.up.copy( scope.up0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\r\n\t\t_eye.subVectors( scope.object.position, scope.target );\r\n\r\n\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tlastPosition.copy( scope.object.position );\r\n\t\tlastZoom = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\t// listeners\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keydown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown );\r\n\r\n\t\tif ( _keyState !== STATE.NONE ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\r\n\r\n\t\t\t_keyState = STATE.ROTATE;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\r\n\r\n\t\t\t_keyState = STATE.ZOOM;\r\n\r\n\t\t} else if ( event.keyCode === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\r\n\r\n\t\t\t_keyState = STATE.PAN;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keyup() {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t_keyState = STATE.NONE;\r\n\r\n\t\twindow.addEventListener( 'keydown', keydown, false );\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( _state === STATE.NONE ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase scope.mouseButtons.LEFT:\r\n\t\t\t\t\t_state = STATE.ROTATE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.MIDDLE:\r\n\t\t\t\t\t_state = STATE.ZOOM;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase scope.mouseButtons.RIGHT:\r\n\t\t\t\t\t_state = STATE.PAN;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t_state = STATE.NONE;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_zoomEnd.copy( _zoomStart );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_panEnd.copy( _panStart );\r\n\r\n\t\t}\r\n\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\r\n\r\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\r\n\r\n\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\r\n\r\n\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t_state = STATE.NONE;\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction mousewheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tif ( scope.noZoom === true ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.deltaMode ) {\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\t// Zoom in pages\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t// Zoom in lines\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\t// undefined, 0, assume pixels\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchstart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\t_panEnd.copy( _panStart );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchmove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction touchend( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\t_state = STATE.NONE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', mousewheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', touchstart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', touchend, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', touchmove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown, false );\r\n\t\twindow.removeEventListener( 'keyup', keyup, false );\r\n\r\n\t};\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\r\n\tthis.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tthis.domElement.addEventListener( 'wheel', mousewheel, false );\r\n\r\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\r\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\r\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\r\n\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\tthis.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', keydown, false );\r\n\twindow.addEventListener( 'keyup', keyup, false );\r\n\r\n\tthis.handleResize();\r\n\r\n\t// force an update at start\r\n\tthis.update();\r\n\r\n};\r\n\r\nTrackballControls.prototype = Object.create( EventDispatcher.prototype );\r\nTrackballControls.prototype.constructor = TrackballControls;\r\n\r\nexport { TrackballControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/TrackballControls.js","import {\r\n\tCubeTexture,\r\n\tDataTexture,\r\n\tFileLoader,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tLoader,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { RGBELoader } from \"../loaders/RGBELoader.js\";\r\n\r\nvar HDRCubeTextureLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.hdrLoader = new RGBELoader();\r\n\tthis.type = UnsignedByteType;\r\n\r\n};\r\n\r\nHDRCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: HDRCubeTextureLoader,\r\n\r\n\tload: function ( urls, onLoad, onProgress, onError ) {\r\n\r\n\t\tif ( ! Array.isArray( urls ) ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.HDRCubeTextureLoader signature has changed. Use .setDataType() instead.' );\r\n\r\n\t\t\tthis.setDataType( urls );\r\n\r\n\t\t\turls = onLoad;\r\n\t\t\tonLoad = onProgress;\r\n\t\t\tonProgress = onError;\r\n\t\t\tonError = arguments[ 4 ];\r\n\r\n\t\t}\r\n\r\n\t\tvar texture = new CubeTexture();\r\n\r\n\t\ttexture.type = this.type;\r\n\r\n\t\tswitch ( texture.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\ttexture.format = RGBAFormat;\r\n\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\ttexture.format = RGBFormat;\r\n\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loaded = 0;\r\n\r\n\t\tfunction loadHDRData( i, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tnew FileLoader( scope.manager )\r\n\t\t\t\t.setPath( scope.path )\r\n\t\t\t\t.setResponseType( 'arraybuffer' )\r\n\t\t\t\t.setWithCredentials( scope.withCredentials )\r\n\t\t\t\t.load( urls[ i ], function ( buffer ) {\r\n\r\n\t\t\t\t\tloaded ++;\r\n\r\n\t\t\t\t\tvar texData = scope.hdrLoader.parse( buffer );\r\n\r\n\t\t\t\t\tif ( ! texData ) return;\r\n\r\n\t\t\t\t\tif ( texData.data !== undefined ) {\r\n\r\n\t\t\t\t\t\tvar dataTexture = new DataTexture( texData.data, texData.width, texData.height );\r\n\r\n\t\t\t\t\t\tdataTexture.type = texture.type;\r\n\t\t\t\t\t\tdataTexture.encoding = texture.encoding;\r\n\t\t\t\t\t\tdataTexture.format = texture.format;\r\n\t\t\t\t\t\tdataTexture.minFilter = texture.minFilter;\r\n\t\t\t\t\t\tdataTexture.magFilter = texture.magFilter;\r\n\t\t\t\t\t\tdataTexture.generateMipmaps = texture.generateMipmaps;\r\n\r\n\t\t\t\t\t\ttexture.images[ i ] = dataTexture;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( loaded === 6 ) {\r\n\r\n\t\t\t\t\t\ttexture.needsUpdate = true;\r\n\t\t\t\t\t\tif ( onLoad ) onLoad( texture );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < urls.length; i ++ ) {\r\n\r\n\t\t\tloadHDRData( i, onLoad, onProgress, onError );\r\n\r\n\t\t}\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\tthis.hdrLoader.setDataType( value );\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { HDRCubeTextureLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/HDRCubeTextureLoader.js","import {\r\n\tVector2\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Convolution shader\r\n * ported from o3d sample to WebGL / GLSL\r\n * http://o3d.googlecode.com/svn/trunk/samples/convolution.html\r\n */\r\n\r\nvar ConvolutionShader = {\r\n\r\n\tdefines: {\r\n\r\n\t\t\"KERNEL_SIZE_FLOAT\": \"25.0\",\r\n\t\t\"KERNEL_SIZE_INT\": \"25\"\r\n\r\n\t},\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"uImageIncrement\": { value: new Vector2( 0.001953125, 0.0 ) },\r\n\t\t\"cKernel\": { value: [] }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"uniform vec2 uImageIncrement;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float cKernel[ KERNEL_SIZE_INT ];\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"uniform vec2 uImageIncrement;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec2 imageCoord = vUv;\",\r\n\t\t\"\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\",\r\n\r\n\t\t\"\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\",\r\n\r\n\t\t\"\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\",\r\n\t\t\"\t\timageCoord += uImageIncrement;\",\r\n\r\n\t\t\"\t}\",\r\n\r\n\t\t\"\tgl_FragColor = sum;\",\r\n\r\n\t\t\"}\"\r\n\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tbuildKernel: function ( sigma ) {\r\n\r\n\t\t// We lop off the sqrt(2 * pi) * sigma term, since we're going to normalize anyway.\r\n\r\n\t\tfunction gauss( x, sigma ) {\r\n\r\n\t\t\treturn Math.exp( - ( x * x ) / ( 2.0 * sigma * sigma ) );\r\n\r\n\t\t}\r\n\r\n\t\tvar i, values, sum, halfWidth, kMaxKernelSize = 25, kernelSize = 2 * Math.ceil( sigma * 3.0 ) + 1;\r\n\r\n\t\tif ( kernelSize > kMaxKernelSize ) kernelSize = kMaxKernelSize;\r\n\t\thalfWidth = ( kernelSize - 1 ) * 0.5;\r\n\r\n\t\tvalues = new Array( kernelSize );\r\n\t\tsum = 0.0;\r\n\t\tfor ( i = 0; i < kernelSize; ++ i ) {\r\n\r\n\t\t\tvalues[ i ] = gauss( i - halfWidth, sigma );\r\n\t\t\tsum += values[ i ];\r\n\r\n\t\t}\r\n\r\n\t\t// normalize the kernel\r\n\r\n\t\tfor ( i = 0; i < kernelSize; ++ i ) values[ i ] /= sum;\r\n\r\n\t\treturn values;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { ConvolutionShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/ConvolutionShader.js","import {\r\n\tAdditiveBlending,\r\n\tLinearFilter,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { ConvolutionShader } from \"../shaders/ConvolutionShader.js\";\r\n\r\nvar BloomPass = function ( strength, kernelSize, sigma, resolution ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tstrength = ( strength !== undefined ) ? strength : 1;\r\n\tkernelSize = ( kernelSize !== undefined ) ? kernelSize : 25;\r\n\tsigma = ( sigma !== undefined ) ? sigma : 4.0;\r\n\tresolution = ( resolution !== undefined ) ? resolution : 256;\r\n\r\n\t// render targets\r\n\r\n\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\r\n\r\n\tthis.renderTargetX = new WebGLRenderTarget( resolution, resolution, pars );\r\n\tthis.renderTargetX.texture.name = \"BloomPass.x\";\r\n\tthis.renderTargetY = new WebGLRenderTarget( resolution, resolution, pars );\r\n\tthis.renderTargetY.texture.name = \"BloomPass.y\";\r\n\r\n\t// copy material\r\n\r\n\tif ( CopyShader === undefined )\r\n\t\tconsole.error( \"BloomPass relies on CopyShader\" );\r\n\r\n\tvar copyShader = CopyShader;\r\n\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\r\n\tthis.copyUniforms[ \"opacity\" ].value = strength;\r\n\r\n\tthis.materialCopy = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tblending: AdditiveBlending,\r\n\t\ttransparent: true\r\n\r\n\t} );\r\n\r\n\t// convolution material\r\n\r\n\tif ( ConvolutionShader === undefined )\r\n\t\tconsole.error( \"BloomPass relies on ConvolutionShader\" );\r\n\r\n\tvar convolutionShader = ConvolutionShader;\r\n\r\n\tthis.convolutionUniforms = UniformsUtils.clone( convolutionShader.uniforms );\r\n\r\n\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurX;\r\n\tthis.convolutionUniforms[ \"cKernel\" ].value = ConvolutionShader.buildKernel( sigma );\r\n\r\n\tthis.materialConvolution = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.convolutionUniforms,\r\n\t\tvertexShader: convolutionShader.vertexShader,\r\n\t\tfragmentShader: convolutionShader.fragmentShader,\r\n\t\tdefines: {\r\n\t\t\t\"KERNEL_SIZE_FLOAT\": kernelSize.toFixed( 1 ),\r\n\t\t\t\"KERNEL_SIZE_INT\": kernelSize.toFixed( 0 )\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nBloomPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: BloomPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\r\n\r\n\t\t// Render quad with blured scene into texture (convolution pass 1)\r\n\r\n\t\tthis.fsQuad.material = this.materialConvolution;\r\n\r\n\t\tthis.convolutionUniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurX;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetX );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\r\n\t\t// Render quad with blured scene into texture (convolution pass 2)\r\n\r\n\t\tthis.convolutionUniforms[ \"tDiffuse\" ].value = this.renderTargetX.texture;\r\n\t\tthis.convolutionUniforms[ \"uImageIncrement\" ].value = BloomPass.blurY;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetY );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t// Render original scene with superimposed blur to texture\r\n\r\n\t\tthis.fsQuad.material = this.materialCopy;\r\n\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.renderTargetY.texture;\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\r\n\r\n\t\trenderer.setRenderTarget( readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nBloomPass.blurX = new Vector2( 0.001953125, 0.0 );\r\nBloomPass.blurY = new Vector2( 0.0, 0.001953125 );\r\n\r\nexport { BloomPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/BloomPass.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction FloatNode( value ) {\r\n\r\n\tInputNode.call( this, 'f' );\r\n\r\n\tthis.value = value || 0;\r\n\r\n}\r\n\r\nFloatNode.prototype = Object.create( InputNode.prototype );\r\nFloatNode.prototype.constructor = FloatNode;\r\nFloatNode.prototype.nodeType = \"Float\";\r\n\r\nFloatNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value + ( this.value % 1 ? '' : '.0' ), type, output );\r\n\r\n};\r\n\r\nFloatNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFloatNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FloatNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/FloatNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction NormalNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || NormalNode.VIEW;\r\n\r\n}\r\n\r\nNormalNode.LOCAL = 'local';\r\nNormalNode.WORLD = 'world';\r\nNormalNode.VIEW = 'view';\r\n\r\nNormalNode.prototype = Object.create( TempNode.prototype );\r\nNormalNode.prototype.constructor = NormalNode;\r\nNormalNode.prototype.nodeType = \"Normal\";\r\n\r\nNormalNode.prototype.getShared = function () {\r\n\r\n\t// if shared is false, TempNode will not create temp variable (for optimization)\r\n\r\n\treturn this.scope === NormalNode.WORLD;\r\n\r\n};\r\n\r\nNormalNode.prototype.build = function ( builder, output, uuid, ns ) {\r\n\r\n\tvar contextNormal = builder.context[ this.scope + 'Normal' ];\r\n\r\n\tif ( contextNormal ) {\r\n\r\n\t\treturn contextNormal.build( builder, output, uuid, ns );\r\n\r\n\t}\r\n\r\n\treturn TempNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nNormalNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase NormalNode.VIEW:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) result = 'transformedNormal';\r\n\t\t\telse result = 'geometryNormal';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'objectNormal';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.normal = true;\r\n\r\n\t\t\t\tresult = 'vObjectNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase NormalNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'inverseTransformDirection( transformedNormal, viewMatrix ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldNormal = true;\r\n\r\n\t\t\t\tresult = 'vWNormal';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nNormalNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'viewNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.VIEW );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'localNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.NORMAL );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldNormal', function () {\r\n\r\n\treturn new NormalNode( NormalNode.WORLD );\r\n\r\n} );\r\n\r\nexport { NormalNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/NormalNode.js","import {\r\n\tDataTextureLoader,\r\n\tDataUtils,\r\n\tFloatType,\r\n\tHalfFloatType,\r\n\tLinearEncoding,\r\n\tLinearFilter,\r\n\tNearestFilter,\r\n\tRGBAFormat,\r\n\tRGBEEncoding,\r\n\tRGBEFormat,\r\n\tRGBFormat,\r\n\tUnsignedByteType\r\n} from \"@/components/build/three.module.js\";\r\nimport { Inflate } from \"../libs/inflate.module.min.js\";\r\n\r\n/**\r\n * OpenEXR loader currently supports uncompressed, ZIP(S), RLE, PIZ and DWA/B compression.\r\n * Supports reading as UnsignedByte, HalfFloat and Float type data texture.\r\n *\r\n * Referred to the original Industrial Light & Magic OpenEXR implementation and the TinyEXR / Syoyo Fujita\r\n * implementation, so I have preserved their copyright notices.\r\n */\r\n\r\n// /*\r\n// Copyright (c) 2014 - 2017, Syoyo Fujita\r\n// All rights reserved.\r\n\r\n// Redistribution and use in source and binary forms, with or without\r\n// modification, are permitted provided that the following conditions are met:\r\n//     * Redistributions of source code must retain the above copyright\r\n//       notice, this list of conditions and the following disclaimer.\r\n//     * Redistributions in binary form must reproduce the above copyright\r\n//       notice, this list of conditions and the following disclaimer in the\r\n//       documentation and/or other materials provided with the distribution.\r\n//     * Neither the name of the Syoyo Fujita nor the\r\n//       names of its contributors may be used to endorse or promote products\r\n//       derived from this software without specific prior written permission.\r\n\r\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n// DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\r\n// DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n// ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// */\r\n\r\n// // TinyEXR contains some OpenEXR code, which is licensed under ------------\r\n\r\n// ///////////////////////////////////////////////////////////////////////////\r\n// //\r\n// // Copyright (c) 2002, Industrial Light & Magic, a division of Lucas\r\n// // Digital Ltd. LLC\r\n// //\r\n// // All rights reserved.\r\n// //\r\n// // Redistribution and use in source and binary forms, with or without\r\n// // modification, are permitted provided that the following conditions are\r\n// // met:\r\n// // *       Redistributions of source code must retain the above copyright\r\n// // notice, this list of conditions and the following disclaimer.\r\n// // *       Redistributions in binary form must reproduce the above\r\n// // copyright notice, this list of conditions and the following disclaimer\r\n// // in the documentation and/or other materials provided with the\r\n// // distribution.\r\n// // *       Neither the name of Industrial Light & Magic nor the names of\r\n// // its contributors may be used to endorse or promote products derived\r\n// // from this software without specific prior written permission.\r\n// //\r\n// // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n// // \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n// // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n// // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n// // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n// // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n// // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n// // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n// // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n// // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n// // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n// //\r\n// ///////////////////////////////////////////////////////////////////////////\r\n\r\n// // End of OpenEXR license -------------------------------------------------\r\n\r\nvar EXRLoader = function ( manager ) {\r\n\r\n\tDataTextureLoader.call( this, manager );\r\n\r\n\tthis.type = FloatType;\r\n\r\n};\r\n\r\nEXRLoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\r\n\r\n\tconstructor: EXRLoader,\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\tconst USHORT_RANGE = ( 1 << 16 );\r\n\t\tconst BITMAP_SIZE = ( USHORT_RANGE >> 3 );\r\n\r\n\t\tconst HUF_ENCBITS = 16; // literal (value) bit length\r\n\t\tconst HUF_DECBITS = 14; // decoding bit size (>= 8)\r\n\r\n\t\tconst HUF_ENCSIZE = ( 1 << HUF_ENCBITS ) + 1; // encoding table size\r\n\t\tconst HUF_DECSIZE = 1 << HUF_DECBITS; // decoding table size\r\n\t\tconst HUF_DECMASK = HUF_DECSIZE - 1;\r\n\r\n\t\tconst NBITS = 16;\r\n\t\tconst A_OFFSET = 1 << ( NBITS - 1 );\r\n\t\tconst MOD_MASK = ( 1 << NBITS ) - 1;\r\n\r\n\t\tconst SHORT_ZEROCODE_RUN = 59;\r\n\t\tconst LONG_ZEROCODE_RUN = 63;\r\n\t\tconst SHORTEST_LONG_RUN = 2 + LONG_ZEROCODE_RUN - SHORT_ZEROCODE_RUN;\r\n\r\n\t\tconst ULONG_SIZE = 8;\r\n\t\tconst FLOAT32_SIZE = 4;\r\n\t\tconst INT32_SIZE = 4;\r\n\t\tconst INT16_SIZE = 2;\r\n\t\tconst INT8_SIZE = 1;\r\n\r\n\t\tconst STATIC_HUFFMAN = 0;\r\n\t\tconst DEFLATE = 1;\r\n\r\n\t\tconst UNKNOWN = 0;\r\n\t\tconst LOSSY_DCT = 1;\r\n\t\tconst RLE = 2;\r\n\r\n\t\tconst logBase = Math.pow( 2.7182818, 2.2 );\r\n\r\n\t\tvar tmpDataView = new DataView( new ArrayBuffer( 8 ) );\r\n\r\n\t\tfunction frexp( value ) {\r\n\r\n\t\t\tif ( value === 0 ) return [ value, 0 ];\r\n\r\n\t\t\ttmpDataView.setFloat64( 0, value );\r\n\r\n\t\t\tvar bits = ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF;\r\n\t\t\tif ( bits === 0 ) { // denormal\r\n\r\n\t\t\t\ttmpDataView.setFloat64( 0, value * Math.pow( 2, 64 ) ); // exp + 64\r\n\t\t\t\tbits = ( ( tmpDataView.getUint32( 0 ) >>> 20 ) & 0x7FF ) - 64;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar exponent = bits - 1022;\r\n\t\t\tvar mantissa = ldexp( value, - exponent );\r\n\r\n\t\t\treturn [ mantissa, exponent ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction ldexp( mantissa, exponent ) {\r\n\r\n\t\t\tvar steps = Math.min( 3, Math.ceil( Math.abs( exponent ) / 1023 ) );\r\n\t\t\tvar result = mantissa;\r\n\r\n\t\t\tfor ( var i = 0; i < steps; i ++ )\r\n\t\t\t\tresult *= Math.pow( 2, Math.floor( ( exponent + i ) / steps ) );\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t}\r\n\r\n\t\tfunction reverseLutFromBitmap( bitmap, lut ) {\r\n\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < USHORT_RANGE; ++ i ) {\r\n\r\n\t\t\t\tif ( ( i == 0 ) || ( bitmap[ i >> 3 ] & ( 1 << ( i & 7 ) ) ) ) {\r\n\r\n\t\t\t\t\tlut[ k ++ ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar n = k - 1;\r\n\r\n\t\t\twhile ( k < USHORT_RANGE ) lut[ k ++ ] = 0;\r\n\r\n\t\t\treturn n;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufClearDecTable( hdec ) {\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_DECSIZE; i ++ ) {\r\n\r\n\t\t\t\thdec[ i ] = {};\r\n\t\t\t\thdec[ i ].len = 0;\r\n\t\t\t\thdec[ i ].lit = 0;\r\n\t\t\t\thdec[ i ].p = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconst getBitsReturn = { l: 0, c: 0, lc: 0 };\r\n\r\n\t\tfunction getBits( nBits, c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\twhile ( lc < nBits ) {\r\n\r\n\t\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\t\tlc += 8;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlc -= nBits;\r\n\r\n\t\t\tgetBitsReturn.l = ( c >> lc ) & ( ( 1 << nBits ) - 1 );\r\n\t\t\tgetBitsReturn.c = c;\r\n\t\t\tgetBitsReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst hufTableBuffer = new Array( 59 );\r\n\r\n\t\tfunction hufCanonicalCodeTable( hcode ) {\r\n\r\n\t\t\tfor ( var i = 0; i <= 58; ++ i ) hufTableBuffer[ i ] = 0;\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) hufTableBuffer[ hcode[ i ] ] += 1;\r\n\r\n\t\t\tvar c = 0;\r\n\r\n\t\t\tfor ( var i = 58; i > 0; -- i ) {\r\n\r\n\t\t\t\tvar nc = ( ( c + hufTableBuffer[ i ] ) >> 1 );\r\n\t\t\t\thufTableBuffer[ i ] = c;\r\n\t\t\t\tc = nc;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < HUF_ENCSIZE; ++ i ) {\r\n\r\n\t\t\t\tvar l = hcode[ i ];\r\n\t\t\t\tif ( l > 0 ) hcode[ i ] = l | ( hufTableBuffer[ l ] ++ << 6 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, hcode ) {\r\n\r\n\t\t\tvar p = inOffset;\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tif ( p.value - inOffset.value > ni ) return false;\r\n\r\n\t\t\t\tgetBits( 6, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\tvar l = getBitsReturn.l;\r\n\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\thcode[ im ] = l;\r\n\r\n\t\t\t\tif ( l == LONG_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tif ( p.value - inOffset.value > ni ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgetBits( 8, c, lc, uInt8Array, p );\r\n\r\n\t\t\t\t\tvar zerun = getBitsReturn.l + SHORTEST_LONG_RUN;\r\n\t\t\t\t\tc = getBitsReturn.c;\r\n\t\t\t\t\tlc = getBitsReturn.lc;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t} else if ( l >= SHORT_ZEROCODE_RUN ) {\r\n\r\n\t\t\t\t\tvar zerun = l - SHORT_ZEROCODE_RUN + 2;\r\n\r\n\t\t\t\t\tif ( im + zerun > iM + 1 ) {\r\n\r\n\t\t\t\t\t\tthrow 'Something wrong with hufUnpackEncTable';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile ( zerun -- ) hcode[ im ++ ] = 0;\r\n\r\n\t\t\t\t\tim --;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufCanonicalCodeTable( hcode );\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufLength( code ) {\r\n\r\n\t\t\treturn code & 63;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufCode( code ) {\r\n\r\n\t\t\treturn code >> 6;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufBuildDecTable( hcode, im, iM, hdecod ) {\r\n\r\n\t\t\tfor ( ; im <= iM; im ++ ) {\r\n\r\n\t\t\t\tvar c = hufCode( hcode[ im ] );\r\n\t\t\t\tvar l = hufLength( hcode[ im ] );\r\n\r\n\t\t\t\tif ( c >> l ) {\r\n\r\n\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( l > HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar pl = hdecod[ ( c >> ( l - HUF_DECBITS ) ) ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.lit ++;\r\n\r\n\t\t\t\t\tif ( pl.p ) {\r\n\r\n\t\t\t\t\t\tvar p = pl.p;\r\n\t\t\t\t\t\tpl.p = new Array( pl.lit );\r\n\r\n\t\t\t\t\t\tfor ( var i = 0; i < pl.lit - 1; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpl.p[ i ] = p[ i ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tpl.p = new Array( 1 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpl.p[ pl.lit - 1 ] = im;\r\n\r\n\t\t\t\t} else if ( l ) {\r\n\r\n\t\t\t\t\tvar plOffset = 0;\r\n\r\n\t\t\t\t\tfor ( var i = 1 << ( HUF_DECBITS - l ); i > 0; i -- ) {\r\n\r\n\t\t\t\t\t\tvar pl = hdecod[ ( c << ( HUF_DECBITS - l ) ) + plOffset ];\r\n\r\n\t\t\t\t\t\tif ( pl.len || pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'Invalid table entry';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpl.len = l;\r\n\t\t\t\t\t\tpl.lit = im;\r\n\r\n\t\t\t\t\t\tplOffset ++;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCharReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getChar( c, lc, uInt8Array, inOffset ) {\r\n\r\n\t\t\tc = ( c << 8 ) | parseUint8Array( uInt8Array, inOffset );\r\n\t\t\tlc += 8;\r\n\r\n\t\t\tgetCharReturn.c = c;\r\n\t\t\tgetCharReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tconst getCodeReturn = { c: 0, lc: 0 };\r\n\r\n\t\tfunction getCode( po, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outBufferOffset, outBufferEndOffset ) {\r\n\r\n\t\t\tif ( po == rlc ) {\r\n\r\n\t\t\t\tif ( lc < 8 ) {\r\n\r\n\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlc -= 8;\r\n\r\n\t\t\t\tvar cs = ( c >> lc );\r\n\t\t\t\tvar cs = new Uint8Array( [ cs ] )[ 0 ];\r\n\r\n\t\t\t\tif ( outBufferOffset.value + cs > outBufferEndOffset ) {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar s = outBuffer[ outBufferOffset.value - 1 ];\r\n\r\n\t\t\t\twhile ( cs -- > 0 ) {\r\n\r\n\t\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( outBufferOffset.value < outBufferEndOffset ) {\r\n\r\n\t\t\t\toutBuffer[ outBufferOffset.value ++ ] = po;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgetCodeReturn.c = c;\r\n\t\t\tgetCodeReturn.lc = lc;\r\n\r\n\t\t}\r\n\r\n\t\tfunction UInt16( value ) {\r\n\r\n\t\t\treturn ( value & 0xFFFF );\r\n\r\n\t\t}\r\n\r\n\t\tfunction Int16( value ) {\r\n\r\n\t\t\tvar ref = UInt16( value );\r\n\t\t\treturn ( ref > 0x7FFF ) ? ref - 0x10000 : ref;\r\n\r\n\t\t}\r\n\r\n\t\tconst wdec14Return = { a: 0, b: 0 };\r\n\r\n\t\tfunction wdec14( l, h ) {\r\n\r\n\t\t\tvar ls = Int16( l );\r\n\t\t\tvar hs = Int16( h );\r\n\r\n\t\t\tvar hi = hs;\r\n\t\t\tvar ai = ls + ( hi & 1 ) + ( hi >> 1 );\r\n\r\n\t\t\tvar as = ai;\r\n\t\t\tvar bs = ai - hi;\r\n\r\n\t\t\twdec14Return.a = as;\r\n\t\t\twdec14Return.b = bs;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wdec16( l, h ) {\r\n\r\n\t\t\tvar m = UInt16( l );\r\n\t\t\tvar d = UInt16( h );\r\n\r\n\t\t\tvar bb = ( m - ( d >> 1 ) ) & MOD_MASK;\r\n\t\t\tvar aa = ( d + bb - A_OFFSET ) & MOD_MASK;\r\n\r\n\t\t\twdec14Return.a = aa;\r\n\t\t\twdec14Return.b = bb;\r\n\r\n\t\t}\r\n\r\n\t\tfunction wav2Decode( buffer, j, nx, ox, ny, oy, mx ) {\r\n\r\n\t\t\tvar w14 = mx < ( 1 << 14 );\r\n\t\t\tvar n = ( nx > ny ) ? ny : nx;\r\n\t\t\tvar p = 1;\r\n\t\t\tvar p2;\r\n\r\n\t\t\twhile ( p <= n ) p <<= 1;\r\n\r\n\t\t\tp >>= 1;\r\n\t\t\tp2 = p;\r\n\t\t\tp >>= 1;\r\n\r\n\t\t\twhile ( p >= 1 ) {\r\n\r\n\t\t\t\tvar py = 0;\r\n\t\t\t\tvar ey = py + oy * ( ny - p2 );\r\n\t\t\t\tvar oy1 = oy * p;\r\n\t\t\t\tvar oy2 = oy * p2;\r\n\t\t\t\tvar ox1 = ox * p;\r\n\t\t\t\tvar ox2 = ox * p2;\r\n\t\t\t\tvar i00, i01, i10, i11;\r\n\r\n\t\t\t\tfor ( ; py <= ey; py += oy2 ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\t\t\t\t\t\tvar p11 = p10 + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 ) {\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec14( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti10 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( buffer[ p01 + j ], buffer[ p11 + j ] );\r\n\r\n\t\t\t\t\t\t\ti01 = wdec14Return.a;\r\n\t\t\t\t\t\t\ti11 = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i00, i01 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ px + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\t\twdec16( i10, i11 );\r\n\r\n\t\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.a;\r\n\t\t\t\t\t\t\tbuffer[ p11 + j ] = wdec14Return.b;\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( nx & p ) {\r\n\r\n\t\t\t\t\t\tvar p10 = px + oy1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p10 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p10 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p10 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ny & p ) {\r\n\r\n\t\t\t\t\tvar px = py;\r\n\t\t\t\t\tvar ex = py + ox * ( nx - p2 );\r\n\r\n\t\t\t\t\tfor ( ; px <= ex; px += ox2 ) {\r\n\r\n\t\t\t\t\t\tvar p01 = px + ox1;\r\n\r\n\t\t\t\t\t\tif ( w14 )\r\n\t\t\t\t\t\t\twdec14( buffer[ px + j ], buffer[ p01 + j ] );\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twdec16( buffer[ px + j ], buffer[ p01 + j ] );\r\n\r\n\t\t\t\t\t\ti00 = wdec14Return.a;\r\n\t\t\t\t\t\tbuffer[ p01 + j ] = wdec14Return.b;\r\n\r\n\t\t\t\t\t\tbuffer[ px + j ] = i00;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tp2 = p;\r\n\t\t\t\tp >>= 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn py;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufDecode( encodingTable, decodingTable, uInt8Array, inDataView, inOffset, ni, rlc, no, outBuffer, outOffset ) {\r\n\r\n\t\t\tvar c = 0;\r\n\t\t\tvar lc = 0;\r\n\t\t\tvar outBufferEndOffset = no;\r\n\t\t\tvar inOffsetEnd = Math.trunc( inOffset.value + ( ni + 7 ) / 8 );\r\n\r\n\t\t\twhile ( inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\twhile ( lc >= HUF_DECBITS ) {\r\n\r\n\t\t\t\t\tvar index = ( c >> ( lc - HUF_DECBITS ) ) & HUF_DECMASK;\r\n\t\t\t\t\tvar pl = decodingTable[ index ];\r\n\r\n\t\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif ( ! pl.p ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar j;\r\n\r\n\t\t\t\t\t\tfor ( j = 0; j < pl.lit; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar l = hufLength( encodingTable[ pl.p[ j ] ] );\r\n\r\n\t\t\t\t\t\t\twhile ( lc < l && inOffset.value < inOffsetEnd ) {\r\n\r\n\t\t\t\t\t\t\t\tgetChar( c, lc, uInt8Array, inOffset );\r\n\r\n\t\t\t\t\t\t\t\tc = getCharReturn.c;\r\n\t\t\t\t\t\t\t\tlc = getCharReturn.lc;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( lc >= l ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( hufCode( encodingTable[ pl.p[ j ] ] ) == ( ( c >> ( lc - l ) ) & ( ( 1 << l ) - 1 ) ) ) {\r\n\r\n\t\t\t\t\t\t\t\t\tlc -= l;\r\n\r\n\t\t\t\t\t\t\t\t\tgetCode( pl.p[ j ], rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( j == pl.lit ) {\r\n\r\n\t\t\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar i = ( 8 - ni ) & 7;\r\n\r\n\t\t\tc >>= i;\r\n\t\t\tlc -= i;\r\n\r\n\t\t\twhile ( lc > 0 ) {\r\n\r\n\t\t\t\tvar pl = decodingTable[ ( c << ( HUF_DECBITS - lc ) ) & HUF_DECMASK ];\r\n\r\n\t\t\t\tif ( pl.len ) {\r\n\r\n\t\t\t\t\tlc -= pl.len;\r\n\r\n\t\t\t\t\tgetCode( pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset );\r\n\r\n\t\t\t\t\tc = getCodeReturn.c;\r\n\t\t\t\t\tlc = getCodeReturn.lc;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow 'hufDecode issues';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\r\n\t\tfunction hufUncompress( uInt8Array, inDataView, inOffset, nCompressed, outBuffer, nRaw ) {\r\n\r\n\t\t\tvar outOffset = { value: 0 };\r\n\t\t\tvar initialInOffset = inOffset.value;\r\n\r\n\t\t\tvar im = parseUint32( inDataView, inOffset );\r\n\t\t\tvar iM = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tvar nBits = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\tinOffset.value += 4;\r\n\r\n\t\t\tif ( im < 0 || im >= HUF_ENCSIZE || iM < 0 || iM >= HUF_ENCSIZE ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with HUF_ENCSIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar freq = new Array( HUF_ENCSIZE );\r\n\t\t\tvar hdec = new Array( HUF_DECSIZE );\r\n\r\n\t\t\thufClearDecTable( hdec );\r\n\r\n\t\t\tvar ni = nCompressed - ( inOffset.value - initialInOffset );\r\n\r\n\t\t\thufUnpackEncTable( uInt8Array, inDataView, inOffset, ni, im, iM, freq );\r\n\r\n\t\t\tif ( nBits > 8 * ( nCompressed - ( inOffset.value - initialInOffset ) ) ) {\r\n\r\n\t\t\t\tthrow 'Something wrong with hufUncompress';\r\n\r\n\t\t\t}\r\n\r\n\t\t\thufBuildDecTable( freq, im, iM, hdec );\r\n\r\n\t\t\thufDecode( freq, hdec, uInt8Array, inDataView, inOffset, nBits, iM, nRaw, outBuffer, outOffset );\r\n\r\n\t\t}\r\n\r\n\t\tfunction applyLut( lut, data, nData ) {\r\n\r\n\t\t\tfor ( var i = 0; i < nData; ++ i ) {\r\n\r\n\t\t\t\tdata[ i ] = lut[ data[ i ] ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction predictor( source ) {\r\n\r\n\t\t\tfor ( var t = 1; t < source.length; t ++ ) {\r\n\r\n\t\t\t\tvar d = source[ t - 1 ] + source[ t ] - 128;\r\n\t\t\t\tsource[ t ] = d;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction interleaveScalar( source, out ) {\r\n\r\n\t\t\tvar t1 = 0;\r\n\t\t\tvar t2 = Math.floor( ( source.length + 1 ) / 2 );\r\n\t\t\tvar s = 0;\r\n\t\t\tvar stop = source.length - 1;\r\n\r\n\t\t\twhile ( true ) {\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t1 ++ ];\r\n\r\n\t\t\t\tif ( s > stop ) break;\r\n\t\t\t\tout[ s ++ ] = source[ t2 ++ ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeRunLength( source ) {\r\n\r\n\t\t\tvar size = source.byteLength;\r\n\t\t\tvar out = new Array();\r\n\t\t\tvar p = 0;\r\n\r\n\t\t\tvar reader = new DataView( source );\r\n\r\n\t\t\twhile ( size > 0 ) {\r\n\r\n\t\t\t\tvar l = reader.getInt8( p ++ );\r\n\r\n\t\t\t\tif ( l < 0 ) {\r\n\r\n\t\t\t\t\tvar count = - l;\r\n\t\t\t\t\tsize -= count + 1;\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( reader.getUint8( p ++ ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar count = l;\r\n\t\t\t\t\tsize -= 2;\r\n\r\n\t\t\t\t\tvar value = reader.getUint8( p ++ );\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < count + 1; i ++ ) {\r\n\r\n\t\t\t\t\t\tout.push( value );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn out;\r\n\r\n\t\t}\r\n\r\n\t\tfunction lossyDctDecode( cscSet, rowPtrs, channelData, acBuffer, dcBuffer, outBuffer ) {\r\n\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\tvar width = channelData[ cscSet.idx[ 0 ] ].width;\r\n\t\t\tvar height = channelData[ cscSet.idx[ 0 ] ].height;\r\n\r\n\t\t\tvar numComp = 3;\r\n\r\n\t\t\tvar numFullBlocksX = Math.floor( width / 8.0 );\r\n\t\t\tvar numBlocksX = Math.ceil( width / 8.0 );\r\n\t\t\tvar numBlocksY = Math.ceil( height / 8.0 );\r\n\t\t\tvar leftoverX = width - ( numBlocksX - 1 ) * 8;\r\n\t\t\tvar leftoverY = height - ( numBlocksY - 1 ) * 8;\r\n\r\n\t\t\tvar currAcComp = { value: 0 };\r\n\t\t\tvar currDcComp = new Array( numComp );\r\n\t\t\tvar dctData = new Array( numComp );\r\n\t\t\tvar halfZigBlock = new Array( numComp );\r\n\t\t\tvar rowBlock = new Array( numComp );\r\n\t\t\tvar rowOffsets = new Array( numComp );\r\n\r\n\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\trowOffsets[ comp ] = rowPtrs[ cscSet.idx[ comp ] ];\r\n\t\t\t\tcurrDcComp[ comp ] = ( comp < 1 ) ? 0 : currDcComp[ comp - 1 ] + numBlocksX * numBlocksY;\r\n\t\t\t\tdctData[ comp ] = new Float32Array( 64 );\r\n\t\t\t\thalfZigBlock[ comp ] = new Uint16Array( 64 );\r\n\t\t\t\trowBlock[ comp ] = new Uint16Array( numBlocksX * 64 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let blocky = 0; blocky < numBlocksY; ++ blocky ) {\r\n\r\n\t\t\t\tvar maxY = 8;\r\n\r\n\t\t\t\tif ( blocky == numBlocksY - 1 )\r\n\t\t\t\t\tmaxY = leftoverY;\r\n\r\n\t\t\t\tvar maxX = 8;\r\n\r\n\t\t\t\tfor ( let blockx = 0; blockx < numBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\tif ( blockx == numBlocksX - 1 )\r\n\t\t\t\t\t\tmaxX = leftoverX;\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\thalfZigBlock[ comp ].fill( 0 );\r\n\r\n\t\t\t\t\t\t// set block DC component\r\n\t\t\t\t\t\thalfZigBlock[ comp ][ 0 ] = dcBuffer[ currDcComp[ comp ] ++ ];\r\n\t\t\t\t\t\t// set block AC components\r\n\t\t\t\t\t\tunRleAC( currAcComp, acBuffer, halfZigBlock[ comp ] );\r\n\r\n\t\t\t\t\t\t// UnZigZag block to float\r\n\t\t\t\t\t\tunZigZag( halfZigBlock[ comp ], dctData[ comp ] );\r\n\t\t\t\t\t\t// decode float dct\r\n\t\t\t\t\t\tdctInverse( dctData[ comp ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( numComp == 3 ) {\r\n\r\n\t\t\t\t\t\tcsc709Inverse( dctData );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\t\tconvertToHalf( dctData[ comp ], rowBlock[ comp ], blockx * 64 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // blockx\r\n\r\n\t\t\t\tlet offset = 0;\r\n\r\n\t\t\t\tfor ( let comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\t\tconst type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\toffset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\t\tfor ( let blockx = 0; blockx < numFullBlocksX; ++ blockx ) {\r\n\r\n\t\t\t\t\t\t\tconst src = blockx * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 0 * INT16_SIZE * type, rowBlock[ comp ][ src + 0 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 1 * INT16_SIZE * type, rowBlock[ comp ][ src + 1 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 2 * INT16_SIZE * type, rowBlock[ comp ][ src + 2 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 3 * INT16_SIZE * type, rowBlock[ comp ][ src + 3 ], true );\r\n\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 4 * INT16_SIZE * type, rowBlock[ comp ][ src + 4 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 5 * INT16_SIZE * type, rowBlock[ comp ][ src + 5 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 6 * INT16_SIZE * type, rowBlock[ comp ][ src + 6 ], true );\r\n\t\t\t\t\t\t\tdataView.setUint16( offset + 7 * INT16_SIZE * type, rowBlock[ comp ][ src + 7 ], true );\r\n\r\n\t\t\t\t\t\t\toffset += 8 * INT16_SIZE * type;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// handle partial X blocks\r\n\t\t\t\t\tif ( numFullBlocksX != numBlocksX ) {\r\n\r\n\t\t\t\t\t\tfor ( let y = 8 * blocky; y < 8 * blocky + maxY; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ] + 8 * numFullBlocksX * INT16_SIZE * type;\r\n\t\t\t\t\t\t\tconst src = numFullBlocksX * 64 + ( ( y & 0x7 ) * 8 );\r\n\r\n\t\t\t\t\t\t\tfor ( let x = 0; x < maxX; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tdataView.setUint16( offset + x * INT16_SIZE * type, rowBlock[ comp ][ src + x ], true );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // comp\r\n\r\n\t\t\t} // blocky\r\n\r\n\t\t\tvar halfRow = new Uint16Array( width );\r\n\t\t\tvar dataView = new DataView( outBuffer.buffer );\r\n\r\n\t\t\t// convert channels back to float, if needed\r\n\t\t\tfor ( var comp = 0; comp < numComp; ++ comp ) {\r\n\r\n\t\t\t\tchannelData[ cscSet.idx[ comp ] ].decoded = true;\r\n\t\t\t\tvar type = channelData[ cscSet.idx[ comp ] ].type;\r\n\r\n\t\t\t\tif ( channelData[ comp ].type != 2 ) continue;\r\n\r\n\t\t\t\tfor ( var y = 0; y < height; ++ y ) {\r\n\r\n\t\t\t\t\tconst offset = rowOffsets[ comp ][ y ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\thalfRow[ x ] = dataView.getUint16( offset + x * INT16_SIZE * type, true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; ++ x ) {\r\n\r\n\t\t\t\t\t\tdataView.setFloat32( offset + x * INT16_SIZE * type, decodeFloat16( halfRow[ x ] ), true );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unRleAC( currAcComp, acBuffer, halfZigBlock ) {\r\n\r\n\t\t\tvar acValue;\r\n\t\t\tvar dctComp = 1;\r\n\r\n\t\t\twhile ( dctComp < 64 ) {\r\n\r\n\t\t\t\tacValue = acBuffer[ currAcComp.value ];\r\n\r\n\t\t\t\tif ( acValue == 0xff00 ) {\r\n\r\n\t\t\t\t\tdctComp = 64;\r\n\r\n\t\t\t\t} else if ( acValue >> 8 == 0xff ) {\r\n\r\n\t\t\t\t\tdctComp += acValue & 0xff;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\thalfZigBlock[ dctComp ] = acValue;\r\n\t\t\t\t\tdctComp ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrAcComp.value ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction unZigZag( src, dst ) {\r\n\r\n\t\t\tdst[ 0 ] = decodeFloat16( src[ 0 ] );\r\n\t\t\tdst[ 1 ] = decodeFloat16( src[ 1 ] );\r\n\t\t\tdst[ 2 ] = decodeFloat16( src[ 5 ] );\r\n\t\t\tdst[ 3 ] = decodeFloat16( src[ 6 ] );\r\n\t\t\tdst[ 4 ] = decodeFloat16( src[ 14 ] );\r\n\t\t\tdst[ 5 ] = decodeFloat16( src[ 15 ] );\r\n\t\t\tdst[ 6 ] = decodeFloat16( src[ 27 ] );\r\n\t\t\tdst[ 7 ] = decodeFloat16( src[ 28 ] );\r\n\t\t\tdst[ 8 ] = decodeFloat16( src[ 2 ] );\r\n\t\t\tdst[ 9 ] = decodeFloat16( src[ 4 ] );\r\n\r\n\t\t\tdst[ 10 ] = decodeFloat16( src[ 7 ] );\r\n\t\t\tdst[ 11 ] = decodeFloat16( src[ 13 ] );\r\n\t\t\tdst[ 12 ] = decodeFloat16( src[ 16 ] );\r\n\t\t\tdst[ 13 ] = decodeFloat16( src[ 26 ] );\r\n\t\t\tdst[ 14 ] = decodeFloat16( src[ 29 ] );\r\n\t\t\tdst[ 15 ] = decodeFloat16( src[ 42 ] );\r\n\t\t\tdst[ 16 ] = decodeFloat16( src[ 3 ] );\r\n\t\t\tdst[ 17 ] = decodeFloat16( src[ 8 ] );\r\n\t\t\tdst[ 18 ] = decodeFloat16( src[ 12 ] );\r\n\t\t\tdst[ 19 ] = decodeFloat16( src[ 17 ] );\r\n\r\n\t\t\tdst[ 20 ] = decodeFloat16( src[ 25 ] );\r\n\t\t\tdst[ 21 ] = decodeFloat16( src[ 30 ] );\r\n\t\t\tdst[ 22 ] = decodeFloat16( src[ 41 ] );\r\n\t\t\tdst[ 23 ] = decodeFloat16( src[ 43 ] );\r\n\t\t\tdst[ 24 ] = decodeFloat16( src[ 9 ] );\r\n\t\t\tdst[ 25 ] = decodeFloat16( src[ 11 ] );\r\n\t\t\tdst[ 26 ] = decodeFloat16( src[ 18 ] );\r\n\t\t\tdst[ 27 ] = decodeFloat16( src[ 24 ] );\r\n\t\t\tdst[ 28 ] = decodeFloat16( src[ 31 ] );\r\n\t\t\tdst[ 29 ] = decodeFloat16( src[ 40 ] );\r\n\r\n\t\t\tdst[ 30 ] = decodeFloat16( src[ 44 ] );\r\n\t\t\tdst[ 31 ] = decodeFloat16( src[ 53 ] );\r\n\t\t\tdst[ 32 ] = decodeFloat16( src[ 10 ] );\r\n\t\t\tdst[ 33 ] = decodeFloat16( src[ 19 ] );\r\n\t\t\tdst[ 34 ] = decodeFloat16( src[ 23 ] );\r\n\t\t\tdst[ 35 ] = decodeFloat16( src[ 32 ] );\r\n\t\t\tdst[ 36 ] = decodeFloat16( src[ 39 ] );\r\n\t\t\tdst[ 37 ] = decodeFloat16( src[ 45 ] );\r\n\t\t\tdst[ 38 ] = decodeFloat16( src[ 52 ] );\r\n\t\t\tdst[ 39 ] = decodeFloat16( src[ 54 ] );\r\n\r\n\t\t\tdst[ 40 ] = decodeFloat16( src[ 20 ] );\r\n\t\t\tdst[ 41 ] = decodeFloat16( src[ 22 ] );\r\n\t\t\tdst[ 42 ] = decodeFloat16( src[ 33 ] );\r\n\t\t\tdst[ 43 ] = decodeFloat16( src[ 38 ] );\r\n\t\t\tdst[ 44 ] = decodeFloat16( src[ 46 ] );\r\n\t\t\tdst[ 45 ] = decodeFloat16( src[ 51 ] );\r\n\t\t\tdst[ 46 ] = decodeFloat16( src[ 55 ] );\r\n\t\t\tdst[ 47 ] = decodeFloat16( src[ 60 ] );\r\n\t\t\tdst[ 48 ] = decodeFloat16( src[ 21 ] );\r\n\t\t\tdst[ 49 ] = decodeFloat16( src[ 34 ] );\r\n\r\n\t\t\tdst[ 50 ] = decodeFloat16( src[ 37 ] );\r\n\t\t\tdst[ 51 ] = decodeFloat16( src[ 47 ] );\r\n\t\t\tdst[ 52 ] = decodeFloat16( src[ 50 ] );\r\n\t\t\tdst[ 53 ] = decodeFloat16( src[ 56 ] );\r\n\t\t\tdst[ 54 ] = decodeFloat16( src[ 59 ] );\r\n\t\t\tdst[ 55 ] = decodeFloat16( src[ 61 ] );\r\n\t\t\tdst[ 56 ] = decodeFloat16( src[ 35 ] );\r\n\t\t\tdst[ 57 ] = decodeFloat16( src[ 36 ] );\r\n\t\t\tdst[ 58 ] = decodeFloat16( src[ 48 ] );\r\n\t\t\tdst[ 59 ] = decodeFloat16( src[ 49 ] );\r\n\r\n\t\t\tdst[ 60 ] = decodeFloat16( src[ 57 ] );\r\n\t\t\tdst[ 61 ] = decodeFloat16( src[ 58 ] );\r\n\t\t\tdst[ 62 ] = decodeFloat16( src[ 62 ] );\r\n\t\t\tdst[ 63 ] = decodeFloat16( src[ 63 ] );\r\n\r\n\t\t}\r\n\r\n\t\tfunction dctInverse( data ) {\r\n\r\n\t\t\tconst a = 0.5 * Math.cos( 3.14159 / 4.0 );\r\n\t\t\tconst b = 0.5 * Math.cos( 3.14159 / 16.0 );\r\n\t\t\tconst c = 0.5 * Math.cos( 3.14159 / 8.0 );\r\n\t\t\tconst d = 0.5 * Math.cos( 3.0 * 3.14159 / 16.0 );\r\n\t\t\tconst e = 0.5 * Math.cos( 5.0 * 3.14159 / 16.0 );\r\n\t\t\tconst f = 0.5 * Math.cos( 3.0 * 3.14159 / 8.0 );\r\n\t\t\tconst g = 0.5 * Math.cos( 7.0 * 3.14159 / 16.0 );\r\n\r\n\t\t\tvar alpha = new Array( 4 );\r\n\t\t\tvar beta = new Array( 4 );\r\n\t\t\tvar theta = new Array( 4 );\r\n\t\t\tvar gamma = new Array( 4 );\r\n\r\n\t\t\tfor ( var row = 0; row < 8; ++ row ) {\r\n\r\n\t\t\t\tvar rowPtr = row * 8;\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 1 ] = f * data[ rowPtr + 2 ];\r\n\t\t\t\talpha[ 2 ] = c * data[ rowPtr + 6 ];\r\n\t\t\t\talpha[ 3 ] = f * data[ rowPtr + 6 ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ rowPtr + 1 ] + d * data[ rowPtr + 3 ] + e * data[ rowPtr + 5 ] + g * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ rowPtr + 1 ] - g * data[ rowPtr + 3 ] - b * data[ rowPtr + 5 ] - e * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ rowPtr + 1 ] - b * data[ rowPtr + 3 ] + g * data[ rowPtr + 5 ] + d * data[ rowPtr + 7 ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ rowPtr + 1 ] - e * data[ rowPtr + 3 ] + d * data[ rowPtr + 5 ] - b * data[ rowPtr + 7 ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ rowPtr + 0 ] + data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ rowPtr + 0 ] - data[ rowPtr + 4 ] );\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 0 ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ rowPtr + 1 ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 2 ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 3 ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ rowPtr + 4 ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ rowPtr + 5 ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ rowPtr + 6 ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ rowPtr + 7 ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var column = 0; column < 8; ++ column ) {\r\n\r\n\t\t\t\talpha[ 0 ] = c * data[ 16 + column ];\r\n\t\t\t\talpha[ 1 ] = f * data[ 16 + column ];\r\n\t\t\t\talpha[ 2 ] = c * data[ 48 + column ];\r\n\t\t\t\talpha[ 3 ] = f * data[ 48 + column ];\r\n\r\n\t\t\t\tbeta[ 0 ] = b * data[ 8 + column ] + d * data[ 24 + column ] + e * data[ 40 + column ] + g * data[ 56 + column ];\r\n\t\t\t\tbeta[ 1 ] = d * data[ 8 + column ] - g * data[ 24 + column ] - b * data[ 40 + column ] - e * data[ 56 + column ];\r\n\t\t\t\tbeta[ 2 ] = e * data[ 8 + column ] - b * data[ 24 + column ] + g * data[ 40 + column ] + d * data[ 56 + column ];\r\n\t\t\t\tbeta[ 3 ] = g * data[ 8 + column ] - e * data[ 24 + column ] + d * data[ 40 + column ] - b * data[ 56 + column ];\r\n\r\n\t\t\t\ttheta[ 0 ] = a * ( data[ column ] + data[ 32 + column ] );\r\n\t\t\t\ttheta[ 3 ] = a * ( data[ column ] - data[ 32 + column ] );\r\n\r\n\t\t\t\ttheta[ 1 ] = alpha[ 0 ] + alpha[ 3 ];\r\n\t\t\t\ttheta[ 2 ] = alpha[ 1 ] - alpha[ 2 ];\r\n\r\n\t\t\t\tgamma[ 0 ] = theta[ 0 ] + theta[ 1 ];\r\n\t\t\t\tgamma[ 1 ] = theta[ 3 ] + theta[ 2 ];\r\n\t\t\t\tgamma[ 2 ] = theta[ 3 ] - theta[ 2 ];\r\n\t\t\t\tgamma[ 3 ] = theta[ 0 ] - theta[ 1 ];\r\n\r\n\t\t\t\tdata[ 0 + column ] = gamma[ 0 ] + beta[ 0 ];\r\n\t\t\t\tdata[ 8 + column ] = gamma[ 1 ] + beta[ 1 ];\r\n\t\t\t\tdata[ 16 + column ] = gamma[ 2 ] + beta[ 2 ];\r\n\t\t\t\tdata[ 24 + column ] = gamma[ 3 ] + beta[ 3 ];\r\n\r\n\t\t\t\tdata[ 32 + column ] = gamma[ 3 ] - beta[ 3 ];\r\n\t\t\t\tdata[ 40 + column ] = gamma[ 2 ] - beta[ 2 ];\r\n\t\t\t\tdata[ 48 + column ] = gamma[ 1 ] - beta[ 1 ];\r\n\t\t\t\tdata[ 56 + column ] = gamma[ 0 ] - beta[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction csc709Inverse( data ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tvar y = data[ 0 ][ i ];\r\n\t\t\t\tvar cb = data[ 1 ][ i ];\r\n\t\t\t\tvar cr = data[ 2 ][ i ];\r\n\r\n\t\t\t\tdata[ 0 ][ i ] = y + 1.5747 * cr;\r\n\t\t\t\tdata[ 1 ][ i ] = y - 0.1873 * cb - 0.4682 * cr;\r\n\t\t\t\tdata[ 2 ][ i ] = y + 1.8556 * cb;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction convertToHalf( src, dst, idx ) {\r\n\r\n\t\t\tfor ( var i = 0; i < 64; ++ i ) {\r\n\r\n\t\t\t\tdst[ idx + i ] = DataUtils.toHalfFloat( toLinear( src[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction toLinear( float ) {\r\n\r\n\t\t\tif ( float <= 1 ) {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( Math.abs( float ), 2.2 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn Math.sign( float ) * Math.pow( logBase, Math.abs( float ) - 1.0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRAW( info ) {\r\n\r\n\t\t\treturn new DataView( info.array.buffer, info.offset.value, info.size );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressRLE( info ) {\r\n\r\n\t\t\tvar compressed = info.viewer.buffer.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( decodeRunLength( compressed ) );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressZIP( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\r\n\t\t\tvar rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\t\t\tvar tmpBuffer = new Uint8Array( rawBuffer.length );\r\n\r\n\t\t\tpredictor( rawBuffer ); // revert predictor\r\n\r\n\t\t\tinterleaveScalar( rawBuffer, tmpBuffer ); // interleave pixels\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPIZ( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\r\n\t\t\tvar tmpBufSize = info.width * scanlineBlockSize * ( EXRHeader.channels.length * info.type );\r\n\t\t\tvar outBuffer = new Uint16Array( tmpBufSize );\r\n\t\t\tvar bitmap = new Uint8Array( BITMAP_SIZE );\r\n\r\n\t\t\t// Setup channel info\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar pizChannelData = new Array( info.channels );\r\n\t\t\tfor ( var i = 0; i < info.channels; i ++ ) {\r\n\r\n\t\t\t\tpizChannelData[ i ] = {};\r\n\t\t\t\tpizChannelData[ i ][ 'start' ] = outBufferEnd;\r\n\t\t\t\tpizChannelData[ i ][ 'end' ] = pizChannelData[ i ][ 'start' ];\r\n\t\t\t\tpizChannelData[ i ][ 'nx' ] = info.width;\r\n\t\t\t\tpizChannelData[ i ][ 'ny' ] = info.lines;\r\n\t\t\t\tpizChannelData[ i ][ 'size' ] = info.type;\r\n\r\n\t\t\t\toutBufferEnd += pizChannelData[ i ].nx * pizChannelData[ i ].ny * pizChannelData[ i ].size;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read range compression data\r\n\t\t\tvar minNonZero = parseUint16( inDataView, inOffset );\r\n\t\t\tvar maxNonZero = parseUint16( inDataView, inOffset );\r\n\r\n\t\t\tif ( maxNonZero >= BITMAP_SIZE ) {\r\n\r\n\t\t\t\tthrow 'Something is wrong with PIZ_COMPRESSION BITMAP_SIZE';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( minNonZero <= maxNonZero ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < maxNonZero - minNonZero + 1; i ++ ) {\r\n\r\n\t\t\t\t\tbitmap[ i + minNonZero ] = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Reverse LUT\r\n\t\t\tvar lut = new Uint16Array( USHORT_RANGE );\r\n\t\t\tvar maxValue = reverseLutFromBitmap( bitmap, lut );\r\n\r\n\t\t\tvar length = parseUint32( inDataView, inOffset );\r\n\r\n\t\t\t// Huffman decoding\r\n\t\t\thufUncompress( info.array, inDataView, inOffset, length, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Wavelet decoding\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = pizChannelData[ i ];\r\n\r\n\t\t\t\tfor ( var j = 0; j < pizChannelData[ i ].size; ++ j ) {\r\n\r\n\t\t\t\t\twav2Decode(\r\n\t\t\t\t\t\toutBuffer,\r\n\t\t\t\t\t\tcd.start + j,\r\n\t\t\t\t\t\tcd.nx,\r\n\t\t\t\t\t\tcd.size,\r\n\t\t\t\t\t\tcd.ny,\r\n\t\t\t\t\t\tcd.nx * cd.size,\r\n\t\t\t\t\t\tmaxValue\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Expand the pixel data to their original range\r\n\t\t\tapplyLut( lut, outBuffer, outBufferEnd );\r\n\r\n\t\t\t// Rearrange the pixel data into the format expected by the caller.\r\n\t\t\tvar tmpOffset = 0;\r\n\t\t\tvar tmpBuffer = new Uint8Array( outBuffer.buffer.byteLength );\r\n\t\t\tfor ( var y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( var c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tvar cd = pizChannelData[ c ];\r\n\r\n\t\t\t\t\tvar n = cd.nx * cd.size;\r\n\t\t\t\t\tvar cp = new Uint8Array( outBuffer.buffer, cd.end * INT16_SIZE, n * INT16_SIZE );\r\n\r\n\t\t\t\t\ttmpBuffer.set( cp, tmpOffset );\r\n\t\t\t\t\ttmpOffset += n * INT16_SIZE;\r\n\t\t\t\t\tcd.end += n;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressPXR( info ) {\r\n\r\n\t\t\tvar compressed = info.array.slice( info.offset.value, info.offset.value + info.size );\r\n\r\n\t\t\tif ( typeof Inflate === 'undefined' ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\tconst rawBuffer = new Uint8Array( inflate.decompress().buffer );\r\n\r\n\t\t\tconst sz = info.lines * info.channels * info.width;\r\n\t\t\tconst tmpBuffer = ( info.type == 1 ) ? new Uint16Array( sz ) : new Uint32Array( sz );\r\n\r\n\t\t\tlet tmpBufferEnd = 0;\r\n\t\t\tlet writePtr = 0;\r\n\t\t\tconst ptr = new Array( 4 );\r\n\r\n\t\t\tfor ( let y = 0; y < info.lines; y ++ ) {\r\n\r\n\t\t\t\tfor ( let c = 0; c < info.channels; c ++ ) {\r\n\r\n\t\t\t\t\tlet pixel = 0;\r\n\r\n\t\t\t\t\tswitch ( info.type ) {\r\n\r\n\t\t\t\t\t\tcase 1:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 1 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 8 ) | rawBuffer[ ptr[ 1 ] ++ ];\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 2:\r\n\r\n\t\t\t\t\t\t\tptr[ 0 ] = tmpBufferEnd;\r\n\t\t\t\t\t\t\tptr[ 1 ] = ptr[ 0 ] + info.width;\r\n\t\t\t\t\t\t\tptr[ 2 ] = ptr[ 1 ] + info.width;\r\n\t\t\t\t\t\t\ttmpBufferEnd = ptr[ 2 ] + info.width;\r\n\r\n\t\t\t\t\t\t\tfor ( let j = 0; j < info.width; ++ j ) {\r\n\r\n\t\t\t\t\t\t\t\tconst diff = ( rawBuffer[ ptr[ 0 ] ++ ] << 24 ) | ( rawBuffer[ ptr[ 1 ] ++ ] << 16 ) | ( rawBuffer[ ptr[ 2 ] ++ ] << 8 );\r\n\r\n\t\t\t\t\t\t\t\tpixel += diff;\r\n\r\n\t\t\t\t\t\t\t\ttmpBuffer[ writePtr ] = pixel;\r\n\t\t\t\t\t\t\t\twritePtr ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( tmpBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction uncompressDWA( info ) {\r\n\r\n\t\t\tvar inDataView = info.viewer;\r\n\t\t\tvar inOffset = { value: info.offset.value };\r\n\t\t\tvar outBuffer = new Uint8Array( info.width * info.lines * ( EXRHeader.channels.length * info.type * INT16_SIZE ) );\r\n\r\n\t\t\t// Read compression header information\r\n\t\t\tvar dwaHeader = {\r\n\r\n\t\t\t\tversion: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tunknownCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tdcCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleCompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleUncompressedSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\trleRawSize: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalAcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\ttotalDcUncompressedCount: parseInt64( inDataView, inOffset ),\r\n\t\t\t\tacCompression: parseInt64( inDataView, inOffset )\r\n\r\n\t\t\t};\r\n\r\n\t\t\tif ( dwaHeader.version < 2 )\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' version ' + dwaHeader.version + ' is unsupported';\r\n\r\n\t\t\t// Read channel ruleset information\r\n\t\t\tvar channelRules = new Array();\r\n\t\t\tvar ruleSize = parseUint16( inDataView, inOffset ) - INT16_SIZE;\r\n\r\n\t\t\twhile ( ruleSize > 0 ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( inDataView.buffer, inOffset );\r\n\t\t\t\tvar value = parseUint8( inDataView, inOffset );\r\n\t\t\t\tvar compression = ( value >> 2 ) & 3;\r\n\t\t\t\tvar csc = ( value >> 4 ) - 1;\r\n\t\t\t\tvar index = new Int8Array( [ csc ] )[ 0 ];\r\n\t\t\t\tvar type = parseUint8( inDataView, inOffset );\r\n\r\n\t\t\t\tchannelRules.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tcompression: compression,\r\n\t\t\t\t} );\r\n\r\n\t\t\t\truleSize -= name.length + 3;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Classify channels\r\n\t\t\tvar channels = EXRHeader.channels;\r\n\t\t\tvar channelData = new Array( info.channels );\r\n\r\n\t\t\tfor ( var i = 0; i < info.channels; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ] = {};\r\n\t\t\t\tvar channel = channels[ i ];\r\n\r\n\t\t\t\tcd.name = channel.name;\r\n\t\t\t\tcd.compression = UNKNOWN;\r\n\t\t\t\tcd.decoded = false;\r\n\t\t\t\tcd.type = channel.pixelType;\r\n\t\t\t\tcd.pLinear = channel.pLinear;\r\n\t\t\t\tcd.width = info.width;\r\n\t\t\t\tcd.height = info.lines;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar cscSet = {\r\n\t\t\t\tidx: new Array( 3 )\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var offset = 0; offset < info.channels; ++ offset ) {\r\n\r\n\t\t\t\tvar cd = channelData[ offset ];\r\n\r\n\t\t\t\tfor ( var i = 0; i < channelRules.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar rule = channelRules[ i ];\r\n\r\n\t\t\t\t\tif ( cd.name == rule.name ) {\r\n\r\n\t\t\t\t\t\tcd.compression = rule.compression;\r\n\r\n\t\t\t\t\t\tif ( rule.index >= 0 ) {\r\n\r\n\t\t\t\t\t\t\tcscSet.idx[ rule.index ] = offset;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcd.offset = offset;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - AC component data\r\n\t\t\tif ( dwaHeader.acCompressedSize > 0 ) {\r\n\r\n\t\t\t\tswitch ( dwaHeader.acCompression ) {\r\n\r\n\t\t\t\t\tcase STATIC_HUFFMAN:\r\n\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\thufUncompress( info.array, inDataView, inOffset, dwaHeader.acCompressedSize, acBuffer, dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase DEFLATE:\r\n\r\n\t\t\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.totalAcUncompressedCount );\r\n\t\t\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\t\t\tvar acBuffer = new Uint16Array( inflate.decompress().buffer );\r\n\t\t\t\t\t\tinOffset.value += dwaHeader.totalAcUncompressedCount;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read DCT - DC component data\r\n\t\t\tif ( dwaHeader.dcCompressedSize > 0 ) {\r\n\r\n\t\t\t\tvar zlibInfo = {\r\n\t\t\t\t\tarray: info.array,\r\n\t\t\t\t\toffset: inOffset,\r\n\t\t\t\t\tsize: dwaHeader.dcCompressedSize\r\n\t\t\t\t};\r\n\t\t\t\tvar dcBuffer = new Uint16Array( uncompressZIP( zlibInfo ).buffer );\r\n\t\t\t\tinOffset.value += dwaHeader.dcCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Read RLE compressed data\r\n\t\t\tif ( dwaHeader.rleRawSize > 0 ) {\r\n\r\n\t\t\t\tvar compressed = info.array.slice( inOffset.value, inOffset.value + dwaHeader.rleCompressedSize );\r\n\t\t\t\tvar inflate = new Inflate( compressed, { resize: true, verify: true } ); // eslint-disable-line no-undef\r\n\t\t\t\tvar rleBuffer = decodeRunLength( inflate.decompress().buffer );\r\n\r\n\t\t\t\tinOffset.value += dwaHeader.rleCompressedSize;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Prepare outbuffer data offset\r\n\t\t\tvar outBufferEnd = 0;\r\n\t\t\tvar rowOffsets = new Array( channelData.length );\r\n\t\t\tfor ( var i = 0; i < rowOffsets.length; ++ i ) {\r\n\r\n\t\t\t\trowOffsets[ i ] = new Array();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\tfor ( var chan = 0; chan < channelData.length; ++ chan ) {\r\n\r\n\t\t\t\t\trowOffsets[ chan ].push( outBufferEnd );\r\n\t\t\t\t\toutBufferEnd += channelData[ chan ].width * info.type * INT16_SIZE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Lossy DCT decode RGB channels\r\n\t\t\tlossyDctDecode( cscSet, rowOffsets, channelData, acBuffer, dcBuffer, outBuffer );\r\n\r\n\t\t\t// Decode other channels\r\n\t\t\tfor ( var i = 0; i < channelData.length; ++ i ) {\r\n\r\n\t\t\t\tvar cd = channelData[ i ];\r\n\r\n\t\t\t\tif ( cd.decoded ) continue;\r\n\r\n\t\t\t\tswitch ( cd.compression ) {\r\n\r\n\t\t\t\t\tcase RLE:\r\n\r\n\t\t\t\t\t\tvar row = 0;\r\n\t\t\t\t\t\tvar rleOffset = 0;\r\n\r\n\t\t\t\t\t\tfor ( var y = 0; y < info.lines; ++ y ) {\r\n\r\n\t\t\t\t\t\t\tvar rowOffsetBytes = rowOffsets[ i ][ row ];\r\n\r\n\t\t\t\t\t\t\tfor ( var x = 0; x < cd.width; ++ x ) {\r\n\r\n\t\t\t\t\t\t\t\tfor ( var byte = 0; byte < INT16_SIZE * cd.type; ++ byte ) {\r\n\r\n\t\t\t\t\t\t\t\t\toutBuffer[ rowOffsetBytes ++ ] = rleBuffer[ rleOffset + byte * cd.width * cd.height ];\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\trleOffset ++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trow ++;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase LOSSY_DCT: // skip\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow 'EXRLoader.parse: unsupported channel compression';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new DataView( outBuffer.buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseNullTerminatedString( buffer, offset ) {\r\n\r\n\t\t\tvar uintBuffer = new Uint8Array( buffer );\r\n\t\t\tvar endOffset = 0;\r\n\r\n\t\t\twhile ( uintBuffer[ offset.value + endOffset ] != 0 ) {\r\n\r\n\t\t\t\tendOffset += 1;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tuintBuffer.slice( offset.value, offset.value + endOffset )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + endOffset + 1;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFixedLengthString( buffer, offset, size ) {\r\n\r\n\t\t\tvar stringValue = new TextDecoder().decode(\r\n\t\t\t\tnew Uint8Array( buffer ).slice( offset.value, offset.value + size )\r\n\t\t\t);\r\n\r\n\t\t\toffset.value = offset.value + size;\r\n\r\n\t\t\treturn stringValue;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUlong( dataView, offset ) {\r\n\r\n\t\t\tvar uLong = dataView.getUint32( 0, true );\r\n\r\n\t\t\toffset.value = offset.value + ULONG_SIZE;\r\n\r\n\t\t\treturn uLong;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseRational( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseInt32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseTimecode( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseUint32( dataView, offset );\r\n\t\t\tvar y = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt32( dataView, offset ) {\r\n\r\n\t\t\tvar Int32 = dataView.getInt32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Int32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint32( dataView, offset ) {\r\n\r\n\t\t\tvar Uint32 = dataView.getUint32( offset.value, true );\r\n\r\n\t\t\toffset.value = offset.value + INT32_SIZE;\r\n\r\n\t\t\treturn Uint32;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8Array( uInt8Array, offset ) {\r\n\r\n\t\t\tvar Uint8 = uInt8Array[ offset.value ];\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint8( dataView, offset ) {\r\n\r\n\t\t\tvar Uint8 = dataView.getUint8( offset.value );\r\n\r\n\t\t\toffset.value = offset.value + INT8_SIZE;\r\n\r\n\t\t\treturn Uint8;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInt64( dataView, offset ) {\r\n\r\n\t\t\tvar int = Number( dataView.getBigInt64( offset.value, true ) );\r\n\r\n\t\t\toffset.value += ULONG_SIZE;\r\n\r\n\t\t\treturn int;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat32( dataView, offset ) {\r\n\r\n\t\t\tvar float = dataView.getFloat32( offset.value, true );\r\n\r\n\t\t\toffset.value += FLOAT32_SIZE;\r\n\r\n\t\t\treturn float;\r\n\r\n\t\t}\r\n\r\n\t\tfunction decodeFloat32( dataView, offset ) {\r\n\r\n\t\t\treturn DataUtils.toHalfFloat( parseFloat32( dataView, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\t// https://stackoverflow.com/questions/5678432/decompressing-half-precision-floats-in-javascript\r\n\t\tfunction decodeFloat16( binary ) {\r\n\r\n\t\t\tvar exponent = ( binary & 0x7C00 ) >> 10,\r\n\t\t\t\tfraction = binary & 0x03FF;\r\n\r\n\t\t\treturn ( binary >> 15 ? - 1 : 1 ) * (\r\n\t\t\t\texponent ?\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\texponent === 0x1F ?\r\n\t\t\t\t\t\t\tfraction ? NaN : Infinity :\r\n\t\t\t\t\t\t\tMath.pow( 2, exponent - 15 ) * ( 1 + fraction / 0x400 )\r\n\t\t\t\t\t) :\r\n\t\t\t\t\t6.103515625e-5 * ( fraction / 0x400 )\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseUint16( dataView, offset ) {\r\n\r\n\t\t\tvar Uint16 = dataView.getUint16( offset.value, true );\r\n\r\n\t\t\toffset.value += INT16_SIZE;\r\n\r\n\t\t\treturn Uint16;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloat16( buffer, offset ) {\r\n\r\n\t\t\treturn decodeFloat16( parseUint16( buffer, offset ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChlist( dataView, buffer, offset, size ) {\r\n\r\n\t\t\tvar startOffset = offset.value;\r\n\t\t\tvar channels = [];\r\n\r\n\t\t\twhile ( offset.value < ( startOffset + size - 1 ) ) {\r\n\r\n\t\t\t\tvar name = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar pixelType = parseInt32( dataView, offset );\r\n\t\t\t\tvar pLinear = parseUint8( dataView, offset );\r\n\t\t\t\toffset.value += 3; // reserved, three chars\r\n\t\t\t\tvar xSampling = parseInt32( dataView, offset );\r\n\t\t\t\tvar ySampling = parseInt32( dataView, offset );\r\n\r\n\t\t\t\tchannels.push( {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tpixelType: pixelType,\r\n\t\t\t\t\tpLinear: pLinear,\r\n\t\t\t\t\txSampling: xSampling,\r\n\t\t\t\t\tySampling: ySampling\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.value += 1;\r\n\r\n\t\t\treturn channels;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseChromaticities( dataView, offset ) {\r\n\r\n\t\t\tvar redX = parseFloat32( dataView, offset );\r\n\t\t\tvar redY = parseFloat32( dataView, offset );\r\n\t\t\tvar greenX = parseFloat32( dataView, offset );\r\n\t\t\tvar greenY = parseFloat32( dataView, offset );\r\n\t\t\tvar blueX = parseFloat32( dataView, offset );\r\n\t\t\tvar blueY = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteX = parseFloat32( dataView, offset );\r\n\t\t\tvar whiteY = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn { redX: redX, redY: redY, greenX: greenX, greenY: greenY, blueX: blueX, blueY: blueY, whiteX: whiteX, whiteY: whiteY };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseCompression( dataView, offset ) {\r\n\r\n\t\t\tvar compressionCodes = [\r\n\t\t\t\t'NO_COMPRESSION',\r\n\t\t\t\t'RLE_COMPRESSION',\r\n\t\t\t\t'ZIPS_COMPRESSION',\r\n\t\t\t\t'ZIP_COMPRESSION',\r\n\t\t\t\t'PIZ_COMPRESSION',\r\n\t\t\t\t'PXR24_COMPRESSION',\r\n\t\t\t\t'B44_COMPRESSION',\r\n\t\t\t\t'B44A_COMPRESSION',\r\n\t\t\t\t'DWAA_COMPRESSION',\r\n\t\t\t\t'DWAB_COMPRESSION'\r\n\t\t\t];\r\n\r\n\t\t\tvar compression = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn compressionCodes[ compression ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseBox2i( dataView, offset ) {\r\n\r\n\t\t\tvar xMin = parseUint32( dataView, offset );\r\n\t\t\tvar yMin = parseUint32( dataView, offset );\r\n\t\t\tvar xMax = parseUint32( dataView, offset );\r\n\t\t\tvar yMax = parseUint32( dataView, offset );\r\n\r\n\t\t\treturn { xMin: xMin, yMin: yMin, xMax: xMax, yMax: yMax };\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseLineOrder( dataView, offset ) {\r\n\r\n\t\t\tvar lineOrders = [\r\n\t\t\t\t'INCREASING_Y'\r\n\t\t\t];\r\n\r\n\t\t\tvar lineOrder = parseUint8( dataView, offset );\r\n\r\n\t\t\treturn lineOrders[ lineOrder ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV2f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseV3f( dataView, offset ) {\r\n\r\n\t\t\tvar x = parseFloat32( dataView, offset );\r\n\t\t\tvar y = parseFloat32( dataView, offset );\r\n\t\t\tvar z = parseFloat32( dataView, offset );\r\n\r\n\t\t\treturn [ x, y, z ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseValue( dataView, buffer, offset, type, size ) {\r\n\r\n\t\t\tif ( type === 'string' || type === 'stringvector' || type === 'iccProfile' ) {\r\n\r\n\t\t\t\treturn parseFixedLengthString( buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chlist' ) {\r\n\r\n\t\t\t\treturn parseChlist( dataView, buffer, offset, size );\r\n\r\n\t\t\t} else if ( type === 'chromaticities' ) {\r\n\r\n\t\t\t\treturn parseChromaticities( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'compression' ) {\r\n\r\n\t\t\t\treturn parseCompression( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'box2i' ) {\r\n\r\n\t\t\t\treturn parseBox2i( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'lineOrder' ) {\r\n\r\n\t\t\t\treturn parseLineOrder( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'float' ) {\r\n\r\n\t\t\t\treturn parseFloat32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v2f' ) {\r\n\r\n\t\t\t\treturn parseV2f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'v3f' ) {\r\n\r\n\t\t\t\treturn parseV3f( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'int' ) {\r\n\r\n\t\t\t\treturn parseInt32( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'rational' ) {\r\n\r\n\t\t\t\treturn parseRational( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'timecode' ) {\r\n\r\n\t\t\t\treturn parseTimecode( dataView, offset );\r\n\r\n\t\t\t} else if ( type === 'preview' ) {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn 'skipped';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toffset.value += size;\r\n\t\t\t\treturn undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar bufferDataView = new DataView( buffer );\r\n\t\tvar uInt8Array = new Uint8Array( buffer );\r\n\r\n\t\tvar EXRHeader = {};\r\n\r\n\t\tbufferDataView.getUint32( 0, true ); // magic\r\n\t\tbufferDataView.getUint8( 4, true ); // versionByteZero\r\n\t\tbufferDataView.getUint8( 5, true ); // fullMask\r\n\r\n\t\t// start of header\r\n\r\n\t\tvar offset = { value: 8 }; // start at 8, after magic stuff\r\n\r\n\t\tvar keepReading = true;\r\n\r\n\t\twhile ( keepReading ) {\r\n\r\n\t\t\tvar attributeName = parseNullTerminatedString( buffer, offset );\r\n\r\n\t\t\tif ( attributeName == 0 ) {\r\n\r\n\t\t\t\tkeepReading = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar attributeType = parseNullTerminatedString( buffer, offset );\r\n\t\t\t\tvar attributeSize = parseUint32( bufferDataView, offset );\r\n\t\t\t\tvar attributeValue = parseValue( bufferDataView, buffer, offset, attributeType, attributeSize );\r\n\r\n\t\t\t\tif ( attributeValue === undefined ) {\r\n\r\n\t\t\t\t\tconsole.warn( `EXRLoader.parse: skipped unknown header attribute type \\'${ attributeType }\\'.` );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tEXRHeader[ attributeName ] = attributeValue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// offsets\r\n\t\tvar dataWindowHeight = EXRHeader.dataWindow.yMax + 1;\r\n\r\n\t\tvar uncompress;\r\n\t\tvar scanlineBlockSize;\r\n\r\n\t\tswitch ( EXRHeader.compression ) {\r\n\r\n\t\t\tcase 'NO_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRAW;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'RLE_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressRLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIPS_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 1;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ZIP_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressZIP;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PIZ_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressPIZ;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'PXR24_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 16;\r\n\t\t\t\tuncompress = uncompressPXR;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAA_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 32;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'DWAB_COMPRESSION':\r\n\r\n\t\t\t\tscanlineBlockSize = 256;\r\n\t\t\t\tuncompress = uncompressDWA;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tthrow 'EXRLoader.parse: ' + EXRHeader.compression + ' is unsupported';\r\n\r\n\t\t}\r\n\r\n\t\tvar size_t;\r\n\t\tvar getValue;\r\n\r\n\t\t// mixed pixelType not supported\r\n\t\tvar pixelType = EXRHeader.channels[ 0 ].pixelType;\r\n\r\n\t\tif ( pixelType === 1 ) { // half\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = parseUint16;\r\n\t\t\t\t\tsize_t = INT16_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( pixelType === 2 ) { // float\r\n\r\n\t\t\tswitch ( this.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\t\t\t\tcase FloatType:\r\n\r\n\t\t\t\t\tgetValue = parseFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\tgetValue = decodeFloat32;\r\n\t\t\t\t\tsize_t = FLOAT32_SIZE;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow 'EXRLoader.parse: unsupported pixelType ' + pixelType + ' for ' + EXRHeader.compression + '.';\r\n\r\n\t\t}\r\n\r\n\t\tvar numBlocks = dataWindowHeight / scanlineBlockSize;\r\n\r\n\t\tfor ( var i = 0; i < numBlocks; i ++ ) {\r\n\r\n\t\t\tparseUlong( bufferDataView, offset ); // scanlineOffset\r\n\r\n\t\t}\r\n\r\n\t\t// we should be passed the scanline offset table, start reading pixel data\r\n\r\n\t\tvar width = EXRHeader.dataWindow.xMax - EXRHeader.dataWindow.xMin + 1;\r\n\t\tvar height = EXRHeader.dataWindow.yMax - EXRHeader.dataWindow.yMin + 1;\r\n\t\t// Firefox only supports RGBA (half) float textures\r\n\t\t// var numChannels = EXRHeader.channels.length;\r\n\t\tvar numChannels = 4;\r\n\t\tvar size = width * height * numChannels;\r\n\r\n\t\t// Fill initially with 1s for the alpha value if the texture is not RGBA, RGB values will be overwritten\r\n\t\tswitch ( this.type ) {\r\n\r\n\t\t\tcase UnsignedByteType:\r\n\t\t\tcase FloatType:\r\n\r\n\t\t\t\tvar byteArray = new Float32Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 1, 0, size );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\tvar byteArray = new Uint16Array( size );\r\n\r\n\t\t\t\tif ( EXRHeader.channels.length < numChannels ) {\r\n\r\n\t\t\t\t\tbyteArray.fill( 0x3C00, 0, size ); // Uint16Array holds half float data, 0x3C00 is 1\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tconsole.error( 'THREE.EXRLoader: unsupported type: ', this.type );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tvar channelOffsets = {\r\n\t\t\tR: 0,\r\n\t\t\tG: 1,\r\n\t\t\tB: 2,\r\n\t\t\tA: 3\r\n\t\t};\r\n\r\n\t\tvar compressionInfo = {\r\n\r\n\t\t\tsize: 0,\r\n\t\t\twidth: width,\r\n\t\t\tlines: scanlineBlockSize,\r\n\r\n\t\t\toffset: offset,\r\n\t\t\tarray: uInt8Array,\r\n\t\t\tviewer: bufferDataView,\r\n\r\n\t\t\ttype: pixelType,\r\n\t\t\tchannels: EXRHeader.channels.length,\r\n\r\n\t\t};\r\n\r\n\t\tvar line;\r\n\t\tvar size;\r\n\t\tvar viewer;\r\n\t\tvar tmpOffset = { value: 0 };\r\n\r\n\t\tfor ( var scanlineBlockIdx = 0; scanlineBlockIdx < height / scanlineBlockSize; scanlineBlockIdx ++ ) {\r\n\r\n\t\t\tline = parseUint32( bufferDataView, offset ); // line_no\r\n\t\t\tsize = parseUint32( bufferDataView, offset ); // data_len\r\n\r\n\t\t\tcompressionInfo.lines = ( line + scanlineBlockSize > height ) ? height - line : scanlineBlockSize;\r\n\t\t\tcompressionInfo.offset = offset;\r\n\t\t\tcompressionInfo.size = size;\r\n\r\n\t\t\tviewer = uncompress( compressionInfo );\r\n\r\n\t\t\toffset.value += size;\r\n\r\n\t\t\tfor ( var line_y = 0; line_y < scanlineBlockSize; line_y ++ ) {\r\n\r\n\t\t\t\tvar true_y = line_y + ( scanlineBlockIdx * scanlineBlockSize );\r\n\r\n\t\t\t\tif ( true_y >= height ) break;\r\n\r\n\t\t\t\tfor ( var channelID = 0; channelID < EXRHeader.channels.length; channelID ++ ) {\r\n\r\n\t\t\t\t\tvar cOff = channelOffsets[ EXRHeader.channels[ channelID ].name ];\r\n\r\n\t\t\t\t\tfor ( var x = 0; x < width; x ++ ) {\r\n\r\n\t\t\t\t\t\tvar idx = ( line_y * ( EXRHeader.channels.length * width ) ) + ( channelID * width ) + x;\r\n\t\t\t\t\t\ttmpOffset.value = idx * size_t;\r\n\r\n\t\t\t\t\t\tvar val = getValue( viewer, tmpOffset );\r\n\r\n\t\t\t\t\t\tbyteArray[ ( ( ( height - 1 - true_y ) * ( width * numChannels ) ) + ( x * numChannels ) ) + cOff ] = val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.type === UnsignedByteType ) {\r\n\r\n\t\t\tlet v, i;\r\n\t\t\tconst size = byteArray.length;\r\n\t\t\tconst RGBEArray = new Uint8Array( size );\r\n\r\n\t\t\tfor ( let h = 0; h < height; ++ h ) {\r\n\r\n\t\t\t\tfor ( let w = 0; w < width; ++ w ) {\r\n\r\n\t\t\t\t\ti = h * width * 4 + w * 4;\r\n\r\n\t\t\t\t\tconst red = byteArray[ i ];\r\n\t\t\t\t\tconst green = byteArray[ i + 1 ];\r\n\t\t\t\t\tconst blue = byteArray[ i + 2 ];\r\n\r\n\t\t\t\t\tv = ( red > green ) ? red : green;\r\n\t\t\t\t\tv = ( blue > v ) ? blue : v;\r\n\r\n\t\t\t\t\tif ( v < 1e-32 ) {\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = RGBEArray[ i + 1 ] = RGBEArray[ i + 2 ] = RGBEArray[ i + 3 ] = 0;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconst res = frexp( v );\r\n\t\t\t\t\t\tv = res[ 0 ] * 256 / v;\r\n\r\n\t\t\t\t\t\tRGBEArray[ i ] = red * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 1 ] = green * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 2 ] = blue * v;\r\n\t\t\t\t\t\tRGBEArray[ i + 3 ] = res[ 1 ] + 128;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbyteArray = RGBEArray;\r\n\r\n\t\t}\r\n\r\n\t\tconst format = ( this.type === UnsignedByteType ) ? RGBEFormat : ( numChannels === 4 ) ? RGBAFormat : RGBFormat;\r\n\r\n\t\treturn {\r\n\t\t\theader: EXRHeader,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tdata: byteArray,\r\n\t\t\tformat: format,\r\n\t\t\ttype: this.type\r\n\t\t};\r\n\r\n\t},\r\n\r\n\tsetDataType: function ( value ) {\r\n\r\n\t\tthis.type = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tfunction onLoadCallback( texture, texData ) {\r\n\r\n\t\t\tswitch ( texture.type ) {\r\n\r\n\t\t\t\tcase UnsignedByteType:\r\n\r\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\r\n\t\t\t\t\ttexture.minFilter = NearestFilter;\r\n\t\t\t\t\ttexture.magFilter = NearestFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase FloatType:\r\n\t\t\t\tcase HalfFloatType:\r\n\r\n\t\t\t\t\ttexture.encoding = LinearEncoding;\r\n\t\t\t\t\ttexture.minFilter = LinearFilter;\r\n\t\t\t\t\ttexture.magFilter = LinearFilter;\r\n\t\t\t\t\ttexture.generateMipmaps = false;\r\n\t\t\t\t\ttexture.flipY = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( onLoad ) onLoad( texture, texData );\r\n\r\n\t\t}\r\n\r\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { EXRLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/EXRLoader.js","import { TempNode } from './TempNode.js';\r\nimport { NodeLib } from './NodeLib.js';\r\n\r\nvar declarationRegexp = /^\\s*([a-z_0-9]+)\\s([a-z_0-9]+)\\s*\\((.*?)\\)/i,\r\n\tpropertiesRegexp = /[a-z_0-9]+/ig;\r\n\r\nfunction FunctionNode( src, includes, extensions, keywords, type ) {\r\n\r\n\tthis.isMethod = type === undefined;\r\n\tthis.isInterface = false;\r\n\r\n\tTempNode.call( this, type );\r\n\r\n\tthis.parse( src, includes, extensions, keywords );\r\n\r\n}\r\n\r\nFunctionNode.prototype = Object.create( TempNode.prototype );\r\nFunctionNode.prototype.constructor = FunctionNode;\r\nFunctionNode.prototype.nodeType = \"Function\";\r\n\r\nFunctionNode.prototype.useKeywords = true;\r\n\r\nFunctionNode.prototype.getShared = function ( /* builder, output */ ) {\r\n\r\n\treturn ! this.isMethod;\r\n\r\n};\r\n\r\nFunctionNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nFunctionNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.getIncludeByName = function ( name ) {\r\n\r\n\tvar i = this.includes.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.includes[ i ].name === name ) {\r\n\r\n\t\t\treturn this.includes[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar match, offset = 0, src = this.src;\r\n\r\n\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\tbuilder.include( this.includes[ i ], this );\r\n\r\n\t}\r\n\r\n\tfor ( var ext in this.extensions ) {\r\n\r\n\t\tbuilder.extensions[ ext ] = true;\r\n\r\n\t}\r\n\r\n\tvar matches = [];\r\n\r\n\twhile ( match = propertiesRegexp.exec( this.src ) ) matches.push( match );\r\n\r\n\tfor ( var i = 0; i < matches.length; i ++ ) {\r\n\r\n\t\tvar match = matches[ i ];\r\n\r\n\t\tvar prop = match[ 0 ],\r\n\t\t\tisGlobal = this.isMethod ? ! this.getInputByName( prop ) : true,\r\n\t\t\treference = prop;\r\n\r\n\t\tif ( this.keywords[ prop ] || ( this.useKeywords && isGlobal && NodeLib.containsKeyword( prop ) ) ) {\r\n\r\n\t\t\tvar node = this.keywords[ prop ];\r\n\r\n\t\t\tif ( ! node ) {\r\n\r\n\t\t\t\tvar keyword = NodeLib.getKeywordData( prop );\r\n\r\n\t\t\t\tif ( keyword.cache ) node = builder.keywords[ prop ];\r\n\r\n\t\t\t\tnode = node || NodeLib.getKeyword( prop, builder );\r\n\r\n\t\t\t\tif ( keyword.cache ) builder.keywords[ prop ] = node;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treference = node.build( builder );\r\n\r\n\t\t}\r\n\r\n\t\tif ( prop !== reference ) {\r\n\r\n\t\t\tsrc = src.substring( 0, match.index + offset ) + reference + src.substring( match.index + prop.length + offset );\r\n\r\n\t\t\toffset += reference.length - prop.length;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.getIncludeByName( reference ) === undefined && NodeLib.contains( reference ) ) {\r\n\r\n\t\t\tbuilder.include( NodeLib.get( reference ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn src;\r\n\r\n\t} else if ( this.isMethod ) {\r\n\r\n\t\tif ( ! this.isInterface ) {\r\n\r\n\t\t\tbuilder.include( this, false, src );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.name;\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.parse = function ( src, includes, extensions, keywords ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.includes = includes || [];\r\n\tthis.extensions = extensions || {};\r\n\tthis.keywords = keywords || {};\r\n\r\n\tif ( this.isMethod ) {\r\n\r\n\t\tvar match = this.src.match( declarationRegexp );\r\n\r\n\t\tthis.inputs = [];\r\n\r\n\t\tif ( match && match.length == 4 ) {\r\n\r\n\t\t\tthis.type = match[ 1 ];\r\n\t\t\tthis.name = match[ 2 ];\r\n\r\n\t\t\tvar inputs = match[ 3 ].match( propertiesRegexp );\r\n\r\n\t\t\tif ( inputs ) {\r\n\r\n\t\t\t\tvar i = 0;\r\n\r\n\t\t\t\twhile ( i < inputs.length ) {\r\n\r\n\t\t\t\t\tvar qualifier = inputs[ i ++ ];\r\n\t\t\t\t\tvar type, name;\r\n\r\n\t\t\t\t\tif ( qualifier === 'in' || qualifier === 'out' || qualifier === 'inout' ) {\r\n\r\n\t\t\t\t\t\ttype = inputs[ i ++ ];\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttype = qualifier;\r\n\t\t\t\t\t\tqualifier = '';\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tname = inputs[ i ++ ];\r\n\r\n\t\t\t\t\tthis.inputs.push( {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tqualifier: qualifier\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.isInterface = this.src.indexOf( '{' ) === - 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.type = '';\r\n\t\t\tthis.name = '';\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nFunctionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.isMethod = source.isMethod;\r\n\tthis.useKeywords = source.useKeywords;\r\n\r\n\tthis.parse( source.src, source.includes, source.extensions, source.keywords );\r\n\r\n\tif ( source.type !== undefined ) this.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\t\tdata.isMethod = this.isMethod;\r\n\t\tdata.useKeywords = this.useKeywords;\r\n\r\n\t\tif ( ! this.isMethod ) data.type = this.type;\r\n\r\n\t\tdata.extensions = JSON.parse( JSON.stringify( this.extensions ) );\r\n\t\tdata.keywords = {};\r\n\r\n\t\tfor ( var keyword in this.keywords ) {\r\n\r\n\t\t\tdata.keywords[ keyword ] = this.keywords[ keyword ].toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.includes.length ) {\r\n\r\n\t\t\tdata.includes = [];\r\n\r\n\t\t\tfor ( var i = 0; i < this.includes.length; i ++ ) {\r\n\r\n\t\t\t\tdata.includes.push( this.includes[ i ].toJSON( meta ).uuid );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionNode.js","import {\r\n\tFileLoader,\r\n\tLoader,\r\n\tTexture\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar TGALoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n};\r\n\r\nTGALoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: TGALoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar texture = new Texture();\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\ttexture.image = scope.parse( buffer );\r\n\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t},\r\n\r\n\tparse: function ( buffer ) {\r\n\r\n\t\t// reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\r\n\r\n\t\tfunction tgaCheckHeader( header ) {\r\n\r\n\t\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\t\t// check indexed type\r\n\r\n\t\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\t\tif ( header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1 ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for indexed type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// check colormap type\r\n\r\n\t\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\t\tif ( header.colormap_type ) {\r\n\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for colormap type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// What the need of a file without data ?\r\n\r\n\t\t\t\tcase TGA_TYPE_NO_DATA:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t\t\t\t// Invalid type ?\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type \"%s\".', header.image_type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image width and height\r\n\r\n\t\t\tif ( header.width <= 0 || header.height <= 0 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid image size.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// check image pixel size\r\n\r\n\t\t\tif ( header.pixel_size !== 8 && header.pixel_size !== 16 &&\r\n\t\t\t\theader.pixel_size !== 24 && header.pixel_size !== 32 ) {\r\n\r\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// parse tga image buffer\r\n\r\n\t\tfunction tgaParse( use_rle, use_pal, header, offset, data ) {\r\n\r\n\t\t\tvar pixel_data,\r\n\t\t\t\tpixel_size,\r\n\t\t\t\tpixel_total,\r\n\t\t\t\tpalettes;\r\n\r\n\t\t\tpixel_size = header.pixel_size >> 3;\r\n\t\t\tpixel_total = header.width * header.height * pixel_size;\r\n\r\n\t\t\t // read palettes\r\n\r\n\t\t\t if ( use_pal ) {\r\n\r\n\t\t\t\t palettes = data.subarray( offset, offset += header.colormap_length * ( header.colormap_size >> 3 ) );\r\n\r\n\t\t\t }\r\n\r\n\t\t\t // read RLE\r\n\r\n\t\t\t if ( use_rle ) {\r\n\r\n\t\t\t\t pixel_data = new Uint8Array( pixel_total );\r\n\r\n\t\t\t\tvar c, count, i;\r\n\t\t\t\tvar shift = 0;\r\n\t\t\t\tvar pixels = new Uint8Array( pixel_size );\r\n\r\n\t\t\t\twhile ( shift < pixel_total ) {\r\n\r\n\t\t\t\t\tc = data[ offset ++ ];\r\n\t\t\t\t\tcount = ( c & 0x7f ) + 1;\r\n\r\n\t\t\t\t\t// RLE pixels\r\n\r\n\t\t\t\t\tif ( c & 0x80 ) {\r\n\r\n\t\t\t\t\t\t// bind pixel tmp array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < pixel_size; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixels[ i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// copy pixel array\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data.set( pixels, shift + i * pixel_size );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += pixel_size * count;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// raw pixels\r\n\r\n\t\t\t\t\t\tcount *= pixel_size;\r\n\r\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\r\n\r\n\t\t\t\t\t\t\tpixel_data[ shift + i ] = data[ offset ++ ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshift += count;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t } else {\r\n\r\n\t\t\t\t// raw pixels\r\n\r\n\t\t\t\tpixel_data = data.subarray(\r\n\t\t\t\t\t offset, offset += ( use_pal ? header.width * header.height : pixel_total )\r\n\t\t\t\t);\r\n\r\n\t\t\t }\r\n\r\n\t\t\t return {\r\n\t\t\t\tpixel_data: pixel_data,\r\n\t\t\t\tpalettes: palettes\r\n\t\t\t };\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes ) {\r\n\r\n\t\t\tvar colormap = palettes;\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = colormap[ ( color * 3 ) + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = colormap[ ( color * 3 ) + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = colormap[ ( color * 3 ) + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\tcolor = image[ i + 0 ] + ( image[ i + 1 ] << 8 ); // Inversed ?\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = ( color & 0x7C00 ) >> 7;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = ( color & 0x03E0 ) >> 2;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = ( color & 0x001F ) >> 3;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = ( color & 0x8000 ) ? 0 : 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData24bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 3 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageData32bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 4 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar color, i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\r\n\r\n\t\t\t\t\tcolor = image[ i ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = color;\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction tgaGetImageDataGrey16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\r\n\r\n\t\t\tvar i = 0, x, y;\r\n\t\t\tvar width = header.width;\r\n\r\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\r\n\r\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\r\n\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\r\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn imageData;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getTgaRGBA( data, width, height, image, palette ) {\r\n\r\n\t\t\tvar x_start,\r\n\t\t\t\ty_start,\r\n\t\t\t\tx_step,\r\n\t\t\t\ty_step,\r\n\t\t\t\tx_end,\r\n\t\t\t\ty_end;\r\n\r\n\t\t\tswitch ( ( header.flags & TGA_ORIGIN_MASK ) >> TGA_ORIGIN_SHIFT ) {\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase TGA_ORIGIN_UL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BL:\r\n\t\t\t\t\tx_start = 0;\r\n\t\t\t\t\tx_step = 1;\r\n\t\t\t\t\tx_end = width;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_UR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = 0;\r\n\t\t\t\t\ty_step = 1;\r\n\t\t\t\t\ty_end = height;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase TGA_ORIGIN_BR:\r\n\t\t\t\t\tx_start = width - 1;\r\n\t\t\t\t\tx_step = - 1;\r\n\t\t\t\t\tx_end = - 1;\r\n\t\t\t\t\ty_start = height - 1;\r\n\t\t\t\t\ty_step = - 1;\r\n\t\t\t\t\ty_end = - 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( use_grey ) {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageDataGrey8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageDataGrey16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tswitch ( header.pixel_size ) {\r\n\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\ttgaGetImageData8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 16:\r\n\t\t\t\t\t\ttgaGetImageData16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 24:\r\n\t\t\t\t\t\ttgaGetImageData24bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 32:\r\n\t\t\t\t\t\ttgaGetImageData32bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Load image data according to specific method\r\n\t\t\t// var func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\r\n\t\t\t// func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\t// TGA constants\r\n\r\n\t\tvar TGA_TYPE_NO_DATA = 0,\r\n\t\t\tTGA_TYPE_INDEXED = 1,\r\n\t\t\tTGA_TYPE_RGB = 2,\r\n\t\t\tTGA_TYPE_GREY = 3,\r\n\t\t\tTGA_TYPE_RLE_INDEXED = 9,\r\n\t\t\tTGA_TYPE_RLE_RGB = 10,\r\n\t\t\tTGA_TYPE_RLE_GREY = 11,\r\n\r\n\t\t\tTGA_ORIGIN_MASK = 0x30,\r\n\t\t\tTGA_ORIGIN_SHIFT = 0x04,\r\n\t\t\tTGA_ORIGIN_BL = 0x00,\r\n\t\t\tTGA_ORIGIN_BR = 0x01,\r\n\t\t\tTGA_ORIGIN_UL = 0x02,\r\n\t\t\tTGA_ORIGIN_UR = 0x03;\r\n\r\n\t\tif ( buffer.length < 19 ) console.error( 'THREE.TGALoader: Not enough data to contain header.' );\r\n\r\n\t\tvar content = new Uint8Array( buffer ),\r\n\t\t\toffset = 0,\r\n\t\t\theader = {\r\n\t\t\t\tid_length: content[ offset ++ ],\r\n\t\t\t\tcolormap_type: content[ offset ++ ],\r\n\t\t\t\timage_type: content[ offset ++ ],\r\n\t\t\t\tcolormap_index: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_length: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tcolormap_size: content[ offset ++ ],\r\n\t\t\t\torigin: [\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8\r\n\t\t\t\t],\r\n\t\t\t\twidth: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\theight: content[ offset ++ ] | content[ offset ++ ] << 8,\r\n\t\t\t\tpixel_size: content[ offset ++ ],\r\n\t\t\t\tflags: content[ offset ++ ]\r\n\t\t\t};\r\n\r\n\t\t// check tga if it is valid format\r\n\r\n\t\ttgaCheckHeader( header );\r\n\r\n\t\tif ( header.id_length + offset > buffer.length ) {\r\n\r\n\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\r\n\r\n\t\t}\r\n\r\n\t\t// skip the needn't data\r\n\r\n\t\toffset += header.id_length;\r\n\r\n\t\t// get targa information about RLE compression and palette\r\n\r\n\t\tvar use_rle = false,\r\n\t\t\tuse_pal = false,\r\n\t\t\tuse_grey = false;\r\n\r\n\t\tswitch ( header.image_type ) {\r\n\r\n\t\t\tcase TGA_TYPE_RLE_INDEXED:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_INDEXED:\r\n\t\t\t\tuse_pal = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_RGB:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RGB:\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_RLE_GREY:\r\n\t\t\t\tuse_rle = true;\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase TGA_TYPE_GREY:\r\n\t\t\t\tuse_grey = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar useOffscreen = typeof OffscreenCanvas !== 'undefined';\r\n\r\n\t\tvar canvas = useOffscreen ? new OffscreenCanvas( header.width, header.height ) : document.createElement( 'canvas' );\r\n\t\tcanvas.width = header.width;\r\n\t\tcanvas.height = header.height;\r\n\r\n\t\tvar context = canvas.getContext( '2d' );\r\n\t\tvar imageData = context.createImageData( header.width, header.height );\r\n\r\n\t\tvar result = tgaParse( use_rle, use_pal, header, offset, content );\r\n\t\tgetTgaRGBA( imageData.data, header.width, header.height, result.pixel_data, result.palettes );\r\n\r\n\t\tcontext.putImageData( imageData, 0, 0 );\r\n\r\n\t\treturn canvas;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { TGALoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/TGALoader.js","import { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar MaskPass = function ( scene, camera ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.clear = true;\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.inverse = false;\r\n\r\n};\r\n\r\nMaskPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: MaskPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar context = renderer.getContext();\r\n\t\tvar state = renderer.state;\r\n\r\n\t\t// don't update color or depth\r\n\r\n\t\tstate.buffers.color.setMask( false );\r\n\t\tstate.buffers.depth.setMask( false );\r\n\r\n\t\t// lock buffers\r\n\r\n\t\tstate.buffers.color.setLocked( true );\r\n\t\tstate.buffers.depth.setLocked( true );\r\n\r\n\t\t// set up stencil\r\n\r\n\t\tvar writeValue, clearValue;\r\n\r\n\t\tif ( this.inverse ) {\r\n\r\n\t\t\twriteValue = 0;\r\n\t\t\tclearValue = 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\twriteValue = 1;\r\n\t\t\tclearValue = 0;\r\n\r\n\t\t}\r\n\r\n\t\tstate.buffers.stencil.setTest( true );\r\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\r\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\r\n\t\tstate.buffers.stencil.setClear( clearValue );\r\n\t\tstate.buffers.stencil.setLocked( true );\r\n\r\n\t\t// draw into the stencil buffer\r\n\r\n\t\trenderer.setRenderTarget( readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t// unlock color and depth buffer for subsequent rendering\r\n\r\n\t\tstate.buffers.color.setLocked( false );\r\n\t\tstate.buffers.depth.setLocked( false );\r\n\r\n\t\t// only render where stencil is set to 1\r\n\r\n\t\tstate.buffers.stencil.setLocked( false );\r\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\r\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\r\n\t\tstate.buffers.stencil.setLocked( true );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nvar ClearMaskPass = function () {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n};\r\n\r\nClearMaskPass.prototype = Object.create( Pass.prototype );\r\n\r\nObject.assign( ClearMaskPass.prototype, {\r\n\r\n\trender: function ( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\r\n\r\n\t\trenderer.state.buffers.stencil.setLocked( false );\r\n\t\trenderer.state.buffers.stencil.setTest( false );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { MaskPass, ClearMaskPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/MaskPass.js","/**\r\n * dat-gui JavaScript Controller Library\r\n * http://code.google.com/p/dat-gui\r\n *\r\n * Copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nfunction ___$insertStyle( css ) {\r\n\r\n\tif ( ! css ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\tif ( typeof window === 'undefined' ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tvar style = document.createElement( 'style' );\r\n\r\n\tstyle.setAttribute( 'type', 'text/css' );\r\n\tstyle.innerHTML = css;\r\n\tdocument.head.appendChild( style );\r\n\r\n\treturn css;\r\n\r\n}\r\n\r\nfunction colorToString( color, forceCSSHex ) {\r\n\r\n\tvar colorFormat = color.__state.conversionName.toString();\r\n\tvar r = Math.round( color.r );\r\n\tvar g = Math.round( color.g );\r\n\tvar b = Math.round( color.b );\r\n\tvar a = color.a;\r\n\tvar h = Math.round( color.h );\r\n\tvar s = color.s.toFixed( 1 );\r\n\tvar v = color.v.toFixed( 1 );\r\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\r\n\r\n\t\tvar str = color.hex.toString( 16 );\r\n\t\twhile ( str.length < 6 ) {\r\n\r\n\t\t\tstr = '0' + str;\r\n\r\n\t\t}\r\n\t\treturn '#' + str;\r\n\r\n\t} else if ( colorFormat === 'CSS_RGB' ) {\r\n\r\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\r\n\r\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\r\n\r\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\r\n\r\n\t} else if ( colorFormat === 'HEX' ) {\r\n\r\n\t\treturn '0x' + color.hex.toString( 16 );\r\n\r\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\r\n\r\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\r\n\r\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\r\n\r\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\r\n\r\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\r\n\r\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\r\n\r\n\t}\r\n\treturn 'unknown format';\r\n\r\n}\r\n\r\nvar ARR_EACH = Array.prototype.forEach;\r\nvar ARR_SLICE = Array.prototype.slice;\r\nvar Common = {\r\n\tBREAK: {},\r\n\textend: function extend( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tdefaults: function defaults( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tcompose: function compose() {\r\n\r\n\t\tvar toCall = ARR_SLICE.call( arguments );\r\n\t\treturn function () {\r\n\r\n\t\t\tvar args = ARR_SLICE.call( arguments );\r\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\r\n\r\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\r\n\r\n\t\t\t}\r\n\t\t\treturn args[ 0 ];\r\n\r\n\t\t};\r\n\r\n\t},\r\n\teach: function each( obj, itr, scope ) {\r\n\r\n\t\tif ( ! obj ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\r\n\r\n\t\t\tobj.forEach( itr, scope );\r\n\r\n\t\t} else if ( obj.length === obj.length + 0 ) {\r\n\r\n\t\t\tvar key = void 0;\r\n\t\t\tvar l = void 0;\r\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\r\n\r\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( var _key in obj ) {\r\n\r\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tdefer: function defer( fnc ) {\r\n\r\n\t\tsetTimeout( fnc, 0 );\r\n\r\n\t},\r\n\tdebounce: function debounce( func, threshold, callImmediately ) {\r\n\r\n\t\tvar timeout = void 0;\r\n\t\treturn function () {\r\n\r\n\t\t\tvar obj = this;\r\n\t\t\tvar args = arguments;\r\n\t\t\tfunction delayed() {\r\n\r\n\t\t\t\ttimeout = null;\r\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\r\n\r\n\t\t\t}\r\n\t\t\tvar callNow = callImmediately || ! timeout;\r\n\t\t\tclearTimeout( timeout );\r\n\t\t\ttimeout = setTimeout( delayed, threshold );\r\n\t\t\tif ( callNow ) {\r\n\r\n\t\t\t\tfunc.apply( obj, args );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t},\r\n\ttoArray: function toArray( obj ) {\r\n\r\n\t\tif ( obj.toArray ) return obj.toArray();\r\n\t\treturn ARR_SLICE.call( obj );\r\n\r\n\t},\r\n\tisUndefined: function isUndefined( obj ) {\r\n\r\n\t\treturn obj === undefined;\r\n\r\n\t},\r\n\tisNull: function isNull( obj ) {\r\n\r\n\t\treturn obj === null;\r\n\r\n\t},\r\n\tisNaN: function ( _isNaN ) {\r\n\r\n\t\tfunction isNaN() {\r\n\r\n\t\t\treturn _isNaN.apply( this, arguments );\r\n\r\n\t\t}\r\n\t\tisNaN.toString = function () {\r\n\r\n\t\t\treturn _isNaN.toString();\r\n\r\n\t\t};\r\n\t\treturn isNaN;\r\n\r\n\t}( function ( obj ) {\r\n\r\n\t\treturn isNaN( obj );\r\n\r\n\t} ),\r\n\tisArray: Array.isArray || function ( obj ) {\r\n\r\n\t\treturn obj.constructor === Array;\r\n\r\n\t},\r\n\tisObject: function isObject( obj ) {\r\n\r\n\t\treturn obj === Object( obj );\r\n\r\n\t},\r\n\tisNumber: function isNumber( obj ) {\r\n\r\n\t\treturn obj === obj + 0;\r\n\r\n\t},\r\n\tisString: function isString( obj ) {\r\n\r\n\t\treturn obj === obj + '';\r\n\r\n\t},\r\n\tisBoolean: function isBoolean( obj ) {\r\n\r\n\t\treturn obj === false || obj === true;\r\n\r\n\t},\r\n\tisFunction: function isFunction( obj ) {\r\n\r\n\t\treturn obj instanceof Function;\r\n\r\n\t}\r\n};\r\n\r\nvar INTERPRETATIONS = [\r\n\t{\r\n\t\tlitmus: Common.isString,\r\n\t\tconversions: {\r\n\t\t\tTHREE_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tSIX_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGB: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGBA: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\r\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isNumber,\r\n\t\tconversions: {\r\n\t\t\tHEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: original,\r\n\t\t\t\t\t\tconversionName: 'HEX'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn color.hex;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isArray,\r\n\t\tconversions: {\r\n\t\t\tRGB_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 3 ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGBA_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 4 ) return false;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ],\r\n\t\t\t\t\t\ta: original[ 3 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isObject,\r\n\t\tconversions: {\r\n\t\t\tRGBA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGB_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSVA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSV_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} ];\r\nvar result = void 0;\r\nvar toReturn = void 0;\r\nvar interpret = function interpret() {\r\n\r\n\ttoReturn = false;\r\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\r\n\tCommon.each( INTERPRETATIONS, function ( family ) {\r\n\r\n\t\tif ( family.litmus( original ) ) {\r\n\r\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\r\n\r\n\t\t\t\tresult = conversion.read( original );\r\n\t\t\t\tif ( toReturn === false && result !== false ) {\r\n\r\n\t\t\t\t\ttoReturn = result;\r\n\t\t\t\t\tresult.conversionName = conversionName;\r\n\t\t\t\t\tresult.conversion = conversion;\r\n\t\t\t\t\treturn Common.BREAK;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn Common.BREAK;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n};\r\n\r\nvar tmpComponent = void 0;\r\nvar ColorMath = {\r\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\r\n\r\n\t\tvar hi = Math.floor( h / 60 ) % 6;\r\n\t\tvar f = h / 60 - Math.floor( h / 60 );\r\n\t\tvar p = v * ( 1.0 - s );\r\n\t\tvar q = v * ( 1.0 - f * s );\r\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\r\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\r\n\t\treturn {\r\n\t\t\tr: c[ 0 ] * 255,\r\n\t\t\tg: c[ 1 ] * 255,\r\n\t\t\tb: c[ 2 ] * 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\r\n\r\n\t\tvar min = Math.min( r, g, b );\r\n\t\tvar max = Math.max( r, g, b );\r\n\t\tvar delta = max - min;\r\n\t\tvar h = void 0;\r\n\t\tvar s = void 0;\r\n\t\tif ( max !== 0 ) {\r\n\r\n\t\t\ts = delta / max;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn {\r\n\t\t\t\th: NaN,\r\n\t\t\t\ts: 0,\r\n\t\t\t\tv: 0\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\tif ( r === max ) {\r\n\r\n\t\t\th = ( g - b ) / delta;\r\n\r\n\t\t} else if ( g === max ) {\r\n\r\n\t\t\th = 2 + ( b - r ) / delta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\th = 4 + ( r - g ) / delta;\r\n\r\n\t\t}\r\n\t\th /= 6;\r\n\t\tif ( h < 0 ) {\r\n\r\n\t\t\th += 1;\r\n\r\n\t\t}\r\n\t\treturn {\r\n\t\t\th: h * 360,\r\n\t\t\ts: s,\r\n\t\t\tv: max / 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\r\n\r\n\t\tvar hex = this.hex_with_component( 0, 2, r );\r\n\t\thex = this.hex_with_component( hex, 1, g );\r\n\t\thex = this.hex_with_component( hex, 0, b );\r\n\t\treturn hex;\r\n\r\n\t},\r\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\r\n\r\n\t\treturn hex >> componentIndex * 8 & 0xFF;\r\n\r\n\t},\r\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\r\n\r\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\r\n\r\n\t}\r\n};\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\r\n\r\n\treturn typeof obj;\r\n\r\n} : function ( obj ) {\r\n\r\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar classCallCheck = function ( instance, Constructor ) {\r\n\r\n\tif ( ! ( instance instanceof Constructor ) ) {\r\n\r\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar createClass = function () {\r\n\r\n\tfunction defineProperties( target, props ) {\r\n\r\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\r\n\r\n\t\t\tvar descriptor = props[ i ];\r\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\r\n\t\t\tdescriptor.configurable = true;\r\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\r\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn function ( Constructor, protoProps, staticProps ) {\r\n\r\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\r\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\r\n\t\treturn Constructor;\r\n\r\n\t};\r\n\r\n}();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar get = function get( object, property, receiver ) {\r\n\r\n\tif ( object === null ) object = Function.prototype;\r\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\r\n\r\n\tif ( desc === undefined ) {\r\n\r\n\t\tvar parent = Object.getPrototypeOf( object );\r\n\r\n\t\tif ( parent === null ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn get( parent, property, receiver );\r\n\r\n\t\t}\r\n\r\n\t} else if ( \"value\" in desc ) {\r\n\r\n\t\treturn desc.value;\r\n\r\n\t} else {\r\n\r\n\t\tvar getter = desc.get;\r\n\r\n\t\tif ( getter === undefined ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t}\r\n\r\n\t\treturn getter.call( receiver );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar inherits = function ( subClass, superClass ) {\r\n\r\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\r\n\r\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\r\n\r\n\t}\r\n\r\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: subClass,\r\n\t\t\tenumerable: false,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t} );\r\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar possibleConstructorReturn = function ( self, call ) {\r\n\r\n\tif ( ! self ) {\r\n\r\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\r\n\r\n\t}\r\n\r\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\r\n\r\n};\r\n\r\nvar Color = function () {\r\n\r\n\tfunction Color() {\r\n\r\n\t\tclassCallCheck( this, Color );\r\n\t\tthis.__state = interpret.apply( this, arguments );\r\n\t\tif ( this.__state === false ) {\r\n\r\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\r\n\r\n\t\t}\r\n\t\tthis.__state.a = this.__state.a || 1;\r\n\r\n\t}\r\n\tcreateClass( Color, [ {\r\n\t\tkey: 'toString',\r\n\t\tvalue: function toString() {\r\n\r\n\t\t\treturn colorToString( this );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toHexString',\r\n\t\tvalue: function toHexString() {\r\n\r\n\t\t\treturn colorToString( this, true );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toOriginal',\r\n\t\tvalue: function toOriginal() {\r\n\r\n\t\t\treturn this.__state.conversion.write( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Color;\r\n\r\n}();\r\nfunction defineRGBComponent( target, component, componentHexIndex ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'RGB' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'RGB' ) {\r\n\r\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\t\tthis.__state.space = 'RGB';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nfunction defineHSVComponent( target, component ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'HSV' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateHSV( this );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'HSV' ) {\r\n\r\n\t\t\t\tColor.recalculateHSV( this );\r\n\t\t\t\tthis.__state.space = 'HSV';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\r\n\r\n\tif ( color.__state.space === 'HEX' ) {\r\n\r\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\r\n\r\n\t} else if ( color.__state.space === 'HSV' ) {\r\n\r\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\r\n\r\n\t} else {\r\n\r\n\t\tthrow new Error( 'Corrupted color state' );\r\n\r\n\t}\r\n\r\n};\r\nColor.recalculateHSV = function ( color ) {\r\n\r\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\r\n\tCommon.extend( color.__state, {\r\n\t\ts: result.s,\r\n\t\tv: result.v\r\n\t} );\r\n\tif ( ! Common.isNaN( result.h ) ) {\r\n\r\n\t\tcolor.__state.h = result.h;\r\n\r\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\r\n\r\n\t\tcolor.__state.h = 0;\r\n\r\n\t}\r\n\r\n};\r\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\r\ndefineRGBComponent( Color.prototype, 'r', 2 );\r\ndefineRGBComponent( Color.prototype, 'g', 1 );\r\ndefineRGBComponent( Color.prototype, 'b', 0 );\r\ndefineHSVComponent( Color.prototype, 'h' );\r\ndefineHSVComponent( Color.prototype, 's' );\r\ndefineHSVComponent( Color.prototype, 'v' );\r\nObject.defineProperty( Color.prototype, 'a', {\r\n\tget: function get$$1() {\r\n\r\n\t\treturn this.__state.a;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.a = v;\r\n\r\n\t}\r\n} );\r\nObject.defineProperty( Color.prototype, 'hex', {\r\n\tget: function get$$1() {\r\n\r\n\t\tif ( this.__state.space !== 'HEX' ) {\r\n\r\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\r\n\t\t\tthis.__state.space = 'HEX';\r\n\r\n\t\t}\r\n\t\treturn this.__state.hex;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.space = 'HEX';\r\n\t\tthis.__state.hex = v;\r\n\r\n\t}\r\n} );\r\n\r\nvar Controller = function () {\r\n\r\n\tfunction Controller( object, property ) {\r\n\r\n\t\tclassCallCheck( this, Controller );\r\n\t\tthis.initialValue = object[ property ];\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tthis.object = object;\r\n\t\tthis.property = property;\r\n\t\tthis.__onChange = undefined;\r\n\t\tthis.__onFinishChange = undefined;\r\n\r\n\t}\r\n\tcreateClass( Controller, [ {\r\n\t\tkey: 'onChange',\r\n\t\tvalue: function onChange( fnc ) {\r\n\r\n\t\t\tthis.__onChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'onFinishChange',\r\n\t\tvalue: function onFinishChange( fnc ) {\r\n\r\n\t\t\tthis.__onFinishChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( newValue ) {\r\n\r\n\t\t\tthis.object[ this.property ] = newValue;\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this, newValue );\r\n\r\n\t\t\t}\r\n\t\t\tthis.updateDisplay();\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getValue',\r\n\t\tvalue: function getValue() {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'isModified',\r\n\t\tvalue: function isModified() {\r\n\r\n\t\t\treturn this.initialValue !== this.getValue();\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Controller;\r\n\r\n}();\r\n\r\nvar EVENT_MAP = {\r\n\tHTMLEvents: [ 'change' ],\r\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\r\n\tKeyboardEvents: [ 'keydown' ]\r\n};\r\nvar EVENT_MAP_INV = {};\r\nCommon.each( EVENT_MAP, function ( v, k ) {\r\n\r\n\tCommon.each( v, function ( e ) {\r\n\r\n\t\tEVENT_MAP_INV[ e ] = k;\r\n\r\n\t} );\r\n\r\n} );\r\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\r\nfunction cssValueToPixels( val ) {\r\n\r\n\tif ( val === '0' || Common.isUndefined( val ) ) {\r\n\r\n\t\treturn 0;\r\n\r\n\t}\r\n\tvar match = val.match( CSS_VALUE_PIXELS );\r\n\tif ( ! Common.isNull( match ) ) {\r\n\r\n\t\treturn parseFloat( match[ 1 ] );\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar dom = {\r\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\r\n\r\n\t\tif ( elem === undefined || elem.style === undefined ) return;\r\n\t\telem.onselectstart = selectable ? function () {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t} : function () {};\r\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.unselectable = selectable ? 'on' : 'off';\r\n\r\n\t},\r\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\r\n\r\n\t\tvar vertical = vert;\r\n\t\tvar horizontal = hor;\r\n\t\tif ( Common.isUndefined( horizontal ) ) {\r\n\r\n\t\t\thorizontal = true;\r\n\r\n\t\t}\r\n\t\tif ( Common.isUndefined( vertical ) ) {\r\n\r\n\t\t\tvertical = true;\r\n\r\n\t\t}\r\n\t\telem.style.position = 'absolute';\r\n\t\tif ( horizontal ) {\r\n\r\n\t\t\telem.style.left = 0;\r\n\t\t\telem.style.right = 0;\r\n\r\n\t\t}\r\n\t\tif ( vertical ) {\r\n\r\n\t\t\telem.style.top = 0;\r\n\t\t\telem.style.bottom = 0;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\r\n\r\n\t\tvar params = pars || {};\r\n\t\tvar className = EVENT_MAP_INV[ eventType ];\r\n\t\tif ( ! className ) {\r\n\r\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\r\n\r\n\t\t}\r\n\t\tvar evt = document.createEvent( className );\r\n\t\tswitch ( className ) {\r\n\r\n\t\t\tcase 'MouseEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\r\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\r\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tclientX,\r\n\t\t\t\t\tclientY,\r\n\t\t\t\t\tfalse, false, false, false, 0, null );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tcase 'KeyboardEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\r\n\t\t\t\tCommon.defaults( params, {\r\n\t\t\t\t\tcancelable: true,\r\n\t\t\t\t\tctrlKey: false,\r\n\t\t\t\t\taltKey: false,\r\n\t\t\t\t\tshiftKey: false,\r\n\t\t\t\t\tmetaKey: false,\r\n\t\t\t\t\tkeyCode: undefined,\r\n\t\t\t\t\tcharCode: undefined\r\n\t\t\t\t} );\r\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t{\r\n\r\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tCommon.defaults( evt, aux );\r\n\t\telem.dispatchEvent( evt );\r\n\r\n\t},\r\n\tbind: function bind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.addEventListener ) {\r\n\r\n\t\t\telem.addEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.attachEvent ) {\r\n\r\n\t\t\telem.attachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tunbind: function unbind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.removeEventListener ) {\r\n\r\n\t\t\telem.removeEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.detachEvent ) {\r\n\r\n\t\t\telem.detachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\taddClass: function addClass( elem, className ) {\r\n\r\n\t\tif ( elem.className === undefined ) {\r\n\r\n\t\t\telem.className = className;\r\n\r\n\t\t} else if ( elem.className !== className ) {\r\n\r\n\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\r\n\r\n\t\t\t\tclasses.push( className );\r\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tremoveClass: function removeClass( elem, className ) {\r\n\r\n\t\tif ( className ) {\r\n\r\n\t\t\tif ( elem.className === className ) {\r\n\r\n\t\t\t\telem.removeAttribute( 'class' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\t\tvar index = classes.indexOf( className );\r\n\t\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\t\tclasses.splice( index, 1 );\r\n\t\t\t\t\telem.className = classes.join( ' ' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\telem.className = undefined;\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\thasClass: function hasClass( elem, className ) {\r\n\r\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\r\n\r\n\t},\r\n\tgetWidth: function getWidth( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\r\n\r\n\t},\r\n\tgetHeight: function getHeight( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\r\n\r\n\t},\r\n\tgetOffset: function getOffset( el ) {\r\n\r\n\t\tvar elem = el;\r\n\t\tvar offset = { left: 0, top: 0 };\r\n\t\tif ( elem.offsetParent ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\toffset.left += elem.offsetLeft;\r\n\t\t\t\toffset.top += elem.offsetTop;\r\n\t\t\t\telem = elem.offsetParent;\r\n\r\n\t\t\t} while ( elem );\r\n\r\n\t\t}\r\n\t\treturn offset;\r\n\r\n\t},\r\n\tisActive: function isActive( elem ) {\r\n\r\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\r\n\r\n\t}\r\n};\r\n\r\nvar BooleanController = function ( _Controller ) {\r\n\r\n\tinherits( BooleanController, _Controller );\r\n\tfunction BooleanController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, BooleanController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__prev = _this2.getValue();\r\n\t\t_this2.__checkbox = document.createElement( 'input' );\r\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( ! _this.__prev );\r\n\r\n\t\t}\r\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\r\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\r\n\t\t_this2.updateDisplay();\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( BooleanController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\tthis.__prev = this.getValue();\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( this.getValue() === true ) {\r\n\r\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\r\n\t\t\t\tthis.__checkbox.checked = true;\r\n\t\t\t\tthis.__prev = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.__checkbox.checked = false;\r\n\t\t\t\tthis.__prev = false;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn BooleanController;\r\n\r\n}( Controller );\r\n\r\nvar OptionController = function ( _Controller ) {\r\n\r\n\tinherits( OptionController, _Controller );\r\n\tfunction OptionController( object, property, opts ) {\r\n\r\n\t\tclassCallCheck( this, OptionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\r\n\t\tvar options = opts;\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__select = document.createElement( 'select' );\r\n\t\tif ( Common.isArray( options ) ) {\r\n\r\n\t\t\tvar map = {};\r\n\t\t\tCommon.each( options, function ( element ) {\r\n\r\n\t\t\t\tmap[ element ] = element;\r\n\r\n\t\t\t} );\r\n\t\t\toptions = map;\r\n\r\n\t\t}\r\n\t\tCommon.each( options, function ( value, key ) {\r\n\r\n\t\t\tvar opt = document.createElement( 'option' );\r\n\t\t\topt.innerHTML = key;\r\n\t\t\topt.setAttribute( 'value', value );\r\n\t\t\t_this.__select.appendChild( opt );\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\tdom.bind( _this2.__select, 'change', function () {\r\n\r\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\r\n\t\t\t_this.setValue( desiredValue );\r\n\r\n\t\t} );\r\n\t\t_this2.domElement.appendChild( _this2.__select );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( OptionController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\r\n\t\t\tthis.__select.value = this.getValue();\r\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn OptionController;\r\n\r\n}( Controller );\r\n\r\nvar StringController = function ( _Controller ) {\r\n\r\n\tinherits( StringController, _Controller );\r\n\tfunction StringController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, StringController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( _this.__input.value );\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tthis.blur();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( StringController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\r\n\r\n\t\t\t\tthis.__input.value = this.getValue();\r\n\r\n\t\t\t}\r\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn StringController;\r\n\r\n}( Controller );\r\n\r\nfunction numDecimals( x ) {\r\n\r\n\tvar _x = x.toString();\r\n\tif ( _x.indexOf( '.' ) > - 1 ) {\r\n\r\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar NumberController = function ( _Controller ) {\r\n\r\n\tinherits( NumberController, _Controller );\r\n\tfunction NumberController( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberController );\r\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\r\n\t\tvar _params = params || {};\r\n\t\t_this.__min = _params.min;\r\n\t\t_this.__max = _params.max;\r\n\t\t_this.__step = _params.step;\r\n\t\tif ( Common.isUndefined( _this.__step ) ) {\r\n\r\n\t\t\tif ( _this.initialValue === 0 ) {\r\n\r\n\t\t\t\t_this.__impliedStep = 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_this.__impliedStep = _this.__step;\r\n\r\n\t\t}\r\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\r\n\t\treturn _this;\r\n\r\n\t}\r\n\tcreateClass( NumberController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar _v = v;\r\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\r\n\r\n\t\t\t\t_v = this.__min;\r\n\r\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\r\n\r\n\t\t\t\t_v = this.__max;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\r\n\r\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'min',\r\n\t\tvalue: function min( minValue ) {\r\n\r\n\t\t\tthis.__min = minValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'max',\r\n\t\tvalue: function max( maxValue ) {\r\n\r\n\t\t\tthis.__max = maxValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'step',\r\n\t\tvalue: function step( stepValue ) {\r\n\r\n\t\t\tthis.__step = stepValue;\r\n\t\t\tthis.__impliedStep = stepValue;\r\n\t\t\tthis.__precision = numDecimals( stepValue );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberController;\r\n\r\n}( Controller );\r\n\r\nfunction roundToDecimal( value, decimals ) {\r\n\r\n\tvar tenTo = Math.pow( 10, decimals );\r\n\treturn Math.round( value * tenTo ) / tenTo;\r\n\r\n}\r\nvar NumberControllerBox = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerBox, _NumberController );\r\n\tfunction NumberControllerBox( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerBox );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\r\n\t\t_this2.__truncationSuspended = false;\r\n\t\tvar _this = _this2;\r\n\t\tvar prevY = void 0;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\tvar attempted = parseFloat( _this.__input.value );\r\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\r\n\r\n\t\t\t\t_this.setValue( attempted );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\tvar diff = prevY - e.clientY;\r\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\t_this.__truncationSuspended = true;\r\n\t\t\t\tthis.blur();\r\n\t\t\t\t_this.__truncationSuspended = false;\r\n\t\t\t\tonFinish();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerBox, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\r\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerBox;\r\n\r\n}( NumberController );\r\n\r\nfunction map( v, i1, i2, o1, o2 ) {\r\n\r\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\r\n\r\n}\r\nvar NumberControllerSlider = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerSlider, _NumberController );\r\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerSlider );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__background = document.createElement( 'div' );\r\n\t\t_this2.__foreground = document.createElement( 'div' );\r\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\r\n\t\tdom.addClass( _this2.__background, 'slider' );\r\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tonMouseDrag( e );\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onTouchStart( e ) {\r\n\r\n\t\t\tif ( e.touches.length !== 1 ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\r\n\t\t\tonTouchMove( e );\r\n\r\n\t\t}\r\n\t\tfunction onTouchMove( e ) {\r\n\r\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\r\n\t\t}\r\n\t\tfunction onTouchEnd() {\r\n\r\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.__background.appendChild( _this2.__foreground );\r\n\t\t_this2.domElement.appendChild( _this2.__background );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerSlider, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\r\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\r\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerSlider;\r\n\r\n}( NumberController );\r\n\r\nvar FunctionController = function ( _Controller ) {\r\n\r\n\tinherits( FunctionController, _Controller );\r\n\tfunction FunctionController( object, property, text ) {\r\n\r\n\t\tclassCallCheck( this, FunctionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__button = document.createElement( 'div' );\r\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\r\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.fire();\r\n\t\t\treturn false;\r\n\r\n\t\t} );\r\n\t\tdom.addClass( _this2.__button, 'button' );\r\n\t\t_this2.domElement.appendChild( _this2.__button );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( FunctionController, [ {\r\n\t\tkey: 'fire',\r\n\t\tvalue: function fire() {\r\n\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this );\r\n\r\n\t\t\t}\r\n\t\t\tthis.getValue().call( this.object );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn FunctionController;\r\n\r\n}( Controller );\r\n\r\nvar ColorController = function ( _Controller ) {\r\n\r\n\tinherits( ColorController, _Controller );\r\n\tfunction ColorController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, ColorController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\r\n\t\t_this2.__color = new Color( _this2.getValue() );\r\n\t\t_this2.__temp = new Color( 0 );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.domElement = document.createElement( 'div' );\r\n\t\tdom.makeSelectable( _this2.domElement, false );\r\n\t\t_this2.__selector = document.createElement( 'div' );\r\n\t\t_this2.__selector.className = 'selector';\r\n\t\t_this2.__saturation_field = document.createElement( 'div' );\r\n\t\t_this2.__saturation_field.className = 'saturation-field';\r\n\t\t_this2.__field_knob = document.createElement( 'div' );\r\n\t\t_this2.__field_knob.className = 'field-knob';\r\n\t\t_this2.__field_knob_border = '2px solid ';\r\n\t\t_this2.__hue_knob = document.createElement( 'div' );\r\n\t\t_this2.__hue_knob.className = 'hue-knob';\r\n\t\t_this2.__hue_field = document.createElement( 'div' );\r\n\t\t_this2.__hue_field.className = 'hue-field';\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.type = 'text';\r\n\t\t_this2.__input_textShadow = '0 1px 1px ';\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tonBlur.call( this );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tvar valueField = document.createElement( 'div' );\r\n\t\tCommon.extend( _this2.__selector.style, {\r\n\t\t\twidth: '122px',\r\n\t\t\theight: '102px',\r\n\t\t\tpadding: '3px',\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__field_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '12px',\r\n\t\t\theight: '12px',\r\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\r\n\t\t\tborderRadius: '12px',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__hue_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '2px',\r\n\t\t\tborderRight: '4px solid #fff',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__saturation_field.style, {\r\n\t\t\twidth: '100px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tmarginRight: '3px',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\tcursor: 'pointer'\r\n\t\t} );\r\n\t\tCommon.extend( valueField.style, {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tbackground: 'none'\r\n\t\t} );\r\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\r\n\t\tCommon.extend( _this2.__hue_field.style, {\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tcursor: 'ns-resize',\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '3px',\r\n\t\t\tright: '3px'\r\n\t\t} );\r\n\t\thueGradient( _this2.__hue_field );\r\n\t\tCommon.extend( _this2.__input.style, {\r\n\t\t\toutline: 'none',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#fff',\r\n\t\t\tborder: 0,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\r\n\t\t} );\r\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\r\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\r\n\t\tfunction fieldDown( e ) {\r\n\r\n\t\t\tsetSV( e );\r\n\t\t\tdom.bind( window, 'mousemove', setSV );\r\n\t\t\tdom.bind( window, 'touchmove', setSV );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\r\n\r\n\t\t}\r\n\t\tfunction fieldDownH( e ) {\r\n\r\n\t\t\tsetH( e );\r\n\t\t\tdom.bind( window, 'mousemove', setH );\r\n\t\t\tdom.bind( window, 'touchmove', setH );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\r\n\r\n\t\t}\r\n\t\tfunction fieldUpSV() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setSV );\r\n\t\t\tdom.unbind( window, 'touchmove', setSV );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction fieldUpH() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setH );\r\n\t\t\tdom.unbind( window, 'touchmove', setH );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tvar i = interpret( this.value );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\t_this.__color.__state = i;\r\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.value = _this.__color.toString();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__saturation_field.appendChild( valueField );\r\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\r\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\r\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\r\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\t_this2.domElement.appendChild( _this2.__selector );\r\n\t\t_this2.updateDisplay();\r\n\t\tfunction setSV( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\r\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientX = _ref.clientX,\r\n\t\t\t\tclientY = _ref.clientY;\r\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\r\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( v > 1 ) {\r\n\r\n\t\t\t\tv = 1;\r\n\r\n\t\t\t} else if ( v < 0 ) {\r\n\r\n\t\t\t\tv = 0;\r\n\r\n\t\t\t}\r\n\t\t\tif ( s > 1 ) {\r\n\r\n\t\t\t\ts = 1;\r\n\r\n\t\t\t} else if ( s < 0 ) {\r\n\r\n\t\t\t\ts = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.v = v;\r\n\t\t\t_this.__color.s = s;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction setH( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\r\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientY = _ref2.clientY;\r\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( h > 1 ) {\r\n\r\n\t\t\t\th = 1;\r\n\r\n\t\t\t} else if ( h < 0 ) {\r\n\r\n\t\t\t\th = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.h = h * 360;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( ColorController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar i = interpret( this.getValue() );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\tvar mismatch = false;\r\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\r\n\r\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\r\n\r\n\t\t\t\t\t\tmismatch = true;\r\n\t\t\t\t\t\treturn {};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, this );\r\n\t\t\t\tif ( mismatch ) {\r\n\r\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\r\n\t\t\tthis.__temp.a = 1;\r\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\r\n\t\t\tvar _flip = 255 - flip;\r\n\t\t\tCommon.extend( this.__field_knob.style, {\r\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\r\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\r\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\r\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\r\n\t\t\t} );\r\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\r\n\t\t\tthis.__temp.s = 1;\r\n\t\t\tthis.__temp.v = 1;\r\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\r\n\t\t\tthis.__input.value = this.__color.toString();\r\n\t\t\tCommon.extend( this.__input.style, {\r\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\r\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\r\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn ColorController;\r\n\r\n}( Controller );\r\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\r\nfunction linearGradient( elem, x, a, b ) {\r\n\r\n\telem.style.background = '';\r\n\tCommon.each( vendors, function ( vendor ) {\r\n\r\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\r\n\r\n\t} );\r\n\r\n}\r\nfunction hueGradient( elem ) {\r\n\r\n\telem.style.background = '';\r\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\r\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\r\n}\r\n\r\nvar css = {\r\n\tload: function load( url, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar link = doc.createElement( 'link' );\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.href = url;\r\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\r\n\r\n\t},\r\n\tinject: function inject( cssContent, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar injected = document.createElement( 'style' );\r\n\t\tinjected.type = 'text/css';\r\n\t\tinjected.innerHTML = cssContent;\r\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\r\n\t\ttry {\r\n\r\n\t\t\thead.appendChild( injected );\r\n\r\n\t\t} catch ( e ) {\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\r\n\r\nvar ControllerFactory = function ControllerFactory( object, property ) {\r\n\r\n\tvar initialValue = object[ property ];\r\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\r\n\r\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\r\n\r\n\t}\r\n\tif ( Common.isNumber( initialValue ) ) {\r\n\r\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\r\n\r\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\r\n\r\n\t\t\t}\r\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\r\n\r\n\t\t}\r\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\r\n\r\n\t\t}\r\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\r\n\r\n\t}\r\n\tif ( Common.isString( initialValue ) ) {\r\n\r\n\t\treturn new StringController( object, property );\r\n\r\n\t}\r\n\tif ( Common.isFunction( initialValue ) ) {\r\n\r\n\t\treturn new FunctionController( object, property, '' );\r\n\r\n\t}\r\n\tif ( Common.isBoolean( initialValue ) ) {\r\n\r\n\t\treturn new BooleanController( object, property );\r\n\r\n\t}\r\n\treturn null;\r\n\r\n};\r\n\r\nfunction requestAnimationFrame( callback ) {\r\n\r\n\tsetTimeout( callback, 1000 / 60 );\r\n\r\n}\r\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\r\n\r\nvar CenteredDiv = function () {\r\n\r\n\tfunction CenteredDiv() {\r\n\r\n\t\tclassCallCheck( this, CenteredDiv );\r\n\t\tthis.backgroundElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.backgroundElement.style, {\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1000',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\r\n\t\t\ttransition: 'opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdom.makeFullscreen( this.backgroundElement );\r\n\t\tthis.backgroundElement.style.position = 'fixed';\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.domElement.style, {\r\n\t\t\tposition: 'fixed',\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1001',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\r\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdocument.body.appendChild( this.backgroundElement );\r\n\t\tdocument.body.appendChild( this.domElement );\r\n\t\tvar _this = this;\r\n\t\tdom.bind( this.backgroundElement, 'click', function () {\r\n\r\n\t\t\t_this.hide();\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tcreateClass( CenteredDiv, [ {\r\n\t\tkey: 'show',\r\n\t\tvalue: function show() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.backgroundElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\t\t\tthis.layout();\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'hide',\r\n\t\tvalue: function hide() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tvar hide = function hide() {\r\n\r\n\t\t\t\t_this.domElement.style.display = 'none';\r\n\t\t\t\t_this.backgroundElement.style.display = 'none';\r\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\r\n\r\n\t\t\t};\r\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\r\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\r\n\t\t\tthis.backgroundElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'layout',\r\n\t\tvalue: function layout() {\r\n\r\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\r\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn CenteredDiv;\r\n\r\n}();\r\n\r\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\r\n\r\ncss.inject( styleSheet );\r\nvar CSS_NAMESPACE = 'dg';\r\nvar HIDE_KEY_CODE = 72;\r\nvar CLOSE_BUTTON_HEIGHT = 20;\r\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\r\nvar SUPPORTS_LOCAL_STORAGE = function () {\r\n\r\n\ttry {\r\n\r\n\t\treturn !! window.localStorage;\r\n\r\n\t} catch ( e ) {\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n}();\r\nvar SAVE_DIALOGUE = void 0;\r\nvar autoPlaceVirgin = true;\r\nvar autoPlaceContainer = void 0;\r\nvar hide = false;\r\nvar hideableGuis = [];\r\nvar GUI = function GUI( pars ) {\r\n\r\n\tvar _this = this;\r\n\tvar params = pars || {};\r\n\tthis.domElement = document.createElement( 'div' );\r\n\tthis.__ul = document.createElement( 'ul' );\r\n\tthis.domElement.appendChild( this.__ul );\r\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\r\n\tthis.__folders = {};\r\n\tthis.__controllers = [];\r\n\tthis.__rememberedObjects = [];\r\n\tthis.__rememberedObjectIndecesToControllers = [];\r\n\tthis.__listening = [];\r\n\tparams = Common.defaults( params, {\r\n\t\tcloseOnTop: false,\r\n\t\tautoPlace: true,\r\n\t\twidth: GUI.DEFAULT_WIDTH\r\n\t} );\r\n\tparams = Common.defaults( params, {\r\n\t\tresizable: params.autoPlace,\r\n\t\thideable: params.autoPlace\r\n\t} );\r\n\tif ( ! Common.isUndefined( params.load ) ) {\r\n\r\n\t\tif ( params.preset ) {\r\n\r\n\t\t\tparams.load.preset = params.preset;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\r\n\r\n\t}\r\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\r\n\r\n\t\thideableGuis.push( this );\r\n\r\n\t}\r\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\r\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\r\n\r\n\t\tparams.scrollable = true;\r\n\r\n\t}\r\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\r\n\tvar saveToLocalStorage = void 0;\r\n\tvar titleRow = void 0;\r\n\tObject.defineProperties( this,\r\n\t\t{\r\n\t\t\tparent: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.parent;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollable: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.scrollable;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tautoPlace: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.autoPlace;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseOnTop: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closeOnTop;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpreset: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\treturn _this.getRoot().preset;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn params.load.preset;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\t_this.getRoot().preset = v;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tparams.load.preset = v;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetPresetSelectIndex( this );\r\n\t\t\t\t\t_this.revert();\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.width;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.width = v;\r\n\t\t\t\t\tsetWidth( _this, v );\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.name;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.name = v;\r\n\t\t\t\t\tif ( titleRow ) {\r\n\r\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclosed: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closed;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.closed = v;\r\n\t\t\t\t\tif ( params.closed ) {\r\n\r\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onResize();\r\n\t\t\t\t\tif ( _this.__closeButton ) {\r\n\r\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tload: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.load;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuseLocalStorage: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn useLocalStorage;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( bool ) {\r\n\r\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\t\t\t\tuseLocalStorage = bool;\r\n\t\t\t\t\t\tif ( bool ) {\r\n\r\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\tthis.closed = params.closed || false;\r\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\r\n\t\tdom.makeSelectable( this.domElement, false );\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\tif ( useLocalStorage ) {\r\n\r\n\t\t\t\t_this.useLocalStorage = true;\r\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\r\n\t\t\t\tif ( savedGui ) {\r\n\r\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis.__closeButton = document.createElement( 'div' );\r\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\r\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\r\n\t\tif ( params.closeOnTop ) {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\r\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\r\n\t\t\tthis.domElement.appendChild( this.__closeButton );\r\n\r\n\t\t}\r\n\t\tdom.bind( this.__closeButton, 'click', function () {\r\n\r\n\t\t\t_this.closed = ! _this.closed;\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\tif ( params.closed === undefined ) {\r\n\r\n\t\t\tparams.closed = true;\r\n\r\n\t\t}\r\n\t\tvar titleRowName = document.createTextNode( params.name );\r\n\t\tdom.addClass( titleRowName, 'controller-name' );\r\n\t\ttitleRow = addRow( _this, titleRowName );\r\n\t\tvar onClickTitle = function onClickTitle( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.closed = ! _this.closed;\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\r\n\t\tdom.addClass( titleRow, 'title' );\r\n\t\tdom.bind( titleRow, 'click', onClickTitle );\r\n\t\tif ( ! params.closed ) {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tif ( params.autoPlace ) {\r\n\r\n\t\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\t\tif ( autoPlaceVirgin ) {\r\n\r\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\r\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\r\n\t\t\t\tautoPlaceVirgin = false;\r\n\r\n\t\t\t}\r\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\r\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\r\n\r\n\t\t}\r\n\t\tif ( ! this.parent ) {\r\n\r\n\t\t\tsetWidth( _this, params.width );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tthis.__resizeHandler = function () {\r\n\r\n\t\t_this.onResizeDebounced();\r\n\r\n\t};\r\n\tdom.bind( window, 'resize', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\r\n\tthis.onResize();\r\n\tif ( params.resizable ) {\r\n\r\n\t\taddResizeHandle( this );\r\n\r\n\t}\r\n\tsaveToLocalStorage = function saveToLocalStorage() {\r\n\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\r\n\tfunction resetWidth() {\r\n\r\n\t\tvar root = _this.getRoot();\r\n\t\troot.width += 1;\r\n\t\tCommon.defer( function () {\r\n\r\n\t\t\troot.width -= 1;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tif ( ! params.parent ) {\r\n\r\n\t\tresetWidth();\r\n\r\n\t}\r\n\r\n};\r\nGUI.toggleHide = function () {\r\n\r\n\thide = ! hide;\r\n\tCommon.each( hideableGuis, function ( gui ) {\r\n\r\n\t\tgui.domElement.style.display = hide ? 'none' : '';\r\n\r\n\t} );\r\n\r\n};\r\nGUI.CLASS_AUTO_PLACE = 'a';\r\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\r\nGUI.CLASS_MAIN = 'main';\r\nGUI.CLASS_CONTROLLER_ROW = 'cr';\r\nGUI.CLASS_TOO_TALL = 'taller-than-window';\r\nGUI.CLASS_CLOSED = 'closed';\r\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\r\nGUI.CLASS_CLOSE_TOP = 'close-top';\r\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\r\nGUI.CLASS_DRAG = 'drag';\r\nGUI.DEFAULT_WIDTH = 245;\r\nGUI.TEXT_CLOSED = 'Close Controls';\r\nGUI.TEXT_OPEN = 'Open Controls';\r\nGUI._keydownHandler = function ( e ) {\r\n\r\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\r\n\r\n\t\tGUI.toggleHide();\r\n\r\n\t}\r\n\r\n};\r\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\r\nCommon.extend( GUI.prototype,\r\n\t{\r\n\t\tadd: function add( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\taddColor: function addColor( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tcolor: true\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tremove: function remove( controller ) {\r\n\r\n\t\t\tthis.__ul.removeChild( controller.__li );\r\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdestroy: function destroy() {\r\n\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\t_this.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\r\n\t\t\tremoveListeners( this );\r\n\r\n\t\t},\r\n\t\taddFolder: function addFolder( name ) {\r\n\r\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\r\n\r\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\r\n\r\n\t\t\t}\r\n\t\t\tvar newGuiParams = { name: name, parent: this };\r\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ name ] ) {\r\n\r\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\r\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\r\n\r\n\t\t\t}\r\n\t\t\tvar gui = new GUI( newGuiParams );\r\n\t\t\tthis.__folders[ name ] = gui;\r\n\t\t\tvar li = addRow( this, gui.domElement );\r\n\t\t\tdom.addClass( li, 'folder' );\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tremoveFolder: function removeFolder( folder ) {\r\n\r\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\r\n\t\t\tdelete this.__folders[ folder.name ];\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ folder.name ] ) {\r\n\r\n\t\t\t\tdelete this.load.folders[ folder.name ];\r\n\r\n\t\t\t}\r\n\t\t\tremoveListeners( folder );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\tfolder.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\topen: function open() {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t},\r\n\t\tclose: function close() {\r\n\r\n\t\t\tthis.closed = true;\r\n\r\n\t\t},\r\n\t\thide: function hide() {\r\n\r\n\t\t\tthis.domElement.style.display = 'none';\r\n\r\n\t\t},\r\n\t\tshow: function show() {\r\n\r\n\t\t\tthis.domElement.style.display = '';\r\n\r\n\t\t},\r\n\t\tonResize: function onResize() {\r\n\r\n\t\t\tvar root = this.getRoot();\r\n\t\t\tif ( root.scrollable ) {\r\n\r\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\r\n\t\t\t\tvar h = 0;\r\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\r\n\r\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\r\n\r\n\t\t\t\t\t\th += dom.getHeight( node );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\r\n\r\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = 'auto';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__resize_handle ) {\r\n\r\n\t\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__closeButton ) {\r\n\r\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonResizeDebounced: Common.debounce( function () {\r\n\r\n\t\t\tthis.onResize();\r\n\r\n\t\t}, 50 ),\r\n\t\tremember: function remember() {\r\n\r\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\r\n\r\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\r\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\r\n\r\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\r\n\r\n\t\t\t\t\taddSaveMenu( _this );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\r\n\r\n\t\t\t\t\t_this.__rememberedObjects.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tsetWidth( this, this.width );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tgetRoot: function getRoot() {\r\n\r\n\t\t\tvar gui = this;\r\n\t\t\twhile ( gui.parent ) {\r\n\r\n\t\t\t\tgui = gui.parent;\r\n\r\n\t\t\t}\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tgetSaveObject: function getSaveObject() {\r\n\r\n\t\t\tvar toReturn = this.load;\r\n\t\t\ttoReturn.closed = this.closed;\r\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\r\n\r\n\t\t\t\ttoReturn.preset = this.preset;\r\n\t\t\t\tif ( ! toReturn.remembered ) {\r\n\r\n\t\t\t\t\ttoReturn.remembered = {};\r\n\r\n\t\t\t\t}\r\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\r\n\r\n\t\t\t}\r\n\t\t\ttoReturn.folders = {};\r\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\r\n\r\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\r\n\r\n\t\t\t} );\r\n\t\t\treturn toReturn;\r\n\r\n\t\t},\r\n\t\tsave: function save() {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\r\n\t\t\tmarkPresetModified( this, false );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\tsaveAs: function saveAs( presetName ) {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\r\n\t\t\tthis.preset = presetName;\r\n\t\t\taddPresetOption( this, presetName, true );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\trevert: function revert( gui ) {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\r\n\r\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( controller.__onFinishChange ) {\r\n\r\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, this );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.revert( folder );\r\n\r\n\t\t\t} );\r\n\t\t\tif ( ! gui ) {\r\n\r\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tlisten: function listen( controller ) {\r\n\r\n\t\t\tvar init = this.__listening.length === 0;\r\n\t\t\tthis.__listening.push( controller );\r\n\t\t\tif ( init ) {\r\n\r\n\t\t\t\tupdateDisplays( this.__listening );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tupdateDisplay: function updateDisplay() {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tcontroller.updateDisplay();\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.updateDisplay();\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} );\r\nfunction addRow( gui, newDom, liBefore ) {\r\n\r\n\tvar li = document.createElement( 'li' );\r\n\tif ( newDom ) {\r\n\r\n\t\tli.appendChild( newDom );\r\n\r\n\t}\r\n\tif ( liBefore ) {\r\n\r\n\t\tgui.__ul.insertBefore( li, liBefore );\r\n\r\n\t} else {\r\n\r\n\t\tgui.__ul.appendChild( li );\r\n\r\n\t}\r\n\tgui.onResize();\r\n\treturn li;\r\n\r\n}\r\nfunction removeListeners( gui ) {\r\n\r\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\r\n\tif ( gui.saveToLocalStorageIfPossible ) {\r\n\r\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\r\n\r\n\t}\r\n\r\n}\r\nfunction markPresetModified( gui, modified ) {\r\n\r\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\r\n\tif ( modified ) {\r\n\r\n\t\topt.innerHTML = opt.value + '*';\r\n\r\n\t} else {\r\n\r\n\t\topt.innerHTML = opt.value;\r\n\r\n\t}\r\n\r\n}\r\nfunction augmentController( gui, li, controller ) {\r\n\r\n\tcontroller.__li = li;\r\n\tcontroller.__gui = gui;\r\n\tCommon.extend( controller, {\r\n\t\toptions: function options( _options ) {\r\n\r\n\t\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\r\n\r\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: _nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ _options ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tname: function name( _name ) {\r\n\r\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tlisten: function listen() {\r\n\r\n\t\t\tcontroller.__gui.listen( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tremove: function remove() {\r\n\r\n\t\t\tcontroller.__gui.remove( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t}\r\n\t} );\r\n\tif ( controller instanceof NumberControllerSlider ) {\r\n\r\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\r\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\r\n\r\n\t\t\tvar pc = controller[ method ];\r\n\t\t\tvar pb = box[ method ];\r\n\t\t\tcontroller[ method ] = box[ method ] = function () {\r\n\r\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\r\n\t\t\t\tpb.apply( box, args );\r\n\t\t\t\treturn pc.apply( controller, args );\r\n\r\n\t\t\t};\r\n\r\n\t\t} );\r\n\t\tdom.addClass( li, 'has-slider' );\r\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\r\n\r\n\t} else if ( controller instanceof NumberControllerBox ) {\r\n\r\n\t\tvar r = function r( returned ) {\r\n\r\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\r\n\r\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\r\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\r\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\r\n\t\t\t\t} );\r\n\t\t\t\tnewController.name( oldName );\r\n\t\t\t\tif ( wasListening ) newController.listen();\r\n\t\t\t\treturn newController;\r\n\r\n\t\t\t}\r\n\t\t\treturn returned;\r\n\r\n\t\t};\r\n\t\tcontroller.min = Common.compose( r, controller.min );\r\n\t\tcontroller.max = Common.compose( r, controller.max );\r\n\r\n\t} else if ( controller instanceof BooleanController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\r\n\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof FunctionController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseover', function () {\r\n\r\n\t\t\tdom.addClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseout', function () {\r\n\r\n\t\t\tdom.removeClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\r\n\r\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\r\n\t\t\treturn val;\r\n\r\n\t\t}, controller.updateDisplay );\r\n\t\tcontroller.updateDisplay();\r\n\r\n\t}\r\n\tcontroller.setValue = Common.compose( function ( val ) {\r\n\r\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\r\n\r\n\t\t\tmarkPresetModified( gui.getRoot(), true );\r\n\r\n\t\t}\r\n\t\treturn val;\r\n\r\n\t}, controller.setValue );\r\n\r\n}\r\nfunction recallSavedValue( gui, controller ) {\r\n\r\n\tvar root = gui.getRoot();\r\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\r\n\tif ( matchedIndex !== - 1 ) {\r\n\r\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\r\n\t\tif ( controllerMap === undefined ) {\r\n\r\n\t\t\tcontrollerMap = {};\r\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\r\n\r\n\t\t}\r\n\t\tcontrollerMap[ controller.property ] = controller;\r\n\t\tif ( root.load && root.load.remembered ) {\r\n\r\n\t\t\tvar presetMap = root.load.remembered;\r\n\t\t\tvar preset = void 0;\r\n\t\t\tif ( presetMap[ gui.preset ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ gui.preset ];\r\n\r\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\r\n\r\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\r\n\t\t\t\tcontroller.initialValue = value;\r\n\t\t\t\tcontroller.setValue( value );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction _add( gui, object, property, params ) {\r\n\r\n\tif ( object[ property ] === undefined ) {\r\n\r\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\r\n\r\n\t}\r\n\tvar controller = void 0;\r\n\tif ( params.color ) {\r\n\r\n\t\tcontroller = new ColorController( object, property );\r\n\r\n\t} else {\r\n\r\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\r\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\r\n\r\n\t}\r\n\tif ( params.before instanceof Controller ) {\r\n\r\n\t\tparams.before = params.before.__li;\r\n\r\n\t}\r\n\trecallSavedValue( gui, controller );\r\n\tdom.addClass( controller.domElement, 'c' );\r\n\tvar name = document.createElement( 'span' );\r\n\tdom.addClass( name, 'property-name' );\r\n\tname.innerHTML = controller.property;\r\n\tvar container = document.createElement( 'div' );\r\n\tcontainer.appendChild( name );\r\n\tcontainer.appendChild( controller.domElement );\r\n\tvar li = addRow( gui, container, params.before );\r\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\r\n\tif ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\r\n\t} else {\r\n\r\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\r\n\r\n\t}\r\n\taugmentController( gui, li, controller );\r\n\tgui.__controllers.push( controller );\r\n\treturn controller;\r\n\r\n}\r\nfunction getLocalStorageHash( gui, key ) {\r\n\r\n\treturn document.location.href + '.' + key;\r\n\r\n}\r\nfunction addPresetOption( gui, name, setSelected ) {\r\n\r\n\tvar opt = document.createElement( 'option' );\r\n\topt.innerHTML = name;\r\n\topt.value = name;\r\n\tgui.__preset_select.appendChild( opt );\r\n\tif ( setSelected ) {\r\n\r\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\r\n\r\n\t}\r\n\r\n}\r\nfunction showHideExplain( gui, explain ) {\r\n\r\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\r\n\r\n}\r\nfunction addSaveMenu( gui ) {\r\n\r\n\tvar div = gui.__save_row = document.createElement( 'li' );\r\n\tdom.addClass( gui.domElement, 'has-save' );\r\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\r\n\tdom.addClass( div, 'save-row' );\r\n\tvar gears = document.createElement( 'span' );\r\n\tgears.innerHTML = '&nbsp;';\r\n\tdom.addClass( gears, 'button gears' );\r\n\tvar button = document.createElement( 'span' );\r\n\tbutton.innerHTML = 'Save';\r\n\tdom.addClass( button, 'button' );\r\n\tdom.addClass( button, 'save' );\r\n\tvar button2 = document.createElement( 'span' );\r\n\tbutton2.innerHTML = 'New';\r\n\tdom.addClass( button2, 'button' );\r\n\tdom.addClass( button2, 'save-as' );\r\n\tvar button3 = document.createElement( 'span' );\r\n\tbutton3.innerHTML = 'Revert';\r\n\tdom.addClass( button3, 'button' );\r\n\tdom.addClass( button3, 'revert' );\r\n\tvar select = gui.__preset_select = document.createElement( 'select' );\r\n\tif ( gui.load && gui.load.remembered ) {\r\n\r\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\r\n\r\n\t\t\taddPresetOption( gui, key, key === gui.preset );\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\r\n\r\n\t}\r\n\tdom.bind( select, 'change', function () {\r\n\r\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\r\n\r\n\t\t}\r\n\t\tgui.preset = this.value;\r\n\r\n\t} );\r\n\tdiv.appendChild( select );\r\n\tdiv.appendChild( gears );\r\n\tdiv.appendChild( button );\r\n\tdiv.appendChild( button2 );\r\n\tdiv.appendChild( button3 );\r\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\r\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\r\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\r\n\t\tsaveLocally.style.display = 'block';\r\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\r\n\r\n\t\t}\r\n\t\tshowHideExplain( gui, explain );\r\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\r\n\r\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\r\n\t\t\tshowHideExplain( gui, explain );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\r\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\r\n\r\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\r\n\r\n\t\t\tSAVE_DIALOGUE.hide();\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( gears, 'click', function () {\r\n\r\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\r\n\t\tSAVE_DIALOGUE.show();\r\n\t\tnewConstructorTextArea.focus();\r\n\t\tnewConstructorTextArea.select();\r\n\r\n\t} );\r\n\tdom.bind( button, 'click', function () {\r\n\r\n\t\tgui.save();\r\n\r\n\t} );\r\n\tdom.bind( button2, 'click', function () {\r\n\r\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\r\n\t\tif ( presetName ) {\r\n\r\n\t\t\tgui.saveAs( presetName );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( button3, 'click', function () {\r\n\r\n\t\tgui.revert();\r\n\r\n\t} );\r\n\r\n}\r\nfunction addResizeHandle( gui ) {\r\n\r\n\tvar pmouseX = void 0;\r\n\tgui.__resize_handle = document.createElement( 'div' );\r\n\tCommon.extend( gui.__resize_handle.style, {\r\n\t\twidth: '6px',\r\n\t\tmarginLeft: '-3px',\r\n\t\theight: '200px',\r\n\t\tcursor: 'ew-resize',\r\n\t\tposition: 'absolute'\r\n\t} );\r\n\tfunction drag( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tgui.width += pmouseX - e.clientX;\r\n\t\tgui.onResize();\r\n\t\tpmouseX = e.clientX;\r\n\t\treturn false;\r\n\r\n\t}\r\n\tfunction dragStop() {\r\n\r\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.unbind( window, 'mousemove', drag );\r\n\t\tdom.unbind( window, 'mouseup', dragStop );\r\n\r\n\t}\r\n\tfunction dragStart( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tpmouseX = e.clientX;\r\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.bind( window, 'mousemove', drag );\r\n\t\tdom.bind( window, 'mouseup', dragStop );\r\n\t\treturn false;\r\n\r\n\t}\r\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\r\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\r\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\r\n\r\n}\r\nfunction setWidth( gui, w ) {\r\n\r\n\tgui.domElement.style.width = w + 'px';\r\n\tif ( gui.__save_row && gui.autoPlace ) {\r\n\r\n\t\tgui.__save_row.style.width = w + 'px';\r\n\r\n\t}\r\n\tif ( gui.__closeButton ) {\r\n\r\n\t\tgui.__closeButton.style.width = w + 'px';\r\n\r\n\t}\r\n\r\n}\r\nfunction getCurrentPreset( gui, useInitialValues ) {\r\n\r\n\tvar toReturn = {};\r\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\r\n\r\n\t\tvar savedValues = {};\r\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\r\n\t\tCommon.each( controllerMap, function ( controller, property ) {\r\n\r\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\r\n\r\n\t\t} );\r\n\t\ttoReturn[ index ] = savedValues;\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n}\r\nfunction setPresetSelectIndex( gui ) {\r\n\r\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\r\n\r\n\t\t\tgui.__preset_select.selectedIndex = index;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction updateDisplays( controllerArray ) {\r\n\r\n\tif ( controllerArray.length !== 0 ) {\r\n\r\n\t\trequestAnimationFrame$1.call( window, function () {\r\n\r\n\t\t\tupdateDisplays( controllerArray );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tCommon.each( controllerArray, function ( c ) {\r\n\r\n\t\tc.updateDisplay();\r\n\r\n\t} );\r\n\r\n}\r\n\r\nvar color = {\r\n\tColor: Color,\r\n\tmath: ColorMath,\r\n\tinterpret: interpret\r\n};\r\nvar controllers = {\r\n\tController: Controller,\r\n\tBooleanController: BooleanController,\r\n\tOptionController: OptionController,\r\n\tStringController: StringController,\r\n\tNumberController: NumberController,\r\n\tNumberControllerBox: NumberControllerBox,\r\n\tNumberControllerSlider: NumberControllerSlider,\r\n\tFunctionController: FunctionController,\r\n\tColorController: ColorController\r\n};\r\nvar dom$1 = { dom: dom };\r\nvar gui = { GUI: GUI };\r\nvar GUI$1 = GUI;\r\nvar index = {\r\n\tcolor: color,\r\n\tcontrollers: controllers,\r\n\tdom: dom$1,\r\n\tgui: gui,\r\n\tGUI: GUI$1\r\n};\r\n\r\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\r\nexport default index;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/dat.gui.module.js","function NodeUniform( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tthis.name = params.name;\r\n\tthis.type = params.type;\r\n\tthis.node = params.node;\r\n\tthis.needsUpdate = params.needsUpdate;\r\n\r\n}\r\n\r\nObject.defineProperties( NodeUniform.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.node.value;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.node.value = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { NodeUniform };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeUniform.js","import {\r\n\tMathUtils,\r\n\tSpherical,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar FirstPersonControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) {\r\n\r\n\t\tconsole.warn( 'THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.' );\r\n\t\tdomElement = document;\r\n\r\n\t}\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.movementSpeed = 1.0;\r\n\tthis.lookSpeed = 0.005;\r\n\r\n\tthis.lookVertical = true;\r\n\tthis.autoForward = false;\r\n\r\n\tthis.activeLook = true;\r\n\r\n\tthis.heightSpeed = false;\r\n\tthis.heightCoef = 1.0;\r\n\tthis.heightMin = 0.0;\r\n\tthis.heightMax = 1.0;\r\n\r\n\tthis.constrainVertical = false;\r\n\tthis.verticalMin = 0;\r\n\tthis.verticalMax = Math.PI;\r\n\r\n\tthis.mouseDragOn = false;\r\n\r\n\t// internals\r\n\r\n\tthis.autoSpeedFactor = 0.0;\r\n\r\n\tthis.mouseX = 0;\r\n\tthis.mouseY = 0;\r\n\r\n\tthis.moveForward = false;\r\n\tthis.moveBackward = false;\r\n\tthis.moveLeft = false;\r\n\tthis.moveRight = false;\r\n\r\n\tthis.viewHalfX = 0;\r\n\tthis.viewHalfY = 0;\r\n\r\n\t// private variables\r\n\r\n\tvar lat = 0;\r\n\tvar lon = 0;\r\n\r\n\tvar lookDirection = new Vector3();\r\n\tvar spherical = new Spherical();\r\n\tvar target = new Vector3();\r\n\r\n\t//\r\n\r\n\tif ( this.domElement !== document ) {\r\n\r\n\t\tthis.domElement.setAttribute( 'tabindex', - 1 );\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.viewHalfX = window.innerWidth / 2;\r\n\t\t\tthis.viewHalfY = window.innerHeight / 2;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\r\n\t\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onMouseDown = function ( event ) {\r\n\r\n\t\tif ( this.domElement !== document ) {\r\n\r\n\t\t\tthis.domElement.focus();\r\n\r\n\t\t}\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = true; break;\r\n\t\t\t\tcase 2: this.moveBackward = true; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = true;\r\n\r\n\t};\r\n\r\n\tthis.onMouseUp = function ( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( this.activeLook ) {\r\n\r\n\t\t\tswitch ( event.button ) {\r\n\r\n\t\t\t\tcase 0: this.moveForward = false; break;\r\n\t\t\t\tcase 2: this.moveBackward = false; break;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.mouseDragOn = false;\r\n\r\n\t};\r\n\r\n\tthis.onMouseMove = function ( event ) {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\r\n\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyDown = function ( event ) {\r\n\r\n\t\t//event.preventDefault();\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = true; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = true; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = true; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = true; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = true; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = true; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.onKeyUp = function ( event ) {\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase 38: /*up*/\r\n\t\t\tcase 87: /*W*/ this.moveForward = false; break;\r\n\r\n\t\t\tcase 37: /*left*/\r\n\t\t\tcase 65: /*A*/ this.moveLeft = false; break;\r\n\r\n\t\t\tcase 40: /*down*/\r\n\t\t\tcase 83: /*S*/ this.moveBackward = false; break;\r\n\r\n\t\t\tcase 39: /*right*/\r\n\t\t\tcase 68: /*D*/ this.moveRight = false; break;\r\n\r\n\t\t\tcase 82: /*R*/ this.moveUp = false; break;\r\n\t\t\tcase 70: /*F*/ this.moveDown = false; break;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.lookAt = function ( x, y, z ) {\r\n\r\n\t\tif ( x.isVector3 ) {\r\n\r\n\t\t\ttarget.copy( x );\r\n\r\n\t\t} else {\r\n\r\n\t\t\ttarget.set( x, y, z );\r\n\r\n\t\t}\r\n\r\n\t\tthis.object.lookAt( target );\r\n\r\n\t\tsetOrientation( this );\r\n\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\tvar targetPosition = new Vector3();\r\n\r\n\t\treturn function update( delta ) {\r\n\r\n\t\t\tif ( this.enabled === false ) return;\r\n\r\n\t\t\tif ( this.heightSpeed ) {\r\n\r\n\t\t\t\tvar y = MathUtils.clamp( this.object.position.y, this.heightMin, this.heightMax );\r\n\t\t\t\tvar heightDelta = y - this.heightMin;\r\n\r\n\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.autoSpeedFactor = 0.0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar actualMoveSpeed = delta * this.movementSpeed;\r\n\r\n\t\t\tif ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\r\n\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\r\n\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\r\n\r\n\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\r\n\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\r\n\r\n\t\t\tvar actualLookSpeed = delta * this.lookSpeed;\r\n\r\n\t\t\tif ( ! this.activeLook ) {\r\n\r\n\t\t\t\tactualLookSpeed = 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar verticalLookRatio = 1;\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlon -= this.mouseX * actualLookSpeed;\r\n\t\t\tif ( this.lookVertical ) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\r\n\r\n\t\t\tlat = Math.max( - 85, Math.min( 85, lat ) );\r\n\r\n\t\t\tvar phi = MathUtils.degToRad( 90 - lat );\r\n\t\t\tvar theta = MathUtils.degToRad( lon );\r\n\r\n\t\t\tif ( this.constrainVertical ) {\r\n\r\n\t\t\t\tphi = MathUtils.mapLinear( phi, 0, Math.PI, this.verticalMin, this.verticalMax );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar position = this.object.position;\r\n\r\n\t\t\ttargetPosition.setFromSphericalCoords( 1, phi, theta ).add( position );\r\n\r\n\t\t\tthis.object.lookAt( targetPosition );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\t\tthis.domElement.removeEventListener( 'mousedown', _onMouseDown, false );\r\n\t\tthis.domElement.removeEventListener( 'mousemove', _onMouseMove, false );\r\n\t\tthis.domElement.removeEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', _onKeyDown, false );\r\n\t\twindow.removeEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\t};\r\n\r\n\tvar _onMouseMove = bind( this, this.onMouseMove );\r\n\tvar _onMouseDown = bind( this, this.onMouseDown );\r\n\tvar _onMouseUp = bind( this, this.onMouseUp );\r\n\tvar _onKeyDown = bind( this, this.onKeyDown );\r\n\tvar _onKeyUp = bind( this, this.onKeyUp );\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\tthis.domElement.addEventListener( 'mousemove', _onMouseMove, false );\r\n\tthis.domElement.addEventListener( 'mousedown', _onMouseDown, false );\r\n\tthis.domElement.addEventListener( 'mouseup', _onMouseUp, false );\r\n\r\n\twindow.addEventListener( 'keydown', _onKeyDown, false );\r\n\twindow.addEventListener( 'keyup', _onKeyUp, false );\r\n\r\n\tfunction bind( scope, fn ) {\r\n\r\n\t\treturn function () {\r\n\r\n\t\t\tfn.apply( scope, arguments );\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction setOrientation( controls ) {\r\n\r\n\t\tvar quaternion = controls.object.quaternion;\r\n\r\n\t\tlookDirection.set( 0, 0, - 1 ).applyQuaternion( quaternion );\r\n\t\tspherical.setFromVector3( lookDirection );\r\n\r\n\t\tlat = 90 - MathUtils.radToDeg( spherical.phi );\r\n\t\tlon = MathUtils.radToDeg( spherical.theta );\r\n\r\n\t}\r\n\r\n\tthis.handleResize();\r\n\r\n\tsetOrientation( this );\r\n\r\n};\r\n\r\nexport { FirstPersonControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/FirstPersonControls.js","import { Color } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction ColorNode( color, g, b ) {\r\n\r\n\tInputNode.call( this, 'c' );\r\n\r\n\tthis.value = color instanceof Color ? color : new Color( color || 0, g, b );\r\n\r\n}\r\n\r\nColorNode.prototype = Object.create( InputNode.prototype );\r\nColorNode.prototype.constructor = ColorNode;\r\nColorNode.prototype.nodeType = \"Color\";\r\n\r\nNodeUtils.addShortcuts( ColorNode.prototype, 'value', [ 'r', 'g', 'b' ] );\r\n\r\nColorNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"vec3( \" + this.r + \", \" + this.g + \", \" + this.b + \" )\", type, output );\r\n\r\n};\r\n\r\nColorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.r = this.r;\r\n\t\tdata.g = this.g;\r\n\t\tdata.b = this.b;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ColorNode.js","import { Node } from '../../core/Node.js';\r\n\r\nfunction RawNode( value ) {\r\n\r\n\tNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nRawNode.prototype = Object.create( Node.prototype );\r\nRawNode.prototype.constructor = RawNode;\r\nRawNode.prototype.nodeType = \"Raw\";\r\n\r\nRawNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar data = this.value.analyzeAndFlow( builder, this.type ),\r\n\t\tcode = data.code + '\\n';\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tcode += 'gl_Position = ' + data.result + ';';\r\n\r\n\t} else {\r\n\r\n\t\tcode += 'gl_FragColor = ' + data.result + ';';\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nRawNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRawNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RawNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/RawNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction CubeTextureNode( value, uv, bias ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new ReflectNode();\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nCubeTextureNode.prototype = Object.create( InputNode.prototype );\r\nCubeTextureNode.prototype.constructor = CubeTextureNode;\r\nCubeTextureNode.prototype.nodeType = \"CubeTexture\";\r\n\r\nCubeTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 'tc' );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'samplerCube' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar cubetex = this.getTexture( builder, output );\r\n\tvar uv = this.uv.build( builder, 'v3' );\r\n\tvar bias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar code;\r\n\r\n\tif ( bias ) code = 'texCubeBias( ' + cubetex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = 'texCube( ' + cubetex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create variables temp nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCubeTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CubeTextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/CubeTextureNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction FunctionCallNode( func, inputs ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.setFunction( func, inputs );\r\n\r\n}\r\n\r\nFunctionCallNode.prototype = Object.create( TempNode.prototype );\r\nFunctionCallNode.prototype.constructor = FunctionCallNode;\r\nFunctionCallNode.prototype.nodeType = \"FunctionCall\";\r\n\r\nFunctionCallNode.prototype.setFunction = function ( func, inputs ) {\r\n\r\n\tthis.value = func;\r\n\tthis.inputs = inputs || [];\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getFunction = function () {\r\n\r\n\treturn this.value;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn this.value.getType( builder );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tfunc = this.value;\r\n\r\n\tvar code = func.build( builder, output ) + '( ',\r\n\t\tparams = [];\r\n\r\n\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\tvar inpt = func.inputs[ i ],\r\n\t\t\tparam = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\tparams.push( param.build( builder, builder.getTypeByFormat( inpt.type ) ) );\r\n\r\n\t}\r\n\r\n\tcode += params.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis.inputs[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nFunctionCallNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tvar func = this.value;\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t\tif ( func.inputs.length ) {\r\n\r\n\t\t\tdata.inputs = {};\r\n\r\n\t\t\tfor ( var i = 0; i < func.inputs.length; i ++ ) {\r\n\r\n\t\t\t\tvar inpt = func.inputs[ i ],\r\n\t\t\t\t\tnode = this.inputs[ i ] || this.inputs[ inpt.name ];\r\n\r\n\t\t\t\tdata.inputs[ inpt.name ] = node.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { FunctionCallNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/FunctionCallNode.js","import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tMatrix4,\r\n\tVector3,\r\n\tVector4\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Tessellates the famous Utah teapot database by Martin Newell into triangles.\r\n *\r\n * Parameters: size = 50, segments = 10, bottom = true, lid = true, body = true,\r\n *   fitLid = false, blinn = true\r\n *\r\n * size is a relative scale: I've scaled the teapot to fit vertically between -1 and 1.\r\n * Think of it as a \"radius\".\r\n * segments - number of line segments to subdivide each patch edge;\r\n *   1 is possible but gives degenerates, so two is the real minimum.\r\n * bottom - boolean, if true (default) then the bottom patches are added. Some consider\r\n *   adding the bottom heresy, so set this to \"false\" to adhere to the One True Way.\r\n * lid - to remove the lid and look inside, set to true.\r\n * body - to remove the body and leave the lid, set this and \"bottom\" to false.\r\n * fitLid - the lid is a tad small in the original. This stretches it a bit so you can't\r\n *   see the teapot's insides through the gap.\r\n * blinn - Jim Blinn scaled the original data vertically by dividing by about 1.3 to look\r\n *   nicer. If you want to see the original teapot, similar to the real-world model, set\r\n *   this to false. True by default.\r\n *   See http://en.wikipedia.org/wiki/File:Original_Utah_Teapot.jpg for the original\r\n *   real-world teapot (from http://en.wikipedia.org/wiki/Utah_teapot).\r\n *\r\n * Note that the bottom (the last four patches) is not flat - blame Frank Crow, not me.\r\n *\r\n * The teapot should normally be rendered as a double sided object, since for some\r\n * patches both sides can be seen, e.g., the gap around the lid and inside the spout.\r\n *\r\n * Segments 'n' determines the number of triangles output.\r\n *   Total triangles = 32*2*n*n - 8*n    [degenerates at the top and bottom cusps are deleted]\r\n *\r\n *   size_factor   # triangles\r\n *       1          56\r\n *       2         240\r\n *       3         552\r\n *       4         992\r\n *\r\n *      10        6320\r\n *      20       25440\r\n *      30       57360\r\n *\r\n * Code converted from my ancient SPD software, http://tog.acm.org/resources/SPD/\r\n * Created for the Udacity course \"Interactive Rendering\", http://bit.ly/ericity\r\n * Lesson: https://www.udacity.com/course/viewer#!/c-cs291/l-68866048/m-106482448\r\n * YouTube video on teapot history: https://www.youtube.com/watch?v=DxMfblPzFNc\r\n *\r\n * See https://en.wikipedia.org/wiki/Utah_teapot for the history of the teapot\r\n *\r\n */\r\n\r\nvar TeapotBufferGeometry = function ( size, segments, bottom, lid, body, fitLid, blinn ) {\r\n\r\n\t// 32 * 4 * 4 Bezier spline patches\r\n\tvar teapotPatches = [\r\n\t\t/*rim*/\r\n\t\t0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\r\n\t\t3, 16, 17, 18, 7, 19, 20, 21, 11, 22, 23, 24, 15, 25, 26, 27,\r\n\t\t18, 28, 29, 30, 21, 31, 32, 33, 24, 34, 35, 36, 27, 37, 38, 39,\r\n\t\t30, 40, 41, 0, 33, 42, 43, 4, 36, 44, 45, 8, 39, 46, 47, 12,\r\n\t\t/*body*/\r\n\t\t12, 13, 14, 15, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59,\r\n\t\t15, 25, 26, 27, 51, 60, 61, 62, 55, 63, 64, 65, 59, 66, 67, 68,\r\n\t\t27, 37, 38, 39, 62, 69, 70, 71, 65, 72, 73, 74, 68, 75, 76, 77,\r\n\t\t39, 46, 47, 12, 71, 78, 79, 48, 74, 80, 81, 52, 77, 82, 83, 56,\r\n\t\t56, 57, 58, 59, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\r\n\t\t59, 66, 67, 68, 87, 96, 97, 98, 91, 99, 100, 101, 95, 102, 103, 104,\r\n\t\t68, 75, 76, 77, 98, 105, 106, 107, 101, 108, 109, 110, 104, 111, 112, 113,\r\n\t\t77, 82, 83, 56, 107, 114, 115, 84, 110, 116, 117, 88, 113, 118, 119, 92,\r\n\t\t/*handle*/\r\n\t\t120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135,\r\n\t\t123, 136, 137, 120, 127, 138, 139, 124, 131, 140, 141, 128, 135, 142, 143, 132,\r\n\t\t132, 133, 134, 135, 144, 145, 146, 147, 148, 149, 150, 151, 68, 152, 153, 154,\r\n\t\t135, 142, 143, 132, 147, 155, 156, 144, 151, 157, 158, 148, 154, 159, 160, 68,\r\n\t\t/*spout*/\r\n\t\t161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176,\r\n\t\t164, 177, 178, 161, 168, 179, 180, 165, 172, 181, 182, 169, 176, 183, 184, 173,\r\n\t\t173, 174, 175, 176, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196,\r\n\t\t176, 183, 184, 173, 188, 197, 198, 185, 192, 199, 200, 189, 196, 201, 202, 193,\r\n\t\t/*lid*/\r\n\t\t203, 203, 203, 203, 204, 205, 206, 207, 208, 208, 208, 208, 209, 210, 211, 212,\r\n\t\t203, 203, 203, 203, 207, 213, 214, 215, 208, 208, 208, 208, 212, 216, 217, 218,\r\n\t\t203, 203, 203, 203, 215, 219, 220, 221, 208, 208, 208, 208, 218, 222, 223, 224,\r\n\t\t203, 203, 203, 203, 221, 225, 226, 204, 208, 208, 208, 208, 224, 227, 228, 209,\r\n\t\t209, 210, 211, 212, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240,\r\n\t\t212, 216, 217, 218, 232, 241, 242, 243, 236, 244, 245, 246, 240, 247, 248, 249,\r\n\t\t218, 222, 223, 224, 243, 250, 251, 252, 246, 253, 254, 255, 249, 256, 257, 258,\r\n\t\t224, 227, 228, 209, 252, 259, 260, 229, 255, 261, 262, 233, 258, 263, 264, 237,\r\n\t\t/*bottom*/\r\n\t\t265, 265, 265, 265, 266, 267, 268, 269, 270, 271, 272, 273, 92, 119, 118, 113,\r\n\t\t265, 265, 265, 265, 269, 274, 275, 276, 273, 277, 278, 279, 113, 112, 111, 104,\r\n\t\t265, 265, 265, 265, 276, 280, 281, 282, 279, 283, 284, 285, 104, 103, 102, 95,\r\n\t\t265, 265, 265, 265, 282, 286, 287, 266, 285, 288, 289, 270, 95, 94, 93, 92\r\n\t];\r\n\r\n\tvar teapotVertices = [\r\n\t\t1.4, 0, 2.4,\r\n\t\t1.4, - 0.784, 2.4,\r\n\t\t0.784, - 1.4, 2.4,\r\n\t\t0, - 1.4, 2.4,\r\n\t\t1.3375, 0, 2.53125,\r\n\t\t1.3375, - 0.749, 2.53125,\r\n\t\t0.749, - 1.3375, 2.53125,\r\n\t\t0, - 1.3375, 2.53125,\r\n\t\t1.4375, 0, 2.53125,\r\n\t\t1.4375, - 0.805, 2.53125,\r\n\t\t0.805, - 1.4375, 2.53125,\r\n\t\t0, - 1.4375, 2.53125,\r\n\t\t1.5, 0, 2.4,\r\n\t\t1.5, - 0.84, 2.4,\r\n\t\t0.84, - 1.5, 2.4,\r\n\t\t0, - 1.5, 2.4,\r\n\t\t- 0.784, - 1.4, 2.4,\r\n\t\t- 1.4, - 0.784, 2.4,\r\n\t\t- 1.4, 0, 2.4,\r\n\t\t- 0.749, - 1.3375, 2.53125,\r\n\t\t- 1.3375, - 0.749, 2.53125,\r\n\t\t- 1.3375, 0, 2.53125,\r\n\t\t- 0.805, - 1.4375, 2.53125,\r\n\t\t- 1.4375, - 0.805, 2.53125,\r\n\t\t- 1.4375, 0, 2.53125,\r\n\t\t- 0.84, - 1.5, 2.4,\r\n\t\t- 1.5, - 0.84, 2.4,\r\n\t\t- 1.5, 0, 2.4,\r\n\t\t- 1.4, 0.784, 2.4,\r\n\t\t- 0.784, 1.4, 2.4,\r\n\t\t0, 1.4, 2.4,\r\n\t\t- 1.3375, 0.749, 2.53125,\r\n\t\t- 0.749, 1.3375, 2.53125,\r\n\t\t0, 1.3375, 2.53125,\r\n\t\t- 1.4375, 0.805, 2.53125,\r\n\t\t- 0.805, 1.4375, 2.53125,\r\n\t\t0, 1.4375, 2.53125,\r\n\t\t- 1.5, 0.84, 2.4,\r\n\t\t- 0.84, 1.5, 2.4,\r\n\t\t0, 1.5, 2.4,\r\n\t\t0.784, 1.4, 2.4,\r\n\t\t1.4, 0.784, 2.4,\r\n\t\t0.749, 1.3375, 2.53125,\r\n\t\t1.3375, 0.749, 2.53125,\r\n\t\t0.805, 1.4375, 2.53125,\r\n\t\t1.4375, 0.805, 2.53125,\r\n\t\t0.84, 1.5, 2.4,\r\n\t\t1.5, 0.84, 2.4,\r\n\t\t1.75, 0, 1.875,\r\n\t\t1.75, - 0.98, 1.875,\r\n\t\t0.98, - 1.75, 1.875,\r\n\t\t0, - 1.75, 1.875,\r\n\t\t2, 0, 1.35,\r\n\t\t2, - 1.12, 1.35,\r\n\t\t1.12, - 2, 1.35,\r\n\t\t0, - 2, 1.35,\r\n\t\t2, 0, 0.9,\r\n\t\t2, - 1.12, 0.9,\r\n\t\t1.12, - 2, 0.9,\r\n\t\t0, - 2, 0.9,\r\n\t\t- 0.98, - 1.75, 1.875,\r\n\t\t- 1.75, - 0.98, 1.875,\r\n\t\t- 1.75, 0, 1.875,\r\n\t\t- 1.12, - 2, 1.35,\r\n\t\t- 2, - 1.12, 1.35,\r\n\t\t- 2, 0, 1.35,\r\n\t\t- 1.12, - 2, 0.9,\r\n\t\t- 2, - 1.12, 0.9,\r\n\t\t- 2, 0, 0.9,\r\n\t\t- 1.75, 0.98, 1.875,\r\n\t\t- 0.98, 1.75, 1.875,\r\n\t\t0, 1.75, 1.875,\r\n\t\t- 2, 1.12, 1.35,\r\n\t\t- 1.12, 2, 1.35,\r\n\t\t0, 2, 1.35,\r\n\t\t- 2, 1.12, 0.9,\r\n\t\t- 1.12, 2, 0.9,\r\n\t\t0, 2, 0.9,\r\n\t\t0.98, 1.75, 1.875,\r\n\t\t1.75, 0.98, 1.875,\r\n\t\t1.12, 2, 1.35,\r\n\t\t2, 1.12, 1.35,\r\n\t\t1.12, 2, 0.9,\r\n\t\t2, 1.12, 0.9,\r\n\t\t2, 0, 0.45,\r\n\t\t2, - 1.12, 0.45,\r\n\t\t1.12, - 2, 0.45,\r\n\t\t0, - 2, 0.45,\r\n\t\t1.5, 0, 0.225,\r\n\t\t1.5, - 0.84, 0.225,\r\n\t\t0.84, - 1.5, 0.225,\r\n\t\t0, - 1.5, 0.225,\r\n\t\t1.5, 0, 0.15,\r\n\t\t1.5, - 0.84, 0.15,\r\n\t\t0.84, - 1.5, 0.15,\r\n\t\t0, - 1.5, 0.15,\r\n\t\t- 1.12, - 2, 0.45,\r\n\t\t- 2, - 1.12, 0.45,\r\n\t\t- 2, 0, 0.45,\r\n\t\t- 0.84, - 1.5, 0.225,\r\n\t\t- 1.5, - 0.84, 0.225,\r\n\t\t- 1.5, 0, 0.225,\r\n\t\t- 0.84, - 1.5, 0.15,\r\n\t\t- 1.5, - 0.84, 0.15,\r\n\t\t- 1.5, 0, 0.15,\r\n\t\t- 2, 1.12, 0.45,\r\n\t\t- 1.12, 2, 0.45,\r\n\t\t0, 2, 0.45,\r\n\t\t- 1.5, 0.84, 0.225,\r\n\t\t- 0.84, 1.5, 0.225,\r\n\t\t0, 1.5, 0.225,\r\n\t\t- 1.5, 0.84, 0.15,\r\n\t\t- 0.84, 1.5, 0.15,\r\n\t\t0, 1.5, 0.15,\r\n\t\t1.12, 2, 0.45,\r\n\t\t2, 1.12, 0.45,\r\n\t\t0.84, 1.5, 0.225,\r\n\t\t1.5, 0.84, 0.225,\r\n\t\t0.84, 1.5, 0.15,\r\n\t\t1.5, 0.84, 0.15,\r\n\t\t- 1.6, 0, 2.025,\r\n\t\t- 1.6, - 0.3, 2.025,\r\n\t\t- 1.5, - 0.3, 2.25,\r\n\t\t- 1.5, 0, 2.25,\r\n\t\t- 2.3, 0, 2.025,\r\n\t\t- 2.3, - 0.3, 2.025,\r\n\t\t- 2.5, - 0.3, 2.25,\r\n\t\t- 2.5, 0, 2.25,\r\n\t\t- 2.7, 0, 2.025,\r\n\t\t- 2.7, - 0.3, 2.025,\r\n\t\t- 3, - 0.3, 2.25,\r\n\t\t- 3, 0, 2.25,\r\n\t\t- 2.7, 0, 1.8,\r\n\t\t- 2.7, - 0.3, 1.8,\r\n\t\t- 3, - 0.3, 1.8,\r\n\t\t- 3, 0, 1.8,\r\n\t\t- 1.5, 0.3, 2.25,\r\n\t\t- 1.6, 0.3, 2.025,\r\n\t\t- 2.5, 0.3, 2.25,\r\n\t\t- 2.3, 0.3, 2.025,\r\n\t\t- 3, 0.3, 2.25,\r\n\t\t- 2.7, 0.3, 2.025,\r\n\t\t- 3, 0.3, 1.8,\r\n\t\t- 2.7, 0.3, 1.8,\r\n\t\t- 2.7, 0, 1.575,\r\n\t\t- 2.7, - 0.3, 1.575,\r\n\t\t- 3, - 0.3, 1.35,\r\n\t\t- 3, 0, 1.35,\r\n\t\t- 2.5, 0, 1.125,\r\n\t\t- 2.5, - 0.3, 1.125,\r\n\t\t- 2.65, - 0.3, 0.9375,\r\n\t\t- 2.65, 0, 0.9375,\r\n\t\t- 2, - 0.3, 0.9,\r\n\t\t- 1.9, - 0.3, 0.6,\r\n\t\t- 1.9, 0, 0.6,\r\n\t\t- 3, 0.3, 1.35,\r\n\t\t- 2.7, 0.3, 1.575,\r\n\t\t- 2.65, 0.3, 0.9375,\r\n\t\t- 2.5, 0.3, 1.125,\r\n\t\t- 1.9, 0.3, 0.6,\r\n\t\t- 2, 0.3, 0.9,\r\n\t\t1.7, 0, 1.425,\r\n\t\t1.7, - 0.66, 1.425,\r\n\t\t1.7, - 0.66, 0.6,\r\n\t\t1.7, 0, 0.6,\r\n\t\t2.6, 0, 1.425,\r\n\t\t2.6, - 0.66, 1.425,\r\n\t\t3.1, - 0.66, 0.825,\r\n\t\t3.1, 0, 0.825,\r\n\t\t2.3, 0, 2.1,\r\n\t\t2.3, - 0.25, 2.1,\r\n\t\t2.4, - 0.25, 2.025,\r\n\t\t2.4, 0, 2.025,\r\n\t\t2.7, 0, 2.4,\r\n\t\t2.7, - 0.25, 2.4,\r\n\t\t3.3, - 0.25, 2.4,\r\n\t\t3.3, 0, 2.4,\r\n\t\t1.7, 0.66, 0.6,\r\n\t\t1.7, 0.66, 1.425,\r\n\t\t3.1, 0.66, 0.825,\r\n\t\t2.6, 0.66, 1.425,\r\n\t\t2.4, 0.25, 2.025,\r\n\t\t2.3, 0.25, 2.1,\r\n\t\t3.3, 0.25, 2.4,\r\n\t\t2.7, 0.25, 2.4,\r\n\t\t2.8, 0, 2.475,\r\n\t\t2.8, - 0.25, 2.475,\r\n\t\t3.525, - 0.25, 2.49375,\r\n\t\t3.525, 0, 2.49375,\r\n\t\t2.9, 0, 2.475,\r\n\t\t2.9, - 0.15, 2.475,\r\n\t\t3.45, - 0.15, 2.5125,\r\n\t\t3.45, 0, 2.5125,\r\n\t\t2.8, 0, 2.4,\r\n\t\t2.8, - 0.15, 2.4,\r\n\t\t3.2, - 0.15, 2.4,\r\n\t\t3.2, 0, 2.4,\r\n\t\t3.525, 0.25, 2.49375,\r\n\t\t2.8, 0.25, 2.475,\r\n\t\t3.45, 0.15, 2.5125,\r\n\t\t2.9, 0.15, 2.475,\r\n\t\t3.2, 0.15, 2.4,\r\n\t\t2.8, 0.15, 2.4,\r\n\t\t0, 0, 3.15,\r\n\t\t0.8, 0, 3.15,\r\n\t\t0.8, - 0.45, 3.15,\r\n\t\t0.45, - 0.8, 3.15,\r\n\t\t0, - 0.8, 3.15,\r\n\t\t0, 0, 2.85,\r\n\t\t0.2, 0, 2.7,\r\n\t\t0.2, - 0.112, 2.7,\r\n\t\t0.112, - 0.2, 2.7,\r\n\t\t0, - 0.2, 2.7,\r\n\t\t- 0.45, - 0.8, 3.15,\r\n\t\t- 0.8, - 0.45, 3.15,\r\n\t\t- 0.8, 0, 3.15,\r\n\t\t- 0.112, - 0.2, 2.7,\r\n\t\t- 0.2, - 0.112, 2.7,\r\n\t\t- 0.2, 0, 2.7,\r\n\t\t- 0.8, 0.45, 3.15,\r\n\t\t- 0.45, 0.8, 3.15,\r\n\t\t0, 0.8, 3.15,\r\n\t\t- 0.2, 0.112, 2.7,\r\n\t\t- 0.112, 0.2, 2.7,\r\n\t\t0, 0.2, 2.7,\r\n\t\t0.45, 0.8, 3.15,\r\n\t\t0.8, 0.45, 3.15,\r\n\t\t0.112, 0.2, 2.7,\r\n\t\t0.2, 0.112, 2.7,\r\n\t\t0.4, 0, 2.55,\r\n\t\t0.4, - 0.224, 2.55,\r\n\t\t0.224, - 0.4, 2.55,\r\n\t\t0, - 0.4, 2.55,\r\n\t\t1.3, 0, 2.55,\r\n\t\t1.3, - 0.728, 2.55,\r\n\t\t0.728, - 1.3, 2.55,\r\n\t\t0, - 1.3, 2.55,\r\n\t\t1.3, 0, 2.4,\r\n\t\t1.3, - 0.728, 2.4,\r\n\t\t0.728, - 1.3, 2.4,\r\n\t\t0, - 1.3, 2.4,\r\n\t\t- 0.224, - 0.4, 2.55,\r\n\t\t- 0.4, - 0.224, 2.55,\r\n\t\t- 0.4, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.55,\r\n\t\t- 1.3, - 0.728, 2.55,\r\n\t\t- 1.3, 0, 2.55,\r\n\t\t- 0.728, - 1.3, 2.4,\r\n\t\t- 1.3, - 0.728, 2.4,\r\n\t\t- 1.3, 0, 2.4,\r\n\t\t- 0.4, 0.224, 2.55,\r\n\t\t- 0.224, 0.4, 2.55,\r\n\t\t0, 0.4, 2.55,\r\n\t\t- 1.3, 0.728, 2.55,\r\n\t\t- 0.728, 1.3, 2.55,\r\n\t\t0, 1.3, 2.55,\r\n\t\t- 1.3, 0.728, 2.4,\r\n\t\t- 0.728, 1.3, 2.4,\r\n\t\t0, 1.3, 2.4,\r\n\t\t0.224, 0.4, 2.55,\r\n\t\t0.4, 0.224, 2.55,\r\n\t\t0.728, 1.3, 2.55,\r\n\t\t1.3, 0.728, 2.55,\r\n\t\t0.728, 1.3, 2.4,\r\n\t\t1.3, 0.728, 2.4,\r\n\t\t0, 0, 0,\r\n\t\t1.425, 0, 0,\r\n\t\t1.425, 0.798, 0,\r\n\t\t0.798, 1.425, 0,\r\n\t\t0, 1.425, 0,\r\n\t\t1.5, 0, 0.075,\r\n\t\t1.5, 0.84, 0.075,\r\n\t\t0.84, 1.5, 0.075,\r\n\t\t0, 1.5, 0.075,\r\n\t\t- 0.798, 1.425, 0,\r\n\t\t- 1.425, 0.798, 0,\r\n\t\t- 1.425, 0, 0,\r\n\t\t- 0.84, 1.5, 0.075,\r\n\t\t- 1.5, 0.84, 0.075,\r\n\t\t- 1.5, 0, 0.075,\r\n\t\t- 1.425, - 0.798, 0,\r\n\t\t- 0.798, - 1.425, 0,\r\n\t\t0, - 1.425, 0,\r\n\t\t- 1.5, - 0.84, 0.075,\r\n\t\t- 0.84, - 1.5, 0.075,\r\n\t\t0, - 1.5, 0.075,\r\n\t\t0.798, - 1.425, 0,\r\n\t\t1.425, - 0.798, 0,\r\n\t\t0.84, - 1.5, 0.075,\r\n\t\t1.5, - 0.84, 0.075\r\n\t];\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\tsize = size || 50;\r\n\r\n\t// number of segments per patch\r\n\tsegments = segments !== undefined ? Math.max( 2, Math.floor( segments ) || 10 ) : 10;\r\n\r\n\t// which parts should be visible\r\n\tbottom = bottom === undefined ? true : bottom;\r\n\tlid = lid === undefined ? true : lid;\r\n\tbody = body === undefined ? true : body;\r\n\r\n\t// Should the lid be snug? It's not traditional, but we make it snug by default\r\n\tfitLid = fitLid === undefined ? true : fitLid;\r\n\r\n\t// Jim Blinn scaled the teapot down in size by about 1.3 for\r\n\t// some rendering tests. He liked the new proportions that he kept\r\n\t// the data in this form. The model was distributed with these new\r\n\t// proportions and became the norm. Trivia: comparing images of the\r\n\t// real teapot and the computer model, the ratio for the bowl of the\r\n\t// real teapot is more like 1.25, but since 1.3 is the traditional\r\n\t// value given, we use it here.\r\n\tvar blinnScale = 1.3;\r\n\tblinn = blinn === undefined ? true : blinn;\r\n\r\n\t// scale the size to be the real scaling factor\r\n\tvar maxHeight = 3.15 * ( blinn ? 1 : blinnScale );\r\n\r\n\tvar maxHeight2 = maxHeight / 2;\r\n\tvar trueSize = size / maxHeight2;\r\n\r\n\t// Number of elements depends on what is needed. Subtract degenerate\r\n\t// triangles at tip of bottom and lid out in advance.\r\n\tvar numTriangles = bottom ? ( 8 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += lid ? ( 16 * segments - 4 ) * segments : 0;\r\n\tnumTriangles += body ? 40 * segments * segments : 0;\r\n\r\n\tvar indices = new Uint32Array( numTriangles * 3 );\r\n\r\n\tvar numVertices = bottom ? 4 : 0;\r\n\tnumVertices += lid ? 8 : 0;\r\n\tnumVertices += body ? 20 : 0;\r\n\tnumVertices *= ( segments + 1 ) * ( segments + 1 );\r\n\r\n\tvar vertices = new Float32Array( numVertices * 3 );\r\n\tvar normals = new Float32Array( numVertices * 3 );\r\n\tvar uvs = new Float32Array( numVertices * 2 );\r\n\r\n\t// Bezier form\r\n\tvar ms = new Matrix4();\r\n\tms.set(\r\n\t\t- 1.0, 3.0, - 3.0, 1.0,\r\n\t\t3.0, - 6.0, 3.0, 0.0,\r\n\t\t- 3.0, 3.0, 0.0, 0.0,\r\n\t\t1.0, 0.0, 0.0, 0.0 );\r\n\r\n\tvar g = [];\r\n\tvar i, r, c;\r\n\r\n\tvar sp = [];\r\n\tvar tp = [];\r\n\tvar dsp = [];\r\n\tvar dtp = [];\r\n\r\n\t// M * G * M matrix, sort of see\r\n\t// http://www.cs.helsinki.fi/group/goa/mallinnus/curves/surfaces.html\r\n\tvar mgm = [];\r\n\r\n\tvar vert = [];\r\n\tvar sdir = [];\r\n\tvar tdir = [];\r\n\r\n\tvar norm = new Vector3();\r\n\r\n\tvar tcoord;\r\n\r\n\tvar sstep, tstep;\r\n\tvar vertPerRow;\r\n\r\n\tvar s, t, sval, tval, p;\r\n\tvar dsval = 0;\r\n\tvar dtval = 0;\r\n\r\n\tvar normOut = new Vector3();\r\n\tvar v1, v2, v3, v4;\r\n\r\n\tvar gmx = new Matrix4();\r\n\tvar tmtx = new Matrix4();\r\n\r\n\tvar vsp = new Vector4();\r\n\tvar vtp = new Vector4();\r\n\tvar vdsp = new Vector4();\r\n\tvar vdtp = new Vector4();\r\n\r\n\tvar vsdir = new Vector3();\r\n\tvar vtdir = new Vector3();\r\n\r\n\tvar mst = ms.clone();\r\n\tmst.transpose();\r\n\r\n\t// internal function: test if triangle has any matching vertices;\r\n\t// if so, don't save triangle, since it won't display anything.\r\n\tvar notDegenerate = function ( vtx1, vtx2, vtx3 ) {\r\n\r\n\t\t// if any vertex matches, return false\r\n\t\treturn ! ( ( ( vertices[ vtx1 * 3 ] === vertices[ vtx2 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx2 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx2 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx1 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx1 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) ||\r\n\t\t\t\t   ( ( vertices[ vtx2 * 3 ] === vertices[ vtx3 * 3 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 1 ] === vertices[ vtx3 * 3 + 1 ] ) &&\r\n\t\t\t\t\t ( vertices[ vtx2 * 3 + 2 ] === vertices[ vtx3 * 3 + 2 ] ) ) );\r\n\r\n\t};\r\n\r\n\r\n\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\tmgm[ i ] = new Matrix4();\r\n\r\n\t}\r\n\r\n\tvar minPatches = body ? 0 : 20;\r\n\tvar maxPatches = bottom ? 32 : 28;\r\n\r\n\tvertPerRow = segments + 1;\r\n\r\n\tvar surfCount = 0;\r\n\r\n\tvar vertCount = 0;\r\n\tvar normCount = 0;\r\n\tvar uvCount = 0;\r\n\r\n\tvar indexCount = 0;\r\n\r\n\tfor ( var surf = minPatches; surf < maxPatches; surf ++ ) {\r\n\r\n\t\t// lid is in the middle of the data, patches 20-27,\r\n\t\t// so ignore it for this part of the loop if the lid is not desired\r\n\t\tif ( lid || ( surf < 20 || surf >= 28 ) ) {\r\n\r\n\t\t\t// get M * G * M matrix for x,y,z\r\n\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t// get control patches\r\n\t\t\t\tfor ( r = 0; r < 4; r ++ ) {\r\n\r\n\t\t\t\t\tfor ( c = 0; c < 4; c ++ ) {\r\n\r\n\t\t\t\t\t\t// transposed\r\n\t\t\t\t\t\tg[ c * 4 + r ] = teapotVertices[ teapotPatches[ surf * 16 + r * 4 + c ] * 3 + i ];\r\n\r\n\t\t\t\t\t\t// is the lid to be made larger, and is this a point on the lid\r\n\t\t\t\t\t\t// that is X or Y?\r\n\t\t\t\t\t\tif ( fitLid && ( surf >= 20 && surf < 28 ) && ( i !== 2 ) ) {\r\n\r\n\t\t\t\t\t\t\t// increase XY size by 7.7%, found empirically. I don't\r\n\t\t\t\t\t\t\t// increase Z so that the teapot will continue to fit in the\r\n\t\t\t\t\t\t\t// space -1 to 1 for Y (Y is up for the final model).\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= 1.077;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Blinn \"fixed\" the teapot by dividing Z by blinnScale, and that's the\r\n\t\t\t\t\t\t// data we now use. The original teapot is taller. Fix it:\r\n\t\t\t\t\t\tif ( ! blinn && ( i === 2 ) ) {\r\n\r\n\t\t\t\t\t\t\tg[ c * 4 + r ] *= blinnScale;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgmx.set( g[ 0 ], g[ 1 ], g[ 2 ], g[ 3 ], g[ 4 ], g[ 5 ], g[ 6 ], g[ 7 ], g[ 8 ], g[ 9 ], g[ 10 ], g[ 11 ], g[ 12 ], g[ 13 ], g[ 14 ], g[ 15 ] );\r\n\r\n\t\t\t\ttmtx.multiplyMatrices( gmx, ms );\r\n\t\t\t\tmgm[ i ].multiplyMatrices( mst, tmtx );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// step along, get points, and output\r\n\t\t\tfor ( sstep = 0; sstep <= segments; sstep ++ ) {\r\n\r\n\t\t\t\ts = sstep / segments;\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep <= segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tt = tstep / segments;\r\n\r\n\t\t\t\t\t// point from basis\r\n\t\t\t\t\t// get power vectors and their derivatives\r\n\t\t\t\t\tfor ( p = 4, sval = tval = 1.0; p --; ) {\r\n\r\n\t\t\t\t\t\tsp[ p ] = sval;\r\n\t\t\t\t\t\ttp[ p ] = tval;\r\n\t\t\t\t\t\tsval *= s;\r\n\t\t\t\t\t\ttval *= t;\r\n\r\n\t\t\t\t\t\tif ( p === 3 ) {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dtp[ p ] = 0.0;\r\n\t\t\t\t\t\t\tdsval = dtval = 1.0;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdsp[ p ] = dsval * ( 3 - p );\r\n\t\t\t\t\t\t\tdtp[ p ] = dtval * ( 3 - p );\r\n\t\t\t\t\t\t\tdsval *= s;\r\n\t\t\t\t\t\t\tdtval *= t;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvsp.fromArray( sp );\r\n\t\t\t\t\tvtp.fromArray( tp );\r\n\t\t\t\t\tvdsp.fromArray( dsp );\r\n\t\t\t\t\tvdtp.fromArray( dtp );\r\n\r\n\t\t\t\t\t// do for x,y,z\r\n\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\r\n\r\n\t\t\t\t\t\t// multiply power vectors times matrix to get value\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tvert[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\t// get s and t tangent vectors\r\n\t\t\t\t\t\ttcoord = vdsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\tsdir[ i ] = tcoord.dot( vtp );\r\n\r\n\t\t\t\t\t\ttcoord = vsp.clone();\r\n\t\t\t\t\t\ttcoord.applyMatrix4( mgm[ i ] );\r\n\t\t\t\t\t\ttdir[ i ] = tcoord.dot( vdtp );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// find normal\r\n\t\t\t\t\tvsdir.fromArray( sdir );\r\n\t\t\t\t\tvtdir.fromArray( tdir );\r\n\t\t\t\t\tnorm.crossVectors( vtdir, vsdir );\r\n\t\t\t\t\tnorm.normalize();\r\n\r\n\t\t\t\t\t// if X and Z length is 0, at the cusp, so point the normal up or down, depending on patch number\r\n\t\t\t\t\tif ( vert[ 0 ] === 0 && vert[ 1 ] === 0 ) {\r\n\r\n\t\t\t\t\t\t// if above the middle of the teapot, normal points up, else down\r\n\t\t\t\t\t\tnormOut.set( 0, vert[ 2 ] > maxHeight2 ? 1 : - 1, 0 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// standard output: rotate on X axis\r\n\t\t\t\t\t\tnormOut.set( norm.x, norm.z, - norm.y );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// store it all\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * vert[ 0 ];\r\n\t\t\t\t\tvertices[ vertCount ++ ] = trueSize * ( vert[ 2 ] - maxHeight2 );\r\n\t\t\t\t\tvertices[ vertCount ++ ] = - trueSize * vert[ 1 ];\r\n\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.x;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.y;\r\n\t\t\t\t\tnormals[ normCount ++ ] = normOut.z;\r\n\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - t;\r\n\t\t\t\t\tuvs[ uvCount ++ ] = 1 - s;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// save the faces\r\n\t\t\tfor ( sstep = 0; sstep < segments; sstep ++ ) {\r\n\r\n\t\t\t\tfor ( tstep = 0; tstep < segments; tstep ++ ) {\r\n\r\n\t\t\t\t\tv1 = surfCount * vertPerRow * vertPerRow + sstep * vertPerRow + tstep;\r\n\t\t\t\t\tv2 = v1 + 1;\r\n\t\t\t\t\tv3 = v2 + vertPerRow;\r\n\t\t\t\t\tv4 = v1 + vertPerRow;\r\n\r\n\t\t\t\t\t// Normals and UVs cannot be shared. Without clone(), you can see the consequences\r\n\t\t\t\t\t// of sharing if you call geometry.applyMatrix4( matrix ).\r\n\t\t\t\t\tif ( notDegenerate( v1, v2, v3 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v2;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( notDegenerate( v1, v3, v4 ) ) {\r\n\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v1;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v3;\r\n\t\t\t\t\t\tindices[ indexCount ++ ] = v4;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// increment only if a surface was used\r\n\t\t\tsurfCount ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.setIndex( new BufferAttribute( indices, 1 ) );\r\n\tthis.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\r\n\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\r\n\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ) );\r\n\r\n\tthis.computeBoundingSphere();\r\n\r\n};\r\n\r\n\r\nTeapotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nTeapotBufferGeometry.prototype.constructor = TeapotBufferGeometry;\r\n\r\nexport { TeapotBufferGeometry };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/geometries/TeapotBufferGeometry.js","import {\r\n\tAdditiveBlending,\r\n\tLinearFilter,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\n\r\n/**\r\n*\r\n* Supersample Anti-Aliasing Render Pass\r\n*\r\n* This manual approach to SSAA re-renders the scene ones for each sample with camera jitter and accumulates the results.\r\n*\r\n* References: https://en.wikipedia.org/wiki/Supersampling\r\n*\r\n*/\r\n\r\nvar SSAARenderPass = function ( scene, camera, clearColor, clearAlpha ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.sampleLevel = 4; // specified as n, where the number of samples is 2^n, so sampleLevel = 4, is 2^4 samples, 16.\r\n\tthis.unbiased = true;\r\n\r\n\t// as we need to clear the buffer in this pass, clearColor must be set to something, defaults to black.\r\n\tthis.clearColor = ( clearColor !== undefined ) ? clearColor : 0x000000;\r\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\r\n\r\n\tif ( CopyShader === undefined ) console.error( \"SSAARenderPass relies on CopyShader\" );\r\n\r\n\tvar copyShader = CopyShader;\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\r\n\tthis.copyMaterial = new ShaderMaterial(\t{\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tpremultipliedAlpha: true,\r\n\t\ttransparent: true,\r\n\t\tblending: AdditiveBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\t} );\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( this.copyMaterial );\r\n\r\n};\r\n\r\nSSAARenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: SSAARenderPass,\r\n\r\n\tdispose: function () {\r\n\r\n\t\tif ( this.sampleRenderTarget ) {\r\n\r\n\t\t\tthis.sampleRenderTarget.dispose();\r\n\t\t\tthis.sampleRenderTarget = null;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tif ( this.sampleRenderTarget )\tthis.sampleRenderTarget.setSize( width, height );\r\n\r\n\t},\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tif ( ! this.sampleRenderTarget ) {\r\n\r\n\t\t\tthis.sampleRenderTarget = new WebGLRenderTarget( readBuffer.width, readBuffer.height, { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat } );\r\n\t\t\tthis.sampleRenderTarget.texture.name = \"SSAARenderPass.sample\";\r\n\r\n\t\t}\r\n\r\n\t\tvar jitterOffsets = SSAARenderPass.JitterVectors[ Math.max( 0, Math.min( this.sampleLevel, 5 ) ) ];\r\n\r\n\t\tvar autoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tvar oldClearColor = renderer.getClearColor().getHex();\r\n\t\tvar oldClearAlpha = renderer.getClearAlpha();\r\n\r\n\t\tvar baseSampleWeight = 1.0 / jitterOffsets.length;\r\n\t\tvar roundingRange = 1 / 32;\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.sampleRenderTarget.texture;\r\n\r\n\t\tvar width = readBuffer.width, height = readBuffer.height;\r\n\r\n\t\t// render the scene multiple times, each slightly jitter offset from the last and accumulate the results.\r\n\t\tfor ( var i = 0; i < jitterOffsets.length; i ++ ) {\r\n\r\n\t\t\tvar jitterOffset = jitterOffsets[ i ];\r\n\r\n\t\t\tif ( this.camera.setViewOffset ) {\r\n\r\n\t\t\t\tthis.camera.setViewOffset( width, height,\r\n\t\t\t\t\tjitterOffset[ 0 ] * 0.0625, jitterOffset[ 1 ] * 0.0625, // 0.0625 = 1 / 16\r\n\t\t\t\t\twidth, height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar sampleWeight = baseSampleWeight;\r\n\r\n\t\t\tif ( this.unbiased ) {\r\n\r\n\t\t\t\t// the theory is that equal weights for each sample lead to an accumulation of rounding errors.\r\n\t\t\t\t// The following equation varies the sampleWeight per sample so that it is uniformly distributed\r\n\t\t\t\t// across a range of values whose rounding errors cancel each other out.\r\n\r\n\t\t\t\tvar uniformCenteredDistribution = ( - 0.5 + ( i + 0.5 ) / jitterOffsets.length );\r\n\t\t\t\tsampleWeight += roundingRange * uniformCenteredDistribution;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.copyUniforms[ \"opacity\" ].value = sampleWeight;\r\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\r\n\t\t\trenderer.setRenderTarget( this.sampleRenderTarget );\r\n\t\t\trenderer.clear();\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t\trenderer.setRenderTarget( this.renderToScreen ? null : writeBuffer );\r\n\r\n\t\t\tif ( i === 0 ) {\r\n\r\n\t\t\t\trenderer.setClearColor( 0x000000, 0.0 );\r\n\t\t\t\trenderer.clear();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.camera.clearViewOffset ) this.camera.clearViewOffset();\r\n\r\n\t\trenderer.autoClear = autoClear;\r\n\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\n// These jitter vectors are specified in integers because it is easier.\r\n// I am assuming a [-8,8) integer grid, but it needs to be mapped onto [-0.5,0.5)\r\n// before being used, thus these integers need to be scaled by 1/16.\r\n//\r\n// Sample patterns reference: https://msdn.microsoft.com/en-us/library/windows/desktop/ff476218%28v=vs.85%29.aspx?f=255&MSPPError=-2147217396\r\nSSAARenderPass.JitterVectors = [\r\n\t[\r\n\t\t[ 0, 0 ]\r\n\t],\r\n\t[\r\n\t\t[ 4, 4 ], [ - 4, - 4 ]\r\n\t],\r\n\t[\r\n\t\t[ - 2, - 6 ], [ 6, - 2 ], [ - 6, 2 ], [ 2, 6 ]\r\n\t],\r\n\t[\r\n\t\t[ 1, - 3 ], [ - 1, 3 ], [ 5, 1 ], [ - 3, - 5 ],\r\n\t\t[ - 5, 5 ], [ - 7, - 1 ], [ 3, 7 ], [ 7, - 7 ]\r\n\t],\r\n\t[\r\n\t\t[ 1, 1 ], [ - 1, - 3 ], [ - 3, 2 ], [ 4, - 1 ],\r\n\t\t[ - 5, - 2 ], [ 2, 5 ], [ 5, 3 ], [ 3, - 5 ],\r\n\t\t[ - 2, 6 ], [ 0, - 7 ], [ - 4, - 6 ], [ - 6, 4 ],\r\n\t\t[ - 8, 0 ], [ 7, - 4 ], [ 6, 7 ], [ - 7, - 8 ]\r\n\t],\r\n\t[\r\n\t\t[ - 4, - 7 ], [ - 7, - 5 ], [ - 3, - 5 ], [ - 5, - 4 ],\r\n\t\t[ - 1, - 4 ], [ - 2, - 2 ], [ - 6, - 1 ], [ - 4, 0 ],\r\n\t\t[ - 7, 1 ], [ - 1, 2 ], [ - 6, 3 ], [ - 3, 3 ],\r\n\t\t[ - 7, 6 ], [ - 3, 6 ], [ - 5, 7 ], [ - 1, 7 ],\r\n\t\t[ 5, - 7 ], [ 1, - 6 ], [ 6, - 5 ], [ 4, - 4 ],\r\n\t\t[ 2, - 3 ], [ 7, - 2 ], [ 1, - 1 ], [ 4, - 1 ],\r\n\t\t[ 2, 1 ], [ 6, 2 ], [ 0, 4 ], [ 4, 4 ],\r\n\t\t[ 2, 5 ], [ 7, 5 ], [ 5, 6 ], [ 3, 7 ]\r\n\t]\r\n];\r\n\r\nexport { SSAARenderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/SSAARenderPass.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { StructNode } from '../core/StructNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FunctionCallNode } from '../core/FunctionCallNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { MathNode } from '../math/MathNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\n\r\nfunction TextureCubeUVNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value,\r\n\tthis.uv = uv;\r\n\tthis.bias = bias;\r\n\r\n}\r\n\r\nTextureCubeUVNode.Nodes = ( function () {\r\n\r\n\tvar TextureCubeUVData = new StructNode(\r\n\t\t`struct TextureCubeUVData {\r\n\t\t\tvec4 tl;\r\n\t\t\tvec4 tr;\r\n\t\t\tvec4 br;\r\n\t\t\tvec4 bl;\r\n\t\t\tvec2 f;\r\n\t\t}` );\r\n\r\n\tvar cubeUV_maxMipLevel = new ConstNode( `float cubeUV_maxMipLevel 8.0`, true );\r\n\tvar cubeUV_minMipLevel = new ConstNode( `float cubeUV_minMipLevel 4.0`, true );\r\n\tvar cubeUV_maxTileSize = new ConstNode( `float cubeUV_maxTileSize 256.0`, true );\r\n\tvar cubeUV_minTileSize = new ConstNode( `float cubeUV_minTileSize 16.0`, true );\r\n\r\n\t// These shader functions convert between the UV coordinates of a single face of\r\n\t// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\r\n\t// sampling a textureCube (not generally normalized).\r\n\r\n\tvar getFace = new FunctionNode(\r\n\t\t`float getFace(vec3 direction) {\r\n\t\t\t\tvec3 absDirection = abs(direction);\r\n\t\t\t\tfloat face = -1.0;\r\n\t\t\t\tif (absDirection.x > absDirection.z) {\r\n\t\t\t\t\tif (absDirection.x > absDirection.y)\r\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (absDirection.z > absDirection.y)\r\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\r\n\t\t\t\t}\r\n\t\t\t\treturn face;\r\n\t\t}` );\r\n\tgetFace.useKeywords = false;\r\n\r\n\tvar getUV = new FunctionNode(\r\n\t\t`vec2 getUV(vec3 direction, float face) {\r\n\t\t\t\tvec2 uv;\r\n\t\t\t\tif (face == 0.0) {\r\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\r\n\t\t\t\t} else if (face == 1.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\r\n\t\t\t\t} else if (face == 2.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\r\n\t\t\t\t} else if (face == 3.0) {\r\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\r\n\t\t\t\t} else if (face == 4.0) {\r\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\r\n\t\t\t\t}\r\n\t\t\t\treturn 0.5 * (uv + 1.0);\r\n\t\t}` );\r\n\tgetUV.useKeywords = false;\r\n\r\n\tvar bilinearCubeUV = new FunctionNode(\r\n\t\t`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\r\n\r\n\t\t\tfloat face = getFace(direction);\r\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\r\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\r\n\t\t\tfloat faceSize = exp2(mipInt);\r\n\r\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\r\n\r\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\r\n\t\t\tvec2 f = fract(uv);\r\n\t\t\tuv += 0.5 - f;\r\n\t\t\tif (face > 2.0) {\r\n\t\t\t\tuv.y += faceSize;\r\n\t\t\t\tface -= 3.0;\r\n\t\t\t}\r\n\t\t\tuv.x += face * faceSize;\r\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\r\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\r\n\t\t\t}\r\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\r\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\r\n\t\t\tuv *= texelSize;\r\n\r\n\t\t\tvec4 tl = texture2D(envMap, uv);\r\n\t\t\tuv.x += texelSize;\r\n\t\t\tvec4 tr = texture2D(envMap, uv);\r\n\t\t\tuv.y += texelSize;\r\n\t\t\tvec4 br = texture2D(envMap, uv);\r\n\t\t\tuv.x -= texelSize;\r\n\t\t\tvec4 bl = texture2D(envMap, uv);\r\n\r\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\r\n\t\t}`, [ TextureCubeUVData, getFace, getUV, cubeUV_maxMipLevel, cubeUV_minMipLevel, cubeUV_maxTileSize, cubeUV_minTileSize ] );\r\n\tbilinearCubeUV.useKeywords = false;\r\n\r\n\t// These defines must match with PMREMGenerator\r\n\r\n\tvar r0 = new ConstNode( `float r0 1.0`, true );\r\n\tvar v0 = new ConstNode( `float v0 0.339`, true );\r\n\tvar m0 = new ConstNode( `float m0 -2.0`, true );\r\n\tvar r1 = new ConstNode( `float r1 0.8`, true );\r\n\tvar v1 = new ConstNode( `float v1 0.276`, true );\r\n\tvar m1 = new ConstNode( `float m1 -1.0`, true );\r\n\tvar r4 = new ConstNode( `float r4 0.4`, true );\r\n\tvar v4 = new ConstNode( `float v4 0.046`, true );\r\n\tvar m4 = new ConstNode( `float m4 2.0`, true );\r\n\tvar r5 = new ConstNode( `float r5 0.305`, true );\r\n\tvar v5 = new ConstNode( `float v5 0.016`, true );\r\n\tvar m5 = new ConstNode( `float m5 3.0`, true );\r\n\tvar r6 = new ConstNode( `float r6 0.21`, true );\r\n\tvar v6 = new ConstNode( `float v6 0.0038`, true );\r\n\tvar m6 = new ConstNode( `float m6 4.0`, true );\r\n\r\n\tvar defines = [ r0, v0, m0, r1, v1, m1, r4, v4, m4, r5, v5, m5, r6, v6, m6 ];\r\n\r\n\tvar roughnessToMip = new FunctionNode(\r\n\t\t`float roughnessToMip(float roughness) {\r\n\t\t\tfloat mip = 0.0;\r\n\t\t\tif (roughness >= r1) {\r\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\r\n\t\t\t} else if (roughness >= r4) {\r\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\r\n\t\t\t} else if (roughness >= r5) {\r\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\r\n\t\t\t} else if (roughness >= r6) {\r\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\r\n\t\t\t} else {\r\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\r\n\t\t\t}\r\n\t\t\treturn mip;\r\n\t\t}`, defines );\r\n\r\n\treturn {\r\n\t\tbilinearCubeUV: bilinearCubeUV,\r\n\t\troughnessToMip: roughnessToMip,\r\n\t\tm0: m0,\r\n\t\tcubeUV_maxMipLevel: cubeUV_maxMipLevel\r\n\t};\r\n\r\n} )();\r\n\r\nTextureCubeUVNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeUVNode.prototype.constructor = TextureCubeUVNode;\r\nTextureCubeUVNode.prototype.nodeType = \"TextureCubeUV\";\r\n\r\nTextureCubeUVNode.prototype.bilinearCubeUV = function ( builder, texture, uv, mipInt ) {\r\n\r\n\tvar bilinearCubeUV = new FunctionCallNode( TextureCubeUVNode.Nodes.bilinearCubeUV, [ texture, uv, mipInt ] );\r\n\r\n\tthis.colorSpaceTL = this.colorSpaceTL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTL.input.parse( bilinearCubeUV.build( builder ) + '.tl' );\r\n\r\n\tthis.colorSpaceTR = this.colorSpaceTR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceTR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceTR.input.parse( bilinearCubeUV.build( builder ) + '.tr' );\r\n\r\n\tthis.colorSpaceBL = this.colorSpaceBL || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBL.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBL.input.parse( bilinearCubeUV.build( builder ) + '.bl' );\r\n\r\n\tthis.colorSpaceBR = this.colorSpaceBR || new ColorSpaceNode( new ExpressionNode( '', 'v4' ) );\r\n\tthis.colorSpaceBR.fromDecoding( builder.getTextureEncodingFromMap( this.value.value ) );\r\n\tthis.colorSpaceBR.input.parse( bilinearCubeUV.build( builder ) + '.br' );\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include =: is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpaceTLExp = new ExpressionNode( this.colorSpaceTL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceTRExp = new ExpressionNode( this.colorSpaceTR.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBLExp = new ExpressionNode( this.colorSpaceBL.build( builder, 'v4' ), 'v4' );\r\n\tthis.colorSpaceBRExp = new ExpressionNode( this.colorSpaceBR.build( builder, 'v4' ), 'v4' );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\t// --\r\n\r\n\tvar output = new ExpressionNode( `mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )`, 'v4' );\r\n\toutput.keywords[ 'cubeUV_TL' ] = this.colorSpaceTLExp;\r\n\toutput.keywords[ 'cubeUV_TR' ] = this.colorSpaceTRExp;\r\n\toutput.keywords[ 'cubeUV_BL' ] = this.colorSpaceBLExp;\r\n\toutput.keywords[ 'cubeUV_BR' ] = this.colorSpaceBRExp;\r\n\toutput.keywords[ 'cubeUV' ] = bilinearCubeUV;\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar uv = this.uv;\r\n\t\tvar bias = this.bias || builder.context.roughness;\r\n\r\n\t\tvar mipV = new FunctionCallNode( TextureCubeUVNode.Nodes.roughnessToMip, [ bias ] );\r\n\t\tvar mip = new MathNode( mipV, TextureCubeUVNode.Nodes.m0, TextureCubeUVNode.Nodes.cubeUV_maxMipLevel, MathNode.CLAMP );\r\n\t\tvar mipInt\t= new MathNode( mip, MathNode.FLOOR );\r\n\t\tvar mipF\t= new MathNode( mip, MathNode.FRACT );\r\n\r\n\t\tvar color0 = this.bilinearCubeUV( builder, this.value, uv, mipInt );\r\n\t\tvar color1 = this.bilinearCubeUV( builder, this.value, uv, new OperatorNode(\r\n\t\t\tmipInt,\r\n\t\t\tnew FloatNode( 1 ).setReadonly( true ),\r\n\t\t\tOperatorNode.ADD\r\n\t\t) );\r\n\r\n\t\tvar color1Mix = new MathNode( color0, color1, mipF, MathNode.MIX );\r\n\r\n\t\t/*\r\n\t\t// TODO: Optimize this in the future\r\n\t\tvar cond = new CondNode(\r\n\t\t\tmipF,\r\n\t\t\tnew FloatNode( 0 ).setReadonly( true ),\r\n\t\t\tCondNode.EQUAL,\r\n\t\t\tcolor0, // if\r\n\t\t\tcolor1Mix\t// else\r\n\t\t);\r\n\t\t*/\r\n\r\n\t\treturn builder.format( color1Mix.build( builder ), 'v4', output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeUVNode.js","import { InputNode } from '../core/InputNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { ColorSpaceNode } from '../utils/ColorSpaceNode.js';\r\nimport { ExpressionNode } from '../core/ExpressionNode.js';\r\n\r\nfunction TextureNode( value, uv, bias, project ) {\r\n\r\n\tInputNode.call( this, 'v4', { shared: true } );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.bias = bias;\r\n\tthis.project = project !== undefined ? project : false;\r\n\r\n}\r\n\r\nTextureNode.prototype = Object.create( InputNode.prototype );\r\nTextureNode.prototype.constructor = TextureNode;\r\nTextureNode.prototype.nodeType = \"Texture\";\r\n\r\nTextureNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.value.uuid, 't' );\r\n\r\n};\r\n\r\nTextureNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'sampler2D' ) {\r\n\r\n\t\treturn this.getTexture( builder, output );\r\n\r\n\t}\r\n\r\n\tvar tex = this.getTexture( builder, output ),\r\n\t\tuv = this.uv.build( builder, this.project ? 'v4' : 'v2' ),\r\n\t\tbias = this.bias ? this.bias.build( builder, 'f' ) : undefined;\r\n\r\n\tif ( bias === undefined && builder.context.bias ) {\r\n\r\n\t\tbias = builder.context.bias.setTexture( this ).build( builder, 'f' );\r\n\r\n\t}\r\n\r\n\tvar method, code;\r\n\r\n\tif ( this.project ) method = 'texture2DProj';\r\n\telse method = bias ? 'tex2DBias' : 'tex2D';\r\n\r\n\tif ( bias ) code = method + '( ' + tex + ', ' + uv + ', ' + bias + ' )';\r\n\telse code = method + '( ' + tex + ', ' + uv + ' )';\r\n\r\n\t// add a custom context for fix incompatibility with the core\r\n\t// include ColorSpace function only for vertex shader (in fragment shader color space functions is added automatically by core)\r\n\t// this should be removed in the future\r\n\t// context.include is used to include or not functions if used FunctionNode\r\n\t// context.ignoreCache =: not create temp variables nodeT0..9 to optimize the code\r\n\tvar context = { include: builder.isShader( 'vertex' ), ignoreCache: true };\r\n\tvar outputType = this.getType( builder );\r\n\r\n\tbuilder.addContext( context );\r\n\r\n\tthis.colorSpace = this.colorSpace || new ColorSpaceNode( new ExpressionNode( '', outputType ) );\r\n\tthis.colorSpace.fromDecoding( builder.getTextureEncodingFromMap( this.value ) );\r\n\tthis.colorSpace.input.parse( code );\r\n\r\n\tcode = this.colorSpace.build( builder, outputType );\r\n\r\n\t// end custom context\r\n\r\n\tbuilder.removeContext();\r\n\r\n\treturn builder.format( code, outputType, output );\r\n\r\n};\r\n\r\nTextureNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.value ) this.value = source.value;\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\tif ( source.bias ) this.bias = source.bias;\r\n\tif ( source.project !== undefined ) this.project = source.project;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.value ) data.value = this.value.uuid;\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.project = this.project;\r\n\r\n\t\tif ( this.bias ) data.bias = this.bias.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/TextureNode.js","import {\r\n\tShaderMaterial,\r\n\tUniformsUtils\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\n\r\nvar TexturePass = function ( map, opacity ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tif ( CopyShader === undefined )\r\n\t\tconsole.error( \"TexturePass relies on CopyShader\" );\r\n\r\n\tvar shader = CopyShader;\r\n\r\n\tthis.map = map;\r\n\tthis.opacity = ( opacity !== undefined ) ? opacity : 1.0;\r\n\r\n\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\tthis.material = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.uniforms,\r\n\t\tvertexShader: shader.vertexShader,\r\n\t\tfragmentShader: shader.fragmentShader,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false\r\n\r\n\t} );\r\n\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nTexturePass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: TexturePass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tthis.fsQuad.material = this.material;\r\n\r\n\t\tthis.uniforms[ \"opacity\" ].value = this.opacity;\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = this.map;\r\n\t\tthis.material.transparent = ( this.opacity < 1.0 );\r\n\r\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\r\n\t\tif ( this.clear ) renderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { TexturePass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/TexturePass.js","import { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.scene = scene;\r\n\tthis.camera = camera;\r\n\r\n\tthis.overrideMaterial = overrideMaterial;\r\n\r\n\tthis.clearColor = clearColor;\r\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\r\n\r\n\tthis.clear = true;\r\n\tthis.clearDepth = false;\r\n\tthis.needsSwap = false;\r\n\r\n};\r\n\r\nRenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: RenderPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tvar oldClearColor, oldClearAlpha, oldOverrideMaterial;\r\n\r\n\t\tif ( this.overrideMaterial !== undefined ) {\r\n\r\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\r\n\r\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\toldClearColor = renderer.getClearColor().getHex();\r\n\t\t\toldClearAlpha = renderer.getClearAlpha();\r\n\r\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.clearDepth ) {\r\n\r\n\t\t\trenderer.clearDepth();\r\n\r\n\t\t}\r\n\r\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\r\n\r\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\r\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.overrideMaterial !== undefined ) {\r\n\r\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\r\n\r\n\t\t}\r\n\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { RenderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/RenderPass.js","import { MathUtils } from '@/components/build/three.module.js';\r\n\r\nfunction Node( type ) {\r\n\r\n\tthis.uuid = MathUtils.generateUUID();\r\n\r\n\tthis.name = \"\";\r\n\r\n\tthis.type = type;\r\n\r\n\tthis.userData = {};\r\n\r\n}\r\n\r\nNode.prototype = {\r\n\r\n\tconstructor: Node,\r\n\r\n\tisNode: true,\r\n\r\n\thashProperties: undefined,\r\n\r\n\tanalyze: function ( builder, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.analyzing = true;\r\n\r\n\t\tthis.build( builder.addFlow( settings.slot, settings.cache, settings.context ), 'v4' );\r\n\r\n\t\tbuilder.clearVertexNodeCode();\r\n\t\tbuilder.clearFragmentNodeCode();\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\tbuilder.analyzing = false;\r\n\r\n\t},\r\n\r\n\tanalyzeAndFlow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tthis.analyze( builder, settings );\r\n\r\n\t\treturn this.flow( builder, output, settings );\r\n\r\n\t},\r\n\r\n\tflow: function ( builder, output, settings ) {\r\n\r\n\t\tsettings = settings || {};\r\n\r\n\t\tbuilder.addFlow( settings.slot, settings.cache, settings.context );\r\n\r\n\t\tvar flow = {};\r\n\t\tflow.result = this.build( builder, output );\r\n\t\tflow.code = builder.clearNodeCode();\r\n\t\tflow.extra = builder.context.extra;\r\n\r\n\t\tbuilder.removeFlow();\r\n\r\n\t\treturn flow;\r\n\r\n\t},\r\n\r\n\tbuild: function ( builder, output, uuid ) {\r\n\r\n\t\toutput = output || this.getType( builder, output );\r\n\r\n\t\tvar data = builder.getNodeData( uuid || this );\r\n\r\n\t\tif ( builder.analyzing ) {\r\n\r\n\t\t\tthis.appendDepsNode( builder, data, output );\r\n\r\n\t\t}\r\n\r\n\t\tif ( builder.nodes.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.nodes.push( this );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.updateFrame !== undefined && builder.updaters.indexOf( this ) === - 1 ) {\r\n\r\n\t\t\tbuilder.updaters.push( this );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.generate( builder, output, uuid );\r\n\r\n\t},\r\n\r\n\tgenerate: function ( /* builder, output, uuid, type, ns */ ) {\r\n\r\n\t\t// This method needs to be implemented in subclasses\r\n\r\n\t},\r\n\r\n\tgetHash: function () {\r\n\r\n\t\tvar hash = '{';\r\n\t\tvar prop, obj;\r\n\r\n\t\tfor ( prop in this ) {\r\n\r\n\t\t\tobj = this[ prop ];\r\n\r\n\t\t\tif ( obj instanceof Node ) {\r\n\r\n\t\t\t\thash += '\"' + prop + '\":' + obj.getHash() + ',';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.hashProperties ) {\r\n\r\n\t\t\tfor ( var i = 0; i < this.hashProperties.length; i ++ ) {\r\n\r\n\t\t\t\tprop = this.hashProperties[ i ];\r\n\t\t\t\tobj = this[ prop ];\r\n\r\n\t\t\t\thash += '\"' + prop + '\":\"' + String( obj ) + '\",';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\thash += '\"id\":\"' + this.uuid + '\"}';\r\n\r\n\t\treturn hash;\r\n\r\n\t},\r\n\r\n\tappendDepsNode: function ( builder, data, output ) {\r\n\r\n\t\tdata.deps = ( data.deps || 0 ) + 1;\r\n\r\n\t\tvar outputLen = builder.getTypeLength( output );\r\n\r\n\t\tif ( outputLen > ( data.outputMax || 0 ) || this.getType( builder, output ) ) {\r\n\r\n\t\t\tdata.outputMax = outputLen;\r\n\t\t\tdata.output = output;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetName: function ( name ) {\r\n\r\n\t\tthis.name = name;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tgetName: function ( /* builder */ ) {\r\n\r\n\t\treturn this.name;\r\n\r\n\t},\r\n\r\n\tgetType: function ( builder, output ) {\r\n\r\n\t\treturn output === 'sampler2D' || output === 'samplerCube' ? output : this.type;\r\n\r\n\t},\r\n\r\n\tgetJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( ! isRootObject && meta.nodes[ this.uuid ] !== undefined ) {\r\n\r\n\t\t\treturn meta.nodes[ this.uuid ];\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tif ( source.name !== undefined ) this.name = source.name;\r\n\r\n\t\tif ( source.userData !== undefined ) this.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tcreateJSONNode: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tif ( typeof this.nodeType !== \"string\" ) throw new Error( \"Node does not allow serialization.\" );\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.nodeType = this.nodeType;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tif ( ! isRootObject ) {\r\n\r\n\t\t\tmeta.nodes[ this.uuid ] = data;\r\n\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\treturn this.getJSONNode( meta ) || this.createJSONNode( meta );\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/Node.js","function NodeFrame( time ) {\r\n\r\n\tthis.time = time !== undefined ? time : 0;\r\n\r\n\tthis.id = 0;\r\n\r\n}\r\n\r\nNodeFrame.prototype = {\r\n\r\n\tconstructor: NodeFrame,\r\n\r\n\tupdate: function ( delta ) {\r\n\r\n\t\t++ this.id;\r\n\r\n\t\tthis.time += delta;\r\n\t\tthis.delta = delta;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderer: function ( renderer ) {\r\n\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetRenderTexture: function ( renderTexture ) {\r\n\r\n\t\tthis.renderTexture = renderTexture;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tupdateNode: function ( node ) {\r\n\r\n\t\tif ( node.frameId === this.id ) return this;\r\n\r\n\t\tnode.updateFrame( this );\r\n\r\n\t\tnode.frameId = this.id;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodeFrame };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/NodeFrame.js","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = f1Eh\n// module chunks = 0","import {\r\n\tShaderMaterial,\r\n\tUniformsUtils\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\n\r\nvar ShaderPass = function ( shader, textureID ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\r\n\r\n\tif ( shader instanceof ShaderMaterial ) {\r\n\r\n\t\tthis.uniforms = shader.uniforms;\r\n\r\n\t\tthis.material = shader;\r\n\r\n\t} else if ( shader ) {\r\n\r\n\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\t\tthis.material = new ShaderMaterial( {\r\n\r\n\t\t\tdefines: Object.assign( {}, shader.defines ),\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\tfragmentShader: shader.fragmentShader\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\r\n\r\n};\r\n\r\nShaderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: ShaderPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\r\n\r\n\t\tif ( this.uniforms[ this.textureID ] ) {\r\n\r\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\r\n\r\n\t\t}\r\n\r\n\t\tthis.fsQuad.material = this.material;\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\r\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { ShaderPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/ShaderPass.js","/**\r\n * Full-screen textured quad shader\r\n */\r\n\r\nvar CopyShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"opacity\": { value: 1.0 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float opacity;\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 texel = texture2D( tDiffuse, vUv );\",\r\n\t\t\"\tgl_FragColor = opacity * texel;\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { CopyShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/CopyShader.js","import {\r\n\tColor\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Luminosity\r\n * http://en.wikipedia.org/wiki/Luminosity\r\n */\r\n\r\nvar LuminosityHighPassShader = {\r\n\r\n\tshaderID: \"luminosityHighPass\",\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"luminosityThreshold\": { value: 1.0 },\r\n\t\t\"smoothWidth\": { value: 1.0 },\r\n\t\t\"defaultColor\": { value: new Color( 0x000000 ) },\r\n\t\t\"defaultOpacity\": { value: 0.0 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"uniform vec3 defaultColor;\",\r\n\t\t\"uniform float defaultOpacity;\",\r\n\t\t\"uniform float luminosityThreshold;\",\r\n\t\t\"uniform float smoothWidth;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvec4 texel = texture2D( tDiffuse, vUv );\",\r\n\r\n\t\t\"\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\",\r\n\r\n\t\t\"\tfloat v = dot( texel.xyz, luma );\",\r\n\r\n\t\t\"\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\",\r\n\r\n\t\t\"\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\",\r\n\r\n\t\t\"\tgl_FragColor = mix( outputColor, texel, alpha );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { LuminosityHighPassShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/LuminosityHighPassShader.js","import {\r\n\tAdditiveBlending,\r\n\tColor,\r\n\tLinearFilter,\r\n\tMeshBasicMaterial,\r\n\tRGBAFormat,\r\n\tShaderMaterial,\r\n\tUniformsUtils,\r\n\tVector2,\r\n\tVector3,\r\n\tWebGLRenderTarget\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { CopyShader } from \"../shaders/CopyShader.js\";\r\nimport { LuminosityHighPassShader } from \"../shaders/LuminosityHighPassShader.js\";\r\n\r\n/**\r\n * UnrealBloomPass is inspired by the bloom pass of Unreal Engine. It creates a\r\n * mip map chain of bloom textures and blurs them with different radii. Because\r\n * of the weighted combination of mips, and because larger blurs are done on\r\n * higher mips, this effect provides good quality and performance.\r\n *\r\n * Reference:\r\n * - https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\r\n */\r\nvar UnrealBloomPass = function ( resolution, strength, radius, threshold ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tthis.strength = ( strength !== undefined ) ? strength : 1;\r\n\tthis.radius = radius;\r\n\tthis.threshold = threshold;\r\n\tthis.resolution = ( resolution !== undefined ) ? new Vector2( resolution.x, resolution.y ) : new Vector2( 256, 256 );\r\n\r\n\t// create color only once here, reuse it later inside the render function\r\n\tthis.clearColor = new Color( 0, 0, 0 );\r\n\r\n\t// render targets\r\n\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\r\n\tthis.renderTargetsHorizontal = [];\r\n\tthis.renderTargetsVertical = [];\r\n\tthis.nMips = 5;\r\n\tvar resx = Math.round( this.resolution.x / 2 );\r\n\tvar resy = Math.round( this.resolution.y / 2 );\r\n\r\n\tthis.renderTargetBright = new WebGLRenderTarget( resx, resy, pars );\r\n\tthis.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\r\n\tthis.renderTargetBright.texture.generateMipmaps = false;\r\n\r\n\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\tvar renderTargetHorizonal = new WebGLRenderTarget( resx, resy, pars );\r\n\r\n\t\trenderTargetHorizonal.texture.name = \"UnrealBloomPass.h\" + i;\r\n\t\trenderTargetHorizonal.texture.generateMipmaps = false;\r\n\r\n\t\tthis.renderTargetsHorizontal.push( renderTargetHorizonal );\r\n\r\n\t\tvar renderTargetVertical = new WebGLRenderTarget( resx, resy, pars );\r\n\r\n\t\trenderTargetVertical.texture.name = \"UnrealBloomPass.v\" + i;\r\n\t\trenderTargetVertical.texture.generateMipmaps = false;\r\n\r\n\t\tthis.renderTargetsVertical.push( renderTargetVertical );\r\n\r\n\t\tresx = Math.round( resx / 2 );\r\n\r\n\t\tresy = Math.round( resy / 2 );\r\n\r\n\t}\r\n\r\n\t// luminosity high pass material\r\n\r\n\tif ( LuminosityHighPassShader === undefined )\r\n\t\tconsole.error( \"UnrealBloomPass relies on LuminosityHighPassShader\" );\r\n\r\n\tvar highPassShader = LuminosityHighPassShader;\r\n\tthis.highPassUniforms = UniformsUtils.clone( highPassShader.uniforms );\r\n\r\n\tthis.highPassUniforms[ \"luminosityThreshold\" ].value = threshold;\r\n\tthis.highPassUniforms[ \"smoothWidth\" ].value = 0.01;\r\n\r\n\tthis.materialHighPassFilter = new ShaderMaterial( {\r\n\t\tuniforms: this.highPassUniforms,\r\n\t\tvertexShader: highPassShader.vertexShader,\r\n\t\tfragmentShader: highPassShader.fragmentShader,\r\n\t\tdefines: {}\r\n\t} );\r\n\r\n\t// Gaussian Blur Materials\r\n\tthis.separableBlurMaterials = [];\r\n\tvar kernelSizeArray = [ 3, 5, 7, 9, 11 ];\r\n\tvar resx = Math.round( this.resolution.x / 2 );\r\n\tvar resy = Math.round( this.resolution.y / 2 );\r\n\r\n\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\tthis.separableBlurMaterials.push( this.getSeperableBlurMaterial( kernelSizeArray[ i ] ) );\r\n\r\n\t\tthis.separableBlurMaterials[ i ].uniforms[ \"texSize\" ].value = new Vector2( resx, resy );\r\n\r\n\t\tresx = Math.round( resx / 2 );\r\n\r\n\t\tresy = Math.round( resy / 2 );\r\n\r\n\t}\r\n\r\n\t// Composite material\r\n\tthis.compositeMaterial = this.getCompositeMaterial( this.nMips );\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture1\" ].value = this.renderTargetsVertical[ 0 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture2\" ].value = this.renderTargetsVertical[ 1 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture3\" ].value = this.renderTargetsVertical[ 2 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture4\" ].value = this.renderTargetsVertical[ 3 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"blurTexture5\" ].value = this.renderTargetsVertical[ 4 ].texture;\r\n\tthis.compositeMaterial.uniforms[ \"bloomStrength\" ].value = strength;\r\n\tthis.compositeMaterial.uniforms[ \"bloomRadius\" ].value = 0.1;\r\n\tthis.compositeMaterial.needsUpdate = true;\r\n\r\n\tvar bloomFactors = [ 1.0, 0.8, 0.6, 0.4, 0.2 ];\r\n\tthis.compositeMaterial.uniforms[ \"bloomFactors\" ].value = bloomFactors;\r\n\tthis.bloomTintColors = [ new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ),\r\n\t\t\t\t\t\t\t new Vector3( 1, 1, 1 ), new Vector3( 1, 1, 1 ) ];\r\n\tthis.compositeMaterial.uniforms[ \"bloomTintColors\" ].value = this.bloomTintColors;\r\n\r\n\t// copy material\r\n\tif ( CopyShader === undefined ) {\r\n\r\n\t\tconsole.error( \"UnrealBloomPass relies on CopyShader\" );\r\n\r\n\t}\r\n\r\n\tvar copyShader = CopyShader;\r\n\r\n\tthis.copyUniforms = UniformsUtils.clone( copyShader.uniforms );\r\n\tthis.copyUniforms[ \"opacity\" ].value = 1.0;\r\n\r\n\tthis.materialCopy = new ShaderMaterial( {\r\n\t\tuniforms: this.copyUniforms,\r\n\t\tvertexShader: copyShader.vertexShader,\r\n\t\tfragmentShader: copyShader.fragmentShader,\r\n\t\tblending: AdditiveBlending,\r\n\t\tdepthTest: false,\r\n\t\tdepthWrite: false,\r\n\t\ttransparent: true\r\n\t} );\r\n\r\n\tthis.enabled = true;\r\n\tthis.needsSwap = false;\r\n\r\n\tthis.oldClearColor = new Color();\r\n\tthis.oldClearAlpha = 1;\r\n\r\n\tthis.basic = new MeshBasicMaterial();\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( null );\r\n\r\n};\r\n\r\nUnrealBloomPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: UnrealBloomPass,\r\n\r\n\tdispose: function () {\r\n\r\n\t\tfor ( var i = 0; i < this.renderTargetsHorizontal.length; i ++ ) {\r\n\r\n\t\t\tthis.renderTargetsHorizontal[ i ].dispose();\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < this.renderTargetsVertical.length; i ++ ) {\r\n\r\n\t\t\tthis.renderTargetsVertical[ i ].dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderTargetBright.dispose();\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tvar resx = Math.round( width / 2 );\r\n\t\tvar resy = Math.round( height / 2 );\r\n\r\n\t\tthis.renderTargetBright.setSize( resx, resy );\r\n\r\n\t\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\t\tthis.renderTargetsHorizontal[ i ].setSize( resx, resy );\r\n\t\t\tthis.renderTargetsVertical[ i ].setSize( resx, resy );\r\n\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"texSize\" ].value = new Vector2( resx, resy );\r\n\r\n\t\t\tresx = Math.round( resx / 2 );\r\n\t\t\tresy = Math.round( resy / 2 );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\r\n\r\n\t\tthis.oldClearColor.copy( renderer.getClearColor() );\r\n\t\tthis.oldClearAlpha = renderer.getClearAlpha();\r\n\t\tvar oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\trenderer.setClearColor( this.clearColor, 0 );\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( false );\r\n\r\n\t\t// Render input to screen\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\tthis.fsQuad.material = this.basic;\r\n\t\t\tthis.basic.map = readBuffer.texture;\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\trenderer.clear();\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t\t// 1. Extract Bright Areas\r\n\r\n\t\tthis.highPassUniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.highPassUniforms[ \"luminosityThreshold\" ].value = this.threshold;\r\n\t\tthis.fsQuad.material = this.materialHighPassFilter;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetBright );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t// 2. Blur All the mips progressively\r\n\r\n\t\tvar inputRenderTarget = this.renderTargetBright;\r\n\r\n\t\tfor ( var i = 0; i < this.nMips; i ++ ) {\r\n\r\n\t\t\tthis.fsQuad.material = this.separableBlurMaterials[ i ];\r\n\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"colorTexture\" ].value = inputRenderTarget.texture;\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"direction\" ].value = UnrealBloomPass.BlurDirectionX;\r\n\t\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ i ] );\r\n\t\t\trenderer.clear();\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"colorTexture\" ].value = this.renderTargetsHorizontal[ i ].texture;\r\n\t\t\tthis.separableBlurMaterials[ i ].uniforms[ \"direction\" ].value = UnrealBloomPass.BlurDirectionY;\r\n\t\t\trenderer.setRenderTarget( this.renderTargetsVertical[ i ] );\r\n\t\t\trenderer.clear();\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t\tinputRenderTarget = this.renderTargetsVertical[ i ];\r\n\r\n\t\t}\r\n\r\n\t\t// Composite All the mips\r\n\r\n\t\tthis.fsQuad.material = this.compositeMaterial;\r\n\t\tthis.compositeMaterial.uniforms[ \"bloomStrength\" ].value = this.strength;\r\n\t\tthis.compositeMaterial.uniforms[ \"bloomRadius\" ].value = this.radius;\r\n\t\tthis.compositeMaterial.uniforms[ \"bloomTintColors\" ].value = this.bloomTintColors;\r\n\r\n\t\trenderer.setRenderTarget( this.renderTargetsHorizontal[ 0 ] );\r\n\t\trenderer.clear();\r\n\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t// Blend it additively over the input texture\r\n\r\n\t\tthis.fsQuad.material = this.materialCopy;\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.renderTargetsHorizontal[ 0 ].texture;\r\n\r\n\t\tif ( maskActive ) renderer.state.buffers.stencil.setTest( true );\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.setRenderTarget( readBuffer );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t\t// Restore renderer settings\r\n\r\n\t\trenderer.setClearColor( this.oldClearColor, this.oldClearAlpha );\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t},\r\n\r\n\tgetSeperableBlurMaterial: function ( kernelRadius ) {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\t\"KERNEL_RADIUS\": kernelRadius,\r\n\t\t\t\t\"SIGMA\": kernelRadius\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"colorTexture\": { value: null },\r\n\t\t\t\t\"texSize\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\t\t\"direction\": { value: new Vector2( 0.5, 0.5 ) }\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader:\r\n\t\t\t\t\"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\r\n\r\n\t\t\tfragmentShader:\r\n\t\t\t\t\"#include <common>\\\r\n\t\t\t\tvarying vec2 vUv;\\n\\\r\n\t\t\t\tuniform sampler2D colorTexture;\\n\\\r\n\t\t\t\tuniform vec2 texSize;\\\r\n\t\t\t\tuniform vec2 direction;\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\\\r\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\\r\n\t\t\t\t}\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\\\r\n\t\t\t\t\tfloat fSigma = float(SIGMA);\\\r\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\\\r\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\\\r\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\\r\n\t\t\t\t\t\tfloat x = float(i);\\\r\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\\\r\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\\\r\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\\\r\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\\\r\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\\\r\n\t\t\t\t\t\tweightSum += 2.0 * w;\\\r\n\t\t\t\t\t}\\\r\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\\r\n\t\t\t\t}\"\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tgetCompositeMaterial: function ( nMips ) {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\r\n\t\t\tdefines: {\r\n\t\t\t\t\"NUM_MIPS\": nMips\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"blurTexture1\": { value: null },\r\n\t\t\t\t\"blurTexture2\": { value: null },\r\n\t\t\t\t\"blurTexture3\": { value: null },\r\n\t\t\t\t\"blurTexture4\": { value: null },\r\n\t\t\t\t\"blurTexture5\": { value: null },\r\n\t\t\t\t\"dirtTexture\": { value: null },\r\n\t\t\t\t\"bloomStrength\": { value: 1.0 },\r\n\t\t\t\t\"bloomFactors\": { value: null },\r\n\t\t\t\t\"bloomTintColors\": { value: null },\r\n\t\t\t\t\"bloomRadius\": { value: 0.0 }\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader:\r\n\t\t\t\t\"varying vec2 vUv;\\n\\\r\n\t\t\t\tvoid main() {\\n\\\r\n\t\t\t\t\tvUv = uv;\\n\\\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\r\n\t\t\t\t}\",\r\n\r\n\t\t\tfragmentShader:\r\n\t\t\t\t\"varying vec2 vUv;\\\r\n\t\t\t\tuniform sampler2D blurTexture1;\\\r\n\t\t\t\tuniform sampler2D blurTexture2;\\\r\n\t\t\t\tuniform sampler2D blurTexture3;\\\r\n\t\t\t\tuniform sampler2D blurTexture4;\\\r\n\t\t\t\tuniform sampler2D blurTexture5;\\\r\n\t\t\t\tuniform sampler2D dirtTexture;\\\r\n\t\t\t\tuniform float bloomStrength;\\\r\n\t\t\t\tuniform float bloomRadius;\\\r\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\\\r\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\\\r\n\t\t\t\t\\\r\n\t\t\t\tfloat lerpBloomFactor(const in float factor) { \\\r\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\\\r\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\\\r\n\t\t\t\t}\\\r\n\t\t\t\t\\\r\n\t\t\t\tvoid main() {\\\r\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\\\r\n\t\t\t\t}\"\r\n\t\t} );\r\n\r\n\t}\r\n\r\n} );\r\n\r\nUnrealBloomPass.BlurDirectionX = new Vector2( 1.0, 0.0 );\r\nUnrealBloomPass.BlurDirectionY = new Vector2( 0.0, 1.0 );\r\n\r\nexport { UnrealBloomPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/UnrealBloomPass.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction OperatorNode( a, b, op ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\tthis.op = op;\r\n\r\n}\r\n\r\nOperatorNode.ADD = '+';\r\nOperatorNode.SUB = '-';\r\nOperatorNode.MUL = '*';\r\nOperatorNode.DIV = '/';\r\n\r\nOperatorNode.prototype = Object.create( TempNode.prototype );\r\nOperatorNode.prototype.constructor = OperatorNode;\r\nOperatorNode.prototype.nodeType = \"Operator\";\r\n\r\nOperatorNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar a = this.a.getType( builder ),\r\n\t\tb = this.b.getType( builder );\r\n\r\n\tif ( builder.isTypeMatrix( a ) ) {\r\n\r\n\t\treturn 'v4';\r\n\r\n\t} else if ( builder.getTypeLength( b ) > builder.getTypeLength( a ) ) {\r\n\r\n\t\t// use the greater length vector\r\n\r\n\t\treturn b;\r\n\r\n\t}\r\n\r\n\treturn a;\r\n\r\n};\r\n\r\nOperatorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder );\r\n\r\n\tvar a = this.a.build( builder, type ),\r\n\t\tb = this.b.build( builder, type );\r\n\r\n\treturn builder.format( '( ' + a + ' ' + this.op + ' ' + b + ' )', type, output );\r\n\r\n};\r\n\r\nOperatorNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.op = source.op;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nOperatorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\t\tdata.op = this.op;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { OperatorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/OperatorNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction PositionNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || PositionNode.LOCAL;\r\n\r\n}\r\n\r\nPositionNode.LOCAL = 'local';\r\nPositionNode.WORLD = 'world';\r\nPositionNode.VIEW = 'view';\r\nPositionNode.PROJECTION = 'projection';\r\n\r\nPositionNode.prototype = Object.create( TempNode.prototype );\r\nPositionNode.prototype.constructor = PositionNode;\r\nPositionNode.prototype.nodeType = \"Position\";\r\n\r\nPositionNode.prototype.getType = function ( ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\treturn 'v4';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nPositionNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nPositionNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase PositionNode.LOCAL:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\tresult = 'transformed';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.position = true;\r\n\r\n\t\t\t\tresult = 'vPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.WORLD:\r\n\r\n\t\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\t\treturn '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder.requires.worldPosition = true;\r\n\r\n\t\t\t\tresult = 'vWPosition';\r\n\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.VIEW:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '-mvPosition.xyz' : 'vViewPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase PositionNode.PROJECTION:\r\n\r\n\t\t\tresult = builder.isShader( 'vertex' ) ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nPositionNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPositionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'position', function () {\r\n\r\n\treturn new PositionNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'worldPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.WORLD );\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'viewPosition', function () {\r\n\r\n\treturn new PositionNode( PositionNode.VIEW );\r\n\r\n} );\r\n\r\nexport { PositionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/PositionNode.js","import { TempNode } from './TempNode.js';\r\n\r\nfunction InputNode( type, params ) {\r\n\r\n\tparams = params || {};\r\n\tparams.shared = params.shared !== undefined ? params.shared : false;\r\n\r\n\tTempNode.call( this, type, params );\r\n\r\n\tthis.readonly = false;\r\n\r\n}\r\n\r\nInputNode.prototype = Object.create( TempNode.prototype );\r\nInputNode.prototype.constructor = InputNode;\r\n\r\nInputNode.prototype.setReadonly = function ( value ) {\r\n\r\n\tthis.readonly = value;\r\n\r\n\tthis.hashProperties = this.readonly ? [ \"value\" ] : undefined;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.getReadonly = function ( /* builder */ ) {\r\n\r\n\treturn this.readonly;\r\n\r\n};\r\n\r\nInputNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tif ( source.readonly !== undefined ) this.readonly = source.readonly;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nInputNode.prototype.createJSONNode = function ( meta ) {\r\n\r\n\tvar data = TempNode.prototype.createJSONNode.call( this, meta );\r\n\r\n\tif ( this.readonly === true ) data.readonly = this.readonly;\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nInputNode.prototype.generate = function ( builder, output, uuid, type, ns, needsUpdate ) {\r\n\r\n\tuuid = builder.getUuid( uuid || this.getUuid() );\r\n\ttype = type || this.getType( builder );\r\n\r\n\tvar data = builder.getNodeData( uuid ),\r\n\t\treadonly = this.getReadonly( builder ) && this.generateReadonly !== undefined;\r\n\r\n\tif ( readonly ) {\r\n\r\n\t\treturn this.generateReadonly( builder, output, uuid, type, ns, needsUpdate );\r\n\r\n\t} else {\r\n\r\n\t\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\t\tif ( ! data.vertex ) {\r\n\r\n\t\t\t\tdata.vertex = builder.createVertexUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.vertex.name, type, output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( ! data.fragment ) {\r\n\r\n\t\t\t\tdata.fragment = builder.createFragmentUniform( type, this, ns, needsUpdate, this.getLabel() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn builder.format( data.fragment.name, type, output );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { InputNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/InputNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction MathNode( a, bOrMethod, cOrMethod, method ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\ttypeof bOrMethod !== 'string' ? this.b = bOrMethod : method = bOrMethod;\r\n\ttypeof cOrMethod !== 'string' ? this.c = cOrMethod : method = cOrMethod;\r\n\r\n\tthis.method = method;\r\n\r\n}\r\n\r\n// 1 input\r\n\r\nMathNode.RAD = 'radians';\r\nMathNode.DEG = 'degrees';\r\nMathNode.EXP = 'exp';\r\nMathNode.EXP2 = 'exp2';\r\nMathNode.LOG = 'log';\r\nMathNode.LOG2 = 'log2';\r\nMathNode.SQRT = 'sqrt';\r\nMathNode.INV_SQRT = 'inversesqrt';\r\nMathNode.FLOOR = 'floor';\r\nMathNode.CEIL = 'ceil';\r\nMathNode.NORMALIZE = 'normalize';\r\nMathNode.FRACT = 'fract';\r\nMathNode.SATURATE = 'saturate';\r\nMathNode.SIN = 'sin';\r\nMathNode.COS = 'cos';\r\nMathNode.TAN = 'tan';\r\nMathNode.ASIN = 'asin';\r\nMathNode.ACOS = 'acos';\r\nMathNode.ARCTAN = 'atan';\r\nMathNode.ABS = 'abs';\r\nMathNode.SIGN = 'sign';\r\nMathNode.LENGTH = 'length';\r\nMathNode.NEGATE = 'negate';\r\nMathNode.INVERT = 'invert';\r\n\r\n// 2 inputs\r\n\r\nMathNode.MIN = 'min';\r\nMathNode.MAX = 'max';\r\nMathNode.MOD = 'mod';\r\nMathNode.STEP = 'step';\r\nMathNode.REFLECT = 'reflect';\r\nMathNode.DISTANCE = 'distance';\r\nMathNode.DOT = 'dot';\r\nMathNode.CROSS = 'cross';\r\nMathNode.POW = 'pow';\r\n\r\n// 3 inputs\r\n\r\nMathNode.MIX = 'mix';\r\nMathNode.CLAMP = 'clamp';\r\nMathNode.REFRACT = 'refract';\r\nMathNode.SMOOTHSTEP = 'smoothstep';\r\nMathNode.FACEFORWARD = 'faceforward';\r\n\r\nMathNode.prototype = Object.create( TempNode.prototype );\r\nMathNode.prototype.constructor = MathNode;\r\nMathNode.prototype.nodeType = \"Math\";\r\nMathNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nMathNode.prototype.getNumInputs = function ( /*builder*/ ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.MIX:\r\n\t\tcase MathNode.CLAMP:\r\n\t\tcase MathNode.REFRACT:\r\n\t\tcase MathNode.SMOOTHSTEP:\r\n\t\tcase MathNode.FACEFORWARD:\r\n\r\n\t\t\treturn 3;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\t\tcase MathNode.STEP:\r\n\t\tcase MathNode.REFLECT:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\t\tcase MathNode.CROSS:\r\n\t\tcase MathNode.POW:\r\n\r\n\t\t\treturn 2;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\treturn 1;\r\n\r\n\t}\r\n\r\n};\r\n\r\nMathNode.prototype.getInputType = function ( builder ) {\r\n\r\n\tvar a = builder.getTypeLength( this.a.getType( builder ) );\r\n\tvar b = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0;\r\n\tvar c = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0;\r\n\r\n\tif ( a > b && a > c ) {\r\n\r\n\t\treturn this.a.getType( builder );\r\n\r\n\t} else if ( b > c ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.c.getType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.getType = function ( builder ) {\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase MathNode.LENGTH:\r\n\t\tcase MathNode.DISTANCE:\r\n\t\tcase MathNode.DOT:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\treturn 'v3';\r\n\r\n\t}\r\n\r\n\treturn this.getInputType( builder );\r\n\r\n};\r\n\r\nMathNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar a, b, c,\r\n\t\tal = this.a ? builder.getTypeLength( this.a.getType( builder ) ) : 0,\r\n\t\tbl = this.b ? builder.getTypeLength( this.b.getType( builder ) ) : 0,\r\n\t\tcl = this.c ? builder.getTypeLength( this.c.getType( builder ) ) : 0,\r\n\t\tinputType = this.getInputType( builder ),\r\n\t\tnodeType = this.getType( builder );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\t// 1 input\r\n\r\n\t\tcase MathNode.NEGATE:\r\n\r\n\t\t\treturn builder.format( '( -' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\tcase MathNode.INVERT:\r\n\r\n\t\t\treturn builder.format( '( 1.0 - ' + this.a.build( builder, inputType ) + ' )', inputType, output );\r\n\r\n\t\t\t// 2 inputs\r\n\r\n\t\tcase MathNode.CROSS:\r\n\r\n\t\t\ta = this.a.build( builder, 'v3' );\r\n\t\t\tb = this.b.build( builder, 'v3' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.STEP:\r\n\r\n\t\t\ta = this.a.build( builder, al === 1 ? 'f' : inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIN:\r\n\t\tcase MathNode.MAX:\r\n\t\tcase MathNode.MOD:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, bl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// 3 inputs\r\n\r\n\t\tcase MathNode.REFRACT:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, 'f' );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase MathNode.MIX:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tb = this.b.build( builder, inputType );\r\n\t\t\tc = this.c.build( builder, cl === 1 ? 'f' : inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t\t// default\r\n\r\n\t\tdefault:\r\n\r\n\t\t\ta = this.a.build( builder, inputType );\r\n\t\t\tif ( this.b ) b = this.b.build( builder, inputType );\r\n\t\t\tif ( this.c ) c = this.c.build( builder, inputType );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\t// build function call\r\n\r\n\tvar params = [];\r\n\tparams.push( a );\r\n\tif ( b ) params.push( b );\r\n\tif ( c ) params.push( c );\r\n\r\n\tvar numInputs = this.getNumInputs( builder );\r\n\r\n\tif ( params.length !== numInputs ) {\r\n\r\n\t\tthrow Error( `Arguments not match used in \"${this.method}\". Require ${numInputs}, currently ${params.length}.` );\r\n\r\n\t}\r\n\r\n\treturn builder.format( this.method + '( ' + params.join( ', ' ) + ' )', nodeType, output );\r\n\r\n};\r\n\r\nMathNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\tthis.c = source.c;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMathNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tif ( this.b ) data.b = this.b.toJSON( meta ).uuid;\r\n\t\tif ( this.c ) data.c = this.c.toJSON( meta ).uuid;\r\n\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MathNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/MathNode.js","import {\r\n\tFrontSide,\r\n\tLessEqualDepth,\r\n\tNoColors,\r\n\tNormalBlending,\r\n\tShaderMaterial\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { ColorNode } from '../inputs/ColorNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { RawNode } from './nodes/RawNode.js';\r\n\r\nfunction NodeMaterial( vertex, fragment ) {\r\n\r\n\tShaderMaterial.call( this );\r\n\r\n\tthis.vertex = vertex || new RawNode( new PositionNode( PositionNode.PROJECTION ) );\r\n\tthis.fragment = fragment || new RawNode( new ColorNode( 0xFF0000 ) );\r\n\r\n\tthis.updaters = [];\r\n\r\n}\r\n\r\nNodeMaterial.prototype = Object.create( ShaderMaterial.prototype );\r\nNodeMaterial.prototype.constructor = NodeMaterial;\r\nNodeMaterial.prototype.type = \"NodeMaterial\";\r\n\r\nNodeMaterial.prototype.isNodeMaterial = true;\r\n\r\nObject.defineProperties( NodeMaterial.prototype, {\r\n\r\n\tproperties: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.fragment.properties;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tneedsUpdate: {\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tif ( value === true ) this.version ++;\r\n\t\t\tthis.needsCompile = value;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.needsCompile;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nNodeMaterial.prototype.onBeforeCompile = function ( shader, renderer ) {\r\n\r\n\tthis.build( { renderer: renderer } );\r\n\r\n\tshader.defines = this.defines;\r\n\tshader.uniforms = this.uniforms;\r\n\tshader.vertexShader = this.vertexShader;\r\n\tshader.fragmentShader = this.fragmentShader;\r\n\r\n\tshader.extensionDerivatives = ( this.extensions.derivatives === true );\r\n\tshader.extensionFragDepth = ( this.extensions.fragDepth === true );\r\n\tshader.extensionDrawBuffers = ( this.extensions.drawBuffers === true );\r\n\tshader.extensionShaderTextureLOD = ( this.extensions.shaderTextureLOD === true );\r\n\r\n};\r\n\r\nNodeMaterial.prototype.customProgramCacheKey = function () {\r\n\r\n\tvar hash = this.getHash();\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.getHash = function () {\r\n\r\n\tvar hash = '{';\r\n\r\n\thash += '\"vertex\":' + this.vertex.getHash() + ',';\r\n\thash += '\"fragment\":' + this.fragment.getHash();\r\n\r\n\thash += '}';\r\n\r\n\treturn hash;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.updateFrame = function ( frame ) {\r\n\r\n\tfor ( var i = 0; i < this.updaters.length; ++ i ) {\r\n\r\n\t\tframe.updateNode( this.updaters[ i ] );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNodeMaterial.prototype.build = function ( params ) {\r\n\r\n\tparams = params || {};\r\n\r\n\tvar builder = params.builder || new NodeBuilder();\r\n\r\n\tbuilder.setMaterial( this, params.renderer );\r\n\tbuilder.build( this.vertex, this.fragment );\r\n\r\n\tthis.vertexShader = builder.getCode( 'vertex' );\r\n\tthis.fragmentShader = builder.getCode( 'fragment' );\r\n\r\n\tthis.defines = builder.defines;\r\n\tthis.uniforms = builder.uniforms;\r\n\tthis.extensions = builder.extensions;\r\n\tthis.updaters = builder.updaters;\r\n\r\n\tthis.fog = builder.requires.fog;\r\n\tthis.lights = builder.requires.lights;\r\n\r\n\tthis.transparent = builder.requires.transparent || this.blending > NormalBlending;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.copy = function ( source ) {\r\n\r\n\tvar uuid = this.uuid;\r\n\r\n\tfor ( var name in source ) {\r\n\r\n\t\tthis[ name ] = source[ name ];\r\n\r\n\t}\r\n\r\n\tthis.uuid = uuid;\r\n\r\n\tif ( source.userData !== undefined ) {\r\n\r\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNodeMaterial.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\tif ( isRootObject ) {\r\n\r\n\t\tmeta = {\r\n\t\t\tnodes: {}\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tif ( meta && ! meta.materials ) meta.materials = {};\r\n\r\n\tif ( ! meta.materials[ this.uuid ] ) {\r\n\r\n\t\tvar data = {};\r\n\r\n\t\tdata.uuid = this.uuid;\r\n\t\tdata.type = this.type;\r\n\r\n\t\tmeta.materials[ data.uuid ] = data;\r\n\r\n\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\tif ( this.size !== undefined ) data.size = this.size;\r\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\r\n\r\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\r\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\r\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\r\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\r\n\r\n\t\tif ( this.depthFunc !== LessEqualDepth ) data.depthFunc = this.depthFunc;\r\n\t\tif ( this.depthTest === false ) data.depthTest = this.depthTest;\r\n\t\tif ( this.depthWrite === false ) data.depthWrite = this.depthWrite;\r\n\r\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\r\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\r\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\r\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\r\n\r\n\t\tif ( this.dithering === true ) data.dithering = true;\r\n\r\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\r\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\r\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\r\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\r\n\r\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\r\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\r\n\r\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\r\n\t\tif ( this.skinning === true ) data.skinning = true;\r\n\r\n\t\tif ( this.visible === false ) data.visible = false;\r\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\tdata.fog = this.fog;\r\n\t\tdata.lights = this.lights;\r\n\r\n\t\tdata.vertex = this.vertex.toJSON( meta ).uuid;\r\n\t\tdata.fragment = this.fragment.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\tmeta.material = this.uuid;\r\n\r\n\treturn meta;\r\n\r\n};\r\n\r\nexport { NodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/NodeMaterial.js","import { TempNode } from './TempNode.js';\r\n\r\nvar declarationRegexp = /^struct\\s*([a-z_0-9]+)\\s*{\\s*((.|\\n)*?)}/img,\r\n\tpropertiesRegexp = /\\s*(\\w*?)\\s*(\\w*?)(\\=|\\;)/img;\r\n\r\nfunction StructNode( src ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.parse( src );\r\n\r\n}\r\n\r\nStructNode.prototype = Object.create( TempNode.prototype );\r\nStructNode.prototype.constructor = StructNode;\r\nStructNode.prototype.nodeType = \"Struct\";\r\n\r\nStructNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.name );\r\n\r\n};\r\n\r\nStructNode.prototype.getInputByName = function ( name ) {\r\n\r\n\tvar i = this.inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this.inputs[ i ].name === name ) {\r\n\r\n\t\t\treturn this.inputs[ i ];\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( output === 'source' ) {\r\n\r\n\t\treturn this.src + ';';\r\n\r\n\t} else {\r\n\r\n\t\treturn builder.format( '( ' + this.src + ' )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nStructNode.prototype.parse = function ( src ) {\r\n\r\n\tthis.src = src || '';\r\n\r\n\tthis.inputs = [];\r\n\r\n\tvar declaration = declarationRegexp.exec( this.src );\r\n\r\n\tif ( declaration ) {\r\n\r\n\t\tvar properties = declaration[ 2 ], match;\r\n\r\n\t\twhile ( match = propertiesRegexp.exec( properties ) ) {\r\n\r\n\t\t\tthis.inputs.push( {\r\n\t\t\t\ttype: match[ 1 ],\r\n\t\t\t\tname: match[ 2 ]\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = declaration[ 1 ];\r\n\r\n\t} else {\r\n\r\n\t\tthis.name = '';\r\n\r\n\t}\r\n\r\n\tthis.type = this.name;\r\n\r\n};\r\n\r\nStructNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.src = this.src;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StructNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/StructNode.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = nErl\n// module chunks = 0","import { FunctionNode } from './FunctionNode.js';\r\n\r\nfunction ExpressionNode( src, type, keywords, extensions, includes ) {\r\n\r\n\tFunctionNode.call( this, src, includes, extensions, keywords, type );\r\n\r\n}\r\n\r\nExpressionNode.prototype = Object.create( FunctionNode.prototype );\r\nExpressionNode.prototype.constructor = ExpressionNode;\r\nExpressionNode.prototype.nodeType = \"Expression\";\r\n\r\nexport { ExpressionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/ExpressionNode.js","import { Node } from './Node.js';\r\n\r\nfunction VarNode( type, value ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nVarNode.prototype = Object.create( Node.prototype );\r\nVarNode.prototype.constructor = VarNode;\r\nVarNode.prototype.nodeType = \"Var\";\r\n\r\nVarNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeByFormat( this.type );\r\n\r\n};\r\n\r\nVarNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar varying = builder.getVar( this.uuid, this.type );\r\n\r\n\tif ( this.value && builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tbuilder.addNodeCode( varying.name + ' = ' + this.value.build( builder, this.getType( builder ) ) + ';' );\r\n\r\n\t}\r\n\r\n\treturn builder.format( varying.name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nVarNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVarNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VarNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/VarNode.js","import { Node } from './Node.js';\r\n\r\nfunction AttributeNode( name, type ) {\r\n\r\n\tNode.call( this, type );\r\n\r\n\tthis.name = name;\r\n\r\n}\r\n\r\nAttributeNode.prototype = Object.create( Node.prototype );\r\nAttributeNode.prototype.constructor = AttributeNode;\r\nAttributeNode.prototype.nodeType = \"Attribute\";\r\n\r\nAttributeNode.prototype.getAttributeType = function ( builder ) {\r\n\r\n\treturn typeof this.type === 'number' ? builder.getConstructorFromLength( this.type ) : this.type;\r\n\r\n};\r\n\r\nAttributeNode.prototype.getType = function ( builder ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\treturn builder.getTypeByFormat( type );\r\n\r\n};\r\n\r\nAttributeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getAttributeType( builder );\r\n\r\n\tvar attribute = builder.getAttribute( this.name, type ),\r\n\t\tname = builder.isShader( 'vertex' ) ? this.name : attribute.varying.name;\r\n\r\n\treturn builder.format( name, this.getType( builder ), output );\r\n\r\n};\r\n\r\nAttributeNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.type = source.type;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nAttributeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.type = this.type;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { AttributeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/core/AttributeNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction BoolNode( value ) {\r\n\r\n\tInputNode.call( this, 'b' );\r\n\r\n\tthis.value = Boolean( value );\r\n\r\n}\r\n\r\nBoolNode.prototype = Object.create( InputNode.prototype );\r\nBoolNode.prototype.constructor = BoolNode;\r\nBoolNode.prototype.nodeType = \"Bool\";\r\n\r\nBoolNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nBoolNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBoolNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BoolNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/BoolNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction IntNode( value ) {\r\n\r\n\tInputNode.call( this, 'i' );\r\n\r\n\tthis.value = Math.floor( value || 0 );\r\n\r\n}\r\n\r\nIntNode.prototype = Object.create( InputNode.prototype );\r\nIntNode.prototype.constructor = IntNode;\r\nIntNode.prototype.nodeType = \"Int\";\r\n\r\nIntNode.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( this.value, type, output );\r\n\r\n};\r\n\r\nIntNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nIntNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { IntNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/IntNode.js","import { Matrix3 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix3Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm3' );\r\n\r\n\tthis.value = matrix || new Matrix3();\r\n\r\n}\r\n\r\nMatrix3Node.prototype = Object.create( InputNode.prototype );\r\nMatrix3Node.prototype.constructor = Matrix3Node;\r\nMatrix3Node.prototype.nodeType = \"Matrix3\";\r\n\r\nObject.defineProperties( Matrix3Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix3Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat3( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\n\r\nMatrix3Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix3Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix3Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix3Node.js","import { Matrix4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\n\r\nfunction Matrix4Node( matrix ) {\r\n\r\n\tInputNode.call( this, 'm4' );\r\n\r\n\tthis.value = matrix || new Matrix4();\r\n\r\n}\r\n\r\nMatrix4Node.prototype = Object.create( InputNode.prototype );\r\nMatrix4Node.prototype.constructor = Matrix4Node;\r\nMatrix4Node.prototype.nodeType = \"Matrix4\";\r\n\r\nObject.defineProperties( Matrix4Node.prototype, {\r\n\r\n\telements: {\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.value.elements = val;\r\n\r\n\t\t},\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.value.elements;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMatrix4Node.prototype.generateReadonly = function ( builder, output, uuid, type /*, ns, needsUpdate */ ) {\r\n\r\n\treturn builder.format( \"mat4( \" + this.value.elements.join( \", \" ) + \" )\", type, output );\r\n\r\n};\r\n\r\nMatrix4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.value.fromArray( source.elements );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nMatrix4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.elements = this.value.elements.concat();\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Matrix4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Matrix4Node.js","import { InputNode } from '../core/InputNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction ScreenNode( uv ) {\r\n\r\n\tTextureNode.call( this, undefined, uv );\r\n\r\n}\r\n\r\nScreenNode.prototype = Object.create( TextureNode.prototype );\r\nScreenNode.prototype.constructor = ScreenNode;\r\nScreenNode.prototype.nodeType = \"Screen\";\r\n\r\nScreenNode.prototype.getUnique = function () {\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nScreenNode.prototype.getTexture = function ( builder, output ) {\r\n\r\n\treturn InputNode.prototype.generate.call( this, builder, output, this.getUuid(), 't', 'renderTexture' );\r\n\r\n};\r\n\r\nexport { ScreenNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ScreenNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\nimport { OperatorNode } from '../math/OperatorNode.js';\r\nimport { TextureNode } from './TextureNode.js';\r\nimport { Matrix4Node } from './Matrix4Node.js';\r\n\r\nfunction ReflectorNode( mirror ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tif ( mirror ) this.setMirror( mirror );\r\n\r\n}\r\n\r\nReflectorNode.prototype = Object.create( TempNode.prototype );\r\nReflectorNode.prototype.constructor = ReflectorNode;\r\nReflectorNode.prototype.nodeType = \"Reflector\";\r\n\r\nReflectorNode.prototype.setMirror = function ( mirror ) {\r\n\r\n\tthis.mirror = mirror;\r\n\r\n\tthis.textureMatrix = new Matrix4Node( this.mirror.material.uniforms.textureMatrix.value );\r\n\r\n\tthis.localPosition = new PositionNode( PositionNode.LOCAL );\r\n\r\n\tthis.uv = new OperatorNode( this.textureMatrix, this.localPosition, OperatorNode.MUL );\r\n\tthis.uvResult = new OperatorNode( null, this.uv, OperatorNode.ADD );\r\n\r\n\tthis.texture = new TextureNode( this.mirror.material.uniforms.tDiffuse.value, this.uv, null, true );\r\n\r\n};\r\n\r\nReflectorNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.uvResult.a = this.offset;\r\n\t\tthis.texture.uv = this.offset ? this.uvResult : this.uv;\r\n\r\n\t\tif ( output === 'sampler2D' ) {\r\n\r\n\t\t\treturn this.texture.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( this.texture.build( builder, this.type ), this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectorNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectorNode.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope.mirror = source.mirror;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nReflectorNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.mirror = this.mirror.uuid;\r\n\r\n\t\tif ( this.offset ) data.offset = this.offset.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectorNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/ReflectorNode.js","import {\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tScene,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeBuilder } from '../core/NodeBuilder.js';\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { TextureNode } from './TextureNode.js';\r\n\r\nfunction RTTNode( width, height, input, options ) {\r\n\r\n\toptions = options || {};\r\n\r\n\tthis.input = input;\r\n\r\n\tthis.clear = options.clear !== undefined ? options.clear : true;\r\n\r\n\tthis.renderTarget = new WebGLRenderTarget( width, height, options );\r\n\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.render = true;\r\n\r\n\tTextureNode.call( this, this.renderTarget.texture );\r\n\r\n}\r\n\r\nRTTNode.prototype = Object.create( TextureNode.prototype );\r\nRTTNode.prototype.constructor = RTTNode;\r\nRTTNode.prototype.nodeType = \"RTT\";\r\n\r\nRTTNode.prototype.build = function ( builder, output, uuid ) {\r\n\r\n\tvar rttBuilder = new NodeBuilder();\r\n\trttBuilder.nodes = builder.nodes;\r\n\trttBuilder.updaters = builder.updaters;\r\n\r\n\tthis.material.fragment.value = this.input;\r\n\tthis.material.build( { builder: rttBuilder } );\r\n\r\n\treturn TextureNode.prototype.build.call( this, builder, output, uuid );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFramesaveTo = function ( frame ) {\r\n\r\n\tthis.saveTo.render = false;\r\n\r\n\tif ( this.saveTo !== this.saveToCurrent ) {\r\n\r\n\t\tif ( this.saveToMaterial ) this.saveToMaterial.dispose();\r\n\r\n\t\tvar material = new NodeMaterial();\r\n\t\tmaterial.fragment.value = this;\r\n\t\tmaterial.build();\r\n\r\n\t\tvar scene = new Scene();\r\n\r\n\t\tvar quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), material );\r\n\t\tquad.frustumCulled = false; // Avoid getting clipped\r\n\t\tscene.add( quad );\r\n\r\n\t\tthis.saveToScene = scene;\r\n\t\tthis.saveToMaterial = material;\r\n\r\n\t}\r\n\r\n\tthis.saveToCurrent = this.saveTo;\r\n\r\n\tframe.renderer.setRenderTarget( this.saveTo.renderTarget );\r\n\tif ( this.saveTo.clear ) frame.renderer.clear();\r\n\tframe.renderer.render( this.saveToScene, this.camera );\r\n\r\n};\r\n\r\nRTTNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\t// from the second frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === false ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.render ) {\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = frame.renderTexture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tframe.renderer.setRenderTarget( this.renderTarget );\r\n\t\t\tif ( this.clear ) frame.renderer.clear();\r\n\t\t\tframe.renderer.render( this.scene, this.camera );\r\n\r\n\t\t}\r\n\r\n\t\t// first frame\r\n\r\n\t\tif ( this.saveTo && this.saveTo.render === true ) {\r\n\r\n\t\t\tthis.updateFramesaveTo( frame );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"RTTNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nRTTNode.prototype.copy = function ( source ) {\r\n\r\n\tTextureNode.prototype.copy.call( this, source );\r\n\r\n\tthis.saveTo = source.saveTo;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nRTTNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = TextureNode.prototype.toJSON.call( this, meta );\r\n\r\n\t\tif ( this.saveTo ) data.saveTo = this.saveTo.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { RTTNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/RTTNode.js","import { InputNode } from '../core/InputNode.js';\r\n\r\nfunction PropertyNode( object, property, type ) {\r\n\r\n\tInputNode.call( this, type );\r\n\r\n\tthis.object = object;\r\n\tthis.property = property;\r\n\r\n}\r\n\r\nPropertyNode.prototype = Object.create( InputNode.prototype );\r\nPropertyNode.prototype.constructor = PropertyNode;\r\nPropertyNode.prototype.nodeType = \"Property\";\r\n\r\nObject.defineProperties( PropertyNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( val ) {\r\n\r\n\t\t\tthis.object[ this.property ] = val;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nPropertyNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value;\r\n\t\tdata.property = this.property;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PropertyNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/PropertyNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nvar vertexDict = [ 'color', 'color2' ],\r\n\tfragmentDict = [ 'vColor', 'vColor2' ];\r\n\r\nfunction ColorsNode( index ) {\r\n\r\n\tTempNode.call( this, 'v4', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nColorsNode.prototype = Object.create( TempNode.prototype );\r\nColorsNode.prototype.constructor = ColorsNode;\r\nColorsNode.prototype.nodeType = \"Colors\";\r\n\r\nColorsNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.color[ this.index ] = true;\r\n\r\n\tvar result = builder.isShader( 'vertex' ) ? vertexDict[ this.index ] : fragmentDict[ this.index ];\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorsNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorsNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorsNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ColorsNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction CameraNode( scope, camera ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.setScope( scope || CameraNode.POSITION );\r\n\tthis.setCamera( camera );\r\n\r\n}\r\n\r\nCameraNode.Nodes = ( function () {\r\n\r\n\tvar depthColor = new FunctionNode( [\r\n\t\t\"float depthColor( float mNear, float mFar ) {\",\r\n\r\n\t\t\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#else\",\r\n\r\n\t\t\"\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\",\r\n\r\n\t\t\"\t#endif\",\r\n\r\n\t\t\"\treturn 1.0 - smoothstep( mNear, mFar, depth );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tdepthColor: depthColor\r\n\t};\r\n\r\n} )();\r\n\r\nCameraNode.POSITION = 'position';\r\nCameraNode.DEPTH = 'depth';\r\nCameraNode.TO_VERTEX = 'toVertex';\r\n\r\nCameraNode.prototype = Object.create( TempNode.prototype );\r\nCameraNode.prototype.constructor = CameraNode;\r\nCameraNode.prototype.nodeType = \"Camera\";\r\n\r\nCameraNode.prototype.setCamera = function ( camera ) {\r\n\r\n\tthis.camera = camera;\r\n\tthis.updateFrame = camera !== undefined ? this.onUpdateFrame : undefined;\r\n\r\n};\r\n\r\nCameraNode.prototype.setScope = function ( scope ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tdelete this.near;\r\n\t\t\tdelete this.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.scope = scope;\r\n\r\n\tswitch ( scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near = new FloatNode( camera ? camera.near : 1 );\r\n\t\t\tthis.far = new FloatNode( camera ? camera.far : 1200 );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nCameraNode.prototype.getUnique = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\treturn true;\r\n\r\n\t}\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nCameraNode.prototype.getShared = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\treturn false;\r\n\r\n\t}\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nCameraNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.POSITION:\r\n\r\n\t\t\tresult = 'cameraPosition';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar depthColor = builder.include( CameraNode.Nodes.depthColor );\r\n\r\n\t\t\tresult = depthColor + '( ' + this.near.build( builder, 'f' ) + ', ' + this.far.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase CameraNode.TO_VERTEX:\r\n\r\n\t\t\tresult = 'normalize( ' + new PositionNode( PositionNode.WORLD ).build( builder, 'v3' ) + ' - cameraPosition )';\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCameraNode.prototype.onUpdateFrame = function ( /* frame */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tvar camera = this.camera;\r\n\r\n\t\t\tthis.near.value = camera.near;\r\n\t\t\tthis.far.value = camera.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nCameraNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.setScope( source.scope );\r\n\r\n\tif ( source.camera ) {\r\n\r\n\t\tthis.setCamera( source.camera );\r\n\r\n\t}\r\n\r\n\tswitch ( source.scope ) {\r\n\r\n\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\tthis.near.number = source.near;\r\n\t\t\tthis.far.number = source.far;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCameraNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t\tif ( this.camera ) data.camera = this.camera.uuid;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase CameraNode.DEPTH:\r\n\r\n\t\t\t\tdata.near = this.near.value;\r\n\t\t\t\tdata.far = this.far.value;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CameraNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/CameraNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction LightNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3', { shared: false } );\r\n\r\n\tthis.scope = scope || LightNode.TOTAL;\r\n\r\n}\r\n\r\nLightNode.TOTAL = 'total';\r\n\r\nLightNode.prototype = Object.create( TempNode.prototype );\r\nLightNode.prototype.constructor = LightNode;\r\nLightNode.prototype.nodeType = \"Light\";\r\n\r\nLightNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isCache( 'light' ) ) {\r\n\r\n\t\treturn builder.format( 'reflectedLight.directDiffuse', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.LightNode is only compatible in \\\"light\\\" channel.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nLightNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLightNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LightNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/LightNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\n\r\nfunction ResolutionNode() {\r\n\r\n\tVector2Node.call( this );\r\n\r\n\tthis.size = new Vector2();\r\n\r\n}\r\n\r\nResolutionNode.prototype = Object.create( Vector2Node.prototype );\r\nResolutionNode.prototype.constructor = ResolutionNode;\r\nResolutionNode.prototype.nodeType = \"Resolution\";\r\n\r\nResolutionNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tif ( frame.renderer ) {\r\n\r\n\t\tframe.renderer.getSize( this.size );\r\n\r\n\t\tvar pixelRatio = frame.renderer.getPixelRatio();\r\n\r\n\t\tthis.x = this.size.width * pixelRatio;\r\n\t\tthis.y = this.size.height * pixelRatio;\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"ResolutionNode need a renderer in NodeFrame\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nResolutionNode.prototype.copy = function ( source ) {\r\n\r\n\tVector2Node.prototype.copy.call( this, source );\r\n\r\n\tthis.renderer = source.renderer;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nResolutionNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.renderer = this.renderer.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ResolutionNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ResolutionNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ResolutionNode } from './ResolutionNode.js';\r\n\r\nfunction ScreenUVNode( resolution ) {\r\n\r\n\tTempNode.call( this, 'v2' );\r\n\r\n\tthis.resolution = resolution || new ResolutionNode();\r\n\r\n}\r\n\r\nScreenUVNode.prototype = Object.create( TempNode.prototype );\r\nScreenUVNode.prototype.constructor = ScreenUVNode;\r\nScreenUVNode.prototype.nodeType = \"ScreenUV\";\r\n\r\nScreenUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar result;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tresult = '( gl_FragCoord.xy / ' + this.resolution.build( builder, 'v2' ) + ')';\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ScreenUVNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\tresult = 'vec2( 0.0 )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nScreenUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.resolution = source.resolution;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nScreenUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.resolution = this.resolution.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ScreenUVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ScreenUVNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction CondNode( a, b, op, ifNode, elseNode ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.a = a;\r\n\tthis.b = b;\r\n\r\n\tthis.op = op;\r\n\r\n\tthis.ifNode = ifNode;\r\n\tthis.elseNode = elseNode;\r\n\r\n}\r\n\r\nCondNode.EQUAL = '==';\r\nCondNode.NOT_EQUAL = '!=';\r\nCondNode.GREATER = '>';\r\nCondNode.GREATER_EQUAL = '>=';\r\nCondNode.LESS = '<';\r\nCondNode.LESS_EQUAL = '<=';\r\nCondNode.AND = '&&';\r\nCondNode.OR = '||';\r\n\r\nCondNode.prototype = Object.create( TempNode.prototype );\r\nCondNode.prototype.constructor = CondNode;\r\nCondNode.prototype.nodeType = \"Cond\";\r\n\r\nCondNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifType = this.ifNode.getType( builder );\r\n\t\tvar elseType = this.elseNode.getType( builder );\r\n\r\n\t\tif ( builder.getTypeLength( elseType ) > builder.getTypeLength( ifType ) ) {\r\n\r\n\t\t\treturn elseType;\r\n\r\n\t\t}\r\n\r\n\t\treturn ifType;\r\n\r\n\t}\r\n\r\n\treturn 'b';\r\n\r\n};\r\n\r\nCondNode.prototype.getCondType = function ( builder ) {\r\n\r\n\tif ( builder.getTypeLength( this.b.getType( builder ) ) > builder.getTypeLength( this.a.getType( builder ) ) ) {\r\n\r\n\t\treturn this.b.getType( builder );\r\n\r\n\t}\r\n\r\n\treturn this.a.getType( builder );\r\n\r\n};\r\n\r\nCondNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tcondType = this.getCondType( builder ),\r\n\t\ta = this.a.build( builder, condType ),\r\n\t\tb = this.b.build( builder, condType ),\r\n\t\tcode;\r\n\r\n\tif ( this.ifNode ) {\r\n\r\n\t\tvar ifCode = this.ifNode.build( builder, type ),\r\n\t\t\telseCode = this.elseNode.build( builder, type );\r\n\r\n\t\tcode = '( ' + [ a, this.op, b, '?', ifCode, ':', elseCode ].join( ' ' ) + ' )';\r\n\r\n\t} else {\r\n\r\n\t\tcode = '( ' + a + ' ' + this.op + ' ' + b + ' )';\r\n\r\n\t}\r\n\r\n\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n};\r\n\r\nCondNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.a = source.a;\r\n\tthis.b = source.b;\r\n\r\n\tthis.op = source.op;\r\n\r\n\tthis.ifNode = source.ifNode;\r\n\tthis.elseNode = source.elseNode;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCondNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.a = this.a.toJSON( meta ).uuid;\r\n\t\tdata.b = this.b.toJSON( meta ).uuid;\r\n\r\n\t\tdata.op = this.op;\r\n\r\n\t\tif ( data.ifNode ) data.ifNode = this.ifNode.toJSON( meta ).uuid;\r\n\t\tif ( data.elseNode ) data.elseNode = this.elseNode.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CondNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/math/CondNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction NoiseNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nNoiseNode.prototype = Object.create( TempNode.prototype );\r\nNoiseNode.prototype.constructor = NoiseNode;\r\nNoiseNode.prototype.nodeType = \"Noise\";\r\n\r\nNoiseNode.Nodes = ( function () {\r\n\r\n\tvar snoise = new FunctionNode( [\r\n\t\t\"float snoise(vec2 co) {\",\r\n\r\n\t\t\"\treturn fract( sin( dot( co.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tsnoise: snoise\r\n\t};\r\n\r\n} )();\r\n\r\nNoiseNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( NoiseNode.Nodes.snoise );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nNoiseNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNoiseNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NoiseNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/NoiseNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction CheckerNode( uv ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\r\n}\r\n\r\nCheckerNode.prototype = Object.create( TempNode.prototype );\r\nCheckerNode.prototype.constructor = CheckerNode;\r\nCheckerNode.prototype.nodeType = \"Noise\";\r\n\r\nCheckerNode.Nodes = ( function () {\r\n\r\n\t// https://github.com/mattdesl/glsl-checker/blob/master/index.glsl\r\n\r\n\tvar checker = new FunctionNode( [\r\n\t\t\"float checker( vec2 uv ) {\",\r\n\r\n\t\t\"\tfloat cx = floor( uv.x );\",\r\n\t\t\"\tfloat cy = floor( uv.y ); \",\r\n\t\t\"\tfloat result = mod( cx + cy, 2.0 );\",\r\n\r\n\t\t\"\treturn sign( result );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tchecker: checker\r\n\t};\r\n\r\n} )();\r\n\r\nCheckerNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar snoise = builder.include( CheckerNode.Nodes.checker );\r\n\r\n\treturn builder.format( snoise + '( ' + this.uv.build( builder, 'v2' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nCheckerNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nCheckerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { CheckerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/procedural/CheckerNode.js","import {\r\n\tBackSide\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction NormalMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new Vector2Node( 1, 1 );\r\n\r\n}\r\n\r\nNormalMapNode.Nodes = ( function () {\r\n\r\n\tvar perturbNormal2Arb = new FunctionNode(\r\n\r\n\t\t// Per-Pixel Tangent Space Normal Mapping\r\n\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\r\n\r\n\t\t`vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 map, vec2 vUv, vec2 normalScale ) {\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\r\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\r\n\t\tvec2 st0 = dFdx( vUv.st );\r\n\t\tvec2 st1 = dFdy( vUv.st );\r\n\r\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\r\n\r\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\r\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\r\n\t\tvec3 N = normalize( surf_norm );\r\n\r\n\t\tvec3 mapN = map * 2.0 - 1.0;\r\n\r\n\t\tmapN.xy *= normalScale;\r\n\r\n\t\t#ifdef DOUBLE_SIDED\r\n\r\n\t\t\t// Workaround for Adreno GPUs gl_FrontFacing bug. See #15850 and #10331\r\n\r\n\t\t\tif ( dot( cross( S, T ), N ) < 0.0 ) mapN.xy *= - 1.0;\r\n\r\n\t\t#else\r\n\r\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\r\n\r\n\t\t#endif\r\n\r\n\t\tmat3 tsn = mat3( S, T, N );\r\n\t\treturn normalize( tsn * mapN );\r\n\r\n\t}`, null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tperturbNormal2Arb: perturbNormal2Arb\r\n\t};\r\n\r\n} )();\r\n\r\nNormalMapNode.prototype = Object.create( TempNode.prototype );\r\nNormalMapNode.prototype.constructor = NormalMapNode;\r\nNormalMapNode.prototype.nodeType = \"NormalMap\";\r\n\r\nNormalMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar perturbNormal2Arb = builder.include( NormalMapNode.Nodes.perturbNormal2Arb );\r\n\r\n\t\tthis.normal = this.normal || new NormalNode();\r\n\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\t\tthis.uv = this.uv || new UVNode();\r\n\r\n\t\tvar scale = this.scale.build( builder, 'v2' );\r\n\r\n\t\tif ( builder.material.side === BackSide ) {\r\n\r\n\t\t\tscale = '-' + scale;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( perturbNormal2Arb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.value.build( builder, 'v3' ) + ', ' +\r\n\t\t\tthis.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\tscale + ' )', this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.NormalMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nNormalMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nNormalMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { NormalMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/NormalMapNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\nimport { PositionNode } from '../accessors/PositionNode.js';\r\n\r\nfunction BumpMapNode( value, scale ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.value = value;\r\n\tthis.scale = scale || new FloatNode( 1 );\r\n\r\n\tthis.toNormalMap = false;\r\n\r\n}\r\n\r\nBumpMapNode.Nodes = ( function () {\r\n\r\n\tvar dHdxy_fwd = new FunctionNode( [\r\n\r\n\t\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\r\n\t\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\r\n\r\n\t\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\r\n\r\n\t\t\"vec2 dHdxy_fwd( sampler2D bumpMap, vec2 vUv, float bumpScale ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( vUv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( vUv );\",\r\n\r\n\t\t\"\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\",\r\n\t\t\"\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec2( dBx, dBy );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\tvar perturbNormalArb = new FunctionNode( [\r\n\r\n\t\t\"vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\",\r\n\r\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\r\n\r\n\t\t\"\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\",\r\n\t\t\"\tvec3 vN = surf_norm;\", // normalized\r\n\r\n\t\t\"\tvec3 R1 = cross( vSigmaY, vN );\",\r\n\t\t\"\tvec3 R2 = cross( vN, vSigmaX );\",\r\n\r\n\t\t\"\tfloat fDet = dot( vSigmaX, R1 );\",\r\n\r\n\t\t\"\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\",\r\n\r\n\t\t\"\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\",\r\n\r\n\t\t\"\treturn normalize( abs( fDet ) * surf_norm - vGrad );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ), [ dHdxy_fwd ], { derivatives: true } );\r\n\r\n\tvar bumpToNormal = new FunctionNode( [\r\n\t\t\"vec3 bumpToNormal( sampler2D bumpMap, vec2 uv, float scale ) {\",\r\n\r\n\t\t\"\tvec2 dSTdx = dFdx( uv );\",\r\n\t\t\"\tvec2 dSTdy = dFdy( uv );\",\r\n\r\n\t\t\"\tfloat Hll = texture2D( bumpMap, uv ).x;\",\r\n\t\t\"\tfloat dBx = texture2D( bumpMap, uv + dSTdx ).x - Hll;\",\r\n\t\t\"\tfloat dBy = texture2D( bumpMap, uv + dSTdy ).x - Hll;\",\r\n\r\n\t\t\"\treturn vec3( .5 - ( dBx * scale ), .5 - ( dBy * scale ), 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), null, { derivatives: true } );\r\n\r\n\treturn {\r\n\t\tdHdxy_fwd: dHdxy_fwd,\r\n\t\tperturbNormalArb: perturbNormalArb,\r\n\t\tbumpToNormal: bumpToNormal\r\n\t};\r\n\r\n} )();\r\n\r\nBumpMapNode.prototype = Object.create( TempNode.prototype );\r\nBumpMapNode.prototype.constructor = BumpMapNode;\r\nBumpMapNode.prototype.nodeType = \"BumpMap\";\r\nBumpMapNode.prototype.hashProperties = [ \"toNormalMap\" ];\r\n\r\nBumpMapNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tif ( this.toNormalMap ) {\r\n\r\n\t\t\tvar bumpToNormal = builder.include( BumpMapNode.Nodes.bumpToNormal );\r\n\r\n\t\t\treturn builder.format( bumpToNormal + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )', this.getType( builder ), output );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar derivativeHeight = builder.include( BumpMapNode.Nodes.dHdxy_fwd ),\r\n\t\t\t\tperturbNormalArb = builder.include( BumpMapNode.Nodes.perturbNormalArb );\r\n\r\n\t\t\tthis.normal = this.normal || new NormalNode();\r\n\t\t\tthis.position = this.position || new PositionNode( PositionNode.VIEW );\r\n\r\n\t\t\tvar derivativeHeightCode = derivativeHeight + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' +\r\n\t\t\t\tthis.value.uv.build( builder, 'v2' ) + ', ' +\r\n\t\t\t\tthis.scale.build( builder, 'f' ) + ' )';\r\n\r\n\t\t\treturn builder.format( perturbNormalArb + '( -' + this.position.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tthis.normal.build( builder, 'v3' ) + ', ' +\r\n\t\t\t\tderivativeHeightCode + ' )', this.getType( builder ), output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BumpMapNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBumpMapNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.scale = source.scale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBumpMapNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.scale = this.scale.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BumpMapNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/BumpMapNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction BypassNode( code, value ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.code = code;\r\n\tthis.value = value;\r\n\r\n}\r\n\r\nBypassNode.prototype = Object.create( Node.prototype );\r\nBypassNode.prototype.constructor = BypassNode;\r\nBypassNode.prototype.nodeType = \"Bypass\";\r\n\r\nBypassNode.prototype.getType = function ( builder ) {\r\n\r\n\tif ( this.value ) {\r\n\r\n\t\treturn this.value.getType( builder );\r\n\r\n\t} else if ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\treturn 'f';\r\n\r\n\t}\r\n\r\n\treturn 'void';\r\n\r\n};\r\n\r\nBypassNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar code = this.code.build( builder, output ) + ';';\r\n\r\n\tbuilder.addNodeCode( code );\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tif ( this.value ) {\r\n\r\n\t\t\treturn this.value.build( builder, output );\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\treturn this.value ? this.value.build( builder, output ) : builder.format( '0.0', 'f', output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBypassNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.code = source.code;\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBypassNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.code = this.code.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.value ) data.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BypassNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/BypassNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nvar inputs = NodeUtils.elements;\r\n\r\nfunction JoinNode( x, y, z, w ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.x = x;\r\n\tthis.y = y;\r\n\tthis.z = z;\r\n\tthis.w = w;\r\n\r\n}\r\n\r\nJoinNode.prototype = Object.create( TempNode.prototype );\r\nJoinNode.prototype.constructor = JoinNode;\r\nJoinNode.prototype.nodeType = \"Join\";\r\n\r\nJoinNode.prototype.getNumElements = function () {\r\n\r\n\tvar i = inputs.length;\r\n\r\n\twhile ( i -- ) {\r\n\r\n\t\tif ( this[ inputs[ i ] ] !== undefined ) {\r\n\r\n\t\t\t++ i;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn Math.max( i, 2 );\r\n\r\n};\r\n\r\nJoinNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.getNumElements() );\r\n\r\n};\r\n\r\nJoinNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.getType( builder ),\r\n\t\tlength = this.getNumElements(),\r\n\t\toutputs = [];\r\n\r\n\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\toutputs.push( elm ? elm.build( builder, 'f' ) : '0.0' );\r\n\r\n\t}\r\n\r\n\tvar code = ( length > 1 ? builder.getConstructorFromLength( length ) : '' ) + '( ' + outputs.join( ', ' ) + ' )';\r\n\r\n\treturn builder.format( code, type, output );\r\n\r\n};\r\n\r\nJoinNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.inputs ) {\r\n\r\n\t\tthis[ prop ] = source.inputs[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nJoinNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.inputs = {};\r\n\r\n\t\tvar length = this.getNumElements();\r\n\r\n\t\tfor ( var i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tvar elm = this[ inputs[ i ] ];\r\n\r\n\t\t\tif ( elm ) {\r\n\r\n\t\t\t\tdata.inputs[ inputs[ i ] ] = elm.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { JoinNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/JoinNode.js","import { Node } from '../core/Node.js';\r\n\r\nfunction SwitchNode( node, components ) {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.node = node;\r\n\tthis.components = components || 'x';\r\n\r\n}\r\n\r\nSwitchNode.prototype = Object.create( Node.prototype );\r\nSwitchNode.prototype.constructor = SwitchNode;\r\nSwitchNode.prototype.nodeType = \"Switch\";\r\n\r\nSwitchNode.prototype.getType = function ( builder ) {\r\n\r\n\treturn builder.getTypeFromLength( this.components.length );\r\n\r\n};\r\n\r\nSwitchNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar type = this.node.getType( builder ),\r\n\t\tnode = this.node.build( builder, type ),\r\n\t\tinputLength = builder.getTypeLength( type ) - 1;\r\n\r\n\tif ( inputLength > 0 ) {\r\n\r\n\t\t// get max length\r\n\r\n\t\tvar outputLength = 0,\r\n\t\t\tcomponents = builder.colorToVectorProperties( this.components );\r\n\r\n\t\tvar i, len = components.length;\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\toutputLength = Math.max( outputLength, builder.getIndexByElement( components.charAt( i ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( outputLength > inputLength ) outputLength = inputLength;\r\n\r\n\t\t// split\r\n\r\n\t\tnode += '.';\r\n\r\n\t\tfor ( i = 0; i < len; i ++ ) {\r\n\r\n\t\t\tvar idx = builder.getIndexByElement( components.charAt( i ) );\r\n\r\n\t\t\tif ( idx > outputLength ) idx = outputLength;\r\n\r\n\t\t\tnode += builder.getElementByIndex( idx );\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( node, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\t// join\r\n\r\n\t\treturn builder.format( node, type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSwitchNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.node = source.node;\r\n\tthis.components = source.components;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSwitchNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.node = this.node.toJSON( meta ).uuid;\r\n\t\tdata.components = this.components;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SwitchNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SwitchNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction TimerNode( scale, scope, timeScale ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.scale = scale !== undefined ? scale : 1;\r\n\tthis.scope = scope || TimerNode.GLOBAL;\r\n\r\n\tthis.timeScale = timeScale !== undefined ? timeScale : scale !== undefined;\r\n\r\n}\r\n\r\nTimerNode.GLOBAL = 'global';\r\nTimerNode.LOCAL = 'local';\r\nTimerNode.DELTA = 'delta';\r\n\r\nTimerNode.prototype = Object.create( FloatNode.prototype );\r\nTimerNode.prototype.constructor = TimerNode;\r\nTimerNode.prototype.nodeType = \"Timer\";\r\n\r\nTimerNode.prototype.getReadonly = function () {\r\n\r\n\t// never use TimerNode as readonly but aways as \"uniform\"\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nTimerNode.prototype.getUnique = function () {\r\n\r\n\t// share TimerNode \"uniform\" input if is used on more time with others TimerNode\r\n\r\n\treturn this.timeScale && ( this.scope === TimerNode.GLOBAL || this.scope === TimerNode.DELTA );\r\n\r\n};\r\n\r\nTimerNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tvar scale = this.timeScale ? this.scale : 1;\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase TimerNode.LOCAL:\r\n\r\n\t\t\tthis.value += frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase TimerNode.DELTA:\r\n\r\n\t\t\tthis.value = frame.delta * scale;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value = frame.time * scale;\r\n\r\n\t}\r\n\r\n};\r\n\r\nTimerNode.prototype.copy = function ( source ) {\r\n\r\n\tFloatNode.prototype.copy.call( this, source );\r\n\r\n\tthis.scope = source.scope;\r\n\tthis.scale = source.scale;\r\n\r\n\tthis.timeScale = source.timeScale;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTimerNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\t\tdata.scale = this.scale;\r\n\r\n\t\tdata.timeScale = this.timeScale;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'time', function () {\r\n\r\n\treturn new TimerNode();\r\n\r\n} );\r\n\r\nexport { TimerNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/TimerNode.js","import { Vector3 } from '@/components/build/three.module.js';\r\n\r\nimport { Vector3Node } from '../inputs/Vector3Node.js';\r\n\r\nfunction VelocityNode( target, params ) {\r\n\r\n\tVector3Node.call( this );\r\n\r\n\tthis.params = {};\r\n\r\n\tthis.velocity = new Vector3();\r\n\r\n\tthis.setTarget( target );\r\n\tthis.setParams( params );\r\n\r\n}\r\n\r\nVelocityNode.prototype = Object.create( Vector3Node.prototype );\r\nVelocityNode.prototype.constructor = VelocityNode;\r\nVelocityNode.prototype.nodeType = \"Velocity\";\r\n\r\nVelocityNode.prototype.getReadonly = function ( /*builder*/ ) {\r\n\r\n\treturn false;\r\n\r\n};\r\n\r\nVelocityNode.prototype.setParams = function ( params ) {\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tdelete this.moment;\r\n\r\n\t\t\tdelete this.speed;\r\n\t\t\tdelete this.springVelocity;\r\n\r\n\t\t\tdelete this.lastVelocity;\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tthis.params = params || {};\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\tthis.moment = new Vector3();\r\n\r\n\t\t\tthis.speed = new Vector3();\r\n\t\t\tthis.springVelocity = new Vector3();\r\n\r\n\t\t\tthis.lastVelocity = new Vector3();\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.setTarget = function ( target ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tdelete this.position;\r\n\t\tdelete this.oldPosition;\r\n\r\n\t}\r\n\r\n\tthis.target = target;\r\n\r\n\tif ( target ) {\r\n\r\n\t\tthis.position = target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.oldPosition = this.position.clone();\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrameVelocity = function ( /*frame*/ ) {\r\n\r\n\tif ( this.target ) {\r\n\r\n\t\tthis.position = this.target.getWorldPosition( this.position || new Vector3() );\r\n\t\tthis.velocity.subVectors( this.position, this.oldPosition );\r\n\t\tthis.oldPosition.copy( this.position );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.updateFrame = function ( frame ) {\r\n\r\n\tthis.updateFrameVelocity( frame );\r\n\r\n\tswitch ( this.params.type ) {\r\n\r\n\t\tcase \"elastic\":\r\n\r\n\t\t\t// convert to real scale: 0 at 1 values\r\n\t\t\tvar deltaFps = frame.delta * ( this.params.fps || 60 );\r\n\r\n\t\t\tvar spring = Math.pow( this.params.spring, deltaFps ),\r\n\t\t\t\tdamping = Math.pow( this.params.damping, deltaFps );\r\n\r\n\t\t\t// fix relative frame-rate\r\n\t\t\tthis.velocity.multiplyScalar( Math.exp( - this.params.damping * deltaFps ) );\r\n\r\n\t\t\t// elastic\r\n\t\t\tthis.velocity.add( this.springVelocity );\r\n\t\t\tthis.velocity.add( this.speed.multiplyScalar( damping ).multiplyScalar( 1 - spring ) );\r\n\r\n\t\t\t// speed\r\n\t\t\tthis.speed.subVectors( this.velocity, this.lastVelocity );\r\n\r\n\t\t\t// spring velocity\r\n\t\t\tthis.springVelocity.add( this.speed );\r\n\t\t\tthis.springVelocity.multiplyScalar( spring );\r\n\r\n\t\t\t// moment\r\n\t\t\tthis.moment.add( this.springVelocity );\r\n\r\n\t\t\t// damping\r\n\t\t\tthis.moment.multiplyScalar( damping );\r\n\r\n\t\t\tthis.lastVelocity.copy( this.velocity );\r\n\t\t\tthis.value.copy( this.moment );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tthis.value.copy( this.velocity );\r\n\r\n\t}\r\n\r\n};\r\n\r\nVelocityNode.prototype.copy = function ( source ) {\r\n\r\n\tVector3Node.prototype.copy.call( this, source );\r\n\r\n\tif ( source.target ) this.setTarget( source.target );\r\n\r\n\tthis.setParams( source.params );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVelocityNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tif ( this.target ) data.target = this.target.uuid;\r\n\r\n\t\t// clone params\r\n\t\tdata.params = JSON.parse( JSON.stringify( this.params ) );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { VelocityNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/VelocityNode.js","import { FloatNode } from '../inputs/FloatNode.js';\r\n\r\nfunction MaxMIPLevelNode( texture ) {\r\n\r\n\tFloatNode.call( this );\r\n\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = 0;\r\n\r\n}\r\n\r\nMaxMIPLevelNode.prototype = Object.create( FloatNode.prototype );\r\nMaxMIPLevelNode.prototype.constructor = MaxMIPLevelNode;\r\nMaxMIPLevelNode.prototype.nodeType = \"MaxMIPLevel\";\r\n\r\nObject.defineProperties( MaxMIPLevelNode.prototype, {\r\n\r\n\tvalue: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tif ( this.maxMIPLevel === 0 ) {\r\n\r\n\t\t\t\tvar image = this.texture.value.image;\r\n\r\n\t\t\t\tif ( Array.isArray( image ) ) image = image[ 0 ];\r\n\r\n\t\t\t\tthis.maxMIPLevel = image !== undefined ? Math.log( Math.max( image.width, image.height ) ) * Math.LOG2E : 0;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this.maxMIPLevel;\r\n\r\n\t\t},\r\n\r\n\t\tset: function () { }\r\n\r\n\t}\r\n\r\n} );\r\n\r\nMaxMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture.uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MaxMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/MaxMIPLevelNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { MaxMIPLevelNode } from './MaxMIPLevelNode.js';\r\n\r\nfunction SpecularMIPLevelNode( roughness, texture ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.roughness = roughness;\r\n\tthis.texture = texture;\r\n\r\n\tthis.maxMIPLevel = undefined;\r\n\r\n}\r\n\r\nSpecularMIPLevelNode.Nodes = ( function () {\r\n\r\n\tvar getSpecularMIPLevel = new FunctionNode( [\r\n\t\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\r\n\t\t\"float getSpecularMIPLevel( const in float roughness, const in float maxMIPLevelScalar ) {\",\r\n\r\n\t\t\"\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\",\r\n\t\t\"\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\",\r\n\r\n\t\t// clamp to allowable LOD ranges.\r\n\t\t\"\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tgetSpecularMIPLevel: getSpecularMIPLevel\r\n\t};\r\n\r\n} )();\r\n\r\nSpecularMIPLevelNode.prototype = Object.create( TempNode.prototype );\r\nSpecularMIPLevelNode.prototype.constructor = SpecularMIPLevelNode;\r\nSpecularMIPLevelNode.prototype.nodeType = \"SpecularMIPLevel\";\r\n\r\nSpecularMIPLevelNode.prototype.setTexture = function ( texture ) {\r\n\r\n\tthis.texture = texture;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tthis.maxMIPLevel = this.maxMIPLevel || new MaxMIPLevelNode();\r\n\t\tthis.maxMIPLevel.texture = this.texture;\r\n\r\n\t\tvar getSpecularMIPLevel = builder.include( SpecularMIPLevelNode.Nodes.getSpecularMIPLevel );\r\n\r\n\t\treturn builder.format( getSpecularMIPLevel + '( ' + this.roughness.build( builder, 'f' ) + ', ' + this.maxMIPLevel.build( builder, 'f' ) + ' )', this.type, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.SpecularMIPLevelNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( '0.0', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.texture = source.texture;\r\n\tthis.roughness = source.roughness;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpecularMIPLevelNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.texture = this.texture;\r\n\t\tdata.roughness = this.roughness;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpecularMIPLevelNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SpecularMIPLevelNode.js","import { ExpressionNode } from '../core/ExpressionNode.js';\r\nimport { Matrix3Node } from '../inputs/Matrix3Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction UVTransformNode( uv, position ) {\r\n\r\n\tExpressionNode.call( this, \"( uvTransform * vec3( uvNode, 1 ) ).xy\", \"vec2\" );\r\n\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.position = position || new Matrix3Node();\r\n\r\n}\r\n\r\nUVTransformNode.prototype = Object.create( ExpressionNode.prototype );\r\nUVTransformNode.prototype.constructor = UVTransformNode;\r\nUVTransformNode.prototype.nodeType = \"UVTransform\";\r\n\r\nUVTransformNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tthis.keywords[ \"uvNode\" ] = this.uv;\r\n\tthis.keywords[ \"uvTransform\" ] = this.position;\r\n\r\n\treturn ExpressionNode.prototype.generate.call( this, builder, output );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.setUvTransform = function ( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\tcx = cx !== undefined ? cx : .5;\r\n\tcy = cy !== undefined ? cy : .5;\r\n\r\n\tthis.position.value.setUvTransform( tx, ty, sx, sy, rotation, cx, cy );\r\n\r\n};\r\n\r\nUVTransformNode.prototype.copy = function ( source ) {\r\n\r\n\tExpressionNode.prototype.copy.call( this, source );\r\n\r\n\tthis.uv = source.uv;\r\n\tthis.position = source.position;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVTransformNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { UVTransformNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/UVTransformNode.js","import { TempNode } from '../core/TempNode.js';\r\n\r\nfunction SubSlotNode( slots ) {\r\n\r\n\tTempNode.call( this );\r\n\r\n\tthis.slots = slots || {};\r\n\r\n}\r\n\r\nSubSlotNode.prototype = Object.create( TempNode.prototype );\r\nSubSlotNode.prototype.constructor = SubSlotNode;\r\nSubSlotNode.prototype.nodeType = \"SubSlot\";\r\n\r\nSubSlotNode.prototype.getType = function ( builder, output ) {\r\n\r\n\treturn output;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( this.slots[ builder.slot ] ) {\r\n\r\n\t\treturn this.slots[ builder.slot ].build( builder, output );\r\n\r\n\t}\r\n\r\n\treturn builder.format( '0.0', 'f', output );\r\n\r\n};\r\n\r\nSubSlotNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tfor ( var prop in source.slots ) {\r\n\r\n\t\tthis.slots[ prop ] = source.slots[ prop ];\r\n\r\n\t}\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSubSlotNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.slots = {};\r\n\r\n\t\tfor ( var prop in this.slots ) {\r\n\r\n\t\t\tvar slot = this.slots[ prop ];\r\n\r\n\t\t\tif ( slot ) {\r\n\r\n\t\t\t\tdata.slots[ prop ] = slot.toJSON( meta ).uuid;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SubSlotNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/utils/SubSlotNode.js","import { Vector2 } from '@/components/build/three.module.js';\r\n\r\nimport { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { Vector2Node } from '../inputs/Vector2Node.js';\r\nimport { UVNode } from '../accessors/UVNode.js';\r\n\r\nfunction BlurNode( value, uv, radius, size ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\tthis.uv = uv || new UVNode();\r\n\tthis.radius = radius || new Vector2Node( 1, 1 );\r\n\r\n\tthis.size = size;\r\n\r\n\tthis.blurX = true;\r\n\tthis.blurY = true;\r\n\r\n\tthis.horizontal = new FloatNode( 1 / 64 );\r\n\tthis.vertical = new FloatNode( 1 / 64 );\r\n\r\n}\r\n\r\nBlurNode.Nodes = ( function () {\r\n\r\n\tvar blurX = new FunctionNode( [\r\n\t\t\"vec4 blurX( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x - 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 1.0 * s, uv.y ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 2.0 * s, uv.y ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 3.0 * s, uv.y ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x + 4.0 * s, uv.y ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar blurY = new FunctionNode( [\r\n\t\t\"vec4 blurY( sampler2D tex, vec2 uv, float s ) {\",\r\n\t\t\"\tvec4 sum = vec4( 0.0 );\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y - 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y ) ) * 0.1633;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 1.0 * s ) ) * 0.1531;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 2.0 * s ) ) * 0.12245;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 3.0 * s ) ) * 0.0918;\",\r\n\t\t\"\tsum += texture2D( tex, vec2( uv.x, uv.y + 4.0 * s ) ) * 0.051;\",\r\n\t\t\"\treturn sum * .667;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\tblurX: blurX,\r\n\t\tblurY: blurY\r\n\t};\r\n\r\n} )();\r\n\r\n\r\nBlurNode.prototype = Object.create( TempNode.prototype );\r\nBlurNode.prototype.constructor = BlurNode;\r\nBlurNode.prototype.nodeType = \"Blur\";\r\nBlurNode.prototype.hashProperties = [ \"blurX\", \"blurY\" ];\r\n\r\nBlurNode.prototype.updateFrame = function ( /* frame */ ) {\r\n\r\n\tif ( this.size ) {\r\n\r\n\t\tthis.horizontal.value = this.radius.x / this.size.x;\r\n\t\tthis.vertical.value = this.radius.y / this.size.y;\r\n\r\n\t} else if ( this.value.value && this.value.value.image ) {\r\n\r\n\t\tvar image = this.value.value.image;\r\n\r\n\t\tthis.horizontal.value = this.radius.x / image.width;\r\n\t\tthis.vertical.value = this.radius.y / image.height;\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar blurCode = [], code;\r\n\r\n\t\tvar blurX = builder.include( BlurNode.Nodes.blurX ),\r\n\t\t\tblurY = builder.include( BlurNode.Nodes.blurY );\r\n\r\n\t\tif ( this.blurX ) {\r\n\r\n\t\t\tblurCode.push( blurX + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.horizontal.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.blurY ) {\r\n\r\n\t\t\tblurCode.push( blurY + '( ' + this.value.build( builder, 'sampler2D' ) + ', ' + this.uv.build( builder, 'v2' ) + ', ' + this.vertical.build( builder, 'f' ) + ' )' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( blurCode.length == 2 ) code = '( ' + blurCode.join( ' + ' ) + ' / 2.0 )';\r\n\t\telse if ( blurCode.length ) code = '( ' + blurCode[ 0 ] + ' )';\r\n\t\telse code = 'vec4( 0.0 )';\r\n\r\n\t\treturn builder.format( code, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.BlurNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nBlurNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\tthis.uv = source.uv;\r\n\tthis.radius = source.radius;\r\n\r\n\tif ( source.size !== undefined ) this.size = new Vector2( source.size.x, source.size.y );\r\n\r\n\tthis.blurX = source.blurX;\r\n\tthis.blurY = source.blurY;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBlurNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\t\tdata.uv = this.uv.toJSON( meta ).uuid;\r\n\t\tdata.radius = this.radius.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.size ) data.size = { x: this.size.x, y: this.size.y };\r\n\r\n\t\tdata.blurX = this.blurX;\r\n\t\tdata.blurY = this.blurY;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BlurNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/BlurNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\nimport { LuminanceNode } from './LuminanceNode.js';\r\n\r\nfunction ColorAdjustmentNode( rgb, adjustment, method ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.rgb = rgb;\r\n\tthis.adjustment = adjustment;\r\n\r\n\tthis.method = method || ColorAdjustmentNode.SATURATION;\r\n\r\n}\r\n\r\nColorAdjustmentNode.Nodes = ( function () {\r\n\r\n\tvar hue = new FunctionNode( [\r\n\t\t\"vec3 hue(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tconst mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.595716, -0.274453, -0.321263, 0.211456, -0.522591, 0.311135);\",\r\n\t\t\"\tconst mat3 YIQtoRGB = mat3(1.0, 0.9563, 0.6210, 1.0, -0.2721, -0.6474, 1.0, -1.107, 1.7046);\",\r\n\r\n\t\t\"\tvec3 yiq = RGBtoYIQ * rgb;\",\r\n\r\n\t\t\"\tfloat hue = atan(yiq.z, yiq.y) + adjustment;\",\r\n\t\t\"\tfloat chroma = sqrt(yiq.z * yiq.z + yiq.y * yiq.y);\",\r\n\r\n\t\t\"\treturn YIQtoRGB * vec3(yiq.x, chroma * cos(hue), chroma * sin(hue));\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\tvar saturation = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 16 of OpenGL Shading Language\r\n\t\t\"vec3 saturation(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tvec3 intensity = vec3( luminance( rgb ) );\",\r\n\r\n\t\t\"\treturn mix( intensity, rgb, adjustment );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LuminanceNode.Nodes.luminance ] ); // include LuminanceNode function\r\n\r\n\tvar vibrance = new FunctionNode( [\r\n\t\t// Shader by Evan Wallace adapted by @lo-th\r\n\t\t\"vec3 vibrance(vec3 rgb, float adjustment) {\",\r\n\r\n\t\t\"\tfloat average = (rgb.r + rgb.g + rgb.b) / 3.0;\",\r\n\r\n\t\t\"\tfloat mx = max(rgb.r, max(rgb.g, rgb.b));\",\r\n\t\t\"\tfloat amt = (mx - average) * (-3.0 * adjustment);\",\r\n\r\n\t\t\"\treturn mix(rgb.rgb, vec3(mx), amt);\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ) );\r\n\r\n\treturn {\r\n\t\thue: hue,\r\n\t\tsaturation: saturation,\r\n\t\tvibrance: vibrance\r\n\t};\r\n\r\n} )();\r\n\r\nColorAdjustmentNode.SATURATION = 'saturation';\r\nColorAdjustmentNode.HUE = 'hue';\r\nColorAdjustmentNode.VIBRANCE = 'vibrance';\r\nColorAdjustmentNode.BRIGHTNESS = 'brightness';\r\nColorAdjustmentNode.CONTRAST = 'contrast';\r\n\r\nColorAdjustmentNode.prototype = Object.create( TempNode.prototype );\r\nColorAdjustmentNode.prototype.constructor = ColorAdjustmentNode;\r\nColorAdjustmentNode.prototype.nodeType = \"ColorAdjustment\";\r\nColorAdjustmentNode.prototype.hashProperties = [ \"method\" ];\r\n\r\nColorAdjustmentNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar rgb = this.rgb.build( builder, 'v3' ),\r\n\t\tadjustment = this.adjustment.build( builder, 'f' );\r\n\r\n\tswitch ( this.method ) {\r\n\r\n\t\tcase ColorAdjustmentNode.BRIGHTNESS:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' + ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase ColorAdjustmentNode.CONTRAST:\r\n\r\n\t\t\treturn builder.format( '( ' + rgb + ' * ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n\t\t\tbreak;\r\n\r\n\t}\r\n\r\n\tvar method = builder.include( ColorAdjustmentNode.Nodes[ this.method ] );\r\n\r\n\treturn builder.format( method + '( ' + rgb + ', ' + adjustment + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\tthis.adjustment = source.adjustment;\r\n\tthis.method = source.method;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nColorAdjustmentNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\t\tdata.adjustment = this.adjustment.toJSON( meta ).uuid;\r\n\t\tdata.method = this.method;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ColorAdjustmentNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/ColorAdjustmentNode.js","import { TempNode } from '../core/TempNode.js';\r\nimport { ConstNode } from '../core/ConstNode.js';\r\nimport { FunctionNode } from '../core/FunctionNode.js';\r\n\r\nfunction LuminanceNode( rgb ) {\r\n\r\n\tTempNode.call( this, 'f' );\r\n\r\n\tthis.rgb = rgb;\r\n\r\n}\r\n\r\nLuminanceNode.Nodes = ( function () {\r\n\r\n\tvar LUMA = new ConstNode( \"vec3 LUMA vec3( 0.2125, 0.7154, 0.0721 )\" );\r\n\r\n\tvar luminance = new FunctionNode( [\r\n\t\t// Algorithm from Chapter 10 of Graphics Shaders\r\n\t\t\"float luminance( vec3 rgb ) {\",\r\n\r\n\t\t\"\treturn dot( rgb, LUMA );\",\r\n\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ), [ LUMA ] );\r\n\r\n\treturn {\r\n\t\tLUMA: LUMA,\r\n\t\tluminance: luminance\r\n\t};\r\n\r\n} )();\r\n\r\nLuminanceNode.prototype = Object.create( TempNode.prototype );\r\nLuminanceNode.prototype.constructor = LuminanceNode;\r\nLuminanceNode.prototype.nodeType = \"Luminance\";\r\n\r\nLuminanceNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar luminance = builder.include( LuminanceNode.Nodes.luminance );\r\n\r\n\treturn builder.format( luminance + '( ' + this.rgb.build( builder, 'v3' ) + ' )', this.getType( builder ), output );\r\n\r\n};\r\n\r\nLuminanceNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.rgb = source.rgb;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nLuminanceNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.rgb = this.rgb.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { LuminanceNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/effects/LuminanceNode.js","import { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction BasicNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\r\n}\r\n\r\nBasicNode.prototype = Object.create( Node.prototype );\r\nBasicNode.prototype.constructor = BasicNode;\r\nBasicNode.prototype.nodeType = \"Basic\";\r\n\r\nBasicNode.prototype.generate = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\" vNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\",\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// Analyze all nodes to reuse generate codes\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\t// Build code\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\" varying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\tcolor.code,\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t' if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4(\" + color.result + \", 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nBasicNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nBasicNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { BasicNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/BasicNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\n\r\nfunction SpriteNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.spherical = true;\r\n\r\n}\r\n\r\nSpriteNode.prototype = Object.create( Node.prototype );\r\nSpriteNode.prototype.constructor = SpriteNode;\r\nSpriteNode.prototype.nodeType = \"Sprite\";\r\n\r\nSpriteNode.prototype.build = function ( builder ) {\r\n\r\n\tvar output;\r\n\r\n\tbuilder.define( 'SPRITE' );\r\n\r\n\tbuilder.requires.lights = false;\r\n\tbuilder.requires.transparent = this.alpha !== undefined;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\t\t\tUniformsLib.fog\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\toutput = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\r\n\t\t\t'mat4 modelViewMtx = modelViewMatrix;',\r\n\t\t\t'mat4 modelMtx = modelMatrix;',\r\n\r\n\t\t\t// ignore position from modelMatrix (use vary position)\r\n\t\t\t'modelMtx[3][0] = 0.0;',\r\n\t\t\t'modelMtx[3][1] = 0.0;',\r\n\t\t\t'modelMtx[3][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( ! this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'modelMtx[1][1] = 1.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// http://www.geeks3d.com/20140807/billboarding-vertex-shader-glsl/\r\n\t\t\t// First colunm.\r\n\t\t\t'modelViewMtx[0][0] = 1.0;',\r\n\t\t\t'modelViewMtx[0][1] = 0.0;',\r\n\t\t\t'modelViewMtx[0][2] = 0.0;'\r\n\t\t);\r\n\r\n\t\tif ( this.spherical ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t// Second colunm.\r\n\t\t\t\t'modelViewMtx[1][0] = 0.0;',\r\n\t\t\t\t'modelViewMtx[1][1] = 1.0;',\r\n\t\t\t\t'modelViewMtx[1][2] = 0.0;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t// Thrid colunm.\r\n\t\t\t'modelViewMtx[2][0] = 0.0;',\r\n\t\t\t'modelViewMtx[2][1] = 0.0;',\r\n\t\t\t'modelViewMtx[2][2] = 1.0;',\r\n\r\n\t\t\t\"gl_Position = projectionMatrix * modelViewMtx * modelMtx * vec4( transformed, 1.0 );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t} else {\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\",\r\n\t\t\t\"#include <clipping_planes_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tbuilder.addCode( [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined,\r\n\t\t\talpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined,\r\n\t\t\tcolor = this.color.flow( builder, 'c', { slot: 'color' } ),\r\n\t\t\toutput = [];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif',\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", \" + alpha.result + \" );\"\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tcolor.code,\r\n\t\t\t\t\"gl_FragColor = vec4( \" + color.result + \", 1.0 );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\"\r\n\t\t);\r\n\r\n\t}\r\n\r\n\treturn output.join( \"\\n\" );\r\n\r\n};\r\n\r\nSpriteNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\r\n\tif ( source.spherical !== undefined ) this.spherical = source.spherical;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nSpriteNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.spherical === false ) data.spherical = false;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { SpriteNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/SpriteNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\n\r\nfunction PhongNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xEEEEEE );\r\n\tthis.specular = new ColorNode( 0x111111 );\r\n\tthis.shininess = new FloatNode( 30 );\r\n\r\n}\r\n\r\nPhongNode.prototype = Object.create( Node.prototype );\r\nPhongNode.prototype.constructor = PhongNode;\r\nPhongNode.prototype.nodeType = \"Phong\";\r\n\r\nPhongNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'PHONG' );\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"\t#include <morphtarget_vertex>\",\r\n\t\t\t\"\t#include <skinning_vertex>\",\r\n\t\t\t\"\t#include <project_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\",\r\n\t\t\t\"\t#include <logdepthbuf_vertex>\",\r\n\t\t\t\"\t#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"\t#include <worldpos_vertex>\",\r\n\t\t\t\"\t#include <shadowmap_vertex>\",\r\n\t\t\t\"\t#include <fog_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color' } );\r\n\t\tthis.specular.analyze( builder );\r\n\t\tthis.shininess.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) this.environment.analyze( builder, { slot: 'environment' } );\r\n\t\tif ( this.environmentAlpha && this.environment ) this.environmentAlpha.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color' } );\r\n\t\tvar specular = this.specular.flow( builder, 'c' );\r\n\t\tvar shininess = this.shininess.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment = this.environment ? this.environment.flow( builder, 'c', { slot: 'environment' } ) : undefined;\r\n\t\tvar environmentAlpha = this.environmentAlpha && this.environment ? this.environmentAlpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_phong_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t// prevent undeclared normal\r\n\t\t\t\"#include <normal_fragment_begin>\",\r\n\r\n\t\t\t// prevent undeclared material\r\n\t\t\t\"\tBlinnPhongMaterial material;\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\tspecular.code,\r\n\t\t\t\"\tvec3 specular = \" + specular.result + \";\",\r\n\r\n\t\t\tshininess.code,\r\n\t\t\t\"\tfloat shininess = max( 0.0001, \" + shininess.result + \" );\",\r\n\r\n\t\t\t\"\tfloat specularStrength = 1.0;\" // Ignored in MaterialNode ( replace to specular )\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'if ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push( 'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor' ) + ';' );\r\n\r\n\t\toutput.push(\r\n\t\t\t// accumulation\r\n\t\t\t'material.specularColor = specular;',\r\n\t\t\t'material.specularShininess = shininess;',\r\n\t\t\t'material.specularStrength = specularStrength;',\r\n\r\n\t\t\t\"#include <lights_fragment_begin>\",\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular;\" );\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.code );\r\n\r\n\t\t\tif ( environmentAlpha ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tenvironmentAlpha.code,\r\n\t\t\t\t\t\"outgoingLight = mix( outgoingLight, \" + environment.result + \", \" + environmentAlpha.result + \" );\"\r\n\t\t\t\t);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toutput.push( \"outgoingLight = \" + environment.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t/*\r\n\t\tswitch( builder.material.combine ) {\r\n\r\n\t\t\tcase ENVMAP_BLENDING_MULTIPLY:\r\n\r\n\t\t\t\t//output.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\t\t\t\t//outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\r\n\t\t}\r\n\t*/\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nPhongNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.specular = source.specular;\r\n\tthis.shininess = source.shininess;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\tif ( source.environmentAlpha ) this.environmentAlpha = source.environmentAlpha;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nPhongNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.specular = this.specular.toJSON( meta ).uuid;\r\n\t\tdata.shininess = this.shininess.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\t\tif ( this.environmentAlpha ) data.environmentAlpha = this.environmentAlpha.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { PhongNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/PhongNode.js","import {\r\n\tUniformsLib,\r\n\tUniformsUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { Node } from '../../core/Node.js';\r\nimport { ExpressionNode } from '../../core/ExpressionNode.js';\r\nimport { ColorNode } from '../../inputs/ColorNode.js';\r\nimport { FloatNode } from '../../inputs/FloatNode.js';\r\nimport { SpecularMIPLevelNode } from '../../utils/SpecularMIPLevelNode.js';\r\n\r\nfunction StandardNode() {\r\n\r\n\tNode.call( this );\r\n\r\n\tthis.color = new ColorNode( 0xFFFFFF );\r\n\tthis.roughness = new FloatNode( 1 );\r\n\tthis.metalness = new FloatNode( 0 );\r\n\r\n}\r\n\r\nStandardNode.prototype = Object.create( Node.prototype );\r\nStandardNode.prototype.constructor = StandardNode;\r\nStandardNode.prototype.nodeType = \"Standard\";\r\n\r\nStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar code;\r\n\r\n\tbuilder.define( 'STANDARD' );\r\n\r\n\tvar useClearcoat = this.clearcoat || this.clearcoatRoughness || this.clearCoatNormal;\r\n\r\n\tif ( useClearcoat ) {\r\n\r\n\t\tbuilder.define( 'CLEARCOAT' );\r\n\r\n\t}\r\n\r\n\tbuilder.requires.lights = true;\r\n\r\n\tbuilder.extensions.derivatives = true;\r\n\tbuilder.extensions.shaderTextureLOD = true;\r\n\r\n\tif ( builder.isShader( 'vertex' ) ) {\r\n\r\n\t\tvar position = this.position ? this.position.analyzeAndFlow( builder, 'v3', { cache: 'position' } ) : undefined;\r\n\r\n\t\tbuilder.mergeUniform( UniformsUtils.merge( [\r\n\r\n\t\t\tUniformsLib.fog,\r\n\t\t\tUniformsLib.lights\r\n\r\n\t\t] ) );\r\n\r\n\t\tif ( UniformsLib.LTC_1 ) {\r\n\r\n\t\t\t// add ltc data textures to material uniforms\r\n\r\n\t\t\tbuilder.uniforms.ltc_1 = { value: undefined };\r\n\t\t\tbuilder.uniforms.ltc_2 = { value: undefined };\r\n\r\n\t\t}\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t//\"#include <encodings_pars_fragment>\", // encoding functions\r\n\t\t\t\"#include <fog_pars_vertex>\",\r\n\t\t\t\"#include <morphtarget_pars_vertex>\",\r\n\t\t\t\"#include <skinning_pars_vertex>\",\r\n\t\t\t\"#include <shadowmap_pars_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_pars_vertex>\",\r\n\t\t\t\"#include <clipping_planes_pars_vertex>\"\r\n\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <beginnormal_vertex>\",\r\n\t\t\t\"#include <morphnormal_vertex>\",\r\n\t\t\t\"#include <skinbase_vertex>\",\r\n\t\t\t\"#include <skinnormal_vertex>\",\r\n\t\t\t\"#include <defaultnormal_vertex>\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\r\n\r\n\t\t\t\"\tvNormal = normalize( transformedNormal );\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <begin_vertex>\"\r\n\t\t];\r\n\r\n\t\tif ( position ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tposition.code,\r\n\t\t\t\tposition.result ? \"transformed = \" + position.result + \";\" : ''\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <morphtarget_vertex>\",\r\n\t\t\t\"#include <skinning_vertex>\",\r\n\t\t\t\"#include <project_vertex>\",\r\n\t\t\t\"#include <fog_vertex>\",\r\n\t\t\t\"#include <logdepthbuf_vertex>\",\r\n\t\t\t\"#include <clipping_planes_vertex>\",\r\n\r\n\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\r\n\r\n\t\t\t\"#include <worldpos_vertex>\",\r\n\t\t\t\"#include <shadowmap_vertex>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t} else {\r\n\r\n\t\tvar specularRoughness = new ExpressionNode( 'material.specularRoughness', 'f' );\r\n\t\tvar clearcoatRoughness = new ExpressionNode( 'material.clearcoatRoughness', 'f' );\r\n\r\n\t\tvar contextEnvironment = {\r\n\t\t\troughness: specularRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( specularRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'normal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.normal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextGammaOnly = {\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\tvar contextClearcoatEnvironment = {\r\n\t\t\troughness: clearcoatRoughness,\r\n\t\t\tbias: new SpecularMIPLevelNode( clearcoatRoughness ),\r\n\t\t\tviewNormal: new ExpressionNode( 'clearcoatNormal', 'v3' ),\r\n\t\t\tworldNormal: new ExpressionNode( 'inverseTransformDirection( geometry.clearcoatNormal, viewMatrix )', 'v3' ),\r\n\t\t\tgamma: true\r\n\t\t};\r\n\r\n\t\t// analyze all nodes to reuse generate codes\r\n\r\n\t\tif ( this.mask ) this.mask.analyze( builder );\r\n\r\n\t\tthis.color.analyze( builder, { slot: 'color', context: contextGammaOnly } );\r\n\t\tthis.roughness.analyze( builder );\r\n\t\tthis.metalness.analyze( builder );\r\n\r\n\t\tif ( this.alpha ) this.alpha.analyze( builder );\r\n\r\n\t\tif ( this.normal ) this.normal.analyze( builder );\r\n\r\n\t\tif ( this.clearcoat ) this.clearcoat.analyze( builder );\r\n\t\tif ( this.clearcoatRoughness ) this.clearcoatRoughness.analyze( builder );\r\n\t\tif ( this.clearcoatNormal ) this.clearcoatNormal.analyze( builder );\r\n\r\n\t\tif ( this.reflectivity ) this.reflectivity.analyze( builder );\r\n\r\n\t\tif ( this.light ) this.light.analyze( builder, { cache: 'light' } );\r\n\r\n\t\tif ( this.ao ) this.ao.analyze( builder );\r\n\t\tif ( this.ambient ) this.ambient.analyze( builder );\r\n\t\tif ( this.shadow ) this.shadow.analyze( builder );\r\n\t\tif ( this.emissive ) this.emissive.analyze( builder, { slot: 'emissive' } );\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\t// isolate environment from others inputs ( see TextureNode, CubeTextureNode )\r\n\t\t\t// environment.analyze will detect if there is a need of calculate irradiance\r\n\r\n\t\t\tthis.environment.analyze( builder, { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tthis.environment.analyze( builder, { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.sheen ) this.sheen.analyze( builder );\r\n\r\n\t\t// build code\r\n\r\n\t\tvar mask = this.mask ? this.mask.flow( builder, 'b' ) : undefined;\r\n\r\n\t\tvar color = this.color.flow( builder, 'c', { slot: 'color', context: contextGammaOnly } );\r\n\t\tvar roughness = this.roughness.flow( builder, 'f' );\r\n\t\tvar metalness = this.metalness.flow( builder, 'f' );\r\n\r\n\t\tvar alpha = this.alpha ? this.alpha.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar normal = this.normal ? this.normal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar clearcoat = this.clearcoat ? this.clearcoat.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatRoughness = this.clearcoatRoughness ? this.clearcoatRoughness.flow( builder, 'f' ) : undefined;\r\n\t\tvar clearcoatNormal = this.clearcoatNormal ? this.clearcoatNormal.flow( builder, 'v3' ) : undefined;\r\n\r\n\t\tvar reflectivity = this.reflectivity ? this.reflectivity.flow( builder, 'f' ) : undefined;\r\n\r\n\t\tvar light = this.light ? this.light.flow( builder, 'v3', { cache: 'light' } ) : undefined;\r\n\r\n\t\tvar ao = this.ao ? this.ao.flow( builder, 'f' ) : undefined;\r\n\t\tvar ambient = this.ambient ? this.ambient.flow( builder, 'c' ) : undefined;\r\n\t\tvar shadow = this.shadow ? this.shadow.flow( builder, 'c' ) : undefined;\r\n\t\tvar emissive = this.emissive ? this.emissive.flow( builder, 'c', { slot: 'emissive' } ) : undefined;\r\n\r\n\t\tvar environment;\r\n\r\n\t\tif ( this.environment ) {\r\n\r\n\t\t\tenvironment = {\r\n\t\t\t\tradiance: this.environment.flow( builder, 'c', { cache: 'radiance', context: contextEnvironment, slot: 'radiance' } )\r\n\t\t\t};\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\tenvironment.irradiance = this.environment.flow( builder, 'c', { cache: 'irradiance', context: contextEnvironment, slot: 'irradiance' } );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar clearcoatEnv = useClearcoat && environment ? this.environment.flow( builder, 'c', { cache: 'clearcoat', context: contextClearcoatEnvironment, slot: 'environment' } ) : undefined;\r\n\r\n\t\tvar sheen = this.sheen ? this.sheen.flow( builder, 'c' ) : undefined;\r\n\r\n\t\tbuilder.requires.transparent = alpha !== undefined;\r\n\r\n\t\tbuilder.addParsCode( [\r\n\t\t\t\"varying vec3 vViewPosition;\",\r\n\r\n\t\t\t\"#ifndef FLAT_SHADED\",\r\n\r\n\t\t\t\"\tvarying vec3 vNormal;\",\r\n\r\n\t\t\t\"#endif\",\r\n\r\n\t\t\t\"#include <dithering_pars_fragment>\",\r\n\t\t\t\"#include <fog_pars_fragment>\",\r\n\t\t\t\"#include <bsdfs>\",\r\n\t\t\t\"#include <lights_pars_begin>\",\r\n\t\t\t\"#include <lights_physical_pars_fragment>\",\r\n\t\t\t\"#include <shadowmap_pars_fragment>\",\r\n\t\t\t\"#include <logdepthbuf_pars_fragment>\"\r\n\t\t].join( \"\\n\" ) );\r\n\r\n\t\tvar output = [\r\n\t\t\t\"#include <clipping_planes_fragment>\",\r\n\r\n\t\t\t// add before: prevent undeclared normal\r\n\t\t\t\"\t#include <normal_fragment_begin>\",\r\n\t\t\t\"\t#include <clearcoat_normal_fragment_begin>\",\r\n\r\n\t\t\t// add before: prevent undeclared material\r\n\t\t\t\"\tPhysicalMaterial material;\",\r\n\t\t\t\"\tmaterial.diffuseColor = vec3( 1.0 );\"\r\n\t\t];\r\n\r\n\t\tif ( mask ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tmask.code,\r\n\t\t\t\t'if ( ! ' + mask.result + ' ) discard;'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\tcolor.code,\r\n\t\t\t\"\tvec3 diffuseColor = \" + color.result + \";\",\r\n\t\t\t\"\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\",\r\n\r\n\t\t\t\"#include <logdepthbuf_fragment>\",\r\n\r\n\t\t\troughness.code,\r\n\t\t\t\"\tfloat roughnessFactor = \" + roughness.result + \";\",\r\n\r\n\t\t\tmetalness.code,\r\n\t\t\t\"\tfloat metalnessFactor = \" + metalness.result + \";\"\r\n\t\t);\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\talpha.code,\r\n\t\t\t\t'#ifdef ALPHATEST',\r\n\r\n\t\t\t\t'\tif ( ' + alpha.result + ' <= ALPHATEST ) discard;',\r\n\r\n\t\t\t\t'#endif'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( normal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tnormal.code,\r\n\t\t\t\t'normal = ' + normal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatNormal ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatNormal.code,\r\n\t\t\t\t'clearcoatNormal = ' + clearcoatNormal.result + ';'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\t// anti-aliasing code by @elalish\r\n\r\n\t\toutput.push(\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t);\r\n\r\n\t\t// optimization for now\r\n\r\n\t\toutput.push(\r\n\t\t\t'material.diffuseColor = ' + ( light ? 'vec3( 1.0 )' : 'diffuseColor * ( 1.0 - metalnessFactor )' ) + ';',\r\n\r\n\t\t\t'material.specularRoughness = max( roughnessFactor, 0.0525 );',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\r\n\t\t\t'material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );'\r\n\t\t);\r\n\r\n\t\tif ( clearcoat ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoat.code,\r\n\t\t\t\t'material.clearcoat = saturate( ' + clearcoat.result + ' );' // Burley clearcoat model\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoat = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( clearcoatRoughness ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tclearcoatRoughness.code,\r\n\t\t\t\t'material.clearcoatRoughness = max( ' + clearcoatRoughness.result + ', 0.0525 );',\r\n\t\t\t\t'material.clearcoatRoughness += geometryRoughness;',\r\n\t\t\t\t'material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );'\r\n\t\t\t);\r\n\r\n\t\t} else if ( useClearcoat ) {\r\n\r\n\t\t\toutput.push( 'material.clearcoatRoughness = 0.0;' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( sheen ) {\r\n\r\n\t\t\toutput.push( 'material.sheenColor = ' + sheen.result + ';' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( reflectivity ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\treflectivity.code,\r\n\t\t\t\t'material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( ' + reflectivity.result + ' ) ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t'material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor, metalnessFactor );'\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_begin>\"\r\n\t\t);\r\n\r\n\t\tif ( light ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tlight.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse = \" + light.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t\t// apply color\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\t\"diffuseColor *= 1.0 - metalnessFactor;\",\r\n\r\n\t\t\t\t\"reflectedLight.directDiffuse *= diffuseColor;\",\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= diffuseColor;\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ao ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tao.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse *= \" + ao.result + \";\",\r\n\t\t\t\t\"float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\",\r\n\t\t\t\t\"reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, \" + ao.result + \", material.specularRoughness );\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( ambient ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tambient.code,\r\n\t\t\t\t\"reflectedLight.indirectDiffuse += \" + ambient.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( shadow ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\tshadow.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse *= \" + shadow.result + \";\",\r\n\t\t\t\t\"reflectedLight.directSpecular *= \" + shadow.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( emissive ) {\r\n\r\n\t\t\toutput.push(\r\n\t\t\t\temissive.code,\r\n\t\t\t\t\"reflectedLight.directDiffuse += \" + emissive.result + \";\"\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tif ( environment ) {\r\n\r\n\t\t\toutput.push( environment.radiance.code );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( environment.irradiance.code );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( clearcoatEnv ) {\r\n\r\n\t\t\t\toutput.push(\r\n\t\t\t\t\tclearcoatEnv.code,\r\n\t\t\t\t\t\"clearcoatRadiance += \" + clearcoatEnv.result + \";\"\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t\toutput.push( \"radiance += \" + environment.radiance.result + \";\" );\r\n\r\n\t\t\tif ( builder.requires.irradiance ) {\r\n\r\n\t\t\t\toutput.push( \"iblIrradiance += PI * \" + environment.irradiance.result + \";\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <lights_fragment_end>\"\r\n\t\t);\r\n\r\n\t\toutput.push( \"vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular;\" );\r\n\r\n\t\tif ( alpha ) {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, \" + alpha.result + \" );\" );\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput.push( \"gl_FragColor = vec4( outgoingLight, 1.0 );\" );\r\n\r\n\t\t}\r\n\r\n\t\toutput.push(\r\n\t\t\t\"#include <tonemapping_fragment>\",\r\n\t\t\t\"#include <encodings_fragment>\",\r\n\t\t\t\"#include <fog_fragment>\",\r\n\t\t\t\"#include <premultiplied_alpha_fragment>\",\r\n\t\t\t\"#include <dithering_fragment>\"\r\n\t\t);\r\n\r\n\t\tcode = output.join( \"\\n\" );\r\n\r\n\t}\r\n\r\n\treturn code;\r\n\r\n};\r\n\r\nStandardNode.prototype.copy = function ( source ) {\r\n\r\n\tNode.prototype.copy.call( this, source );\r\n\r\n\t// vertex\r\n\r\n\tif ( source.position ) this.position = source.position;\r\n\r\n\t// fragment\r\n\r\n\tthis.color = source.color;\r\n\tthis.roughness = source.roughness;\r\n\tthis.metalness = source.metalness;\r\n\r\n\tif ( source.mask ) this.mask = source.mask;\r\n\r\n\tif ( source.alpha ) this.alpha = source.alpha;\r\n\r\n\tif ( source.normal ) this.normal = source.normal;\r\n\r\n\tif ( source.clearcoat ) this.clearcoat = source.clearcoat;\r\n\tif ( source.clearcoatRoughness ) this.clearcoatRoughness = source.clearcoatRoughness;\r\n\tif ( source.clearcoatNormal ) this.clearcoatNormal = source.clearcoatNormal;\r\n\r\n\tif ( source.reflectivity ) this.reflectivity = source.reflectivity;\r\n\r\n\tif ( source.light ) this.light = source.light;\r\n\tif ( source.shadow ) this.shadow = source.shadow;\r\n\r\n\tif ( source.ao ) this.ao = source.ao;\r\n\r\n\tif ( source.emissive ) this.emissive = source.emissive;\r\n\tif ( source.ambient ) this.ambient = source.ambient;\r\n\r\n\tif ( source.environment ) this.environment = source.environment;\r\n\r\n\tif ( source.sheen ) this.sheen = source.sheen;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\t// vertex\r\n\r\n\t\tif ( this.position ) data.position = this.position.toJSON( meta ).uuid;\r\n\r\n\t\t// fragment\r\n\r\n\t\tdata.color = this.color.toJSON( meta ).uuid;\r\n\t\tdata.roughness = this.roughness.toJSON( meta ).uuid;\r\n\t\tdata.metalness = this.metalness.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.mask ) data.mask = this.mask.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.alpha ) data.alpha = this.alpha.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.normal ) data.normal = this.normal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.clearcoat ) data.clearcoat = this.clearcoat.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatRoughness ) data.clearcoatRoughness = this.clearcoatRoughness.toJSON( meta ).uuid;\r\n\t\tif ( this.clearcoatNormal ) data.clearcoatNormal = this.clearcoatNormal.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.reflectivity ) data.reflectivity = this.reflectivity.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.light ) data.light = this.light.toJSON( meta ).uuid;\r\n\t\tif ( this.shadow ) data.shadow = this.shadow.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.ao ) data.ao = this.ao.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.emissive ) data.emissive = this.emissive.toJSON( meta ).uuid;\r\n\t\tif ( this.ambient ) data.ambient = this.ambient.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.environment ) data.environment = this.environment.toJSON( meta ).uuid;\r\n\r\n\t\tif ( this.sheen ) data.sheen = this.sheen.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { StandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/StandardNode.js","import {\r\n\tColor,\r\n\tVector2\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { StandardNode } from './StandardNode.js';\r\nimport { PropertyNode } from '../../inputs/PropertyNode.js';\r\nimport { OperatorNode } from '../../math/OperatorNode.js';\r\nimport { SwitchNode } from '../../utils/SwitchNode.js';\r\nimport { NormalMapNode } from '../../misc/NormalMapNode.js';\r\n\r\nfunction MeshStandardNode() {\r\n\r\n\tStandardNode.call( this );\r\n\r\n\tthis.properties = {\r\n\t\tcolor: new Color( 0xffffff ),\r\n\t\troughness: 0.5,\r\n\t\tmetalness: 0.5,\r\n\t\tnormalScale: new Vector2( 1, 1 )\r\n\t};\r\n\r\n\tthis.inputs = {\r\n\t\tcolor: new PropertyNode( this.properties, 'color', 'c' ),\r\n\t\troughness: new PropertyNode( this.properties, 'roughness', 'f' ),\r\n\t\tmetalness: new PropertyNode( this.properties, 'metalness', 'f' ),\r\n\t\tnormalScale: new PropertyNode( this.properties, 'normalScale', 'v2' )\r\n\t};\r\n\r\n}\r\n\r\nMeshStandardNode.prototype = Object.create( StandardNode.prototype );\r\nMeshStandardNode.prototype.constructor = MeshStandardNode;\r\nMeshStandardNode.prototype.nodeType = \"MeshStandard\";\r\n\r\nMeshStandardNode.prototype.build = function ( builder ) {\r\n\r\n\tvar props = this.properties,\r\n\t\tinputs = this.inputs;\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\t// slots\r\n\t\t// * color\r\n\t\t// * map\r\n\r\n\t\tvar color = builder.findNode( props.color, inputs.color ),\r\n\t\t\tmap = builder.resolve( props.map );\r\n\r\n\t\tthis.color = map ? new OperatorNode( color, map, OperatorNode.MUL ) : color;\r\n\r\n\t\t// slots\r\n\t\t// * roughness\r\n\t\t// * roughnessMap\r\n\r\n\t\tvar roughness = builder.findNode( props.roughness, inputs.roughness ),\r\n\t\t\troughnessMap = builder.resolve( props.roughnessMap );\r\n\r\n\t\tthis.roughness = roughnessMap ? new OperatorNode( roughness, new SwitchNode( roughnessMap, \"g\" ), OperatorNode.MUL ) : roughness;\r\n\r\n\t\t// slots\r\n\t\t// * metalness\r\n\t\t// * metalnessMap\r\n\r\n\t\tvar metalness = builder.findNode( props.metalness, inputs.metalness ),\r\n\t\t\tmetalnessMap = builder.resolve( props.metalnessMap );\r\n\r\n\t\tthis.metalness = metalnessMap ? new OperatorNode( metalness, new SwitchNode( metalnessMap, \"b\" ), OperatorNode.MUL ) : metalness;\r\n\r\n\t\t// slots\r\n\t\t// * normalMap\r\n\t\t// * normalScale\r\n\r\n\t\tif ( props.normalMap ) {\r\n\r\n\t\t\tthis.normal = new NormalMapNode( builder.resolve( props.normalMap ) );\r\n\t\t\tthis.normal.scale = builder.findNode( props.normalScale, inputs.normalScale );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.normal = undefined;\r\n\r\n\t\t}\r\n\r\n\t\t// slots\r\n\t\t// * envMap\r\n\r\n\t\tthis.environment = builder.resolve( props.envMap );\r\n\r\n\t}\r\n\r\n\t// build code\r\n\r\n\treturn StandardNode.prototype.build.call( this, builder );\r\n\r\n};\r\n\r\nMeshStandardNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tconsole.warn( \".toJSON not implemented in\", this );\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { MeshStandardNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/nodes/MeshStandardNode.js","import { StandardNode } from './nodes/StandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction StandardNodeMaterial() {\r\n\r\n\tvar node = new StandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"StandardNodeMaterial\";\r\n\r\n}\r\n\r\nStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nStandardNodeMaterial.prototype.constructor = StandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( StandardNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'roughness',\r\n\t'metalness',\r\n\t'reflectivity',\r\n\t'clearcoat',\r\n\t'clearcoatRoughness',\r\n\t'clearcoatNormal',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'mask',\r\n\t'position',\r\n\t'sheen'\r\n] );\r\n\r\nexport { StandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/StandardNodeMaterial.js","import { MeshStandardNode } from './nodes/MeshStandardNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction MeshStandardNodeMaterial() {\r\n\r\n\tvar node = new MeshStandardNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"MeshStandardNodeMaterial\";\r\n\r\n}\r\n\r\nMeshStandardNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nMeshStandardNodeMaterial.prototype.constructor = MeshStandardNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( MeshStandardNodeMaterial.prototype, 'properties', [\r\n\t\"color\",\r\n\t\"roughness\",\r\n\t\"metalness\",\r\n\t\"map\",\r\n\t\"normalMap\",\r\n\t\"normalScale\",\r\n\t\"metalnessMap\",\r\n\t\"roughnessMap\",\r\n\t\"envMap\"\r\n] );\r\n\r\nexport { MeshStandardNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/MeshStandardNodeMaterial.js","import {\r\n\tLinearFilter,\r\n\tMesh,\r\n\tOrthographicCamera,\r\n\tPlaneBufferGeometry,\r\n\tRGBAFormat,\r\n\tScene,\r\n\tVector2,\r\n\tWebGLRenderTarget\r\n} from '@/components/build/three.module.js';\r\n\r\nimport { NodeMaterial } from '../materials/NodeMaterial.js';\r\nimport { ScreenNode } from '../inputs/ScreenNode.js';\r\n\r\nfunction NodePostProcessing( renderer, renderTarget ) {\r\n\r\n\tif ( renderTarget === undefined ) {\r\n\r\n\t\tvar parameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tvar size = renderer.getDrawingBufferSize( new Vector2() );\r\n\t\trenderTarget = new WebGLRenderTarget( size.width, size.height, parameters );\r\n\r\n\t}\r\n\r\n\tthis.renderer = renderer;\r\n\tthis.renderTarget = renderTarget;\r\n\r\n\tthis.output = new ScreenNode();\r\n\tthis.material = new NodeMaterial();\r\n\r\n\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\tthis.scene = new Scene();\r\n\r\n\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), this.material );\r\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\tthis.scene.add( this.quad );\r\n\r\n\tthis.needsUpdate = true;\r\n\r\n}\r\n\r\nNodePostProcessing.prototype = {\r\n\r\n\tconstructor: NodePostProcessing,\r\n\r\n\trender: function ( scene, camera, frame ) {\r\n\r\n\t\tif ( this.needsUpdate ) {\r\n\r\n\t\t\tthis.material.dispose();\r\n\r\n\t\t\tthis.material.fragment.value = this.output;\r\n\t\t\tthis.material.build();\r\n\r\n\t\t\tif ( this.material.uniforms.renderTexture ) {\r\n\r\n\t\t\t\tthis.material.uniforms.renderTexture.value = this.renderTarget.texture;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.needsUpdate = false;\r\n\r\n\t\t}\r\n\r\n\t\tframe.setRenderer( this.renderer )\r\n\t\t\t.setRenderTexture( this.renderTarget.texture );\r\n\r\n\t\tthis.renderer.setRenderTarget( this.renderTarget );\r\n\t\tthis.renderer.render( scene, camera );\r\n\r\n\t\tframe.updateNode( this.material );\r\n\r\n\t\tthis.renderer.setRenderTarget( null );\r\n\t\tthis.renderer.render( this.scene, this.camera );\r\n\r\n\t},\r\n\r\n\tsetPixelRatio: function ( value ) {\r\n\r\n\t\tthis.renderer.setPixelRatio( value );\r\n\r\n\t\tvar size = this.renderer.getSize( new Vector2() );\r\n\r\n\t\tthis.setSize( size.width, size.height );\r\n\r\n\t},\r\n\r\n\tsetSize: function ( width, height ) {\r\n\r\n\t\tvar pixelRatio = this.renderer.getPixelRatio();\r\n\r\n\t\tthis.renderTarget.setSize( width * pixelRatio, height * pixelRatio );\r\n\r\n\t\tthis.renderer.setSize( width, height );\r\n\r\n\t},\r\n\r\n\tcopy: function ( source ) {\r\n\r\n\t\tthis.output = source.output;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\ttoJSON: function ( meta ) {\r\n\r\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\r\n\r\n\t\tif ( isRootObject ) {\r\n\r\n\t\t\tmeta = {\r\n\t\t\t\tnodes: {}\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tif ( meta && ! meta.post ) meta.post = {};\r\n\r\n\t\tif ( ! meta.post[ this.uuid ] ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tdata.uuid = this.uuid;\r\n\t\t\tdata.type = \"NodePostProcessing\";\r\n\r\n\t\t\tmeta.post[ this.uuid ] = data;\r\n\r\n\t\t\tif ( this.name !== \"\" ) data.name = this.name;\r\n\r\n\t\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\r\n\r\n\t\t\tdata.output = this.output.toJSON( meta ).uuid;\r\n\r\n\t\t}\r\n\r\n\t\tmeta.post = this.uuid;\r\n\r\n\t\treturn meta;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { NodePostProcessing };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/postprocessing/NodePostProcessing.js","import { BasicNode } from './nodes/BasicNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction BasicNodeMaterial() {\r\n\r\n\tvar node = new BasicNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"BasicNodeMaterial\";\r\n\r\n}\r\n\r\nBasicNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nBasicNodeMaterial.prototype.constructor = BasicNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( BasicNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { BasicNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/BasicNodeMaterial.js","import { SpriteNode } from './nodes/SpriteNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction SpriteNodeMaterial() {\r\n\r\n\tvar node = new SpriteNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"SpriteNodeMaterial\";\r\n\r\n}\r\n\r\nSpriteNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nSpriteNodeMaterial.prototype.constructor = SpriteNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( SpriteNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'mask',\r\n\t'position',\r\n\t'spherical'\r\n] );\r\n\r\nexport { SpriteNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/SpriteNodeMaterial.js","import { PhongNode } from './nodes/PhongNode.js';\r\nimport { NodeMaterial } from './NodeMaterial.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction PhongNodeMaterial() {\r\n\r\n\tvar node = new PhongNode();\r\n\r\n\tNodeMaterial.call( this, node, node );\r\n\r\n\tthis.type = \"PhongNodeMaterial\";\r\n\r\n}\r\n\r\nPhongNodeMaterial.prototype = Object.create( NodeMaterial.prototype );\r\nPhongNodeMaterial.prototype.constructor = PhongNodeMaterial;\r\n\r\nNodeUtils.addShortcuts( PhongNodeMaterial.prototype, 'fragment', [\r\n\t'color',\r\n\t'alpha',\r\n\t'specular',\r\n\t'shininess',\r\n\t'normal',\r\n\t'emissive',\r\n\t'ambient',\r\n\t'light',\r\n\t'shadow',\r\n\t'ao',\r\n\t'environment',\r\n\t'environmentAlpha',\r\n\t'mask',\r\n\t'position'\r\n] );\r\n\r\nexport { PhongNodeMaterial };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/materials/PhongNodeMaterial.js","// TODO: all nodes\r\n\r\n// core\r\n\r\nexport { Node } from './core/Node.js';\r\nexport { TempNode } from './core/TempNode.js';\r\nexport { InputNode } from './core/InputNode.js';\r\nexport { ConstNode } from './core/ConstNode.js';\r\nexport { VarNode } from './core/VarNode.js';\r\nexport { StructNode } from './core/StructNode.js';\r\nexport { AttributeNode } from './core/AttributeNode.js';\r\nexport { FunctionNode } from './core/FunctionNode.js';\r\nexport { ExpressionNode } from './core/ExpressionNode.js';\r\nexport { FunctionCallNode } from './core/FunctionCallNode.js';\r\nexport { NodeLib } from './core/NodeLib.js';\r\nexport { NodeUtils } from './core/NodeUtils.js';\r\nexport { NodeFrame } from './core/NodeFrame.js';\r\nexport { NodeUniform } from './core/NodeUniform.js';\r\nexport { NodeBuilder } from './core/NodeBuilder.js';\r\n\r\n// inputs\r\n\r\nexport { BoolNode } from './inputs/BoolNode.js';\r\nexport { IntNode } from './inputs/IntNode.js';\r\nexport { FloatNode } from './inputs/FloatNode.js';\r\nexport { Vector2Node } from './inputs/Vector2Node.js';\r\nexport { Vector3Node } from './inputs/Vector3Node.js';\r\nexport { Vector4Node } from './inputs/Vector4Node.js';\r\nexport { ColorNode } from './inputs/ColorNode.js';\r\nexport { Matrix3Node } from './inputs/Matrix3Node.js';\r\nexport { Matrix4Node } from './inputs/Matrix4Node.js';\r\nexport { TextureNode } from './inputs/TextureNode.js';\r\nexport { CubeTextureNode } from './inputs/CubeTextureNode.js';\r\nexport { ScreenNode } from './inputs/ScreenNode.js';\r\nexport { ReflectorNode } from './inputs/ReflectorNode.js';\r\nexport { PropertyNode } from './inputs/PropertyNode.js';\r\nexport { RTTNode } from './inputs/RTTNode.js';\r\n\r\n// accessors\r\n\r\nexport { UVNode } from './accessors/UVNode.js';\r\nexport { ColorsNode } from './accessors/ColorsNode.js';\r\nexport { PositionNode } from './accessors/PositionNode.js';\r\nexport { NormalNode } from './accessors/NormalNode.js';\r\nexport { CameraNode } from './accessors/CameraNode.js';\r\nexport { LightNode } from './accessors/LightNode.js';\r\nexport { ReflectNode } from './accessors/ReflectNode.js';\r\nexport { ScreenUVNode } from './accessors/ScreenUVNode.js';\r\nexport { ResolutionNode } from './accessors/ResolutionNode.js';\r\n\r\n// math\r\n\r\nexport { MathNode } from './math/MathNode.js';\r\nexport { OperatorNode } from './math/OperatorNode.js';\r\nexport { CondNode } from './math/CondNode.js';\r\n\r\n// procedural\r\n\r\nexport { NoiseNode } from './procedural/NoiseNode.js';\r\nexport { CheckerNode } from './procedural/CheckerNode.js';\r\n\r\n// misc\r\n\r\nexport { TextureCubeUVNode } from './misc/TextureCubeUVNode.js';\r\nexport { TextureCubeNode } from './misc/TextureCubeNode.js';\r\nexport { NormalMapNode } from './misc/NormalMapNode.js';\r\nexport { BumpMapNode } from './misc/BumpMapNode.js';\r\n\r\n// utils\r\n\r\nexport { BypassNode } from './utils/BypassNode.js';\r\nexport { JoinNode } from './utils/JoinNode.js';\r\nexport { SwitchNode } from './utils/SwitchNode.js';\r\nexport { TimerNode } from './utils/TimerNode.js';\r\nexport { VelocityNode } from './utils/VelocityNode.js';\r\nexport { UVTransformNode } from './utils/UVTransformNode.js';\r\nexport { MaxMIPLevelNode } from './utils/MaxMIPLevelNode.js';\r\nexport { SpecularMIPLevelNode } from './utils/SpecularMIPLevelNode.js';\r\nexport { ColorSpaceNode } from './utils/ColorSpaceNode.js';\r\nexport { SubSlotNode } from './utils/SubSlotNode.js';\r\n\r\n// effects\r\n\r\nexport { BlurNode } from './effects/BlurNode.js';\r\nexport { ColorAdjustmentNode } from './effects/ColorAdjustmentNode.js';\r\nexport { LuminanceNode } from './effects/LuminanceNode.js';\r\n\r\n// material nodes\r\n\r\nexport { RawNode } from './materials/nodes/RawNode.js';\r\nexport { BasicNode } from './materials/nodes/BasicNode.js';\r\nexport { SpriteNode } from './materials/nodes/SpriteNode.js';\r\nexport { PhongNode } from './materials/nodes/PhongNode.js';\r\nexport { StandardNode } from './materials/nodes/StandardNode.js';\r\nexport { MeshStandardNode } from './materials/nodes/MeshStandardNode.js';\r\n\r\n// materials\r\n\r\nexport { NodeMaterial } from './materials/NodeMaterial.js';\r\nexport { BasicNodeMaterial } from './materials/BasicNodeMaterial.js';\r\nexport { SpriteNodeMaterial } from './materials/SpriteNodeMaterial.js';\r\nexport { PhongNodeMaterial } from './materials/PhongNodeMaterial.js';\r\nexport { StandardNodeMaterial } from './materials/StandardNodeMaterial.js';\r\nexport { MeshStandardNodeMaterial } from './materials/MeshStandardNodeMaterial.js';\r\n\r\n// postprocessing\r\n\r\nexport { NodePostProcessing } from './postprocessing/NodePostProcessing.js';\r\n//export { NodePass } from './postprocessing/NodePass.js';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/Nodes.js","import { Vector4 } from '@/components/build/three.module.js';\r\n\r\nimport { InputNode } from '../core/InputNode.js';\r\nimport { NodeUtils } from '../core/NodeUtils.js';\r\n\r\nfunction Vector4Node( x, y, z, w ) {\r\n\r\n\tInputNode.call( this, 'v4' );\r\n\r\n\tthis.value = x instanceof Vector4 ? x : new Vector4( x, y, z, w );\r\n\r\n}\r\n\r\nVector4Node.prototype = Object.create( InputNode.prototype );\r\nVector4Node.prototype.constructor = Vector4Node;\r\nVector4Node.prototype.nodeType = \"Vector4\";\r\n\r\nNodeUtils.addShortcuts( Vector4Node.prototype, 'value', [ 'x', 'y', 'z', 'w' ] );\r\n\r\nVector4Node.prototype.generateReadonly = function ( builder, output, uuid, type/*, ns, needsUpdate*/ ) {\r\n\r\n\treturn builder.format( \"vec4( \" + this.x + \", \" + this.y + \", \" + this.z + \", \" + this.w + \" )\", type, output );\r\n\r\n};\r\n\r\nVector4Node.prototype.copy = function ( source ) {\r\n\r\n\tInputNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value.copy( source );\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nVector4Node.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.x = this.x;\r\n\t\tdata.y = this.y;\r\n\t\tdata.z = this.z;\r\n\t\tdata.w = this.w;\r\n\r\n\t\tif ( this.readonly === true ) data.readonly = true;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { Vector4Node };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/inputs/Vector4Node.js","import {\r\n\tAnimationClip,\r\n\tBone,\r\n\tBox3,\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tCanvasTexture,\r\n\tClampToEdgeWrapping,\r\n\tColor,\r\n\tDirectionalLight,\r\n\tDoubleSide,\r\n\tFileLoader,\r\n\tFrontSide,\r\n\tGroup,\r\n\tImageBitmapLoader,\r\n\tInterleavedBuffer,\r\n\tInterleavedBufferAttribute,\r\n\tInterpolant,\r\n\tInterpolateDiscrete,\r\n\tInterpolateLinear,\r\n\tLine,\r\n\tLineBasicMaterial,\r\n\tLineLoop,\r\n\tLineSegments,\r\n\tLinearFilter,\r\n\tLinearMipmapLinearFilter,\r\n\tLinearMipmapNearestFilter,\r\n\tLoader,\r\n\tLoaderUtils,\r\n\tMaterial,\r\n\tMathUtils,\r\n\tMatrix4,\r\n\tMesh,\r\n\tMeshBasicMaterial,\r\n\tMeshPhysicalMaterial,\r\n\tMeshStandardMaterial,\r\n\tMirroredRepeatWrapping,\r\n\tNearestFilter,\r\n\tNearestMipmapLinearFilter,\r\n\tNearestMipmapNearestFilter,\r\n\tNumberKeyframeTrack,\r\n\tObject3D,\r\n\tOrthographicCamera,\r\n\tPerspectiveCamera,\r\n\tPointLight,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tPropertyBinding,\r\n\tQuaternionKeyframeTrack,\r\n\tRGBFormat,\r\n\tRepeatWrapping,\r\n\tSkeleton,\r\n\tSkinnedMesh,\r\n\tSphere,\r\n\tSpotLight,\r\n\tTangentSpaceNormalMap,\r\n\tTextureLoader,\r\n\tTriangleFanDrawMode,\r\n\tTriangleStripDrawMode,\r\n\tVector2,\r\n\tVector3,\r\n\tVectorKeyframeTrack,\r\n\tsRGBEncoding\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar GLTFLoader = ( function () {\r\n\r\n\tfunction GLTFLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.dracoLoader = null;\r\n\t\tthis.ddsLoader = null;\r\n\t\tthis.ktx2Loader = null;\r\n\t\tthis.meshoptDecoder = null;\r\n\r\n\t\tthis.pluginCallbacks = [];\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFTextureWebPExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFLightsExtension( parser );\r\n\r\n\t\t} );\r\n\r\n\t\tthis.register( function ( parser ) {\r\n\r\n\t\t\treturn new GLTFMeshoptCompression( parser );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: GLTFLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar resourcePath;\r\n\r\n\t\t\tif ( this.resourcePath !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.resourcePath;\r\n\r\n\t\t\t} else if ( this.path !== '' ) {\r\n\r\n\t\t\t\tresourcePath = this.path;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\r\n\t\t\t// the model is fully loaded. This means the count of items loaded will\r\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\r\n\t\t\tthis.manager.itemStart( url );\r\n\r\n\t\t\tvar _onError = function ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\t\tloader.load( url, function ( data ) {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\r\n\r\n\t\t\t\t\t\tonLoad( gltf );\r\n\r\n\t\t\t\t\t\tscope.manager.itemEnd( url );\r\n\r\n\t\t\t\t\t}, _onError );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t_onError( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, _onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetDRACOLoader: function ( dracoLoader ) {\r\n\r\n\t\t\tthis.dracoLoader = dracoLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetDDSLoader: function ( ddsLoader ) {\r\n\r\n\t\t\tthis.ddsLoader = ddsLoader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetKTX2Loader: function ( ktx2Loader ) {\r\n\r\n\t\t\tthis.ktx2Loader = ktx2Loader;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetMeshoptDecoder: function ( meshoptDecoder ) {\r\n\r\n\t\t\tthis.meshoptDecoder = meshoptDecoder;\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.push( callback );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tunregister: function ( callback ) {\r\n\r\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\r\n\r\n\t\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( data, path, onLoad, onError ) {\r\n\r\n\t\t\tvar content;\r\n\t\t\tvar extensions = {};\r\n\t\t\tvar plugins = {};\r\n\r\n\t\t\tif ( typeof data === 'string' ) {\r\n\r\n\t\t\t\tcontent = data;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\r\n\r\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\r\n\r\n\t\t\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\t\t\tif ( onError ) onError( error );\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar json = JSON.parse( content );\r\n\r\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\r\n\r\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar parser = new GLTFParser( json, {\r\n\r\n\t\t\t\tpath: path || this.resourcePath || '',\r\n\t\t\t\tcrossOrigin: this.crossOrigin,\r\n\t\t\t\tmanager: this.manager,\r\n\t\t\t\tktx2Loader: this.ktx2Loader,\r\n\t\t\t\tmeshoptDecoder: this.meshoptDecoder\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\r\n\r\n\t\t\tfor ( var i = 0; i < this.pluginCallbacks.length; i ++ ) {\r\n\r\n\t\t\t\tvar plugin = this.pluginCallbacks[ i ]( parser );\r\n\t\t\t\tplugins[ plugin.name ] = plugin;\r\n\r\n\t\t\t\t// Workaround to avoid determining as unknown extension\r\n\t\t\t\t// in addUnknownExtensionsToUserData().\r\n\t\t\t\t// Remove this workaround if we move all the existing\r\n\t\t\t\t// extension handlers to plugin system\r\n\t\t\t\textensions[ plugin.name ] = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( json.extensionsUsed ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\r\n\r\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\r\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\r\n\r\n\t\t\t\t\tswitch ( extensionName ) {\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\r\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.setExtensions( extensions );\r\n\t\t\tparser.setPlugins( plugins );\r\n\t\t\tparser.parse( onLoad, onError );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\t/* GLTFREGISTRY */\r\n\r\n\tfunction GLTFRegistry() {\r\n\r\n\t\tvar objects = {};\r\n\r\n\t\treturn\t{\r\n\r\n\t\t\tget: function ( key ) {\r\n\r\n\t\t\t\treturn objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tadd: function ( key, object ) {\r\n\r\n\t\t\t\tobjects[ key ] = object;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremove: function ( key ) {\r\n\r\n\t\t\t\tdelete objects[ key ];\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremoveAll: function () {\r\n\r\n\t\t\t\tobjects = {};\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** EXTENSIONS ***********/\r\n\t/*********************************/\r\n\r\n\tvar EXTENSIONS = {\r\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\r\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\r\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\r\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\r\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\r\n\t\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\r\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\r\n\t\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\r\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\r\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\r\n\t\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\r\n\t\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\r\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\r\n\t};\r\n\r\n\t/**\r\n\t * DDS Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\r\n\t *\r\n\t */\r\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\r\n\r\n\t\tif ( ! ddsLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\r\n\t\tthis.ddsLoader = ddsLoader;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Punctual Lights Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\r\n\t */\r\n\tfunction GLTFLightsExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.cache = { refs: {}, uses: {} };\r\n\r\n\t}\r\n\r\n\tGLTFLightsExtension.prototype._markDefs = function () {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar nodeDefs = this.parser.json.nodes || [];\r\n\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.extensions\r\n\t\t\t\t&& nodeDef.extensions[ this.name ]\r\n\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\r\n\r\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype._loadLight = function ( lightIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar cacheKey = 'light:' + lightIndex;\r\n\t\tvar dependency = parser.cache.get( cacheKey );\r\n\r\n\t\tif ( dependency ) return dependency;\r\n\r\n\t\tvar json = parser.json;\r\n\t\tvar extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\r\n\t\tvar lightDefs = extensions.lights || [];\r\n\t\tvar lightDef = lightDefs[ lightIndex ];\r\n\t\tvar lightNode;\r\n\r\n\t\tvar color = new Color( 0xffffff );\r\n\r\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\r\n\r\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\r\n\r\n\t\tswitch ( lightDef.type ) {\r\n\r\n\t\t\tcase 'directional':\r\n\t\t\t\tlightNode = new DirectionalLight( color );\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'point':\r\n\t\t\t\tlightNode = new PointLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'spot':\r\n\t\t\t\tlightNode = new SpotLight( color );\r\n\t\t\t\tlightNode.distance = range;\r\n\t\t\t\t// Handle spotlight properties.\r\n\t\t\t\tlightDef.spot = lightDef.spot || {};\r\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\r\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\r\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\r\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\r\n\t\t\t\tlightNode.add( lightNode.target );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\r\n\r\n\t\t}\r\n\r\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\r\n\t\t// here, because node-level parsing will only override position if explicitly specified.\r\n\t\tlightNode.position.set( 0, 0, 0 );\r\n\r\n\t\tlightNode.decay = 2;\r\n\r\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\r\n\r\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\r\n\r\n\t\tdependency = Promise.resolve( lightNode );\r\n\r\n\t\tparser.cache.add( cacheKey, dependency );\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\tGLTFLightsExtension.prototype.createNodeAttachment = function ( nodeIndex ) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\t\tvar lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\r\n\t\tvar lightIndex = lightDef.light;\r\n\r\n\t\tif ( lightIndex === undefined ) return null;\r\n\r\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\r\n\r\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Unlit Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\r\n\t */\r\n\tfunction GLTFMaterialsUnlitExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\r\n\r\n\t\treturn MeshBasicMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\r\n\r\n\t\tif ( metallicRoughness ) {\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Clearcoat Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\r\n\t */\r\n\tfunction GLTFMaterialsClearcoatExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.clearcoatFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\r\n\r\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tvar scale = extension.clearcoatNormalTexture.scale;\r\n\r\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Transmission Materials Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\r\n\t * Draft: https://github.com/KhronosGroup/glTF/pull/1698\r\n\t */\r\n\tfunction GLTFMaterialsTransmissionExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\r\n\r\n\t}\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.getMaterialType = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\r\n\r\n\t\treturn MeshPhysicalMaterial;\r\n\r\n\t};\r\n\r\n\tGLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\r\n\r\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn Promise.resolve();\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tvar extension = materialDef.extensions[ this.name ];\r\n\r\n\t\tif ( extension.transmissionFactor !== undefined ) {\r\n\r\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\r\n\r\n\t\t}\r\n\r\n\t\tif ( extension.transmissionTexture !== undefined ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * BasisU Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\r\n\t */\r\n\tfunction GLTFTextureBasisUExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\r\n\r\n\t}\r\n\r\n\tGLTFTextureBasisUExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ this.name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = parser.options.ktx2Loader;\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * WebP Texture Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\r\n\t */\r\n\tfunction GLTFTextureWebPExtension( parser ) {\r\n\r\n\t\tthis.parser = parser;\r\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\r\n\t\tthis.isSupported = null;\r\n\r\n\t}\r\n\r\n\tGLTFTextureWebPExtension.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar name = this.name;\r\n\t\tvar parser = this.parser;\r\n\t\tvar json = parser.json;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tvar extension = textureDef.extensions[ name ];\r\n\t\tvar source = json.images[ extension.source ];\r\n\t\tvar loader = source.uri ? parser.options.manager.getHandler( source.uri ) : parser.textureLoader;\r\n\r\n\t\treturn this.detectSupport().then( function ( isSupported ) {\r\n\r\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\r\n\r\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Fall back to PNG or JPEG.\r\n\t\t\treturn parser.loadTexture( textureIndex );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\tGLTFTextureWebPExtension.prototype.detectSupport = function () {\r\n\r\n\t\tif ( ! this.isSupported ) {\r\n\r\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tvar image = new Image();\r\n\r\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\r\n\t\t\t\t// WebP images, unfortunately.\r\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\r\n\r\n\t\t\t\timage.onload = image.onerror = function () {\r\n\r\n\t\t\t\t\tresolve( image.height === 1 );\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.isSupported;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t* meshopt BufferView Compression Extension\r\n\t*\r\n\t* Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\r\n\t*/\r\n\tfunction GLTFMeshoptCompression( parser ) {\r\n\r\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\r\n\t\tthis.parser = parser;\r\n\r\n\t}\r\n\r\n\tGLTFMeshoptCompression.prototype.loadBufferView = function ( index ) {\r\n\r\n\t\tvar json = this.parser.json;\r\n\t\tvar bufferView = json.bufferViews[ index ];\r\n\r\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\r\n\r\n\t\t\tvar extensionDef = bufferView.extensions[ this.name ];\r\n\r\n\t\t\tvar buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\r\n\t\t\tvar decoder = this.parser.options.meshoptDecoder;\r\n\r\n\t\t\tif ( ! decoder || ! decoder.supported ) {\r\n\r\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\r\n\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\r\n\r\n\t\t\t\tvar byteOffset = extensionDef.byteOffset || 0;\r\n\t\t\t\tvar byteLength = extensionDef.byteLength || 0;\r\n\r\n\t\t\t\tvar count = extensionDef.count;\r\n\t\t\t\tvar stride = extensionDef.byteStride;\r\n\r\n\t\t\t\tvar result = new ArrayBuffer( count * stride );\r\n\t\t\t\tvar source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\r\n\r\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\r\n\t\t\t\treturn result;\r\n\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/* BINARY EXTENSION */\r\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\r\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\r\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\r\n\r\n\tfunction GLTFBinaryExtension( data ) {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\r\n\t\tthis.content = null;\r\n\t\tthis.body = null;\r\n\r\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\r\n\r\n\t\tthis.header = {\r\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\r\n\t\t\tversion: headerView.getUint32( 4, true ),\r\n\t\t\tlength: headerView.getUint32( 8, true )\r\n\t\t};\r\n\r\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\r\n\r\n\t\t} else if ( this.header.version < 2.0 ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\r\n\r\n\t\t}\r\n\r\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\r\n\t\tvar chunkIndex = 0;\r\n\r\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\r\n\r\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\r\n\t\t\tchunkIndex += 4;\r\n\r\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\r\n\r\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\r\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\r\n\r\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\r\n\r\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\r\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Clients must ignore chunks with unknown types.\r\n\r\n\t\t\tchunkIndex += chunkLength;\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.content === null ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * DRACO Mesh Compression Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\r\n\t */\r\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\r\n\r\n\t\tif ( ! dracoLoader ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\r\n\t\tthis.json = json;\r\n\t\tthis.dracoLoader = dracoLoader;\r\n\t\tthis.dracoLoader.preload();\r\n\r\n\t}\r\n\r\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar dracoLoader = this.dracoLoader;\r\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\r\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\r\n\t\tvar threeAttributeMap = {};\r\n\t\tvar attributeNormalizedMap = {};\r\n\t\tvar attributeTypeMap = {};\r\n\r\n\t\tfor ( var attributeName in gltfAttributeMap ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\r\n\r\n\t\t}\r\n\r\n\t\tfor ( attributeName in primitive.attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\r\n\r\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\r\n\r\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\r\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\r\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve ) {\r\n\r\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\r\n\r\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\r\n\r\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\r\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\r\n\r\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresolve( geometry );\r\n\r\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Texture Transform Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\r\n\t */\r\n\tfunction GLTFTextureTransformExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\r\n\r\n\t}\r\n\r\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\r\n\r\n\t\ttexture = texture.clone();\r\n\r\n\t\tif ( transform.offset !== undefined ) {\r\n\r\n\t\t\ttexture.offset.fromArray( transform.offset );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.rotation !== undefined ) {\r\n\r\n\t\t\ttexture.rotation = transform.rotation;\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.scale !== undefined ) {\r\n\r\n\t\t\ttexture.repeat.fromArray( transform.scale );\r\n\r\n\t\t}\r\n\r\n\t\tif ( transform.texCoord !== undefined ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\r\n\r\n\t\t}\r\n\r\n\t\ttexture.needsUpdate = true;\r\n\r\n\t\treturn texture;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specular-Glossiness Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\r\n\t */\r\n\r\n\t/**\r\n\t * A sub class of StandardMaterial with some of the functionality\r\n\t * changed via the `onBeforeCompile` callback\r\n\t * @pailhead\r\n\t */\r\n\r\n\tfunction GLTFMeshStandardSGMaterial( params ) {\r\n\r\n\t\tMeshStandardMaterial.call( this );\r\n\r\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\r\n\r\n\t\t//various chunks that need replacing\r\n\t\tvar specularMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tuniform sampler2D specularMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapParsFragmentChunk = [\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tuniform sampler2D glossinessMap;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar specularMapFragmentChunk = [\r\n\t\t\t'vec3 specularFactor = specular;',\r\n\t\t\t'#ifdef USE_SPECULARMAP',\r\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\r\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\r\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar glossinessMapFragmentChunk = [\r\n\t\t\t'float glossinessFactor = glossiness;',\r\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\r\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\r\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\r\n\t\t\t'#endif'\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar lightPhysicalFragmentChunk = [\r\n\t\t\t'PhysicalMaterial material;',\r\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\r\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\r\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\r\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\r\n\t\t\t'material.specularRoughness += geometryRoughness;',\r\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\r\n\t\t\t'material.specularColor = specularFactor;',\r\n\t\t].join( '\\n' );\r\n\r\n\t\tvar uniforms = {\r\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\r\n\t\t\tglossiness: { value: 1 },\r\n\t\t\tspecularMap: { value: null },\r\n\t\t\tglossinessMap: { value: null }\r\n\t\t};\r\n\r\n\t\tthis._extraUniforms = uniforms;\r\n\r\n\t\tthis.onBeforeCompile = function ( shader ) {\r\n\r\n\t\t\tfor ( var uniformName in uniforms ) {\r\n\r\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tshader.fragmentShader = shader.fragmentShader\r\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\r\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\r\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\r\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\r\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\r\n\r\n\t\t};\r\n\r\n\t\tObject.defineProperties( this, {\r\n\r\n\t\t\tspecular: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specular.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specular.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tspecularMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.specularMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.specularMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossiness: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossiness.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossiness.value = v;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tglossinessMap: {\r\n\t\t\t\tget: function () {\r\n\r\n\t\t\t\t\treturn uniforms.glossinessMap.value;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function ( v ) {\r\n\r\n\t\t\t\t\tuniforms.glossinessMap.value = v;\r\n\r\n\t\t\t\t\tif ( v ) {\r\n\r\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\r\n\t\t\t\t\t\tthis.defines.USE_UV = '';\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\r\n\t\t\t\t\t\tdelete this.defines.USE_UV;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\r\n\t\tthis.setValues( params );\r\n\r\n\t}\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\r\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\r\n\r\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\r\n\r\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\r\n\t\tthis.specularMap = source.specularMap;\r\n\t\tthis.specular.copy( source.specular );\r\n\t\tthis.glossinessMap = source.glossinessMap;\r\n\t\tthis.glossiness = source.glossiness;\r\n\t\tdelete this.metalness;\r\n\t\tdelete this.roughness;\r\n\t\tdelete this.metalnessMap;\r\n\t\tdelete this.roughnessMap;\r\n\t\treturn this;\r\n\r\n\t};\r\n\r\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\r\n\r\n\t\treturn {\r\n\r\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\r\n\r\n\t\t\tspecularGlossinessParams: [\r\n\t\t\t\t'color',\r\n\t\t\t\t'map',\r\n\t\t\t\t'lightMap',\r\n\t\t\t\t'lightMapIntensity',\r\n\t\t\t\t'aoMap',\r\n\t\t\t\t'aoMapIntensity',\r\n\t\t\t\t'emissive',\r\n\t\t\t\t'emissiveIntensity',\r\n\t\t\t\t'emissiveMap',\r\n\t\t\t\t'bumpMap',\r\n\t\t\t\t'bumpScale',\r\n\t\t\t\t'normalMap',\r\n\t\t\t\t'normalMapType',\r\n\t\t\t\t'displacementMap',\r\n\t\t\t\t'displacementScale',\r\n\t\t\t\t'displacementBias',\r\n\t\t\t\t'specularMap',\r\n\t\t\t\t'specular',\r\n\t\t\t\t'glossinessMap',\r\n\t\t\t\t'glossiness',\r\n\t\t\t\t'alphaMap',\r\n\t\t\t\t'envMap',\r\n\t\t\t\t'envMapIntensity',\r\n\t\t\t\t'refractionRatio',\r\n\t\t\t],\r\n\r\n\t\t\tgetMaterialType: function () {\r\n\r\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\r\n\r\n\t\t\t},\r\n\r\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\r\n\r\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\r\n\r\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\r\n\r\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\r\n\r\n\t\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\r\n\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\r\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\r\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\r\n\r\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\r\n\r\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\r\n\r\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\r\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tcreateMaterial: function ( materialParams ) {\r\n\r\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\r\n\t\t\t\tmaterial.fog = true;\r\n\r\n\t\t\t\tmaterial.color = materialParams.color;\r\n\r\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\r\n\r\n\t\t\t\tmaterial.lightMap = null;\r\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\r\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.emissive = materialParams.emissive;\r\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\r\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\r\n\r\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\r\n\t\t\t\tmaterial.bumpScale = 1;\r\n\r\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\r\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\r\n\r\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\r\n\r\n\t\t\t\tmaterial.displacementMap = null;\r\n\t\t\t\tmaterial.displacementScale = 1;\r\n\t\t\t\tmaterial.displacementBias = 0;\r\n\r\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\r\n\t\t\t\tmaterial.specular = materialParams.specular;\r\n\r\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\r\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\r\n\r\n\t\t\t\tmaterial.alphaMap = null;\r\n\r\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\r\n\t\t\t\tmaterial.envMapIntensity = 1.0;\r\n\r\n\t\t\t\tmaterial.refractionRatio = 0.98;\r\n\r\n\t\t\t\treturn material;\r\n\r\n\t\t\t},\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Mesh Quantization Extension\r\n\t *\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\r\n\t */\r\n\tfunction GLTFMeshQuantizationExtension() {\r\n\r\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\r\n\r\n\t}\r\n\r\n\t/*********************************/\r\n\t/********** INTERPOLATION ********/\r\n\t/*********************************/\r\n\r\n\t// Spline Interpolation\r\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\r\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\r\n\r\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\r\n\r\n\t}\r\n\r\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\r\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\r\n\r\n\t\t// Copies a sample value to the result buffer. See description of glTF\r\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\r\n\r\n\t\tvar result = this.resultBuffer,\r\n\t\t\tvalues = this.sampleValues,\r\n\t\t\tvalueSize = this.valueSize,\r\n\t\t\toffset = index * valueSize * 3 + valueSize;\r\n\r\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\r\n\r\n\t\t\tresult[ i ] = values[ offset + i ];\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\n\r\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\r\n\r\n\t\tvar result = this.resultBuffer;\r\n\t\tvar values = this.sampleValues;\r\n\t\tvar stride = this.valueSize;\r\n\r\n\t\tvar stride2 = stride * 2;\r\n\t\tvar stride3 = stride * 3;\r\n\r\n\t\tvar td = t1 - t0;\r\n\r\n\t\tvar p = ( t - t0 ) / td;\r\n\t\tvar pp = p * p;\r\n\t\tvar ppp = pp * p;\r\n\r\n\t\tvar offset1 = i1 * stride3;\r\n\t\tvar offset0 = offset1 - stride3;\r\n\r\n\t\tvar s2 = - 2 * ppp + 3 * pp;\r\n\t\tvar s3 = ppp - pp;\r\n\t\tvar s0 = 1 - s2;\r\n\t\tvar s1 = s3 - pp + p;\r\n\r\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\r\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\r\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\r\n\r\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\r\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\r\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\r\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\r\n\r\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t};\r\n\r\n\t/*********************************/\r\n\t/********** INTERNALS ************/\r\n\t/*********************************/\r\n\r\n\t/* CONSTANTS */\r\n\r\n\tvar WEBGL_CONSTANTS = {\r\n\t\tFLOAT: 5126,\r\n\t\t//FLOAT_MAT2: 35674,\r\n\t\tFLOAT_MAT3: 35675,\r\n\t\tFLOAT_MAT4: 35676,\r\n\t\tFLOAT_VEC2: 35664,\r\n\t\tFLOAT_VEC3: 35665,\r\n\t\tFLOAT_VEC4: 35666,\r\n\t\tLINEAR: 9729,\r\n\t\tREPEAT: 10497,\r\n\t\tSAMPLER_2D: 35678,\r\n\t\tPOINTS: 0,\r\n\t\tLINES: 1,\r\n\t\tLINE_LOOP: 2,\r\n\t\tLINE_STRIP: 3,\r\n\t\tTRIANGLES: 4,\r\n\t\tTRIANGLE_STRIP: 5,\r\n\t\tTRIANGLE_FAN: 6,\r\n\t\tUNSIGNED_BYTE: 5121,\r\n\t\tUNSIGNED_SHORT: 5123\r\n\t};\r\n\r\n\tvar WEBGL_COMPONENT_TYPES = {\r\n\t\t5120: Int8Array,\r\n\t\t5121: Uint8Array,\r\n\t\t5122: Int16Array,\r\n\t\t5123: Uint16Array,\r\n\t\t5125: Uint32Array,\r\n\t\t5126: Float32Array\r\n\t};\r\n\r\n\tvar WEBGL_FILTERS = {\r\n\t\t9728: NearestFilter,\r\n\t\t9729: LinearFilter,\r\n\t\t9984: NearestMipmapNearestFilter,\r\n\t\t9985: LinearMipmapNearestFilter,\r\n\t\t9986: NearestMipmapLinearFilter,\r\n\t\t9987: LinearMipmapLinearFilter\r\n\t};\r\n\r\n\tvar WEBGL_WRAPPINGS = {\r\n\t\t33071: ClampToEdgeWrapping,\r\n\t\t33648: MirroredRepeatWrapping,\r\n\t\t10497: RepeatWrapping\r\n\t};\r\n\r\n\tvar WEBGL_TYPE_SIZES = {\r\n\t\t'SCALAR': 1,\r\n\t\t'VEC2': 2,\r\n\t\t'VEC3': 3,\r\n\t\t'VEC4': 4,\r\n\t\t'MAT2': 4,\r\n\t\t'MAT3': 9,\r\n\t\t'MAT4': 16\r\n\t};\r\n\r\n\tvar ATTRIBUTES = {\r\n\t\tPOSITION: 'position',\r\n\t\tNORMAL: 'normal',\r\n\t\tTANGENT: 'tangent',\r\n\t\tTEXCOORD_0: 'uv',\r\n\t\tTEXCOORD_1: 'uv2',\r\n\t\tCOLOR_0: 'color',\r\n\t\tWEIGHTS_0: 'skinWeight',\r\n\t\tJOINTS_0: 'skinIndex',\r\n\t};\r\n\r\n\tvar PATH_PROPERTIES = {\r\n\t\tscale: 'scale',\r\n\t\ttranslation: 'position',\r\n\t\trotation: 'quaternion',\r\n\t\tweights: 'morphTargetInfluences'\r\n\t};\r\n\r\n\tvar INTERPOLATION = {\r\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\r\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\r\n\t\tLINEAR: InterpolateLinear,\r\n\t\tSTEP: InterpolateDiscrete\r\n\t};\r\n\r\n\tvar ALPHA_MODES = {\r\n\t\tOPAQUE: 'OPAQUE',\r\n\t\tMASK: 'MASK',\r\n\t\tBLEND: 'BLEND'\r\n\t};\r\n\r\n\t/* UTILITY FUNCTIONS */\r\n\r\n\tfunction resolveURL( url, path ) {\r\n\r\n\t\t// Invalid URL\r\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\r\n\r\n\t\t// Host Relative URL\r\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\r\n\r\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\r\n\r\n\t\t}\r\n\r\n\t\t// Absolute URL http://,https://,//\r\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\r\n\r\n\t\t// Data URI\r\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Blob URL\r\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\r\n\r\n\t\t// Relative URL\r\n\t\treturn path + url;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\r\n\t */\r\n\tfunction createDefaultMaterial( cache ) {\r\n\r\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\r\n\r\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\r\n\t\t\t\tcolor: 0xFFFFFF,\r\n\t\t\t\temissive: 0x000000,\r\n\t\t\t\tmetalness: 1,\r\n\t\t\t\troughness: 1,\r\n\t\t\t\ttransparent: false,\r\n\t\t\t\tdepthTest: true,\r\n\t\t\t\tside: FrontSide\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn cache[ 'DefaultMaterial' ];\r\n\r\n\t}\r\n\r\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\r\n\r\n\t\t// Add unknown glTF extensions to an object's userData.\r\n\r\n\t\tfor ( var name in objectDef.extensions ) {\r\n\r\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\r\n\r\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\r\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Object3D|Material|BufferGeometry} object\r\n\t * @param {GLTF.definition} gltfDef\r\n\t */\r\n\tfunction assignExtrasToUserData( object, gltfDef ) {\r\n\r\n\t\tif ( gltfDef.extras !== undefined ) {\r\n\r\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\r\n\r\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\r\n\t *\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Array<GLTF.Target>} targets\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addMorphTargets( geometry, targets, parser ) {\r\n\r\n\t\tvar hasMorphPosition = false;\r\n\t\tvar hasMorphNormal = false;\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\r\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\r\n\r\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\r\n\r\n\t\tvar pendingPositionAccessors = [];\r\n\t\tvar pendingNormalAccessors = [];\r\n\r\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\tif ( hasMorphPosition ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\r\n\t\t\t\t\t: geometry.attributes.position;\r\n\r\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasMorphNormal ) {\r\n\r\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\r\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\r\n\t\t\t\t\t: geometry.attributes.normal;\r\n\r\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\t\t\tPromise.all( pendingPositionAccessors ),\r\n\t\t\tPromise.all( pendingNormalAccessors )\r\n\t\t] ).then( function ( accessors ) {\r\n\r\n\t\t\tvar morphPositions = accessors[ 0 ];\r\n\t\t\tvar morphNormals = accessors[ 1 ];\r\n\r\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\r\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\r\n\t\t\tgeometry.morphTargetsRelative = true;\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Mesh} mesh\r\n\t * @param {GLTF.Mesh} meshDef\r\n\t */\r\n\tfunction updateMorphTargets( mesh, meshDef ) {\r\n\r\n\t\tmesh.updateMorphTargets();\r\n\r\n\t\tif ( meshDef.weights !== undefined ) {\r\n\r\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\r\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\r\n\r\n\t\t\tvar targetNames = meshDef.extras.targetNames;\r\n\r\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\r\n\r\n\t\t\t\tmesh.morphTargetDictionary = {};\r\n\r\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction createPrimitiveKey( primitiveDef ) {\r\n\r\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\r\n\t\tvar geometryKey;\r\n\r\n\t\tif ( dracoExtension ) {\r\n\r\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\r\n\t\t\t\t+ ':' + dracoExtension.indices\r\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\r\n\r\n\t\t}\r\n\r\n\t\treturn geometryKey;\r\n\r\n\t}\r\n\r\n\tfunction createAttributesKey( attributes ) {\r\n\r\n\t\tvar attributesKey = '';\r\n\r\n\t\tvar keys = Object.keys( attributes ).sort();\r\n\r\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\r\n\r\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\r\n\r\n\t\t}\r\n\r\n\t\treturn attributesKey;\r\n\r\n\t}\r\n\r\n\t/* GLTF PARSER */\r\n\r\n\tfunction GLTFParser( json, options ) {\r\n\r\n\t\tthis.json = json || {};\r\n\t\tthis.extensions = {};\r\n\t\tthis.plugins = {};\r\n\t\tthis.options = options || {};\r\n\r\n\t\t// loader object cache\r\n\t\tthis.cache = new GLTFRegistry();\r\n\r\n\t\t// associations between Three.js objects and glTF elements\r\n\t\tthis.associations = new Map();\r\n\r\n\t\t// BufferGeometry caching\r\n\t\tthis.primitiveCache = {};\r\n\r\n\t\t// Object3D instance caches\r\n\t\tthis.meshCache = { refs: {}, uses: {} };\r\n\t\tthis.cameraCache = { refs: {}, uses: {} };\r\n\t\tthis.lightCache = { refs: {}, uses: {} };\r\n\r\n\t\t// Track node names, to ensure no duplicates\r\n\t\tthis.nodeNamesUsed = {};\r\n\r\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\r\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\r\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\r\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\r\n\r\n\t\t}\r\n\r\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\r\n\r\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\r\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\r\n\r\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\r\n\r\n\t\t\tthis.fileLoader.setWithCredentials( true );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tGLTFParser.prototype.setExtensions = function ( extensions ) {\r\n\r\n\t\tthis.extensions = extensions;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.setPlugins = function ( plugins ) {\r\n\r\n\t\tthis.plugins = plugins;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\t// Clear the loader cache\r\n\t\tthis.cache.removeAll();\r\n\r\n\t\t// Mark the special nodes/meshes in json for efficient parse\r\n\t\tthis._invokeAll( function ( ext ) {\r\n\r\n\t\t\treturn ext._markDefs && ext._markDefs();\r\n\r\n\t\t} );\r\n\r\n\t\tPromise.all( [\r\n\r\n\t\t\tthis.getDependencies( 'scene' ),\r\n\t\t\tthis.getDependencies( 'animation' ),\r\n\t\t\tthis.getDependencies( 'camera' ),\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar result = {\r\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\r\n\t\t\t\tscenes: dependencies[ 0 ],\r\n\t\t\t\tanimations: dependencies[ 1 ],\r\n\t\t\t\tcameras: dependencies[ 2 ],\r\n\t\t\t\tasset: json.asset,\r\n\t\t\t\tparser: parser,\r\n\t\t\t\tuserData: {}\r\n\t\t\t};\r\n\r\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\r\n\r\n\t\t\tassignExtrasToUserData( result, json );\r\n\r\n\t\t\tonLoad( result );\r\n\r\n\t\t} ).catch( onError );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Marks the special nodes/meshes in json for efficient parse.\r\n\t */\r\n\tGLTFParser.prototype._markDefs = function () {\r\n\r\n\t\tvar nodeDefs = this.json.nodes || [];\r\n\t\tvar skinDefs = this.json.skins || [];\r\n\t\tvar meshDefs = this.json.meshes || [];\r\n\r\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\r\n\t\t// Object3D. Use the skins' joint references to mark bones.\r\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\r\n\r\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\r\n\r\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// Iterate over all nodes, marking references to shared resources,\r\n\t\t// as well as skeleton joints.\r\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\r\n\r\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\r\n\r\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\r\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\r\n\t\t\t\t// to mark SkinnedMesh if node has skin.\r\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\r\n\r\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Counts references to shared node / Object3D resources. These resources\r\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\r\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\r\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\r\n\t * Textures) can be reused directly and are not marked here.\r\n\t *\r\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\r\n\t */\r\n\tGLTFParser.prototype._addNodeRef = function ( cache, index ) {\r\n\r\n\t\tif ( index === undefined ) return;\r\n\r\n\t\tif ( cache.refs[ index ] === undefined ) {\r\n\r\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\r\n\r\n\t\t}\r\n\r\n\t\tcache.refs[ index ] ++;\r\n\r\n\t};\r\n\r\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\r\n\tGLTFParser.prototype._getNodeRef = function ( cache, index, object ) {\r\n\r\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\r\n\r\n\t\tvar ref = object.clone();\r\n\r\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\r\n\r\n\t\treturn ref;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeOne = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.push( this );\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) return result;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype._invokeAll = function ( func ) {\r\n\r\n\t\tvar extensions = Object.values( this.plugins );\r\n\t\textensions.unshift( this );\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\r\n\r\n\t\t\tvar result = func( extensions[ i ] );\r\n\r\n\t\t\tif ( result ) pending.push( result );\r\n\r\n\t\t}\r\n\r\n\t\treturn pending;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests the specified dependency asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @param {number} index\r\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\r\n\t */\r\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\r\n\r\n\t\tvar cacheKey = type + ':' + index;\r\n\t\tvar dependency = this.cache.get( cacheKey );\r\n\r\n\t\tif ( ! dependency ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 'scene':\r\n\t\t\t\t\tdependency = this.loadScene( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'node':\r\n\t\t\t\t\tdependency = this.loadNode( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'mesh':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'accessor':\r\n\t\t\t\t\tdependency = this.loadAccessor( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'bufferView':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'buffer':\r\n\t\t\t\t\tdependency = this.loadBuffer( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'material':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'texture':\r\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\r\n\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'skin':\r\n\t\t\t\t\tdependency = this.loadSkin( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'animation':\r\n\t\t\t\t\tdependency = this.loadAnimation( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'camera':\r\n\t\t\t\t\tdependency = this.loadCamera( index );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.cache.add( cacheKey, dependency );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependency;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Requests all dependencies of the specified type asynchronously, with caching.\r\n\t * @param {string} type\r\n\t * @return {Promise<Array<Object>>}\r\n\t */\r\n\tGLTFParser.prototype.getDependencies = function ( type ) {\r\n\r\n\t\tvar dependencies = this.cache.get( type );\r\n\r\n\t\tif ( ! dependencies ) {\r\n\r\n\t\t\tvar parser = this;\r\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\r\n\r\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\r\n\r\n\t\t\t\treturn parser.getDependency( type, index );\r\n\r\n\t\t\t} ) );\r\n\r\n\t\t\tthis.cache.add( type, dependencies );\r\n\r\n\t\t}\r\n\r\n\t\treturn dependencies;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\r\n\r\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\r\n\t\tvar loader = this.fileLoader;\r\n\r\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\r\n\r\n\t\t}\r\n\r\n\t\t// If present, GLB container is required to be the first buffer.\r\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\r\n\r\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\r\n\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\r\n\r\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n\t * @param {number} bufferViewIndex\r\n\t * @return {Promise<ArrayBuffer>}\r\n\t */\r\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\r\n\r\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\r\n\r\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\r\n\r\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\r\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\r\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\r\n\t * @param {number} accessorIndex\r\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\r\n\t */\r\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\r\n\r\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\r\n\r\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\r\n\t\t\t// information about attributes coming from another source (e.g. Draco\r\n\t\t\t// compression extension).\r\n\t\t\treturn Promise.resolve( null );\r\n\r\n\t\t}\r\n\r\n\t\tvar pendingBufferViews = [];\r\n\r\n\t\tif ( accessorDef.bufferView !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tpendingBufferViews.push( null );\r\n\r\n\t\t}\r\n\r\n\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\r\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\r\n\r\n\t\t\tvar bufferView = bufferViews[ 0 ];\r\n\r\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\r\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\r\n\r\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\r\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\r\n\t\t\tvar itemBytes = elementBytes * itemSize;\r\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\r\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\r\n\t\t\tvar normalized = accessorDef.normalized === true;\r\n\t\t\tvar array, bufferAttribute;\r\n\r\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\r\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\r\n\r\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\r\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\r\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\r\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\r\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\r\n\r\n\t\t\t\tif ( ! ib ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\r\n\r\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\r\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\r\n\r\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( bufferView === null ) {\r\n\r\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\r\n\t\t\tif ( accessorDef.sparse !== undefined ) {\r\n\r\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\r\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\r\n\r\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\r\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\r\n\r\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\r\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\r\n\r\n\t\t\t\tif ( bufferView !== null ) {\r\n\r\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\r\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tvar index = sparseIndices[ i ];\r\n\r\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\r\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\r\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\r\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\r\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn bufferAttribute;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\r\n\t * @param {number} textureIndex\r\n\t * @return {Promise<THREE.Texture>}\r\n\t */\r\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar textureExtensions = textureDef.extensions || {};\r\n\r\n\t\tvar source;\r\n\r\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\r\n\r\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\r\n\r\n\t\t} else {\r\n\r\n\t\t\tsource = json.images[ textureDef.source ];\r\n\r\n\t\t}\r\n\r\n\t\tvar loader;\r\n\r\n\t\tif ( source.uri ) {\r\n\r\n\t\t\tloader = options.manager.getHandler( source.uri );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! loader ) {\r\n\r\n\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\r\n\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\r\n\t\t\t\t: this.textureLoader;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.loadTextureImage = function ( textureIndex, source, loader ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar options = this.options;\r\n\r\n\t\tvar textureDef = json.textures[ textureIndex ];\r\n\r\n\t\tvar URL = self.URL || self.webkitURL;\r\n\r\n\t\tvar sourceURI = source.uri;\r\n\t\tvar isObjectURL = false;\r\n\t\tvar hasAlpha = true;\r\n\r\n\t\tif ( source.mimeType === 'image/jpeg' ) hasAlpha = false;\r\n\r\n\t\tif ( source.bufferView !== undefined ) {\r\n\r\n\t\t\t// Load binary image data from bufferView, if provided.\r\n\t\t\t\r\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\r\n\r\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\r\n\r\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\r\n\t\t\t\t\t// alpha channel. This check is conservative  the image could have an alpha\r\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\r\n\t\t\t\t\t// sometimes contains alpha.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\r\n\t\t\t\t\tvar colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\r\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tisObjectURL = true;\r\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\r\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\r\n\t\t\t\treturn sourceURI;\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\r\n\r\n\t\t\treturn new Promise( function ( resolve, reject ) {\r\n\r\n\t\t\t\tvar onLoad = resolve;\r\n\r\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\r\n\r\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\r\n\r\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} ).then( function ( texture ) {\r\n\r\n\t\t\t// Clean up resources and configure Texture.\r\n\r\n\t\t\tif ( isObjectURL === true ) {\r\n\r\n\t\t\t\tURL.revokeObjectURL( sourceURI );\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttexture.flipY = false;\r\n\r\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\r\n\r\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\r\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\r\n\r\n\t\t\tvar samplers = json.samplers || {};\r\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\r\n\r\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\r\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\r\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\r\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\r\n\r\n\t\t\tparser.associations.set( texture, {\r\n\t\t\t\ttype: 'textures',\r\n\t\t\t\tindex: textureIndex\r\n\t\t\t} );\r\n\r\n\t\t\treturn texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Asynchronously assigns a texture to the given material parameters.\r\n\t * @param {Object} materialParams\r\n\t * @param {string} mapName\r\n\t * @param {Object} mapDef\r\n\t * @return {Promise}\r\n\t */\r\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\r\n\r\n\t\tvar parser = this;\r\n\r\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\r\n\r\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\r\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\r\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\r\n\r\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\r\n\r\n\t\t\t\tif ( transform ) {\r\n\r\n\t\t\t\t\tvar gltfReference = parser.associations.get( texture );\r\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\r\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams[ mapName ] = texture;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\r\n\t * already has a material (generated from the glTF material options alone)\r\n\t * but reuse of the same glTF material may require multiple threejs materials\r\n\t * to accomodate different primitive types, defines, etc. New materials will\r\n\t * be created if necessary, and reused from a cache.\r\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\r\n\t */\r\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\r\n\r\n\t\tvar geometry = mesh.geometry;\r\n\t\tvar material = mesh.material;\r\n\r\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\r\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\r\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\r\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\r\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\r\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\r\n\r\n\t\tif ( mesh.isPoints ) {\r\n\r\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\r\n\r\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! pointsMaterial ) {\r\n\r\n\t\t\t\tpointsMaterial = new PointsMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\r\n\t\t\t\tpointsMaterial.color.copy( material.color );\r\n\t\t\t\tpointsMaterial.map = material.map;\r\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = pointsMaterial;\r\n\r\n\t\t} else if ( mesh.isLine ) {\r\n\r\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\r\n\r\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! lineMaterial ) {\r\n\r\n\t\t\t\tlineMaterial = new LineBasicMaterial();\r\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\r\n\t\t\t\tlineMaterial.color.copy( material.color );\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = lineMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// Clone the material if it will be modified\r\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\r\n\r\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\r\n\r\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\r\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\r\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\r\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\r\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\r\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\r\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\r\n\r\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\r\n\r\n\t\t\tif ( ! cachedMaterial ) {\r\n\r\n\t\t\t\tcachedMaterial = material.clone();\r\n\r\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\r\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\r\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\r\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\r\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\r\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\r\n\r\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\r\n\r\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial = cachedMaterial;\r\n\r\n\t\t}\r\n\r\n\t\t// workarounds for mesh and geometry\r\n\r\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\r\n\r\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\r\n\r\n\t\t}\r\n\r\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\r\n\t\tif ( material.normalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tif ( material.clearcoatNormalScale && ! useVertexTangents ) {\r\n\r\n\t\t\tmaterial.clearcoatNormalScale.y = - material.clearcoatNormalScale.y;\r\n\r\n\t\t}\r\n\r\n\t\tmesh.material = material;\r\n\r\n\t};\r\n\r\n\tGLTFParser.prototype.getMaterialType = function ( /* materialIndex */ ) {\r\n\r\n\t\treturn MeshStandardMaterial;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\r\n\t * @param {number} materialIndex\r\n\t * @return {Promise<Material>}\r\n\t */\r\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar materialDef = json.materials[ materialIndex ];\r\n\r\n\t\tvar materialType;\r\n\t\tvar materialParams = {};\r\n\t\tvar materialExtensions = materialDef.extensions || {};\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\r\n\r\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\r\n\t\t\tmaterialType = sgExtension.getMaterialType();\r\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\r\n\r\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\r\n\t\t\tmaterialType = kmuExtension.getMaterialType();\r\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Specification:\r\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\r\n\r\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\r\n\r\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\r\n\t\t\tmaterialParams.opacity = 1.0;\r\n\r\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\r\n\r\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\r\n\r\n\t\t\t\tmaterialParams.color.fromArray( array );\r\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\r\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\r\n\r\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\r\n\r\n\t\t\t} ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.doubleSided === true ) {\r\n\r\n\t\t\tmaterialParams.side = DoubleSide;\r\n\r\n\t\t}\r\n\r\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\r\n\r\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\r\n\r\n\t\t\tmaterialParams.transparent = true;\r\n\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\r\n\t\t\tmaterialParams.depthWrite = false;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmaterialParams.transparent = false;\r\n\r\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\r\n\r\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\r\n\r\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\r\n\r\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\r\n\r\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\r\n\r\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\r\n\r\n\t\t}\r\n\r\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\r\n\r\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\tvar material;\r\n\r\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\r\n\r\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmaterial = new materialType( materialParams );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\r\n\r\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\r\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\r\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\r\n\r\n\t\t\tassignExtrasToUserData( material, materialDef );\r\n\r\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\r\n\r\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/** When Object3D instances are targeted by animation, they need unique names. */\r\n\tGLTFParser.prototype.createUniqueName = function ( originalName ) {\r\n\r\n\t\tvar name = PropertyBinding.sanitizeNodeName( originalName || '' );\r\n\r\n\t\tfor ( var i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\r\n\r\n\t\t\tname = originalName + '_' + i;\r\n\r\n\t\t}\r\n\r\n\t\tthis.nodeNamesUsed[ name ] = true;\r\n\r\n\t\treturn name;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t */\r\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar box = new Box3();\r\n\r\n\t\tif ( attributes.POSITION !== undefined ) {\r\n\r\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\r\n\r\n\t\t\tvar min = accessor.min;\r\n\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\tbox.set(\r\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\r\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tvar targets = primitiveDef.targets;\r\n\r\n\t\tif ( targets !== undefined ) {\r\n\r\n\t\t\tvar maxDisplacement = new Vector3();\r\n\t\t\tvar vector = new Vector3();\r\n\r\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( target.POSITION !== undefined ) {\r\n\r\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\r\n\t\t\t\t\tvar min = accessor.min;\r\n\t\t\t\t\tvar max = accessor.max;\r\n\r\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\r\n\r\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\r\n\r\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\r\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\r\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\r\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\r\n\r\n\t\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\r\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\r\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\r\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\r\n\t\t\t\t\t\tmaxDisplacement.max( vector );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\r\n\t\t\tbox.expandByVector( maxDisplacement );\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.boundingBox = box;\r\n\r\n\t\tvar sphere = new Sphere();\r\n\r\n\t\tbox.getCenter( sphere.center );\r\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\r\n\r\n\t\tgeometry.boundingSphere = sphere;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {GLTF.Primitive} primitiveDef\r\n\t * @param {GLTFParser} parser\r\n\t * @return {Promise<BufferGeometry>}\r\n\t */\r\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\r\n\r\n\t\tvar attributes = primitiveDef.attributes;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\r\n\r\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\r\n\t\t\t\t.then( function ( accessor ) {\r\n\r\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var gltfAttributeName in attributes ) {\r\n\r\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\r\n\r\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\r\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\r\n\r\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\r\n\r\n\t\t}\r\n\r\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\r\n\r\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\r\n\r\n\t\t\t\tgeometry.setIndex( accessor );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tpending.push( accessor );\r\n\r\n\t\t}\r\n\r\n\t\tassignExtrasToUserData( geometry, primitiveDef );\r\n\r\n\t\tcomputeBounds( geometry, primitiveDef, parser );\r\n\r\n\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\treturn primitiveDef.targets !== undefined\r\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\r\n\t\t\t\t: geometry;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @param {BufferGeometry} geometry\r\n\t * @param {Number} drawMode\r\n\t * @return {BufferGeometry}\r\n\t */\r\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\r\n\r\n\t\tvar index = geometry.getIndex();\r\n\r\n\t\t// generate index if not present\r\n\r\n\t\tif ( index === null ) {\r\n\r\n\t\t\tvar indices = [];\r\n\r\n\t\t\tvar position = geometry.getAttribute( 'position' );\r\n\r\n\t\t\tif ( position !== undefined ) {\r\n\r\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\r\n\r\n\t\t\t\t\tindices.push( i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.setIndex( indices );\r\n\t\t\t\tindex = geometry.getIndex();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\r\n\t\t\t\treturn geometry;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar numberOfTriangles = index.count - 2;\r\n\t\tvar newIndices = [];\r\n\r\n\t\tif ( drawMode === TriangleFanDrawMode ) {\r\n\r\n\t\t\t// gl.TRIANGLE_FAN\r\n\r\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\r\n\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// gl.TRIANGLE_STRIP\r\n\r\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\r\n\r\n\t\t\t\tif ( i % 2 === 0 ) {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\r\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\r\n\r\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\r\n\r\n\t\t}\r\n\r\n\t\t// build final geometry\r\n\r\n\t\tvar newGeometry = geometry.clone();\r\n\t\tnewGeometry.setIndex( newIndices );\r\n\r\n\t\treturn newGeometry;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\r\n\t *\r\n\t * Creates BufferGeometries from primitives.\r\n\t *\r\n\t * @param {Array<GLTF.Primitive>} primitives\r\n\t * @return {Promise<Array<BufferGeometry>>}\r\n\t */\r\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar cache = this.primitiveCache;\r\n\r\n\t\tfunction createDracoPrimitive( primitive ) {\r\n\r\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\r\n\t\t\t\t.decodePrimitive( primitive, parser )\r\n\t\t\t\t.then( function ( geometry ) {\r\n\r\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar primitive = primitives[ i ];\r\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\r\n\r\n\t\t\t// See if we've already created this geometry\r\n\t\t\tvar cached = cache[ cacheKey ];\r\n\r\n\t\t\tif ( cached ) {\r\n\r\n\t\t\t\t// Use the cached geometry if it exists\r\n\t\t\t\tpending.push( cached.promise );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar geometryPromise;\r\n\r\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\r\n\r\n\t\t\t\t\t// Use DRACO geometry if available\r\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Otherwise create a new geometry\r\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache this geometry\r\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\r\n\r\n\t\t\t\tpending.push( geometryPromise );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( pending );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\r\n\t * @param {number} meshIndex\r\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\r\n\t */\r\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\r\n\r\n\t\tvar parser = this;\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\r\n\t\tvar meshDef = json.meshes[ meshIndex ];\r\n\t\tvar primitives = meshDef.primitives;\r\n\r\n\t\tvar pending = [];\r\n\r\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar material = primitives[ i ].material === undefined\r\n\t\t\t\t? createDefaultMaterial( this.cache )\r\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\r\n\r\n\t\t\tpending.push( material );\r\n\r\n\t\t}\r\n\r\n\t\tpending.push( parser.loadGeometries( primitives ) );\r\n\r\n\t\treturn Promise.all( pending ).then( function ( results ) {\r\n\r\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\r\n\t\t\tvar geometries = results[ results.length - 1 ];\r\n\r\n\t\t\tvar meshes = [];\r\n\r\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar geometry = geometries[ i ];\r\n\t\t\t\tvar primitive = primitives[ i ];\r\n\r\n\t\t\t\t// 1. create Mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tvar material = materials[ i ];\r\n\r\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\r\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\r\n\t\t\t\t\tprimitive.mode === undefined ) {\r\n\r\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\r\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\r\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\r\n\t\t\t\t\t\t: new Mesh( geometry, material );\r\n\r\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\r\n\r\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\r\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\r\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\r\n\r\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\r\n\r\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\r\n\r\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\r\n\r\n\t\t\t\t\tmesh = new Line( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\r\n\r\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\r\n\r\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\r\n\r\n\t\t\t\t\tmesh = new Points( geometry, material );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\r\n\r\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\r\n\r\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\r\n\r\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\r\n\r\n\t\t\t\tparser.assignFinalMaterial( mesh );\r\n\r\n\t\t\t\tmeshes.push( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( meshes.length === 1 ) {\r\n\r\n\t\t\t\treturn meshes[ 0 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar group = new Group();\r\n\r\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tgroup.add( meshes[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn group;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\r\n\t * @param {number} cameraIndex\r\n\t * @return {Promise<THREE.Camera>}\r\n\t */\r\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\r\n\r\n\t\tvar camera;\r\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\r\n\t\tvar params = cameraDef[ cameraDef.type ];\r\n\r\n\t\tif ( ! params ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.type === 'perspective' ) {\r\n\r\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\r\n\r\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\r\n\r\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\r\n\r\n\t\t}\r\n\r\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\r\n\r\n\t\tassignExtrasToUserData( camera, cameraDef );\r\n\r\n\t\treturn Promise.resolve( camera );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\r\n\t * @param {number} skinIndex\r\n\t * @return {Promise<Object>}\r\n\t */\r\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\r\n\r\n\t\tvar skinDef = this.json.skins[ skinIndex ];\r\n\r\n\t\tvar skinEntry = { joints: skinDef.joints };\r\n\r\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\r\n\r\n\t\t\treturn Promise.resolve( skinEntry );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\r\n\r\n\t\t\tskinEntry.inverseBindMatrices = accessor;\r\n\r\n\t\t\treturn skinEntry;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\r\n\t * @param {number} animationIndex\r\n\t * @return {Promise<AnimationClip>}\r\n\t */\r\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\r\n\t\tvar animationDef = json.animations[ animationIndex ];\r\n\r\n\t\tvar pendingNodes = [];\r\n\t\tvar pendingInputAccessors = [];\r\n\t\tvar pendingOutputAccessors = [];\r\n\t\tvar pendingSamplers = [];\r\n\t\tvar pendingTargets = [];\r\n\r\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar channel = animationDef.channels[ i ];\r\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\r\n\t\t\tvar target = channel.target;\r\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\r\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\r\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\r\n\r\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\r\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\r\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\r\n\t\t\tpendingSamplers.push( sampler );\r\n\t\t\tpendingTargets.push( target );\r\n\r\n\t\t}\r\n\r\n\t\treturn Promise.all( [\r\n\r\n\t\t\tPromise.all( pendingNodes ),\r\n\t\t\tPromise.all( pendingInputAccessors ),\r\n\t\t\tPromise.all( pendingOutputAccessors ),\r\n\t\t\tPromise.all( pendingSamplers ),\r\n\t\t\tPromise.all( pendingTargets )\r\n\r\n\t\t] ).then( function ( dependencies ) {\r\n\r\n\t\t\tvar nodes = dependencies[ 0 ];\r\n\t\t\tvar inputAccessors = dependencies[ 1 ];\r\n\t\t\tvar outputAccessors = dependencies[ 2 ];\r\n\t\t\tvar samplers = dependencies[ 3 ];\r\n\t\t\tvar targets = dependencies[ 4 ];\r\n\r\n\t\t\tvar tracks = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar node = nodes[ i ];\r\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\r\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\r\n\t\t\t\tvar sampler = samplers[ i ];\r\n\t\t\t\tvar target = targets[ i ];\r\n\r\n\t\t\t\tif ( node === undefined ) continue;\r\n\r\n\t\t\t\tnode.updateMatrix();\r\n\t\t\t\tnode.matrixAutoUpdate = true;\r\n\r\n\t\t\t\tvar TypedKeyframeTrack;\r\n\r\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase PATH_PROPERTIES.position:\r\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\r\n\r\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\r\n\r\n\t\t\t\tvar targetNames = [];\r\n\r\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\r\n\r\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\r\n\t\t\t\t\tnode.traverse( function ( object ) {\r\n\r\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\r\n\r\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttargetNames.push( targetName );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar outputArray = outputAccessor.array;\r\n\r\n\t\t\t\tif ( outputAccessor.normalized ) {\r\n\r\n\t\t\t\t\tvar scale;\r\n\r\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 127;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 255;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 32767;\r\n\r\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\r\n\r\n\t\t\t\t\t\tscale = 1 / 65535;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutputArray = scaled;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\r\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\r\n\t\t\t\t\t\tinputAccessor.array,\r\n\t\t\t\t\t\toutputArray,\r\n\t\t\t\t\t\tinterpolation\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// Override interpolation with custom factory method.\r\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\r\n\r\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\r\n\r\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\r\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\r\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\r\n\r\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\r\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttracks.push( track );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\r\n\r\n\t\t\treturn new AnimationClip( name, undefined, tracks );\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\r\n\t * @param {number} nodeIndex\r\n\t * @return {Promise<Object3D>}\r\n\t */\r\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\r\n\r\n\t\tvar json = this.json;\r\n\t\tvar extensions = this.extensions;\r\n\t\tvar parser = this;\r\n\r\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\r\n\r\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\r\n\t\tvar nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\r\n\r\n\t\treturn ( function () {\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tif ( nodeDef.mesh !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\r\n\r\n\t\t\t\t\tvar node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\r\n\r\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\r\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\r\n\r\n\t\t\t\t\t\tnode.traverse( function ( o ) {\r\n\r\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\r\n\r\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.camera !== undefined ) {\r\n\r\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\r\n\r\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\r\n\r\n\t\t\t\t} ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser._invokeAll( function ( ext ) {\r\n\r\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\r\n\r\n\t\t\t} ).forEach( function ( promise ) {\r\n\r\n\t\t\t\tpending.push( promise );\r\n\r\n\t\t\t} );\r\n\r\n\t\t\treturn Promise.all( pending );\r\n\r\n\t\t}() ).then( function ( objects ) {\r\n\r\n\t\t\tvar node;\r\n\r\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\r\n\t\t\tif ( nodeDef.isBone === true ) {\r\n\r\n\t\t\t\tnode = new Bone();\r\n\r\n\t\t\t} else if ( objects.length > 1 ) {\r\n\r\n\t\t\t\tnode = new Group();\r\n\r\n\t\t\t} else if ( objects.length === 1 ) {\r\n\r\n\t\t\t\tnode = objects[ 0 ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tnode = new Object3D();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( node !== objects[ 0 ] ) {\r\n\r\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\tnode.add( objects[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( nodeDef.name ) {\r\n\r\n\t\t\t\tnode.userData.name = nodeDef.name;\r\n\t\t\t\tnode.name = nodeName;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tassignExtrasToUserData( node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\r\n\r\n\t\t\tif ( nodeDef.matrix !== undefined ) {\r\n\r\n\t\t\t\tvar matrix = new Matrix4();\r\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\r\n\t\t\t\tnode.applyMatrix4( matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\r\n\r\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\r\n\r\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\r\n\r\n\t\t\treturn node;\r\n\r\n\t\t} );\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\r\n\t * @param {number} sceneIndex\r\n\t * @return {Promise<Group>}\r\n\t */\r\n\tGLTFParser.prototype.loadScene = function () {\r\n\r\n\t\t// scene node hierachy builder\r\n\r\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\r\n\r\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\r\n\r\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\r\n\r\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\r\n\r\n\t\t\t\t// build skeleton here as well\r\n\r\n\t\t\t\tvar skinEntry;\r\n\r\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\r\n\r\n\t\t\t\t\tskinEntry = skin;\r\n\r\n\t\t\t\t\tvar pendingJoints = [];\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Promise.all( pendingJoints );\r\n\r\n\t\t\t\t} ).then( function ( jointNodes ) {\r\n\r\n\t\t\t\t\tnode.traverse( function ( mesh ) {\r\n\r\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\r\n\r\n\t\t\t\t\t\tvar bones = [];\r\n\t\t\t\t\t\tvar boneInverses = [];\r\n\r\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\r\n\r\n\t\t\t\t\t\t\tif ( jointNode ) {\r\n\r\n\t\t\t\t\t\t\t\tbones.push( jointNode );\r\n\r\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\r\n\r\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\r\n\r\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\r\n\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\treturn node;\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t} ).then( function ( node ) {\r\n\r\n\t\t\t\t// build node hierachy\r\n\r\n\t\t\t\tparentObject.add( node );\r\n\r\n\t\t\t\tvar pending = [];\r\n\r\n\t\t\t\tif ( nodeDef.children ) {\r\n\r\n\t\t\t\t\tvar children = nodeDef.children;\r\n\r\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar child = children[ i ];\r\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Promise.all( pending );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\treturn function loadScene( sceneIndex ) {\r\n\r\n\t\t\tvar json = this.json;\r\n\t\t\tvar extensions = this.extensions;\r\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\r\n\t\t\tvar parser = this;\r\n\r\n\t\t\t// Loader returns Group, not Scene.\r\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\r\n\t\t\tvar scene = new Group();\r\n\t\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\r\n\r\n\t\t\tassignExtrasToUserData( scene, sceneDef );\r\n\r\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\r\n\r\n\t\t\tvar nodeIds = sceneDef.nodes || [];\r\n\r\n\t\t\tvar pending = [];\r\n\r\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn Promise.all( pending ).then( function () {\r\n\r\n\t\t\t\treturn scene;\r\n\r\n\t\t\t} );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\treturn GLTFLoader;\r\n\r\n} )();\r\n\r\nexport { GLTFLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/GLTFLoader.js","/**\r\n * Unpack RGBA depth shader\r\n * - show RGBA encoded depth as monochrome color\r\n */\r\n\r\nvar UnpackDepthRGBAShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"opacity\": { value: 1.0 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"uniform float opacity;\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"#include <packing>\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tfloat depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );\",\r\n\t\t\"\tgl_FragColor = vec4( vec3( depth ), opacity );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { UnpackDepthRGBAShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/UnpackDepthRGBAShader.js","/**\r\n * Film grain & scanlines shader\r\n *\r\n * - ported from HLSL to WebGL / GLSL\r\n * http://www.truevision3d.com/forums/showcase/staticnoise_colorblackwhite_scanline_shaders-t18698.0.html\r\n *\r\n * Screen Space Static Postprocessor\r\n *\r\n * Produces an analogue noise overlay similar to a film grain / TV static\r\n *\r\n * Original implementation and noise algorithm\r\n * Pat 'Hawthorne' Shearon\r\n *\r\n * Optimized scanlines + noise version with intensity scaling\r\n * Georg 'Leviathan' Steinrohder\r\n *\r\n * This version is provided under a Creative Commons Attribution 3.0 License\r\n * http://creativecommons.org/licenses/by/3.0/\r\n */\r\n\r\nvar FilmShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"time\": { value: 0.0 },\r\n\t\t\"nIntensity\": { value: 0.5 },\r\n\t\t\"sIntensity\": { value: 0.05 },\r\n\t\t\"sCount\": { value: 4096 },\r\n\t\t\"grayscale\": { value: 1 }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"\tvUv = uv;\",\r\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\r\n\t\t\"#include <common>\",\r\n\r\n\t\t// control parameter\r\n\t\t\"uniform float time;\",\r\n\r\n\t\t\"uniform bool grayscale;\",\r\n\r\n\t\t// noise effect intensity value (0 = no effect, 1 = full effect)\r\n\t\t\"uniform float nIntensity;\",\r\n\r\n\t\t// scanlines effect intensity value (0 = no effect, 1 = full effect)\r\n\t\t\"uniform float sIntensity;\",\r\n\r\n\t\t// scanlines effect count value (0 = no effect, 4096 = full effect)\r\n\t\t\"uniform float sCount;\",\r\n\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t// sample the source\r\n\t\t\"\tvec4 cTextureScreen = texture2D( tDiffuse, vUv );\",\r\n\r\n\t\t// make some noise\r\n\t\t\"\tfloat dx = rand( vUv + time );\",\r\n\r\n\t\t// add noise\r\n\t\t\"\tvec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );\",\r\n\r\n\t\t// get us a sine and cosine\r\n\t\t\"\tvec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );\",\r\n\r\n\t\t// add scanlines\r\n\t\t\"\tcResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;\",\r\n\r\n\t\t// interpolate between source and result by intensity\r\n\t\t\"\tcResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );\",\r\n\r\n\t\t// convert to grayscale if desired\r\n\t\t\"\tif( grayscale ) {\",\r\n\r\n\t\t\"\t\tcResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );\",\r\n\r\n\t\t\"\t}\",\r\n\r\n\t\t\"\tgl_FragColor =  vec4( cResult, cTextureScreen.a );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport { FilmShader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/shaders/FilmShader.js","import {\r\n\tShaderMaterial,\r\n\tUniformsUtils\r\n} from \"@/components/build/three.module.js\";\r\nimport { Pass } from \"../postprocessing/Pass.js\";\r\nimport { FilmShader } from \"../shaders/FilmShader.js\";\r\n\r\nvar FilmPass = function ( noiseIntensity, scanlinesIntensity, scanlinesCount, grayscale ) {\r\n\r\n\tPass.call( this );\r\n\r\n\tif ( FilmShader === undefined )\r\n\t\tconsole.error( \"FilmPass relies on FilmShader\" );\r\n\r\n\tvar shader = FilmShader;\r\n\r\n\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\tthis.material = new ShaderMaterial( {\r\n\r\n\t\tuniforms: this.uniforms,\r\n\t\tvertexShader: shader.vertexShader,\r\n\t\tfragmentShader: shader.fragmentShader\r\n\r\n\t} );\r\n\r\n\tif ( grayscale !== undefined )\tthis.uniforms.grayscale.value = grayscale;\r\n\tif ( noiseIntensity !== undefined ) this.uniforms.nIntensity.value = noiseIntensity;\r\n\tif ( scanlinesIntensity !== undefined ) this.uniforms.sIntensity.value = scanlinesIntensity;\r\n\tif ( scanlinesCount !== undefined ) this.uniforms.sCount.value = scanlinesCount;\r\n\r\n\tthis.fsQuad = new Pass.FullScreenQuad( this.material );\r\n\r\n};\r\n\r\nFilmPass.prototype = Object.assign( Object.create( Pass.prototype ), {\r\n\r\n\tconstructor: FilmPass,\r\n\r\n\trender: function ( renderer, writeBuffer, readBuffer, deltaTime /*, maskActive */ ) {\r\n\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.uniforms[ \"time\" ].value += deltaTime;\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.setRenderTarget( null );\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.setRenderTarget( writeBuffer );\r\n\t\t\tif ( this.clear ) renderer.clear();\r\n\t\t\tthis.fsQuad.render( renderer );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { FilmPass };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/postprocessing/FilmPass.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = sOR5\n// module chunks = 0","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = ujcs\n// module chunks = 0","import { TempNode } from '../core/TempNode.js';\r\nimport { FloatNode } from '../inputs/FloatNode.js';\r\nimport { TextureCubeUVNode } from './TextureCubeUVNode.js';\r\nimport { ReflectNode } from '../accessors/ReflectNode.js';\r\nimport { NormalNode } from '../accessors/NormalNode.js';\r\n\r\nfunction TextureCubeNode( value, uv, bias ) {\r\n\r\n\tTempNode.call( this, 'v4' );\r\n\r\n\tthis.value = value;\r\n\r\n\tthis.radianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tuv || new ReflectNode( ReflectNode.VECTOR ),\r\n\t\t// bias should be replaced in builder.context in build process\r\n\t\tbias\r\n\t);\r\n\r\n\tthis.irradianceNode = new TextureCubeUVNode(\r\n\t\tthis.value,\r\n\t\tnew NormalNode( NormalNode.WORLD ),\r\n\t\tnew FloatNode( 1 ).setReadonly( true )\r\n\t);\r\n\r\n}\r\n\r\nTextureCubeNode.prototype = Object.create( TempNode.prototype );\r\nTextureCubeNode.prototype.constructor = TextureCubeNode;\r\nTextureCubeNode.prototype.nodeType = \"TextureCube\";\r\n\r\nTextureCubeNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tbuilder.require( 'irradiance' );\r\n\r\n\t\tif ( builder.context.bias ) {\r\n\r\n\t\t\tbuilder.context.bias.setTexture( this.value );\r\n\r\n\t\t}\r\n\r\n\t\tvar scopeNode = builder.slot === 'irradiance' ? this.irradianceNode : this.radianceNode;\r\n\r\n\t\treturn scopeNode.build( builder, output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.TextureCubeNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec4( 0.0 )', this.getType( builder ), output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.value = source.value;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nTextureCubeNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.value = this.value.toJSON( meta ).uuid;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { TextureCubeNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/misc/TextureCubeNode.js","/*!\r\n\r\nJSZip - A Javascript class for generating and reading zip files\r\n<http://stuartk.com/jszip>\r\n\r\n(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>\r\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\r\n\r\nJSZip uses the library pako released under the MIT license :\r\nhttps://github.com/nodeca/pako/blob/master/LICENSE\r\n*/\r\n!function(a){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=a();else if(\"function\"==typeof define&&define.amd)define([],a);else{var b;b=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\"function\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\"Cannot find module '\"+g+\"'\");throw j.code=\"MODULE_NOT_FOUND\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\"function\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){\"use strict\";function d(a){if(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0;for(var b=0;b<this.data.length;b++)a[b]=255&a[b]}}var e=a(\"./dataReader\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data[this.zero+a]},d.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f-this.zero;return-1},d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6}],2:[function(a,b,c){\"use strict\";var d=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";c.encode=function(a,b){for(var c,e,f,g,h,i,j,k=\"\",l=0;l<a.length;)c=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k=k+d.charAt(g)+d.charAt(h)+d.charAt(i)+d.charAt(j);return k},c.decode=function(a,b){var c,e,f,g,h,i,j,k=\"\",l=0;for(a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");l<a.length;)g=d.indexOf(a.charAt(l++)),h=d.indexOf(a.charAt(l++)),i=d.indexOf(a.charAt(l++)),j=d.indexOf(a.charAt(l++)),c=g<<2|h>>4,e=(15&h)<<4|i>>2,f=(3&i)<<6|j,k+=String.fromCharCode(c),64!=i&&(k+=String.fromCharCode(e)),64!=j&&(k+=String.fromCharCode(f));return k}},{}],3:[function(a,b,c){\"use strict\";function d(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}d.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},b.exports=d},{}],4:[function(a,b,c){\"use strict\";c.STORE={magic:\"\\x00\\x00\",compress:function(a,b){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null},c.DEFLATE=a(\"./flate\")},{\"./flate\":9}],5:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(a,b){if(\"undefined\"==typeof a||!a.length)return 0;var c=\"string\"!==d.getTypeOf(a);\"undefined\"==typeof b&&(b=0);var f=0,g=0,h=0;b=-1^b;for(var i=0,j=a.length;j>i;i++)h=c?a[i]:a.charCodeAt(i),g=255&(b^h),f=e[g],b=b>>>8^f;return-1^b}},{\"./utils\":22}],6:[function(a,b,c){\"use strict\";function d(a){this.data=null,this.length=0,this.index=0,this.zero=0}var e=a(\"./utils\");d.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||0>a)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+a+\"). Corrupted zip ?\")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return e.transformTo(\"string\",this.readData(a))},readData:function(a){},lastIndexOfSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1)}},b.exports=d},{\"./utils\":22}],7:[function(a,b,c){\"use strict\";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!1,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],8:[function(a,b,c){\"use strict\";var d=a(\"./utils\");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo(\"uint8array\",a)},c.uint8Array2String=function(a){return d.transformTo(\"string\",a)},c.string2Blob=function(a){var b=d.transformTo(\"arraybuffer\",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{\"./utils\":22}],9:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,e=a(\"pako\");c.uncompressInputType=d?\"uint8array\":\"array\",c.compressInputType=d?\"uint8array\":\"array\",c.magic=\"\\b\\x00\",c.compress=function(a,b){return e.deflateRaw(a,{level:b.level||-1})},c.uncompress=function(a){return e.inflateRaw(a)}},{pako:25}],10:[function(a,b,c){\"use strict\";function d(a,b){return this instanceof d?(this.files={},this.comment=null,this.root=\"\",a&&this.load(a,b),void(this.clone=function(){var a=new d;for(var b in this)\"function\"!=typeof this[b]&&(a[b]=this[b]);return a})):new d(a,b)}var e=a(\"./base64\");d.prototype=a(\"./object\"),d.prototype.load=a(\"./load\"),d.support=a(\"./support\"),d.defaults=a(\"./defaults\"),d.utils=a(\"./deprecatedPublicUtils\"),d.base64={encode:function(a){return e.encode(a)},decode:function(a){return e.decode(a)}},d.compressions=a(\"./compressions\"),b.exports=d},{\"./base64\":2,\"./compressions\":4,\"./defaults\":7,\"./deprecatedPublicUtils\":8,\"./load\":11,\"./object\":14,\"./support\":18}],11:[function(a,b,c){\"use strict\";var d=a(\"./base64\"),e=a(\"./utf8\"),f=a(\"./utils\"),g=a(\"./zipEntries\");b.exports=function(a,b){var c,h,i,j;for(b=f.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),b.base64&&(a=d.decode(a)),h=new g(a,b),c=h.files,i=0;i<c.length;i++)j=c[i],this.file(j.fileNameStr,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:b.createFolders});return h.zipComment.length&&(this.comment=h.zipComment),this}},{\"./base64\":2,\"./utf8\":21,\"./utils\":22,\"./zipEntries\":23}],12:[function(a,b,c){(function(a){\"use strict\";b.exports=function(b,c){return new a(b,c)},b.exports.test=function(b){return a.isBuffer(b)}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],13:[function(a,b,c){\"use strict\";function d(a){this.data=a,this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./uint8ArrayReader\");d.prototype=new e,d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./uint8ArrayReader\":19}],14:[function(a,b,c){\"use strict\";var d=a(\"./support\"),e=a(\"./utils\"),f=a(\"./crc32\"),g=a(\"./signature\"),h=a(\"./defaults\"),i=a(\"./base64\"),j=a(\"./compressions\"),k=a(\"./compressedObject\"),l=a(\"./nodeBuffer\"),m=a(\"./utf8\"),n=a(\"./stringWriter\"),o=a(\"./uint8ArrayWriter\"),p=function(a){if(a._data instanceof k&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,\"uint8array\"===e.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},q=function(a){var b=p(a),c=e.getTypeOf(b);return\"string\"===c?!a.options.binary&&d.nodebuffer?l(b,\"utf-8\"):a.asBinary():b},r=function(a){var b=p(this);return null===b||\"undefined\"==typeof b?\"\":(this.options.base64&&(b=i.decode(b)),b=a&&this.options.binary?D.utf8decode(b):e.transformTo(\"string\",b),a||this.options.binary||(b=e.transformTo(\"string\",D.utf8encode(b))),b)},s=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this.options=c,this._initialMetadata={dir:c.dir,date:c.date}};s.prototype={asText:function(){return r.call(this,!0)},asBinary:function(){return r.call(this,!1)},asNodeBuffer:function(){var a=q(this);return e.transformTo(\"nodebuffer\",a)},asUint8Array:function(){var a=q(this);return e.transformTo(\"uint8array\",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var t=function(a,b){var c,d=\"\";for(c=0;b>c;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},u=function(a){return a=a||{},a.base64!==!0||null!==a.binary&&void 0!==a.binary||(a.binary=!0),a=e.extend(a,h),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},v=function(a,b,c){var d,f=e.getTypeOf(b);if(c=u(c),\"string\"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(a=x(a)),c.createFolders&&(d=w(a))&&y.call(this,d,!0),c.dir||null===b||\"undefined\"==typeof b)c.base64=!1,c.binary=!1,b=null,f=null;else if(\"string\"===f)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=e.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(f||b instanceof k))throw new Error(\"The data of '\"+a+\"' is in an unsupported format !\");\"arraybuffer\"===f&&(b=e.transformTo(\"uint8array\",b))}var g=new s(a,b,c);return this.files[a]=g,g},w=function(a){\"/\"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf(\"/\");return b>0?a.substring(0,b):\"\"},x=function(a){return\"/\"!=a.slice(-1)&&(a+=\"/\"),a},y=function(a,b){return b=\"undefined\"!=typeof b?b:!1,a=x(a),this.files[a]||v.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},z=function(a,b,c){var d,g=new k;return a._data instanceof k?(g.uncompressedSize=a._data.uncompressedSize,g.crc32=a._data.crc32,0===g.uncompressedSize||a.dir?(b=j.STORE,g.compressedContent=\"\",g.crc32=0):a._data.compressionMethod===b.magic?g.compressedContent=a._data.getCompressedContent():(d=a._data.getContent(),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c))):(d=q(a),d&&0!==d.length&&!a.dir||(b=j.STORE,d=\"\"),g.uncompressedSize=d.length,g.crc32=f(d),g.compressedContent=b.compress(e.transformTo(b.compressInputType,d),c)),g.compressedSize=g.compressedContent.length,g.compressionMethod=b.magic,g},A=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},B=function(a,b){return 63&(a||0)},C=function(a,b,c,d,h,i){var j,k,l,n,o=(c.compressedContent,i!==m.utf8encode),p=e.transformTo(\"string\",i(b.name)),q=e.transformTo(\"string\",m.utf8encode(b.name)),r=b.comment||\"\",s=e.transformTo(\"string\",i(r)),u=e.transformTo(\"string\",m.utf8encode(r)),v=q.length!==b.name.length,w=u.length!==r.length,x=b.options,y=\"\",z=\"\",C=\"\";l=b._initialMetadata.dir!==b.dir?b.dir:x.dir,n=b._initialMetadata.date!==b.date?b.date:x.date;var D=0,E=0;l&&(D|=16),\"UNIX\"===h?(E=798,D|=A(b.unixPermissions,l)):(E=20,D|=B(b.dosPermissions,l)),j=n.getHours(),j<<=6,j|=n.getMinutes(),j<<=5,j|=n.getSeconds()/2,k=n.getFullYear()-1980,k<<=4,k|=n.getMonth()+1,k<<=5,k|=n.getDate(),v&&(z=t(1,1)+t(f(p),4)+q,y+=\"up\"+t(z.length,2)+z),w&&(C=t(1,1)+t(this.crc32(s),4)+u,y+=\"uc\"+t(C.length,2)+C);var F=\"\";F+=\"\\n\\x00\",F+=o||!v&&!w?\"\\x00\\x00\":\"\\x00\\b\",F+=c.compressionMethod,F+=t(j,2),F+=t(k,2),F+=t(c.crc32,4),F+=t(c.compressedSize,4),F+=t(c.uncompressedSize,4),F+=t(p.length,2),F+=t(y.length,2);var G=g.LOCAL_FILE_HEADER+F+p+y,H=g.CENTRAL_FILE_HEADER+t(E,2)+F+t(s.length,2)+\"\\x00\\x00\\x00\\x00\"+t(D,4)+t(d,4)+p+y+s;return{fileRecord:G,dirRecord:H,compressedObject:c}},D={load:function(a,b){throw new Error(\"Load method is not defined. Is the file jszip-load.js included ?\")},filter:function(a){var b,c,d,f,g=[];for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],f=new s(d.name,d._data,e.extend(d.options)),c=b.slice(this.root.length,b.length),b.slice(0,this.root.length)===this.root&&a(c,f)&&g.push(f));return g},file:function(a,b,c){if(1===arguments.length){if(e.isRegExp(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,v.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(e.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=y.call(this,b),d=this.clone();return d.root=c.name,d},remove:function(a){a=this.root+a;var b=this.files[a];if(b||(\"/\"!=a.slice(-1)&&(a+=\"/\"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){a=e.extend(a||{},{base64:!0,compression:\"STORE\",compressionOptions:null,type:\"base64\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:m.utf8encode}),e.checkSupport(a.type),\"darwin\"!==a.platform&&\"freebsd\"!==a.platform&&\"linux\"!==a.platform&&\"sunos\"!==a.platform||(a.platform=\"UNIX\"),\"win32\"===a.platform&&(a.platform=\"DOS\");var b,c,d=[],f=0,h=0,k=e.transformTo(\"string\",a.encodeFileName(a.comment||this.comment||\"\"));for(var l in this.files)if(this.files.hasOwnProperty(l)){var p=this.files[l],q=p.options.compression||a.compression.toUpperCase(),r=j[q];if(!r)throw new Error(q+\" is not a valid compression method !\");var s=p.options.compressionOptions||a.compressionOptions||{},u=z.call(this,p,r,s),v=C.call(this,l,p,u,f,a.platform,a.encodeFileName);f+=v.fileRecord.length+u.compressedSize,h+=v.dirRecord.length,d.push(v)}var w=\"\";w=g.CENTRAL_DIRECTORY_END+\"\\x00\\x00\\x00\\x00\"+t(d.length,2)+t(d.length,2)+t(h,4)+t(f,4)+t(k.length,2)+k;var x=a.type.toLowerCase();for(b=\"uint8array\"===x||\"arraybuffer\"===x||\"blob\"===x||\"nodebuffer\"===x?new o(f+h+w.length):new n(f+h+w.length),c=0;c<d.length;c++)b.append(d[c].fileRecord),b.append(d[c].compressedObject.compressedContent);for(c=0;c<d.length;c++)b.append(d[c].dirRecord);b.append(w);var y=b.finalize();switch(a.type.toLowerCase()){case\"uint8array\":case\"arraybuffer\":case\"nodebuffer\":return e.transformTo(a.type.toLowerCase(),y);case\"blob\":return e.arrayBuffer2Blob(e.transformTo(\"arraybuffer\",y),a.mimeType);case\"base64\":return a.base64?i.encode(y):y;default:return y}},crc32:function(a,b){return f(a,b)},utf8encode:function(a){return e.transformTo(\"string\",m.utf8encode(a))},utf8decode:function(a){return m.utf8decode(a)}};b.exports=D},{\"./base64\":2,\"./compressedObject\":3,\"./compressions\":4,\"./crc32\":5,\"./defaults\":7,\"./nodeBuffer\":12,\"./signature\":15,\"./stringWriter\":17,\"./support\":18,\"./uint8ArrayWriter\":20,\"./utf8\":21,\"./utils\":22}],15:[function(a,b,c){\"use strict\";c.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",c.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",c.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",c.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",c.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],16:[function(a,b,c){\"use strict\";function d(a,b){this.data=a,b||(this.data=f.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var e=a(\"./dataReader\"),f=a(\"./utils\");d.prototype=new e,d.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},d.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./dataReader\":6,\"./utils\":22}],17:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(){this.data=[]};e.prototype={append:function(a){a=d.transformTo(\"string\",a),this.data.push(a)},finalize:function(){return this.data.join(\"\")}},b.exports=e},{\"./utils\":22}],18:[function(a,b,c){(function(a){\"use strict\";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,c.nodebuffer=\"undefined\"!=typeof a,c.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)c.blob=!1;else{var b=new ArrayBuffer(0);try{c.blob=0===new Blob([b],{type:\"application/zip\"}).size}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(b),c.blob=0===f.getBlob(\"application/zip\").size}catch(d){c.blob=!1}}}}).call(this,\"undefined\"!=typeof Buffer?Buffer:void 0)},{}],19:[function(a,b,c){\"use strict\";function d(a){a&&(this.data=a,this.length=this.data.length,this.index=0,this.zero=0)}var e=a(\"./arrayReader\");d.prototype=new e,d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{\"./arrayReader\":1}],20:[function(a,b,c){\"use strict\";var d=a(\"./utils\"),e=function(a){this.data=new Uint8Array(a),this.index=0};e.prototype={append:function(a){0!==a.length&&(a=d.transformTo(\"uint8array\",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},b.exports=e},{\"./utils\":22}],21:[function(a,b,c){\"use strict\";for(var d=a(\"./utils\"),e=a(\"./support\"),f=a(\"./nodeBuffer\"),g=new Array(256),h=0;256>h;h++)g[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;g[254]=g[254]=1;var i=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=e.uint8array?new Uint8Array(i):new Array(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},j=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+g[a[c]]>b?c:b},k=function(a){var b,c,e,f,h=a.length,i=new Array(2*h);for(c=0,b=0;h>b;)if(e=a[b++],128>e)i[c++]=e;else if(f=g[e],f>4)i[c++]=65533,b+=f-1;else{for(e&=2===f?31:3===f?15:7;f>1&&h>b;)e=e<<6|63&a[b++],f--;f>1?i[c++]=65533:65536>e?i[c++]=e:(e-=65536,i[c++]=55296|e>>10&1023,i[c++]=56320|1023&e)}return i.length!==c&&(i.subarray?i=i.subarray(0,c):i.length=c),d.applyFromCharCode(i)};c.utf8encode=function(a){return e.nodebuffer?f(a,\"utf-8\"):i(a)},c.utf8decode=function(a){if(e.nodebuffer)return d.transformTo(\"nodebuffer\",a).toString(\"utf-8\");a=d.transformTo(e.uint8array?\"uint8array\":\"array\",a);for(var b=[],c=0,f=a.length,g=65536;f>c;){var h=j(a,Math.min(c+g,f));e.uint8array?b.push(k(a.subarray(c,h))):b.push(k(a.slice(c,h))),c=h}return b.join(\"\")}},{\"./nodeBuffer\":12,\"./support\":18,\"./utils\":22}],22:[function(a,b,c){\"use strict\";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=[],e=a.length,f=c.getTypeOf(a),g=0,h=!0;try{switch(f){case\"uint8array\":String.fromCharCode.apply(null,new Uint8Array(0));break;case\"nodebuffer\":String.fromCharCode.apply(null,j(0))}}catch(i){h=!1}if(!h){for(var k=\"\",l=0;l<a.length;l++)k+=String.fromCharCode(a[l]);return k}for(;e>g&&b>1;)try{\"array\"===f||\"nodebuffer\"===f?d.push(String.fromCharCode.apply(null,a.slice(g,Math.min(g+b,e)))):d.push(String.fromCharCode.apply(null,a.subarray(g,Math.min(g+b,e)))),g+=b}catch(i){b=Math.floor(b/2)}return d.join(\"\")}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a(\"./support\"),i=a(\"./compressions\"),j=a(\"./nodeBuffer\");c.string2binary=function(a){for(var b=\"\",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},c.arrayBuffer2Blob=function(a,b){c.checkSupport(\"blob\"),b=b||\"application/zip\";try{return new Blob([a],{type:b})}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;return f.append(a),f.getBlob(b)}catch(d){throw new Error(\"Bug : can't construct the Blob.\")}}},c.applyFromCharCode=f;var k={};k.string={string:d,array:function(a){return e(a,new Array(a.length))},arraybuffer:function(a){return k.string.uint8array(a).buffer},uint8array:function(a){return e(a,new Uint8Array(a.length))},nodebuffer:function(a){return e(a,j(a.length))}},k.array={string:f,array:d,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(a)}},k.arraybuffer={string:function(a){return f(new Uint8Array(a))},array:function(a){return g(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:d,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(new Uint8Array(a))}},k.uint8array={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:d,nodebuffer:function(a){return j(a)}},k.nodebuffer={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return k.nodebuffer.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:d},c.transformTo=function(a,b){if(b||(b=\"\"),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=k[d][a](b);return e},c.getTypeOf=function(a){return\"string\"==typeof a?\"string\":\"[object Array]\"===Object.prototype.toString.call(a)?\"array\":h.nodebuffer&&j.test(a)?\"nodebuffer\":h.uint8array&&a instanceof Uint8Array?\"uint8array\":h.arraybuffer&&a instanceof ArrayBuffer?\"arraybuffer\":void 0},c.checkSupport=function(a){var b=h[a.toLowerCase()];if(!b)throw new Error(a+\" is not supported by this browser\")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d=\"\";for(c=0;c<(a||\"\").length;c++)b=a.charCodeAt(c),d+=\"\\\\x\"+(16>b?\"0\":\"\")+b.toString(16).toUpperCase();return d},c.findCompression=function(a){for(var b in i)if(i.hasOwnProperty(b)&&i[b].magic===a)return i[b];return null},c.isRegExp=function(a){return\"[object RegExp]\"===Object.prototype.toString.call(a)},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&\"undefined\"==typeof c[b]&&(c[b]=arguments[a][b]);return c}},{\"./compressions\":4,\"./nodeBuffer\":12,\"./support\":18}],23:[function(a,b,c){\"use strict\";function d(a,b){this.files=[],this.loadOptions=b,a&&this.load(a)}var e=a(\"./stringReader\"),f=a(\"./nodeBufferReader\"),g=a(\"./uint8ArrayReader\"),h=a(\"./arrayReader\"),i=a(\"./utils\"),j=a(\"./signature\"),k=a(\"./zipEntry\"),l=a(\"./support\");a(\"./object\");d.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw new Error(\"Corrupted zip or bug : unexpected signature (\"+i.pretty(b)+\", expected \"+i.pretty(a)+\")\")},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4),e=d===b;return this.reader.setIndex(c),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=l.uint8array?\"uint8array\":\"array\",c=i.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44,e=0;d>e;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readString(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(j.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===j.CENTRAL_FILE_HEADER;)a=new k({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(j.CENTRAL_DIRECTORY_END);if(0>a){var b=!this.isSignature(0,j.LOCAL_FILE_HEADER);throw b?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip : can't find end of central directory\")}this.reader.setIndex(a);var c=a;if(this.checkSignature(j.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>a)throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(a),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,j.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip : can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(j.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var e=c-d;if(e>0)this.isSignature(c,j.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(0>e)throw new Error(\"Corrupted zip: missing \"+Math.abs(e)+\" bytes.\")},prepareReader:function(a){var b=i.getTypeOf(a);if(i.checkSupport(b),\"string\"!==b||l.uint8array)if(\"nodebuffer\"===b)this.reader=new f(a);else if(l.uint8array)this.reader=new g(i.transformTo(\"uint8array\",a));else{if(!l.array)throw new Error(\"Unexpected error: unsupported type '\"+b+\"'\");this.reader=new h(i.transformTo(\"array\",a))}else this.reader=new e(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=d},{\"./arrayReader\":1,\"./nodeBufferReader\":13,\"./object\":14,\"./signature\":15,\"./stringReader\":16,\"./support\":18,\"./uint8ArrayReader\":19,\"./utils\":22,\"./zipEntry\":24}],24:[function(a,b,c){\"use strict\";function d(a,b){this.options=a,this.loadOptions=b}var e=a(\"./stringReader\"),f=a(\"./utils\"),g=a(\"./compressedObject\"),h=a(\"./object\"),i=a(\"./support\"),j=0,k=3;d.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var e=a.readData(c);return a.setIndex(d),e}},prepareContent:function(a,b,c,d,e){return function(){var a=f.transformTo(d.uncompressInputType,this.getCompressedContent()),b=d.uncompress(a);if(b.length!==e)throw new Error(\"Bug : uncompressed data size mismatch\");return b}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)\");if(b=f.findCompression(this.compressionMethod),null===b)throw new Error(\"Corrupted zip : compression \"+f.pretty(this.compressionMethod)+\" unknown (inner file : \"+f.transformTo(\"string\",this.fileName)+\")\");if(this.decompressed=new g,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=f.transformTo(\"string\",this.decompressed.getContent()),\r\nh.crc32(this.decompressed)!==this.crc32))throw new Error(\"Corrupted zip : CRC32 mismatch\")},readCentralPart:function(a){if(this.versionMadeBy=a.readInt(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");this.fileName=a.readData(this.fileNameLength),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a===j&&(this.dosPermissions=63&this.externalFileAttributes),a===k&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var b=new e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index;for(this.extraFields=this.extraFields||{};a.index<e+this.extraFieldsLength;)b=a.readInt(2),c=a.readInt(2),d=a.readString(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){var a=i.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=f.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var e=f.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(e)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new e(a.value);return 1!==b.readInt(1)?null:h.crc32(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readString(a.length-5))}return null}},b.exports=d},{\"./compressedObject\":3,\"./object\":14,\"./stringReader\":16,\"./support\":18,\"./utils\":22}],25:[function(a,b,c){\"use strict\";var d=a(\"./lib/utils/common\").assign,e=a(\"./lib/deflate\"),f=a(\"./lib/inflate\"),g=a(\"./lib/zlib/constants\"),h={};d(h,e,f,g),b.exports=h},{\"./lib/deflate\":26,\"./lib/inflate\":27,\"./lib/utils/common\":28,\"./lib/zlib/constants\":31}],26:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=i.assign({level:s,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=h.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==p)throw new Error(k[c]);b.header&&h.deflateSetHeader(this.strm,b.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}function g(a,b){return b=b||{},b.gzip=!0,e(a,b)}var h=a(\"./zlib/deflate\"),i=a(\"./utils/common\"),j=a(\"./utils/strings\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=Object.prototype.toString,n=0,o=4,p=0,q=1,r=2,s=-1,t=0,u=8;d.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?o:n,\"string\"==typeof a?e.input=j.string2buf(a):\"[object ArrayBuffer]\"===m.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new i.Buf8(f),e.next_out=0,e.avail_out=f),c=h.deflate(e,d),c!==q&&c!==p)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||d!==o&&d!==r)||(\"string\"===this.options.to?this.onData(j.buf2binstring(i.shrinkBuf(e.output,e.next_out))):this.onData(i.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&c!==q);return d===o?(c=h.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===p):d===r?(this.onEnd(p),e.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===p&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=d,c.deflate=e,c.deflateRaw=f,c.gzip=g},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/deflate\":33,\"./zlib/messages\":38,\"./zlib/zstream\":40}],27:[function(a,b,c){\"use strict\";function d(a){if(!(this instanceof d))return new d(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:\"\"},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=g.inflateInit2(this.strm,b.windowBits);if(c!==j.Z_OK)throw new Error(k[c]);this.header=new m,g.inflateGetHeader(this.strm,this.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}var g=a(\"./zlib/inflate\"),h=a(\"./utils/common\"),i=a(\"./utils/strings\"),j=a(\"./zlib/constants\"),k=a(\"./zlib/messages\"),l=a(\"./zlib/zstream\"),m=a(\"./zlib/gzheader\"),n=Object.prototype.toString;d.prototype.push=function(a,b){var c,d,e,f,k,l=this.strm,m=this.options.chunkSize,o=!1;if(this.ended)return!1;d=b===~~b?b:b===!0?j.Z_FINISH:j.Z_NO_FLUSH,\"string\"==typeof a?l.input=i.binstring2buf(a):\"[object ArrayBuffer]\"===n.call(a)?l.input=new Uint8Array(a):l.input=a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new h.Buf8(m),l.next_out=0,l.avail_out=m),c=g.inflate(l,j.Z_NO_FLUSH),c===j.Z_BUF_ERROR&&o===!0&&(c=j.Z_OK,o=!1),c!==j.Z_STREAM_END&&c!==j.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&c!==j.Z_STREAM_END&&(0!==l.avail_in||d!==j.Z_FINISH&&d!==j.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(e=i.utf8border(l.output,l.next_out),f=l.next_out-e,k=i.buf2string(l.output,e),l.next_out=f,l.avail_out=m-f,f&&h.arraySet(l.output,l.output,e,f,0),this.onData(k)):this.onData(h.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(o=!0)}while((l.avail_in>0||0===l.avail_out)&&c!==j.Z_STREAM_END);return c===j.Z_STREAM_END&&(d=j.Z_FINISH),d===j.Z_FINISH?(c=g.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===j.Z_OK):d===j.Z_SYNC_FLUSH?(this.onEnd(j.Z_OK),l.avail_out=0,!0):!0},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===j.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=d,c.inflate=e,c.inflateRaw=f,c.ungzip=e},{\"./utils/common\":28,\"./utils/strings\":29,\"./zlib/constants\":31,\"./zlib/gzheader\":34,\"./zlib/inflate\":36,\"./zlib/messages\":38,\"./zlib/zstream\":40}],28:[function(a,b,c){\"use strict\";var d=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if(\"object\"!=typeof c)throw new TypeError(c+\"must be non-object\");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],29:[function(a,b,c){\"use strict\";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c=\"\",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a(\"./common\"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{\"./common\":28}],30:[function(a,b,c){\"use strict\";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],31:[function(a,b,c){\"use strict\";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],32:[function(a,b,c){\"use strict\";function d(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a^=-1;for(var h=d;g>h;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}var f=d();b.exports=e},{}],33:[function(a,b,c){\"use strict\";function d(a,b){return a.msg=H[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(D.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){E._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,D.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=F(a.adler,b,e,c):2===a.state.wrap&&(a.adler=G(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ka?a.strstart-(a.w_size-ka):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ja,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ja-(m-f),f=m-ja,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ka)){D.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ia)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ia-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ia)););}while(a.lookahead<ka&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===I)return ta;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return ta;if(a.strstart-a.block_start>=a.w_size-ka&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?ta:ta}function o(a,b){for(var c,d;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c)),a.match_length>=ia)if(d=E._tr_tally(a,a.strstart-a.match_start,a.match_length-ia),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ia){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function p(a,b){for(var c,d,e;;){if(a.lookahead<ka){if(m(a),a.lookahead<ka&&b===I)return ta;if(0===a.lookahead)break}if(c=0,a.lookahead>=ia&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ia-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ka&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===T||a.match_length===ia&&a.strstart-a.match_start>4096)&&(a.match_length=ia-1)),a.prev_length>=ia&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ia,d=E._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ia),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ia-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=ia-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return ta}else if(a.match_available){if(d=E._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return ta}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=E._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ia-1?a.strstart:ia-1,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ja){if(m(a),a.lookahead<=ja&&b===I)return ta;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ia&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ja;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ja-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ia?(c=E._tr_tally(a,1,a.match_length-ia),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===I)return ta;break}if(a.match_length=0,c=E._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return ta}return a.insert=0,b===L?(h(a,!0),0===a.strm.avail_out?va:wa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ta:ua}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=C[a.level].max_lazy,a.good_match=C[a.level].good_length,a.nice_match=C[a.level].nice_length,a.max_chain_length=C[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ia-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*ga),this.dyn_dtree=new D.Buf16(2*(2*ea+1)),this.bl_tree=new D.Buf16(2*(2*fa+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(ha+1),this.heap=new D.Buf16(2*da+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*da+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Y,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?ma:ra,a.adler=2===b.wrap?0:1,b.last_flush=I,E._tr_init(b),N):d(a,P)}function w(a){var b=v(a);return b===N&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?P:(a.state.gzhead=b,N):P}function y(a,b,c,e,f,g){if(!a)return P;var h=1;if(b===S&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>$||c!==Z||8>e||e>15||0>b||b>9||0>g||g>W)return d(a,P);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ia-1)/ia),i.window=new D.Buf8(2*i.w_size),i.head=new D.Buf16(i.hash_size),i.prev=new D.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new D.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,Z,_,aa,X)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>M||0>b)return a?d(a,P):P;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===sa&&b!==L)return d(a,0===a.avail_out?R:P);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===ma)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=G(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=na):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=U||h.level<2?4:0),i(h,xa),h.status=ra);else{var m=Z+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=U||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=la),m+=31-m%31,h.status=ra,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===na)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=pa)}else h.status=pa;if(h.status===pa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=G(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=qa)}else h.status=qa;if(h.status===qa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=ra)):h.status=ra),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,N}else if(0===a.avail_in&&e(b)<=e(c)&&b!==L)return d(a,R);if(h.status===sa&&0!==a.avail_in)return d(a,R);if(0!==a.avail_in||0!==h.lookahead||b!==I&&h.status!==sa){var o=h.strategy===U?r(h,b):h.strategy===V?q(h,b):C[h.level].func(h,b);if(o!==va&&o!==wa||(h.status=sa),o===ta||o===va)return 0===a.avail_out&&(h.last_flush=-1),N;if(o===ua&&(b===J?E._tr_align(h):b!==M&&(E._tr_stored_block(h,0,0,!1),b===K&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,N}return b!==L?N:h.wrap<=0?O:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?N:O)}function B(a){var b;return a&&a.state?(b=a.state.status,b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra&&b!==sa?d(a,P):(a.state=null,b===ra?d(a,Q):N)):P}var C,D=a(\"../utils/common\"),E=a(\"./trees\"),F=a(\"./adler32\"),G=a(\"./crc32\"),H=a(\"./messages\"),I=0,J=1,K=3,L=4,M=5,N=0,O=1,P=-2,Q=-3,R=-5,S=-1,T=1,U=2,V=3,W=4,X=0,Y=2,Z=8,$=9,_=15,aa=8,ba=29,ca=256,da=ca+1+ba,ea=30,fa=19,ga=2*da+1,ha=15,ia=3,ja=258,ka=ja+ia+1,la=32,ma=42,na=69,oa=73,pa=91,qa=103,ra=113,sa=666,ta=1,ua=2,va=3,wa=4,xa=3;C=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],c.deflateInit=z,c.deflateInit2=y,c.deflateReset=w,c.deflateResetKeep=v,c.deflateSetHeader=x,c.deflate=A,c.deflateEnd=B,c.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./messages\":38,\"./trees\":39}],34:[function(a,b,c){\"use strict\";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}b.exports=d},{}],35:[function(a,b,c){\"use strict\";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg=\"invalid literal/length code\",c.mode=d;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg=\"invalid distance code\",c.mode=d;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg=\"invalid distance too far back\",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],36:[function(a,b,c){\"use strict\";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg=\"\",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(oa),b.distcode=b.distdyn=new r.Buf32(pa),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sa=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new r.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg=\"incorrect header check\",c.mode=la;break}if((15&m)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(m>>>=4,n-=4,wa=(15&m)+8,0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg=\"invalid window size\",c.mode=la;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg=\"unknown compression method\",c.mode=la;break}if(57344&c.flags){a.msg=\"unknown header flags set\",c.mode=la;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=t(c.check,Ba,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){\r\nif(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg=\"header crc mismatch\",c.mode=la;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ia;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=ba,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg=\"invalid block type\",c.mode=la}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg=\"invalid stored block lengths\",c.mode=la;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg=\"too many length or distance symbols\",c.mode=la;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=v(w,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid code lengths set\",c.mode=la;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sa)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg=\"invalid bit length repeat\",c.mode=la;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg=\"invalid bit length repeat\",c.mode=la;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===la)break;if(0===c.lens[256]){a.msg=\"invalid code -- missing end-of-block\",c.mode=la;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg=\"invalid literal/lengths set\",c.mode=la;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg=\"invalid distances set\",c.mode=la;break}if(c.mode=ba,b===B)break a;case ba:c.mode=ca;case ca:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ha;break}if(32&ra){c.back=-1,c.mode=V;break}if(64&ra){a.msg=\"invalid literal/length code\",c.mode=la;break}c.extra=15&ra,c.mode=da;case da:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=ea;case ea:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg=\"invalid distance code\",c.mode=la;break}c.offset=sa,c.extra=15&ra,c.mode=fa;case fa:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg=\"invalid distance too far back\",c.mode=la;break}c.mode=ga;case ga:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg=\"invalid distance too far back\",c.mode=la;break}q>c.wnext?(q-=c.wnext,oa=c.wsize-q):oa=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,oa=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pa[oa++];while(--q);0===c.length&&(c.mode=ca);break;case ha:if(0===j)break a;f[h++]=c.length,j--,c.mode=ca;break;case ia:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg=\"incorrect data check\",c.mode=la;break}m=0,n=0}c.mode=ja;case ja:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg=\"incorrect length check\",c.mode=la;break}m=0,n=0}c.mode=ka;case ka:xa=D;break a;case la:xa=G;break a;case ma:return H;case na:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<la&&(c.mode<ia||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=ma,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===ba||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xa===C&&(xa=I),xa)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a(\"../utils/common\"),s=a(\"./adler32\"),t=a(\"./crc32\"),u=a(\"./inffast\"),v=a(\"./inftrees\"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,aa=19,ba=20,ca=21,da=22,ea=23,fa=24,ga=25,ha=26,ia=27,ja=28,ka=29,la=30,ma=31,na=32,oa=852,pa=592,qa=15,ra=qa,sa=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":28,\"./adler32\":30,\"./crc32\":32,\"./inffast\":35,\"./inftrees\":37}],37:[function(a,b,c){\"use strict\";var d=a(\"../utils/common\"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;e>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;e>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;e>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{\"../utils/common\":28}],38:[function(a,b,c){\"use strict\";b.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],39:[function(a,b,c){\"use strict\";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return 256>a?ia[a]:ia[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>X-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>X-a.bi_valid,a.bi_valid+=c-X):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;W>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;V>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(W+1),g=0;for(d=1;W>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(W+1);for(c=0,d=0;Q-1>d;d++)for(ka[d]=c,a=0;a<1<<ba[d];a++)ja[c++]=d;for(ja[c-1]=d,f=0,d=0;16>d;d++)for(la[d]=f,a=0;a<1<<ca[d];a++)ia[f++]=d;for(f>>=7;T>d;d++)for(la[d]=f<<7,a=0;a<1<<ca[d]-7;a++)ia[256+f++]=d;for(b=0;W>=b;b++)g[b]=0;for(a=0;143>=a;)ga[2*a+1]=8,a++,g[8]++;for(;255>=a;)ga[2*a+1]=9,a++,g[9]++;for(;279>=a;)ga[2*a+1]=7,a++,g[7]++;for(;287>=a;)ga[2*a+1]=8,a++,g[8]++;for(n(ga,S+1,g),a=0;T>a;a++)ha[2*a+1]=5,ha[2*a]=k(a,5);ma=new e(ga,ba,R+1,S,W),na=new e(ha,ca,0,T,W),oa=new e(new Array(0),da,0,U,Y)}function p(a){var b;for(b=0;S>b;b++)a.dyn_ltree[2*b]=0;for(b=0;T>b;b++)a.dyn_dtree[2*b]=0;for(b=0;U>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*Z]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ja[e],j(a,f+R+1,b),h=ba[f],0!==h&&(e-=ka[f],i(a,e,h)),d--,f=g(d),j(a,f,c),h=ca[f],0!==h&&(d-=la[f],i(a,d,h)));while(k<a.last_lit);j(a,Z,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=V,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*$]++):10>=h?a.bl_tree[2*_]++:a.bl_tree[2*aa]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;c>=d;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(l>h){do j(a,e,a.bl_tree);while(0!==--h)}else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,$,a.bl_tree),i(a,h-3,2)):10>=h?(j(a,_,a.bl_tree),i(a,h-3,3)):(j(a,aa,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=U-1;b>=3&&0===a.bl_tree[2*ea[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;d>e;e++)i(a,a.bl_tree[2*ea[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;R>b;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){pa||(o(),pa=!0),a.l_desc=new f(a.dyn_ltree,ma),a.d_desc=new f(a.dyn_dtree,na),a.bl_desc=new f(a.bl_tree,oa),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,Z,ga),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,ga,ha)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ja[c]+R+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=a(\"../utils/common\"),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=3,P=258,Q=29,R=256,S=R+1+Q,T=30,U=19,V=2*S+1,W=15,X=16,Y=7,Z=256,$=16,_=17,aa=18,ba=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ca=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],da=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ea=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fa=512,ga=new Array(2*(S+2));d(ga);var ha=new Array(2*T);d(ha);var ia=new Array(fa);d(ia);var ja=new Array(P-O+1);d(ja);var ka=new Array(Q);d(ka);var la=new Array(T);d(la);var ma,na,oa,pa=!1;c._tr_init=B,c._tr_stored_block=C,c._tr_flush_block=E,c._tr_tally=F,c._tr_align=D},{\"../utils/common\":28}],40:[function(a,b,c){\"use strict\";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}]},{},[10])(10)});\r\nexport var JSZip = window.JSZip;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/libs/jszip.module.min.js","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tSpherical,\r\n\tTOUCH,\r\n\tVector2,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nvar OrbitControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.05;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.panSpeed = 1.0;\r\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\r\n\r\n\t// Touch fingers\r\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().invert();\r\n\r\n\t\tvar lastPosition = new Vector3();\r\n\t\tvar lastQuaternion = new Quaternion();\r\n\r\n\t\tvar twoPI = 2 * Math.PI;\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\r\n\t\t\tvar min = scope.minAzimuthAngle;\r\n\t\t\tvar max = scope.maxAzimuthAngle;\r\n\r\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\r\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\tif ( min <= max ) {\r\n\r\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\r\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\r\n\t\t\t\t\t\tMath.min( max, spherical.theta );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = {\r\n\t\tNONE: - 1,\r\n\t\tROTATE: 0,\r\n\t\tDOLLY: 1,\r\n\t\tPAN: 2,\r\n\t\tTOUCH_ROTATE: 3,\r\n\t\tTOUCH_PAN: 4,\r\n\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t};\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new Spherical();\r\n\tvar sphericalDelta = new Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new Vector2();\r\n\tvar rotateEnd = new Vector2();\r\n\tvar rotateDelta = new Vector2();\r\n\r\n\tvar panStart = new Vector2();\r\n\tvar panEnd = new Vector2();\r\n\tvar panDelta = new Vector2();\r\n\r\n\tvar dollyStart = new Vector2();\r\n\tvar dollyEnd = new Vector2();\r\n\tvar dollyDelta = new Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\tvar needsUpdate = false;\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\t// Prevent the browser from scrolling.\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Manually set the focus since calling preventDefault above\r\n\t\t// prevents the browser from setting it automatically.\r\n\r\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\r\n\r\n\t\tvar mouseAction;\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase 0:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\tcase MOUSE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.ROTATE:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.PAN:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\tcase TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nvar MapControls = function ( object, domElement ) {\r\n\r\n\tOrbitControls.call( this, object, domElement );\r\n\r\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\r\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n\r\n\tthis.touches.ONE = TOUCH.PAN;\r\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\r\n\r\n};\r\n\r\nMapControls.prototype = Object.create( EventDispatcher.prototype );\r\nMapControls.prototype.constructor = MapControls;\r\n\r\nexport { OrbitControls, MapControls };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/controls/OrbitControls.js","// http://mrl.nyu.edu/~perlin/noise/\r\n\r\nvar ImprovedNoise = function () {\r\n\r\n\tvar p = [ 151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10,\r\n\t\t 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87,\r\n\t\t 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211,\r\n\t\t 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208,\r\n\t\t 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5,\r\n\t\t 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119,\r\n\t\t 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232,\r\n\t\t 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249,\r\n\t\t 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205,\r\n\t\t 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180 ];\r\n\r\n\tfor ( var i = 0; i < 256; i ++ ) {\r\n\r\n\t\tp[ 256 + i ] = p[ i ];\r\n\r\n\t}\r\n\r\n\tfunction fade( t ) {\r\n\r\n\t\treturn t * t * t * ( t * ( t * 6 - 15 ) + 10 );\r\n\r\n\t}\r\n\r\n\tfunction lerp( t, a, b ) {\r\n\r\n\t\treturn a + t * ( b - a );\r\n\r\n\t}\r\n\r\n\tfunction grad( hash, x, y, z ) {\r\n\r\n\t\tvar h = hash & 15;\r\n\t\tvar u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\r\n\t\treturn ( ( h & 1 ) == 0 ? u : - u ) + ( ( h & 2 ) == 0 ? v : - v );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tnoise: function ( x, y, z ) {\r\n\r\n\t\t\tvar floorX = Math.floor( x ), floorY = Math.floor( y ), floorZ = Math.floor( z );\r\n\r\n\t\t\tvar X = floorX & 255, Y = floorY & 255, Z = floorZ & 255;\r\n\r\n\t\t\tx -= floorX;\r\n\t\t\ty -= floorY;\r\n\t\t\tz -= floorZ;\r\n\r\n\t\t\tvar xMinus1 = x - 1, yMinus1 = y - 1, zMinus1 = z - 1;\r\n\r\n\t\t\tvar u = fade( x ), v = fade( y ), w = fade( z );\r\n\r\n\t\t\tvar A = p[ X ] + Y, AA = p[ A ] + Z, AB = p[ A + 1 ] + Z, B = p[ X + 1 ] + Y, BA = p[ B ] + Z, BB = p[ B + 1 ] + Z;\r\n\r\n\t\t\treturn lerp( w, lerp( v, lerp( u, grad( p[ AA ], x, y, z ),\r\n\t\t\t\tgrad( p[ BA ], xMinus1, y, z ) ),\r\n\t\t\tlerp( u, grad( p[ AB ], x, yMinus1, z ),\r\n\t\t\t\tgrad( p[ BB ], xMinus1, yMinus1, z ) ) ),\r\n\t\t\tlerp( v, lerp( u, grad( p[ AA + 1 ], x, y, zMinus1 ),\r\n\t\t\t\tgrad( p[ BA + 1 ], xMinus1, y, zMinus1 ) ),\r\n\t\t\tlerp( u, grad( p[ AB + 1 ], x, yMinus1, zMinus1 ),\r\n\t\t\t\tgrad( p[ BB + 1 ], xMinus1, yMinus1, zMinus1 ) ) ) );\r\n\r\n\t\t}\r\n\t};\r\n\r\n};\r\n\r\nexport { ImprovedNoise };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/math/ImprovedNoise.js","import { TempNode } from '../core/TempNode.js';\r\nimport { PositionNode } from './PositionNode.js';\r\nimport { NormalNode } from './NormalNode.js';\r\n\r\nfunction ReflectNode( scope ) {\r\n\r\n\tTempNode.call( this, 'v3' );\r\n\r\n\tthis.scope = scope || ReflectNode.CUBE;\r\n\r\n}\r\n\r\nReflectNode.CUBE = 'cube';\r\nReflectNode.SPHERE = 'sphere';\r\nReflectNode.VECTOR = 'vector';\r\n\r\nReflectNode.prototype = Object.create( TempNode.prototype );\r\nReflectNode.prototype.constructor = ReflectNode;\r\nReflectNode.prototype.nodeType = \"Reflect\";\r\n\r\nReflectNode.prototype.getUnique = function ( builder ) {\r\n\r\n\treturn ! builder.context.viewNormal;\r\n\r\n};\r\n\r\nReflectNode.prototype.getType = function ( /* builder */ ) {\r\n\r\n\tswitch ( this.scope ) {\r\n\r\n\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\treturn 'v2';\r\n\r\n\t}\r\n\r\n\treturn this.type;\r\n\r\n};\r\n\r\nReflectNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tvar isUnique = this.getUnique( builder );\r\n\r\n\tif ( builder.isShader( 'fragment' ) ) {\r\n\r\n\t\tvar result;\r\n\r\n\t\tswitch ( this.scope ) {\r\n\r\n\t\t\tcase ReflectNode.VECTOR:\r\n\r\n\t\t\t\tvar viewNormalNode = new NormalNode( NormalNode.VIEW );\r\n\t\t\t\tvar roughnessNode = builder.context.roughness;\r\n\r\n\t\t\t\tvar viewNormal = viewNormalNode.build( builder, 'v3' );\r\n\t\t\t\tvar viewPosition = new PositionNode( PositionNode.VIEW ).build( builder, 'v3' );\r\n\t\t\t\tvar roughness = roughnessNode ? roughnessNode.build( builder, 'f' ) : undefined;\r\n\r\n\t\t\t\tvar method = `reflect( -normalize( ${viewPosition} ), ${viewNormal} )`;\r\n\r\n\t\t\t\tif ( roughness ) {\r\n\r\n\t\t\t\t\t// Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\r\n\t\t\t\t\tmethod = `normalize( mix( ${method}, ${viewNormal}, ${roughness} * ${roughness} ) )`;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar code = `inverseTransformDirection( ${method}, viewMatrix )`;\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.CUBE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'vec3( -' + reflectVec + '.x, ' + reflectVec + '.yz )';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec3 reflectCubeVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectCubeVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ReflectNode.SPHERE:\r\n\r\n\t\t\t\tvar reflectVec = new ReflectNode( ReflectNode.VECTOR ).build( builder, 'v3' );\r\n\r\n\t\t\t\tvar code = 'normalize( ( viewMatrix * vec4( ' + reflectVec + ', 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5';\r\n\r\n\t\t\t\tif ( isUnique ) {\r\n\r\n\t\t\t\t\tbuilder.addNodeCode( `vec2 reflectSphereVec = ${code};` );\r\n\r\n\t\t\t\t\tresult = 'reflectSphereVec';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = code;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n\t} else {\r\n\r\n\t\tconsole.warn( \"THREE.ReflectNode is not compatible with \" + builder.shader + \" shader.\" );\r\n\r\n\t\treturn builder.format( 'vec3( 0.0 )', this.type, output );\r\n\r\n\t}\r\n\r\n};\r\n\r\nReflectNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.scope = this.scope;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nexport { ReflectNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/ReflectNode.js","import {\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tGroup,\r\n\tLineBasicMaterial,\r\n\tLineSegments,\r\n\tLoader,\r\n\tMaterial,\r\n\tMesh,\r\n\tMeshPhongMaterial,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar OBJLoader = ( function () {\r\n\r\n\t// o object_name | g group_name\r\n\tvar object_pattern = /^[og]\\s*(.+)?/;\r\n\t// mtllib file_reference\r\n\tvar material_library_pattern = /^mtllib /;\r\n\t// usemtl material_name\r\n\tvar material_use_pattern = /^usemtl /;\r\n\t// usemap map_name\r\n\tvar map_use_pattern = /^usemap /;\r\n\r\n\tvar vA = new Vector3();\r\n\tvar vB = new Vector3();\r\n\tvar vC = new Vector3();\r\n\r\n\tvar ab = new Vector3();\r\n\tvar cb = new Vector3();\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects: [],\r\n\t\t\tobject: {},\r\n\r\n\t\t\tvertices: [],\r\n\t\t\tnormals: [],\r\n\t\t\tcolors: [],\r\n\t\t\tuvs: [],\r\n\r\n\t\t\tmaterials: {},\r\n\t\t\tmaterialLibraries: [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname: name || '',\r\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\tvertices: [],\r\n\t\t\t\t\t\tnormals: [],\r\n\t\t\t\t\t\tcolors: [],\r\n\t\t\t\t\t\tuvs: [],\r\n\t\t\t\t\t\thasUVIndices: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials: [],\r\n\t\t\t\t\tsmooth: true,\r\n\r\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex: this.materials.length,\r\n\t\t\t\t\t\t\tname: name || '',\r\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\tinherited: false,\r\n\r\n\t\t\t\t\t\t\tclone: function ( index ) {\r\n\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\t\t\tinherited: false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize: function ( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push( {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tsmooth: this.smooth\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexPoint: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFaceNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tvA.fromArray( src, a );\r\n\t\t\t\tvB.fromArray( src, b );\r\n\t\t\t\tvC.fromArray( src, c );\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tcb.normalize();\r\n\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddColor: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.colors;\r\n\t\t\t\tvar dst = this.object.geometry.colors;\r\n\r\n\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddDefaultUV: function () {\r\n\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\r\n\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\t\t\t\tthis.addColor( ia, ib, ic );\r\n\r\n\t\t\t\t// normals\r\n\r\n\t\t\t\tif ( na !== undefined && na !== '' ) {\r\n\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uvs\r\n\r\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\r\n\r\n\t\t\t\t\tthis.addDefaultUV();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddPointGeometry: function ( vertices ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Points';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction OBJLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.materials = null;\r\n\r\n\t}\r\n\r\n\tOBJLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: OBJLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetMaterials: function ( materials ) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( text ) {\r\n\r\n\t\t\tvar state = new ParserState();\r\n\r\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = text.split( '\\n' );\r\n\t\t\tvar line = '', lineFirstChar = '';\r\n\t\t\tvar lineLength = 0;\r\n\t\t\tvar result = [];\r\n\r\n\t\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tline = lines[ i ];\r\n\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\t\tlineLength = line.length;\r\n\r\n\t\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t\t// @todo invoke passed in handler if any\r\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\t\tvar data = line.split( /\\s+/ );\r\n\r\n\t\t\t\t\tswitch ( data[ 0 ] ) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif ( data.length >= 7 ) {\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push(\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\r\n\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\r\n\t\t\t\t\tvar faceVertices = [];\r\n\r\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\r\n\r\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\r\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\r\n\r\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\r\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\r\n\r\n\t\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\r\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\r\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\r\n\r\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\r\n\r\n\t\t\t\t\tstate.addPointGeometry( pointData );\r\n\r\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// material\r\n\r\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\r\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t\t} else if ( map_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\r\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\r\n\r\n\t\t\t\t\tresult = line.split( ' ' );\r\n\r\n\t\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t\t\t * or\r\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t\t\t * than 0.\"\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( result.length > 1 ) {\r\n\r\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\r\n\t\t\tvar container = new Group();\r\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar object = state.objects[ i ];\r\n\t\t\t\tvar geometry = object.geometry;\r\n\t\t\t\tvar materials = object.materials;\r\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\r\n\t\t\t\tvar hasVertexColors = false;\r\n\r\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\t\tvar buffergeometry = new BufferGeometry();\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\r\n\r\n\t\t\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\t\t\thasVertexColors = true;\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\r\n\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create materials\r\n\r\n\t\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\tvar materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\r\n\t\t\t\t\tvar material = state.materials[ materialHash ];\r\n\r\n\t\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialLine = new LineBasicMaterial();\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\r\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\r\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\r\n\t\t\t\t\t\t\tmaterial = materialPoints;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( material === undefined ) {\r\n\r\n\t\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\r\n\r\n\t\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\r\n\r\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreatedMaterials.push( material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = object.name;\r\n\r\n\t\t\t\tcontainer.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn OBJLoader;\r\n\r\n} )();\r\n\r\nexport { OBJLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/OBJLoader.js","import { TempNode } from '../core/TempNode.js';\r\nimport { NodeLib } from '../core/NodeLib.js';\r\n\r\nfunction UVNode( index ) {\r\n\r\n\tTempNode.call( this, 'v2', { shared: false } );\r\n\r\n\tthis.index = index || 0;\r\n\r\n}\r\n\r\nUVNode.prototype = Object.create( TempNode.prototype );\r\nUVNode.prototype.constructor = UVNode;\r\nUVNode.prototype.nodeType = \"UV\";\r\n\r\nUVNode.prototype.generate = function ( builder, output ) {\r\n\r\n\tbuilder.requires.uv[ this.index ] = true;\r\n\r\n\tvar uvIndex = this.index > 0 ? this.index + 1 : '';\r\n\tvar result = builder.isShader( 'vertex' ) ? 'uv' + uvIndex : 'vUv' + uvIndex;\r\n\r\n\treturn builder.format( result, this.getType( builder ), output );\r\n\r\n};\r\n\r\nUVNode.prototype.copy = function ( source ) {\r\n\r\n\tTempNode.prototype.copy.call( this, source );\r\n\r\n\tthis.index = source.index;\r\n\r\n\treturn this;\r\n\r\n};\r\n\r\nUVNode.prototype.toJSON = function ( meta ) {\r\n\r\n\tvar data = this.getJSONNode( meta );\r\n\r\n\tif ( ! data ) {\r\n\r\n\t\tdata = this.createJSONNode( meta );\r\n\r\n\t\tdata.index = this.index;\r\n\r\n\t}\r\n\r\n\treturn data;\r\n\r\n};\r\n\r\nNodeLib.addKeyword( 'uv', function () {\r\n\r\n\treturn new UVNode();\r\n\r\n} );\r\n\r\nNodeLib.addKeyword( 'uv2', function () {\r\n\r\n\treturn new UVNode( 1 );\r\n\r\n} );\r\n\r\nexport { UVNode };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/nodes/accessors/UVNode.js"],"sourceRoot":""}