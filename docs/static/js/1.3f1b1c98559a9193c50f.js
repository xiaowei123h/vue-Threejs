webpackJsonp([1],{"9Bae":function(e,t){},"FPr+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("85s5"),r=i("Z9IJ"),a=i("fD1D"),n=i("KXdl"),o=i("sD7D"),h=i("6+nK"),v=i("Ah8h"),c=i("kMF6"),l=function(e,t,i){v.a.call(this),void 0===c.a&&console.error("DotScreenPass relies on DotScreenShader");var s=c.a;this.uniforms=h._101.clone(s.uniforms),void 0!==e&&this.uniforms.center.value.copy(e),void 0!==t&&(this.uniforms.angle.value=t),void 0!==i&&(this.uniforms.scale.value=i),this.material=new h._79({uniforms:this.uniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader}),this.fsQuad=new v.a.FullScreenQuad(this.material)};l.prototype=Object.assign(Object.create(v.a.prototype),{constructor:l,render:function(e,t,i){this.uniforms.tDiffuse.value=i.texture,this.uniforms.tSize.value.set(i.width,i.height),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))}});var d=i("PMB9"),u=i("YsLa"),m=i("q7ke"),f={uniforms:{tDiffuse:{value:null},color:{value:new h.r(16777215)}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tgl_FragColor = vec4( v * color, texel.w );","}"].join("\n")},g=i("mMq2"),p=i("LjgP"),w={uniforms:{tDiffuse:{value:null},amount:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float amount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 color = texture2D( tDiffuse, vUv );","\tvec3 c = color.rgb;","\tcolor.r = dot( c, vec3( 1.0 - 0.607 * amount, 0.769 * amount, 0.189 * amount ) );","\tcolor.g = dot( c, vec3( 0.349 * amount, 1.0 - 0.314 * amount, 0.168 * amount ) );","\tcolor.b = dot( c, vec3( 0.272 * amount, 0.534 * amount, 1.0 - 0.869 * amount ) );","\tgl_FragColor = vec4( min( vec3( 1.0 ), color.rgb ), color.a );","}"].join("\n")},x={uniforms:{tDiffuse:{value:null},offset:{value:1},darkness:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float offset;","uniform float darkness;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );","\tgl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );","}"].join("\n")},D=i("IPH8"),E=i("qxm1"),U={data:function(){return{container:null,stats:null,composerScene:null,composer1:null,composer2:null,composer3:null,composer4:null,cameraOrtho:null,cameraPerspective:null,sceneModel:null,sceneBG:null,renderer:null,mesh:null,directionalLight:null,width:null,height:null,halfWidth:null,halfHeight:null,quadBG:null,quadMask:null,renderScene:null,delta:.01}},mounted:function(){this.width=this.$webglInnerWidth||2,this.height=window.innerHeight||2,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.init(),this.animate()},methods:{init:function(){var e=this;this.container=document.getElementById("container"),this.cameraOrtho=new this.$THREE.OrthographicCamera(-this.halfWidth,this.halfWidth,this.halfHeight,-this.halfHeight,-1e4,1e4),this.cameraOrtho.position.z=100,this.cameraPerspective=new this.$THREE.PerspectiveCamera(50,this.width/this.height,1,1e4),this.cameraPerspective.position.z=900,this.sceneModel=new this.$THREE.Scene,this.sceneBG=new this.$THREE.Scene,this.directionalLight=new this.$THREE.DirectionalLight(16777215),this.directionalLight.position.set(0,-.1,1).normalize(),this.sceneModel.add(this.directionalLight),(new E.a).load("static/models/gltf/LeePerrySmith/LeePerrySmith.glb",function(t){e.createMesh(t.scene.children[0].geometry,e.sceneModel,100)});var t=(new this.$THREE.TextureLoader).load("static/textures/cube/SwedishRoyalCastle/pz.jpg");t.encoding=this.$THREE.sRGBEncoding;var i=new this.$THREE.MeshBasicMaterial({map:t,depthTest:!1});this.quadBG=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(1,1),i),this.quadBG.position.z=-500,this.quadBG.scale.set(this.width,this.height,1),this.sceneBG.add(this.quadBG);var h=new this.$THREE.Scene;this.quadMask=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(1,1),new this.$THREE.MeshBasicMaterial({color:16755200})),this.quadMask.position.z=-300,this.quadMask.scale.set(this.width/2,this.height/2,1),h.add(this.quadMask),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.autoClear=!1,this.container.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom);var v=m.a,c=w,U=x,P=new a.a(v),S=new a.a(c),H=new a.a(U),y=new a.a(D.a);P.uniforms.opacity.value=.95,S.uniforms.amount.value=.9,H.uniforms.offset.value=.95,H.uniforms.darkness.value=1.6;var R=new n.a(.5),T=new o.a(.35,.025,648,!1),M=new o.a(.35,.5,2048,!0),b=new l(new this.$THREE.Vector2(0,0),.5,.8),$=new a.a(g.a),_=new a.a(p.a);$.uniforms.h.value=2/(this.width/2),_.uniforms.v.value=2/(this.height/2);var j=new a.a(f),W=new a.a(f);j.uniforms.color=new this.$THREE.Uniform(new this.$THREE.Color(1,.8,.8)),W.uniforms.color=new this.$THREE.Uniform(new this.$THREE.Color(1,.75,.5));var L=new d.a,B=new d.b(this.sceneModel,this.cameraPerspective),G=new d.b(this.sceneModel,this.cameraPerspective);G.inverse=!0;var z={minFilter:this.$THREE.LinearFilter,magFilter:this.$THREE.LinearFilter,format:this.$THREE.RGBFormat,stencilBuffer:!0},C=this.width/2,q=this.height/2,F=new r.a(this.sceneBG,this.cameraOrtho),k=new r.a(this.sceneModel,this.cameraPerspective);k.clear=!1,this.composerScene=new s.a(this.renderer,new this.$THREE.WebGLRenderTarget(2*C,2*q,z)),this.composerScene.addPass(F),this.composerScene.addPass(k),this.composerScene.addPass(G),this.composerScene.addPass($),this.composerScene.addPass(_),this.composerScene.addPass(L),this.renderScene=new u.a(this.composerScene.renderTarget2.texture),this.composer1=new s.a(this.renderer,new this.$THREE.WebGLRenderTarget(C,q,z)),this.composer1.addPass(this.renderScene),this.composer1.addPass(y),this.composer1.addPass(M),this.composer1.addPass(H),this.composer2=new s.a(this.renderer,new this.$THREE.WebGLRenderTarget(C,q,z)),this.composer2.addPass(this.renderScene),this.composer2.addPass(y),this.composer2.addPass(b),this.composer2.addPass(B),this.composer2.addPass(j),this.composer2.addPass(L),this.composer2.addPass(G),this.composer2.addPass(W),this.composer2.addPass(L),this.composer2.addPass(H),this.composer3=new s.a(this.renderer,new this.$THREE.WebGLRenderTarget(C,q,z)),this.composer3.addPass(this.renderScene),this.composer3.addPass(y),this.composer3.addPass(S),this.composer3.addPass(T),this.composer3.addPass(H),this.composer4=new s.a(this.renderer,new this.$THREE.WebGLRenderTarget(C,q,z)),this.composer4.addPass(this.renderScene),this.composer4.addPass(y),this.composer4.addPass(R),this.composer4.addPass(T),this.composer4.addPass(P),this.composer4.addPass(H),this.renderScene.uniforms.tDiffuse.value=this.composerScene.renderTarget2.texture,window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.halfWidth=(window.innerWidth-281)/2,this.halfHeight=window.innerHeight/2,this.cameraPerspective.aspect=(window.innerWidth-281)/window.innerHeight,this.cameraPerspective.updateProjectionMatrix(),this.cameraOrtho.left=-this.halfWidth,this.cameraOrtho.right=this.halfWidth,this.cameraOrtho.top=this.halfHeight,this.cameraOrtho.bottom=-this.halfHeight,this.cameraOrtho.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth-281,window.innerHeight),this.composerScene.setSize(2*this.halfWidth,2*this.halfHeight),this.composer1.setSize(this.halfWidth,this.halfHeight),this.composer2.setSize(this.halfWidth,this.halfHeight),this.composer3.setSize(this.halfWidth,this.halfHeight),this.composer4.setSize(this.halfWidth,this.halfHeight),this.renderScene.uniforms.tDiffuse.value=this.composerScene.renderTarget2.texture,this.quadBG.scale.set(window.innerWidth-281,window.innerHeight,1),this.quadMask.scale.set((window.innerWidth-281)/2,window.innerHeight/2,1)},createMesh:function(e,t,i){var s=(new this.$THREE.TextureLoader).load("static/models/gltf/LeePerrySmith/Map-COL.jpg");s.encoding=this.$THREE.sRGBEncoding;var r=new this.$THREE.MeshPhongMaterial({color:10066329,specular:526344,shininess:20,map:s,normalMap:(new this.$THREE.TextureLoader).load("static/models/gltf/LeePerrySmith/Infinite-Level_02_Tangent_SmoothUV.jpg"),normalScale:new this.$THREE.Vector2(.75,.75)});this.mesh=new this.$THREE.Mesh(e,r),this.mesh.position.set(0,-50,0),this.mesh.scale.set(i,i,i),t.add(this.mesh)},animate:function(){requestAnimationFrame(this.animate),this.stats.begin(),this.render(),this.stats.end()},render:function(){var e=4e-4*Date.now();this.mesh&&(this.mesh.rotation.y=-e),this.renderer.setViewport(0,0,this.halfWidth,this.halfHeight),this.composerScene.render(this.delta),this.renderer.setViewport(0,0,this.halfWidth,this.halfHeight),this.composer1.render(this.delta),this.renderer.setViewport(this.halfWidth,0,this.halfWidth,this.halfHeight),this.composer2.render(this.delta),this.renderer.setViewport(0,this.halfHeight,this.halfWidth,this.halfHeight),this.composer3.render(this.delta),this.renderer.setViewport(this.halfWidth,this.halfHeight,this.halfWidth,this.halfHeight),this.composer4.render(this.delta)}}},P={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglPostprocessingAdvanced-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - webgl postprocessing example"),t("br"),this._v(" "),t("a",{attrs:{href:"http://g3d.cs.williams.edu/g3d/data10/index.html#mesh19",target:"_blank",rel:"noopener"}},[this._v("Lee Perry-Smith")]),this._v(" head\n\t\t")]),this._v(" "),t("div",{attrs:{id:"container"}})])}]};var S=i("VU/8")(U,P,!1,function(e){i("9Bae")},"data-v-e97ad014",null);t.default=S.exports},LjgP:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n")}},kMF6:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var s=i("6+nK"),r={uniforms:{tDiffuse:{value:null},tSize:{value:new s._104(256,256)},center:{value:new s._104(.5,.5)},angle:{value:1.57},scale:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec2 center;","uniform float angle;","uniform float scale;","uniform vec2 tSize;","uniform sampler2D tDiffuse;","varying vec2 vUv;","float pattern() {","\tfloat s = sin( angle ), c = cos( angle );","\tvec2 tex = vUv * tSize - center;","\tvec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;","\treturn ( sin( point.x ) * sin( point.y ) ) * 4.0;","}","void main() {","\tvec4 color = texture2D( tDiffuse, vUv );","\tfloat average = ( color.r + color.g + color.b ) / 3.0;","\tgl_FragColor = vec4( vec3( average * 10.0 - 5.0 + pattern() ), color.a );","}"].join("\n")}},mMq2:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n")}},q7ke:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 base = texture2D( tDiffuse, vUv );","\tvec3 lumCoeff = vec3( 0.25, 0.65, 0.1 );","\tfloat lum = dot( lumCoeff, base.rgb );","\tvec3 blend = vec3( lum );","\tfloat L = min( 1.0, max( 0.0, 10.0 * ( lum - 0.45 ) ) );","\tvec3 result1 = 2.0 * base.rgb * blend;","\tvec3 result2 = 1.0 - 2.0 * ( 1.0 - blend ) * ( 1.0 - base.rgb );","\tvec3 newColor = mix( result1, result2, L );","\tfloat A2 = opacity * base.a;","\tvec3 mixRGB = A2 * newColor.rgb;","\tmixRGB += ( ( 1.0 - A2 ) * base.rgb );","\tgl_FragColor = vec4( mixRGB, base.a );","}"].join("\n")}}});
//# sourceMappingURL=1.3f1b1c98559a9193c50f.js.map