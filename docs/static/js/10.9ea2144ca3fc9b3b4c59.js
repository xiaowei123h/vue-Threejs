webpackJsonp([10],{PiRq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("VNKA"),s={data:function(){return{container:null,stats:null,camera:null,scene:null,renderer:null,pointLight:null,mouseX:0,mouseY:0,windowHalfX:null,windowHalfY:null}},mounted:function(){this.windowHalfX=this.$webglInnerWidth/2,this.windowHalfY=window.innerHeight/2,this.init(),this.animate()},methods:{init:function(){var e=this;this.container=document.createElement("div"),document.getElementsByClassName("webglMaterialsCubemapRefraction-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,1,1e5),this.camera.position.z=-4e3;var t="static/textures/cube/Park3Med/",n=[t+"px.jpg",t+"nx.jpg",t+"py.jpg",t+"ny.jpg",t+"pz.jpg",t+"nz.jpg"],s=(new this.$THREE.CubeTextureLoader).load(n);s.mapping=this.$THREE.CubeRefractionMapping,this.scene=new this.$THREE.Scene,this.scene.background=s;var r=new this.$THREE.AmbientLight(16777215);this.scene.add(r),this.pointLight=new this.$THREE.PointLight(16777215,2),this.scene.add(this.pointLight);var a=new this.$THREE.SphereBufferGeometry(100,16,8),o=new this.$THREE.Mesh(a,new this.$THREE.MeshBasicMaterial({color:16777215}));o.scale.set(.05,.05,.05),this.pointLight.add(o);var c=new this.$THREE.MeshPhongMaterial({color:13426175,envMap:s,refractionRatio:.98,reflectivity:.9}),h=new this.$THREE.MeshPhongMaterial({color:13434877,envMap:s,refractionRatio:.985}),u=new this.$THREE.MeshPhongMaterial({color:16777215,envMap:s,refractionRatio:.98});this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),(new i.a).load("static/models/ply/binary/Lucy100k.ply",function(t){e.createScene(t,u,h,c)}),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.windowHalfX=(window.innerWidth-281)/2,this.windowHalfY=window.innerHeight/2,this.$onWindowResize(this.camera,this.renderer)},createScene:function(e,t,n,i){e.computeVertexNormals();var s=new this.$THREE.Mesh(e,t);s.scale.x=s.scale.y=s.scale.z=1.5,this.scene.add(s),(s=new this.$THREE.Mesh(e,n)).position.x=-1500,s.scale.x=s.scale.y=s.scale.z=1.5,this.scene.add(s),(s=new this.$THREE.Mesh(e,i)).position.x=1500,s.scale.x=s.scale.y=s.scale.z=1.5,this.scene.add(s)},onDocumentMouseMove:function(e){this.mouseX=4*(e.clientX-this.windowHalfX),this.mouseY=4*(e.clientY-this.windowHalfY)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var e=-2e-4*Date.now();this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position),this.pointLight.position.x=1500*Math.cos(e),this.pointLight.position.z=1500*Math.sin(e),this.renderer.render(this.scene,this.camera)}}},r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMaterialsCubemapRefraction-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org"}},[this._v("Three.js")]),this._v(" cube map refraction demo"),t("br"),this._v("\n\t\t\tLucy model from\n            "),t("a",{attrs:{href:"http://graphics.stanford.edu/data/3Dscanrep/"}},[this._v("Stanford 3d scanning repository")]),t("br"),this._v("\n\t\t\tTexture by "),t("a",{attrs:{href:"http://www.humus.name/index.php?page=Textures",target:"_blank",rel:"noopener"}},[this._v("Humus")])])])}]};var a=n("VU/8")(s,r,!1,function(e){n("sLtA")},"data-v-a4234ee8",null);t.default=a.exports},VNKA:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("6+nK"),s=function(e){i._11.call(this,e),this.propertyNameMapping={}};s.prototype=Object.assign(Object.create(i._11.prototype),{constructor:s,load:function(e,t,n,s){var r=this,a=new i.J(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{t(r.parse(n))}catch(t){s?s(t):console.error(t),r.manager.itemError(e)}},n,s)},setPropertyNameMapping:function(e){this.propertyNameMapping=e},parse:function(e){function t(e){var t="",n=0,i=/ply([\s\S]*)end_header\r?\n/.exec(e);null!==i&&(t=i[1],n=new Blob([i[0]]).size);var s,r,a,o,c,h,u={comments:[],elements:[],headerLength:n,objInfo:""},p=t.split("\n");for(var d=0;d<p.length;d++){var m=p[d];if(""!==(m=m.trim()))switch(r=(a=m.split(/\s+/)).shift(),m=a.join(" "),r){case"format":u.format=a[0],u.version=a[1];break;case"comment":u.comments.push(m);break;case"element":void 0!==s&&u.elements.push(s),(s={}).name=a[0],s.count=parseInt(a[1]),s.properties=[];break;case"property":s.properties.push((o=a,c=l.propertyNameMapping,h=void 0,"list"===(h={type:o[0]}).type?(h.name=o[3],h.countType=o[1],h.itemType=o[2]):h.name=o[1],h.name in c&&(h.name=c[h.name]),h));break;case"obj_info":u.objInfo=m;break;default:console.log("unhandled",r,a)}}return void 0!==s&&u.elements.push(s),u}function n(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}}function s(e,t){for(var i=t.split(/\s+/),s={},r=0;r<e.length;r++)if("list"===e[r].type){for(var a=[],o=n(i.shift(),e[r].countType),c=0;c<o;c++)a.push(n(i.shift(),e[r].itemType));s[e[r].name]=a}else s[e[r].name]=n(i.shift(),e[r].type);return s}function r(e,t){var n,i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},r="";null!==(n=/end_header\s([\s\S]*)$/.exec(e))&&(r=n[1]);for(var c=r.split("\n"),h=0,u=0,l=0;l<c.length;l++){var p=c[l];if(""!==(p=p.trim())){u>=t.elements[h].count&&(h++,u=0);var d=s(t.elements[h].properties,p);o(i,t.elements[h].name,d),u++}}return a(i)}function a(e){var t=new i.k;return e.indices.length>0&&t.setIndex(e.indices),t.setAttribute("position",new i.K(e.vertices,3)),e.normals.length>0&&t.setAttribute("normal",new i.K(e.normals,3)),e.uvs.length>0&&t.setAttribute("uv",new i.K(e.uvs,2)),e.colors.length>0&&t.setAttribute("color",new i.K(e.colors,3)),e.faceVertexUvs.length>0&&(t=t.toNonIndexed()).setAttribute("uv",new i.K(e.faceVertexUvs,2)),t.computeBoundingSphere(),t}function o(e,t,n){if("vertex"===t)e.vertices.push(n.x,n.y,n.z),"nx"in n&&"ny"in n&&"nz"in n&&e.normals.push(n.nx,n.ny,n.nz),"s"in n&&"t"in n&&e.uvs.push(n.s,n.t),"red"in n&&"green"in n&&"blue"in n&&e.colors.push(n.red/255,n.green/255,n.blue/255);else if("face"===t){var i=n.vertex_indices||n.vertex_index,s=n.texcoord;3===i.length?(e.indices.push(i[0],i[1],i[2]),s&&6===s.length&&(e.faceVertexUvs.push(s[0],s[1]),e.faceVertexUvs.push(s[2],s[3]),e.faceVertexUvs.push(s[4],s[5]))):4===i.length&&(e.indices.push(i[0],i[1],i[3]),e.indices.push(i[1],i[2],i[3]))}}function c(e,t,n,i){switch(n){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,i),2];case"uint16":case"ushort":return[e.getUint16(t,i),2];case"int32":case"int":return[e.getInt32(t,i),4];case"uint32":case"uint":return[e.getUint32(t,i),4];case"float32":case"float":return[e.getFloat32(t,i),4];case"float64":case"double":return[e.getFloat64(t,i),8]}}function h(e,t,n,i){for(var s,r={},a=0,o=0;o<n.length;o++)if("list"===n[o].type){var h=[],u=(s=c(e,t+a,n[o].countType,i))[0];a+=s[1];for(var l=0;l<u;l++)s=c(e,t+a,n[o].itemType,i),h.push(s[0]),a+=s[1];r[n[o].name]=h}else s=c(e,t+a,n[o].type,i),r[n[o].name]=s[0],a+=s[1];return[r,a]}var u,l=this;if(e instanceof ArrayBuffer){var p=i._12.decodeText(new Uint8Array(e)),d=t(p);u="ascii"===d.format?r(p,d):function(e,t){for(var n,i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},s="binary_little_endian"===t.format,r=new DataView(e,t.headerLength),c=0,u=0;u<t.elements.length;u++)for(var l=0;l<t.elements[u].count;l++){c+=(n=h(r,c,t.elements[u].properties,s))[1];var p=n[0];o(i,t.elements[u].name,p)}return a(i)}(e,d)}else u=r(e,t(e));return u}})},sLtA:function(e,t){}});
//# sourceMappingURL=10.9ea2144ca3fc9b3b4c59.js.map