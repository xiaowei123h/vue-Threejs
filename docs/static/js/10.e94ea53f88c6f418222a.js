webpackJsonp([10],{"9xJE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("JQAX"),o=n("MuRL"),i=n("t+J7"),s={data:function(){return{camera:null,scene:null,renderer:null,labelRenderer:null,controls:null,root:null,MOLECULES:{Ethanol:"ethanol.pdb",Aspirin:"aspirin.pdb",Caffeine:"caffeine.pdb",Nicotine:"nicotine.pdb",LSD:"lsd.pdb",Cocaine:"cocaine.pdb",Cholesterol:"cholesterol.pdb",Lycopene:"lycopene.pdb",Glucose:"glucose.pdb","Aluminium oxide":"Al2O3.pdb",Cubane:"cubane.pdb",Copper:"cu.pdb",Fluorite:"caf2.pdb",Salt:"nacl.pdb","YBCO superconductor":"ybco.pdb",Buckyball:"buckyball.pdb",Graphite:"graphite.pdb"},loader:null,offset:null,menu:null}},mounted:function(){this.loader=new o.a,this.offset=new this.$THREE.Vector3,this.menu=document.getElementById("menu"),this.init(),this.animate()},methods:{init:function(){this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(328965),this.camera=new this.$THREE.PerspectiveCamera(70,this.$webglInnerWidth/window.innerHeight,1,5e3),this.camera.position.z=1e3,this.scene.add(this.camera);var e=new this.$THREE.DirectionalLight(16777215,.8);e.position.set(1,1,1),this.scene.add(e);var t=new this.$THREE.DirectionalLight(16777215,.5);t.position.set(-1,-1,1),this.scene.add(t),this.root=new this.$THREE.Group,this.scene.add(this.root),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementById("container").appendChild(this.renderer.domElement),this.labelRenderer=new i.b,this.labelRenderer.setSize(this.$webglInnerWidth,window.innerHeight),this.labelRenderer.domElement.style.position="absolute",this.labelRenderer.domElement.style.top="0px",this.labelRenderer.domElement.style.left="281px",this.labelRenderer.domElement.style.pointerEvents="none",document.getElementById("container").appendChild(this.labelRenderer.domElement),this.controls=new r.a(this.camera,this.renderer.domElement),this.controls.minDistance=500,this.controls.maxDistance=2e3,this.loadMolecule("static/models/pdb/caffeine.pdb"),this.createMenu(),window.addEventListener("resize",this.onWindowResize,!1)},generateButtonCallback:function(e){var t=this;return function(){t.loadMolecule(e)}},createMenu:function(){for(var e in this.MOLECULES){var t=document.createElement("button");t.innerHTML=e,this.menu.appendChild(t);var n="static/models/pdb/"+this.MOLECULES[e];t.addEventListener("click",this.generateButtonCallback(n),!1)}},loadMolecule:function(e){for(var t=this;this.root.children.length>0;){var n=this.root.children[0];n.parent.remove(n)}this.loader.load(e,function(e){var n=e.geometryAtoms,r=e.geometryBonds,o=e.json,s=new t.$THREE.BoxBufferGeometry(1,1,1),a=new t.$THREE.IcosahedronBufferGeometry(1,3);n.computeBoundingBox(),n.boundingBox.getCenter(t.offset).negate(),n.translate(t.offset.x,t.offset.y,t.offset.z),r.translate(t.offset.x,t.offset.y,t.offset.z);for(var l=n.getAttribute("position"),c=n.getAttribute("color"),d=new t.$THREE.Vector3,u=new t.$THREE.Color,h=0;h<l.count;h++){d.x=l.getX(h),d.y=l.getY(h),d.z=l.getZ(h),u.r=c.getX(h),u.g=c.getY(h),u.b=c.getZ(h);var p=new t.$THREE.MeshPhongMaterial({color:u});(v=new t.$THREE.Mesh(a,p)).position.copy(d),v.position.multiplyScalar(75),v.scale.multiplyScalar(25),t.root.add(v);var m=o.atoms[h],f=document.createElement("div");f.className="label",f.style.color="rgb("+m[3][0]+","+m[3][1]+","+m[3][2]+")",f.textContent=m[4];var b=new i.a(f);b.position.copy(v.position),t.root.add(b)}l=r.getAttribute("position");var g=new t.$THREE.Vector3,E=new t.$THREE.Vector3;for(h=0;h<l.count;h+=2){var v;g.x=l.getX(h),g.y=l.getY(h),g.z=l.getZ(h),E.x=l.getX(h+1),E.y=l.getY(h+1),E.z=l.getZ(h+1),g.multiplyScalar(75),E.multiplyScalar(75),(v=new t.$THREE.Mesh(s,new t.$THREE.MeshPhongMaterial(16777215))).position.copy(g),v.position.lerp(E,.5),v.scale.set(5,5,g.distanceTo(E)),v.lookAt(E),t.root.add(v)}t.render()})},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.labelRenderer.setSize(window.innerWidth-281,window.innerHeight),this.render()},animate:function(){requestAnimationFrame(this.animate),this.controls.update();var e=4e-4*Date.now();this.root.rotation.x=e,this.root.rotation.y=.7*e,this.render()},render:function(){this.renderer.render(this.scene,this.camera),this.labelRenderer.render(this.scene,this.camera)}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderPdb-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js webgl")]),this._v(" - molecules")]),this._v(" "),t("div",{attrs:{id:"menu"}})])}]};var l=n("VU/8")(s,a,!1,function(e){n("DNUR")},"data-v-de9cdc1c",null);t.default=l.exports},DNUR:function(e,t){},MuRL:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("6+nK"),o=function(e){r.Loader.call(this,e)};o.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:o,load:function(e,t,n,o){var i=this,s=new r.FileLoader(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,function(n){try{t(i.parse(n))}catch(t){o?o(t):console.error(t),i.manager.itemError(e)}},n,o)},parse:function(e){function t(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function n(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function o(e,t){var n,r,o=parseInt(f[b].substr(e,t));if(o){var i=(n=v,r=o,"s"+Math.min(n,r)+"e"+Math.max(n,r));void 0===p[i]&&(h.push([v-1,o-1,1]),p[i]=h.length-1)}}for(var i,s,a,l,c,d={h:[255,255,255],he:[217,255,255],li:[204,128,255],be:[194,255,0],b:[255,181,181],c:[144,144,144],n:[48,80,248],o:[255,13,13],f:[144,224,80],ne:[179,227,245],na:[171,92,242],mg:[138,255,0],al:[191,166,166],si:[240,200,160],p:[255,128,0],s:[255,255,48],cl:[31,240,31],ar:[128,209,227],k:[143,64,212],ca:[61,255,0],sc:[230,230,230],ti:[191,194,199],v:[166,166,171],cr:[138,153,199],mn:[156,122,199],fe:[224,102,51],co:[240,144,160],ni:[80,208,80],cu:[200,128,51],zn:[125,128,176],ga:[194,143,143],ge:[102,143,143],as:[189,128,227],se:[255,161,0],br:[166,41,41],kr:[92,184,209],rb:[112,46,176],sr:[0,255,0],y:[148,255,255],zr:[148,224,224],nb:[115,194,201],mo:[84,181,181],tc:[59,158,158],ru:[36,143,143],rh:[10,125,140],pd:[0,105,133],ag:[192,192,192],cd:[255,217,143],in:[166,117,115],sn:[102,128,128],sb:[158,99,181],te:[212,122,0],i:[148,0,148],xe:[66,158,176],cs:[87,23,143],ba:[0,201,0],la:[112,212,255],ce:[255,255,199],pr:[217,255,199],nd:[199,255,199],pm:[163,255,199],sm:[143,255,199],eu:[97,255,199],gd:[69,255,199],tb:[48,255,199],dy:[31,255,199],ho:[0,255,156],er:[0,230,117],tm:[0,212,82],yb:[0,191,56],lu:[0,171,36],hf:[77,194,255],ta:[77,166,255],w:[33,148,214],re:[38,125,171],os:[38,102,150],ir:[23,84,135],pt:[208,208,224],au:[255,209,35],hg:[184,184,208],tl:[166,84,77],pb:[87,89,97],bi:[158,79,181],po:[171,92,0],at:[117,79,69],rn:[66,130,150],fr:[66,0,102],ra:[0,125,0],ac:[112,171,250],th:[0,186,255],pa:[0,161,255],u:[0,143,255],np:[0,128,255],pu:[0,107,255],am:[84,92,242],cm:[120,92,227],bk:[138,79,227],cf:[161,54,212],es:[179,31,212],fm:[179,31,186],md:[179,13,166],no:[189,13,135],lr:[199,0,102],rf:[204,0,89],db:[209,0,79],sg:[217,0,69],bh:[224,0,56],hs:[230,0,46],mt:[235,0,38],ds:[235,0,38],rg:[235,0,38],cn:[235,0,38],uut:[235,0,38],uuq:[235,0,38],uup:[235,0,38],uuh:[235,0,38],uus:[235,0,38],uuo:[235,0,38]},u=[],h=[],p={},m={},f=e.split("\n"),b=0,g=f.length;b<g;b++)if("ATOM"===f[b].substr(0,4)||"HETATM"===f[b].substr(0,6)){i=parseFloat(f[b].substr(30,7)),s=parseFloat(f[b].substr(38,7)),a=parseFloat(f[b].substr(46,7)),l=parseInt(f[b].substr(6,5))-1,""===(c=t(f[b].substr(76,2)).toLowerCase())&&(c=t(f[b].substr(12,2)).toLowerCase());var E=[i,s,a,d[c],n(c)];u.push(E),m[l]=E}else if("CONECT"===f[b].substr(0,6)){var v=parseInt(f[b].substr(6,5));o(11,5),o(16,5),o(21,5),o(26,5)}return function(){var e,t,n,o,i,s={geometryAtoms:new r.BufferGeometry,geometryBonds:new r.BufferGeometry,json:{atoms:u}},a=s.geometryAtoms,l=s.geometryBonds,c=[],d=[],p=[];for(e=0,t=u.length;e<t;e++){var f=u[e];n=f[0],o=f[1],i=f[2],c.push(n,o,i);var b=f[3][0]/255,g=f[3][1]/255,E=f[3][2]/255;d.push(b,g,E)}for(e=0,t=h.length;e<t;e++){var v=h[e],w=v[0],y=v[1],R=m[w],x=m[y];n=R[0],o=R[1],i=R[2],p.push(n,o,i),n=x[0],o=x[1],i=x[2],p.push(n,o,i)}return a.setAttribute("position",new r.Float32BufferAttribute(c,3)),a.setAttribute("color",new r.Float32BufferAttribute(d,3)),l.setAttribute("position",new r.Float32BufferAttribute(p,3)),s}()}})},"t+J7":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("6+nK"),o=function(e){r.Object3D.call(this),this.element=e||document.createElement("div"),this.element.style.position="absolute",this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})})};o.prototype=Object.assign(Object.create(r.Object3D.prototype),{constructor:o,copy:function(e,t){return r.Object3D.prototype.copy.call(this,e,t),this.element=e.element.cloneNode(!0),this}});var i=function(){var e,t,n,i,s=this,a=new r.Vector3,l=new r.Matrix4,c=new r.Matrix4,d={objects:new WeakMap},u=document.createElement("div");u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:e,height:t}},this.setSize=function(r,o){n=(e=r)/2,i=(t=o)/2,u.style.width=r+"px",u.style.height=o+"px"};var h,p,m=(h=new r.Vector3,p=new r.Vector3,function(e,t){return h.setFromMatrixPosition(e.matrixWorld),p.setFromMatrixPosition(t.matrixWorld),h.distanceToSquared(p)}),f=function(e){for(var t=function(e){var t=[];return e.traverse(function(e){e instanceof o&&t.push(e)}),t}(e).sort(function(e,t){return d.objects.get(e).distanceToCameraSquared-d.objects.get(t).distanceToCameraSquared}),n=t.length,r=0,i=t.length;r<i;r++)t[r].element.style.zIndex=n-r};this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),l.copy(t.matrixWorldInverse),c.multiplyMatrices(t.projectionMatrix,l),function e(t,r,l){if(t instanceof o){t.onBeforeRender(s,r,l),a.setFromMatrixPosition(t.matrixWorld),a.applyMatrix4(c);var h=t.element,p="translate(-50%,-50%) translate("+(a.x*n+n)+"px,"+(-a.y*i+i)+"px)";h.style.WebkitTransform=p,h.style.MozTransform=p,h.style.oTransform=p,h.style.transform=p,h.style.display=t.visible&&a.z>=-1&&a.z<=1?"":"none";var f={distanceToCameraSquared:m(l,t)};d.objects.set(t,f),h.parentNode!==u&&u.appendChild(h),t.onAfterRender(s,r,l)}for(var b=0,g=t.children.length;b<g;b++)e(t.children[b],r,l)}(e,e,t),f(e)}}}});
//# sourceMappingURL=10.e94ea53f88c6f418222a.js.map