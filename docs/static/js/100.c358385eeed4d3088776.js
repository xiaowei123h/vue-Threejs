webpackJsonp([100],{"9vcv":function(e,t){},PN9f:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("wIBv"),o=r("qxm1"),i=r("6+nK"),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){i._14.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};a.prototype=Object.assign(Object.create(i._14.prototype),{constructor:a,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,r,n){var o=this,s=new i.L(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(e){var r={attributeIDs:o.defaultAttributeIDs,attributeTypes:o.defaultAttributeTypes,useUniqueIDs:!1};o.decodeGeometry(e,r).then(t).catch(n)},r,n)},decodeDracoFile:function(e,t,r,n){var o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)},decodeGeometry:function(e,t){var r=this;for(var n in t.attributeTypes){var o=t.attributeTypes[n];void 0!==o.BYTES_PER_ELEMENT&&(t.attributeTypes[n]=o.name)}var i,s=JSON.stringify(t);if(a.taskCache.has(e)){var d=a.taskCache.get(e);if(d.key===s)return d.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var c=this.workerNextTaskID++,u=e.byteLength,h=this._getWorker(c,u).then(function(r){return i=r,new Promise(function(r,n){i._callbacks[c]={resolve:r,reject:n},i.postMessage({type:"decode",id:c,taskConfig:t,buffer:e},[e])})}).then(function(e){return r._createGeometry(e.geometry)});return h.catch(function(){return!0}).then(function(){i&&c&&r._releaseTask(i,c)}),a.taskCache.set(e,{key:s,promise:h}),h},_createGeometry:function(e){var t=new i.k;e.index&&t.setIndex(new i.j(e.index.array,1));for(var r=0;r<e.attributes.length;r++){var n=e.attributes[r],o=n.name,s=n.array,a=n.itemSize;t.setAttribute(o,new i.j(s,a))}return t},_loadLibrary:function(e,t){var r=new i.L(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise(function(t,n){r.load(e,t,void 0,n)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==("undefined"==typeof WebAssembly?"undefined":s(WebAssembly))||"js"===this.decoderConfig.type,r=[];return t?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then(function(r){var n=r[0];t||(e.decoderConfig.wasmBinary=r[1]);var o=a.DRACOWorker.toString(),i=["/* draco decoder */",n,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending},_getWorker:function(e,t){var r=this;return this._initDecoder().then(function(){var n;r.workerPool.length<r.workerLimit?((n=new Worker(r.workerSourceURL))._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:r.decoderConfig}),n.onmessage=function(e){var t=e.data;switch(t.type){case"decode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},r.workerPool.push(n)):r.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});return(n=r.workerPool[r.workerPool.length-1])._taskCosts[e]=t,n._taskLoad+=t,n})},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map(function(e){return e._taskLoad}))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),a.DRACOWorker=function(){var e,t;function r(e,t,r,n,o,i){var s=i.num_components(),a=r.num_points()*s,d=a*o.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,o),u=e._malloc(d);t.GetAttributeDataArrayForAllPoints(r,i,c,d,u);var h=new o(e.HEAPF32.buffer,u,a).slice();return e._free(u),{name:n,array:h,itemSize:s}}onmessage=function(n){var o=n.data;switch(o.type){case"init":e=o.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":var i=o.buffer,s=o.taskConfig;t.then(function(e){var t=e.draco,n=new t.Decoder,a=new t.DecoderBuffer;a.Init(new Int8Array(i),i.byteLength);try{var d=function(e,t,n,o){var i,s,a=o.attributeIDs,d=o.attributeTypes,c=t.GetEncodedGeometryType(n);if(c===e.TRIANGULAR_MESH)i=new e.Mesh,s=t.DecodeBufferToMesh(n,i);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,s=t.DecodeBufferToPointCloud(n,i)}if(!s.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+s.error_msg());var u={index:null,attributes:[]};for(var h in a){var l,f,m=self[d[h]];if(o.useUniqueIDs)f=a[h],l=t.GetAttributeByUniqueId(i,f);else{if(-1===(f=t.GetAttributeId(i,e[a[h]])))continue;l=t.GetAttribute(i,f)}u.attributes.push(r(e,t,i,h,m,l))}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,r){var n=3*r.num_faces(),o=4*n,i=e._malloc(o);t.GetTrianglesUInt32Array(r,o,i);var s=new Uint32Array(e.HEAPF32.buffer,i,n).slice();return e._free(i),{array:s,itemSize:1}}(e,t,i));return e.destroy(i),u}(t,n,a,s),c=d.attributes.map(function(e){return e.array.buffer});d.index&&c.push(d.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:d},c)}catch(e){console.error(e),self.postMessage({type:"error",id:o.id,error:e.message})}finally{t.destroy(a),t.destroy(n)}})}}},a.taskCache=new WeakMap,a.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},a.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},a.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},a.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var d={data:function(){return{mixer:null,clock:null,container:null,stats:null,renderer:null,scene:null,camera:null,dirLight:null}},mounted:function(){this.clock=new this.$THREE.Clock,this.init()},methods:{init:function(){var e=this;this.container=document.getElementById("container"),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.container.appendChild(this.renderer.domElement),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(12575709),this.camera=new this.$THREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,100),this.camera.position.set(5,2,8),this.controls=new n.a(this.camera,this.renderer.domElement),this.controls.target.set(0,.5,0),this.controls.update(),this.controls.enablePan=!1,this.controls.enableDamping=!0,this.scene.add(new this.$THREE.HemisphereLight(16777215,0,.4)),this.dirLight=new this.$THREE.DirectionalLight(16777215,1),this.dirLight.position.set(5,2,8),this.scene.add(this.dirLight);var t="static/textures/cube/Park2/",r=(new this.$THREE.CubeTextureLoader).load([t+"posx.jpg",t+"negx.jpg",t+"posy.jpg",t+"negy.jpg",t+"posz.jpg",t+"negz.jpg"]),i=new a;i.setDecoderPath("static/js/libs/draco/gltf/");var s=new o.a;s.setDRACOLoader(i),s.load("static/models/gltf/LittlestTokyo.glb",function(t){var n=t.scene;n.position.set(1,1,0),n.scale.set(.01,.01,.01),n.traverse(function(e){e.isMesh&&(e.material.envMap=r)});var o=e;o.scene.add(n),o.mixer=new o.$THREE.AnimationMixer(n),o.mixer.clipAction(t.animations[0]).play(),o.animate()},void 0,function(e){console.error(e)})},onresize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate);var e=this.clock.getDelta();this.mixer.update(e),this.controls.update(),this.stats.update(),this.renderer.render(this.scene,this.camera)}}},c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"webglAnimationKeyframes-container"},[r("div",{attrs:{id:"container"}}),e._v(" "),r("div",{attrs:{id:"info"}},[r("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[e._v("three.js")]),e._v(" webgl - animation - keyframes"),r("br"),e._v("\n\t\t\tModel: "),r("a",{attrs:{href:"https://www.artstation.com/artwork/1AGwX",target:"_blank",rel:"noopener"}},[e._v("Littlest Tokyo")]),e._v(" by\n\t\t\t"),r("a",{attrs:{href:"https://www.artstation.com/glenatron",target:"_blank",rel:"noopener"}},[e._v("Glen Fox")]),e._v(", CC Attribution.\n\t\t")])])}]};var u=r("VU/8")(d,c,!1,function(e){r("9vcv")},"data-v-43a0866a",null);t.default=u.exports}});
//# sourceMappingURL=100.c358385eeed4d3088776.js.map