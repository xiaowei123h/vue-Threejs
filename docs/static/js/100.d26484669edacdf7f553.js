webpackJsonp([100],{Z8pN:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("wIBv"),i=r("zCdm"),a=r("FktL"),s=r("6+nK"),o=function(){var e,t,r,n,i,o=new s.Vector3,l=new s.Vector3,h=new s.Vector3;function d(e,r,n){o.set(t[3*n],t[3*n+1],t[3*n+2]).normalize();var i={splitGroup:[],currentGroup:[n]},a=!0,s=!1,h=void 0;try{for(var d,u=e[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){var m=d.value;m!==n&&(l.set(t[3*m],t[3*m+1],t[3*m+2]).normalize(),l.dot(o)<r?i.splitGroup.push(m):i.currentGroup.push(m))}}catch(e){s=!0,h=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw h}}return i}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0!==e.length){var n=[],a=!0,s=!1,o=void 0;try{for(var l,h=e[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var m=l.value;n.push(d(e,t,m))}}catch(e){s=!0,o=e}finally{try{!a&&h.return&&h.return()}finally{if(s)throw o}}var f=n[0],c=!0,g=!1,p=void 0;try{for(var y,v=n[Symbol.iterator]();!(c=(y=v.next()).done);c=!0){var w=y.value;w.currentGroup.length>f.currentGroup.length&&(f=w)}}catch(e){g=!0,p=e}finally{try{!c&&v.return&&v.return()}finally{if(g)throw p}}null!=r&&i.push({original:r,indexes:f.currentGroup}),f.splitGroup.length&&u(f.splitGroup,t,r||f.currentGroup[0])}}this.modify=function(d,m){if(d.isBufferGeometry||(d=(new s.BufferGeometry).fromGeometry(d)),null==d.index){if(void 0===a.a)throw"THREE.EdgeSplitModifier relies on BufferGeometryUtils";d=a.a.mergeVertices(d)}r=d.index.array,e=d.getAttribute("position").array,function(){t=new Float32Array(3*r.length);for(var n=0;n<r.length;n+=3){var i=r[n];o.set(e[3*i],e[3*i+1],e[3*i+2]),i=r[n+1],l.set(e[3*i],e[3*i+1],e[3*i+2]),i=r[n+2],h.set(e[3*i],e[3*i+1],e[3*i+2]),h.sub(l),o.sub(l);for(var a=h.cross(o).normalize(),s=0;s<3;s++)t[3*(n+s)]=a.x,t[3*(n+s)+1]=a.y,t[3*(n+s)+2]=a.z}}(),function(){n=Array(e.length/3);for(var t=0;t<r.length;t++){var i=r[t];null==n[i]&&(n[i]=[]),n[i].push(t)}}(),i=[];var f=!0,c=!1,g=void 0;try{for(var p,y=n[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){u(p.value,Math.cos(m)-.001)}}catch(e){c=!0,g=e}finally{try{!f&&y.return&&y.return()}finally{if(c)throw g}}var v=new Float32Array(e.length+3*i.length);v.set(e);var w=e.length,b=new Uint32Array(r.length);b.set(r);for(var E=0;E<i.length;E++){var G=i[E],S=r[G.original];v[w+3*E]=e[3*S],v[w+3*E+1]=e[3*S+1],v[w+3*E+2]=e[3*S+2];var x=!0,M=!1,A=void 0;try{for(var R,z=G.indexes[Symbol.iterator]();!(x=(R=z.next()).done);x=!0){b[R.value]=w/3+E}}catch(e){M=!0,A=e}finally{try{!x&&z.return&&z.return()}finally{if(M)throw A}}}return(d=new s.BufferGeometry).setAttribute("position",new s.BufferAttribute(v,3,!0)),d.setIndex(new s.BufferAttribute(b,1)),d}},l=r("QEtz"),h={data:function(){return{renderer:null,scene:null,camera:null,modifier:null,mesh:null,baseGeometry:null,params:{smoothShading:!0,edgeSplit:!0,cutOffAngle:20},gui:null}},mounted:function(){this.init()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e=this,t=document.createElement("div");t.style.position="absolute",t.style.top="10px",t.style.left="281px",t.style.width="100%",t.style.textAlign="center",t.innerHTML='<a href="https://threejs.org" target="_blank" rel="noopener">three.js</a> - Edge Split modifier',document.getElementsByClassName("webglModifierEdgesplit-container")[0].appendChild(t),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglModifierEdgesplit-container")[0].appendChild(this.renderer.domElement),this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(75,this.$webglInnerWidth/window.innerHeight);var r=new n.b(this.camera,this.renderer.domElement);r.addEventListener("change",this.render),r.enableDamping=!0,r.dampingFactor=.25,r.rotateSpeed=.35,r.minZoom=1,this.camera.position.set(0,0,4),this.scene.add(new this.$THREE.HemisphereLight(16777215,4473924)),(new i.a).load("static/models/obj/cerberus/Cerberus.obj",function(t){var r=t.children[0].geometry;r.deleteAttribute("normal"),r.deleteAttribute("uv"),e.modifier=new o,e.baseGeometry=r,e.mesh=new e.$THREE.Mesh(e.getGeometry(),new e.$THREE.MeshStandardMaterial),e.mesh.material.flatShading=!e.params.smoothShading,e.mesh.rotateY(-Math.PI/2),e.mesh.scale.set(3.5,3.5,3.5),e.mesh.translateZ(1.5),e.scene.add(e.mesh),e.render()}),window.addEventListener("resize",this.onWindowResize,!1),this.gui=new l.a({name:"Edge split modifier parameters"}),this.gui.add(this.params,"smoothShading").onFinishChange(this.updateMesh),this.gui.add(this.params,"edgeSplit").onFinishChange(this.updateMesh),this.gui.add(this.params,"cutOffAngle").min(0).max(180).onFinishChange(this.updateMesh)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.render()},getGeometry:function(){var e;return(e=this.params.edgeSplit?this.modifier.modify(this.baseGeometry,this.params.cutOffAngle*Math.PI/180):a.a.mergeVertices(this.baseGeometry)).computeVertexNormals(),e},updateMesh:function(){this.mesh.geometry=this.getGeometry(),this.mesh.material.flatShading=!1===this.params.smoothShading,this.mesh.material.needsUpdate=!0,this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}},d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"webglModifierEdgesplit-container"})},staticRenderFns:[]};var u=r("VU/8")(h,d,!1,function(e){r("vWlD")},"data-v-c26d3b84",null);t.default=u.exports},vWlD:function(e,t){}});
//# sourceMappingURL=100.d26484669edacdf7f553.js.map