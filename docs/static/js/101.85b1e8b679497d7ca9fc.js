webpackJsonp([101],{"63rJ":function(e,t){},XgjR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("QEtz"),s=i("wIBv"),n=i("B6oc"),a=function(e,t){n.a.call(this,e,t),this.geometry.setDrawRange(0,0)};a.prototype=Object.create(n.a.prototype);var o=i("p8Aj"),h={data:function(){return{WIDTH:null,HEIGHT:null,VIEW_ANGLE:45,ASPECT:null,NEAR:1,FAR:500,decalNormal:null,decalDiffuse:null,camera:null,scene:null,renderer:null,clock:null,cameraControls:null,gui:null,sphereGroup:null,smallSphere:null,groundMirrorMaterial:null,frame:null}},mounted:function(){this.WIDTH=this.$webglInnerWidth,this.HEIGHT=window.innerHeight,this.ASPECT=this.WIDTH/this.HEIGHT,this.decalNormal=(new this.$THREE.TextureLoader).load("static/textures/decal/decal-normal.jpg"),this.decalDiffuse=(new this.$THREE.TextureLoader).load("static/textures/decal/decal-diffuse.png"),this.decalDiffuse.wrapS=this.decalDiffuse.wrapT=this.$THREE.RepeatWrapping,this.clock=new this.$THREE.Clock,this.gui=new r.a,this.frame=new o.NodeFrame,this.init(),this.fillScene(),this.update()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(this.VIEW_ANGLE,this.ASPECT,this.NEAR,this.FAR),this.camera.position.set(0,75,160),this.cameraControls=new s.b(this.camera,this.renderer.domElement),this.cameraControls.target.set(0,40,0),this.cameraControls.maxDistance=400,this.cameraControls.minDistance=10,this.cameraControls.update(),document.getElementById("container").appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},fillScene:function(){var e,t,i=new this.$THREE.PlaneBufferGeometry(100.1,100.1);e=new this.$THREE.PlaneBufferGeometry(100,100);var r=new a(e,{clipBias:.003,textureWidth:this.WIDTH,textureHeight:this.HEIGHT}),s=new o.SwitchNode(new o.TextureNode(this.decalDiffuse),"w"),n=new o.ReflectorNode(r),h=new o.TextureNode(this.decalNormal),d=new o.SwitchNode(h,"xy"),l=new o.MathNode(d,o.MathNode.INVERT),c=new o.OperatorNode(l,new o.FloatNode(.5),o.OperatorNode.SUB);n.offset=new o.OperatorNode(c,new o.FloatNode(6),o.OperatorNode.MUL);var u=new o.BlurNode(n);u.size=new this.$THREE.Vector2(this.WIDTH,this.HEIGHT),u.uv=new o.ExpressionNode("projCoord.xyz / projCoord.q","vec3"),u.uv.keywords.projCoord=new o.OperatorNode(n.offset,n.uv,o.OperatorNode.ADD),u.radius.x=u.radius.y=0,this.gui.add({blur:u.radius.x},"blur",0,25).onChange(function(e){u.radius.x=u.radius.y=e}),this.groundMirrorMaterial=new o.PhongNodeMaterial,this.groundMirrorMaterial.environment=u,this.groundMirrorMaterial.environmentAlpha=s,this.groundMirrorMaterial.normal=new o.NormalMapNode(h);var E=new this.$THREE.Mesh(i,this.groundMirrorMaterial);r.add(E),r.rotateX(-Math.PI/2),this.scene.add(r),this.sphereGroup=new this.$THREE.Object3D,this.scene.add(this.sphereGroup),e=new this.$THREE.CylinderBufferGeometry(.1,15*Math.cos(Math.PI/180*30),.1,24,1),t=new this.$THREE.MeshPhongMaterial({color:16777215,emissive:4473924});var p=new this.$THREE.Mesh(e,t);p.position.y=-15*Math.sin(Math.PI/180*30)-.05,p.rotateX(-Math.PI),e=new this.$THREE.SphereBufferGeometry(15,24,24,Math.PI/2,2*Math.PI,0,Math.PI/180*120);var w=new this.$THREE.Mesh(e,t);w.add(p),w.rotateX(-Math.PI/180*135),w.rotateZ(-Math.PI/180*20),w.position.y=7.5+15*Math.sin(Math.PI/180*30),this.sphereGroup.add(w),e=new this.$THREE.IcosahedronBufferGeometry(5,0),t=new this.$THREE.MeshPhongMaterial({color:16777215,emissive:3355443,flatShading:!0}),this.smallSphere=new this.$THREE.Mesh(e,t),this.scene.add(this.smallSphere);var M=new this.$THREE.Mesh(i,new this.$THREE.MeshPhongMaterial({color:16777215}));M.position.y=100,M.rotateX(Math.PI/2),this.scene.add(M);var f=new this.$THREE.Mesh(i,new this.$THREE.MeshPhongMaterial({color:16777215}));f.position.z=-50,f.position.y=50,this.scene.add(f);var m=new this.$THREE.Mesh(i,new this.$THREE.MeshPhongMaterial({color:8355839}));m.position.z=50,m.position.y=50,m.rotateY(Math.PI),this.scene.add(m);var T=new this.$THREE.Mesh(i,new this.$THREE.MeshPhongMaterial({color:65280}));T.position.x=50,T.position.y=50,T.rotateY(-Math.PI/2),this.scene.add(T);var H=new this.$THREE.Mesh(i,new this.$THREE.MeshPhongMaterial({color:16711680}));H.position.x=-50,H.position.y=50,H.rotateY(Math.PI/2),this.scene.add(H);var R=new this.$THREE.PointLight(13421772,1.5,250);R.position.y=60,this.scene.add(R);var g=new this.$THREE.PointLight(65280,.25,1e3);g.position.set(550,50,0),this.scene.add(g);var v=new this.$THREE.PointLight(16711680,.25,1e3);v.position.set(-550,50,0),this.scene.add(v);var $=new this.$THREE.PointLight(8355839,.25,1e3);$.position.set(0,50,550),this.scene.add($)},render:function(){this.renderer.render(this.scene,this.camera)},update:function(){requestAnimationFrame(this.update);var e=this.clock.getDelta(),t=.01*Date.now();this.sphereGroup.rotation.y-=.002,this.smallSphere.position.set(30*Math.cos(.1*t),20*Math.abs(Math.cos(.2*t))+5,30*Math.sin(.1*t)),this.smallSphere.rotation.y=Math.PI/2-.1*t,this.smallSphere.rotation.z=.8*t,this.frame.update(e).updateNode(this.groundMirrorMaterial),this.render()}}},d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMirrorNodes-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - mirror node-based\n\t\t")])])}]};var l=i("VU/8")(h,d,!1,function(e){i("63rJ")},"data-v-7b2f5b29",null);t.default=l.exports}});
//# sourceMappingURL=101.85b1e8b679497d7ca9fc.js.map