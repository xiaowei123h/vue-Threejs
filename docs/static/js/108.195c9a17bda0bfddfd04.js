webpackJsonp([108],{f7NT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("6+nK"),i=function(e){r.Loader.call(this,e)};i.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:i,load:function(e,t,n,i){var a=this,s=new r.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.load(e,function(e){t(a.parse(e))},n,i)},parse:function(e){for(var t=new DataView(e),n=t.getUint32(0),i=t.getUint32(4),a=8,s=new Float32Array(n),o=new Float32Array(n*n).fill(0),l=0;l<n;l++)s[l]=t.getFloat32(a),a+=4,o[n*l+l]=1;var c=new r.NumberKeyframeTrack(".morphTargetInfluences",s,o),h=new r.AnimationClip("default",s[s.length-1],[c]),d=[];for(l=0;l<n;l++){for(var u=new Float32Array(3*i),m=0;m<i;m++){var f=3*m;u[f+0]=t.getFloat32(a),a+=4,u[f+1]=t.getFloat32(a),a+=4,u[f+2]=t.getFloat32(a),a+=4}var p=new r.BufferAttribute(u,3);p.name="morph_"+l,d.push(p)}return{morphTargets:d,clip:h}}});var a={data:function(){return{camera:null,scene:null,renderer:null,mixer:null,clock:null}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(35,this.$webglInnerWidth/window.innerHeight,.1,100),this.camera.position.set(8,8,8),this.camera.lookAt(this.scene.position),this.clock=new this.$THREE.Clock,(new i).load("static/models/mdd/cube.mdd",function(t){var n=t.morphTargets,r=t.clip,i=new e.$THREE.BoxBufferGeometry;i.morphAttributes.position=n;var a=new e.$THREE.MeshNormalMaterial({morphTargets:!0}),s=new e.$THREE.Mesh(i,a);e.scene.add(s),e.mixer=new e.$THREE.AnimationMixer(s),e.mixer.clipAction(r).play(),e.animate()}),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglLoaderMdd-container")[0].appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate);var e=this.clock.getDelta();this.mixer&&this.mixer.update(e),this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderMdd-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - MDDLoader\n\t\t")])])}]};var o=n("VU/8")(a,s,!1,function(e){n("zUuE")},"data-v-b34d57d0",null);t.default=o.exports},zUuE:function(e,t){}});
//# sourceMappingURL=108.195c9a17bda0bfddfd04.js.map