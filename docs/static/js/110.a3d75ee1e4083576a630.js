webpackJsonp([110],{"d0/0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("QEtz"),s=i("qxm1"),a={data:function(){return{container:null,stats:null,clock:null,gui:null,mixer:null,actions:null,activeAction:null,previousAction:null,camera:null,scene:null,renderer:null,model:null,face:null,api:{state:"Walking"}}},mounted:function(){this.init(),this.animate()},beforeDestroy:function(){this.gui.hide()},methods:{init:function(){this.container=document.createElement("div"),document.getElementsByClassName("webglAnimationSkinningMorph-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,.25,100),this.camera.position.set(-5,3,10),this.camera.lookAt(new this.$THREE.Vector3(0,2,0)),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(14737632),this.scene.fog=new this.$THREE.Fog(14737632,20,100),this.clock=new this.$THREE.Clock;var e=new this.$THREE.HemisphereLight(16777215,4473924);e.position.set(0,20,0),this.scene.add(e);var t=new this.$THREE.DirectionalLight(16777215);t.position.set(0,20,10),this.scene.add(t);var i=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(2e3,2e3),new this.$THREE.MeshPhongMaterial({color:10066329,depthWrite:!1}));i.rotation.x=-Math.PI/2,this.scene.add(i);var n=new this.$THREE.GridHelper(200,40,0,0);n.material.opacity=.2,n.material.transparent=!0,this.scene.add(n);var a=this;(new s.a).load("static/models/gltf/RobotExpressive/RobotExpressive.glb",function(e){a.model=e.scene,a.scene.add(a.model),a.createGUI(a.model,e.animations)},void 0,function(e){console.error(e)}),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},createGUI:function(e,t){var i=this,s=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],a=["Jump","Yes","No","Wave","Punch","ThumbsUp"];this.gui=new n.a,this.mixer=new this.$THREE.AnimationMixer(this.model),this.actions={};for(var o=0;o<t.length;o++){var r=t[o],h=this.mixer.clipAction(r);this.actions[r.name]=h,(a.indexOf(r.name)>=0||s.indexOf(r.name)>=4)&&(h.clampWhenFinished=!0,h.loop=this.$THREE.LoopOnce)}var c=this.gui.addFolder("States");c.add(this.api,"state").options(s).onChange(function(){i.fadeToAction(i.api.state,.5)}),c.open();var d=this,l=this.gui.addFolder("Emotes");function m(e){d.api[e]=function(){d.fadeToAction(e,.2),d.mixer.addEventListener("finished",u)},l.add(d.api,e)}function u(){d.mixer.removeEventListener("finished",u),d.fadeToAction(d.api.state,.2)}for(o=0;o<a.length;o++)m(a[o]);l.open(),this.face=this.model.getObjectByName("Head_4");var p=Object.keys(this.face.morphTargetDictionary),f=this.gui.addFolder("Expressions");for(o=0;o<p.length;o++)f.add(this.face.morphTargetInfluences,o,0,1,.01).name(p[o]);this.activeAction=this.actions.Walking,this.activeAction.play(),f.open()},animate:function(){var e=this.clock.getDelta();this.mixer&&this.mixer.update(e),requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera),this.stats.update()},fadeToAction:function(e,t){this.previousAction=this.activeAction,this.activeAction=this.actions[e],this.previousAction!==this.activeAction&&this.previousAction.fadeOut(t),this.activeAction.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(t).play()}}},o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"webglAnimationSkinningMorph-container"},[i("div",{attrs:{id:"info"}},[i("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[e._v("three.js")]),e._v(" webgl - skinning and morphing"),i("br"),e._v(" "),i("p",[e._v("\n\t\t\t\tThe animation system allows clips to be played individually, looped, or crossfaded with other clips. This example shows a character looping in one of several base animation states, then transitioning smoothly to one-time actions. Facial expressions are controlled independently with morph targets.\n\t\t\t")]),e._v("\n\t\t\tModel by\n\t\t\t"),i("a",{attrs:{href:"https://www.patreon.com/quaternius",target:"_blank",rel:"noopener"}},[e._v("Tomás Laulhé")]),e._v(",\n\t\t\tmodifications by "),i("a",{attrs:{href:"https://donmccurdy.com/",target:"_blank",rel:"noopener"}},[e._v("Don McCurdy")]),e._v(". CC0."),i("br")])])}]};var r=i("VU/8")(a,o,!1,function(e){i("uzLD")},"data-v-005044c2",null);t.default=r.exports},uzLD:function(e,t){}});
//# sourceMappingURL=110.a3d75ee1e4083576a630.js.map