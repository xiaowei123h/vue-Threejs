{"version":3,"sources":["webpack:///./src/components/jsm/loaders/DRACOLoader.js","webpack:///src/views/animation/webglAnimationKeyframes.vue","webpack:///./src/views/animation/webglAnimationKeyframes.vue?1906","webpack:///./src/views/animation/webglAnimationKeyframes.vue"],"names":["DRACOLoader","manager","Loader","call","this","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","position","normal","color","uv","defaultAttributeTypes","prototype","Object","assign","create","constructor","setDecoderPath","path","setDecoderConfig","config","setWorkerLimit","setVerbosity","console","warn","setDrawMode","setSkipDequantization","load","url","onLoad","onProgress","onError","_this","loader","FileLoader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","buffer","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","then","catch","decodeDracoFile","callback","_this2","attribute","type","undefined","BYTES_PER_ELEMENT","name","worker","taskKey","JSON","stringify","taskCache","has","cachedTask","get","key","promise","byteLength","Error","taskID","taskCost","geometryPending","_getWorker","_worker","Promise","resolve","reject","_callbacks","postMessage","id","message","_createGeometry","geometry","_releaseTask","set","geometryData","BufferGeometry","index","setIndex","BufferAttribute","array","i","attributes","length","itemSize","setAttribute","_loadLibrary","responseType","preload","_initDecoder","_this3","useJS","WebAssembly","_typeof","librariesPending","push","all","libraries","jsContent","wasmBinary","fn","DRACOWorker","toString","body","substring","indexOf","lastIndexOf","join","URL","createObjectURL","Blob","_this4","Worker","_taskCosts","_taskLoad","onmessage","e","data","error","sort","a","b","debug","log","map","dispose","terminate","decodeAttribute","draco","decoder","dracoGeometry","attributeName","attributeType","numComponents","num_components","numValues","num_points","dataType","Float32Array","DT_FLOAT32","Int8Array","DT_INT8","Int16Array","DT_INT16","Int32Array","DT_INT32","Uint8Array","DT_UINT8","Uint16Array","DT_UINT16","Uint32Array","DT_UINT32","getDracoDataType","ptr","_malloc","GetAttributeDataArrayForAllPoints","HEAPF32","slice","_free","onModuleLoaded","DracoDecoderModule","module","Decoder","decoderBuffer","DecoderBuffer","Init","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","Mesh","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","ok","error_msg","attributeID","self","GetAttributeByUniqueId","GetAttributeId","GetAttribute","numIndices","num_faces","GetTrianglesUInt32Array","decodeIndex","destroy","buffers","attr","WeakMap","releaseDecoderModule","getDecoderModule","webglAnimationKeyframes","mixer","clock","container","stats","renderer","scene","camera","dirLight","mounted","$THREE","Clock","init","methods","document","getElementById","$Stats","dom","style","left","appendChild","WebGLRenderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","$webglInnerWidth","innerHeight","outputEncoding","sRGBEncoding","domElement","Scene","background","Color","PerspectiveCamera","controls","OrbitControls","target","update","enablePan","enableDamping","add","HemisphereLight","DirectionalLight","envMap","CubeTextureLoader","dracoLoader","DRACOLoader_DRACOLoader","GLTFLoader","setDRACOLoader","gltf","model","scale","traverse","child","isMesh","material","that","AnimationMixer","clipAction","animations","play","animate","onresize","$onWindowResize","requestAnimationFrame","delta","getDelta","render","animation_webglAnimationKeyframes","$createElement","_self","_c","_m","staticRenderFns","_vm","_h","staticClass","attrs","_v","href","rel","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/119.4bcc01c9e4e54eaa4572.js","sourcesContent":["import {\r\n\tBufferAttribute,\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tLoader\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar DRACOLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.decoderPath = '';\r\n\tthis.decoderConfig = {};\r\n\tthis.decoderBinary = null;\r\n\tthis.decoderPending = null;\r\n\r\n\tthis.workerLimit = 4;\r\n\tthis.workerPool = [];\r\n\tthis.workerNextTaskID = 1;\r\n\tthis.workerSourceURL = '';\r\n\r\n\tthis.defaultAttributeIDs = {\r\n\t\tposition: 'POSITION',\r\n\t\tnormal: 'NORMAL',\r\n\t\tcolor: 'COLOR',\r\n\t\tuv: 'TEX_COORD'\r\n\t};\r\n\tthis.defaultAttributeTypes = {\r\n\t\tposition: 'Float32Array',\r\n\t\tnormal: 'Float32Array',\r\n\t\tcolor: 'Float32Array',\r\n\t\tuv: 'Float32Array'\r\n\t};\r\n\r\n};\r\n\r\nDRACOLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: DRACOLoader,\r\n\r\n\tsetDecoderPath: function ( path ) {\r\n\r\n\t\tthis.decoderPath = path;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetDecoderConfig: function ( config ) {\r\n\r\n\t\tthis.decoderConfig = config;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetWorkerLimit: function ( workerLimit ) {\r\n\r\n\t\tthis.workerLimit = workerLimit;\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t/** @deprecated */\r\n\tsetVerbosity: function () {\r\n\r\n\t\tconsole.warn( 'THREE.DRACOLoader: The .setVerbosity() method has been removed.' );\r\n\r\n\t},\r\n\r\n\t/** @deprecated */\r\n\tsetDrawMode: function () {\r\n\r\n\t\tconsole.warn( 'THREE.DRACOLoader: The .setDrawMode() method has been removed.' );\r\n\r\n\t},\r\n\r\n\t/** @deprecated */\r\n\tsetSkipDequantization: function () {\r\n\r\n\t\tconsole.warn( 'THREE.DRACOLoader: The .setSkipDequantization() method has been removed.' );\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\tloader.load( url, ( buffer ) => {\r\n\r\n\t\t\tvar taskConfig = {\r\n\t\t\t\tattributeIDs: this.defaultAttributeIDs,\r\n\t\t\t\tattributeTypes: this.defaultAttributeTypes,\r\n\t\t\t\tuseUniqueIDs: false\r\n\t\t\t};\r\n\r\n\t\t\tthis.decodeGeometry( buffer, taskConfig )\r\n\t\t\t\t.then( onLoad )\r\n\t\t\t\t.catch( onError );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\t/** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\r\n\tdecodeDracoFile: function ( buffer, callback, attributeIDs, attributeTypes ) {\r\n\r\n\t\tvar taskConfig = {\r\n\t\t\tattributeIDs: attributeIDs || this.defaultAttributeIDs,\r\n\t\t\tattributeTypes: attributeTypes || this.defaultAttributeTypes,\r\n\t\t\tuseUniqueIDs: !! attributeIDs\r\n\t\t};\r\n\r\n\t\tthis.decodeGeometry( buffer, taskConfig ).then( callback );\r\n\r\n\t},\r\n\r\n\tdecodeGeometry: function ( buffer, taskConfig ) {\r\n\r\n\t\t// TODO: For backward-compatibility, support 'attributeTypes' objects containing\r\n\t\t// references (rather than names) to typed array constructors. These must be\r\n\t\t// serialized before sending them to the worker.\r\n\t\tfor ( var attribute in taskConfig.attributeTypes ) {\r\n\r\n\t\t\tvar type = taskConfig.attributeTypes[ attribute ];\r\n\r\n\t\t\tif ( type.BYTES_PER_ELEMENT !== undefined ) {\r\n\r\n\t\t\t\ttaskConfig.attributeTypes[ attribute ] = type.name;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar taskKey = JSON.stringify( taskConfig );\r\n\r\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\r\n\t\t// again from this thread.\r\n\t\tif ( DRACOLoader.taskCache.has( buffer ) ) {\r\n\r\n\t\t\tvar cachedTask = DRACOLoader.taskCache.get( buffer );\r\n\r\n\t\t\tif ( cachedTask.key === taskKey ) {\r\n\r\n\t\t\t\treturn cachedTask.promise;\r\n\r\n\t\t\t} else if ( buffer.byteLength === 0 ) {\r\n\r\n\t\t\t\t// Technically, it would be possible to wait for the previous task to complete,\r\n\t\t\t\t// transfer the buffer back, and decode again with the second configuration. That\r\n\t\t\t\t// is complex, and I don't know of any reason to decode a Draco buffer twice in\r\n\t\t\t\t// different ways, so this is left unimplemented.\r\n\t\t\t\tthrow new Error(\r\n\r\n\t\t\t\t\t'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\r\n\t\t\t\t\t'settings. Buffer has already been transferred.'\r\n\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar worker;\r\n\t\tvar taskID = this.workerNextTaskID ++;\r\n\t\tvar taskCost = buffer.byteLength;\r\n\r\n\t\t// Obtain a worker and assign a task, and construct a geometry instance\r\n\t\t// when the task completes.\r\n\t\tvar geometryPending = this._getWorker( taskID, taskCost )\r\n\t\t\t.then( ( _worker ) => {\r\n\r\n\t\t\t\tworker = _worker;\r\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\r\n\r\n\t\t\t\t\tworker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );\r\n\r\n\t\t\t\t\t// this.debug();\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t} )\r\n\t\t\t.then( ( message ) => this._createGeometry( message.geometry ) );\r\n\r\n\t\t// Remove task from the task list.\r\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\r\n\t\tgeometryPending\r\n\t\t\t.catch( () => true )\r\n\t\t\t.then( () => {\r\n\r\n\t\t\t\tif ( worker && taskID ) {\r\n\r\n\t\t\t\t\tthis._releaseTask( worker, taskID );\r\n\r\n\t\t\t\t\t// this.debug();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\r\n\t\t// Cache the task result.\r\n\t\tDRACOLoader.taskCache.set( buffer, {\r\n\r\n\t\t\tkey: taskKey,\r\n\t\t\tpromise: geometryPending\r\n\r\n\t\t} );\r\n\r\n\t\treturn geometryPending;\r\n\r\n\t},\r\n\r\n\t_createGeometry: function ( geometryData ) {\r\n\r\n\t\tvar geometry = new BufferGeometry();\r\n\r\n\t\tif ( geometryData.index ) {\r\n\r\n\t\t\tgeometry.setIndex( new BufferAttribute( geometryData.index.array, 1 ) );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < geometryData.attributes.length; i ++ ) {\r\n\r\n\t\t\tvar attribute = geometryData.attributes[ i ];\r\n\t\t\tvar name = attribute.name;\r\n\t\t\tvar array = attribute.array;\r\n\t\t\tvar itemSize = attribute.itemSize;\r\n\r\n\t\t\tgeometry.setAttribute( name, new BufferAttribute( array, itemSize ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t},\r\n\r\n\t_loadLibrary: function ( url, responseType ) {\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.decoderPath );\r\n\t\tloader.setResponseType( responseType );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\tloader.load( url, resolve, undefined, reject );\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\tpreload: function () {\r\n\r\n\t\tthis._initDecoder();\r\n\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t_initDecoder: function () {\r\n\r\n\t\tif ( this.decoderPending ) return this.decoderPending;\r\n\r\n\t\tvar useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\r\n\t\tvar librariesPending = [];\r\n\r\n\t\tif ( useJS ) {\r\n\r\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );\r\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );\r\n\r\n\t\t}\r\n\r\n\t\tthis.decoderPending = Promise.all( librariesPending )\r\n\t\t\t.then( ( libraries ) => {\r\n\r\n\t\t\t\tvar jsContent = libraries[ 0 ];\r\n\r\n\t\t\t\tif ( ! useJS ) {\r\n\r\n\t\t\t\t\tthis.decoderConfig.wasmBinary = libraries[ 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar fn = DRACOLoader.DRACOWorker.toString();\r\n\r\n\t\t\t\tvar body = [\r\n\t\t\t\t\t'/* draco decoder */',\r\n\t\t\t\t\tjsContent,\r\n\t\t\t\t\t'',\r\n\t\t\t\t\t'/* worker */',\r\n\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\r\n\t\t\t\t].join( '\\n' );\r\n\r\n\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\r\n\r\n\t\t\t} );\r\n\r\n\t\treturn this.decoderPending;\r\n\r\n\t},\r\n\r\n\t_getWorker: function ( taskID, taskCost ) {\r\n\r\n\t\treturn this._initDecoder().then( () => {\r\n\r\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\r\n\r\n\t\t\t\tvar worker = new Worker( this.workerSourceURL );\r\n\r\n\t\t\t\tworker._callbacks = {};\r\n\t\t\t\tworker._taskCosts = {};\r\n\t\t\t\tworker._taskLoad = 0;\r\n\r\n\t\t\t\tworker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );\r\n\r\n\t\t\t\tworker.onmessage = function ( e ) {\r\n\r\n\t\t\t\t\tvar message = e.data;\r\n\r\n\t\t\t\t\tswitch ( message.type ) {\r\n\r\n\t\t\t\t\t\tcase 'decode':\r\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'error':\r\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.error( 'THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.workerPool.push( worker );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\r\n\r\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar worker = this.workerPool[ this.workerPool.length - 1 ];\r\n\t\t\tworker._taskCosts[ taskID ] = taskCost;\r\n\t\t\tworker._taskLoad += taskCost;\r\n\t\t\treturn worker;\r\n\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\t_releaseTask: function ( worker, taskID ) {\r\n\r\n\t\tworker._taskLoad -= worker._taskCosts[ taskID ];\r\n\t\tdelete worker._callbacks[ taskID ];\r\n\t\tdelete worker._taskCosts[ taskID ];\r\n\r\n\t},\r\n\r\n\tdebug: function () {\r\n\r\n\t\tconsole.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );\r\n\r\n\t},\r\n\r\n\tdispose: function () {\r\n\r\n\t\tfor ( var i = 0; i < this.workerPool.length; ++ i ) {\r\n\r\n\t\t\tthis.workerPool[ i ].terminate();\r\n\r\n\t\t}\r\n\r\n\t\tthis.workerPool.length = 0;\r\n\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/* WEB WORKER */\r\n\r\nDRACOLoader.DRACOWorker = function () {\r\n\r\n\tvar decoderConfig;\r\n\tvar decoderPending;\r\n\r\n\tonmessage = function ( e ) {\r\n\r\n\t\tvar message = e.data;\r\n\r\n\t\tswitch ( message.type ) {\r\n\r\n\t\t\tcase 'init':\r\n\t\t\t\tdecoderConfig = message.decoderConfig;\r\n\t\t\t\tdecoderPending = new Promise(resolve => {\r\n\t\t\t\t\tdecoderConfig.onModuleLoaded = function ( draco ) {\r\n\r\n\t\t\t\t\t\t// Module is Promise-like. Wrap before resolving to avoid loop.\r\n\t\t\t\t\t\tresolve( { draco: draco } );\r\n\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tDracoDecoderModule( decoderConfig ); // eslint-disable-line no-undef\r\n\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'decode':\r\n\t\t\t\tvar buffer = message.buffer;\r\n\t\t\t\tvar taskConfig = message.taskConfig;\r\n\t\t\t\tdecoderPending.then( ( module ) => {\r\n\r\n\t\t\t\t\tvar draco = module.draco;\r\n\t\t\t\t\tvar decoder = new draco.Decoder();\r\n\t\t\t\t\tvar decoderBuffer = new draco.DecoderBuffer();\r\n\t\t\t\t\tdecoderBuffer.Init( new Int8Array( buffer ), buffer.byteLength );\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\tvar geometry = decodeGeometry( draco, decoder, decoderBuffer, taskConfig );\r\n\r\n\t\t\t\t\t\tvar buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );\r\n\r\n\t\t\t\t\t\tif ( geometry.index ) buffers.push( geometry.index.array.buffer );\r\n\r\n\t\t\t\t\t\tself.postMessage( { type: 'decode', id: message.id, geometry }, buffers );\r\n\r\n\t\t\t\t\t} catch ( error ) {\r\n\r\n\t\t\t\t\t\tconsole.error( error );\r\n\r\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\r\n\r\n\t\t\t\t\t} finally {\r\n\r\n\t\t\t\t\t\tdraco.destroy( decoderBuffer );\r\n\t\t\t\t\t\tdraco.destroy( decoder );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction decodeGeometry( draco, decoder, decoderBuffer, taskConfig ) {\r\n\r\n\t\tvar attributeIDs = taskConfig.attributeIDs;\r\n\t\tvar attributeTypes = taskConfig.attributeTypes;\r\n\r\n\t\tvar dracoGeometry;\r\n\t\tvar decodingStatus;\r\n\r\n\t\tvar geometryType = decoder.GetEncodedGeometryType( decoderBuffer );\r\n\r\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\r\n\r\n\t\t\tdracoGeometry = new draco.Mesh();\r\n\t\t\tdecodingStatus = decoder.DecodeBufferToMesh( decoderBuffer, dracoGeometry );\r\n\r\n\t\t} else if ( geometryType === draco.POINT_CLOUD ) {\r\n\r\n\t\t\tdracoGeometry = new draco.PointCloud();\r\n\t\t\tdecodingStatus = decoder.DecodeBufferToPointCloud( decoderBuffer, dracoGeometry );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {\r\n\r\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );\r\n\r\n\t\t}\r\n\r\n\t\tvar geometry = { index: null, attributes: [] };\r\n\r\n\t\t// Gather all vertex attributes.\r\n\t\tfor ( var attributeName in attributeIDs ) {\r\n\r\n\t\t\tvar attributeType = self[ attributeTypes[ attributeName ] ];\r\n\r\n\t\t\tvar attribute;\r\n\t\t\tvar attributeID;\r\n\r\n\t\t\t// A Draco file may be created with default vertex attributes, whose attribute IDs\r\n\t\t\t// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\r\n\t\t\t// a Draco file may contain a custom set of attributes, identified by known unique\r\n\t\t\t// IDs. glTF files always do the latter, and `.drc` files typically do the former.\r\n\t\t\tif ( taskConfig.useUniqueIDs ) {\r\n\r\n\t\t\t\tattributeID = attributeIDs[ attributeName ];\r\n\t\t\t\tattribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tattributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );\r\n\r\n\t\t\t\tif ( attributeID === - 1 ) continue;\r\n\r\n\t\t\t\tattribute = decoder.GetAttribute( dracoGeometry, attributeID );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.attributes.push( decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) );\r\n\r\n\t\t}\r\n\r\n\t\t// Add index.\r\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\r\n\r\n\t\t\tgeometry.index = decodeIndex( draco, decoder, dracoGeometry );\r\n\r\n\t\t}\r\n\r\n\t\tdraco.destroy( dracoGeometry );\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n\tfunction decodeIndex( draco, decoder, dracoGeometry ) {\r\n\r\n\t\tvar numFaces = dracoGeometry.num_faces();\r\n\t\tvar numIndices = numFaces * 3;\r\n\t\tvar byteLength = numIndices * 4;\r\n\r\n\t\tvar ptr = draco._malloc( byteLength );\r\n\t\tdecoder.GetTrianglesUInt32Array( dracoGeometry, byteLength, ptr );\r\n\t\tvar index = new Uint32Array( draco.HEAPF32.buffer, ptr, numIndices ).slice();\r\n\t\tdraco._free( ptr );\r\n\r\n\t\treturn { array: index, itemSize: 1 };\r\n\r\n\t}\r\n\r\n\tfunction decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {\r\n\r\n\t\tvar numComponents = attribute.num_components();\r\n\t\tvar numPoints = dracoGeometry.num_points();\r\n\t\tvar numValues = numPoints * numComponents;\r\n\t\tvar byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\r\n\t\tvar dataType = getDracoDataType( draco, attributeType );\r\n\r\n\t\tvar ptr = draco._malloc( byteLength );\r\n\t\tdecoder.GetAttributeDataArrayForAllPoints( dracoGeometry, attribute, dataType, byteLength, ptr );\r\n\t\tvar array = new attributeType( draco.HEAPF32.buffer, ptr, numValues ).slice();\r\n\t\tdraco._free( ptr );\r\n\r\n\t\treturn {\r\n\t\t\tname: attributeName,\r\n\t\t\tarray: array,\r\n\t\t\titemSize: numComponents\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction getDracoDataType( draco, attributeType ) {\r\n\r\n\t\tswitch ( attributeType ) {\r\n\r\n\t\t\tcase Float32Array: return draco.DT_FLOAT32;\r\n\t\t\tcase Int8Array: return draco.DT_INT8;\r\n\t\t\tcase Int16Array: return draco.DT_INT16;\r\n\t\t\tcase Int32Array: return draco.DT_INT32;\r\n\t\t\tcase Uint8Array: return draco.DT_UINT8;\r\n\t\t\tcase Uint16Array: return draco.DT_UINT16;\r\n\t\t\tcase Uint32Array: return draco.DT_UINT32;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nDRACOLoader.taskCache = new WeakMap();\r\n\r\n/** Deprecated static methods */\r\n\r\n/** @deprecated */\r\nDRACOLoader.setDecoderPath = function () {\r\n\r\n\tconsole.warn( 'THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.' );\r\n\r\n};\r\n\r\n/** @deprecated */\r\nDRACOLoader.setDecoderConfig = function () {\r\n\r\n\tconsole.warn( 'THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.' );\r\n\r\n};\r\n\r\n/** @deprecated */\r\nDRACOLoader.releaseDecoderModule = function () {\r\n\r\n\tconsole.warn( 'THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.' );\r\n\r\n};\r\n\r\n/** @deprecated */\r\nDRACOLoader.getDecoderModule = function () {\r\n\r\n\tconsole.warn( 'THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.' );\r\n\r\n};\r\n\r\nexport { DRACOLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/DRACOLoader.js","<template>\r\n    <div class=\"webglAnimationKeyframes-container\">\r\n        <div id=\"container\"></div>\r\n\r\n\t\t<div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> webgl - animation - keyframes<br/>\r\n\t\t\tModel: <a href=\"https://www.artstation.com/artwork/1AGwX\" target=\"_blank\" rel=\"noopener\">Littlest Tokyo</a> by\r\n\t\t\t<a href=\"https://www.artstation.com/glenatron\" target=\"_blank\" rel=\"noopener\">Glen Fox</a>, CC Attribution.\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nimport { GLTFLoader } from '@/components/jsm/loaders/GLTFLoader.js'\r\nimport { DRACOLoader } from '@/components/jsm/loaders/DRACOLoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            mixer: null,\r\n            clock: null,\r\n            container: null,\r\n            stats: null,\r\n            renderer: null,\r\n            scene: null,\r\n            camera: null,\r\n            dirLight: null\r\n        }\r\n    },\r\n    mounted() {\r\n        this.clock = new this.$THREE.Clock()\r\n        this.init()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.container = document.getElementById('container')\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            this.container.appendChild(this.stats.dom)\r\n            this.renderer = new this.$THREE.WebGLRenderer({antialias: true})\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            this.renderer.outputEncoding = this.$THREE.sRGBEncoding\r\n            this.container.appendChild(this.renderer.domElement)\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.background = new this.$THREE.Color(0xbfe3dd)\r\n            this.camera = new this.$THREE.PerspectiveCamera(40, this.$webglInnerWidth / window.innerHeight, 1, 100)\r\n            this.camera.position.set(5, 2, 8)\r\n            this.controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n            this.controls.target.set(0, 0.5, 0)\r\n            this.controls.update()\r\n            this.controls.enablePan = false\r\n            this.controls.enableDamping = true\r\n            this.scene.add(new this.$THREE.HemisphereLight(0xffffff, 0x000000, 0.4))\r\n            this.dirLight = new this.$THREE.DirectionalLight(0xffffff, 1)\r\n            this.dirLight.position.set(5, 2, 8)\r\n            this.scene.add(this.dirLight)\r\n            // envmap\r\n\t\t\tvar path = 'static/textures/cube/Park2/'\r\n\t\t\tvar format = '.jpg'\r\n\t\t\tconst envMap = new this.$THREE.CubeTextureLoader().load([\r\n\t\t\t\tpath + 'posx' + format, path + 'negx' + format,\r\n\t\t\t\tpath + 'posy' + format, path + 'negy' + format,\r\n\t\t\t\tpath + 'posz' + format, path + 'negz' + format\r\n            ])\r\n\t\t\tvar dracoLoader = new DRACOLoader()\r\n            dracoLoader.setDecoderPath('static/js/libs/draco/gltf/')\r\n            var loader = new GLTFLoader()\r\n            loader.setDRACOLoader(dracoLoader)\r\n\t\t\tloader.load('static/models/gltf/LittlestTokyo.glb', (gltf) => {\r\n\t\t\t\tvar model = gltf.scene\r\n\t\t\t\tmodel.position.set(1, 1, 0)\r\n\t\t\t\tmodel.scale.set(0.01, 0.01, 0.01)\r\n\t\t\t\tmodel.traverse(function (child) {\r\n\t\t\t\t\tif (child.isMesh) child.material.envMap = envMap\r\n                })\r\n                var that = this\r\n\t\t\t\tthat.scene.add(model)\r\n\t\t\t\tthat.mixer = new that.$THREE.AnimationMixer(model)\r\n\t\t\t\tthat.mixer.clipAction(gltf.animations[0]).play()\r\n\t\t\t\tthat.animate()\r\n\t\t\t}, undefined, function(e) {\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t})\r\n        },\r\n        onresize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            var delta = this.clock.getDelta()\r\n            this.mixer.update(delta)\r\n            this.controls.update()\r\n            this.stats.update()\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglAnimationKeyframes-container {\r\n    background-color: #bfe3dd;\r\n\tcolor: #000;\r\n}\r\na {\r\n    color: #2983ff;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/animation/webglAnimationKeyframes.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglAnimationKeyframes-container\"},[_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" webgl - animation - keyframes\"),_c('br'),_vm._v(\"\\n\\t\\t\\tModel: \"),_c('a',{attrs:{\"href\":\"https://www.artstation.com/artwork/1AGwX\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Littlest Tokyo\")]),_vm._v(\" by\\n\\t\\t\\t\"),_c('a',{attrs:{\"href\":\"https://www.artstation.com/glenatron\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Glen Fox\")]),_vm._v(\", CC Attribution.\\n\\t\\t\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43a0866a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/animation/webglAnimationKeyframes.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43a0866a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglAnimationKeyframes.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglAnimationKeyframes.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglAnimationKeyframes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43a0866a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglAnimationKeyframes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43a0866a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/animation/webglAnimationKeyframes.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}