webpackJsonp([119],{E9p1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("QEtz"),r=n("wIBv"),a=n("qxm1"),s=n("NAKL"),o={data:function(){return{mesh:null,renderer:null,scene:null,camera:null,API:{color:16777215,exposure:1},gui:null}},mounted:function(){this.init()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e=this;this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglMaterialsMatcap-container")[0].appendChild(this.renderer.domElement),this.renderer.toneMapping=this.$THREE.ACESFilmicToneMapping,this.renderer.toneMappingExposure=this.API.exposure,this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,100),this.camera.position.set(0,0,13);var t=new r.a(this.camera,this.renderer.domElement);t.addEventListener("change",this.render),t.enableZoom=!1,t.enablePan=!1;var n=new this.$THREE.LoadingManager(this.render),o=new s.a(n).setDataType(this.$THREE.UnsignedByteType).load("static/textures/matcaps/040full.exr"),d=new this.$THREE.TextureLoader(n).load("static/models/gltf/LeePerrySmith/Infinite-Level_02_Tangent_SmoothUV.jpg");new a.a(n).load("static/models/gltf/LeePerrySmith/LeePerrySmith.glb",function(t){e.mesh=t.scene.children[0],e.mesh.position.y=-.25,e.mesh.material=new e.$THREE.MeshMatcapMaterial({color:(new e.$THREE.Color).setHex(e.API.color).convertSRGBToLinear(),matcap:o,normalMap:d}),e.scene.add(e.mesh)}),this.gui=new i.a,this.gui.addColor(this.API,"color").listen().onChange(function(){e.mesh.material.color.set(e.API.color).convertSRGBToLinear(),e.render()}),this.gui.add(this.API,"exposure",0,2).onChange(function(){e.renderer.toneMappingExposure=e.API.exposure,e.render()}),this.gui.domElement.style.webkitUserSelect="none",this.initDragAndDrop(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.render()},render:function(){this.renderer.render(this.scene,this.camera)},updateMatcap:function(e){this.mesh.material.matcap&&this.mesh.material.matcap.dispose(),this.mesh.material.matcap=e,this.texture.needsUpdate=!0,this.mesh.material.needsUpdate=!0,this.render()},handleJPG:function(e){var t=this;var n=new Image;n.onload=function(e){var n=new this.$THREE.Texture(e.target);n.encoding=this.$THREE.sRGBEncoding,t.updateMatcap(n)},n.src=e.target.result},handleEXR:function(e){var t=e.target.result,n=new s.a;n.setDataType(this.$THREE.UnsignedByteType);var i=n.parse(t),r=new this.$THREE.DataTexture;switch(r.image.width=i.width,r.image.height=i.height,r.image.data=i.data,r.format=i.format,r.type=i.type,r.type){case this.$THREE.UnsignedByteType:r.encoding=this.$THREE.RGBEEncoding,r.minFilter=this.$THREE.NearestFilter,r.magFilter=this.$THREE.NearestFilter,r.generateMipmaps=!1,r.flipY=!1;break;case this.$THREE.FloatType:case this.$THREE.HalfFloatType:r.encoding=this.$THREE.LinearEncoding,r.minFilter=this.$THREE.LinearFilter,r.magFilter=this.$THREE.LinearFilter,r.generateMipmaps=!1,r.flipY=!1}this.updateMatcap(r)},loadFile:function(e){var t;"exr"===e.name.split(".").pop().toLowerCase()?((t=new FileReader).addEventListener("load",function(e){handleEXR(e)},!1),t.readAsArrayBuffer(e)):((t=new FileReader).addEventListener("load",function(e){handleJPG(e)},!1),t.readAsDataURL(e))},initDragAndDrop:function(){document.addEventListener("dragover",function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),document.addEventListener("drop",function(e){e.preventDefault(),loadFile(e.dataTransfer.files[0])},!1)}}},d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMaterialsMatcap-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - webgl materials matcap"),t("br"),this._v("\n\t\t\tDrag-and-drop JPG, PNG, or EXR MatCap image files"),t("br")])])}]};var h=n("VU/8")(o,d,!1,function(e){n("rqt+")},"data-v-60774430",null);t.default=h.exports},"rqt+":function(e,t){}});
//# sourceMappingURL=119.55466a6b9f6367c9e790.js.map