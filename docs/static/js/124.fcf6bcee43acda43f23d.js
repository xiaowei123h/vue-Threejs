webpackJsonp([124],{KUBm:function(t,e){},opUg:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("TWUs"),a=r("xTnh"),n=r("FktL"),s={data:function(){return{container:null,stats:null,camera:null,controls:null,scene:null,renderer:null,worldWidth:128,worldDepth:128,worldHalfWidth:null,worldHalfDepth:null,data:null,clock:null}},mounted:function(){this.worldHalfWidth=this.worldWidth/2,this.worldHalfDepth=this.worldDepth/2,this.data=this.generateHeight(this.worldWidth,this.worldDepth),this.clock=new this.$THREE.Clock,this.init(),this.animate()},methods:{init:function(){this.container=document.getElementById("container"),this.camera=new this.$THREE.PerspectiveCamera(60,this.$webglInnerWidth/window.innerHeight,1,2e4),this.camera.position.y=100*this.getY(this.worldHalfWidth,this.worldHalfDepth)+100,this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(12571109);var t=new this.$THREE.Matrix4,e=new this.$THREE.PlaneBufferGeometry(100,100);e.attributes.uv.array[1]=.5,e.attributes.uv.array[3]=.5,e.rotateY(Math.PI/2),e.translate(50,0,0);var r=new this.$THREE.PlaneBufferGeometry(100,100);r.attributes.uv.array[1]=.5,r.attributes.uv.array[3]=.5,r.rotateY(-Math.PI/2),r.translate(-50,0,0);var a=new this.$THREE.PlaneBufferGeometry(100,100);a.attributes.uv.array[5]=.5,a.attributes.uv.array[7]=.5,a.rotateX(-Math.PI/2),a.translate(0,50,0);var s=new this.$THREE.PlaneBufferGeometry(100,100);s.attributes.uv.array[1]=.5,s.attributes.uv.array[3]=.5,s.translate(0,0,50);var h=new this.$THREE.PlaneBufferGeometry(100,100);h.attributes.uv.array[1]=.5,h.attributes.uv.array[3]=.5,h.rotateY(Math.PI),h.translate(0,0,-50);for(var o=[],l=0;l<this.worldDepth;l++)for(var d=0;d<this.worldWidth;d++){var c=this.getY(d,l);t.makeTranslation(100*d-100*this.worldHalfWidth,100*c,100*l-100*this.worldHalfDepth);var u=this.getY(d+1,l),w=this.getY(d-1,l),f=this.getY(d,l+1),p=this.getY(d,l-1);o.push(a.clone().applyMatrix4(t)),(u!==c&&u!==c+1||0===d)&&o.push(e.clone().applyMatrix4(t)),(w!==c&&w!==c+1||d===this.worldWidth-1)&&o.push(r.clone().applyMatrix4(t)),(f!==c&&f!==c+1||l===this.worldDepth-1)&&o.push(s.clone().applyMatrix4(t)),(p!==c&&p!==c+1||0===l)&&o.push(h.clone().applyMatrix4(t))}var m=n.a.mergeBufferGeometries(o);m.computeBoundingSphere();var v=(new this.$THREE.TextureLoader).load("static/textures/minecraft/atlas.png");v.magFilter=this.$THREE.NearestFilter;var E=new this.$THREE.Mesh(m,new this.$THREE.MeshLambertMaterial({map:v,side:this.$THREE.DoubleSide}));this.scene.add(E);var g=new this.$THREE.AmbientLight(13421772);this.scene.add(g);var H=new this.$THREE.DirectionalLight(16777215,2);H.position.set(1,1,.5).normalize(),this.scene.add(H),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.controls=new i.a(this.camera,this.renderer.domElement),this.controls.movementSpeed=1e3,this.controls.lookSpeed=.125,this.controls.lookVertical=!0,this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.controls.handleResize()},generateHeight:function(t,e){for(var r=[],i=new a.a,n=t*e,s=100*Math.random(),h=2,o=0;o<4;o++){if(0===o)for(var l=0;l<n;l++)r[l]=0;for(var d=0;d<n;d++){var c=d%t,u=d/t|0;r[d]+=i.noise(c/h,u/h,s)*h}h*=4}return r},getY:function(t,e){return.2*this.data[t+e*this.worldWidth]|0},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){this.controls.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera)}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglGeometryMinecraft-container"},[e("div",{attrs:{id:"container"}}),this._v(" "),e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - "),e("a",{attrs:{href:"http://www.minecraft.net/",target:"_blank",rel:"noopener"}},[this._v("minecraft")]),this._v(" demo. featuring "),e("a",{attrs:{href:"http://painterlypack.net/",target:"_blank",rel:"noopener"}},[this._v("painterly pack")]),e("br"),this._v("(left click: forward, right click: backward)")])])}]};var o=r("VU/8")(s,h,!1,function(t){r("KUBm")},"data-v-2b6de3a4",null);e.default=o.exports}});
//# sourceMappingURL=124.fcf6bcee43acda43f23d.js.map