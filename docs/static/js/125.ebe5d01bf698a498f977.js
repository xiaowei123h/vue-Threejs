webpackJsonp([125],{bCn8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("TWUs"),n=i("qxm1"),o={data:function(){return{SHADOW_MAP_WIDTH:2048,SHADOW_MAP_HEIGHT:1024,SCREEN_WIDTH:null,SCREEN_HEIGHT:null,FLOOR:-250,ANIMATION_GROUPS:25,camera:null,controls:null,scene:null,renderer:null,stats:null,NEAR:5,FAR:3e3,morph:null,mixer:null,morphs:[],animGroups:[],clock:null}},mounted:function(){this.SCREEN_WIDTH=this.$webglInnerWidth,this.SCREEN_HEIGHT=window.innerHeight,this.clock=new this.$THREE.Clock,this.init(),this.animate()},methods:{init:function(){var e=document.createElement("div");document.getElementsByClassName("webglShadowmapPerformance-container")[0].appendChild(e),this.camera=new this.$THREE.PerspectiveCamera(23,this.SCREEN_WIDTH/this.SCREEN_HEIGHT,this.NEAR,this.FAR),this.camera.position.set(700,50,1900),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(5850923),this.scene.fog=new this.$THREE.Fog(5850923,1e3,this.FAR);var t=new this.$THREE.AmbientLight(4473924);this.scene.add(t);var i=new this.$THREE.SpotLight(16777215,1,0,Math.PI/5,.3);i.position.set(0,1500,1e3),i.target.position.set(0,0,0),i.castShadow=!0,i.shadow.camera.near=1200,i.shadow.camera.far=2500,i.shadow.bias=1e-4,i.shadow.mapSize.width=this.SHADOW_MAP_WIDTH,i.shadow.mapSize.height=this.SHADOW_MAP_HEIGHT,this.scene.add(i),this.createScene(),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.SCREEN_WIDTH,this.SCREEN_HEIGHT),e.appendChild(this.renderer.domElement),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.renderer.autoClear=!1,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=this.$THREE.PCFSoftShadowMap,this.controls=new s.a(this.camera,this.renderer.domElement),this.controls.lookSpeed=.0125,this.controls.movementSpeed=500,this.controls.noFly=!1,this.controls.lookVertical=!0,this.controls.lookAt(this.scene.position),this.stats=new this.$Stats,this.stats.dom.style.left="280px",e.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.SCREEN_WIDTH=window.innerWidth-281,this.SCREEN_HEIGHT=window.innerHeight,this.$onWindowResize(this.camera,this.renderer),this.controls.handleResize()},createScene:function(){var e=this,t=new this.$THREE.PlaneBufferGeometry(100,100),i=new this.$THREE.MeshPhongMaterial({color:16758865}),s=new this.$THREE.Mesh(t,i);s.position.set(0,this.FLOOR,0),s.rotation.x=-Math.PI/2,s.scale.set(100,100,100),s.castShadow=!1,s.receiveShadow=!0,this.scene.add(s),(new this.$THREE.FontLoader).load("static/fonts/helvetiker_bold.typeface.json",function(t){var i=new e.$THREE.TextBufferGeometry("this.$THREE.JS",{font:t,size:200,height:50,curveSegments:12,bevelThickness:2,bevelSize:5,bevelEnabled:!0});i.computeBoundingBox();var s=-.5*(i.boundingBox.max.x-i.boundingBox.min.x),n=new e.$THREE.MeshPhongMaterial({color:16711680,specular:16777215}),o=new e.$THREE.Mesh(i,n);o.position.x=s,o.position.y=e.FLOOR+67,o.castShadow=!0,o.receiveShadow=!0,e.scene.add(o)});var o=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(1500,220,150),i);o.position.y=this.FLOOR-50,o.position.z=20,o.castShadow=!0,o.receiveShadow=!0,this.scene.add(o);var r=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(1600,170,250),i);r.position.y=this.FLOOR-50,r.position.z=20,r.castShadow=!0,r.receiveShadow=!0,this.scene.add(r),this.mixer=new this.$THREE.AnimationMixer(this.scene);for(var a=0;a!==this.ANIMATION_GROUPS;++a){var h=new this.$THREE.AnimationObjectGroup;this.animGroups.push(h)}var d=this;function c(e,t,i,s,n,o,r,a,h){if((e=e.clone()).material=e.material.clone(),a&&e.material.color.offsetHSL(0,.5*Math.random()-.25,.5*Math.random()-.25),e.speed=i,h){var c=Math.floor(Math.random()*d.ANIMATION_GROUPS),l=d.animGroups[c];if(l.add(e),!d.mixer.existingAction(t,l)){var m=(c+(.6*Math.random()-.3))/d.ANIMATION_GROUPS;d.mixer.clipAction(t,l).setDuration(s).startAt(-s*m).play()}}else d.mixer.clipAction(t,e).setDuration(s).startAt(-s*Math.random()).play();e.position.set(n,o,r),e.rotation.y=Math.PI/2,e.castShadow=!0,e.receiveShadow=!0,d.scene.add(e),d.morphs.push(e)}(new n.a).load("static/models/gltf/Horse.glb",function(t){for(var i=t.scene.children[0],s=t.animations[0],n=-600;n<601;n+=2)c(i,s,550,1,100-3e3*Math.random(),e.FLOOR,n,!0,!0)})},animate:function(){requestAnimationFrame(this.animate),this.stats.begin(),this.render(),this.stats.end()},render:function(){var e=this.clock.getDelta();this.mixer&&this.mixer.update(e);for(var t=0;t<this.morphs.length;t++)this.morph=this.morphs[t],this.morph.position.x+=this.morph.speed*e,this.morph.position.x>2e3&&(this.morph.position.x=-1e3-500*Math.random());this.controls.update(e),this.renderer.clear(),this.renderer.render(this.scene,this.camera)}}},r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglShadowmapPerformance-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - shadowmap - models by "),t("a",{attrs:{href:"https://mirada.com/",target:"_blank",rel:"noopener"}},[this._v("mirada")]),this._v(" from "),t("a",{attrs:{href:"http://www.ro.me",target:"_blank",rel:"noopener"}},[this._v("rome")]),t("br"),this._v("\n            move camera with WASD / RF + mouse\n\t\t")])])}]};var a=i("VU/8")(o,r,!1,function(e){i("mL7y")},"data-v-5b8c6ec6",null);t.default=a.exports},mL7y:function(e,t){}});
//# sourceMappingURL=125.ebe5d01bf698a498f977.js.map