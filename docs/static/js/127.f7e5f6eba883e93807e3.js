webpackJsonp([127],{"4Sok":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("6+nK"),n=function(e){r._14.call(this,e)};n.prototype=Object.assign(Object.create(r._14.prototype),{constructor:n,load:function(e,t,a,n){var i=this,s=new r.L(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(i.parse(a))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}},a,n)},parse:function(e){function t(e,t,a){for(var r=0,n=e.length;r<n;r++)if(e[r]!==t.getUint8(a+r,!1))return!1;return!0}var a,n=function(e){if("string"==typeof e){for(var t=new Uint8Array(e.length),a=0;a<e.length;a++)t[a]=255&e.charCodeAt(a);return t.buffer||t}return e}(e);return function(e){var a;if(84+50*(a=new DataView(e)).getUint32(80,!0)===a.byteLength)return!0;for(var r=[115,111,108,105,100],n=0;n<5;n++)if(t(r,a,n))return!1;return!0}(n)?function(e){for(var t,a,n,i,s,o,h,d,c=new DataView(e),l=c.getUint32(80,!0),w=!1,u=0;u<70;u++)1129270351==c.getUint32(u,!1)&&82==c.getUint8(u+4)&&61==c.getUint8(u+5)&&(w=!0,i=new Float32Array(3*l*3),s=c.getUint8(u+6)/255,o=c.getUint8(u+7)/255,h=c.getUint8(u+8)/255,d=c.getUint8(u+9)/255);for(var p=new r.k,f=new Float32Array(3*l*3),g=new Float32Array(3*l*3),m=0;m<l;m++){var E=84+50*m,v=c.getFloat32(E,!0),R=c.getFloat32(E+4,!0),b=c.getFloat32(E+8,!0);if(w){var T=c.getUint16(E+48,!0);0==(32768&T)?(t=(31&T)/31,a=(T>>5&31)/31,n=(T>>10&31)/31):(t=s,a=o,n=h)}for(var H=1;H<=3;H++){var S=E+12*H,y=3*m*3+3*(H-1);f[y]=c.getFloat32(S,!0),f[y+1]=c.getFloat32(S+4,!0),f[y+2]=c.getFloat32(S+8,!0),g[y]=v,g[y+1]=R,g[y+2]=b,w&&(i[y]=t,i[y+1]=a,i[y+2]=n)}}return p.setAttribute("position",new r.j(f,3)),p.setAttribute("normal",new r.j(g,3)),w&&(p.setAttribute("color",new r.j(i,3)),p.hasColors=!0,p.alpha=d),p}(n):function(e){for(var t,a=new r.k,n=/solid([\s\S]*?)endsolid/g,i=/facet([\s\S]*?)endfacet/g,s=0,o=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,h=new RegExp("vertex"+o+o+o,"g"),d=new RegExp("normal"+o+o+o,"g"),c=[],l=[],w=new r._92,u=0,p=0,f=0;null!==(t=n.exec(e));){p=f;for(var g=t[0];null!==(t=i.exec(g));){for(var m=0,E=0,v=t[0];null!==(t=d.exec(v));)w.x=parseFloat(t[1]),w.y=parseFloat(t[2]),w.z=parseFloat(t[3]),E++;for(;null!==(t=h.exec(v));)c.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),l.push(w.x,w.y,w.z),m++,f++;1!==E&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+s),3!==m&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+s),s++}var R=p,b=f-p;a.addGroup(R,b,u),u++}return a.setAttribute("position",new r.M(c,3)),a.setAttribute("normal",new r.M(l,3)),a}("string"!=typeof(a=e)?r._15.decodeText(new Uint8Array(a)):a)}});var i={data:function(){return{container:null,stats:null,camera:null,cameraTarget:null,scene:null,renderer:null}},mounted:function(){this.init(),this.animate()},methods:{init:function(){var e=this;this.container=document.createElement("div"),document.getElementsByClassName("webglLoaderStl-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(35,this.$webglInnerWidth/window.innerHeight,1,15),this.camera.position.set(3,.15,3),this.cameraTarget=new this.$THREE.Vector3(0,-.25,0),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(7496795),this.scene.fog=new this.$THREE.Fog(7496795,2,15);var t=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(40,40),new this.$THREE.MeshPhongMaterial({color:10066329,specular:1052688}));t.rotation.x=-Math.PI/2,t.position.y=-.5,this.scene.add(t),t.receiveShadow=!0;var a=new n;a.load("static/models/stl/ascii/slotted_disk.stl",function(t){var a=new e.$THREE.MeshPhongMaterial({color:16733491,specular:1118481,shininess:200}),r=new e.$THREE.Mesh(t,a);r.position.set(0,-.25,.6),r.rotation.set(0,-Math.PI/2,0),r.scale.set(.5,.5,.5),r.castShadow=!0,r.receiveShadow=!0,e.scene.add(r)});var r=new this.$THREE.MeshPhongMaterial({color:11184810,specular:1118481,shininess:200});a.load("static/models/stl/binary/pr2_head_pan.stl",function(t){var a=new e.$THREE.Mesh(t,r);a.position.set(0,-.37,-.6),a.rotation.set(-Math.PI/2,0,0),a.scale.set(2,2,2),a.castShadow=!0,a.receiveShadow=!0,e.scene.add(a)}),a.load("static/models/stl/binary/pr2_head_tilt.stl",function(t){var a=new e.$THREE.Mesh(t,r);a.position.set(.136,-.37,-.6),a.rotation.set(-Math.PI/2,.3,0),a.scale.set(2,2,2),a.castShadow=!0,a.receiveShadow=!0,e.scene.add(a)}),a.load("static/models/stl/binary/colored.stl",function(t){var a=r;t.hasColors&&(a=new e.$THREE.MeshPhongMaterial({opacity:t.alpha,vertexColors:!0}));var n=new e.$THREE.Mesh(t,a);n.position.set(.5,.2,0),n.rotation.set(-Math.PI/2,Math.PI/2,0),n.scale.set(.3,.3,.3),n.castShadow=!0,n.receiveShadow=!0,e.scene.add(n)}),this.scene.add(new this.$THREE.HemisphereLight(4469555,1118498)),this.addShadowedLight(1,1,1,16777215,1.35),this.addShadowedLight(.5,1,-1,16755200,1),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.renderer.shadowMap.enabled=!0,this.container.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},addShadowedLight:function(e,t,a,r,n){var i=new this.$THREE.DirectionalLight(r,n);i.position.set(e,t,a),this.scene.add(i),i.castShadow=!0;i.shadow.camera.left=-1,i.shadow.camera.right=1,i.shadow.camera.top=1,i.shadow.camera.bottom=-1,i.shadow.camera.near=1,i.shadow.camera.far=4,i.shadow.bias=-.002},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var e=5e-4*Date.now();this.camera.position.x=3*Math.cos(e),this.camera.position.z=3*Math.sin(e),this.camera.lookAt(this.cameraTarget),this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderStl-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" -\n\t\t\tSTL loader test by "),t("a",{attrs:{href:"https://github.com/aleeper",target:"_blank",rel:"noopener"}},[this._v("aleeper")]),this._v("."),t("br"),this._v("\n\t\t\tPR2 head from "),t("a",{attrs:{href:"http://www.ros.org/wiki/pr2_description"}},[this._v("www.ros.org")])])])}]};var o=a("VU/8")(i,s,!1,function(e){a("kB3W")},"data-v-2437aeee",null);t.default=o.exports},kB3W:function(e,t){}});
//# sourceMappingURL=127.f7e5f6eba883e93807e3.js.map