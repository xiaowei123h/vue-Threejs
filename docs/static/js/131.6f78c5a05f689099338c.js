webpackJsonp([131],{I1rk:function(t,e){},J0vT:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("wIBv"),s={data:function(){return{vertexShader:"",SCREEN_WIDTH:"",SCREEN_HEIGHT:"",container:"",stats:"",camera:"",scene:"",renderer:"",light:"",uniforms:{},skyGeo:"",skyMat:"",sky:"",controls:"",loader:""}},mounted:function(){this.SCREEN_WIDTH=this.$webglInnerWidth,this.SCREEN_HEIGHT=window.innerHeight,this.initShaderMaterialsData(),this.init(),this.animate()},methods:{initShaderMaterialsData:function(){this.vertexShader="\n            varying vec3 vWorldPosition;\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\t\tvWorldPosition = worldPosition.xyz;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n            }",this.fragmentShader="\n            uniform vec3 topColor;\n\t\t\tuniform vec3 bottomColor;\n\t\t\tuniform float offset;\n\t\t\tuniform float exponent;\n\n\t\t\tvarying vec3 vWorldPosition;\n\n\t\t\tvoid main() {\n\t\t\t\tfloat h = normalize( vWorldPosition + offset ).y;\n\t\t\t\tgl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );\n\t\t\t}"},init:function(){this.container=document.createElement("div"),document.getElementsByClassName("webglMLightmap-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(40,this.SCREEN_WIDTH/this.SCREEN_HEIGHT,1,1e4),this.camera.position.set(700,200,-500),this.scene=new this.$THREE.Scene,this.light=new this.$THREE.DirectionalLight(11189247,.3),this.light.position.x=300,this.light.position.y=250,this.light.position.z=-500,this.scene.add(this.light),this.uniforms={topColor:{value:new this.$THREE.Color(30719)},bottomColor:{value:new this.$THREE.Color(16777215)},offset:{value:400},exponent:{value:.6}},this.uniforms.topColor.value.copy(this.light.color),this.skyGeo=new this.$THREE.SphereBufferGeometry(4e3,32,15),this.skyMat=new this.$THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,side:this.$THREE.BackSide}),this.sky=new this.$THREE.Mesh(this.skyGeo,this.skyMat),this.scene.add(this.sky),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.SCREEN_WIDTH,this.SCREEN_HEIGHT),this.container.appendChild(this.renderer.domElement),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.controls=new n.a(this.camera,this.renderer.domElement),this.controls.maxPolarAngle=.9*Math.PI/2,this.controls.enableZoom=!1,this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),this.loader=new this.$THREE.ObjectLoader;var t=this;this.loader.load("static/models/json/lightmap/lightmap.json",function(e){t.scene.add(e)}),window.addEventListener("resize",this.onWindowResize,!1)},animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera),this.stats.update()},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"webglMLightmap-container"})},staticRenderFns:[]};var r=i("VU/8")(s,o,!1,function(t){i("I1rk")},"data-v-20857a78",null);e.default=r.exports}});
//# sourceMappingURL=131.6f78c5a05f689099338c.js.map