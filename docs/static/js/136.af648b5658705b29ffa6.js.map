{"version":3,"sources":["webpack:///./src/components/jsm/helpers/VertexTangentsHelper.js","webpack:///src/views/helpers/webglHelpers.vue","webpack:///./src/views/helpers/webglHelpers.vue?1f08","webpack:///./src/views/helpers/webglHelpers.vue"],"names":["_v1","Vector3","_v2","VertexTangentsHelper","object","size","hex","this","undefined","color","objGeometry","geometry","isBufferGeometry","nTangents","attributes","tangent","count","BufferGeometry","positions","Float32BufferAttribute","setAttribute","LineSegments","call","LineBasicMaterial","toneMapped","type","matrixAutoUpdate","update","console","error","prototype","Object","create","constructor","updateMatrixWorld","matrixWorld","position","objPos","objTan","idx","j","jl","set","getX","getY","getZ","applyMatrix4","transformDirection","multiplyScalar","add","setXYZ","x","y","z","needsUpdate","webglHelpers","data","scene","renderer","camera","light","vnh","vth","mounted","init","animate","methods","_this","$THREE","WebGLRenderer","setPixelRatio","window","devicePixelRatio","setSize","$webglInnerWidth","innerHeight","document","getElementsByClassName","appendChild","domElement","PerspectiveCamera","Scene","PointLight","PointLightHelper","gridHelper","GridHelper","polarGridHelper","PolarGridHelper","GLTFLoader","load","gltf","mesh","children","BufferGeometryUtils","computeTangents","group","Group","scale","VertexNormalsHelper","BoxHelper","wireframe","WireframeGeometry","line","material","depthTest","opacity","transparent","edges","EdgesGeometry","addEventListener","onWindowResize","$onWindowResize","requestAnimationFrame","time","performance","now","Math","cos","sin","lookAt","render","helpers_webglHelpers","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/136.af648b5658705b29ffa6.js","sourcesContent":["import {\r\n\tBufferGeometry,\r\n\tFloat32BufferAttribute,\r\n\tLineSegments,\r\n\tLineBasicMaterial,\r\n\tVector3\r\n} from '@/components/build/three.module.js';\r\n\r\nvar _v1 = new Vector3();\r\nvar _v2 = new Vector3();\r\n\r\nfunction VertexTangentsHelper( object, size, hex ) {\r\n\r\n\tthis.object = object;\r\n\r\n\tthis.size = ( size !== undefined ) ? size : 1;\r\n\r\n\tvar color = ( hex !== undefined ) ? hex : 0x00ffff;\r\n\r\n\t//\r\n\r\n\tvar objGeometry = this.object.geometry;\r\n\r\n\tif ( ! ( objGeometry && objGeometry.isBufferGeometry ) ) {\r\n\r\n\t\tconsole.error( 'THREE.VertexTangentsHelper: geometry not an instance of THREE.BufferGeometry.', objGeometry );\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tvar nTangents = objGeometry.attributes.tangent.count;\r\n\r\n\t//\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\r\n\tvar positions = new Float32BufferAttribute( nTangents * 2 * 3, 3 );\r\n\r\n\tgeometry.setAttribute( 'position', positions );\r\n\r\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\r\n\r\n\tthis.type = 'VertexTangentsHelper';\r\n\r\n\t//\r\n\r\n\tthis.matrixAutoUpdate = false;\r\n\r\n\tthis.update();\r\n\r\n}\r\n\r\nVertexTangentsHelper.prototype = Object.create( LineSegments.prototype );\r\nVertexTangentsHelper.prototype.constructor = VertexTangentsHelper;\r\n\r\nVertexTangentsHelper.prototype.update = function () {\r\n\r\n\tthis.object.updateMatrixWorld( true );\r\n\r\n\tvar matrixWorld = this.object.matrixWorld;\r\n\r\n\tvar position = this.geometry.attributes.position;\r\n\r\n\t//\r\n\r\n\tvar objGeometry = this.object.geometry;\r\n\r\n\tvar objPos = objGeometry.attributes.position;\r\n\r\n\tvar objTan = objGeometry.attributes.tangent;\r\n\r\n\tvar idx = 0;\r\n\r\n\t// for simplicity, ignore index and drawcalls, and render every tangent\r\n\r\n\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\r\n\r\n\t\t_v1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\r\n\r\n\t\t_v2.set( objTan.getX( j ), objTan.getY( j ), objTan.getZ( j ) );\r\n\r\n\t\t_v2.transformDirection( matrixWorld ).multiplyScalar( this.size ).add( _v1 );\r\n\r\n\t\tposition.setXYZ( idx, _v1.x, _v1.y, _v1.z );\r\n\r\n\t\tidx = idx + 1;\r\n\r\n\t\tposition.setXYZ( idx, _v2.x, _v2.y, _v2.z );\r\n\r\n\t\tidx = idx + 1;\r\n\r\n\t}\r\n\r\n\tposition.needsUpdate = true;\r\n\r\n};\r\n\r\nexport { VertexTangentsHelper };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/helpers/VertexTangentsHelper.js","<template>\r\n    <div class=\"webglHelpers-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - helpers\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { GLTFLoader } from '@/components/jsm/loaders/GLTFLoader.js'\r\nimport { VertexNormalsHelper } from '@/components/jsm/helpers/VertexNormalsHelper.js'\r\nimport { VertexTangentsHelper } from '@/components/jsm/helpers/VertexTangentsHelper.js'\r\nimport { BufferGeometryUtils } from '@/components/jsm/utils/BufferGeometryUtils.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            scene: null,\r\n            renderer: null,\r\n            camera: null,\r\n            light: null,\r\n\t\t\tvnh: null,\r\n\t\t\tvth: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init()\r\n\t\tthis.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.renderer = new this.$THREE.WebGLRenderer()\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            document.getElementsByClassName('webglHelpers-container')[0].appendChild(this.renderer.domElement)\r\n            //\r\n            this.camera = new this.$THREE.PerspectiveCamera(70, this.$webglInnerWidth / window.innerHeight, 1, 1000)\r\n            this.camera.position.z = 400\r\n            this.scene = new this.$THREE.Scene()\r\n            this.light = new this.$THREE.PointLight()\r\n            this.light.position.set(200, 100, 150)\r\n            this.scene.add(this.light)\r\n            this.scene.add(new this.$THREE.PointLightHelper(this.light, 15))\r\n            var gridHelper = new this.$THREE.GridHelper(400, 40, 0x0000ff, 0x808080)\r\n            gridHelper.position.y = - 150\r\n            gridHelper.position.x = - 150\r\n            this.scene.add(gridHelper)\r\n            var polarGridHelper = new this.$THREE.PolarGridHelper(200, 16, 8, 64, 0x0000ff, 0x808080)\r\n            polarGridHelper.position.y = - 150\r\n            polarGridHelper.position.x = 200\r\n            this.scene.add(polarGridHelper)\r\n            var loader = new GLTFLoader()\r\n            loader.load('static/models/gltf/LeePerrySmith/LeePerrySmith.glb', (gltf) => {\r\n                var mesh = gltf.scene.children[ 0 ]\r\n                BufferGeometryUtils.computeTangents(mesh.geometry) // generates bad data due to degenerate UVs\r\n                var group = new this.$THREE.Group()\r\n                group.scale.multiplyScalar(50)\r\n                this.scene.add(group)\r\n                // To make sure that the matrixWorld is up to date for the boxhelpers\r\n                group.updateMatrixWorld(true)\r\n                group.add(mesh)\r\n                this.vnh = new VertexNormalsHelper(mesh, 5)\r\n                this.scene.add(this.vnh)\r\n                this.vth = new VertexTangentsHelper(mesh, 5)\r\n                this.scene.add(this.vth)\r\n                this.scene.add(new this.$THREE.BoxHelper(mesh))\r\n                var wireframe = new this.$THREE.WireframeGeometry(mesh.geometry)\r\n                var line = new this.$THREE.LineSegments(wireframe)\r\n                line.material.depthTest = false\r\n                line.material.opacity = 0.25\r\n                line.material.transparent = true\r\n                line.position.x = 4\r\n                group.add(line)\r\n                this.scene.add(new this.$THREE.BoxHelper(line))\r\n                var edges = new this.$THREE.EdgesGeometry(mesh.geometry)\r\n                line = new this.$THREE.LineSegments(edges)\r\n                line.material.depthTest = false\r\n                line.material.opacity = 0.25\r\n                line.material.transparent = true\r\n                line.position.x = - 4\r\n                group.add(line)\r\n                this.scene.add(new this.$THREE.BoxHelper(line))\r\n                this.scene.add(new this.$THREE.BoxHelper(group))\r\n                this.scene.add(new this.$THREE.BoxHelper(this.scene))\r\n            })\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            var time = - performance.now() * 0.0003\r\n            this.camera.position.x = 400 * Math.cos(time)\r\n            this.camera.position.z = 400 * Math.sin(time)\r\n            this.camera.lookAt(this.scene.position)\r\n            this.light.position.x = Math.sin(time * 1.7) * 300\r\n            this.light.position.y = Math.cos(time * 1.5) * 400\r\n            this.light.position.z = Math.cos(time * 1.3) * 300\r\n            if (this.vnh) this.vnh.update()\r\n            if (this.vth) this.vth.update()\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglHelpers-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/helpers/webglHelpers.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglHelpers-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - helpers\\n\\t\\t\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-86879d6e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/helpers/webglHelpers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-86879d6e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglHelpers.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglHelpers.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglHelpers.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-86879d6e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglHelpers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-86879d6e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/helpers/webglHelpers.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}