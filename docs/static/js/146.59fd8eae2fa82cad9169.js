webpackJsonp([146],{DFBU:function(e,t){},Qtby:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{vertexShader:null,fragmentShader:null,scene:null,camera:null,renderer:null,analyser:null,uniforms:null}},mounted:function(){this.vertexShader="\n            varying vec2 vUv;\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = vec4(position, 1.0);\n            }",this.fragmentShader="\n            uniform sampler2D tAudioData;\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\t\t\t\tvec3 backgroundColor = vec3(0.125, 0.125, 0.125);\n\t\t\t\tvec3 color = vec3(1.0, 1.0, 0.0);\n\t\t\t\tfloat f = texture2D(tAudioData, vec2(vUv.x, 0.0)).r;\n\t\t\t\tfloat i = step(vUv.y, f) * step(f - 0.0125, vUv.y);\n\t\t\t\tgl_FragColor = vec4(mix(backgroundColor, color, i), 1.0);\n\t\t\t}"},methods:{init:function(){document.getElementById("overlay").remove();var e=document.getElementById("container");this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.setClearColor(0),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.Camera;var t=new this.$THREE.AudioListener,n=new this.$THREE.Audio(t),i="static/sounds/376737_Skullbeatz___Bad_Cat_Maste.mp3";if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)){(new this.$THREE.AudioLoader).load(i,function(e){n.setBuffer(e),n.play()})}else{var r=new Audio(i);r.play(),n.setMediaElementSource(r)}this.analyser=new this.$THREE.AudioAnalyser(n,128);var a=this.renderer.capabilities.isWebGL2?this.$THREE.RedFormat:this.$THREE.LuminanceFormat;this.uniforms={tAudioData:{value:new this.$THREE.DataTexture(this.analyser.data,64,1,a)}};var s=new this.$THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),o=new this.$THREE.PlaneBufferGeometry(1,1),d=new this.$THREE.Mesh(o,s);this.scene.add(d),window.addEventListener("resize",this.onResize,!1),this.animate()},onResize:function(){this.renderer.setSize(window.innerWidth-281,window.innerHeight)},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){this.analyser.getFrequencyData(),this.uniforms.tAudioData.value.needsUpdate=!0,this.renderer.render(this.scene,this.camera)}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webaudioVisualizer-container"},[t("div",{attrs:{id:"overlay"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:this.init}},[this._v("Play")])],1),this._v(" "),t("div",{attrs:{id:"container"}}),this._v(" "),this._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener noreferrer"}},[this._v("three.js")]),this._v(" webaudio - visualizer"),t("br"),this._v("\n\t\t\tmusic by "),t("a",{attrs:{href:"http://www.newgrounds.com/audio/listen/376737",target:"_blank",rel:"noopener"}},[this._v("skullbeatz")])])}]};var a=n("VU/8")(i,r,!1,function(e){n("DFBU")},"data-v-7abb4ec8",null);t.default=a.exports}});
//# sourceMappingURL=146.59fd8eae2fa82cad9169.js.map