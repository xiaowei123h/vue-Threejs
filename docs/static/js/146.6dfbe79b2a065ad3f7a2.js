webpackJsonp([146],{"+n6g":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("wIBv");function n(e,t,r){var i=32,n=i*i,a=new r.PerspectiveCamera(90,1,.01,100);t.updateMatrixWorld(!0);var s=t.clone();s.autoUpdate=!1;var o=new r.WebGLRenderTarget(i,i,{wrapS:r.ClampToEdgeWrapping,wrapT:r.ClampToEdgeWrapping,depthBuffer:!0}),l=new r.Matrix3,h=new r.Vector3,c=new r.Vector3,d=0,m=0,u=new Float32Array(3),w=new Uint8Array(4*n);requestAnimationFrame(function p(){if(3!==d){var f=t.children[0],g=f.geometry,E=g.attributes,v=E.position.array,R=E.normal.array;if(void 0===E.color){var y=new Float32Array(v.length);g.setAttribute("color",new r.BufferAttribute(y,3).setUsage(r.DynamicDrawUsage))}y=E.color.array;for(var T=m,$=v.length/3,b=0;b<32&&!(m>=$);b++){h.fromArray(v,3*m),h.applyMatrix4(f.matrixWorld),c.fromArray(R,3*m),c.applyMatrix3(l.getNormalMatrix(f.matrixWorld)).normalize(),a.position.copy(h),a.lookAt(h.add(c)),e.setRenderTarget(o),e.render(s,a),e.readRenderTargetPixels(o,0,0,i,i,w),u[0]=0,u[1]=0,u[2]=0;for(var H=0,M=w.length;H<M;H+=4)u[0]+=w[H+0],u[1]+=w[H+1],u[2]+=w[H+2];y[3*m+0]=u[0]/(255*n),y[3*m+1]=u[1]/(255*n),y[3*m+2]=u[2]/(255*n),m++}E.color.updateRange.offset=3*T,E.color.updateRange.count=3*(m-T),E.color.needsUpdate=!0,m>=$&&((s=t.clone()).autoUpdate=!1,d++,m=0),requestAnimationFrame(p)}})}var a={data:function(){return{camera:null,scene:null,renderer:null}},mounted:function(){this.$THREE.Mesh.prototype.clone=function(){var e=this.material.isMaterial?this.material.clone():this.material.slice();return new this.constructor(this.geometry.clone(),e).copy(this)},this.init(),this.animate()},methods:{init:function(){this.camera=new this.$THREE.PerspectiveCamera(70,this.$webglInnerWidth/window.innerHeight,.1,100),this.camera.position.z=4,this.scene=new this.$THREE.Scene;var e=new this.$THREE.TorusKnotBufferGeometry(.75,.3,128,32,1),t=new this.$THREE.MeshBasicMaterial({vertexColors:!0}),r=new this.$THREE.Mesh(e,t);this.scene.add(r);for(var a=[],s=0;s<8;s++)a.push(new this.$THREE.MeshBasicMaterial({color:16777215*Math.random(),side:this.$THREE.BackSide}));var o=new this.$THREE.BoxBufferGeometry(3,3,3),l=new this.$THREE.Mesh(o,a);this.scene.add(l),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglSimpleGi-container")[0].appendChild(this.renderer.domElement),new n(this.renderer,this.scene,this.$THREE);var h=new i.b(this.camera,this.renderer.domElement);h.minDistance=1,h.maxDistance=10,window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.renderer.setRenderTarget(null),this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglSimpleGi-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - simple global illumination ("),t("a",{attrs:{href:"http://www.iquilezles.org/www/articles/simplegi/simplegi.htm"}},[this._v("article")]),this._v(")\n\t\t")])])}]};var o=r("VU/8")(a,s,!1,function(e){r("AzcH")},"data-v-4de93bb2",null);t.default=o.exports},AzcH:function(e,t){}});
//# sourceMappingURL=146.6dfbe79b2a065ad3f7a2.js.map