{"version":3,"sources":["webpack:///./src/components/jsm/loaders/MD2Loader.js","webpack:///./src/components/jsm/misc/MD2Character.js","webpack:///src/views/loader/webglLoaderMd2.vue","webpack:///./src/views/loader/webglLoaderMd2.vue?5eae","webpack:///./src/views/loader/webglLoaderMd2.vue"],"names":["normalData","MD2Loader","manager","Loader","call","this","prototype","Object","assign","create","constructor","load","url","onLoad","onProgress","onError","scope","loader","FileLoader","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","buffer","parse","e","console","error","itemError","data","DataView","header","headerNames","i","length","getInt32","ident","version","offset_end","byteLength","geometry","BufferGeometry","uvsTemp","offset","offset_st","l","num_st","u","getInt16","v","push","skinwidth","skinheight","offset_tris","vertexIndices","uvIndices","num_tris","getUint16","translation","Vector3","scale","string","frames","offset_frames","num_frames","set","getFloat32","j","character","getUint8","frame","name","String","fromCharCode","apply","vertices","normals","num_vertices","x","y","z","n","positions","uvs","verticesTemp","normalsTemp","stride","nx","ny","nz","setAttribute","Float32BufferAttribute","morphPositions","morphNormals","attributeName","jl","positionAttribute","normalAttribute","morphAttributes","position","normal","morphTargetsRelative","animations","AnimationClip","CreateClipsFromMorphTargetSequences","webglLoaderMd2","SCREEN_WIDTH","SCREEN_HEIGHT","container","camera","scene","renderer","gui","playbackConfig","speed","wireframe","controls","clock","stats","mounted","$webglInnerWidth","window","innerHeight","$THREE","Clock","init","animate","beforeDestroy","destroy","methods","_this","document","createElement","getElementsByClassName","appendChild","PerspectiveCamera","Scene","background","Color","fog","Fog","add","AmbientLight","light1","SpotLight","angle","penumbra","castShadow","shadow","mapSize","width","height","light2","gt","TextureLoader","gg","PlaneBufferGeometry","gm","MeshPhongMaterial","color","map","ground","Mesh","rotation","Math","PI","material","repeat","wrapS","wrapT","RepeatWrapping","encoding","sRGBEncoding","receiveShadow","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","domElement","outputEncoding","shadowMap","enabled","$Stats","dom","style","left","addEventListener","onWindowResize","OrbitControls","target","update","dat_gui_module","onChange","setPlaybackRate","setWireframe","loadTextures","baseUrl","textureUrls","textureLoader","textures","checkLoadingComplete","mapping","UVMapping","createPart","skinMap","materialWireframe","MeshLambertMaterial","morphTargets","materialTexture","mesh","loadCounter","onLoadComplete","animationFPS","root","Object3D","meshBody","meshWeapon","skinsBody","skinsWeapon","weapons","activeAnimation","mixer","loadParts","config","skins","weaponsTextures","body","geo","boundingBox","Box3","setFromBufferAttribute","attributes","min","clipOffset","activeAnimationClipName","AnimationMixer","generateCallback","index","visible","rate","timeScale","wireframeEnabled","setSkin","setWeapon","activeWeapon","syncWeaponAnimation","setAnimation","clipName","activeAction","stop","action","clipAction","play","activeClipName","syncWith","delta","setupSkinsGUI","setupWeaponsGUI","setupGUIAnimations","$onWindowResize","labelize","text","parts","split","join","folder","addFolder","guiItems","animationClip","clip","requestAnimationFrame","render","getDelta","loader_webglLoaderMd2","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2GAwDMA,sCA/CFC,EAAY,SAAWC,GAE1BC,MAAOC,KAAMC,KAAMH,IAIpBD,EAAUK,UAAYC,OAAOC,OAAQD,OAAOE,OAAQN,MAAOG,YAE1DI,YAAaT,EAEbU,KAAM,SAAWC,EAAKC,EAAQC,EAAYC,GAEzC,IAAIC,EAAQX,KAERY,EAAS,IAAIC,IAAYF,EAAMd,SACnCe,EAAOE,QAASH,EAAMI,MACtBH,EAAOI,gBAAiB,eACxBJ,EAAOK,iBAAkBN,EAAMO,eAC/BN,EAAOO,mBAAoBR,EAAMS,iBACjCR,EAAON,KAAMC,EAAK,SAAWc,GAE5B,IAECb,EAAQG,EAAMW,MAAOD,IAEpB,MAAQE,GAEJb,EAEJA,EAASa,GAITC,QAAQC,MAAOF,GAIhBZ,EAAMd,QAAQ6B,UAAWnB,KAIxBE,EAAYC,IAIhBY,OAEK3B,KACC,QAAU,EAAU,WAAgB,QAAU,QAAU,WACxD,QAAU,EAAU,WAAgB,QAAU,GAAU,WACxD,OAAU,QAAU,UAAc,EAAU,EAAU,IACxD,EAAU,QAAU,WAAgB,QAAU,QAAU,UACxD,QAAU,QAAU,UAAc,EAAU,QAAU,UACtD,QAAU,GAAU,UAAc,QAAU,EAAU,UACtD,QAAU,EAAU,UAAc,QAAU,QAAU,UACtD,OAAU,QAAU,WAAgB,QAAU,QAAU,WACtD,QAAU,QAAU,MAAgB,QAAU,QAAU,WACxD,QAAU,QAAU,KAAgB,QAAU,QAAU,WACxD,QAAU,QAAU,WAAgB,QAAU,QAAU,WACxD,GAAU,QAAU,WAAgB,QAAU,QAAU,WACxD,QAAU,QAAU,WAAgB,QAAU,SAAY,WAC1D,GAAU,SAAY,WAAgB,QAAU,QAAU,IAC5D,EAAU,SAAY,WAAgB,QAAU,SAAY,UAC5D,EAAU,SAAY,WAAgB,QAAU,SAAY,SAC5D,EAAU,EAAU,IAAc,EAAU,QAAU,WACpD,QAAU,QAAU,SAAc,QAAU,QAAU,UACxD,QAAU,QAAU,SAAc,GAAU,QAAU,UACtD,QAAU,SAAY,UAAc,QAAU,SAAY,SAC1D,GAAU,SAAY,UAAc,QAAU,QAAU,IACxD,QAAU,QAAU,UAAc,QAAU,SAAY,UACxD,QAAU,QAAU,IAAc,QAAU,QAAU,UACtD,QAAU,QAAU,UAAc,QAAU,QAAU,UACtD,QAAU,QAAU,KAAc,QAAU,QAAU,UACtD,QAAU,QAAU,UAAc,QAAU,QAAU,IACtD,EAAU,EAAU,IAAc,QAAU,OAAU,UACtD,SAAY,QAAU,IAAc,SAAY,QAAU,IAC1D,SAAY,QAAU,UAAc,SAAY,OAAU,UAC1D,SAAY,QAAU,KAAc,SAAY,QAAU,UAC1D,QAAU,EAAU,UAAc,QAAU,SAAY,UACxD,QAAU,SAAY,KAAc,QAAU,QAAY,UAC1D,QAAU,GAAY,UAAc,QAAU,SAAY,UAC1D,SAAY,SAAY,UAAc,QAAU,GAAY,UAC5D,SAAY,SAAY,KAAc,SAAY,SAAY,UAC9D,SAAY,QAAY,UAAc,QAAU,SAAY,UAC5D,QAAU,IAAY,UAAc,QAAU,SAAY,UAC1D,QAAU,SAAY,UAAc,QAAU,SAAY,UAC1D,QAAU,SAAY,WAAgB,QAAU,SAAY,WAC1D,QAAU,IAAY,UAAc,EAAU,SAAY,WAC1D,QAAU,GAAY,WAAgB,QAAU,SAAY,WAC5D,QAAU,GAAY,WAAgB,OAAU,SAAY,UAC9D,EAAU,GAAY,IAAc,QAAU,GAAY,UAC1D,OAAU,SAAY,WAAgB,SAAY,SAAY,WAC5D,SAAY,IAAY,WAAgB,QAAY,SAAY,UAClE,GAAY,SAAY,WAAgB,SAAY,SAAY,UAChE,SAAY,SAAY,UAAc,GAAY,SAAY,UAC9D,SAAY,IAAY,UAAc,SAAY,SAAY,UAC9D,QAAY,SAAY,UAAc,SAAY,SAAY,UAC9D,IAAY,SAAY,UAAc,SAAY,SAAY,UAC9D,SAAY,SAAY,UAAc,SAAY,SAAY,UAC9D,SAAY,SAAY,UAAc,GAAY,SAAY,UAC9D,GAAY,EAAU,IAAc,SAAY,SAAY,SAC5D,GAAY,QAAU,UAAc,GAAY,QAAU,UAC1D,SAAY,QAAU,UAAc,SAAY,QAAU,SAC1D,IAAY,QAAU,UAAc,SAAY,QAAU,UAC1D,SAAY,QAAU,KAAgB,SAAY,SAAY,WAC5D,IAAY,SAAY,WAAgB,SAAY,SAAY,UAChE,SAAY,QAAU,KAAgB,SAAY,SAAY,WAC9D,SAAY,QAAU,WAAgB,SAAY,QAAU,KAC5D,IAAY,QAAU,WAAgB,SAAY,QAAU,WAC5D,SAAY,QAAU,UAAgB,SAAY,QAAU,WAC5D,SAAY,QAAU,MAAgB,SAAY,QAAU,WAC5D,SAAY,QAAU,WAAgB,SAAY,QAAU,WAC5D,SAAY,QAAU,WAAgB,SAAY,GAAU,WAC5D,SAAY,QAAU,WAAgB,SAAY,QAAU,WAC5D,QAAY,QAAU,UAAc,SAAY,QAAU,UAC5D,QAAY,QAAU,UAAc,SAAY,GAAU,UAC1D,SAAY,QAAU,UAAc,GAAY,QAAU,UAC1D,SAAY,QAAU,UAAc,SAAY,QAAU,UAC1D,SAAY,QAAU,WAAgB,QAAU,QAAU,KACxD,QAAU,OAAU,WAAgB,EAAU,EAAU,KACxD,QAAU,EAAU,WAAgB,SAAY,QAAU,KAC1D,SAAY,OAAU,WAAgB,QAAU,SAAY,WAC5D,QAAU,QAAY,WAAgB,QAAU,SAAY,MAC5D,SAAY,SAAY,WAAgB,SAAY,QAAY,WAChE,SAAY,SAAY,MAAgB,QAAU,SAAY,WAC9D,SAAY,SAAY,WAAgB,QAAU,GAAY,WAC9D,QAAU,SAAY,WAAgB,QAAU,SAAY,WAC5D,QAAU,SAAY,WAAgB,SAAY,SAAY,WAC9D,SAAY,SAAY,WAAgB,SAAY,SAAY,UAG9D,SAAW0B,GAejB,IAbA,IAAIM,EAAO,IAAIC,SAAUP,GAIrBQ,KACAC,GACH,QAAS,UACT,YAAa,aACb,YACA,YAAa,eAAgB,SAAU,WAAY,aAAc,aACjE,eAAgB,YAAa,cAAe,gBAAiB,gBAAiB,cAGrEC,EAAI,EAAGA,EAAID,EAAYE,OAAQD,IAExCF,EAAQC,EAAaC,IAAQJ,EAAKM,SAAc,EAAJF,GAAO,GAIpD,GAAsB,YAAjBF,EAAOK,OAA0C,IAAnBL,EAAOM,QAA1C,CAOA,GAAKN,EAAOO,aAAeT,EAAKU,WAAhC,CAgBA,IAPA,IAAIC,EAAW,IAAIC,IAIfC,KACAC,EAASZ,EAAOa,UAEHC,GAAPZ,EAAI,EAAOF,EAAOe,QAAQb,EAAIY,EAAGZ,IAAO,CAEjD,IAAIc,EAAIlB,EAAKmB,SAAUL,EAAS,GAAG,GAC/BM,EAAIpB,EAAKmB,SAAUL,EAAS,GAAG,GAEnCD,EAAQQ,KAAMH,EAAIhB,EAAOoB,UAAW,EAAMF,EAAIlB,EAAOqB,YAErDT,GAAU,EAMXA,EAASZ,EAAOsB,YAEhB,IAAIC,KACAC,KAEJ,IAAUtB,EAAI,EAAGY,EAAId,EAAOyB,SAAUvB,EAAIY,EAAGZ,IAE5CqB,EAAcJ,KACbrB,EAAK4B,UAAWd,EAAS,GAAG,GAC5Bd,EAAK4B,UAAWd,EAAS,GAAG,GAC5Bd,EAAK4B,UAAWd,EAAS,GAAG,IAG7BY,EAAUL,KACTrB,EAAK4B,UAAWd,EAAS,GAAG,GAC5Bd,EAAK4B,UAAWd,EAAS,GAAG,GAC5Bd,EAAK4B,UAAWd,EAAS,IAAI,IAG9BA,GAAU,GAMX,IAAIe,EAAc,IAAIC,OAClBC,EAAQ,IAAID,OACZE,KAEAC,KAIJ,IAFAnB,EAASZ,EAAOgC,cAEN9B,EAAI,EAAGY,EAAId,EAAOiC,WAAY/B,EAAIY,EAAGZ,IAAO,CAErD2B,EAAMK,IACLpC,EAAKqC,WAAYvB,EAAS,GAAG,GAC7Bd,EAAKqC,WAAYvB,EAAS,GAAG,GAC7Bd,EAAKqC,WAAYvB,EAAS,GAAG,IAG9Be,EAAYO,IACXpC,EAAKqC,WAAYvB,EAAS,IAAI,GAC9Bd,EAAKqC,WAAYvB,EAAS,IAAI,GAC9Bd,EAAKqC,WAAYvB,EAAS,IAAI,IAG/BA,GAAU,GAEV,IAAM,IAAIwB,EAAI,EAAGA,EAAI,GAAIA,IAAO,CAE/B,IAAIC,EAAYvC,EAAKwC,SAAU1B,EAASwB,GAAG,GAC3C,GAAmB,IAAdC,EAAkB,MAEvBP,EAAQM,GAAMC,EAIf,IAAIE,GACHC,KAAMC,OAAOC,aAAaC,MAAO,KAAMb,GACvCc,YACAC,YAKD,IAFAjC,GAAU,GAEAwB,EAAI,EAAGA,EAAIpC,EAAO8C,aAAcV,IAAO,CAEhD,IAAIW,EAAIjD,EAAKwC,SAAU1B,KAAW,GAC9BoC,EAAIlD,EAAKwC,SAAU1B,KAAW,GAC9BqC,EAAInD,EAAKwC,SAAU1B,KAAW,GAC9BsC,EAAIpF,EAAYgC,EAAKwC,SAAU1B,KAAW,IAE9CmC,EAAIA,EAAIlB,EAAMkB,EAAIpB,EAAYoB,EAC9BC,EAAIA,EAAInB,EAAMmB,EAAIrB,EAAYqB,EAC9BC,EAAIA,EAAIpB,EAAMoB,EAAItB,EAAYsB,EAE9BV,EAAMK,SAASzB,KAAM4B,EAAGE,EAAGD,GAC3BT,EAAMM,QAAQ1B,KAAM+B,EAAG,GAAKA,EAAG,GAAKA,EAAG,IAIxCnB,EAAOZ,KAAMoB,GAMd,IAAIY,KACAN,KACAO,KAEAC,EAAetB,EAAQ,GAAIa,SAC3BU,EAAcvB,EAAQ,GAAIc,QAE9B,IAAU3C,EAAI,EAAGY,EAAIS,EAAcpB,OAAQD,EAAIY,EAAGZ,IAAO,CAOpD6C,EAAIM,EAJJE,EAAuB,EADThC,EAAerB,IAM7B8C,EAAIK,EAAcE,EAAS,GAC3BN,EAAII,EAAcE,EAAS,GAE/BJ,EAAUhC,KAAM4B,EAAGC,EAAGC,GAItB,IAAIO,EAAKF,EAAaC,GAClBE,EAAKH,EAAaC,EAAS,GAC3BG,EAAKJ,EAAaC,EAAS,GAE/BV,EAAQ1B,KAAMqC,EAAIC,EAAIC,GAOlB1C,EAAIL,EAFR4C,EAAmB,EADL/B,EAAWtB,IAIrBgB,EAAIP,EAAS4C,EAAS,GAE1BH,EAAIjC,KAAMH,EAAGE,GAIdT,EAASkD,aAAc,WAAY,IAAIC,IAAwBT,EAAW,IAC1E1C,EAASkD,aAAc,SAAU,IAAIC,IAAwBf,EAAS,IACtEpC,EAASkD,aAAc,KAAM,IAAIC,IAAwBR,EAAK,IAI9D,IAAIS,KACAC,KAEJ,IAAU5D,EAAI,EAAGY,EAAIiB,EAAO5B,OAAQD,EAAIY,EAAGZ,IAAO,CAEjD,IACI6D,GADAxB,EAAQR,EAAQ7B,IACMsC,KAE1B,GAAKD,EAAMK,SAASzC,OAAS,EAAI,CAE5BgD,KAEMf,EAAI,EAAd,IAFA,IAEiB4B,EAAKzC,EAAcpB,OAAQiC,EAAI4B,EAAI5B,IAAO,CAE1D,IACImB,EAAuB,EADThC,EAAea,GAG7BW,EAAIR,EAAMK,SAAUW,GACpBP,EAAIT,EAAMK,SAAUW,EAAS,GAC7BN,EAAIV,EAAMK,SAAUW,EAAS,GAEjCJ,EAAUhC,KAAM4B,EAAGC,EAAGC,GAIvB,IAAIgB,EAAoB,IAAIL,IAAwBT,EAAW,GAC/Dc,EAAkBzB,KAAOuB,EAEzBF,EAAe1C,KAAM8C,GAItB,GAAK1B,EAAMM,QAAQ1C,OAAS,EAAI,CAI/B,IAFI0C,KAEMT,EAAI,EAAG4B,EAAKzC,EAAcpB,OAAQiC,EAAI4B,EAAI5B,IAG/CmB,EAAuB,EADThC,EAAea,GAG7BoB,EAAKjB,EAAMM,QAASU,GACpBE,EAAKlB,EAAMM,QAASU,EAAS,GAC7BG,EAAKnB,EAAMM,QAASU,EAAS,GAEjCV,EAAQ1B,KAAMqC,EAAIC,EAAIC,GAIvB,IAAIQ,EAAkB,IAAIN,IAAwBf,EAAS,GAC3DqB,EAAgB1B,KAAOuB,EAEvBD,EAAa3C,KAAM+C,IAYrB,OANAzD,EAAS0D,gBAAgBC,SAAWP,EACpCpD,EAAS0D,gBAAgBE,OAASP,EAClCrD,EAAS6D,sBAAuB,EAEhC7D,EAAS8D,WAAaC,IAAcC,oCAAqC1C,EAAQ,IAE1EtB,EAjONd,QAAQC,MAAO,2BAPfD,QAAQC,MAAO,4BCvJnB,ICCA8E,GACA5E,KADA,WAEA,OACA6E,aAAA,KACAC,cAAA,KACAC,UAAA,KACAC,OAAA,KACAC,MAAA,KACAC,SAAA,KACA3C,UAAA,KACA4C,IAAA,KACAC,gBACAC,MAAA,EACAC,WAAA,GAEAC,SAAA,KACAC,MAAA,KACAC,MAAA,OAGAC,QApBA,WAqBArH,KAAAwG,aAAAxG,KAAAsH,iBACAtH,KAAAyG,cAAAc,OAAAC,YACAxH,KAAAmH,MAAA,IAAAnH,KAAAyH,OAAAC,MACA1H,KAAA2H,OACA3H,KAAA4H,WAEAC,cA3BA,WA4BA7H,KAAA8G,IAAAgB,WAEAC,SACAJ,KADA,WACA,IAAAK,EAAAhI,KACAA,KAAA0G,UAAAuB,SAAAC,cAAA,OACAD,SAAAE,uBAAA,+BAAAC,YAAApI,KAAA0G,WAEA1G,KAAA2G,OAAA,IAAA3G,KAAAyH,OAAAY,kBAAA,GAAArI,KAAAsH,iBAAAC,OAAAC,YAAA,OACAxH,KAAA2G,OAAAV,SAAAlC,IAAA,WAEA/D,KAAA4G,MAAA,IAAA5G,KAAAyH,OAAAa,MACAtI,KAAA4G,MAAA2B,WAAA,IAAAvI,KAAAyH,OAAAe,MAAA,QACAxI,KAAA4G,MAAA6B,IAAA,IAAAzI,KAAAyH,OAAAiB,IAAA,gBAEA1I,KAAA4G,MAAA+B,IAAA,IAAA3I,KAAAyH,OAAAmB,aAAA,UACA,IAAAC,EAAA,IAAA7I,KAAAyH,OAAAqB,UAAA,gBACAD,EAAA5C,SAAAlC,IAAA,aACA8E,EAAAE,MAAA,GACAF,EAAAG,SAAA,GACAH,EAAAI,YAAA,EACAJ,EAAAK,OAAAC,QAAAC,MAAA,KACAP,EAAAK,OAAAC,QAAAE,OAAA,KAEArJ,KAAA4G,MAAA+B,IAAAE,GACA,IAAAS,EAAA,IAAAtJ,KAAAyH,OAAAqB,UAAA,gBACAQ,EAAArD,SAAAlC,KAAA,aACAuF,EAAAP,MAAA,GACAO,EAAAN,SAAA,GACAM,EAAAL,YAAA,EACAK,EAAAJ,OAAAC,QAAAC,MAAA,KACAE,EAAAJ,OAAAC,QAAAE,OAAA,KAEArJ,KAAA4G,MAAA+B,IAAAW,GAEA,IAAAC,GAAA,IAAAvJ,KAAAyH,OAAA+B,eAAAlJ,KAAA,8CACAmJ,EAAA,IAAAzJ,KAAAyH,OAAAiC,oBAAA,SACAC,EAAA,IAAA3J,KAAAyH,OAAAmC,mBAAAC,MAAA,SAAAC,IAAAP,IACAQ,EAAA,IAAA/J,KAAAyH,OAAAuC,KAAAP,EAAAE,GACAI,EAAAE,SAAArF,GAAAsF,KAAAC,GAAA,EACAJ,EAAAK,SAAAN,IAAAO,OAAAtG,IAAA,KACAgG,EAAAK,SAAAN,IAAAQ,MAAAP,EAAAK,SAAAN,IAAAS,MAAAvK,KAAAyH,OAAA+C,eACAT,EAAAK,SAAAN,IAAAW,SAAAzK,KAAAyH,OAAAiD,aACAX,EAAAY,eAAA,EACA3K,KAAA4G,MAAA+B,IAAAoB,GAEA/J,KAAA6G,SAAA,IAAA7G,KAAAyH,OAAAmD,eAAAC,WAAA,IACA7K,KAAA6G,SAAAiE,cAAAvD,OAAAwD,kBACA/K,KAAA6G,SAAAmE,QAAAhL,KAAAwG,aAAAxG,KAAAyG,eACAzG,KAAA0G,UAAA0B,YAAApI,KAAA6G,SAAAoE,YAEAjL,KAAA6G,SAAAqE,eAAAlL,KAAAyH,OAAAiD,aACA1K,KAAA6G,SAAAsE,UAAAC,SAAA,EAEApL,KAAAoH,MAAA,IAAApH,KAAAqL,OACArL,KAAAoH,MAAAkE,IAAAC,MAAAC,KAAA,QACAxL,KAAA0G,UAAA0B,YAAApI,KAAAoH,MAAAkE,KAEA/D,OAAAkE,iBAAA,SAAAzL,KAAA0L,gBAAA,GAEA1L,KAAAkH,SAAA,IAAAyE,EAAA,EAAA3L,KAAA2G,OAAA3G,KAAA6G,SAAAoE,YACAjL,KAAAkH,SAAA0E,OAAA7H,IAAA,QACA/D,KAAAkH,SAAA2E,SAEA7L,KAAA8G,IAAA,IAAAgF,EAAA,EACA9L,KAAA8G,IAAA6B,IAAA3I,KAAA+G,eAAA,aAAAgF,SAAA,WACA/D,EAAA9D,UAAA8H,gBAAAhE,EAAAjB,eAAAC,SAEAhH,KAAA8G,IAAA6B,IAAA3I,KAAA+G,eAAA,gBAAAgF,SAAA,WACA/D,EAAA9D,UAAA+H,aAAAjE,EAAAjB,eAAAE,aAoBAjH,KAAAkE,UAAA,IDrHmB,WAElB,IAAIvD,EAAQX,KA+MZ,SAASkM,EAAcC,EAASC,GAK/B,IAHA,IAAIC,EAAgB,IAAI7C,MACpB8C,KAEMvK,EAAI,EAAGA,EAAIqK,EAAYpK,OAAQD,IAExCuK,EAAUvK,GAAMsK,EAAc/L,KAAM6L,EAAUC,EAAarK,GAAKwK,GAChED,EAAUvK,GAAIyK,QAAUC,MACxBH,EAAUvK,GAAIsC,KAAO+H,EAAarK,GAClCuK,EAAUvK,GAAI0I,SAAWC,OAI1B,OAAO4B,EAIR,SAASI,EAAYpK,EAAUqK,GAE9B,IAAIC,EAAoB,IAAIC,OAAuBhD,MAAO,SAAU5C,WAAW,EAAM6F,cAAc,EAAMnH,cAAc,IACnHoH,EAAkB,IAAIF,OAAuBhD,MAAO,SAAU5C,WAAW,EAAO6C,IAAK6C,EAASG,cAAc,EAAMnH,cAAc,IAIhIqH,EAAO,IAAIhD,MAAM1H,EAAUyK,GAW/B,OAVAC,EAAK/C,SAASpF,GAAMqF,KAAKC,GAAK,EAE9B6C,EAAK/D,YAAa,EAClB+D,EAAKrC,eAAgB,EAIrBqC,EAAKD,gBAAkBA,EACvBC,EAAKJ,kBAAoBA,EAElBI,EAIR,SAAST,IAER5L,EAAMsM,aAAe,EAEM,IAAtBtM,EAAMsM,aAAoBtM,EAAMuM,iBAzPtClN,KAAK0D,MAAQ,EACb1D,KAAKmN,aAAe,EAEpBnN,KAAKoN,KAAO,IAAIC,MAEhBrN,KAAKsN,SAAW,KAChBtN,KAAKuN,WAAa,KAElBvN,KAAKwN,aACLxN,KAAKyN,eAELzN,KAAK0N,WAEL1N,KAAK2N,gBAAkB,KAEvB3N,KAAK4N,MAAQ,KAEb5N,KAAKkN,eAAiB,aAEtBlN,KAAKiN,YAAc,EAEnBjN,KAAK6N,UAAY,SAAWC,GAE3B9N,KAAKiN,YAAsC,EAAxBa,EAAOJ,QAAQ1L,OAAa8L,EAAOC,MAAM/L,OAAS,EAGrE,IADA,IAAIgM,KACMjM,EAAI,EAAGA,EAAI+L,EAAOJ,QAAQ1L,OAAQD,IAAOiM,EAAiBjM,GAAM+L,EAAOJ,QAAS3L,GAAK,GAG/F/B,KAAKwN,UAAYtB,EAAc4B,EAAO3B,QAAU,SAAU2B,EAAOC,OACjE/N,KAAKyN,YAAcvB,EAAc4B,EAAO3B,QAAU,SAAU6B,GAI5D,IAAIpN,EAAS,IAAIhB,EAEjBgB,EAAON,KAAMwN,EAAO3B,QAAU2B,EAAOG,KAAM,SAAWC,GAErD,IAAIC,EAAc,IAAIC,IACtBD,EAAYE,uBAAwBH,EAAII,WAAWrI,UAEnDtF,EAAMyM,KAAKnH,SAASpB,GAAMlE,EAAM+C,MAAQyK,EAAYI,IAAI1J,EAExD,IAAImI,EAAON,EAAYwB,EAAKvN,EAAM6M,UAAW,IAC7CR,EAAKtJ,MAAMK,IAAKpD,EAAM+C,MAAO/C,EAAM+C,MAAO/C,EAAM+C,OAEhD/C,EAAMyM,KAAKzE,IAAKqE,GAEhBrM,EAAM2M,SAAWN,EAEjBrM,EAAM2M,SAASkB,WAAa,EAC5B7N,EAAM8N,wBAA0BzB,EAAK1K,SAAS8D,WAAY,GAAI/B,KAE9D1D,EAAMiN,MAAQ,IAAIc,IAAgB1B,GAElCT,MAMD,IAAIoC,EAAmB,SAAWC,EAAOvK,GAExC,OAAO,SAAW6J,GAEjB,IAAIlB,EAAON,EAAYwB,EAAKvN,EAAM8M,YAAamB,IAC/C5B,EAAKtJ,MAAMK,IAAKpD,EAAM+C,MAAO/C,EAAM+C,MAAO/C,EAAM+C,OAChDsJ,EAAK6B,SAAU,EAEf7B,EAAK3I,KAAOA,EAEZ1D,EAAMyM,KAAKzE,IAAKqE,GAEhBrM,EAAM+M,QAASkB,GAAU5B,EACzBrM,EAAM4M,WAAaP,EAEnBT,MAMF,IAAUxK,EAAI,EAAGA,EAAI+L,EAAOJ,QAAQ1L,OAAQD,IAE3CnB,EAAON,KAAMwN,EAAO3B,QAAU2B,EAAOJ,QAAS3L,GAAK,GAAK4M,EAAkB5M,EAAG+L,EAAOJ,QAAS3L,GAAK,MAMpG/B,KAAKgM,gBAAkB,SAAW8C,GAIhC9O,KAAK4N,MAAMmB,UAFE,IAATD,EAEmB,EAAIA,EAIJ,GAMzB9O,KAAKiM,aAAe,SAAW+C,GAEzBA,GAEChP,KAAKsN,WAAWtN,KAAKsN,SAASlD,SAAWpK,KAAKsN,SAASV,mBACvD5M,KAAKuN,aAAavN,KAAKuN,WAAWnD,SAAWpK,KAAKuN,WAAWX,qBAI7D5M,KAAKsN,WAAWtN,KAAKsN,SAASlD,SAAWpK,KAAKsN,SAASP,iBACvD/M,KAAKuN,aAAavN,KAAKuN,WAAWnD,SAAWpK,KAAKuN,WAAWR,mBAMpE/M,KAAKiP,QAAU,SAAWL,GAEpB5O,KAAKsN,WAAiD,IAArCtN,KAAKsN,SAASlD,SAASnD,YAE5CjH,KAAKsN,SAASlD,SAASN,IAAM9J,KAAKwN,UAAWoB,KAM/C5O,KAAKkP,UAAY,SAAWN,GAE3B,IAAM,IAAI7M,EAAI,EAAGA,EAAI/B,KAAK0N,QAAQ1L,OAAQD,IAAO/B,KAAK0N,QAAS3L,GAAI8M,SAAU,EAE7E,IAAIM,EAAenP,KAAK0N,QAASkB,GAE5BO,IAEJA,EAAaN,SAAU,EACvB7O,KAAKuN,WAAa4B,EAElBxO,EAAMyO,wBAMRpP,KAAKqP,aAAe,SAAWC,GAE9B,GAAKtP,KAAKsN,SAAW,CAEftN,KAAKsN,SAASiC,eAElBvP,KAAKsN,SAASiC,aAAaC,OAC3BxP,KAAKsN,SAASiC,aAAe,MAI9B,IAAIE,EAASzP,KAAK4N,MAAM8B,WAAYJ,EAAUtP,KAAKsN,UAE9CmC,IAEJzP,KAAKsN,SAASiC,aAAeE,EAAOE,QAMtChP,EAAMiP,eAAiBN,EAEvB3O,EAAMyO,uBAIPpP,KAAKoP,oBAAsB,WAE1B,IAAIE,EAAW3O,EAAMiP,eAErB,GAAKjP,EAAM4M,WAAa,CAElBvN,KAAKuN,WAAWgC,eAEpBvP,KAAKuN,WAAWgC,aAAaC,OAC7BxP,KAAKuN,WAAWgC,aAAe,MAIhC,IAAIE,EAASzP,KAAK4N,MAAM8B,WAAYJ,EAAUtP,KAAKuN,YAE9CkC,IAEJzP,KAAKuN,WAAWgC,aAAeE,EAAOI,SAAU7P,KAAKsN,SAASiC,cAAeI,UAQhF3P,KAAK6L,OAAS,SAAWiE,GAEnB9P,KAAK4N,OAAQ5N,KAAK4N,MAAM/B,OAAQiE,KCvFvC9P,KAAAkE,UAAAR,MAAA,EACA1D,KAAAkE,UAAAgJ,eAAA,WACAlF,EAAA+H,cAAA/H,EAAA9D,WACA8D,EAAAgI,gBAAAhI,EAAA9D,WACA8D,EAAAiI,mBAAAjI,EAAA9D,WACA8D,EAAA9D,UAAAmL,aAAArH,EAAA9D,UAAAoJ,SAAAhL,SAAA8D,WAAA,GAAA/B,OAEArE,KAAAkE,UAAA2J,WAxBA1B,QAAA,iCACA8B,KAAA,kBACAF,OAAA,sEACAL,UAAA,4BACA,0BACA,kCACA,oCACA,sCACA,4CACA,wCACA,kCACA,sCACA,kCACA,sCAYA1N,KAAA4G,MAAA+B,IAAA3I,KAAAkE,UAAAkJ,OAEA1B,eAjGA,WAkGA1L,KAAAkQ,gBAAAlQ,KAAA2G,OAAA3G,KAAA6G,WAEAsJ,SApGA,SAoGAC,GACA,IAAAC,EAAAD,EAAAE,MAAA,KACA,OAAAD,EAAArO,OAAA,GACAqO,EAAArO,QAAA,EACAqO,EAAAE,KAAA,MAEAH,GAEAJ,gBA5GA,SA4GA9L,GAQA,IAPA,IAAAsM,EAAAxQ,KAAA8G,IAAA2J,UAAA,WACA9B,EAAA,SAAAC,GACA,kBACA1K,EAAAgL,UAAAN,KAGA8B,KACA3O,EAAA,EAAAA,EAAAmC,EAAAwJ,QAAA1L,OAAAD,IAAA,CACA,IAAAsC,EAAAH,EAAAwJ,QAAA3L,GAAAsC,KACArE,KAAA+G,eAAA1C,GAAAsK,EAAA5M,GACA2O,EAAA3O,GAAAyO,EAAA7H,IAAA3I,KAAA+G,eAAA1C,QAAArE,KAAAmQ,SAAA9L,MAGA0L,cA1HA,SA0HA7L,GAQA,IAPA,IAAAsM,EAAAxQ,KAAA8G,IAAA2J,UAAA,SACA9B,EAAA,SAAAC,GACA,kBACA1K,EAAA+K,QAAAL,KAGA8B,KACA3O,EAAA,EAAAA,EAAAmC,EAAAsJ,UAAAxL,OAAAD,IAAA,CACA,IAAAsC,EAAAH,EAAAsJ,UAAAzL,GAAAsC,KACArE,KAAA+G,eAAA1C,GAAAsK,EAAA5M,GACA2O,EAAA3O,GAAAyO,EAAA7H,IAAA3I,KAAA+G,eAAA1C,QAAArE,KAAAmQ,SAAA9L,MAGA4L,mBAxIA,SAwIA/L,GASA,IARA,IAAAsM,EAAAxQ,KAAA8G,IAAA2J,UAAA,cACA9B,EAAA,SAAAgC,GACA,kBACAzM,EAAAmL,aAAAsB,EAAAtM,QAGAqM,KACAtK,EAAAlC,EAAAoJ,SAAAhL,SAAA8D,WACArE,EAAA,EAAAA,EAAAqE,EAAApE,OAAAD,IAAA,CACA,IAAA6O,EAAAxK,EAAArE,GACA/B,KAAA+G,eAAA6J,EAAAvM,MAAAsK,EAAAiC,GACAF,EAAA3O,GAAAyO,EAAA7H,IAAA3I,KAAA+G,eAAA6J,EAAAvM,KAAAuM,EAAAvM,MACAtC,MAGA6F,QAxJA,WAyJAiJ,sBAAA7Q,KAAA4H,SACA5H,KAAA8Q,SACA9Q,KAAAoH,MAAAyE,UAEAiF,OA7JA,WA8JA,IAAAhB,EAAA9P,KAAAmH,MAAA4J,WACA/Q,KAAAkE,UAAA2H,OAAAiE,GACA9P,KAAA6G,SAAAiK,OAAA9Q,KAAA4G,MAAA5G,KAAA2G,WCxMeqK,GADEF,OAFjB,WAA0B9Q,KAAaiR,eAAbjR,KAAuCkR,MAAAC,GAAwB,OAA/DnR,KAA+DoR,GAAA,IAExEC,iBADjB,WAAoC,IAAaC,EAAbtR,KAAaiR,eAA0BE,EAAvCnR,KAAuCkR,MAAAC,IAAAG,EAAwB,OAAAH,EAAA,OAAiBI,YAAA,6BAAuCJ,EAAA,OAAYK,OAAOC,GAAA,UAAaN,EAAA,KAAUK,OAAOE,KAAA,sBAAA9F,OAAA,SAAA+F,IAAA,cAAxK3R,KAAyO4R,GAAA,cAAzO5R,KAAyO4R,GAAA,wCAAAT,EAAA,KAA8EK,OAAOE,KAAA,uEAA9T1R,KAA0Y4R,GAAA,0BCE9a,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExL,EACAyK,GATF,EAVA,SAAAgB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/147.351fb866a9308fcd02af.js","sourcesContent":["import {\r\n\tAnimationClip,\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tLoader,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar MD2Loader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n};\r\n\r\nMD2Loader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: MD2Loader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new FileLoader( scope.manager );\r\n\t\tloader.setPath( scope.path );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setRequestHeader( scope.requestHeader );\r\n\t\tloader.setWithCredentials( scope.withCredentials );\r\n\t\tloader.load( url, function ( buffer ) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tonLoad( scope.parse( buffer ) );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: ( function () {\r\n\r\n\t\tvar normalData = [\r\n\t\t\t[ - 0.525731, 0.000000, 0.850651 ], [ - 0.442863, 0.238856, 0.864188 ],\r\n\t\t\t[ - 0.295242, 0.000000, 0.955423 ], [ - 0.309017, 0.500000, 0.809017 ],\r\n\t\t\t[ - 0.162460, 0.262866, 0.951056 ], [ 0.000000, 0.000000, 1.000000 ],\r\n\t\t\t[ 0.000000, 0.850651, 0.525731 ], [ - 0.147621, 0.716567, 0.681718 ],\r\n\t\t\t[ 0.147621, 0.716567, 0.681718 ], [ 0.000000, 0.525731, 0.850651 ],\r\n\t\t\t[ 0.309017, 0.500000, 0.809017 ], [ 0.525731, 0.000000, 0.850651 ],\r\n\t\t\t[ 0.295242, 0.000000, 0.955423 ], [ 0.442863, 0.238856, 0.864188 ],\r\n\t\t\t[ 0.162460, 0.262866, 0.951056 ], [ - 0.681718, 0.147621, 0.716567 ],\r\n\t\t\t[ - 0.809017, 0.309017, 0.500000 ], [ - 0.587785, 0.425325, 0.688191 ],\r\n\t\t\t[ - 0.850651, 0.525731, 0.000000 ], [ - 0.864188, 0.442863, 0.238856 ],\r\n\t\t\t[ - 0.716567, 0.681718, 0.147621 ], [ - 0.688191, 0.587785, 0.425325 ],\r\n\t\t\t[ - 0.500000, 0.809017, 0.309017 ], [ - 0.238856, 0.864188, 0.442863 ],\r\n\t\t\t[ - 0.425325, 0.688191, 0.587785 ], [ - 0.716567, 0.681718, - 0.147621 ],\r\n\t\t\t[ - 0.500000, 0.809017, - 0.309017 ], [ - 0.525731, 0.850651, 0.000000 ],\r\n\t\t\t[ 0.000000, 0.850651, - 0.525731 ], [ - 0.238856, 0.864188, - 0.442863 ],\r\n\t\t\t[ 0.000000, 0.955423, - 0.295242 ], [ - 0.262866, 0.951056, - 0.162460 ],\r\n\t\t\t[ 0.000000, 1.000000, 0.000000 ], [ 0.000000, 0.955423, 0.295242 ],\r\n\t\t\t[ - 0.262866, 0.951056, 0.162460 ], [ 0.238856, 0.864188, 0.442863 ],\r\n\t\t\t[ 0.262866, 0.951056, 0.162460 ], [ 0.500000, 0.809017, 0.309017 ],\r\n\t\t\t[ 0.238856, 0.864188, - 0.442863 ], [ 0.262866, 0.951056, - 0.162460 ],\r\n\t\t\t[ 0.500000, 0.809017, - 0.309017 ], [ 0.850651, 0.525731, 0.000000 ],\r\n\t\t\t[ 0.716567, 0.681718, 0.147621 ], [ 0.716567, 0.681718, - 0.147621 ],\r\n\t\t\t[ 0.525731, 0.850651, 0.000000 ], [ 0.425325, 0.688191, 0.587785 ],\r\n\t\t\t[ 0.864188, 0.442863, 0.238856 ], [ 0.688191, 0.587785, 0.425325 ],\r\n\t\t\t[ 0.809017, 0.309017, 0.500000 ], [ 0.681718, 0.147621, 0.716567 ],\r\n\t\t\t[ 0.587785, 0.425325, 0.688191 ], [ 0.955423, 0.295242, 0.000000 ],\r\n\t\t\t[ 1.000000, 0.000000, 0.000000 ], [ 0.951056, 0.162460, 0.262866 ],\r\n\t\t\t[ 0.850651, - 0.525731, 0.000000 ], [ 0.955423, - 0.295242, 0.000000 ],\r\n\t\t\t[ 0.864188, - 0.442863, 0.238856 ], [ 0.951056, - 0.162460, 0.262866 ],\r\n\t\t\t[ 0.809017, - 0.309017, 0.500000 ], [ 0.681718, - 0.147621, 0.716567 ],\r\n\t\t\t[ 0.850651, 0.000000, 0.525731 ], [ 0.864188, 0.442863, - 0.238856 ],\r\n\t\t\t[ 0.809017, 0.309017, - 0.500000 ], [ 0.951056, 0.162460, - 0.262866 ],\r\n\t\t\t[ 0.525731, 0.000000, - 0.850651 ], [ 0.681718, 0.147621, - 0.716567 ],\r\n\t\t\t[ 0.681718, - 0.147621, - 0.716567 ], [ 0.850651, 0.000000, - 0.525731 ],\r\n\t\t\t[ 0.809017, - 0.309017, - 0.500000 ], [ 0.864188, - 0.442863, - 0.238856 ],\r\n\t\t\t[ 0.951056, - 0.162460, - 0.262866 ], [ 0.147621, 0.716567, - 0.681718 ],\r\n\t\t\t[ 0.309017, 0.500000, - 0.809017 ], [ 0.425325, 0.688191, - 0.587785 ],\r\n\t\t\t[ 0.442863, 0.238856, - 0.864188 ], [ 0.587785, 0.425325, - 0.688191 ],\r\n\t\t\t[ 0.688191, 0.587785, - 0.425325 ], [ - 0.147621, 0.716567, - 0.681718 ],\r\n\t\t\t[ - 0.309017, 0.500000, - 0.809017 ], [ 0.000000, 0.525731, - 0.850651 ],\r\n\t\t\t[ - 0.525731, 0.000000, - 0.850651 ], [ - 0.442863, 0.238856, - 0.864188 ],\r\n\t\t\t[ - 0.295242, 0.000000, - 0.955423 ], [ - 0.162460, 0.262866, - 0.951056 ],\r\n\t\t\t[ 0.000000, 0.000000, - 1.000000 ], [ 0.295242, 0.000000, - 0.955423 ],\r\n\t\t\t[ 0.162460, 0.262866, - 0.951056 ], [ - 0.442863, - 0.238856, - 0.864188 ],\r\n\t\t\t[ - 0.309017, - 0.500000, - 0.809017 ], [ - 0.162460, - 0.262866, - 0.951056 ],\r\n\t\t\t[ 0.000000, - 0.850651, - 0.525731 ], [ - 0.147621, - 0.716567, - 0.681718 ],\r\n\t\t\t[ 0.147621, - 0.716567, - 0.681718 ], [ 0.000000, - 0.525731, - 0.850651 ],\r\n\t\t\t[ 0.309017, - 0.500000, - 0.809017 ], [ 0.442863, - 0.238856, - 0.864188 ],\r\n\t\t\t[ 0.162460, - 0.262866, - 0.951056 ], [ 0.238856, - 0.864188, - 0.442863 ],\r\n\t\t\t[ 0.500000, - 0.809017, - 0.309017 ], [ 0.425325, - 0.688191, - 0.587785 ],\r\n\t\t\t[ 0.716567, - 0.681718, - 0.147621 ], [ 0.688191, - 0.587785, - 0.425325 ],\r\n\t\t\t[ 0.587785, - 0.425325, - 0.688191 ], [ 0.000000, - 0.955423, - 0.295242 ],\r\n\t\t\t[ 0.000000, - 1.000000, 0.000000 ], [ 0.262866, - 0.951056, - 0.162460 ],\r\n\t\t\t[ 0.000000, - 0.850651, 0.525731 ], [ 0.000000, - 0.955423, 0.295242 ],\r\n\t\t\t[ 0.238856, - 0.864188, 0.442863 ], [ 0.262866, - 0.951056, 0.162460 ],\r\n\t\t\t[ 0.500000, - 0.809017, 0.309017 ], [ 0.716567, - 0.681718, 0.147621 ],\r\n\t\t\t[ 0.525731, - 0.850651, 0.000000 ], [ - 0.238856, - 0.864188, - 0.442863 ],\r\n\t\t\t[ - 0.500000, - 0.809017, - 0.309017 ], [ - 0.262866, - 0.951056, - 0.162460 ],\r\n\t\t\t[ - 0.850651, - 0.525731, 0.000000 ], [ - 0.716567, - 0.681718, - 0.147621 ],\r\n\t\t\t[ - 0.716567, - 0.681718, 0.147621 ], [ - 0.525731, - 0.850651, 0.000000 ],\r\n\t\t\t[ - 0.500000, - 0.809017, 0.309017 ], [ - 0.238856, - 0.864188, 0.442863 ],\r\n\t\t\t[ - 0.262866, - 0.951056, 0.162460 ], [ - 0.864188, - 0.442863, 0.238856 ],\r\n\t\t\t[ - 0.809017, - 0.309017, 0.500000 ], [ - 0.688191, - 0.587785, 0.425325 ],\r\n\t\t\t[ - 0.681718, - 0.147621, 0.716567 ], [ - 0.442863, - 0.238856, 0.864188 ],\r\n\t\t\t[ - 0.587785, - 0.425325, 0.688191 ], [ - 0.309017, - 0.500000, 0.809017 ],\r\n\t\t\t[ - 0.147621, - 0.716567, 0.681718 ], [ - 0.425325, - 0.688191, 0.587785 ],\r\n\t\t\t[ - 0.162460, - 0.262866, 0.951056 ], [ 0.442863, - 0.238856, 0.864188 ],\r\n\t\t\t[ 0.162460, - 0.262866, 0.951056 ], [ 0.309017, - 0.500000, 0.809017 ],\r\n\t\t\t[ 0.147621, - 0.716567, 0.681718 ], [ 0.000000, - 0.525731, 0.850651 ],\r\n\t\t\t[ 0.425325, - 0.688191, 0.587785 ], [ 0.587785, - 0.425325, 0.688191 ],\r\n\t\t\t[ 0.688191, - 0.587785, 0.425325 ], [ - 0.955423, 0.295242, 0.000000 ],\r\n\t\t\t[ - 0.951056, 0.162460, 0.262866 ], [ - 1.000000, 0.000000, 0.000000 ],\r\n\t\t\t[ - 0.850651, 0.000000, 0.525731 ], [ - 0.955423, - 0.295242, 0.000000 ],\r\n\t\t\t[ - 0.951056, - 0.162460, 0.262866 ], [ - 0.864188, 0.442863, - 0.238856 ],\r\n\t\t\t[ - 0.951056, 0.162460, - 0.262866 ], [ - 0.809017, 0.309017, - 0.500000 ],\r\n\t\t\t[ - 0.864188, - 0.442863, - 0.238856 ], [ - 0.951056, - 0.162460, - 0.262866 ],\r\n\t\t\t[ - 0.809017, - 0.309017, - 0.500000 ], [ - 0.681718, 0.147621, - 0.716567 ],\r\n\t\t\t[ - 0.681718, - 0.147621, - 0.716567 ], [ - 0.850651, 0.000000, - 0.525731 ],\r\n\t\t\t[ - 0.688191, 0.587785, - 0.425325 ], [ - 0.587785, 0.425325, - 0.688191 ],\r\n\t\t\t[ - 0.425325, 0.688191, - 0.587785 ], [ - 0.425325, - 0.688191, - 0.587785 ],\r\n\t\t\t[ - 0.587785, - 0.425325, - 0.688191 ], [ - 0.688191, - 0.587785, - 0.425325 ]\r\n\t\t];\r\n\r\n\t\treturn function ( buffer ) {\r\n\r\n\t\t\tvar data = new DataView( buffer );\r\n\r\n\t\t\t// http://tfc.duke.free.fr/coding/md2-specs-en.html\r\n\r\n\t\t\tvar header = {};\r\n\t\t\tvar headerNames = [\r\n\t\t\t\t'ident', 'version',\r\n\t\t\t\t'skinwidth', 'skinheight',\r\n\t\t\t\t'framesize',\r\n\t\t\t\t'num_skins', 'num_vertices', 'num_st', 'num_tris', 'num_glcmds', 'num_frames',\r\n\t\t\t\t'offset_skins', 'offset_st', 'offset_tris', 'offset_frames', 'offset_glcmds', 'offset_end'\r\n\t\t\t];\r\n\r\n\t\t\tfor ( var i = 0; i < headerNames.length; i ++ ) {\r\n\r\n\t\t\t\theader[ headerNames[ i ] ] = data.getInt32( i * 4, true );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( header.ident !== 844121161 || header.version !== 8 ) {\r\n\r\n\t\t\t\tconsole.error( 'Not a valid MD2 file' );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( header.offset_end !== data.byteLength ) {\r\n\r\n\t\t\t\tconsole.error( 'Corrupted MD2 file' );\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\r\n\t\t\tvar geometry = new BufferGeometry();\r\n\r\n\t\t\t// uvs\r\n\r\n\t\t\tvar uvsTemp = [];\r\n\t\t\tvar offset = header.offset_st;\r\n\r\n\t\t\tfor ( var i = 0, l = header.num_st; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar u = data.getInt16( offset + 0, true );\r\n\t\t\t\tvar v = data.getInt16( offset + 2, true );\r\n\r\n\t\t\t\tuvsTemp.push( u / header.skinwidth, 1 - ( v / header.skinheight ) );\r\n\r\n\t\t\t\toffset += 4;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// triangles\r\n\r\n\t\t\toffset = header.offset_tris;\r\n\r\n\t\t\tvar vertexIndices = [];\r\n\t\t\tvar uvIndices = [];\r\n\r\n\t\t\tfor ( var i = 0, l = header.num_tris; i < l; i ++ ) {\r\n\r\n\t\t\t\tvertexIndices.push(\r\n\t\t\t\t\tdata.getUint16( offset + 0, true ),\r\n\t\t\t\t\tdata.getUint16( offset + 2, true ),\r\n\t\t\t\t\tdata.getUint16( offset + 4, true )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tuvIndices.push(\r\n\t\t\t\t\tdata.getUint16( offset + 6, true ),\r\n\t\t\t\t\tdata.getUint16( offset + 8, true ),\r\n\t\t\t\t\tdata.getUint16( offset + 10, true )\r\n\t\t\t\t);\r\n\r\n\t\t\t\toffset += 12;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// frames\r\n\r\n\t\t\tvar translation = new Vector3();\r\n\t\t\tvar scale = new Vector3();\r\n\t\t\tvar string = [];\r\n\r\n\t\t\tvar frames = [];\r\n\r\n\t\t\toffset = header.offset_frames;\r\n\r\n\t\t\tfor ( var i = 0, l = header.num_frames; i < l; i ++ ) {\r\n\r\n\t\t\t\tscale.set(\r\n\t\t\t\t\tdata.getFloat32( offset + 0, true ),\r\n\t\t\t\t\tdata.getFloat32( offset + 4, true ),\r\n\t\t\t\t\tdata.getFloat32( offset + 8, true )\r\n\t\t\t\t);\r\n\r\n\t\t\t\ttranslation.set(\r\n\t\t\t\t\tdata.getFloat32( offset + 12, true ),\r\n\t\t\t\t\tdata.getFloat32( offset + 16, true ),\r\n\t\t\t\t\tdata.getFloat32( offset + 20, true )\r\n\t\t\t\t);\r\n\r\n\t\t\t\toffset += 24;\r\n\r\n\t\t\t\tfor ( var j = 0; j < 16; j ++ ) {\r\n\r\n\t\t\t\t\tvar character = data.getUint8( offset + j, true );\r\n\t\t\t\t\tif ( character === 0 ) break;\r\n\r\n\t\t\t\t\tstring[ j ] = character;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar frame = {\r\n\t\t\t\t\tname: String.fromCharCode.apply( null, string ),\r\n\t\t\t\t\tvertices: [],\r\n\t\t\t\t\tnormals: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\toffset += 16;\r\n\r\n\t\t\t\tfor ( var j = 0; j < header.num_vertices; j ++ ) {\r\n\r\n\t\t\t\t\tvar x = data.getUint8( offset ++, true );\r\n\t\t\t\t\tvar y = data.getUint8( offset ++, true );\r\n\t\t\t\t\tvar z = data.getUint8( offset ++, true );\r\n\t\t\t\t\tvar n = normalData[ data.getUint8( offset ++, true ) ];\r\n\r\n\t\t\t\t\tx = x * scale.x + translation.x;\r\n\t\t\t\t\ty = y * scale.y + translation.y;\r\n\t\t\t\t\tz = z * scale.z + translation.z;\r\n\r\n\t\t\t\t\tframe.vertices.push( x, z, y ); // convert to Y-up\r\n\t\t\t\t\tframe.normals.push( n[ 0 ], n[ 2 ], n[ 1 ] ); // convert to Y-up\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tframes.push( frame );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// static\r\n\r\n\t\t\tvar positions = [];\r\n\t\t\tvar normals = [];\r\n\t\t\tvar uvs = [];\r\n\r\n\t\t\tvar verticesTemp = frames[ 0 ].vertices;\r\n\t\t\tvar normalsTemp = frames[ 0 ].normals;\r\n\r\n\t\t\tfor ( var i = 0, l = vertexIndices.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar vertexIndex = vertexIndices[ i ];\r\n\t\t\t\tvar stride = vertexIndex * 3;\r\n\r\n\t\t\t\t//\r\n\r\n\t\t\t\tvar x = verticesTemp[ stride ];\r\n\t\t\t\tvar y = verticesTemp[ stride + 1 ];\r\n\t\t\t\tvar z = verticesTemp[ stride + 2 ];\r\n\r\n\t\t\t\tpositions.push( x, y, z );\r\n\r\n\t\t\t\t//\r\n\r\n\t\t\t\tvar nx = normalsTemp[ stride ];\r\n\t\t\t\tvar ny = normalsTemp[ stride + 1 ];\r\n\t\t\t\tvar nz = normalsTemp[ stride + 2 ];\r\n\r\n\t\t\t\tnormals.push( nx, ny, nz );\r\n\r\n\t\t\t\t//\r\n\r\n\t\t\t\tvar uvIndex = uvIndices[ i ];\r\n\t\t\t\tstride = uvIndex * 2;\r\n\r\n\t\t\t\tvar u = uvsTemp[ stride ];\r\n\t\t\t\tvar v = uvsTemp[ stride + 1 ];\r\n\r\n\t\t\t\tuvs.push( u, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\r\n\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\r\n\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\r\n\r\n\t\t\t// animation\r\n\r\n\t\t\tvar morphPositions = [];\r\n\t\t\tvar morphNormals = [];\r\n\r\n\t\t\tfor ( var i = 0, l = frames.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar frame = frames[ i ];\r\n\t\t\t\tvar attributeName = frame.name;\r\n\r\n\t\t\t\tif ( frame.vertices.length > 0 ) {\r\n\r\n\t\t\t\t\tvar positions = [];\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexIndices.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertexIndex = vertexIndices[ j ];\r\n\t\t\t\t\t\tvar stride = vertexIndex * 3;\r\n\r\n\t\t\t\t\t\tvar x = frame.vertices[ stride ];\r\n\t\t\t\t\t\tvar y = frame.vertices[ stride + 1 ];\r\n\t\t\t\t\t\tvar z = frame.vertices[ stride + 2 ];\r\n\r\n\t\t\t\t\t\tpositions.push( x, y, z );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar positionAttribute = new Float32BufferAttribute( positions, 3 );\r\n\t\t\t\t\tpositionAttribute.name = attributeName;\r\n\r\n\t\t\t\t\tmorphPositions.push( positionAttribute );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( frame.normals.length > 0 ) {\r\n\r\n\t\t\t\t\tvar normals = [];\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexIndices.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertexIndex = vertexIndices[ j ];\r\n\t\t\t\t\t\tvar stride = vertexIndex * 3;\r\n\r\n\t\t\t\t\t\tvar nx = frame.normals[ stride ];\r\n\t\t\t\t\t\tvar ny = frame.normals[ stride + 1 ];\r\n\t\t\t\t\t\tvar nz = frame.normals[ stride + 2 ];\r\n\r\n\t\t\t\t\t\tnormals.push( nx, ny, nz );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar normalAttribute = new Float32BufferAttribute( normals, 3 );\r\n\t\t\t\t\tnormalAttribute.name = attributeName;\r\n\r\n\t\t\t\t\tmorphNormals.push( normalAttribute );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.morphAttributes.position = morphPositions;\r\n\t\t\tgeometry.morphAttributes.normal = morphNormals;\r\n\t\t\tgeometry.morphTargetsRelative = false;\r\n\r\n\t\t\tgeometry.animations = AnimationClip.CreateClipsFromMorphTargetSequences( frames, 10 );\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t};\r\n\r\n\t} )()\r\n\r\n} );\r\n\r\nexport { MD2Loader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/MD2Loader.js","import {\r\n\tAnimationMixer,\r\n\tBox3,\r\n\tMesh,\r\n\tMeshLambertMaterial,\r\n\tObject3D,\r\n\tTextureLoader,\r\n\tUVMapping,\r\n\tsRGBEncoding\r\n} from \"@/components/build/three.module.js\";\r\nimport { MD2Loader } from \"../loaders/MD2Loader.js\";\r\n\r\nvar MD2Character = function () {\r\n\r\n\tvar scope = this;\r\n\r\n\tthis.scale = 1;\r\n\tthis.animationFPS = 6;\r\n\r\n\tthis.root = new Object3D();\r\n\r\n\tthis.meshBody = null;\r\n\tthis.meshWeapon = null;\r\n\r\n\tthis.skinsBody = [];\r\n\tthis.skinsWeapon = [];\r\n\r\n\tthis.weapons = [];\r\n\r\n\tthis.activeAnimation = null;\r\n\r\n\tthis.mixer = null;\r\n\r\n\tthis.onLoadComplete = function () {};\r\n\r\n\tthis.loadCounter = 0;\r\n\r\n\tthis.loadParts = function ( config ) {\r\n\r\n\t\tthis.loadCounter = config.weapons.length * 2 + config.skins.length + 1;\r\n\r\n\t\tvar weaponsTextures = [];\r\n\t\tfor ( var i = 0; i < config.weapons.length; i ++ ) weaponsTextures[ i ] = config.weapons[ i ][ 1 ];\r\n\t\t// SKINS\r\n\r\n\t\tthis.skinsBody = loadTextures( config.baseUrl + \"skins/\", config.skins );\r\n\t\tthis.skinsWeapon = loadTextures( config.baseUrl + \"skins/\", weaponsTextures );\r\n\r\n\t\t// BODY\r\n\r\n\t\tvar loader = new MD2Loader();\r\n\r\n\t\tloader.load( config.baseUrl + config.body, function ( geo ) {\r\n\r\n\t\t\tvar boundingBox = new Box3();\r\n\t\t\tboundingBox.setFromBufferAttribute( geo.attributes.position );\r\n\r\n\t\t\tscope.root.position.y = - scope.scale * boundingBox.min.y;\r\n\r\n\t\t\tvar mesh = createPart( geo, scope.skinsBody[ 0 ] );\r\n\t\t\tmesh.scale.set( scope.scale, scope.scale, scope.scale );\r\n\r\n\t\t\tscope.root.add( mesh );\r\n\r\n\t\t\tscope.meshBody = mesh;\r\n\r\n\t\t\tscope.meshBody.clipOffset = 0;\r\n\t\t\tscope.activeAnimationClipName = mesh.geometry.animations[ 0 ].name;\r\n\r\n\t\t\tscope.mixer = new AnimationMixer( mesh );\r\n\r\n\t\t\tcheckLoadingComplete();\r\n\r\n\t\t} );\r\n\r\n\t\t// WEAPONS\r\n\r\n\t\tvar generateCallback = function ( index, name ) {\r\n\r\n\t\t\treturn function ( geo ) {\r\n\r\n\t\t\t\tvar mesh = createPart( geo, scope.skinsWeapon[ index ] );\r\n\t\t\t\tmesh.scale.set( scope.scale, scope.scale, scope.scale );\r\n\t\t\t\tmesh.visible = false;\r\n\r\n\t\t\t\tmesh.name = name;\r\n\r\n\t\t\t\tscope.root.add( mesh );\r\n\r\n\t\t\t\tscope.weapons[ index ] = mesh;\r\n\t\t\t\tscope.meshWeapon = mesh;\r\n\r\n\t\t\t\tcheckLoadingComplete();\r\n\r\n\t\t\t};\r\n\r\n\t\t};\r\n\r\n\t\tfor ( var i = 0; i < config.weapons.length; i ++ ) {\r\n\r\n\t\t\tloader.load( config.baseUrl + config.weapons[ i ][ 0 ], generateCallback( i, config.weapons[ i ][ 0 ] ) );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setPlaybackRate = function ( rate ) {\r\n\r\n\t\tif ( rate !== 0 ) {\r\n\r\n\t\t\tthis.mixer.timeScale = 1 / rate;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.mixer.timeScale = 0;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setWireframe = function ( wireframeEnabled ) {\r\n\r\n\t\tif ( wireframeEnabled ) {\r\n\r\n\t\t\tif ( this.meshBody ) this.meshBody.material = this.meshBody.materialWireframe;\r\n\t\t\tif ( this.meshWeapon ) this.meshWeapon.material = this.meshWeapon.materialWireframe;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( this.meshBody ) this.meshBody.material = this.meshBody.materialTexture;\r\n\t\t\tif ( this.meshWeapon ) this.meshWeapon.material = this.meshWeapon.materialTexture;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setSkin = function ( index ) {\r\n\r\n\t\tif ( this.meshBody && this.meshBody.material.wireframe === false ) {\r\n\r\n\t\t\tthis.meshBody.material.map = this.skinsBody[ index ];\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setWeapon = function ( index ) {\r\n\r\n\t\tfor ( var i = 0; i < this.weapons.length; i ++ ) this.weapons[ i ].visible = false;\r\n\r\n\t\tvar activeWeapon = this.weapons[ index ];\r\n\r\n\t\tif ( activeWeapon ) {\r\n\r\n\t\t\tactiveWeapon.visible = true;\r\n\t\t\tthis.meshWeapon = activeWeapon;\r\n\r\n\t\t\tscope.syncWeaponAnimation();\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.setAnimation = function ( clipName ) {\r\n\r\n\t\tif ( this.meshBody ) {\r\n\r\n\t\t\tif ( this.meshBody.activeAction ) {\r\n\r\n\t\t\t\tthis.meshBody.activeAction.stop();\r\n\t\t\t\tthis.meshBody.activeAction = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar action = this.mixer.clipAction( clipName, this.meshBody );\r\n\r\n\t\t\tif ( action ) {\r\n\r\n\t\t\t\tthis.meshBody.activeAction = action.play();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tscope.activeClipName = clipName;\r\n\r\n\t\tscope.syncWeaponAnimation();\r\n\r\n\t};\r\n\r\n\tthis.syncWeaponAnimation = function () {\r\n\r\n\t\tvar clipName = scope.activeClipName;\r\n\r\n\t\tif ( scope.meshWeapon ) {\r\n\r\n\t\t\tif ( this.meshWeapon.activeAction ) {\r\n\r\n\t\t\t\tthis.meshWeapon.activeAction.stop();\r\n\t\t\t\tthis.meshWeapon.activeAction = null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar action = this.mixer.clipAction( clipName, this.meshWeapon );\r\n\r\n\t\t\tif ( action ) {\r\n\r\n\t\t\t\tthis.meshWeapon.activeAction = action.syncWith( this.meshBody.activeAction ).play();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.update = function ( delta ) {\r\n\r\n\t\tif ( this.mixer ) this.mixer.update( delta );\r\n\r\n\t};\r\n\r\n\tfunction loadTextures( baseUrl, textureUrls ) {\r\n\r\n\t\tvar textureLoader = new TextureLoader();\r\n\t\tvar textures = [];\r\n\r\n\t\tfor ( var i = 0; i < textureUrls.length; i ++ ) {\r\n\r\n\t\t\ttextures[ i ] = textureLoader.load( baseUrl + textureUrls[ i ], checkLoadingComplete );\r\n\t\t\ttextures[ i ].mapping = UVMapping;\r\n\t\t\ttextures[ i ].name = textureUrls[ i ];\r\n\t\t\ttextures[ i ].encoding = sRGBEncoding;\r\n\r\n\t\t}\r\n\r\n\t\treturn textures;\r\n\r\n\t}\r\n\r\n\tfunction createPart( geometry, skinMap ) {\r\n\r\n\t\tvar materialWireframe = new MeshLambertMaterial( { color: 0xffaa00, wireframe: true, morphTargets: true, morphNormals: true } );\r\n\t\tvar materialTexture = new MeshLambertMaterial( { color: 0xffffff, wireframe: false, map: skinMap, morphTargets: true, morphNormals: true } );\r\n\r\n\t\t//\r\n\r\n\t\tvar mesh = new Mesh( geometry, materialTexture );\r\n\t\tmesh.rotation.y = - Math.PI / 2;\r\n\r\n\t\tmesh.castShadow = true;\r\n\t\tmesh.receiveShadow = true;\r\n\r\n\t\t//\r\n\r\n\t\tmesh.materialTexture = materialTexture;\r\n\t\tmesh.materialWireframe = materialWireframe;\r\n\r\n\t\treturn mesh;\r\n\r\n\t}\r\n\r\n\tfunction checkLoadingComplete() {\r\n\r\n\t\tscope.loadCounter -= 1;\r\n\r\n\t\tif ( scope.loadCounter === 0 ) scope.onLoadComplete();\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { MD2Character };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/misc/MD2Character.js","<template>\r\n    <div class=\"webglLoaderMd2-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - MD2 Loader -\r\n\t\t\tCharacter by <a href=\"http://planetquake.gamespy.com/View.php?view=Quake2.Detail&id=368\">Brian Collins</a>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { GUI } from '@/components/jsm/libs/dat.gui.module.js'\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nimport { MD2Character } from '@/components/jsm/misc/MD2Character.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            SCREEN_WIDTH: null,\r\n\t\t\tSCREEN_HEIGHT: null,\r\n            container: null,\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n\t\t\tcharacter: null,\r\n\t\t\tgui: null,\r\n\t\t\tplaybackConfig: {\r\n\t\t\t\tspeed: 1.0,\r\n\t\t\t\twireframe: false\r\n\t\t\t},\r\n\t\t\tcontrols: null,\r\n\t\t\tclock: null,\r\n\t\t\tstats: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.SCREEN_WIDTH = this.$webglInnerWidth\r\n        this.SCREEN_HEIGHT = window.innerHeight\r\n        this.clock = new this.$THREE.Clock()\r\n        this.init()\r\n        this.animate()\r\n    },\r\n    beforeDestroy() {\r\n        this.gui.destroy()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.container = document.createElement('div')\r\n            document.getElementsByClassName('webglLoaderMd2-container')[0].appendChild(this.container)\r\n            // CAMERA\r\n            this.camera = new this.$THREE.PerspectiveCamera(40, this.$webglInnerWidth / window.innerHeight, 1, 1000)\r\n            this.camera.position.set(0, 150, 400)\r\n            // SCENE\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.background = new this.$THREE.Color(0x050505)\r\n            this.scene.fog = new this.$THREE.Fog(0x050505, 400, 1000)\r\n            // LIGHTS\r\n            this.scene.add(new this.$THREE.AmbientLight(0x222222))\r\n            var light1 = new this.$THREE.SpotLight(0xffffff, 5, 1000)\r\n            light1.position.set(200, 250, 500)\r\n            light1.angle = 0.5\r\n            light1.penumbra = 0.5\r\n            light1.castShadow = true\r\n            light1.shadow.mapSize.width = 1024\r\n            light1.shadow.mapSize.height = 1024\r\n            // this.scene.add(new this.$THREE.CameraHelper(light1.shadow.camera))\r\n            this.scene.add(light1)\r\n            var light2 = new this.$THREE.SpotLight(0xffffff, 5, 1000)\r\n            light2.position.set(- 100, 350, 350)\r\n            light2.angle = 0.5\r\n            light2.penumbra = 0.5\r\n            light2.castShadow = true\r\n            light2.shadow.mapSize.width = 1024\r\n            light2.shadow.mapSize.height = 1024\r\n            // this.scene.add(new this.$THREE.CameraHelper(light2.shadow.camera))\r\n            this.scene.add(light2)\r\n            //  GROUND\r\n            var gt = new this.$THREE.TextureLoader().load(\"static/textures/terrain/grasslight-big.jpg\")\r\n            var gg = new this.$THREE.PlaneBufferGeometry(2000, 2000)\r\n            var gm = new this.$THREE.MeshPhongMaterial({ color: 0xffffff, map: gt })\r\n            var ground = new this.$THREE.Mesh(gg, gm)\r\n            ground.rotation.x = - Math.PI / 2\r\n            ground.material.map.repeat.set(8, 8)\r\n            ground.material.map.wrapS = ground.material.map.wrapT = this.$THREE.RepeatWrapping\r\n            ground.material.map.encoding = this.$THREE.sRGBEncoding\r\n            ground.receiveShadow = true\r\n            this.scene.add(ground)\r\n            // RENDERER\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.SCREEN_WIDTH, this.SCREEN_HEIGHT)\r\n            this.container.appendChild(this.renderer.domElement)\r\n            //\r\n            this.renderer.outputEncoding = this.$THREE.sRGBEncoding\r\n            this.renderer.shadowMap.enabled = true\r\n            // STATS\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            this.container.appendChild(this.stats.dom)\r\n            // EVENTS\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n            // CONTROLS\r\n            this.controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n            this.controls.target.set(0, 50, 0)\r\n            this.controls.update()\r\n            // GUI\r\n            this.gui = new GUI()\r\n            this.gui.add(this.playbackConfig, 'speed', 0, 2).onChange(() => {\r\n                this.character.setPlaybackRate(this.playbackConfig.speed)\r\n            })\r\n            this.gui.add(this.playbackConfig, 'wireframe', false).onChange(() => {\r\n                this.character.setWireframe(this.playbackConfig.wireframe)\r\n            })\r\n            // CHARACTER\r\n            var config = {\r\n                baseUrl: \"static/models/md2/ratamahatta/\",\r\n                body: \"ratamahatta.md2\",\r\n                skins: [ \"ratamahatta.png\", \"ctf_b.png\", \"ctf_r.png\", \"dead.png\", \"gearwhore.png\" ],\r\n                weapons: [[ \"weapon.md2\", \"weapon.png\" ],\r\n                                [ \"w_bfg.md2\", \"w_bfg.png\" ],\r\n                                [ \"w_blaster.md2\", \"w_blaster.png\" ],\r\n                                [ \"w_chaingun.md2\", \"w_chaingun.png\" ],\r\n                                [ \"w_glauncher.md2\", \"w_glauncher.png\" ],\r\n                                [ \"w_hyperblaster.md2\", \"w_hyperblaster.png\" ],\r\n                                [ \"w_machinegun.md2\", \"w_machinegun.png\" ],\r\n                                [ \"w_railgun.md2\", \"w_railgun.png\" ],\r\n                                [ \"w_rlauncher.md2\", \"w_rlauncher.png\" ],\r\n                                [ \"w_shotgun.md2\", \"w_shotgun.png\" ],\r\n                                [ \"w_sshotgun.md2\", \"w_sshotgun.png\" ]\r\n                ]\r\n            }\r\n            this.character = new MD2Character()\r\n            this.character.scale = 3\r\n            this.character.onLoadComplete = () => {\r\n                this.setupSkinsGUI(this.character)\r\n                this.setupWeaponsGUI(this.character)\r\n                this.setupGUIAnimations(this.character)\r\n                this.character.setAnimation(this.character.meshBody.geometry.animations[ 0 ].name)\r\n            }\r\n            this.character.loadParts(config)\r\n            this.scene.add(this.character.root)\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        labelize(text) {\r\n            var parts = text.split(\".\")\r\n            if (parts.length > 1) {\r\n                parts.length -= 1\r\n                return parts.join(\".\")\r\n            }\r\n            return text\r\n        },\r\n        setupWeaponsGUI(character) {\r\n            var folder = this.gui.addFolder(\"Weapons\")\r\n            var generateCallback = (index) => {\r\n                return () => {\r\n                    character.setWeapon(index)\r\n                }\r\n            }\r\n            var guiItems = []\r\n            for (var i = 0; i < character.weapons.length; i ++) {\r\n                var name = character.weapons[ i ].name\r\n                this.playbackConfig[ name ] = generateCallback(i)\r\n                guiItems[ i ] = folder.add(this.playbackConfig, name).name(this.labelize(name))\r\n            }\r\n        },\r\n        setupSkinsGUI(character) {\r\n            var folder = this.gui.addFolder(\"Skins\")\r\n            var generateCallback = (index) => {\r\n                return () => {\r\n                    character.setSkin(index)\r\n                }\r\n            }\r\n            var guiItems = []\r\n            for (var i = 0; i < character.skinsBody.length; i ++) {\r\n                var name = character.skinsBody[ i ].name;\r\n                this.playbackConfig[ name ] = generateCallback(i);\r\n                guiItems[ i ] = folder.add(this.playbackConfig, name).name(this.labelize(name));\r\n            }\r\n        },\r\n        setupGUIAnimations(character) {\r\n            var folder = this.gui.addFolder(\"Animations\")\r\n            var generateCallback = (animationClip) => {\r\n                return () => {\r\n                    character.setAnimation(animationClip.name)\r\n                }\r\n            }\r\n            var guiItems = []\r\n            var animations = character.meshBody.geometry.animations\r\n            for (var i = 0; i < animations.length; i ++) {\r\n                var clip = animations[ i ]\r\n                this.playbackConfig[ clip.name ] = generateCallback(clip)\r\n                guiItems[ i ] = folder.add(this.playbackConfig, clip.name, clip.name)\r\n                i ++\r\n            }\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.render()\r\n            this.stats.update()\r\n        },\r\n        render() {\r\n            var delta = this.clock.getDelta()\r\n            this.character.update(delta)\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglLoaderMd2-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/loader/webglLoaderMd2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglLoaderMd2-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - MD2 Loader -\\n\\t\\t\\tCharacter by \"),_c('a',{attrs:{\"href\":\"http://planetquake.gamespy.com/View.php?view=Quake2.Detail&id=368\"}},[_vm._v(\"Brian Collins\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b23f02d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/loader/webglLoaderMd2.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b23f02d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglLoaderMd2.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderMd2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderMd2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b23f02d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglLoaderMd2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b23f02d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/loader/webglLoaderMd2.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}