webpackJsonp([148],{"0yMw":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{container:"",stats:"",permalink:"",hex:"",camera:"",cameraTarget:"",scene:"",renderer:"",group:"",textMesh1:"",textMesh2:"",textGeo:"",materials:"",firstLetter:!0,text:"three.js",bevelEnabled:!0,font:void 0,fontName:"optimer",fontWeight:"bold",height:20,size:70,hover:30,curveSegments:4,bevelThickness:2,bevelSize:1.5,mirror:!0,fontMap:{helvetiker:0,optimer:1,gentilis:2,"droid/droid_sans":3,"droid/droid_serif":4},weightMap:{regular:0,bold:1},reverseFontMap:[],reverseWeightMap:[],targetRotation:0,targetRotationOnPointerDown:0,pointerX:0,pointerXOnPointerDown:0,windowHalfX:0,fontIndex:1,dirLight:"",pointLight:"",hash:"",colorhash:"",fonthash:"",weighthash:"",bevelhash:"",texthash:"",plane:"",link:"",loader:"",triangle:"",triangleAreaHeuristics:"",face:"",centerOffset:""}},mounted:function(){this.prefabricate(),this.init(),this.animate()},methods:{prefabricate:function(){for(var t in this.fontMap)this.reverseFontMap[this.fontMap[t]]=t;for(var t in this.weightMap)this.reverseWeightMap[this.weightMap[t]]=t;this.windowHalfX=this.$webglInnerWidth/2},init:function(){this.container=document.createElement("div"),document.getElementsByClassName("text-container")[0].appendChild(this.container),this.permalink=document.getElementById("permalink"),this.camera=new this.$THREE.PerspectiveCamera(30,this.$webglInnerWidth/window.innerHeight,1,1500),this.camera.position.set(0,400,700),this.cameraTarget=new this.$THREE.Vector3(0,150,0),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(0),this.scene.fog=new this.$THREE.Fog(0,250,1400),this.dirLight=new this.$THREE.DirectionalLight(16777215,.125),this.dirLight.position.set(0,0,1).normalize(),this.scene.add(this.dirLight),this.pointLight=new this.$THREE.PointLight(16777215,1.5),this.pointLight.position.set(0,100,90),this.scene.add(this.pointLight),this.hash=document.location.hash.substr(1),0!==this.hash.length||(this.pointLight.color.setHSL(Math.random(),1,.5),this.hex=decimalToHex(this.pointLight.color.getHex())),this.materials=[new this.$THREE.MeshPhongMaterial({color:16777215,flatShading:!0}),new this.$THREE.MeshPhongMaterial({color:16777215})],this.group=new this.$THREE.Group,this.group.position.y=100,this.scene.add(this.group),this.loadFont(),this.plane=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(1e4,1e4),new this.$THREE.MeshBasicMaterial({color:16777215,opacity:.5,transparent:!0})),this.plane.position.y=100,this.plane.rotation.x=-Math.PI/2,this.scene.add(this.plane),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.container.style.touchAction="none",this.container.addEventListener("pointerdown",this.onPointerDown,!1),this.container.setAttribute("tabindex","0"),this.container.focus(),this.container.addEventListener("keypress",this.onDocumentKeyPress,!1),this.container.addEventListener("keydown",this.onDocumentKeyDown,!1),window.addEventListener("resize",this.onWindowResize,!1)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){this.group.rotation.y+=.05*(this.targetRotation-this.group.rotation.y),this.camera.lookAt(this.cameraTarget),this.renderer.clear(),this.renderer.render(this.scene,this.camera)},onWindowResize:function(){this.windowHalfX=this.$webglInnerWidth/2,this.$onWindowResize(this.camera,this.renderer)},onPointerDown:function(t){!1!==t.isPrimary&&(this.pointerXOnPointerDown=t.clientX-this.windowHalfX,this.targetRotationOnPointerDown=this.targetRotation,document.addEventListener("pointermove",this.onPointerMove,!1),document.addEventListener("pointerup",this.onPointerUp,!1))},onDocumentKeyPress:function(t){var e=t.which;if(8==e)t.preventDefault();else{var i=String.fromCharCode(e);this.text+=i,this.refreshText()}},onDocumentKeyDown:function(t){if(this.firstLetter&&(this.firstLetter=!1,this.text=""),8==t.keyCode)return t.preventDefault(),this.text=this.text.substring(0,this.text.length-1),this.refreshText(),!1},onPointerMove:function(t){!1!==t.isPrimary&&(this.pointerX=t.clientX-this.windowHalfX,this.targetRotation=this.targetRotationOnPointerDown+.02*(this.pointerX-this.pointerXOnPointerDown))},onPointerUp:function(){!1!==event.isPrimary&&(document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp))},decimalToHex:function(t){var e=Number(t).toString(16);return(e="000000".substr(0,6-e.length)+e).toUpperCase()},updatePermalink:function(){this.link=this.hex+this.fontMap[this.fontName]+this.weightMap[this.fontWeight]+this.boolToNum(this.bevelEnabled)+"#"+encodeURI(this.text),this.permalink.href="#"+this.link,window.location.hash=this.link},loadFont:function(){var t=this;this.loader=new this.$THREE.FontLoader,console.log(3333333),this.loader.load("static/fonts/"+this.fontName+"_"+this.fontWeight+".typeface.json",function(e){console.log(e),console.log("wwwwwwwwwwwwwwwwww"),t.font=e,t.refreshText()})},boolToNum:function(t){return t?1:0},handleColor:function(){this.pointLight.color.setHSL(Math.random(),1,.5),this.hex=this.decimalToHex(this.pointLight.color.getHex())},handleFont:function(){this.fontIndex++,this.fontName=this.reverseFontMap[this.fontIndex%this.reverseFontMap.length],this.loadFont()},handleWeight:function(){"bold"===this.fontWeight?this.fontWeight="regular":this.fontWeight="bold",this.loadFont()},handleBevel:function(){this.bevelEnabled=!this.bevelEnabled,this.refreshText()},refreshText:function(){this.group.remove(this.textMesh1),this.mirror&&this.group.remove(this.textMesh2),this.text&&this.createText()},createText:function(){if(this.textGeo=new this.$THREE.TextGeometry(this.text,{font:this.font,size:this.size,height:this.height,curveSegments:this.curveSegments,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelEnabled:this.bevelEnabled}),this.textGeo.computeBoundingBox(),this.textGeo.computeVertexNormals(),this.triangle=new this.$THREE.Triangle,!this.bevelEnabled){this.triangleAreaHeuristics=this.height*this.size*.1;for(var t=0;t<this.textGeo.faces.length;t++)if(this.face=this.textGeo.faces[t],1==this.face.materialIndex){for(var e=0;e<this.face.vertexNormals.length;e++)this.face.vertexNormals[e].z=0,this.face.vertexNormals[e].normalize();var i=this.textGeo.vertices[this.face.a],n=this.textGeo.vertices[this.face.b],s=this.textGeo.vertices[this.face.c];if(this.triangle.set(i,n,s).getArea()>this.triangleAreaHeuristics)for(e=0;e<this.face.vertexNormals.length;e++)this.face.vertexNormals[e].copy(this.face.normal)}}this.centerOffset=-.5*(this.textGeo.boundingBox.max.x-this.textGeo.boundingBox.min.x),this.textGeo=(new this.$THREE.BufferGeometry).fromGeometry(this.textGeo),this.textMesh1=new this.$THREE.Mesh(this.textGeo,this.materials),this.textMesh1.position.x=this.centerOffset,this.textMesh1.position.y=this.hover,this.textMesh1.position.z=0,this.textMesh1.rotation.x=0,this.textMesh1.rotation.y=2*Math.PI,this.group.add(this.textMesh1),this.mirror&&(this.textMesh2=new this.$THREE.Mesh(this.textGeo,this.materials),this.textMesh2.position.x=this.centerOffset,this.textMesh2.position.y=-this.hover,this.textMesh2.position.z=this.height,this.textMesh2.rotation.x=Math.PI,this.textMesh2.rotation.y=2*Math.PI,this.group.add(this.textMesh2))}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-container"},[i("div",{attrs:{id:"info"}},[i("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[t._v("three.js")]),t._v(" - procedural 3D text by "),i("a",{attrs:{href:"http://www.lab4games.net/zz85/blog",target:"_blank",rel:"noopener"}},[t._v("zz85")]),t._v(" & alteredq"),i("br"),t._v("\n\t\t\ttype to enter new text, drag to spin the text"),i("br"),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleColor}},[t._v("change color")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleFont}},[t._v("change font")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleWeight}},[t._v("change weight")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleBevel}},[t._v("change bevel")]),t._v(" "),i("br"),t._v(" "),i("a",{attrs:{id:"permalink",href:"#"}},[t._v("permalink")])],1)])},staticRenderFns:[]};var o=i("VU/8")(n,s,!1,function(t){i("Ylwv")},"data-v-3cdf1728",null);e.default=o.exports},Ylwv:function(t,e){}});
//# sourceMappingURL=148.debec8b0fd98f949b3e4.js.map