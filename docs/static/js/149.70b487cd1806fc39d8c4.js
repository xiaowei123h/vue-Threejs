webpackJsonp([149],{BuI3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("QEtz"),i=a("85s5"),s=a("Z9IJ"),o=a("6+nK"),r=a("fD1D"),d=a("l/b+"),u=a("SZ9I");function h(){r.a.call(this),this.name="",this.uuid=o.MathUtils.generateUUID(),this.userData={},this.textureID="renderTexture",this.input=new u.a,this.material=new d.a,this.needsUpdate=!0}h.prototype=Object.create(r.a.prototype),h.prototype.constructor=h,h.prototype.render=function(){this.needsUpdate&&(this.material.dispose(),this.material.fragment.value=this.input,this.needsUpdate=!1),this.uniforms=this.material.uniforms,r.a.prototype.render.apply(this,arguments)},h.prototype.copy=function(e){return this.input=e.input,this},h.prototype.toJSON=function(e){if((void 0===e||"string"==typeof e)&&(e={nodes:{}}),e&&!e.passes&&(e.passes={}),!e.passes[this.uuid]){var t={};t.uuid=this.uuid,t.type="NodePass",e.passes[this.uuid]=t,""!==this.name&&(t.name=this.name),"{}"!==JSON.stringify(this.userData)&&(t.userData=this.userData),t.input=this.input.toJSON(e).uuid}return e.pass=this.uuid,e};var l=a("p8Aj"),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p={data:function(){return{camera:null,scene:null,renderer:null,composer:null,object:null,light:null,nodepass:null,gui:null,clock:null,frame:null,param:{example:"color-adjustment"},textureLoader:null,lensflare2:null,decalNormal:null}},mounted:function(){this.clock=new this.$THREE.Clock,this.frame=new l.NodeFrame,this.param={example:"color-adjustment"},this.textureLoader=new this.$THREE.TextureLoader,this.lensflare2=this.textureLoader.load("static/textures/lensflare/lensflare0.png"),this.lensflare2.wrapS=this.lensflare2.wrapT=this.$THREE.RepeatWrapping,this.decalNormal=this.textureLoader.load("static/textures/decal/decal-normal.jpg"),this.decalNormal.wrapS=this.decalNormal.wrapT=this.$THREE.RepeatWrapping,this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{clearGui:function(){var e=this;this.gui&&this.gui.destroy(),this.gui=new n.a,this.gui.add(this.param,"example",{"basic / color-adjustment":"color-adjustment","basic / blends":"blends","basic / fade":"fade","basic / invert":"invert","basic / blur":"blur","adv / saturation":"saturation","adv / refraction":"refraction","adv / mosaic":"mosaic"}).onFinishChange(function(){e.updateMaterial()}),this.gui.open()},addGui:function(e,t,a,n,i,s){var o,r=this;return this.param[e]=t,n?o=this.gui.addColor(this.param,e).onChange(function(){a(r.param[e])}):"object"==(void 0===t?"undefined":c(t))?(this.param[e]=t[Object.keys(t)[0]],o=this.gui.add(this.param,e,t).onChange(function(){a(r.param[e])})):o=this.gui.add(this.param,e,i,s).onChange(function(){a(r.param[e])}),o},updateMaterial:function(){var e,t,a,n=this,i=this.param.example;switch(this.clearGui(),i){case"color-adjustment":e=new l.ScreenNode;var s=new l.FloatNode,o=new l.FloatNode(1),r=new l.FloatNode,d=new l.FloatNode(0),u=new l.FloatNode(1),h=new l.ColorAdjustmentNode(e,s,l.ColorAdjustmentNode.HUE),c=new l.ColorAdjustmentNode(h,o,l.ColorAdjustmentNode.SATURATION),p=new l.ColorAdjustmentNode(c,r,l.ColorAdjustmentNode.VIBRANCE),m=new l.ColorAdjustmentNode(p,d,l.ColorAdjustmentNode.BRIGHTNESS),w=new l.ColorAdjustmentNode(m,u,l.ColorAdjustmentNode.CONTRAST);this.nodepass.input=w,this.addGui("hue",s.value,function(e){s.value=e},!1,0,2*Math.PI),this.addGui("saturation",o.value,function(e){o.value=e},!1,0,2),this.addGui("vibrance",r.value,function(e){r.value=e},!1,-1,1),this.addGui("brightness",d.value,function(e){d.value=e},!1,0,.5),this.addGui("contrast",u.value,function(e){u.value=e},!1,0,2);break;case"fade":var N=new l.ColorNode(16777215),f=new l.FloatNode(.5);t=new l.MathNode(new l.ScreenNode,N,f,l.MathNode.MIX),this.nodepass.input=t,this.addGui("color",N.value.getHex(),function(e){N.value.setHex(e)},!0),this.addGui("fade",f.value,function(e){f.value=e},!1,0,1);break;case"invert":var v=new l.FloatNode(1);e=new l.ScreenNode;var b=new l.MathNode(e,l.MathNode.INVERT);t=new l.MathNode(e,b,v,l.MathNode.MIX),this.nodepass.input=t,this.addGui("alpha",v.value,function(e){v.value=e},!1,0,1);break;case"blends":var g=new l.OperatorNode(new l.ScreenNode,new l.TextureNode(this.lensflare2),l.OperatorNode.ADD);this.nodepass.input=g,this.addGui("blend",{addition:l.OperatorNode.ADD,subtract:l.OperatorNode.SUB,multiply:l.OperatorNode.MUL,division:l.OperatorNode.DIV},function(e){g.op=e,n.nodepass.needsUpdate=!0});break;case"saturation":e=new l.ScreenNode;var E=new l.FloatNode(0),y=new l.FunctionNode(["vec3 satrgb( vec3 rgb, float adjustment ) {","\tvec3 intensity = vec3( luminance( rgb ) );","\treturn mix( intensity, rgb, adjustment );","}"].join("\n"),[l.LuminanceNode.Nodes.luminance]),M=new l.FunctionCallNode(y);M.inputs.rgb=e,M.inputs.adjustment=E,this.nodepass.input=M,this.addGui("saturation",E.value,function(e){E.value=e},!1,0,2);break;case"refraction":var j=new l.TextureNode(this.decalNormal),S=new l.SwitchNode(j,"xy");a=new l.FloatNode(.5);var R=new l.MathNode(S,l.MathNode.INVERT),T=new l.OperatorNode(R,new l.FloatNode(.5),l.OperatorNode.ADD),x=new l.OperatorNode(new l.SwitchNode(j,"z"),T,l.OperatorNode.MUL),O=new l.MathNode(new l.FloatNode(1),x,a,l.MathNode.MIX),C=new l.OperatorNode(new l.UVNode,O,l.OperatorNode.MUL);e=new l.ScreenNode(C),this.nodepass.input=e,this.addGui("scale",a.value,function(e){a.value=e},!1,0,1),this.addGui("invert",!1,function(e){T.a=e?R:S,n.nodepass.needsUpdate=!0});break;case"mosaic":a=new l.FloatNode(128),t=new l.FloatNode(1);var G=new l.UVNode,H=new l.OperatorNode(G,a,l.OperatorNode.MUL),D=new l.MathNode(H,l.MathNode.FLOOR),F=new l.OperatorNode(D,a,l.OperatorNode.DIV),$=new l.MathNode(G,F,t,l.MathNode.MIX);this.nodepass.input=new l.ScreenNode($),this.addGui("scale",a.value,function(e){a.value=e},!1,16,1024),this.addGui("fade",t.value,function(e){t.value=e},!1,0,1),this.addGui("mask",!1,function(e){$.c=e?new l.TextureNode(n.lensflare2):t,n.nodepass.needsUpdate=!0});break;case"blur":var A=renderer.getDrawingBufferSize(new this.$THREE.Vector2),U=new l.BlurNode(new l.ScreenNode);U.size=new this.$THREE.Vector2(A.width,A.height),this.nodepass.input=U,this.addGui("blurX",U.radius.x,function(e){U.radius.x=e},!1,0,15),this.addGui("blurY",U.radius.y,function(e){U.radius.y=e},!1,0,15)}this.nodepass.needsUpdate=!0},init:function(){this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglPostprocessingNodesPass-container")[0].appendChild(this.renderer.domElement),this.camera=new this.$THREE.PerspectiveCamera(70,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.z=400,this.scene=new this.$THREE.Scene,this.scene.fog=new this.$THREE.Fog(26367,1,1e3),this.object=new this.$THREE.Object3D,this.scene.add(this.object);for(var e=new this.$THREE.SphereBufferGeometry(1,4,4),t=0;t<100;t++){var a=new this.$THREE.MeshPhongMaterial({color:8947848+8947848*Math.random(),flatShading:!0}),n=new this.$THREE.Mesh(e,a);n.position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),n.position.multiplyScalar(400*Math.random()),n.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),n.scale.x=n.scale.y=n.scale.z=10+40*Math.random(),this.object.add(n)}this.scene.add(new this.$THREE.AmbientLight(10066329)),this.light=new this.$THREE.DirectionalLight(16777215),this.light.position.set(1,1,1),this.scene.add(this.light),this.composer=new i.a(this.renderer),this.composer.addPass(new s.a(this.scene,this.camera)),this.nodepass=new h,this.composer.addPass(this.nodepass),this.updateMaterial(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.composer.setSize(window.innerWidth-281,window.innerHeight)},animate:function(){requestAnimationFrame(this.animate);var e=this.clock.getDelta();this.object.rotation.x+=.005,this.object.rotation.y+=.01,this.frame.update(e).updateNode(this.nodepass.material),this.composer.render()}}},m={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglPostprocessingNodesPass-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - Node-Based Post-Processing\n\t\t")])])}]};var w=a("VU/8")(p,m,!1,function(e){a("vNsJ")},"data-v-77b5a150",null);t.default=w.exports},vNsJ:function(e,t){}});
//# sourceMappingURL=149.70b487cd1806fc39d8c4.js.map