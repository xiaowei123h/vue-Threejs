webpackJsonp([151],{alwV:function(e,n){},pWJ7:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("QEtz"),i=t("wIBv"),s={data:function(){return{camera:null,scene:null,renderer:null,object:null,stats:null,planes:null,planeObjects:null,planeHelpers:null,clock:null,params:{animate:!0,planeX:{varant:0,negated:!1,displayHelper:!1},planeY:{varant:0,negated:!1,displayHelper:!1},planeZ:{varant:0,negated:!1,displayHelper:!1}},gui:null}},mounted:function(){this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{createPlaneStencilGroup:function(e,n,t){var a=new this.$THREE.Group,i=new this.$THREE.MeshBasicMaterial;i.depthWrite=!1,i.depthTest=!1,i.colorWrite=!1,i.stencilWrite=!0,i.stencilFunc=this.$THREE.AlwaysStencilFunc;var s=i.clone();s.side=this.$THREE.BackSide,s.clippingPlanes=[n],s.stencilFail=this.$THREE.IncrementWrapStencilOp,s.stencilZFail=this.$THREE.IncrementWrapStencilOp,s.stencilZPass=this.$THREE.IncrementWrapStencilOp;var r=new this.$THREE.Mesh(e,s);r.renderOrder=t,a.add(r);var l=i.clone();l.side=this.$THREE.FrontSide,l.clippingPlanes=[n],l.stencilFail=this.$THREE.DecrementWrapStencilOp,l.stencilZFail=this.$THREE.DecrementWrapStencilOp,l.stencilZPass=this.$THREE.DecrementWrapStencilOp;var h=new this.$THREE.Mesh(e,l);return h.renderOrder=t,a.add(h),a},init:function(){var e=this;this.clock=new this.$THREE.Clock,this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(36,this.$webglInnerWidth/window.innerHeight,1,100),this.camera.position.set(2,2,2),this.scene.add(new this.$THREE.AmbientLight(16777215,.5));var n=new this.$THREE.DirectionalLight(16777215,1);n.position.set(5,10,7.5),n.castShadow=!0,n.shadow.camera.right=2,n.shadow.camera.left=-2,n.shadow.camera.top=2,n.shadow.camera.bottom=-2,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,this.scene.add(n),this.planes=[new this.$THREE.Plane(new this.$THREE.Vector3(-1,0,0),0),new this.$THREE.Plane(new this.$THREE.Vector3(0,-1,0),0),new this.$THREE.Plane(new this.$THREE.Vector3(0,0,-1),0)],this.planeHelpers=this.planes.map(function(n){return new e.$THREE.PlaneHelper(n,2,16777215)}),this.planeHelpers.forEach(function(n){n.visible=!1,e.scene.add(n)});var t=new this.$THREE.TorusKnotBufferGeometry(.4,.15,220,60);this.object=new this.$THREE.Group,this.scene.add(this.object),this.planeObjects=[];for(var s=new this.$THREE.PlaneBufferGeometry(4,4),r=0;r<3;r++){var l=new this.$THREE.Group,h=this.planes[r],o=this.createPlaneStencilGroup(t,h,r+1),c=new this.$THREE.MeshStandardMaterial({color:15277667,metalness:.1,roughness:.75,clippingPlanes:this.planes.filter(function(e){return e!==h}),stencilWrite:!0,stencilRef:0,stencilFunc:this.$THREE.NotEqualStencilFunc,stencilFail:this.$THREE.ReplaceStencilOp,stencilZFail:this.$THREE.ReplaceStencilOp,stencilZPass:this.$THREE.ReplaceStencilOp}),p=new this.$THREE.Mesh(s,c);p.onAfterRender=function(e){e.clearStencil()},p.renderOrder=r+1.1,this.object.add(o),l.add(p),this.planeObjects.push(p),this.scene.add(l)}var d=new this.$THREE.MeshStandardMaterial({color:16761095,metalness:.1,roughness:.75,clippingPlanes:this.planes,clipShadows:!0,shadowSide:this.$THREE.DoubleSide}),E=new this.$THREE.Mesh(t,d);E.castShadow=!0,E.renderOrder=6,this.object.add(E);var u=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(9,9,1,1),new this.$THREE.ShadowMaterial({color:0,opacity:.25,side:this.$THREE.DoubleSide}));u.rotation.x=-Math.PI/2,u.position.y=-1,u.receiveShadow=!0,this.scene.add(u),this.stats=new this.$Stats,this.stats.dom.style.left="280px",document.getElementsByClassName("webglClippingStencil-container")[0].appendChild(this.stats.dom),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.setClearColor(2503224),window.addEventListener("resize",this.onWindowResize,!1),document.getElementsByClassName("webglClippingStencil-container")[0].appendChild(this.renderer.domElement),this.renderer.localClippingEnabled=!0;var m=new i.b(this.camera,this.renderer.domElement);m.minDistance=2,m.maxDistance=20,m.update(),this.gui=new a.a,this.gui.add(this.params,"animate");var w=this.gui.addFolder("planeX");w.add(this.params.planeX,"displayHelper").onChange(function(n){return e.planeHelpers[0].visible=n}),w.add(this.params.planeX,"varant").min(-1).max(1).onChange(function(n){return e.planes[0].varant=n}),w.add(this.params.planeX,"negated").onChange(function(){e.planes[0].negate(),e.params.planeX.varant=e.planes[0].varant}),w.open();var H=this.gui.addFolder("planeY");H.add(this.params.planeY,"displayHelper").onChange(function(n){return e.planeHelpers[1].visible=n}),H.add(this.params.planeY,"varant").min(-1).max(1).onChange(function(n){return e.planes[1].varant=n}),H.add(this.params.planeY,"negated").onChange(function(){e.planes[1].negate(),e.params.planeY.varant=e.planes[1].varant}),H.open();var R=this.gui.addFolder("planeZ");R.add(this.params.planeZ,"displayHelper").onChange(function(n){return e.planeHelpers[2].visible=n}),R.add(this.params.planeZ,"varant").min(-1).max(1).onChange(function(n){return e.planes[2].varant=n}),R.add(this.params.planeZ,"negated").onChange(function(){e.planes[2].negate(),e.params.planeZ.varant=e.planes[2].varant}),R.open()},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){var e=this.clock.getDelta();requestAnimationFrame(this.animate),this.params.animate&&(this.object.rotation.x+=.5*e,this.object.rotation.y+=.2*e);for(var n=0;n<this.planeObjects.length;n++){var t=this.planes[n],a=this.planeObjects[n];t.coplanarPoint(a.position),a.lookAt(a.position.x-t.normal.x,a.position.y-t.normal.y,a.position.z-t.normal.z)}this.stats.begin(),this.renderer.render(this.scene,this.camera),this.stats.end()}}},r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"webglClippingStencil-container"},[n("div",{attrs:{id:"info"}},[n("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - solid geometry with clip planes and stencil materials")])])}]};var l=t("VU/8")(s,r,!1,function(e){t("alwV")},"data-v-74caff66",null);n.default=l.exports}});
//# sourceMappingURL=151.4a9a7b07078bb190d02d.js.map