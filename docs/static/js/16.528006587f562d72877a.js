webpackJsonp([16],{"9icu":function(e,r,t){"use strict";t.d(r,"a",function(){return j});
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var n={},i=void 0,a=n;function s(e,r){var t,n=e.split("."),s=a;!(n[0]in s)&&s.execScript&&s.execScript("var "+n[0]);for(;n.length&&(t=n.shift());)n.length||r===i?s=s[t]?s[t]:s[t]={}:s[t]=r}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function h(e){var r,t,n,i,a,s,h,f,l,u,c=e.length,v=0,d=Number.POSITIVE_INFINITY;for(f=0;f<c;++f)e[f]>v&&(v=e[f]),e[f]<d&&(d=e[f]);for(r=1<<v,t=new(o?Uint32Array:Array)(r),n=1,i=0,a=2;n<=v;){for(f=0;f<c;++f)if(e[f]===n){for(s=0,h=i,l=0;l<n;++l)s=s<<1|1&h,h>>=1;for(u=n<<16|f,l=s;l<r;l+=a)t[l]=u;++i}++n,i<<=1,a<<=1}return[t,v,d]}function f(e,r){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=o?new Uint8Array(e):e,this.m=!1,this.i=u,this.r=!1,!r&&(r={})||(r.index&&(this.a=r.index),r.bufferSize&&(this.h=r.bufferSize),r.bufferType&&(this.i=r.bufferType),r.resize&&(this.r=r.resize)),this.i){case l:this.b=32768,this.c=new(o?Uint8Array:Array)(32768+this.h+258);break;case u:this.b=0,this.c=new(o?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var l=0,u=1,c={t:l,s:u};f.prototype.k=function(){for(;!this.m;){var e=z(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var r=this.input,t=this.a,n=this.c,a=this.b,s=r.length,f=i,c=n.length,v=i;if(this.d=this.f=0,t+1>=s)throw Error("invalid uncompressed block header: LEN");if(f=r[t++]|r[t++]<<8,t+1>=s)throw Error("invalid uncompressed block header: NLEN");if(f===~(r[t++]|r[t++]<<8))throw Error("invalid uncompressed block header: length verify");if(t+f>r.length)throw Error("input buffer is broken");switch(this.i){case l:for(;a+f>n.length;){if(f-=v=c-a,o)n.set(r.subarray(t,t+v),a),a+=v,t+=v;else for(;v--;)n[a++]=r[t++];this.b=a,n=this.e(),a=this.b}break;case u:for(;a+f>n.length;)n=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(o)n.set(r.subarray(t,t+f),a),a+=f,t+=f;else for(;f--;)n[a++]=r[t++];this.a=t,this.b=a,this.c=n;break;case 1:this.j(k,O);break;case 2:var d,p,y,b,g=z(this,5)+257,m=z(this,5)+1,A=z(this,4)+4,E=new(o?Uint8Array:Array)(w.length),U=i,S=i,M=i,x=i,R=i;for(R=0;R<A;++R)E[w[R]]=z(this,3);if(!o)for(R=A,A=E.length;R<A;++R)E[w[R]]=0;for(d=h(E),U=new(o?Uint8Array:Array)(g+m),R=0,b=g+m;R<b;)switch(S=_(this,d)){case 16:for(x=3+z(this,2);x--;)U[R++]=M;break;case 17:for(x=3+z(this,3);x--;)U[R++]=0;M=0;break;case 18:for(x=11+z(this,7);x--;)U[R++]=0;M=0;break;default:M=U[R++]=S}p=h(o?U.subarray(0,g):U.slice(0,g)),y=h(o?U.subarray(g):U.slice(g)),this.j(p,y);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var v,d,p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=o?new Uint16Array(p):p,y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],b=o?new Uint16Array(y):y,g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],m=o?new Uint8Array(g):g,A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],E=o?new Uint16Array(A):A,U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=o?new Uint8Array(U):U,M=new(o?Uint8Array:Array)(288);for(v=0,d=M.length;v<d;++v)M[v]=143>=v?8:255>=v?9:279>=v?7:8;var x,R,k=h(M),I=new(o?Uint8Array:Array)(30);for(x=0,R=I.length;x<R;++x)I[x]=5;var O=h(I);function z(e,r){for(var t,n=e.f,i=e.d,a=e.input,s=e.a,o=a.length;i<r;){if(s>=o)throw Error("input buffer is broken");n|=a[s++]<<i,i+=8}return t=n&(1<<r)-1,e.f=n>>>r,e.d=i-r,e.a=s,t}function _(e,r){for(var t,n,i=e.f,a=e.d,s=e.input,o=e.a,h=s.length,f=r[0],l=r[1];a<l&&!(o>=h);)i|=s[o++]<<a,a+=8;if((n=(t=f[i&(1<<l)-1])>>>16)>a)throw Error("invalid code length: "+n);return e.f=i>>n,e.d=a-n,e.a=o,65535&t}function C(e,r){var t,n;switch(this.input=e,this.a=0,!r&&(r={})||(r.index&&(this.a=r.index),r.verify&&(this.A=r.verify)),t=e[this.a++],n=e[this.a++],15&t){case P:this.method=P;break;default:throw Error("unsupported compression method")}if(0!=((t<<8)+n)%31)throw Error("invalid fcheck flag:"+((t<<8)+n)%31);if(32&n)throw Error("fdict flag is not supported");this.q=new f(e,{index:this.a,bufferSize:r.bufferSize,bufferType:r.bufferType,resize:r.resize})}f.prototype.j=function(e,r){var t=this.c,n=this.b;this.o=e;for(var i,a,s,o,h=t.length-258;256!==(i=_(this,e));)if(256>i)n>=h&&(this.b=n,t=this.e(),n=this.b),t[n++]=i;else for(o=b[a=i-257],0<m[a]&&(o+=z(this,m[a])),i=_(this,r),s=E[i],0<S[i]&&(s+=z(this,S[i])),n>=h&&(this.b=n,t=this.e(),n=this.b);o--;)t[n]=t[n++-s];for(;8<=this.d;)this.d-=8,this.a--;this.b=n},f.prototype.w=function(e,r){var t=this.c,n=this.b;this.o=e;for(var i,a,s,o,h=t.length;256!==(i=_(this,e));)if(256>i)n>=h&&(h=(t=this.e()).length),t[n++]=i;else for(o=b[a=i-257],0<m[a]&&(o+=z(this,m[a])),i=_(this,r),s=E[i],0<S[i]&&(s+=z(this,S[i])),n+o>h&&(h=(t=this.e()).length);o--;)t[n]=t[n++-s];for(;8<=this.d;)this.d-=8,this.a--;this.b=n},f.prototype.e=function(){var e,r,t=new(o?Uint8Array:Array)(this.b-32768),n=this.b-32768,i=this.c;if(o)t.set(i.subarray(32768,t.length));else for(e=0,r=t.length;e<r;++e)t[e]=i[e+32768];if(this.g.push(t),this.l+=t.length,o)i.set(i.subarray(n,n+32768));else for(e=0;32768>e;++e)i[e]=i[n+e];return this.b=32768,i},f.prototype.z=function(e){var r,t,n,i=this.input.length/this.a+1|0,a=this.input,s=this.c;return e&&("number"==typeof e.p&&(i=e.p),"number"==typeof e.u&&(i+=e.u)),2>i?t=(n=(a.length-this.a)/this.o[2]/2*258|0)<s.length?s.length+n:s.length<<1:t=s.length*i,o?(r=new Uint8Array(t)).set(s):r=s,this.c=r},f.prototype.n=function(){var e,r,t,n,i,a=0,s=this.c,h=this.g,f=new(o?Uint8Array:Array)(this.l+(this.b-32768));if(0===h.length)return o?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(r=0,t=h.length;r<t;++r)for(n=0,i=(e=h[r]).length;n<i;++n)f[a++]=e[n];for(r=32768,t=this.b;r<t;++r)f[a++]=s[r];return this.g=[],this.buffer=f},f.prototype.v=function(){var e,r=this.b;return o?this.r?(e=new Uint8Array(r)).set(this.c.subarray(0,r)):e=this.c.subarray(0,r):(this.c.length>r&&(this.c.length=r),e=this.c),this.buffer=e},C.prototype.k=function(){var e,r,t=this.input;if(e=this.q.k(),this.a=this.q.a,this.A){r=(t[this.a++]<<24|t[this.a++]<<16|t[this.a++]<<8|t[this.a++])>>>0;var n=e;if("string"==typeof n){var i,a,s=n.split("");for(i=0,a=s.length;i<a;i++)s[i]=(255&s[i].charCodeAt(0))>>>0;n=s}for(var o,h=1,f=0,l=n.length,u=0;0<l;){l-=o=1024<l?1024:l;do{f+=h+=n[u++]}while(--o);h%=65521,f%=65521}if(r!==(f<<16|h)>>>0)throw Error("invalid adler-32 checksum")}return e};var P=8;s("Zlib.Inflate",C),s("Zlib.Inflate.prototype.decompress",C.prototype.k);var T,N,D,L,H={ADAPTIVE:c.s,BLOCK:c.t};if(Object.keys)T=Object.keys(H);else for(N in T=[],D=0,H)T[D++]=N;for(D=0,L=T.length;D<L;++D)s("Zlib.Inflate.BufferType."+(N=T[D]),H[N]);var j=n.Zlib.Inflate},R6Kf:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("QEtz"),i=t("6+nK"),a=t("9icu"),s=function(e){i.y.call(this,e),this.type=i.J};s.prototype=Object.assign(Object.create(i.y.prototype),{constructor:s,parse:function(e){var r=65536,t=r>>3,n=14,s=65537,o=1<<n,h=o-1,f=32768,l=65535,u=59,c=63,v=2+c-u,d=8,p=4,w=4,y=2,b=1,g=0,m=1,A=0,E=1,U=2,S=Math.pow(2.7182818,2.2),M=new DataView(new ArrayBuffer(8));function x(e){if(0===e)return[e,0];M.setFloat64(0,e);var r=M.getUint32(0)>>>20&2047;0===r&&(M.setFloat64(0,e*Math.pow(2,64)),r=(M.getUint32(0)>>>20&2047)-64);var t=r-1022;return[function(e,r){for(var t=Math.min(3,Math.ceil(Math.abs(r)/1023)),n=e,i=0;i<t;i++)n*=Math.pow(2,Math.floor((r+i)/t));return n}(e,-t),t]}var R={l:0,c:0,lc:0};function k(e,r,t,n,i){for(;t<e;)r=r<<8|ae(n,i),t+=8;t-=e,R.l=r>>t&(1<<e)-1,R.c=r,R.lc=t}var I=new Array(59);function O(e,r,t,n,i,a,o){for(var h=t,f=0,l=0;i<=a;i++){if(h.value-t.value>n)return!1;k(6,f,l,e,h);var d=R.l;if(f=R.c,l=R.lc,o[i]=d,d==c){if(h.value-t.value>n)throw"Something wrong with hufUnpackEncTable";k(8,f,l,e,h);var p=R.l+v;if(f=R.c,l=R.lc,i+p>a+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)o[i++]=0;i--}else if(d>=u){if(i+(p=d-u+2)>a+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)o[i++]=0;i--}}!function(e){for(var r=0;r<=58;++r)I[r]=0;for(r=0;r<s;++r)I[e[r]]+=1;var t=0;for(r=58;r>0;--r){var n=t+I[r]>>1;I[r]=t,t=n}for(r=0;r<s;++r){var i=e[r];i>0&&(e[r]=i|I[i]++<<6)}}(o)}function z(e){return 63&e}function _(e){return e>>6}var C={c:0,lc:0};function P(e,r,t,n){e=e<<8|ae(t,n),r+=8,C.c=e,C.lc=r}var T={c:0,lc:0};function N(e,r,t,n,i,a,s,o,h,f){if(e==r){n<8&&(P(t,n,i,s),t=C.c,n=C.lc);var l=t>>(n-=8);l=new Uint8Array([l])[0];if(h.value+l>f)return!1;for(var u=o[h.value-1];l-- >0;)o[h.value++]=u}else{if(!(h.value<f))return!1;o[h.value++]=e}T.c=t,T.lc=n}function D(e){return 65535&e}function L(e){var r=D(e);return r>32767?r-65536:r}var H={a:0,b:0};function j(e,r){var t=L(e),n=L(r),i=t+(1&n)+(n>>1),a=i,s=i-n;H.a=a,H.b=s}function F(e,r){var t=D(e),n=D(r),i=t-(n>>1)&l,a=n+i-f&l;H.a=a,H.b=i}function W(e,r,t,n,i,a,s){for(var o,h=s<16384,f=t>i?i:t,l=1;l<=f;)l<<=1;for(o=l>>=1,l>>=1;l>=1;){for(var u,c,v,d,p=0,w=p+a*(i-o),y=a*l,b=a*o,g=n*l,m=n*o;p<=w;p+=b){for(var A=p,E=p+n*(t-o);A<=E;A+=m){var U=A+g,S=(M=A+y)+g;h?(j(e[A+r],e[M+r]),u=H.a,v=H.b,j(e[U+r],e[S+r]),c=H.a,d=H.b,j(u,c),e[A+r]=H.a,e[U+r]=H.b,j(v,d),e[M+r]=H.a,e[S+r]=H.b):(F(e[A+r],e[M+r]),u=H.a,v=H.b,F(e[U+r],e[S+r]),c=H.a,d=H.b,F(u,c),e[A+r]=H.a,e[U+r]=H.b,F(v,d),e[M+r]=H.a,e[S+r]=H.b)}if(t&l){var M=A+y;h?j(e[A+r],e[M+r]):F(e[A+r],e[M+r]),u=H.a,e[M+r]=H.b,e[A+r]=u}}if(i&l)for(A=p,E=p+n*(t-o);A<=E;A+=m){U=A+g;h?j(e[A+r],e[U+r]):F(e[A+r],e[U+r]),u=H.a,e[U+r]=H.b,e[A+r]=u}o=l,l>>=1}return p}function B(e,r,t,i,a,f){var l=t.value,u=ie(r,t),c=ie(r,t);t.value+=4;var v=ie(r,t);if(t.value+=4,u<0||u>=s||c<0||c>=s)throw"Something wrong with HUF_ENCSIZE";var d=new Array(s),p=new Array(o);if(function(e){for(var r=0;r<o;r++)e[r]={},e[r].len=0,e[r].lit=0,e[r].p=null}(p),O(e,0,t,i-(t.value-l),u,c,d),v>8*(i-(t.value-l)))throw"Something wrong with hufUncompress";!function(e,r,t,i){for(;r<=t;r++){var a=_(e[r]),s=z(e[r]);if(a>>s)throw"Invalid table entry";if(s>n){if((l=i[a>>s-n]).len)throw"Invalid table entry";if(l.lit++,l.p){var o=l.p;l.p=new Array(l.lit);for(var h=0;h<l.lit-1;++h)l.p[h]=o[h]}else l.p=new Array(1);l.p[l.lit-1]=r}else if(s){var f=0;for(h=1<<n-s;h>0;h--){var l;if((l=i[(a<<n-s)+f]).len||l.p)throw"Invalid table entry";l.len=s,l.lit=r,f++}}}}(d,u,c,p),function(e,r,t,i,a,s,o,f,l,u){for(var c=0,v=0,d=f,p=Math.trunc(a.value+(s+7)/8);a.value<p;)for(P(c,v,t,a),c=C.c,v=C.lc;v>=n;)if((g=r[c>>v-n&h]).len)v-=g.len,N(g.lit,o,c,v,t,0,a,l,u,d),c=T.c,v=T.lc;else{if(!g.p)throw"hufDecode issues";var w;for(w=0;w<g.lit;w++){for(var y=z(e[g.p[w]]);v<y&&a.value<p;)P(c,v,t,a),c=C.c,v=C.lc;if(v>=y&&_(e[g.p[w]])==(c>>v-y&(1<<y)-1)){v-=y,N(g.p[w],o,c,v,t,0,a,l,u,d),c=T.c,v=T.lc;break}}if(w==g.lit)throw"hufDecode issues"}var b=8-s&7;for(c>>=b,v-=b;v>0;){var g;if(!(g=r[c<<n-v&h]).len)throw"hufDecode issues";v-=g.len,N(g.lit,o,c,v,t,0,a,l,u,d),c=T.c,v=T.lc}}(d,p,e,0,t,v,c,f,a,{value:0})}function V(e){for(var r=1;r<e.length;r++){var t=e[r-1]+e[r]-128;e[r]=t}}function X(e,r){for(var t=0,n=Math.floor((e.length+1)/2),i=0,a=e.length-1;!(i>a||(r[i++]=e[t++],i>a));)r[i++]=e[n++]}function Z(e){for(var r=e.byteLength,t=new Array,n=0,i=new DataView(e);r>0;){var a=i.getInt8(n++);if(a<0){r-=(o=-a)+1;for(var s=0;s<o;s++)t.push(i.getUint8(n++))}else{var o=a;r-=2;var h=i.getUint8(n++);for(s=0;s<o+1;s++)t.push(h)}}return t}function $(e,r,t){for(var n,i=1;i<64;)65280==(n=r[e.value])?i=64:n>>8==255?i+=255&n:(t[i]=n,i++),e.value++}function Y(e,r){r[0]=fe(e[0]),r[1]=fe(e[1]),r[2]=fe(e[5]),r[3]=fe(e[6]),r[4]=fe(e[14]),r[5]=fe(e[15]),r[6]=fe(e[27]),r[7]=fe(e[28]),r[8]=fe(e[2]),r[9]=fe(e[4]),r[10]=fe(e[7]),r[11]=fe(e[13]),r[12]=fe(e[16]),r[13]=fe(e[26]),r[14]=fe(e[29]),r[15]=fe(e[42]),r[16]=fe(e[3]),r[17]=fe(e[8]),r[18]=fe(e[12]),r[19]=fe(e[17]),r[20]=fe(e[25]),r[21]=fe(e[30]),r[22]=fe(e[41]),r[23]=fe(e[43]),r[24]=fe(e[9]),r[25]=fe(e[11]),r[26]=fe(e[18]),r[27]=fe(e[24]),r[28]=fe(e[31]),r[29]=fe(e[40]),r[30]=fe(e[44]),r[31]=fe(e[53]),r[32]=fe(e[10]),r[33]=fe(e[19]),r[34]=fe(e[23]),r[35]=fe(e[32]),r[36]=fe(e[39]),r[37]=fe(e[45]),r[38]=fe(e[52]),r[39]=fe(e[54]),r[40]=fe(e[20]),r[41]=fe(e[22]),r[42]=fe(e[33]),r[43]=fe(e[38]),r[44]=fe(e[46]),r[45]=fe(e[51]),r[46]=fe(e[55]),r[47]=fe(e[60]),r[48]=fe(e[21]),r[49]=fe(e[34]),r[50]=fe(e[37]),r[51]=fe(e[47]),r[52]=fe(e[50]),r[53]=fe(e[56]),r[54]=fe(e[59]),r[55]=fe(e[61]),r[56]=fe(e[35]),r[57]=fe(e[36]),r[58]=fe(e[48]),r[59]=fe(e[49]),r[60]=fe(e[57]),r[61]=fe(e[58]),r[62]=fe(e[62]),r[63]=fe(e[63])}function G(e){for(var r=.5*Math.cos(.7853975),t=.5*Math.cos(.196349375),n=.5*Math.cos(.39269875),i=.5*Math.cos(3*3.14159/16),a=.5*Math.cos(.981746875),s=.5*Math.cos(3*3.14159/8),o=.5*Math.cos(1.374445625),h=new Array(4),f=new Array(4),l=new Array(4),u=new Array(4),c=0;c<8;++c){var v=8*c;h[0]=n*e[v+2],h[1]=s*e[v+2],h[2]=n*e[v+6],h[3]=s*e[v+6],f[0]=t*e[v+1]+i*e[v+3]+a*e[v+5]+o*e[v+7],f[1]=i*e[v+1]-o*e[v+3]-t*e[v+5]-a*e[v+7],f[2]=a*e[v+1]-t*e[v+3]+o*e[v+5]+i*e[v+7],f[3]=o*e[v+1]-a*e[v+3]+i*e[v+5]-t*e[v+7],l[0]=r*(e[v+0]+e[v+4]),l[3]=r*(e[v+0]-e[v+4]),l[1]=h[0]+h[3],l[2]=h[1]-h[2],u[0]=l[0]+l[1],u[1]=l[3]+l[2],u[2]=l[3]-l[2],u[3]=l[0]-l[1],e[v+0]=u[0]+f[0],e[v+1]=u[1]+f[1],e[v+2]=u[2]+f[2],e[v+3]=u[3]+f[3],e[v+4]=u[3]-f[3],e[v+5]=u[2]-f[2],e[v+6]=u[1]-f[1],e[v+7]=u[0]-f[0]}for(var d=0;d<8;++d)h[0]=n*e[16+d],h[1]=s*e[16+d],h[2]=n*e[48+d],h[3]=s*e[48+d],f[0]=t*e[8+d]+i*e[24+d]+a*e[40+d]+o*e[56+d],f[1]=i*e[8+d]-o*e[24+d]-t*e[40+d]-a*e[56+d],f[2]=a*e[8+d]-t*e[24+d]+o*e[40+d]+i*e[56+d],f[3]=o*e[8+d]-a*e[24+d]+i*e[40+d]-t*e[56+d],l[0]=r*(e[d]+e[32+d]),l[3]=r*(e[d]-e[32+d]),l[1]=h[0]+h[3],l[2]=h[1]-h[2],u[0]=l[0]+l[1],u[1]=l[3]+l[2],u[2]=l[3]-l[2],u[3]=l[0]-l[1],e[0+d]=u[0]+f[0],e[8+d]=u[1]+f[1],e[16+d]=u[2]+f[2],e[24+d]=u[3]+f[3],e[32+d]=u[3]-f[3],e[40+d]=u[2]-f[2],e[48+d]=u[1]-f[1],e[56+d]=u[0]-f[0]}function J(e){for(var r=0;r<64;++r){var t=e[0][r],n=e[1][r],i=e[2][r];e[0][r]=t+1.5747*i,e[1][r]=t-.1873*n-.4682*i,e[2][r]=t+1.8556*n}}function q(e,r,t){for(var n=0;n<64;++n)r[t+n]=i.z.toHalfFloat(K(e[n]))}function K(e){return e<=1?Math.sign(e)*Math.pow(Math.abs(e),2.2):Math.sign(e)*Math.pow(S,Math.abs(e)-1)}function Q(e){var r=e.array.slice(e.offset.value,e.offset.value+e.size);void 0===a.a&&console.error("THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var t=new a.a(r,{resize:!0,verify:!0}),n=new Uint8Array(t.decompress().buffer),i=new Uint8Array(n.length);return V(n),X(n,i),new DataView(i.buffer)}function ee(e){var r=e.viewer,t={value:e.offset.value},n=new Uint8Array(e.width*e.lines*(de.channels.length*e.type*y)),i={version:oe(r,t),unknownUncompressedSize:oe(r,t),unknownCompressedSize:oe(r,t),acCompressedSize:oe(r,t),dcCompressedSize:oe(r,t),rleCompressedSize:oe(r,t),rleUncompressedSize:oe(r,t),rleRawSize:oe(r,t),totalAcUncompressedCount:oe(r,t),totalDcUncompressedCount:oe(r,t),acCompression:oe(r,t)};if(i.version<2)throw"EXRLoader.parse: "+de.compression+" version "+i.version+" is unsupported";for(var s=new Array,o=le(r,t)-y;o>0;){var h=re(r.buffer,t),f=se(r,t),l=f>>2&3,u=new Int8Array([(f>>4)-1])[0],c=se(r,t);s.push({name:h,index:u,type:c,compression:l}),o-=h.length+3}for(var v=de.channels,d=new Array(e.channels),p=0;p<e.channels;++p){var w=d[p]={},b=v[p];w.name=b.name,w.compression=A,w.decoded=!1,w.type=b.pixelType,w.pLinear=b.pLinear,w.width=e.width,w.height=e.lines}for(var S={idx:new Array(3)},M=0;M<e.channels;++M)for(w=d[M],p=0;p<s.length;++p){var x=s[p];w.name==x.name&&(w.compression=x.compression,x.index>=0&&(S.idx[x.index]=M),w.offset=M)}if(i.acCompressedSize>0)switch(i.acCompression){case g:var R=new Uint16Array(i.totalAcUncompressedCount);B(e.array,r,t,i.acCompressedSize,R,i.totalAcUncompressedCount);break;case m:var k=e.array.slice(t.value,t.value+i.totalAcUncompressedCount),I=new a.a(k,{resize:!0,verify:!0});R=new Uint16Array(I.decompress().buffer);t.value+=i.totalAcUncompressedCount}if(i.dcCompressedSize>0){var O={array:e.array,offset:t,size:i.dcCompressedSize},z=new Uint16Array(Q(O).buffer);t.value+=i.dcCompressedSize}if(i.rleRawSize>0){k=e.array.slice(t.value,t.value+i.rleCompressedSize);var _=Z((I=new a.a(k,{resize:!0,verify:!0})).decompress().buffer);t.value+=i.rleCompressedSize}var C=0,P=new Array(d.length);for(p=0;p<P.length;++p)P[p]=new Array;for(var T=0;T<e.lines;++T)for(var N=0;N<d.length;++N)P[N].push(C),C+=d[N].width*e.type*y;!function(e,r,t,n,i,a){for(var s=new DataView(a.buffer),o=t[e.idx[0]].width,h=t[e.idx[0]].height,f=Math.floor(o/8),l=Math.ceil(o/8),u=Math.ceil(h/8),c=o-8*(l-1),v=h-8*(u-1),d={value:0},p=new Array(3),w=new Array(3),b=new Array(3),g=new Array(3),m=new Array(3),A=0;A<3;++A)m[A]=r[e.idx[A]],p[A]=A<1?0:p[A-1]+l*u,w[A]=new Float32Array(64),b[A]=new Uint16Array(64),g[A]=new Uint16Array(64*l);for(var E=0;E<u;++E){var U=8;E==u-1&&(U=v);for(var S=8,M=0;M<l;++M){M==l-1&&(S=c);for(var x=0;x<3;++x)b[x].fill(0),b[x][0]=i[p[x]++],$(d,n,b[x]),Y(b[x],w[x]),G(w[x]);J(w);for(var R=0;R<3;++R)q(w[R],g[R],64*M)}for(var k=0,I=0;I<3;++I){for(var O=t[e.idx[I]].type,z=8*E;z<8*E+U;++z){k=m[I][z];for(var _=0;_<f;++_){var C=64*_+8*(7&z);s.setUint16(k+0*y*O,g[I][C+0],!0),s.setUint16(k+1*y*O,g[I][C+1],!0),s.setUint16(k+2*y*O,g[I][C+2],!0),s.setUint16(k+3*y*O,g[I][C+3],!0),s.setUint16(k+4*y*O,g[I][C+4],!0),s.setUint16(k+5*y*O,g[I][C+5],!0),s.setUint16(k+6*y*O,g[I][C+6],!0),s.setUint16(k+7*y*O,g[I][C+7],!0),k+=8*y*O}}if(f!=l)for(var P=8*E;P<8*E+U;++P)for(var T=m[I][P]+8*f*y*O,N=64*f+8*(7&P),D=0;D<S;++D)s.setUint16(T+D*y*O,g[I][N+D],!0)}}for(var L=new Uint16Array(o),H=(s=new DataView(a.buffer),0);H<3;++H){t[e.idx[H]].decoded=!0;var j=t[e.idx[H]].type;if(2==t[H].type)for(var F=0;F<h;++F){for(var W=m[H][F],B=0;B<o;++B)L[B]=s.getUint16(W+B*y*j,!0);for(B=0;B<o;++B)s.setFloat32(W+B*y*j,fe(L[B]),!0)}}}(S,P,d,R,z,n);for(p=0;p<d.length;++p){if(!(w=d[p]).decoded)switch(w.compression){case U:var D=0,L=0;for(T=0;T<e.lines;++T){for(var H=P[p][D],j=0;j<w.width;++j){for(var F=0;F<y*w.type;++F)n[H++]=_[L+F*w.width*w.height];L++}D++}break;case E:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(n.buffer)}function re(e,r){for(var t=new Uint8Array(e),n=0;0!=t[r.value+n];)n+=1;var i=(new TextDecoder).decode(t.slice(r.value,r.value+n));return r.value=r.value+n+1,i}function te(e,r){var t=e.getUint32(0,!0);return r.value=r.value+d,t}function ne(e,r){var t=e.getInt32(r.value,!0);return r.value=r.value+w,t}function ie(e,r){var t=e.getUint32(r.value,!0);return r.value=r.value+w,t}function ae(e,r){var t=e[r.value];return r.value=r.value+b,t}function se(e,r){var t=e.getUint8(r.value);return r.value=r.value+b,t}function oe(e,r){var t=Number(e.getBigInt64(r.value,!0));return r.value+=d,t}function he(e,r){var t=e.getFloat32(r.value,!0);return r.value+=p,t}function fe(e){var r=(31744&e)>>10,t=1023&e;return(e>>15?-1:1)*(r?31===r?t?NaN:1/0:Math.pow(2,r-15)*(1+t/1024):t/1024*6103515625e-14)}function le(e,r){var t=e.getUint16(r.value,!0);return r.value+=y,t}function ue(e,r,t,n,i){return"string"===n||"stringvector"===n||"iccProfile"===n?function(e,r,t){var n=(new TextDecoder).decode(new Uint8Array(e).slice(r.value,r.value+t));return r.value=r.value+t,n}(r,t,i):"chlist"===n?function(e,r,t,n){for(var i=t.value,a=[];t.value<i+n-1;){var s=re(r,t),o=ne(e,t),h=se(e,t);t.value+=3;var f=ne(e,t),l=ne(e,t);a.push({name:s,pixelType:o,pLinear:h,xSampling:f,ySampling:l})}return t.value+=1,a}(e,r,t,i):"chromaticities"===n?function(e,r){return{redX:he(e,r),redY:he(e,r),greenX:he(e,r),greenY:he(e,r),blueX:he(e,r),blueY:he(e,r),whiteX:he(e,r),whiteY:he(e,r)}}(e,t):"compression"===n?function(e,r){return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][se(e,r)]}(e,t):"box2i"===n?function(e,r){return{xMin:ie(e,r),yMin:ie(e,r),xMax:ie(e,r),yMax:ie(e,r)}}(e,t):"lineOrder"===n?function(e,r){return["INCREASING_Y"][se(e,r)]}(e,t):"float"===n?he(e,t):"v2f"===n?function(e,r){return[he(e,r),he(e,r)]}(e,t):"v3f"===n?function(e,r){return[he(e,r),he(e,r),he(e,r)]}(e,t):"int"===n?ne(e,t):"rational"===n?function(e,r){return[ne(e,r),ie(e,r)]}(e,t):"timecode"===n?function(e,r){return[ie(e,r),ie(e,r)]}(e,t):"preview"===n?(t.value+=i,"skipped"):void(t.value+=i)}var ce=new DataView(e),ve=new Uint8Array(e),de={};ce.getUint32(0,!0),ce.getUint8(4,!0),ce.getUint8(5,!0);for(var pe={value:8},we=!0;we;){var ye=re(e,pe);if(0==ye)we=!1;else{var be=re(e,pe),ge=ue(ce,e,pe,be,ie(ce,pe));void 0===ge?console.warn("EXRLoader.parse: skipped unknown header attribute type '"+be+"'."):de[ye]=ge}}var me,Ae,Ee,Ue,Se=de.dataWindow.yMax+1;switch(de.compression){case"NO_COMPRESSION":Ae=1,me=function(e){return new DataView(e.array.buffer,e.offset.value,e.size)};break;case"RLE_COMPRESSION":Ae=1,me=function(e){var r=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),t=new Uint8Array(Z(r)),n=new Uint8Array(t.length);return V(t),X(t,n),new DataView(n.buffer)};break;case"ZIPS_COMPRESSION":Ae=1,me=Q;break;case"ZIP_COMPRESSION":Ae=16,me=Q;break;case"PIZ_COMPRESSION":Ae=32,me=function(e){for(var n=e.viewer,i={value:e.offset.value},a=e.width*Ae*(de.channels.length*e.type),s=new Uint16Array(a),o=new Uint8Array(t),h=0,f=new Array(e.channels),l=0;l<e.channels;l++)f[l]={},f[l].start=h,f[l].end=f[l].start,f[l].nx=e.width,f[l].ny=e.lines,f[l].size=e.type,h+=f[l].nx*f[l].ny*f[l].size;var u=le(n,i),c=le(n,i);if(c>=t)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(u<=c)for(l=0;l<c-u+1;l++)o[l+u]=se(n,i);var v=new Uint16Array(r),d=function(e,t){for(var n=0,i=0;i<r;++i)(0==i||e[i>>3]&1<<(7&i))&&(t[n++]=i);for(var a=n-1;n<r;)t[n++]=0;return a}(o,v),p=ie(n,i);for(B(e.array,n,i,p,s,h),l=0;l<e.channels;++l)for(var w=f[l],b=0;b<f[l].size;++b)W(s,w.start+b,w.nx,w.size,w.ny,w.nx*w.size,d);!function(e,r,t){for(var n=0;n<t;++n)r[n]=e[r[n]]}(v,s,h);for(var g=0,m=new Uint8Array(s.buffer.byteLength),A=0;A<e.lines;A++)for(var E=0;E<e.channels;E++){var U=(w=f[E]).nx*w.size,S=new Uint8Array(s.buffer,w.end*y,U*y);m.set(S,g),g+=U*y,w.end+=U}return new DataView(m.buffer)};break;case"PXR24_COMPRESSION":Ae=16,me=function(e){var r=e.array.slice(e.offset.value,e.offset.value+e.size);void 0===a.a&&console.error("THREE.EXRLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");for(var t=new a.a(r,{resize:!0,verify:!0}),n=new Uint8Array(t.decompress().buffer),i=e.lines*e.channels*e.width,s=1==e.type?new Uint16Array(i):new Uint32Array(i),o=0,h=0,f=new Array(4),l=0;l<e.lines;l++)for(var u=0;u<e.channels;u++){var c=0;switch(e.type){case 1:f[0]=o,f[1]=f[0]+e.width,o=f[1]+e.width;for(var v=0;v<e.width;++v)c+=n[f[0]++]<<8|n[f[1]++],s[h]=c,h++;break;case 2:f[0]=o,f[1]=f[0]+e.width,f[2]=f[1]+e.width,o=f[2]+e.width;for(var d=0;d<e.width;++d)c+=n[f[0]++]<<24|n[f[1]++]<<16|n[f[2]++]<<8,s[h]=c,h++}}return new DataView(s.buffer)};break;case"DWAA_COMPRESSION":Ae=32,me=ee;break;case"DWAB_COMPRESSION":Ae=256,me=ee;break;default:throw"EXRLoader.parse: "+de.compression+" is unsupported"}var Me=de.channels[0].pixelType;if(1===Me)switch(this.type){case i._82:case i.J:Ue=function(e,r){return fe(le(e,r))},Ee=y;break;case i.O:Ue=le,Ee=y}else{if(2!==Me)throw"EXRLoader.parse: unsupported pixelType "+Me+" for "+de.compression+".";switch(this.type){case i._82:case i.J:Ue=he,Ee=p;break;case i.O:Ue=function(e,r){return i.z.toHalfFloat(he(e,r))},Ee=p}}for(var xe=Se/Ae,Re=0;Re<xe;Re++)te(ce,pe);var ke=de.dataWindow.xMax-de.dataWindow.xMin+1,Ie=de.dataWindow.yMax-de.dataWindow.yMin+1,Oe=ke*Ie*4;switch(this.type){case i._82:case i.J:var ze=new Float32Array(Oe);de.channels.length<4&&ze.fill(1,0,Oe);break;case i.O:ze=new Uint16Array(Oe);de.channels.length<4&&ze.fill(15360,0,Oe);break;default:console.error("THREE.EXRLoader: unsupported type: ",this.type)}for(var _e,Ce,Pe={R:0,G:1,B:2,A:3},Te={size:0,width:ke,lines:Ae,offset:pe,array:ve,viewer:ce,type:Me,channels:de.channels.length},Ne={value:0},De=0;De<Ie/Ae;De++){_e=ie(ce,pe),Oe=ie(ce,pe),Te.lines=_e+Ae>Ie?Ie-_e:Ae,Te.offset=pe,Te.size=Oe,Ce=me(Te),pe.value+=Oe;for(var Le=0;Le<Ae;Le++){var He=Le+De*Ae;if(He>=Ie)break;for(var je=0;je<de.channels.length;je++)for(var Fe=Pe[de.channels[je].name],We=0;We<ke;We++){var Be=Le*(de.channels.length*ke)+je*ke+We;Ne.value=Be*Ee;var Ve=Ue(Ce,Ne);ze[4*ke*(Ie-1-He)+4*We+Fe]=Ve}}}if(this.type===i._82){for(var Xe=void 0,Ze=void 0,$e=ze.length,Ye=new Uint8Array($e),Ge=0;Ge<Ie;++Ge)for(var Je=0;Je<ke;++Je){var qe=ze[Ze=Ge*ke*4+4*Je],Ke=ze[Ze+1],Qe=ze[Ze+2];if((Xe=Qe>(Xe=qe>Ke?qe:Ke)?Qe:Xe)<1e-32)Ye[Ze]=Ye[Ze+1]=Ye[Ze+2]=Ye[Ze+3]=0;else{var er=x(Xe);Xe=256*er[0]/Xe,Ye[Ze]=qe*Xe,Ye[Ze+1]=Ke*Xe,Ye[Ze+2]=Qe*Xe,Ye[Ze+3]=er[1]+128}}ze=Ye}var rr=this.type===i._82?i._49:i._44;return{header:de,width:ke,height:Ie,data:ze,format:rr,type:this.type}},setDataType:function(e){return this.type=e,this},load:function(e,r,t,n){return i.y.prototype.load.call(this,e,function(e,t){switch(e.type){case i._82:e.encoding=i._48,e.minFilter=i._23,e.magFilter=i._23,e.generateMipmaps=!1,e.flipY=!1;break;case i.J:case i.O:e.encoding=i._4,e.minFilter=i._5,e.magFilter=i._5,e.generateMipmaps=!1,e.flipY=!1}r&&r(e,t)},t,n)}});var o={data:function(){return{params:{exposure:2},renderer:null,scene:null,camera:null,gui:null}},mounted:function(){this.init()},beforeDestroy:function(){this.gui.hide()},methods:{init:function(){var e=this;this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglLoaderTextureExr-container")[0].appendChild(this.renderer.domElement),this.renderer.toneMapping=this.$THREE.ReinhardToneMapping,this.renderer.toneMappingExposure=this.params.exposure,this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.scene=new this.$THREE.Scene;var r=this.$webglInnerWidth/window.innerHeight;this.camera=new this.$THREE.OrthographicCamera(-r,r,1,-1,0,1),(new s).setDataType(this.$THREE.FloatType).load("static/textures/memorial.exr",function(r,t){var n=new e.$THREE.MeshBasicMaterial({map:r}),i=new e.$THREE.PlaneBufferGeometry(1.5*t.width/t.height,1.5),a=new e.$THREE.Mesh(i,n);e.scene.add(a),e.render()}),this.gui=new n.a,this.gui.add(this.params,"exposure",0,4,.01).onChange(this.render),this.gui.open(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){var e=window.innerWidth-281/window.innerHeight,r=this.camera.top-this.camera.bottom;this.camera.left=-r*e/2,this.camera.right=r*e/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth-281,window.innerHeight),this.render()},render:function(){this.renderer.toneMappingExposure=this.params.exposure,this.renderer.render(this.scene,this.camera)}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"webglLoaderTextureExr-container"},[r("div",{attrs:{id:"info"}},[r("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - webgl EXR texture loader example"),r("br"),this._v("\n\t\t\tImage courtesy of "),r("a",{attrs:{href:"http://www.pauldebevec.com/Research/HDR/",target:"_blank",rel:"noopener"}},[this._v("Paul Debevec")]),this._v(".\n\t\t")])])}]};var f=t("VU/8")(o,h,!1,function(e){t("sLGb")},"data-v-e5b10648",null);r.default=f.exports},sLGb:function(e,r){}});
//# sourceMappingURL=16.528006587f562d72877a.js.map