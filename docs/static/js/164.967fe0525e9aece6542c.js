webpackJsonp([164],{JALE:function(t,e){},x6S7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("85s5"),i=r("Z9IJ"),a=r("sD7D"),o=r("KXdl"),s={data:function(){return{fragmentShader:null,vertexShader:null,camera:null,renderer:null,composer:null,clock:null,uniforms:null,mesh:null}},mounted:function(){this.fragmentShader="\n            uniform float time;\n\t\t\tuniform float fogDensity;\n\t\t\tuniform vec3 fogColor;\n\t\t\tuniform sampler2D texture1;\n\t\t\tuniform sampler2D texture2;\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main( void ) {\n\t\t\t\tvec2 position = - 1.0 + 2.0 * vUv;\n\t\t\t\tvec4 noise = texture2D( texture1, vUv );\n\t\t\t\tvec2 T1 = vUv + vec2( 1.5, - 1.5 ) * time * 0.02;\n\t\t\t\tvec2 T2 = vUv + vec2( - 0.5, 2.0 ) * time * 0.01;\n\t\t\t\tT1.x += noise.x * 2.0;\n\t\t\t\tT1.y += noise.y * 2.0;\n\t\t\t\tT2.x -= noise.y * 0.2;\n\t\t\t\tT2.y += noise.z * 0.2;\n\t\t\t\tfloat p = texture2D( texture1, T1 * 2.0 ).a;\n\t\t\t\tvec4 color = texture2D( texture2, T2 * 2.0 );\n\t\t\t\tvec4 temp = color * ( vec4( p, p, p, p ) * 2.0 ) + ( color * color - 0.1 );\n\t\t\t\tif( temp.r > 1.0 ) { temp.bg += clamp( temp.r - 2.0, 0.0, 100.0 ); }\n\t\t\t\tif( temp.g > 1.0 ) { temp.rb += temp.g - 1.0; }\n\t\t\t\tif( temp.b > 1.0 ) { temp.rg += temp.b - 1.0; }\n\t\t\t\tgl_FragColor = temp;\n\t\t\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t\t\t\tconst float LOG2 = 1.442695;\n\t\t\t\tfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n\t\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\t\t\t\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\t\t\t}",this.vertexShader="\n            uniform vec2 uvScale;\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\tvUv = uvScale * uv;\n\t\t\t\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t\t}",this.init(),this.animate()},methods:{init:function(){var t=document.getElementById("container");this.camera=new this.$THREE.PerspectiveCamera(35,this.$webglInnerWidth/window.innerHeight,1,3e3),this.camera.position.z=4;var e=new this.$THREE.Scene;this.clock=new this.$THREE.Clock;var r=new this.$THREE.TextureLoader;this.uniforms={fogDensity:{value:.45},fogColor:{value:new this.$THREE.Vector3(0,0,0)},time:{value:1},uvScale:{value:new this.$THREE.Vector2(3,1)},texture1:{value:r.load("static/textures/lava/cloud.png")},texture2:{value:r.load("static/textures/lava/lavatile.jpg")}},this.uniforms.texture1.value.wrapS=this.uniforms.texture1.value.wrapT=this.$THREE.RepeatWrapping,this.uniforms.texture2.value.wrapS=this.uniforms.texture2.value.wrapT=this.$THREE.RepeatWrapping;var s=new this.$THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader});this.mesh=new this.$THREE.Mesh(new this.$THREE.TorusBufferGeometry(.65,.3,30,30),s),this.mesh.rotation.x=.3,e.add(this.mesh),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),t.appendChild(this.renderer.domElement),this.renderer.autoClear=!1;var h=new i.a(e,this.camera),l=new o.a(1.25),c=new a.a(.35,.95,2048,!1);this.composer=new n.a(this.renderer),this.composer.addPass(h),this.composer.addPass(l),this.composer.addPass(c),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.composer.setSize(this.$webglInnerWidth,window.innerHeight)},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){var t=5*this.clock.getDelta();this.uniforms.time.value+=.2*t,this.mesh.rotation.y+=.0125*t,this.mesh.rotation.x+=.05*t,this.renderer.clear(),this.composer.render(.01)}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglShaderLava-container"},[e("div",{attrs:{id:"container"}}),this._v(" "),e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - shader material demo. featuring lava shader by "),e("a",{attrs:{href:"http://irrlicht.sourceforge.net/phpBB2/viewtopic.php?t=21057",target:"_blank",rel:"noopener"}},[this._v("TheGameMaker")])])])}]};var l=r("VU/8")(s,h,!1,function(t){r("JALE")},"data-v-6d8ad30f",null);e.default=l.exports}});
//# sourceMappingURL=164.967fe0525e9aece6542c.js.map