webpackJsonp([17],{"5CSs":function(t,e){},"9icu":function(t,e,r){"use strict";r.d(e,"a",function(){return j});
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */var n={},i=void 0,a=n;function s(t,e){var r,n=t.split("."),s=a;!(n[0]in s)&&s.execScript&&s.execScript("var "+n[0]);for(;n.length&&(r=n.shift());)n.length||e===i?s=s[r]?s[r]:s[r]={}:s[r]=e}var h="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function o(t){var e,r,n,i,a,s,o,c,l,u,f=t.length,d=0,p=Number.POSITIVE_INFINITY;for(c=0;c<f;++c)t[c]>d&&(d=t[c]),t[c]<p&&(p=t[c]);for(e=1<<d,r=new(h?Uint32Array:Array)(e),n=1,i=0,a=2;n<=d;){for(c=0;c<f;++c)if(t[c]===n){for(s=0,o=i,l=0;l<n;++l)s=s<<1|1&o,o>>=1;for(u=n<<16|c,l=s;l<e;l+=a)r[l]=u;++i}++n,i<<=1,a<<=1}return[r,d,p]}function c(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=h?new Uint8Array(t):t,this.m=!1,this.i=u,this.r=!1,!e&&(e={})||(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case l:this.b=32768,this.c=new(h?Uint8Array:Array)(32768+this.h+258);break;case u:this.b=0,this.c=new(h?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var l=0,u=1,f={t:l,s:u};c.prototype.k=function(){for(;!this.m;){var t=C(this,3);switch(1&t&&(this.m=!0),t>>>=1){case 0:var e=this.input,r=this.a,n=this.c,a=this.b,s=e.length,c=i,f=n.length,d=i;if(this.d=this.f=0,r+1>=s)throw Error("invalid uncompressed block header: LEN");if(c=e[r++]|e[r++]<<8,r+1>=s)throw Error("invalid uncompressed block header: NLEN");if(c===~(e[r++]|e[r++]<<8))throw Error("invalid uncompressed block header: length verify");if(r+c>e.length)throw Error("input buffer is broken");switch(this.i){case l:for(;a+c>n.length;){if(c-=d=f-a,h)n.set(e.subarray(r,r+d),a),a+=d,r+=d;else for(;d--;)n[a++]=e[r++];this.b=a,n=this.e(),a=this.b}break;case u:for(;a+c>n.length;)n=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(h)n.set(e.subarray(r,r+c),a),a+=c,r+=c;else for(;c--;)n[a++]=e[r++];this.a=r,this.b=a,this.c=n;break;case 1:this.j(U,T);break;case 2:var p,g,v,b,w=C(this,5)+257,m=C(this,5)+1,A=C(this,4)+4,x=new(h?Uint8Array:Array)(y.length),I=i,E=i,_=i,k=i,L=i;for(L=0;L<A;++L)x[y[L]]=C(this,3);if(!h)for(L=A,A=x.length;L<A;++L)x[y[L]]=0;for(p=o(x),I=new(h?Uint8Array:Array)(w+m),L=0,b=w+m;L<b;)switch(E=M(this,p)){case 16:for(k=3+C(this,2);k--;)I[L++]=_;break;case 17:for(k=3+C(this,3);k--;)I[L++]=0;_=0;break;case 18:for(k=11+C(this,7);k--;)I[L++]=0;_=0;break;default:_=I[L++]=E}g=o(h?I.subarray(0,w):I.slice(0,w)),v=o(h?I.subarray(w):I.slice(w)),this.j(g,v);break;default:throw Error("unknown BTYPE: "+t)}}return this.n()};var d,p,g=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=h?new Uint16Array(g):g,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],b=h?new Uint16Array(v):v,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],m=h?new Uint8Array(w):w,A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],x=h?new Uint16Array(A):A,I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=h?new Uint8Array(I):I,_=new(h?Uint8Array:Array)(288);for(d=0,p=_.length;d<p;++d)_[d]=143>=d?8:255>=d?9:279>=d?7:8;var k,L,U=o(_),S=new(h?Uint8Array:Array)(30);for(k=0,L=S.length;k<L;++k)S[k]=5;var T=o(S);function C(t,e){for(var r,n=t.f,i=t.d,a=t.input,s=t.a,h=a.length;i<e;){if(s>=h)throw Error("input buffer is broken");n|=a[s++]<<i,i+=8}return r=n&(1<<e)-1,t.f=n>>>e,t.d=i-e,t.a=s,r}function M(t,e){for(var r,n,i=t.f,a=t.d,s=t.input,h=t.a,o=s.length,c=e[0],l=e[1];a<l&&!(h>=o);)i|=s[h++]<<a,a+=8;if((n=(r=c[i&(1<<l)-1])>>>16)>a)throw Error("invalid code length: "+n);return t.f=i>>n,t.d=a-n,t.a=h,65535&r}function z(t,e){var r,n;switch(this.input=t,this.a=0,!e&&(e={})||(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),r=t[this.a++],n=t[this.a++],15&r){case D:this.method=D;break;default:throw Error("unsupported compression method")}if(0!=((r<<8)+n)%31)throw Error("invalid fcheck flag:"+((r<<8)+n)%31);if(32&n)throw Error("fdict flag is not supported");this.q=new c(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}c.prototype.j=function(t,e){var r=this.c,n=this.b;this.o=t;for(var i,a,s,h,o=r.length-258;256!==(i=M(this,t));)if(256>i)n>=o&&(this.b=n,r=this.e(),n=this.b),r[n++]=i;else for(h=b[a=i-257],0<m[a]&&(h+=C(this,m[a])),i=M(this,e),s=x[i],0<E[i]&&(s+=C(this,E[i])),n>=o&&(this.b=n,r=this.e(),n=this.b);h--;)r[n]=r[n++-s];for(;8<=this.d;)this.d-=8,this.a--;this.b=n},c.prototype.w=function(t,e){var r=this.c,n=this.b;this.o=t;for(var i,a,s,h,o=r.length;256!==(i=M(this,t));)if(256>i)n>=o&&(o=(r=this.e()).length),r[n++]=i;else for(h=b[a=i-257],0<m[a]&&(h+=C(this,m[a])),i=M(this,e),s=x[i],0<E[i]&&(s+=C(this,E[i])),n+h>o&&(o=(r=this.e()).length);h--;)r[n]=r[n++-s];for(;8<=this.d;)this.d-=8,this.a--;this.b=n},c.prototype.e=function(){var t,e,r=new(h?Uint8Array:Array)(this.b-32768),n=this.b-32768,i=this.c;if(h)r.set(i.subarray(32768,r.length));else for(t=0,e=r.length;t<e;++t)r[t]=i[t+32768];if(this.g.push(r),this.l+=r.length,h)i.set(i.subarray(n,n+32768));else for(t=0;32768>t;++t)i[t]=i[n+t];return this.b=32768,i},c.prototype.z=function(t){var e,r,n,i=this.input.length/this.a+1|0,a=this.input,s=this.c;return t&&("number"==typeof t.p&&(i=t.p),"number"==typeof t.u&&(i+=t.u)),2>i?r=(n=(a.length-this.a)/this.o[2]/2*258|0)<s.length?s.length+n:s.length<<1:r=s.length*i,h?(e=new Uint8Array(r)).set(s):e=s,this.c=e},c.prototype.n=function(){var t,e,r,n,i,a=0,s=this.c,o=this.g,c=new(h?Uint8Array:Array)(this.l+(this.b-32768));if(0===o.length)return h?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,r=o.length;e<r;++e)for(n=0,i=(t=o[e]).length;n<i;++n)c[a++]=t[n];for(e=32768,r=this.b;e<r;++e)c[a++]=s[e];return this.g=[],this.buffer=c},c.prototype.v=function(){var t,e=this.b;return h?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},z.prototype.k=function(){var t,e,r=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(r[this.a++]<<24|r[this.a++]<<16|r[this.a++]<<8|r[this.a++])>>>0;var n=t;if("string"==typeof n){var i,a,s=n.split("");for(i=0,a=s.length;i<a;i++)s[i]=(255&s[i].charCodeAt(0))>>>0;n=s}for(var h,o=1,c=0,l=n.length,u=0;0<l;){l-=h=1024<l?1024:l;do{c+=o+=n[u++]}while(--h);o%=65521,c%=65521}if(e!==(c<<16|o)>>>0)throw Error("invalid adler-32 checksum")}return t};var D=8;s("Zlib.Inflate",z),s("Zlib.Inflate.prototype.decompress",z.prototype.k);var N,R,F,P,O={ADAPTIVE:f.s,BLOCK:f.t};if(Object.keys)N=Object.keys(O);else for(R in N=[],F=0,O)N[F++]=R;for(F=0,P=N.length;F<P;++F)s("Zlib.Inflate.BufferType."+(R=N[F]),O[R]);var j=n.Zlib.Inflate},jTIU:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("QEtz"),i=r("JQAX"),a=r("6+nK");
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */function s(t){throw t}var h=void 0,o={};function c(t,e){var r,n=t.split("."),i=o;!(n[0]in i)&&i.execScript&&i.execScript("var "+n[0]);for(;n.length&&(r=n.shift());)n.length||e===h?i=i[r]?i[r]:i[r]={}:i[r]=e}var l,u="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;for(new(u?Uint8Array:Array)(256),l=0;256>l;++l)for(var f=(f=l)>>>1;f;f>>>=1)0;function d(t,e,r){var n,i="number"==typeof e?e:e=0,a="number"==typeof r?r:t.length;for(n=-1,i=7&a;i--;++e)n=n>>>8^g[255&(n^t[e])];for(i=a>>3;i--;e+=8)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^g[255&(n^t[e])])>>>8^g[255&(n^t[e+1])])>>>8^g[255&(n^t[e+2])])>>>8^g[255&(n^t[e+3])])>>>8^g[255&(n^t[e+4])])>>>8^g[255&(n^t[e+5])])>>>8^g[255&(n^t[e+6])])>>>8^g[255&(n^t[e+7])];return(4294967295^n)>>>0}var p=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],g=u?new Uint32Array(p):p;function y(){}function v(t){var e,r,n,i,a,s,h,o,c,l,f=t.length,d=0,p=Number.POSITIVE_INFINITY;for(o=0;o<f;++o)t[o]>d&&(d=t[o]),t[o]<p&&(p=t[o]);for(e=1<<d,r=new(u?Uint32Array:Array)(e),n=1,i=0,a=2;n<=d;){for(o=0;o<f;++o)if(t[o]===n){for(s=0,h=i,c=0;c<n;++c)s=s<<1|1&h,h>>=1;for(l=n<<16|o,c=s;c<e;c+=a)r[c]=l;++i}++n,i<<=1,a<<=1}return[r,d,p]}y.prototype.getName=function(){return this.name},y.prototype.getData=function(){return this.data},y.prototype.H=function(){return this.I},c("Zlib.GunzipMember",y),c("Zlib.GunzipMember.prototype.getName",y.prototype.getName),c("Zlib.GunzipMember.prototype.getData",y.prototype.getData),c("Zlib.GunzipMember.prototype.getMtime",y.prototype.H);var b,w=[];for(b=0;288>b;b++)switch(!0){case 143>=b:w.push([b+48,8]);break;case 255>=b:w.push([b-144+400,9]);break;case 279>=b:w.push([b-256+0,7]);break;case 287>=b:w.push([b-280+192,8]);break;default:s("invalid literal: "+b)}var m=function(){function t(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case 12>=t:return[265,t-11,1];case 14>=t:return[266,t-13,1];case 16>=t:return[267,t-15,1];case 18>=t:return[268,t-17,1];case 22>=t:return[269,t-19,2];case 26>=t:return[270,t-23,2];case 30>=t:return[271,t-27,2];case 34>=t:return[272,t-31,2];case 42>=t:return[273,t-35,3];case 50>=t:return[274,t-43,3];case 58>=t:return[275,t-51,3];case 66>=t:return[276,t-59,3];case 82>=t:return[277,t-67,4];case 98>=t:return[278,t-83,4];case 114>=t:return[279,t-99,4];case 130>=t:return[280,t-115,4];case 162>=t:return[281,t-131,5];case 194>=t:return[282,t-163,5];case 226>=t:return[283,t-195,5];case 257>=t:return[284,t-227,5];case 258===t:return[285,t-258,0];default:s("invalid length: "+t)}}var e,r,n=[];for(e=3;258>=e;e++)r=t(e),n[e]=r[2]<<24|r[1]<<16|r[0];return n}();function A(t,e){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=u?new Uint8Array(t):t,this.o=!1,this.k=I,this.z=!1,!e&&(e={})||(e.index&&(this.c=e.index),e.bufferSize&&(this.j=e.bufferSize),e.bufferType&&(this.k=e.bufferType),e.resize&&(this.z=e.resize)),this.k){case x:this.a=32768,this.b=new(u?Uint8Array:Array)(32768+this.j+258);break;case I:this.a=0,this.b=new(u?Uint8Array:Array)(this.j),this.e=this.F,this.q=this.B,this.l=this.D;break;default:s(Error("invalid inflate mode"))}}u&&new Uint32Array(m);var x=0,I=1;A.prototype.g=function(){for(;!this.o;){var t=B(this,3);switch(1&t&&(this.o=!0),t>>>=1){case 0:var e=this.input,r=this.c,n=this.b,i=this.a,a=e.length,o=h,c=n.length,l=h;switch(this.d=this.f=0,r+1>=a&&s(Error("invalid uncompressed block header: LEN")),o=e[r++]|e[r++]<<8,r+1>=a&&s(Error("invalid uncompressed block header: NLEN")),o===~(e[r++]|e[r++]<<8)&&s(Error("invalid uncompressed block header: length verify")),r+o>e.length&&s(Error("input buffer is broken")),this.k){case x:for(;i+o>n.length;){if(o-=l=c-i,u)n.set(e.subarray(r,r+l),i),i+=l,r+=l;else for(;l--;)n[i++]=e[r++];this.a=i,n=this.e(),i=this.a}break;case I:for(;i+o>n.length;)n=this.e({t:2});break;default:s(Error("invalid inflate mode"))}if(u)n.set(e.subarray(r,r+o),i),i+=o,r+=o;else for(;o--;)n[i++]=e[r++];this.c=r,this.a=i,this.b=n;break;case 1:this.l(O,H);break;case 2:G(this);break;default:s(Error("unknown BTYPE: "+t))}}return this.q()};var E,_,k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=u?new Uint16Array(k):k,U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],S=u?new Uint16Array(U):U,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],C=u?new Uint8Array(T):T,M=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],z=u?new Uint16Array(M):M,D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=u?new Uint8Array(D):D,R=new(u?Uint8Array:Array)(288);for(E=0,_=R.length;E<_;++E)R[E]=143>=E?8:255>=E?9:279>=E?7:8;var F,P,O=v(R),j=new(u?Uint8Array:Array)(30);for(F=0,P=j.length;F<P;++F)j[F]=5;var H=v(j);function B(t,e){for(var r,n=t.f,i=t.d,a=t.input,h=t.c,o=a.length;i<e;)h>=o&&s(Error("input buffer is broken")),n|=a[h++]<<i,i+=8;return r=n&(1<<e)-1,t.f=n>>>e,t.d=i-e,t.c=h,r}function $(t,e){for(var r,n,i=t.f,a=t.d,s=t.input,h=t.c,o=s.length,c=e[0],l=e[1];a<l&&!(h>=o);)i|=s[h++]<<a,a+=8;return n=(r=c[i&(1<<l)-1])>>>16,t.f=i>>n,t.d=a-n,t.c=h,65535&r}function G(t){function e(t,e,r){var n,i,a,s=this.w;for(a=0;a<t;)switch(n=$(this,e)){case 16:for(i=3+B(this,2);i--;)r[a++]=s;break;case 17:for(i=3+B(this,3);i--;)r[a++]=0;s=0;break;case 18:for(i=11+B(this,7);i--;)r[a++]=0;s=0;break;default:s=r[a++]=n}return this.w=s,r}var r,n,i,a,s=B(t,5)+257,h=B(t,5)+1,o=B(t,4)+4,c=new(u?Uint8Array:Array)(L.length);for(a=0;a<o;++a)c[L[a]]=B(t,3);if(!u)for(a=o,o=c.length;a<o;++a)c[L[a]]=0;r=v(c),n=new(u?Uint8Array:Array)(s),i=new(u?Uint8Array:Array)(h),t.w=0,t.l(v(e.call(t,s,r,n)),v(e.call(t,h,r,i)))}function V(t){this.input=t,this.c=0,this.m=[],this.s=!1}A.prototype.l=function(t,e){var r=this.b,n=this.a;this.r=t;for(var i,a,s,h,o=r.length-258;256!==(i=$(this,t));)if(256>i)n>=o&&(this.a=n,r=this.e(),n=this.a),r[n++]=i;else for(h=S[a=i-257],0<C[a]&&(h+=B(this,C[a])),i=$(this,e),s=z[i],0<N[i]&&(s+=B(this,N[i])),n>=o&&(this.a=n,r=this.e(),n=this.a);h--;)r[n]=r[n++-s];for(;8<=this.d;)this.d-=8,this.c--;this.a=n},A.prototype.D=function(t,e){var r=this.b,n=this.a;this.r=t;for(var i,a,s,h,o=r.length;256!==(i=$(this,t));)if(256>i)n>=o&&(o=(r=this.e()).length),r[n++]=i;else for(h=S[a=i-257],0<C[a]&&(h+=B(this,C[a])),i=$(this,e),s=z[i],0<N[i]&&(s+=B(this,N[i])),n+h>o&&(o=(r=this.e()).length);h--;)r[n]=r[n++-s];for(;8<=this.d;)this.d-=8,this.c--;this.a=n},A.prototype.e=function(){var t,e,r=new(u?Uint8Array:Array)(this.a-32768),n=this.a-32768,i=this.b;if(u)r.set(i.subarray(32768,r.length));else for(t=0,e=r.length;t<e;++t)r[t]=i[t+32768];if(this.i.push(r),this.n+=r.length,u)i.set(i.subarray(n,n+32768));else for(t=0;32768>t;++t)i[t]=i[n+t];return this.a=32768,i},A.prototype.F=function(t){var e,r,n,i=this.input.length/this.c+1|0,a=this.input,s=this.b;return t&&("number"==typeof t.t&&(i=t.t),"number"==typeof t.A&&(i+=t.A)),2>i?r=(n=(a.length-this.c)/this.r[2]/2*258|0)<s.length?s.length+n:s.length<<1:r=s.length*i,u?(e=new Uint8Array(r)).set(s):e=s,this.b=e},A.prototype.q=function(){var t,e,r,n,i,a=0,s=this.b,h=this.i,o=new(u?Uint8Array:Array)(this.n+(this.a-32768));if(0===h.length)return u?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(e=0,r=h.length;e<r;++e)for(n=0,i=(t=h[e]).length;n<i;++n)o[a++]=t[n];for(e=32768,r=this.a;e<r;++e)o[a++]=s[e];return this.i=[],this.buffer=o},A.prototype.B=function(){var t,e=this.a;return u?this.z?(t=new Uint8Array(e)).set(this.b.subarray(0,e)):t=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),t=this.b),this.buffer=t},V.prototype.G=function(){return this.s||this.g(),this.m.slice()},V.prototype.g=function(){for(var t=this.input.length;this.c<t;){var e,r,n=new y,i=h,a=h,o=h,c=h,l=h,f=h,p=h,g=this.input,v=this.c;switch(n.u=g[v++],n.v=g[v++],(31!==n.u||139!==n.v)&&s(Error("invalid file signature:"+n.u+","+n.v)),n.p=g[v++],n.p){case 8:break;default:s(Error("unknown compression method: "+n.p))}if(n.h=g[v++],r=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24,n.I=new Date(1e3*r),n.O=g[v++],n.N=g[v++],0<(4&n.h)&&(n.J=g[v++]|g[v++]<<8,v+=n.J),0<(8&n.h)){for(f=[],l=0;0<(c=g[v++]);)f[l++]=String.fromCharCode(c);n.name=f.join("")}if(0<(16&n.h)){for(f=[],l=0;0<(c=g[v++]);)f[l++]=String.fromCharCode(c);n.K=f.join("")}0<(2&n.h)&&(n.C=65535&d(g,0,v),n.C!==(g[v++]|g[v++]<<8)&&s(Error("invalid header crc16"))),i=g[g.length-4]|g[g.length-3]<<8|g[g.length-2]<<16|g[g.length-1]<<24,g.length-v-4-4<512*i&&(o=i),a=new A(g,{index:v,bufferSize:o}),n.data=e=a.g(),v=a.c,n.L=p=(g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24)>>>0,d(e,h,h)!==p&&s(Error("invalid CRC-32 checksum: 0x"+d(e,h,h).toString(16)+" / 0x"+p.toString(16))),n.M=i=(g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24)>>>0,(4294967295&e.length)!==i&&s(Error("invalid input size: "+(4294967295&e.length)+" / "+i)),this.m.push(n),this.c=v}this.s=!0;var b,w,m,x=this.m,I=0,E=0;for(b=0,w=x.length;b<w;++b)E+=x[b].data.length;if(u)for(m=new Uint8Array(E),b=0;b<w;++b)m.set(x[b].data,I),I+=x[b].data.length;else{for(m=[],b=0;b<w;++b)m[b]=x[b].data;m=Array.prototype.concat.apply([],m)}return m},c("Zlib.Gunzip",V),c("Zlib.Gunzip.prototype.decompress",V.prototype.g),c("Zlib.Gunzip.prototype.getMembers",V.prototype.G);var W=o.Zlib,Z=function(t,e,r){var n=this;this.volume=t,e=e||0,Object.defineProperty(this,"index",{get:function(){return e},set:function(t){return e=t,n.geometryNeedsUpdate=!0,e}}),this.axis=r||"z",this.canvas=document.createElement("canvas"),this.canvasBuffer=document.createElement("canvas"),this.updateGeometry();var i=new a._72(this.canvas);i.minFilter=a._5,i.wrapS=i.wrapT=a.n;var s=new a._17({map:i,side:a.C,transparent:!0});this.mesh=new a._16(this.geometry,s),this.mesh.matrixAutoUpdate=!1,this.geometryNeedsUpdate=!0,this.repaint()};Z.prototype={constructor:Z,repaint:function(){this.geometryNeedsUpdate&&this.updateGeometry();var t=this.iLength,e=this.jLength,r=this.sliceAccess,n=this.volume,i=this.canvasBuffer,a=this.ctxBuffer,s=a.getImageData(0,0,t,e),h=s.data,o=n.data,c=n.upperThreshold,l=n.lowerThreshold,u=n.windowLow,f=n.windowHigh,d=0;if("label"===n.dataType)for(var p=0;p<e;p++)for(var g=0;g<t;g++){var y=o[r(g,p)];y=y>=this.colorMap.length?y%this.colorMap.length+1:y;var v=this.colorMap[y];h[4*d]=v>>24&255,h[4*d+1]=v>>16&255,h[4*d+2]=v>>8&255,h[4*d+3]=255&v,d++}else for(p=0;p<e;p++)for(g=0;g<t;g++){var b=o[r(g,p)],w=255;w=c>=b&&l<=b?w:0,b=(b=Math.floor(255*(b-u)/(f-u)))>255?255:b<0?0:0|b,h[4*d]=b,h[4*d+1]=b,h[4*d+2]=b,h[4*d+3]=w,d++}a.putImageData(s,0,0),this.ctx.drawImage(i,0,0,t,e,0,0,this.canvas.width,this.canvas.height),this.mesh.material.map.needsUpdate=!0},updateGeometry:function(){var t=this.volume.extractPerpendicularPlane(this.axis,this.index);this.sliceAccess=t.sliceAccess,this.jLength=t.jLength,this.iLength=t.iLength,this.matrix=t.matrix,this.canvas.width=t.planeWidth,this.canvas.height=t.planeHeight,this.canvasBuffer.width=this.iLength,this.canvasBuffer.height=this.jLength,this.ctx=this.canvas.getContext("2d"),this.ctxBuffer=this.canvasBuffer.getContext("2d"),this.geometry&&this.geometry.dispose(),this.geometry=new a._37(t.planeWidth,t.planeHeight),this.mesh&&(this.mesh.geometry=this.geometry,this.mesh.matrix.identity(),this.mesh.applyMatrix4(this.matrix)),this.geometryNeedsUpdate=!1}};var q=function(t,e,r,n,i){if(arguments.length>0){switch(this.xLength=Number(t)||1,this.yLength=Number(e)||1,this.zLength=Number(r)||1,n){case"Uint8":case"uint8":case"uchar":case"unsigned char":case"uint8_t":this.data=new Uint8Array(i);break;case"Int8":case"int8":case"signed char":case"int8_t":this.data=new Int8Array(i);break;case"Int16":case"int16":case"short":case"short int":case"signed short":case"signed short int":case"int16_t":this.data=new Int16Array(i);break;case"Uint16":case"uint16":case"ushort":case"unsigned short":case"unsigned short int":case"uint16_t":this.data=new Uint16Array(i);break;case"Int32":case"int32":case"int":case"signed int":case"int32_t":this.data=new Int32Array(i);break;case"Uint32":case"uint32":case"uint":case"unsigned int":case"uint32_t":this.data=new Uint32Array(i);break;case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":throw"Error in Volume constructor : this type is not supported in JavaScript";case"Float32":case"float32":case"float":this.data=new Float32Array(i);break;case"Float64":case"float64":case"double":this.data=new Float64Array(i);break;default:this.data=new Uint8Array(i)}if(this.data.length!==this.xLength*this.yLength*this.zLength)throw"Error in Volume constructor, lengths are not matching arrayBuffer size"}this.spacing=[1,1,1],this.offset=[0,0,0],this.matrix=new a._14,this.matrix.identity();var s=-1/0;Object.defineProperty(this,"lowerThreshold",{get:function(){return s},set:function(t){s=t,this.sliceList.forEach(function(t){t.geometryNeedsUpdate=!0})}});var h=1/0;Object.defineProperty(this,"upperThreshold",{get:function(){return h},set:function(t){h=t,this.sliceList.forEach(function(t){t.geometryNeedsUpdate=!0})}}),this.sliceList=[]};q.prototype={constructor:q,getData:function(t,e,r){return this.data[r*this.xLength*this.yLength+e*this.xLength+t]},access:function(t,e,r){return r*this.xLength*this.yLength+e*this.xLength+t},reverseAccess:function(t){var e=Math.floor(t/(this.yLength*this.xLength)),r=Math.floor((t-e*this.yLength*this.xLength)/this.xLength);return[t-e*this.yLength*this.xLength-r*this.xLength,r,e]},map:function(t,e){var r=this.data.length;e=e||this;for(var n=0;n<r;n++)this.data[n]=t.call(e,this.data[n],n,this.data);return this},extractPerpendicularPlane:function(t,e){var r,n,i,s,h,o,c,l,u=(new a._15).identity(),f=this,d=new a._84,p=new a._84,g=new a._84,y=new a._84(this.xLength,this.yLength,this.zLength);switch(t){case"x":d.set(1,0,0),p.set(0,0,-1),g.set(0,-1,0),h=this.spacing[2],o=this.spacing[1],l=new a._84(e,0,0),u.multiply((new a._15).makeRotationY(Math.PI/2)),c=(f.RASDimensions[0]-1)/2,u.setPosition(new a._84(e-c,0,0));break;case"y":d.set(0,1,0),p.set(1,0,0),g.set(0,0,1),h=this.spacing[0],o=this.spacing[2],l=new a._84(0,e,0),u.multiply((new a._15).makeRotationX(-Math.PI/2)),c=(f.RASDimensions[1]-1)/2,u.setPosition(new a._84(0,e-c,0));break;case"z":default:d.set(0,0,1),p.set(1,0,0),g.set(0,-1,0),h=this.spacing[0],o=this.spacing[1],l=new a._84(0,0,e),c=(f.RASDimensions[2]-1)/2,u.setPosition(new a._84(0,0,e-c))}p.applyMatrix4(f.inverseMatrix).normalize(),p.argVar="i",g.applyMatrix4(f.inverseMatrix).normalize(),g.argVar="j",d.applyMatrix4(f.inverseMatrix).normalize(),r=Math.floor(Math.abs(p.dot(y))),n=Math.floor(Math.abs(g.dot(y))),i=Math.abs(r*h),s=Math.abs(n*o),l=Math.abs(Math.round(l.applyMatrix4(f.inverseMatrix).dot(d)));var v=[new a._84(1,0,0),new a._84(0,1,0),new a._84(0,0,1)],b=[p,g,d].find(function(t){return Math.abs(t.dot(v[0]))>.9}),w=[p,g,d].find(function(t){return Math.abs(t.dot(v[1]))>.9}),m=[p,g,d].find(function(t){return Math.abs(t.dot(v[2]))>.9});return{iLength:r,jLength:n,sliceAccess:function(t,e){var r=b===d?l:"i"===b.argVar?t:e,n=w===d?l:"i"===w.argVar?t:e,i=m===d?l:"i"===m.argVar?t:e,a=b.dot(v[0])>0?r:f.xLength-1-r,s=w.dot(v[1])>0?n:f.yLength-1-n,h=m.dot(v[2])>0?i:f.zLength-1-i;return f.access(a,s,h)},matrix:u,planeWidth:i,planeHeight:s}},extractSlice:function(t,e){var r=new Z(this,e,t);return this.sliceList.push(r),r},repaintAllSlices:function(){return this.sliceList.forEach(function(t){t.repaint()}),this},computeMinMax:function(){var t=1/0,e=-1/0,r=this.data.length,n=0;for(n=0;n<r;n++)if(!isNaN(this.data[n])){var i=this.data[n];t=Math.min(t,i),e=Math.max(e,i)}return this.min=t,this.max=e,[t,e]}};var Y=function(t){a._8.call(this,t)};Y.prototype=Object.assign(Object.create(a._8.prototype),{constructor:Y,load:function(t,e,r,n){var i=this,s=new a.H(i.manager);s.setPath(i.path),s.setResponseType("arraybuffer"),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(t,function(r){try{e(i.parse(r))}catch(e){n?n(e):console.error(e),i.manager.itemError(t)}},r,n)},parse:function(t){var e=t,r=0,n=new Int8Array(new Int16Array([1]).buffer)[0]>0,i=!0,s={};var h=function(t,a){void 0!==a&&null!==a||(a=1);var s=1,h=Uint8Array;switch(t){case"uchar":break;case"schar":h=Int8Array;break;case"ushort":h=Uint16Array,s=2;break;case"sshort":h=Int16Array,s=2;break;case"uint":h=Uint32Array,s=4;break;case"sint":h=Int32Array,s=4;break;case"float":h=Float32Array,s=4;break;case"complex":case"double":h=Float64Array,s=8}var o=new h(e.slice(r,r+=a*s));return n!=i&&(o=function(t,e){for(var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=0;n<t.byteLength;n+=e)for(var i=n+e-1,a=n;i>a;i--,a++){var s=r[a];r[a]=r[i],r[i]=s}return t}(o,s)),1==a?o[0]:o}("uchar",t.byteLength),o=h.length,c=null,l=0;for(d=1;d<o;d++)if(10==h[d-1]&&10==h[d]){c=this.parseChars(h,0,d-2),l=d+1;break}!function(t){var e,r,n,i,h,o,c,l,u;for(l=0,u=(o=t.split(/\r?\n/)).length;l<u;l++)(h=o[l]).match(/NRRD\d+/)?s.isNrrd=!0:h.match(/^#/)||(c=h.match(/(.*):(.*)/))&&(r=c[1].trim(),e=c[2].trim(),(n=Y.prototype.fieldFunctions[r])?n.call(s,e):s[r]=e);if(!s.isNrrd)throw new Error("Not an NRRD file");if("bz2"===s.encoding||"bzip2"===s.encoding)throw new Error("Bzip is not supported");if(!s.vectors&&(s.vectors=[new a._84(1,0,0),new a._84(0,1,0),new a._84(0,0,1)],s.spacings))for(i=0;i<=2;i++)isNaN(s.spacings[i])||s.vectors[i].multiplyScalar(s.spacings[i])}(c);e=h.subarray(l);if("gzip"===s.encoding||"gz"===s.encoding){var u=new W.Gunzip(new Uint8Array(e));e=u.decompress()}else if("ascii"===s.encoding||"text"===s.encoding||"txt"===s.encoding||"hex"===s.encoding)e=function(t,e,r){var n,i="";e=e||0,r=r||t.length;var a=s.sizes.reduce(function(t,e){return t*e},1),h=10;"hex"===s.encoding&&(h=16);var o=new s.__array(a),c=0,l=parseInt;s.__array!==Float32Array&&s.__array!==Float64Array||(l=parseFloat);for(var u=e;u<r;u++)((n=t[u])<9||n>13)&&32!==n?i+=String.fromCharCode(n):(""!==i&&(o[c]=l(i,h),c++),i="");return""!==i&&(o[c]=l(i,h),c++),o}(e);else if("raw"===s.encoding){for(var f=new Uint8Array(e.length),d=0;d<e.length;d++)f[d]=e[d];e=f}e=e.buffer;var p=new q;p.header=s,p.data=new s.__array(e);var g=p.computeMinMax(),y=g[0],v=g[1];p.windowLow=y,p.windowHigh=v,p.dimensions=[s.sizes[0],s.sizes[1],s.sizes[2]],p.xLength=p.dimensions[0],p.yLength=p.dimensions[1],p.zLength=p.dimensions[2];var b=new a._84(s.vectors[0][0],s.vectors[0][1],s.vectors[0][2]).length(),w=new a._84(s.vectors[1][0],s.vectors[1][1],s.vectors[1][2]).length(),m=new a._84(s.vectors[2][0],s.vectors[2][1],s.vectors[2][2]).length();p.spacing=[b,w,m],p.matrix=new a._15;var A=1,x=1;if("left-posterior-superior"==s.space?(A=-1,x=-1):"left-anterior-superior"===s.space&&(A=-1),s.vectors){var I=s.vectors;p.matrix.set(A*I[0][0],A*I[1][0],A*I[2][0],0,x*I[0][1],x*I[1][1],x*I[2][1],0,1*I[0][2],1*I[1][2],1*I[2][2],0,0,0,0,1)}else p.matrix.set(A,0,0,0,0,x,0,0,0,0,1,0,0,0,0,1);return p.inverseMatrix=new a._15,p.inverseMatrix.copy(p.matrix).invert(),p.RASDimensions=new a._84(p.xLength,p.yLength,p.zLength).applyMatrix4(p.matrix).round().toArray().map(Math.abs),p.lowerThreshold===-1/0&&(p.lowerThreshold=y),p.upperThreshold===1/0&&(p.upperThreshold=v),p},parseChars:function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length);var n="",i=0;for(i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n},fieldFunctions:{type:function(t){switch(t){case"uchar":case"unsigned char":case"uint8":case"uint8_t":this.__array=Uint8Array;break;case"signed char":case"int8":case"int8_t":this.__array=Int8Array;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":this.__array=Int16Array;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":this.__array=Uint16Array;break;case"int":case"signed int":case"int32":case"int32_t":this.__array=Int32Array;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":this.__array=Uint32Array;break;case"float":this.__array=Float32Array;break;case"double":this.__array=Float64Array;break;default:throw new Error("Unsupported NRRD data type: "+t)}return this.type=t},endian:function(t){return this.endian=t},encoding:function(t){return this.encoding=t},dimension:function(t){return this.dim=parseInt(t,10)},sizes:function(t){var e;return this.sizes=function(){var r,n,i,a;for(a=[],r=0,n=(i=t.split(/\s+/)).length;r<n;r++)e=i[r],a.push(parseInt(e,10));return a}()},space:function(t){return this.space=t},"space origin":function(t){return this.space_origin=t.split("(")[1].split(")")[0].split(",")},"space directions":function(t){var e,r,n;return r=t.match(/\(.*?\)/g),this.vectors=function(){var t,i,a;for(a=[],t=0,i=r.length;t<i;t++)n=r[t],a.push(function(){var t,r,i,a;for(a=[],t=0,r=(i=n.slice(1,-1).split(/,/)).length;t<r;t++)e=i[t],a.push(parseFloat(e));return a}());return a}()},spacings:function(t){var e,r;return r=t.split(/\s+/),this.spacings=function(){var t,n,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(parseFloat(e));return i}()}}});var X=r("9icu"),J=function(t){a._8.call(this,t)};J.prototype=Object.assign(Object.create(a._8.prototype),{constructor:J,load:function(t,e,r,n){var i=this,s=new a.H(i.manager);s.setPath(i.path),s.setResponseType("arraybuffer"),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(t,function(r){try{e(i.parse(r))}catch(e){n?n(e):console.error(e),i.manager.itemError(t)}},r,n)},parse:function(t){function e(t,e){var r=t.length,n=new Int32Array(r+e.length);return n.set(t),n.set(e,r),n}var r=a._9.decodeText(new Uint8Array(t,0,250)).split("\n");return-1!==r[0].indexOf("xml")?function(t){function r(t){var e,r,n,i,a,s,h="undefined"!=typeof Uint8Array?Uint8Array:Array,o=[],c=[],l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=l.length;for(e=0;e<u;e++)o[e]=l[e];for(e=0;e<u;++e)c[l.charCodeAt(e)]=e;if(c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63,(u=t.length)%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=new h(3*u/4-(a="="===t[u-2]?2:"="===t[u-1]?1:0)),n=a>0?u-4:u;var f=0;for(e=0,r=0;e<n;e+=4,r+=3)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[f++]=(16711680&i)>>16,s[f++]=(65280&i)>>8,s[f++]=255&i;return 2===a?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[f++]=255&i):1===a&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[f++]=i>>8&255,s[f++]=255&i),s}function n(t,n){var i,a,h,o,c=0;if("UInt64"===s.attributes.header_type?c=8:"UInt32"===s.attributes.header_type&&(c=4),"binary"===t.attributes.format&&n){var l,u,f,d,p,g;if("Float32"===t.attributes.type)var y=new Float32Array;else"Int64"===t.attributes.type&&(y=new Int32Array);u=(l=r(t["#text"]))[0];for(var v=1;v<c-1;v++)u|=l[v]<<v*c;for(d=(u+3)*c,g=d+=d%3>0?3-d%3:0,(p=[]).push(g),f=3*c,v=0;v<u;v++){for(var b=l[v*c+f],w=1;w<c-1;w++)b|=l[v*c+f+w]<<8*w;g+=b,p.push(g)}for(v=0;v<p.length-1;v++)m=(m=new X.a(l.slice(p[v],p[v+1]),{resize:!0,verify:!0}).decompress()).buffer,"Float32"===t.attributes.type?(m=new Float32Array(m),a=m,o=void 0,h=(i=y).length,(o=new Float32Array(h+a.length)).set(i),o.set(a,h),y=o):"Int64"===t.attributes.type&&(y=e(y,m=new Int32Array(m)));delete t["#text"],"Int64"===t.attributes.type&&"binary"===t.attributes.format&&(y=y.filter(function(t,e){if(e%2!=1)return!0}))}else{if("binary"!==t.attributes.format||n)if(t["#text"])var m=t["#text"].split(/\s+/).filter(function(t){if(""!==t)return t});else m=new Int32Array(0).buffer;else m=(m=r(t["#text"])).slice(c).buffer;delete t["#text"],"Float32"===t.attributes.type?y=new Float32Array(m):"Int32"===t.attributes.type?y=new Int32Array(m):"Int64"===t.attributes.type&&(y=new Int32Array(m),"binary"===t.attributes.format&&(y=y.filter(function(t,e){if(e%2!=1)return!0})))}return y}var i=null;if(window.DOMParser)try{i=(new DOMParser).parseFromString(t,"text/xml")}catch(t){i=null}else{if(!window.ActiveXObject)throw new Error("Cannot parse xml string!");try{if((i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,!i.loadXML())throw new Error(i.parseError.reason+i.parseError.srcText)}catch(t){i=null}}var s=function t(e){var r={};if(1===e.nodeType){if(e.attributes&&e.attributes.length>0){r.attributes={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);r.attributes[i.nodeName]=i.nodeValue.trim()}}}else 3===e.nodeType&&(r=e.nodeValue.trim());if(e.hasChildNodes())for(var a=0;a<e.childNodes.length;a++){var s=e.childNodes.item(a),h=s.nodeName;if(void 0===r[h])""!==(c=t(s))&&(r[h]=c);else{if(void 0===r[h].push){var o=r[h];r[h]=[o]}var c;""!==(c=t(s))&&r[h].push(c)}}return r}(i.documentElement),h=[],o=[],c=[];if(s.PolyData){for(var l=s.PolyData.Piece,u=s.attributes.hasOwnProperty("compressor"),f=["PointData","Points","Strips","Polys"],d=0,p=f.length;d<p;){var g=l[f[d]];if(g&&g.DataArray){if("[object Array]"===Object.prototype.toString.call(g.DataArray))var y=g.DataArray;else y=[g.DataArray];for(var v=0,b=y.length;v<b;)"#text"in y[v]&&y[v]["#text"].length>0&&(y[v].text=n(y[v],u)),v++;switch(f[d]){case"PointData":var w=parseInt(l.attributes.NumberOfPoints),m=g.attributes.Normals;if(w>0)for(var A=0,x=y.length;A<x;A++)if(m===y[A].attributes.Name){var I=y[A].attributes.NumberOfComponents;(o=new Float32Array(w*I)).set(y[A].text,0)}break;case"Points":(w=parseInt(l.attributes.NumberOfPoints))>0&&(I=g.DataArray.attributes.NumberOfComponents,(h=new Float32Array(w*I)).set(g.DataArray.text,0));break;case"Strips":var E=parseInt(l.attributes.NumberOfStrips);if(E>0){var _=new Int32Array(g.DataArray[0].text.length),k=new Int32Array(g.DataArray[1].text.length);_.set(g.DataArray[0].text,0),k.set(g.DataArray[1].text,0);var L=E+_.length;c=new Uint32Array(3*L-9*E);var U=0;for(A=0,x=E;A<x;A++){for(var S=[],T=0,C=k[A],M=0;T<C-M;T++)S.push(_[T]),A>0&&(M=k[A-1]);var z=0;for(C=k[A],M=0;z<C-M-2;z++)z%2?(c[U++]=S[z],c[U++]=S[z+2],c[U++]=S[z+1]):(c[U++]=S[z],c[U++]=S[z+1],c[U++]=S[z+2]),A>0&&(M=k[A-1])}}break;case"Polys":var D=parseInt(l.attributes.NumberOfPolys);if(D>0){_=new Int32Array(g.DataArray[0].text.length),k=new Int32Array(g.DataArray[1].text.length),_.set(g.DataArray[0].text,0),k.set(g.DataArray[1].text,0),L=D+_.length,c=new Uint32Array(3*L-9*D),U=0;var N=0;for(A=0,x=D,M=0;A<x;){var R=[];for(T=0,C=k[A];T<C-M;)R.push(_[N++]),T++;for(z=1;z<C-M-1;)c[U++]=R[0],c[U++]=R[z],c[U++]=R[z+1],z++;M=k[++A-1]}}}}d++}var F=new a.k;return F.setIndex(new a.j(c,1)),F.setAttribute("position",new a.j(h,3)),o.length===h.length&&F.setAttribute("normal",new a.j(o,3)),F}throw new Error("Unsupported DATASET type")}(a._9.decodeText(t)):r[2].includes("ASCII")?function(t){var e,r=[],n=[],i=[],s=[],h=/^[^\d.\s-]+/,o=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,c=/^(\d+)\s+([\s\d]*)/,l=/^POINTS /,u=/^POLYGONS /,f=/^TRIANGLE_STRIPS /,d=/^POINT_DATA[ ]+(\d+)/,p=/^CELL_DATA[ ]+(\d+)/,g=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,y=/^NORMALS[ ]+(\w+)[ ]+(\w+)/,v=!1,b=!1,w=!1,m=!1,A=!1,x=!1,I=!1,E=t.split("\n");for(var _ in E){var k=E[_].trim();if(0===k.indexOf("DATASET")){var L=k.split(" ")[1];if("POLYDATA"!==L)throw new Error("Unsupported DATASET type: "+L)}else if(v)for(;null!==(e=o.exec(k))&&null===h.exec(k);){var U=parseFloat(e[1]),S=parseFloat(e[2]),T=parseFloat(e[3]);n.push(U,S,T)}else if(b){if(null!==(e=c.exec(k))){var C=parseInt(e[1]),M=e[2].split(/\s+/);if(C>=3)for(var z=parseInt(M[0]),D=1,N=0;N<C-2;++N)R=parseInt(M[D]),F=parseInt(M[D+1]),r.push(z,R,F),D++}}else if(w){if(null!==(e=c.exec(k))){var R,F;if(C=parseInt(e[1]),M=e[2].split(/\s+/),C>=3)for(N=0;N<C-2;N++)N%2==1?(z=parseInt(M[N]),R=parseInt(M[N+2]),F=parseInt(M[N+1]),r.push(z,R,F)):(z=parseInt(M[N]),R=parseInt(M[N+1]),F=parseInt(M[N+2]),r.push(z,R,F))}}else if(m||A)if(x)for(;null!==(e=o.exec(k))&&null===h.exec(k);){var P=parseFloat(e[1]),O=parseFloat(e[2]),j=parseFloat(e[3]);i.push(P,O,j)}else if(I)for(;null!==(e=o.exec(k))&&null===h.exec(k);){var H=parseFloat(e[1]),B=parseFloat(e[2]),$=parseFloat(e[3]);s.push(H,B,$)}null!==u.exec(k)?(b=!0,v=!1,w=!1):null!==l.exec(k)?(b=!1,v=!0,w=!1):null!==f.exec(k)?(b=!1,v=!1,w=!0):null!==d.exec(k)?(m=!0,v=!1,b=!1,w=!1):null!==p.exec(k)?(A=!0,v=!1,b=!1,w=!1):null!==g.exec(k)?(x=!0,I=!1,v=!1,b=!1,w=!1):null!==y.exec(k)&&(I=!0,x=!1,v=!1,b=!1,w=!1)}var G=new a.k;if(G.setIndex(r),G.setAttribute("position",new a.I(n,3)),s.length===n.length&&G.setAttribute("normal",new a.I(s,3)),i.length!==r.length)i.length===n.length&&G.setAttribute("color",new a.I(i,3));else{var V=(G=G.toNonIndexed()).attributes.position.count/3;if(i.length===3*V){var W=[];for(_=0;_<V;_++)P=i[3*_+0],O=i[3*_+1],j=i[3*_+2],W.push(P,O,j),W.push(P,O,j),W.push(P,O,j);G.setAttribute("color",new a.I(W,3))}}return G}(a._9.decodeText(t)):function(t){var e,r,n,i,s,h,o,c=new Uint8Array(t),l=new DataView(t),u=[],f=[],d=[],p=[],g=0;function y(t,e){for(var r=e,n=t[r],i=[];10!==n;)i.push(String.fromCharCode(n)),n=t[++r];return{start:e,end:r,next:r+1,parsedString:i.join("")}}for(;;){if(0===(o=(h=y(c,g)).parsedString).indexOf("DATASET")){var v=o.split(" ")[1];if("POLYDATA"!==v)throw new Error("Unsupported DATASET type: "+v)}else if(0===o.indexOf("POINTS")){for(p.push(o),e=4*(i=parseInt(o.split(" ")[1],10))*3,u=new Float32Array(3*i),r=h.next,n=0;n<i;n++)u[3*n]=l.getFloat32(r,!1),u[3*n+1]=l.getFloat32(r+4,!1),u[3*n+2]=l.getFloat32(r+8,!1),r+=12;h.next=h.next+e+1}else if(0===o.indexOf("TRIANGLE_STRIPS")){var b=parseInt(o.split(" ")[1],10);e=4*(I=parseInt(o.split(" ")[2],10)),d=new Uint32Array(3*I-9*b);var w=0;for(r=h.next,n=0;n<b;n++){var m=l.getInt32(r,!1),A=[];for(r+=4,s=0;s<m;s++)A.push(l.getInt32(r,!1)),r+=4;for(var x=0;x<m-2;x++)x%2?(d[w++]=A[x],d[w++]=A[x+2],d[w++]=A[x+1]):(d[w++]=A[x],d[w++]=A[x+1],d[w++]=A[x+2])}h.next=h.next+e+1}else if(0===o.indexOf("POLYGONS")){var I;for(b=parseInt(o.split(" ")[1],10),e=4*(I=parseInt(o.split(" ")[2],10)),d=new Uint32Array(3*I-9*b),w=0,r=h.next,n=0;n<b;n++){for(m=l.getInt32(r,!1),A=[],r+=4,s=0;s<m;s++)A.push(l.getInt32(r,!1)),r+=4;for(x=1;x<m-1;x++)d[w++]=A[0],d[w++]=A[x],d[w++]=A[x+1]}h.next=h.next+e+1}else if(0===o.indexOf("POINT_DATA")){for(i=parseInt(o.split(" ")[1],10),h=y(c,h.next),e=4*i*3,f=new Float32Array(3*i),r=h.next,n=0;n<i;n++)f[3*n]=l.getFloat32(r,!1),f[3*n+1]=l.getFloat32(r+4,!1),f[3*n+2]=l.getFloat32(r+8,!1),r+=12;h.next=h.next+e}if((g=h.next)>=c.byteLength)break}var E=new a.k;return E.setIndex(new a.j(d,1)),E.setAttribute("position",new a.j(u,3)),f.length===u.length&&E.setAttribute("normal",new a.j(f,3)),E}(t)}});var K={data:function(){return{container:null,stats:null,camera:null,controls:null,scene:null,renderer:null,container2:null,renderer2:null,camera2:null,axes2:null,scene2:null,gui:null}},mounted:function(){this.init(),this.animate()},beforeDestroy:function(){this.gui.hide()},methods:{init:function(){var t=this;this.camera=new this.$THREE.PerspectiveCamera(60,this.$webglInnerWidth/window.innerHeight,.01,1e10),this.camera.position.z=300,this.scene=new this.$THREE.Scene,this.scene.add(this.camera);var e=new this.$THREE.HemisphereLight(16777215,0,1);this.scene.add(e);var r=new this.$THREE.DirectionalLight(16777215,.5);r.position.set(200,200,200),this.scene.add(r),(new Y).load("static/models/nrrd/I.nrrd",function(e){var r=new t.$THREE.BoxBufferGeometry(e.xLength,e.yLength,e.zLength),n=new t.$THREE.MeshBasicMaterial({color:65280}),i=new t.$THREE.Mesh(r,n);i.visible=!1;var a=new t.$THREE.BoxHelper(i);t.scene.add(a),a.applyMatrix4(e.matrix),t.scene.add(i);var s=e.extractSlice("z",Math.floor(e.RASDimensions[2]/4));t.scene.add(s.mesh);var h=e.extractSlice("y",Math.floor(e.RASDimensions[1]/2));t.scene.add(h.mesh);var o=e.extractSlice("x",Math.floor(e.RASDimensions[0]/2));t.scene.add(o.mesh),t.gui.add(o,"index",0,e.RASDimensions[0],1).name("indexX").onChange(function(){o.repaint.call(o)}),t.gui.add(h,"index",0,e.RASDimensions[1],1).name("indexY").onChange(function(){h.repaint.call(h)}),t.gui.add(s,"index",0,e.RASDimensions[2],1).name("indexZ").onChange(function(){s.repaint.call(s)}),t.gui.add(e,"lowerThreshold",e.min,e.max,1).name("Lower Threshold").onChange(function(){e.repaintAllSlices()}),t.gui.add(e,"upperThreshold",e.min,e.max,1).name("Upper Threshold").onChange(function(){e.repaintAllSlices()}),t.gui.add(e,"windowLow",e.min,e.max,1).name("Window Low").onChange(function(){e.repaintAllSlices()}),t.gui.add(e,"windowHigh",e.min,e.max,1).name("Window High").onChange(function(){e.repaintAllSlices()})});var a=new this.$THREE.MeshLambertMaterial({wireframe:!1,morphTargets:!1,side:this.$THREE.DoubleSide,color:16711680});(new J).load("static/models/vtk/liver.vtk",function(e){e.computeVertexNormals();var r=new t.$THREE.Mesh(e,a);t.scene.add(r);var n={visible:!0};t.gui.add(n,"visible").name("Model Visible").onChange(function(){r.visible=n.visible,t.renderer.render(t.scene,t.camera)})}),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container=document.createElement("div"),document.getElementsByClassName("webglLoaderNrrd-container")[0].appendChild(this.container),this.container.appendChild(this.renderer.domElement),this.controls=new i.a(this.camera,this.renderer.domElement),this.controls.minDistance=100,this.controls.maxDistance=500,this.controls.rotateSpeed=5,this.controls.zoomSpeed=5,this.controls.panSpeed=2,this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),this.gui=new n.a,this.setupInset(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.controls.handleResize()},animate:function(){requestAnimationFrame(this.animate),this.controls.update(),this.camera2.position.copy(this.camera.position),this.camera2.position.sub(this.controls.target),this.camera2.position.setLength(300),this.camera2.lookAt(this.scene2.position),this.renderer.render(this.scene,this.camera),this.renderer2.render(this.scene2,this.camera2),this.stats.update()},setupInset:function(){this.container2=document.getElementById("inset"),this.container2.width=150,this.container2.height=150,this.renderer2=new this.$THREE.WebGLRenderer({alpha:!0}),this.renderer2.setClearColor(0,0),this.renderer2.setSize(150,150),this.container2.appendChild(this.renderer2.domElement),this.scene2=new this.$THREE.Scene,this.camera2=new this.$THREE.PerspectiveCamera(50,1,1,1e3),this.camera2.up=this.camera.up,this.axes2=new this.$THREE.AxesHelper(100),this.scene2.add(this.axes2)}}},Q={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglLoaderNrrd-container"},[e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" -\n\t\t\tNRRD format loader test\n\t\t")]),this._v(" "),e("div",{attrs:{id:"inset"}})])}]};var tt=r("VU/8")(K,Q,!1,function(t){r("5CSs")},"data-v-065a4538",null);e.default=tt.exports}});
//# sourceMappingURL=17.4068f1cba6a128f783f5.js.map