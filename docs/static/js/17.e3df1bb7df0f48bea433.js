webpackJsonp([17],{CRIQ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("QEtz"),r=s("85s5"),i=s("Z9IJ"),n=s("YsLa"),h=s("6+nK"),o=s("Ah8h"),c=function(e,t,s){o.a.call(this),this.camera=e,this.needsSwap=!1,this.cubeShader=h._78.cube,this.cubeMesh=new h._29(new h.k(10,10,10),new h._79({uniforms:this.cubeShader.uniforms,vertexShader:this.cubeShader.vertexShader,fragmentShader:this.cubeShader.fragmentShader,depthTest:!1,depthWrite:!1,side:h.g})),Object.defineProperty(this.cubeMesh.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),this.envMap=t,this.opacity=void 0!==s?s:1,this.cubeScene=new h._76,this.cubeCamera=new h._51,this.cubeScene.add(this.cubeMesh)};c.prototype=Object.assign(Object.create(o.a.prototype),{constructor:c,render:function(e,t,s){var a=e.autoClear;e.autoClear=!1,this.cubeCamera.projectionMatrix.copy(this.camera.projectionMatrix),this.cubeCamera.quaternion.setFromRotationMatrix(this.camera.matrixWorld),this.cubeMesh.material.uniforms.envMap.value=this.envMap,this.cubeMesh.material.uniforms.opacity.value=this.opacity,this.cubeMesh.material.transparent=this.opacity<1,e.setRenderTarget(this.renderToScreen?null:s),this.clear&&e.clear(),e.render(this.cubeScene,this.cubeCamera),e.autoClear=a}});var u=s("fD1D"),l=s("K9oZ"),d=s("fcDU"),p=s("wIBv"),m={data:function(){return{scene:null,renderer:null,composer:null,clearPass:null,texturePass:null,renderPass:null,cameraP:null,cubeTexturePassP:null,gui:null,stats:null,params:{clearPass:!0,clearColor:"white",clearAlpha:1,texturePass:!0,texturePassOpacity:1,cubeTexturePass:!0,cubeTexturePassOpacity:1,renderPass:!0}}},mounted:function(){this.init(),this.animate(),this.clearGui()},beforeDestroy:function(){this.gui.destroy()},methods:{clearGui:function(){this.gui&&this.gui.destroy(),this.gui=new a.a,this.gui.add(this.params,"clearPass"),this.gui.add(this.params,"clearColor",["black","white","blue","green","red"]),this.gui.add(this.params,"clearAlpha",0,1),this.gui.add(this.params,"texturePass"),this.gui.add(this.params,"texturePassOpacity",0,1),this.gui.add(this.params,"cubeTexturePass"),this.gui.add(this.params,"cubeTexturePassOpacity",0,1),this.gui.add(this.params,"renderPass"),this.gui.open()},init:function(){var e=this,t=document.getElementById("container"),s=this.$webglInnerWidth||1,a=window.innerHeight||1,h=s/a,o=window.devicePixelRatio||1;this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(o),this.renderer.setSize(s,a),document.getElementsByClassName("webglPostprocessingBackgrounds-container")[0].appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",t.appendChild(this.stats.dom),this.cameraP=new this.$THREE.PerspectiveCamera(65,h,1,10),this.cameraP.position.z=7,this.scene=new this.$THREE.Scene;var m=new this.$THREE.Group;this.scene.add(m);var P=new this.$THREE.PointLight(14548957,1);P.position.z=70,P.position.y=-70,P.position.x=-70,this.scene.add(P);var b=new this.$THREE.PointLight(16768477,1);b.position.z=70,b.position.x=-70,b.position.y=70,this.scene.add(b);var w=new this.$THREE.PointLight(14540287,1);w.position.z=70,w.position.x=70,w.position.y=-70,this.scene.add(w);var g=new this.$THREE.SphereBufferGeometry(1,48,24),x=new this.$THREE.MeshStandardMaterial;x.roughness=.5*Math.random()+.25,x.metalness=0,x.color.setHSL(Math.random(),1,.3);var v=new this.$THREE.Mesh(g,x);m.add(v);this.composer=new r.a(this.renderer),this.clearPass=new l.a(this.params.clearColor,this.params.clearAlpha),this.composer.addPass(this.clearPass),this.texturePass=new n.a,this.composer.addPass(this.texturePass),(new this.$THREE.TextureLoader).load("textures/hardwood2_diffuse.jpg",function(t){e.texturePass.map=t}),this.cubeTexturePassP=null;var f,T,C=[(f="textures/cube/pisa/")+"px"+(T=".png"),f+"nx"+T,f+"py"+T,f+"ny"+T,f+"pz"+T,f+"nz"+T];(new this.$THREE.CubeTextureLoader).load(C,function(t){e.cubeTexturePassP=new c(e.cameraP,t),e.composer.insertPass(e.cubeTexturePassP,2)}),this.renderPass=new i.a(this.scene,this.cameraP),this.renderPass.clear=!1,this.composer.addPass(this.renderPass);var y=new u.a(d.a);this.composer.addPass(y),new p.b(this.cameraP,this.renderer.domElement).enableZoom=!1,window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){var e=window.innerWidth-281,t=window.innerHeight,s=e/t;this.cameraP.aspect=s,this.cameraP.updateProjectionMatrix(),this.renderer.setSize(e,t),this.composer.setSize(e,t)},animate:function(){requestAnimationFrame(this.animate),this.stats.begin(),this.cameraP.updateMatrixWorld(!0);var e=this.clearPass.clearColor;switch(this.params.clearColor){case"blue":e=255;break;case"red":e=16711680;break;case"green":e=65280;break;case"white":e=16777215;break;case"black":e=0}this.clearPass.enabled=this.params.clearPass,this.clearPass.clearColor=e,this.clearPass.clearAlpha=this.params.clearAlpha,this.texturePass.enabled=this.params.texturePass,this.texturePass.opacity=this.params.texturePassOpacity,null!==this.cubeTexturePassP&&(this.cubeTexturePassP.enabled=this.params.cubeTexturePass,this.cubeTexturePassP.opacity=this.params.cubeTexturePassOpacity),this.renderPass.enabled=this.params.renderPass,this.composer.render(),this.stats.end()}}},P={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglPostprocessingBackgrounds-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - Backgrounds: ClearPass, TexturePass and CubeTexturePass"),t("br"),this._v("\n\t\t\tby "),t("a",{attrs:{href:"https://clara.io",target:"_blank",rel:"noopener"}},[this._v("Ben Houston")])]),this._v(" "),t("div",{attrs:{id:"container"}})])}]};var b=s("VU/8")(m,P,!1,function(e){s("suO1")},"data-v-2c2eb772",null);t.default=b.exports},K9oZ:function(e,t,s){"use strict";s.d(t,"a",function(){return r});var a=s("Ah8h"),r=function(e,t){a.a.call(this),this.needsSwap=!1,this.clearColor=void 0!==e?e:0,this.clearAlpha=void 0!==t?t:0};r.prototype=Object.assign(Object.create(a.a.prototype),{constructor:r,render:function(e,t,s){var a,r;this.clearColor&&(a=e.getClearColor().getHex(),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.setRenderTarget(this.renderToScreen?null:s),e.clear(),this.clearColor&&e.setClearColor(a,r)}})},suO1:function(e,t){}});
//# sourceMappingURL=17.e3df1bb7df0f48bea433.js.map