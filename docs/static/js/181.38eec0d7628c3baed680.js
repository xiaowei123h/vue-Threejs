webpackJsonp([181],{HoCA:function(e,t){},sgsE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{renderer:null,scene:null,camera:null,stats:null,pointclouds:null,raycaster:null,intersection:null,spheresIndex:0,clock:null,toggle:0,mouse:null,spheres:[],threshold:.1,pointSize:.05,width:80,length:160,rotateY:null}},mounted:function(){this.mouse=new this.$THREE.Vector2,this.rotateY=(new this.$THREE.Matrix4).makeRotationY(.005),this.init(),this.animate()},methods:{generatePointCloudGeometry:function(e,t,i){for(var s=new this.$THREE.BufferGeometry,n=t*i,r=new Float32Array(3*n),o=new Float32Array(3*n),a=0,h=0;h<t;h++)for(var l=0;l<i;l++){var c=h/t,d=l/i,u=c-.5,E=(Math.cos(c*Math.PI*4)+Math.sin(d*Math.PI*8))/20,p=d-.5;r[3*a]=u,r[3*a+1]=E,r[3*a+2]=p;var w=5*(E+.1);o[3*a]=e.r*w,o[3*a+1]=e.g*w,o[3*a+2]=e.b*w,a++}return s.setAttribute("position",new this.$THREE.BufferAttribute(r,3)),s.setAttribute("color",new this.$THREE.BufferAttribute(o,3)),s.computeBoundingBox(),s},generatePointcloud:function(e,t,i){var s=this.generatePointCloudGeometry(e,t,i),n=new this.$THREE.PointsMaterial({size:this.pointSize,vertexColors:!0});return new this.$THREE.Points(s,n)},generateIndexedPointcloud:function(e,t,i){for(var s=this.generatePointCloudGeometry(e,t,i),n=new Uint16Array(t*i),r=0,o=0;o<t;o++)for(var a=0;a<i;a++)n[r]=r,r++;s.setIndex(new this.$THREE.BufferAttribute(n,1));var h=new this.$THREE.PointsMaterial({size:this.pointSize,vertexColors:!0});return new this.$THREE.Points(s,h)},generateIndexedWithOffsetPointcloud:function(e,t,i){for(var s=this.generatePointCloudGeometry(e,t,i),n=new Uint16Array(t*i),r=0,o=0;o<t;o++)for(var a=0;a<i;a++)n[r]=r,r++;s.setIndex(new this.$THREE.BufferAttribute(n,1)),s.addGroup(0,n.length);var h=new this.$THREE.PointsMaterial({size:this.pointSize,vertexColors:!0});return new this.$THREE.Points(s,h)},init:function(){var e=document.getElementById("container");this.scene=new this.$THREE.Scene,this.clock=new this.$THREE.Clock,this.camera=new this.$THREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,1,1e4),this.camera.position.set(10,10,10),this.camera.lookAt(this.scene.position),this.camera.updateMatrix();var t=this.generatePointcloud(new this.$THREE.Color(1,0,0),this.width,this.length);t.scale.set(5,10,10),t.position.set(-5,0,0),this.scene.add(t);var i=this.generateIndexedPointcloud(new this.$THREE.Color(0,1,0),this.width,this.length);i.scale.set(5,10,10),i.position.set(0,0,0),this.scene.add(i);var s=this.generateIndexedWithOffsetPointcloud(new this.$THREE.Color(0,1,1),this.width,this.length);s.scale.set(5,10,10),s.position.set(5,0,0),this.scene.add(s),this.pointclouds=[t,i,s];for(var n=new this.$THREE.SphereBufferGeometry(.1,32,32),r=new this.$THREE.MeshBasicMaterial({color:16711680}),o=0;o<40;o++){var a=new this.$THREE.Mesh(n,r);this.scene.add(a),this.spheres.push(a)}this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),e.appendChild(this.renderer.domElement),this.raycaster=new this.$THREE.Raycaster,this.raycaster.params.Points.threshold=this.threshold,this.stats=new this.$Stats,this.stats.dom.style.left="280px",e.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1),document.addEventListener("mousemove",this.onDocumentMouseMove,!1)},onDocumentMouseMove:function(e){e.preventDefault(),this.mouse.x=(e.clientX-281)/(window.innerWidth-281)*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){this.camera.applyMatrix4(this.rotateY),this.camera.updateMatrixWorld(),this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.pointclouds);this.intersection=e.length>0?e[0]:null,this.toggle>.02&&null!==this.intersection&&(this.spheres[this.spheresIndex].position.copy(this.intersection.point),this.spheres[this.spheresIndex].scale.set(1,1,1),this.spheresIndex=(this.spheresIndex+1)%this.spheres.length,this.toggle=0);for(var t=0;t<this.spheres.length;t++){var i=this.spheres[t];i.scale.multiplyScalar(.98),i.scale.clampScalar(.01,1)}this.toggle+=this.clock.getDelta(),this.renderer.render(this.scene,this.camera)}}},n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglInteractiveRaycastingPoints-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" webgl - interactive - raycasting - points ")])])}]};var r=i("VU/8")(s,n,!1,function(e){i("HoCA")},"data-v-07526051",null);t.default=r.exports}});
//# sourceMappingURL=181.38eec0d7628c3baed680.js.map