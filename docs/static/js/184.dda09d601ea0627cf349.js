webpackJsonp([184],{QNKX:function(e,t){},xI2t:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6+nK"),r=function(){};r.prototype={constructor:r,parse:function(e){var t,i,r,o,s,a="",c=0,l=0,h=0,m=new n._105,u=new n._105,d=new n._104,f=[];return e.traverse(function(e){e instanceof n._29&&function(e){var r=0,p=0,v=0,y=e.geometry,E=new n._27;if(y instanceof n.X&&(y=(new n.m).setFromObject(e)),y instanceof n.m){var g=y.getAttribute("position"),w=y.getAttribute("normal"),b=y.getAttribute("uv"),x=y.getIndex();if(a+="o "+e.name+"\n",e.material&&e.material.name&&(a+="usemtl "+e.material.name+"\n"),void 0!==g)for(t=0,o=g.count;t<o;t++,r++)m.x=g.getX(t),m.y=g.getY(t),m.z=g.getZ(t),m.applyMatrix4(e.matrixWorld),a+="v "+m.x+" "+m.y+" "+m.z+"\n";if(void 0!==b)for(t=0,o=b.count;t<o;t++,v++)d.x=b.getX(t),d.y=b.getY(t),a+="vt "+d.x+" "+d.y+"\n";if(void 0!==w)for(E.getNormalMatrix(e.matrixWorld),t=0,o=w.count;t<o;t++,p++)u.x=w.getX(t),u.y=w.getY(t),u.z=w.getZ(t),u.applyMatrix3(E).normalize(),a+="vn "+u.x+" "+u.y+" "+u.z+"\n";if(null!==x)for(t=0,o=x.count;t<o;t+=3){for(s=0;s<3;s++)i=x.getX(t+s)+1,f[s]=c+i+(w||b?"/"+(b?l+i:"")+(w?"/"+(h+i):""):"");a+="f "+f.join(" ")+"\n"}else for(t=0,o=g.count;t<o;t+=3){for(s=0;s<3;s++)i=t+s+1,f[s]=c+i+(w||b?"/"+(b?l+i:"")+(w?"/"+(h+i):""):"");a+="f "+f.join(" ")+"\n"}}else console.warn("THREE.OBJExporter.parseMesh(): geometry type unsupported",y);c+=r,l+=v,h+=p}(e),e instanceof n._12&&function(e){var s=0,l=e.geometry,h=e.type;if(l instanceof n.X&&(l=(new n.m).setFromObject(e)),l instanceof n.m){var u=l.getAttribute("position");if(a+="o "+e.name+"\n",void 0!==u)for(t=0,o=u.count;t<o;t++,s++)m.x=u.getX(t),m.y=u.getY(t),m.z=u.getZ(t),m.applyMatrix4(e.matrixWorld),a+="v "+m.x+" "+m.y+" "+m.z+"\n";if("Line"===h){for(a+="l ",i=1,o=u.count;i<=o;i++)a+=c+i+" ";a+="\n"}if("LineSegments"===h)for(r=1+(i=1),o=u.count;i<o;r=(i+=2)+1)a+="l "+(c+i)+" "+(c+r)+"\n"}else console.warn("THREE.OBJExporter.parseLine(): geometry type unsupported",l);c+=s}(e)}),a}};var o={data:function(){return{camera:null,scene:null,light:null,renderer:null,exportButton:null,floatingDiv:null,mouseX:0,mouseY:0}},mounted:function(){this.init(),this.animate()},methods:{exportToObj:function(){var e=(new r).parse(this.scene);this.floatingDiv.style.display="block",this.floatingDiv.innerHTML=e.split("\n").join("<br />")},addGeometry:function(e){for(var t=0;t<this.scene.children.length;t++){var i=this.scene.children[t];i.isMesh&&(i.geometry.dispose(),this.scene.remove(i),t--)}if(1===e){var n=new this.$THREE.MeshLambertMaterial({color:52224}),r=this.generateTriangleGeometry();this.scene.add(new this.$THREE.Mesh(r,n))}else if(2===e){n=new this.$THREE.MeshLambertMaterial({color:52224}),r=new this.$THREE.BoxBufferGeometry(100,100,100);this.scene.add(new this.$THREE.Mesh(r,n))}else if(3===e){n=new this.$THREE.MeshLambertMaterial({color:52224}),r=new this.$THREE.CylinderBufferGeometry(50,50,100,30,1);this.scene.add(new this.$THREE.Mesh(r,n))}else if(4===e||5===e){n=new this.$THREE.MeshLambertMaterial({color:52224}),r=this.generateTriangleGeometry();var o=new this.$THREE.Mesh(r,n);o.position.x=-200,this.scene.add(o);var s=new this.$THREE.BoxBufferGeometry(100,100,100),a=new this.$THREE.Mesh(s,n);this.scene.add(a);var c=new this.$THREE.CylinderBufferGeometry(50,50,100,30,1),l=new this.$THREE.Mesh(c,n);l.position.x=200,this.scene.add(l),5===e&&(o.rotation.y=Math.PI/4,a.rotation.y=Math.PI/4,l.rotation.y=Math.PI/4)}},init:function(){this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("miscExporterObj-container")[0].appendChild(this.renderer.domElement),this.camera=new this.$THREE.PerspectiveCamera(70,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.set(0,0,400),this.scene=new this.$THREE.Scene,this.light=new this.$THREE.DirectionalLight(16777215),this.scene.add(this.light),this.addGeometry(1),window.addEventListener("click",this.onWindowClick,!1),window.addEventListener("resize",this.onWindowResize,!1),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),document.addEventListener("mouseover",this.onDocumentMouseMove,!1),this.exportButton=document.getElementById("export"),this.floatingDiv=document.createElement("div"),this.floatingDiv.className="floating",document.getElementsByClassName("miscExporterObj-container")[0].appendChild(this.floatingDiv)},onWindowClick:function(e){for(var t=!0,i=e.target;null!==i;){if(i===this.floatingDiv||i===this.exportButton){t=!1;break}i=i.parentElement}t&&(this.floatingDiv.style.display="none")},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},onDocumentMouseMove:function(e){var t=(window.innerWidth-281)/2,i=window.innerHeight/2;this.mouseX=(e.clientX-t)/2,this.mouseY=(e.clientY-i)/2},animate:function(){requestAnimationFrame(this.animate),this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position),this.light.position.set(this.camera.position.x,this.camera.position.y,this.camera.position.z).normalize(),this.renderer.render(this.scene,this.camera)},generateTriangleGeometry:function(){var e=new this.$THREE.BufferGeometry,t=[];return t.push(-50,-50,0),t.push(50,-50,0),t.push(50,50,0),e.setAttribute("position",new this.$THREE.Float32BufferAttribute(t,3)),e.computeVertexNormals(),e}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"miscExporterObj-container"},[i("div",{attrs:{id:"info"}},[i("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[e._v("three.js")]),e._v(" webgl - exporter - obj"),i("br"),i("br"),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addGeometry(1)}}},[e._v("triangle")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addGeometry(2)}}},[e._v("cube")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addGeometry(3)}}},[e._v("cylinder")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addGeometry(4)}}},[e._v("multiple")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addGeometry(5)}}},[e._v("transformed")]),e._v(" "),i("br"),i("br"),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportToObj()}}},[e._v("export to obj")])],1)])},staticRenderFns:[]};var a=i("VU/8")(o,s,!1,function(e){i("QNKX")},"data-v-2db65f1c",null);t.default=a.exports}});
//# sourceMappingURL=184.dda09d601ea0627cf349.js.map