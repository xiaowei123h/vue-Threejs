webpackJsonp([186],{sQYG:function(e,t){},yz1d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("wIBv"),s=i("6+nK");function a(e,t,i,n){this.audio=e,this.range=t||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=n||2;var a=new s.m,r=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*r+3));a.setAttribute("position",new s.l(o,3));var d=new s._14({color:65280}),h=new s._14({color:16776960});s._12.call(this,a,[h,d]),this.type="PositionalAudioHelper",this.update()}a.prototype=Object.create(s._12.prototype),a.prototype.constructor=a,a.prototype.update=function(){var e,t,i=this.audio,n=this.range,a=this.divisionsInnerAngle,r=this.divisionsOuterAngle,o=s._26.degToRad(i.panner.coneInnerAngle),d=s._26.degToRad(i.panner.coneOuterAngle),h=o/2,c=d/2,l=0,u=0,p=this.geometry,m=p.attributes.position;function w(i,s,a,r){var o=(s-i)/a;for(m.setXYZ(l,0,0,0),u++,e=i;e<s;e+=o)t=l+u,m.setXYZ(t,Math.sin(e)*n,0,Math.cos(e)*n),m.setXYZ(t+1,Math.sin(Math.min(e+o,s))*n,0,Math.cos(Math.min(e+o,s))*n),m.setXYZ(t+2,0,0,0),u+=3;p.addGroup(l,u,r),l+=u,u=0}p.clearGroups(),w(-c,-h,r,0),w(-h,h,a,1),w(h,c,r,0),m.needsUpdate=!0,o===d&&(this.material[0].visible=!1)},a.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var r=i("qxm1"),o={data:function(){return{scene:null,camera:null,renderer:null,startButton:null}},mounted:function(){},methods:{init:function(){var e=this;document.getElementById("overlay").remove();var t=document.getElementById("container");this.camera=new this.$THREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,.1,100),this.camera.position.set(3,2,3);var i=(new this.$THREE.CubeTextureLoader).setPath("static/textures/cube/SwedishRoyalCastle/").load(["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"]);this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(10526880),this.scene.fog=new this.$THREE.Fog(10526880,2,20);var s=new this.$THREE.HemisphereLight(16777215,4473924);s.position.set(0,20,0),this.scene.add(s);var o=new this.$THREE.DirectionalLight(16777215);o.position.set(5,5,0),o.castShadow=!0,o.shadow.camera.top=1,o.shadow.camera.bottom=-1,o.shadow.camera.left=-1,o.shadow.camera.right=1,o.shadow.camera.near=.1,o.shadow.camera.far=20,this.scene.add(o);var d=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(50,50),new this.$THREE.MeshPhongMaterial({color:10066329,depthWrite:!1}));d.rotation.x=-Math.PI/2,d.receiveShadow=!0,this.scene.add(d);var h=new this.$THREE.GridHelper(50,50,8947848,8947848);this.scene.add(h);var c=new this.$THREE.AudioListener;this.camera.add(c);var l=document.getElementById("music");l.play();var u=new this.$THREE.PositionalAudio(c);u.setMediaElementSource(l),u.setRefDistance(1),u.setDirectionalCone(180,230,.1);var p=new a(u,.1);u.add(p),(new r.a).load("static/models/gltf/BoomBox/glTF-Binary/BoomBox.glb",function(t){var n=t.scene;n.position.set(0,.2,0),n.scale.set(20,20,20),n.traverse(function(e){e.isMesh&&(e.material.envMap=i,e.geometry.rotateY(-Math.PI),e.castShadow=!0)}),n.add(u),e.scene.add(n),e.animate()});var m=new this.$THREE.BoxBufferGeometry(2,1,.1),w=new this.$THREE.MeshBasicMaterial({color:16711680,transparent:!0,opacity:.5}),v=new this.$THREE.Mesh(m,w);v.position.set(0,.5,-.5),this.scene.add(v),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.renderer.shadowMap.enabled=!0,t.appendChild(this.renderer.domElement);var g=new n.b(this.camera,this.renderer.domElement);g.target.set(0,.1,0),g.update(),g.minDistance=.5,g.maxDistance=10,g.maxPolarAngle=.5*Math.PI,window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webaudioOrientation-container"},[this._m(0),this._v(" "),t("div",{attrs:{id:"overlay"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:this.init}},[this._v("Play")])],1),this._v(" "),t("div",{attrs:{id:"container"}}),this._v(" "),this._m(1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("audio",{staticStyle:{display:"none"},attrs:{loop:"",id:"music",preload:"auto"}},[t("source",{attrs:{src:"static/sounds/376737_Skullbeatz___Bad_Cat_Maste.ogg",type:"audio/ogg"}}),this._v(" "),t("source",{attrs:{src:"static/sounds/376737_Skullbeatz___Bad_Cat_Maste.mp3",type:"audio/mpeg"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener noreferrer"}},[this._v("three.js")]),this._v(" webaudio - orientation"),t("br"),this._v("\n        music by "),t("a",{attrs:{href:"http://www.newgrounds.com/audio/listen/376737",target:"_blank",rel:"noopener noreferrer"}},[this._v("skullbeatz")])])}]};var h=i("VU/8")(o,d,!1,function(e){i("sQYG")},"data-v-2c64dc5c",null);t.default=h.exports}});
//# sourceMappingURL=186.c290cffc4cad8ef9c2fc.js.map