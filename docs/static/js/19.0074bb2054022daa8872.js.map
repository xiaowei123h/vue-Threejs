{"version":3,"sources":["webpack:///src/views/css3d/css3dSprites.vue","webpack:///./src/views/css3d/css3dSprites.vue?096d","webpack:///./src/views/css3d/css3dSprites.vue"],"names":["css3dSprites","data","camera","scene","renderer","controls","particlesTotal","positions","objects","current","mounted","this","init","animate","methods","_this","$THREE","PerspectiveCamera","$webglInnerWidth","window","innerHeight","position","set","lookAt","Scene","image","document","createElement","addEventListener","i","object","CSS3DRenderer","cloneNode","x","Math","random","y","z","add","push","transition","src","floor","sin","phi","acos","theta","sqrt","PI","cos","setSize","getElementById","appendChild","domElement","TrackballControls","onWindowResize","$onWindowResize","j","tween_module_min","Tween","to","easing","Easing","Exponential","InOut","start","duration","onComplete","requestAnimationFrame","update","time","performance","now","l","length","scale","render","css3d_css3dSprites","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.0074bb2054022daa8872.js","sourcesContent":["<template>\r\n    <div class=\"css3dSprites-container\">\r\n        <div id=\"info\"><a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> css3d - sprites</div>\r\n\t\t<div id=\"container\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { TWEEN } from '@/components/jsm/libs/tween.module.min.js'\r\nimport { TrackballControls } from '@/components/jsm/controls/TrackballControls.js'\r\nimport { CSS3DRenderer, CSS3DSprite } from '@/components/jsm/renderers/CSS3DRenderer.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n\t\t\tcontrols: null,\r\n\t\t\tparticlesTotal: 512,\r\n\t\t\tpositions: [],\r\n\t\t\tobjects: [],\r\n\t\t\tcurrent: 0,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init()\r\n\t\tthis.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.camera = new this.$THREE.PerspectiveCamera(75, this.$webglInnerWidth / window.innerHeight, 1, 5000)\r\n            this.camera.position.set(600, 400, 1500)\r\n            this.camera.lookAt(0, 0, 0)\r\n            this.scene = new this.$THREE.Scene()\r\n            var image = document.createElement('img')\r\n            image.addEventListener('load', () => {\r\n                for (var i = 0; i < this.particlesTotal; i ++) {\r\n                    var object = new CSS3DSprite(image.cloneNode())\r\n                    object.position.x = Math.random() * 4000 - 2000,\r\n                    object.position.y = Math.random() * 4000 - 2000,\r\n                    object.position.z = Math.random() * 4000 - 2000\r\n                    this.scene.add(object)\r\n                    this.objects.push(object)\r\n                }\r\n                this.transition()\r\n            }, false)\r\n            image.src = 'static/textures/sprite.png'\r\n            // Plane\r\n            var amountX = 16\r\n            var amountZ = 32\r\n            var separationPlane = 150\r\n            var offsetX = ((amountX - 1) * separationPlane) / 2\r\n            var offsetZ = ((amountZ - 1) * separationPlane) / 2\r\n            for (var i = 0; i < this.particlesTotal; i ++) {\r\n                var x = (i % amountX) * separationPlane\r\n                var z = Math.floor(i / amountX) * separationPlane\r\n                var y = (Math.sin(x * 0.5) + Math.sin(z * 0.5)) * 200\r\n                this.positions.push(x - offsetX, y, z - offsetZ)\r\n            }\r\n            // Cube\r\n            var amount = 8\r\n            var separationCube = 150\r\n            var offset = ((amount - 1) * separationCube) / 2\r\n            for (var i = 0; i < this.particlesTotal; i ++) {\r\n                var x = (i % amount) * separationCube\r\n                var y = Math.floor((i / amount) % amount) * separationCube\r\n                var z = Math.floor(i / (amount * amount)) * separationCube\r\n                this.positions.push(x - offset, y - offset, z - offset)\r\n            }\r\n            // Random\r\n            for (var i = 0; i < this.particlesTotal; i ++) {\r\n                this.positions.push(\r\n                    Math.random() * 4000 - 2000,\r\n                    Math.random() * 4000 - 2000,\r\n                    Math.random() * 4000 - 2000\r\n            )\r\n            }\r\n            // Sphere\r\n            var radius = 750\r\n            for (var i = 0; i < this.particlesTotal; i ++) {\r\n                var phi = Math.acos(- 1 + (2 * i) / this.particlesTotal)\r\n                var theta = Math.sqrt(this.particlesTotal * Math.PI) * phi\r\n                this.positions.push(\r\n                    radius * Math.cos(theta) * Math.sin(phi),\r\n                    radius * Math.sin(theta) * Math.sin(phi),\r\n                    radius * Math.cos(phi)\r\n            )\r\n            }\r\n            //\r\n            this.renderer = new CSS3DRenderer()\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            document.getElementById('container').appendChild(this.renderer.domElement)\r\n            //\r\n            this.controls = new TrackballControls(this.camera, this.renderer.domElement)\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        transition() {\r\n            var offset = this.current * this.particlesTotal * 3\r\n            var duration = 2000\r\n            for (var i = 0, j = offset; i < this.particlesTotal; i ++, j += 3) {\r\n                var object = this.objects[ i ]\r\n                new TWEEN.Tween(object.position)\r\n                    .to({\r\n                        x: this.positions[ j ],\r\n                        y: this.positions[ j + 1 ],\r\n                        z: this.positions[ j + 2 ]\r\n                    }, Math.random() * duration + duration)\r\n                    .easing(TWEEN.Easing.Exponential.InOut)\r\n                    .start()\r\n            }\r\n            new TWEEN.Tween(this)\r\n                .to({}, duration * 3)\r\n                .onComplete(this.transition)\r\n                .start()\r\n            this.current = (this.current + 1) % 4\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            TWEEN.update()\r\n            this.controls.update()\r\n            var time = performance.now()\r\n            for (var i = 0, l = this.objects.length; i < l; i ++) {\r\n                var object = this.objects[ i ]\r\n                var scale = Math.sin((Math.floor(object.position.x) + time) * 0.002) * 0.3 + 1\r\n                object.scale.set(scale, scale, scale)\r\n            }\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.css3dSprites-container {\r\n    width: 100%;\r\n}\r\n#info {\r\n    background-color: #fff;\r\n    color: #000;\r\n}\r\n#info a {\r\n    color: #48f;\r\n}\r\n</style>\r\n\r\n<style>\r\n.css3dSprites-container #info {\r\n    margin-left: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/css3d/css3dSprites.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"css3dSprites-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" css3d - sprites\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"container\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51497d95\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/css3d/css3dSprites.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51497d95\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./css3dSprites.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51497d95\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./css3dSprites.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./css3dSprites.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./css3dSprites.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51497d95\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./css3dSprites.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51497d95\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/css3d/css3dSprites.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}