webpackJsonp([193],{avUQ:function(t,e){},e5FP:function(t,e,s){"use strict";function i(t){this._canvas=document.createElement("canvas"),this._canvas.width=this._canvas.height=1024,this._context2D=this._canvas.getContext("2d"),t&&(this._parentTexture.push(t),t.image=this._canvas);var e=this;this._background=document.createElement("img"),this._background.addEventListener("load",function(){e._canvas.width=e._background.naturalWidth,e._canvas.height=e._background.naturalHeight,e._crossRadius=Math.ceil(Math.min(e._canvas.width,e._canvas.height/30)),e._crossMax=Math.ceil(.70710678*e._crossRadius),e._crossMin=Math.ceil(e._crossMax/10),e._crossThickness=Math.ceil(e._crossMax/10),e._draw()},!1),this._background.crossOrigin="",this._background.src="static/textures/uv_grid_opengl.jpg",this._draw()}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype={constructor:i,_canvas:null,_context2D:null,_xCross:0,_yCross:0,_crossRadius:57,_crossMax:40,_crossMin:4,_crossThickness:4,_parentTexture:[],addParent:function(t){-1===this._parentTexture.indexOf(t)&&(this._parentTexture.push(t),t.image=this._canvas)},setCrossPosition:function(t,e){this._xCross=t*this._canvas.width,this._yCross=e*this._canvas.height,this._draw()},_draw:function(){if(this._context2D){this._context2D.clearRect(0,0,this._canvas.width,this._canvas.height),this._context2D.drawImage(this._background,0,0),this._context2D.lineWidth=3*this._crossThickness,this._context2D.strokeStyle="#FFFF00",this._context2D.beginPath(),this._context2D.moveTo(this._xCross-this._crossMax-2,this._yCross-this._crossMax-2),this._context2D.lineTo(this._xCross-this._crossMin,this._yCross-this._crossMin),this._context2D.moveTo(this._xCross+this._crossMin,this._yCross+this._crossMin),this._context2D.lineTo(this._xCross+this._crossMax+2,this._yCross+this._crossMax+2),this._context2D.moveTo(this._xCross-this._crossMax-2,this._yCross+this._crossMax+2),this._context2D.lineTo(this._xCross-this._crossMin,this._yCross+this._crossMin),this._context2D.moveTo(this._xCross+this._crossMin,this._yCross-this._crossMin),this._context2D.lineTo(this._xCross+this._crossMax+2,this._yCross-this._crossMax-2),this._context2D.stroke();for(var t=0;t<this._parentTexture.length;t++)this._parentTexture[t].needsUpdate=!0}}};var n={data:function(){return{width:window.innerWidth,height:window.innerHeight,canvas:null,planeTexture:null,cubeTexture:null,circleTexture:null,container:null,camera:null,scene:null,renderer:null,raycaster:null,mouse:null,onClickPosition:null}},mounted:function(){this.width=this.$webglInnerWidth,this.height=window.innerHeight,this.raycaster=new this.$THREE.Raycaster,this.mouse=new this.$THREE.Vector2,this.onClickPosition=new this.$THREE.Vector2,this.init(),this.render()},methods:{init:function(){this.container=document.getElementById("container"),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(15658734),this.camera=new this.$THREE.PerspectiveCamera(45,this.width/this.height,1,1e3),this.camera.position.x=-30,this.camera.position.y=40,this.camera.position.z=50,this.camera.lookAt(this.scene.position),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.container.appendChild(this.renderer.domElement),this.cubeTexture=new this.$THREE.Texture(void 0,this.$THREE.UVMapping,this.$THREE.RepeatWrapping,this.$THREE.RepeatWrapping),this.canvas=new i(this.cubeTexture);for(var t=new this.$THREE.MeshBasicMaterial({map:this.cubeTexture}),e=new this.$THREE.BoxBufferGeometry(20,20,20),s=e.attributes.uv.array,n=0;n<s.length;n++)s[n]*=2;var r=new this.$THREE.Mesh(e,t);r.position.x=4,r.position.y=-5,r.position.z=0,this.scene.add(r),this.planeTexture=new this.$THREE.Texture(void 0,this.$THREE.UVMapping,this.$THREE.MirroredRepeatWrapping,this.$THREE.MirroredRepeatWrapping),this.canvas.addParent(this.planeTexture);var a=new this.$THREE.MeshBasicMaterial({map:this.planeTexture}),o=new this.$THREE.PlaneBufferGeometry(25,25,1,1);s=o.attributes.uv.array;for(n=0;n<s.length;n++)s[n]*=2;var h=new this.$THREE.Mesh(o,a);h.position.x=-16,h.position.y=-5,h.position.z=0,this.scene.add(h),this.circleTexture=new this.$THREE.Texture(void 0,this.$THREE.UVMapping,this.$THREE.RepeatWrapping,this.$THREE.RepeatWrapping),this.canvas.addParent(this.circleTexture);var c=new this.$THREE.MeshBasicMaterial({map:this.circleTexture}),u=new this.$THREE.CircleBufferGeometry(25,40,0,2*Math.PI);s=u.attributes.uv.array;for(n=0;n<s.length;n++)s[n]=2*(s[n]-.25);var d=new this.$THREE.Mesh(u,c);d.position.x=24,d.position.y=-5,d.position.z=0,this.scene.add(d),window.addEventListener("resize",this.onWindowResize,!1),this.container.addEventListener("mousemove",this.onMouseMove,!1),document.getElementById("setwrapS").addEventListener("change",this.setwrapS),document.getElementById("setwrapT").addEventListener("change",this.setwrapT),document.getElementById("setOffsetU").addEventListener("change",this.setOffsetU),document.getElementById("setOffsetV").addEventListener("change",this.setOffsetV),document.getElementById("setRepeatU").addEventListener("change",this.setRepeatU),document.getElementById("setRepeatV").addEventListener("change",this.setRepeatV),document.getElementById("setRotation").addEventListener("change",this.setRotation)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},onMouseMove:function(t){t.preventDefault();var e=this.getMousePosition(this.container,t.clientX,t.clientY);this.onClickPosition.fromArray(e);var s=this.getIntersects(this.onClickPosition,this.scene.children);if(s.length>0&&s[0].uv){var i=s[0].uv;s[0].object.material.map.transformUv(i),this.canvas.setCrossPosition(i.x,i.y)}},getMousePosition:function(t,e,s){var i=t.getBoundingClientRect();return[(e-i.left)/i.width,(s-i.top)/i.height]},getIntersects:function(t,e){return this.mouse.set(2*t.x-1,-2*t.y+1),this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.intersectObjects(e)},render:function(){requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera)},setwrapS:function(t){this.circleTexture.wrapS=parseFloat(t.target.value),this.circleTexture.needsUpdate=!0},setwrapT:function(t){this.circleTexture.wrapT=parseFloat(t.target.value),this.circleTexture.needsUpdate=!0},setOffsetU:function(t){this.circleTexture.offset.x=parseFloat(t.target.value)},setOffsetV:function(t){this.circleTexture.offset.y=parseFloat(t.target.value)},setRepeatU:function(t){this.circleTexture.repeat.x=parseFloat(t.target.value)},setRepeatV:function(t){this.circleTexture.repeat.y=parseFloat(t.target.value)},setRotation:function(t){this.circleTexture.rotation=parseFloat(t.target.value)}}},r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"webglRaycastTexture-container"},[s("div",{attrs:{id:"container"}}),t._v(" "),s("div",{attrs:{id:"info"}},[s("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[t._v("three.js")]),t._v(" - raycast texture"),s("br"),t._v("Left to right: buffer geometry - geometry - indexed buffer geometry\n\t\t\t"),s("fieldset",{attrs:{id:"controls"}},[s("legend",[t._v("Circle")]),t._v(" "),s("div",{staticClass:"control"},[t._v("\n\t\t\t\t\tWrapS : "),s("select",{attrs:{id:"setwrapS"}},[s("option",{attrs:{value:"1001"}},[t._v("ClampToEdgeWrapping")]),t._v(" "),s("option",{attrs:{value:"1000",selected:""}},[t._v("RepeatWrapping")]),t._v(" "),s("option",{attrs:{value:"1002"}},[t._v("MirroredRepeatWrapping")])])]),t._v(" "),s("div",{staticClass:"control"},[t._v("\n\t\t\t\t\tWrapT : "),s("select",{attrs:{id:"setwrapT"}},[s("option",{attrs:{value:"1001"}},[t._v("ClampToEdgeWrapping")]),t._v(" "),s("option",{attrs:{value:"1000",selected:""}},[t._v("RepeatWrapping")]),t._v(" "),s("option",{attrs:{value:"1002"}},[t._v("MirroredRepeatWrapping")])])]),t._v(" "),s("div",{staticClass:"control"},[t._v("\n\t\t\t\t\tOffset : X "),s("input",{attrs:{id:"setOffsetU",type:"number",value:"0",step:"0.05"}}),t._v("\n\t\t\t\t\tY "),s("input",{attrs:{id:"setOffsetV",type:"number",value:"0",step:"0.05"}}),s("br")]),t._v(" "),s("div",{staticClass:"control"},[t._v("\n\t\t\t\t\tRepeat : X "),s("input",{attrs:{id:"setRepeatU",type:"number",value:"1",step:"0.1"}}),t._v("\n\t\t\t\t\tY "),s("input",{attrs:{id:"setRepeatV",type:"number",value:"1",step:"0.1"}})]),t._v(" "),s("div",{staticClass:"control"},[t._v("\n\t\t\t\t\tRotation : "),s("input",{attrs:{id:"setRotation",type:"number",value:"0",step:"0.1"}})])])])])}]};var a=s("VU/8")(n,r,!1,function(t){s("avUQ")},"data-v-5ccaf14e",null);e.default=a.exports}});
//# sourceMappingURL=193.570373cee052f528d380.js.map