{"version":3,"sources":["webpack:///./src/utils/webglRaycastTexture.js","webpack:///src/views/raycast/webglRaycastTexture.vue","webpack:///./src/views/raycast/webglRaycastTexture.vue?eb15","webpack:///./src/views/raycast/webglRaycastTexture.vue"],"names":["CanvasTexture","parentTexture","this","_canvas","document","createElement","width","height","_context2D","getContext","_parentTexture","push","image","that","_background","addEventListener","naturalWidth","naturalHeight","_crossRadius","Math","ceil","min","_crossMax","_crossMin","_crossThickness","_draw","crossOrigin","src","prototype","constructor","_xCross","_yCross","addParent","indexOf","setCrossPosition","x","y","clearRect","drawImage","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","i","length","needsUpdate","raycast_webglRaycastTexture","data","window","innerWidth","innerHeight","canvas","planeTexture","cubeTexture","circleTexture","container","camera","scene","renderer","raycaster","mouse","onClickPosition","mounted","$webglInnerWidth","$THREE","Raycaster","Vector2","init","render","methods","getElementById","Scene","background","Color","PerspectiveCamera","position","z","lookAt","WebGLRenderer","setPixelRatio","devicePixelRatio","setSize","appendChild","domElement","Texture","undefined","UVMapping","RepeatWrapping","cubeMaterial","MeshBasicMaterial","map","cubeGeometry","BoxBufferGeometry","uvs","attributes","uv","array","cube","Mesh","add","MirroredRepeatWrapping","planeMaterial","planeGeometry","PlaneBufferGeometry","plane","circleMaterial","circleGeometry","CircleBufferGeometry","PI","circle","onWindowResize","onMouseMove","setwrapS","setwrapT","setOffsetU","setOffsetV","setRepeatU","setRepeatV","setRotation","$onWindowResize","evt","preventDefault","getMousePosition","clientX","clientY","fromArray","intersects","getIntersects","children","object","material","transformUv","dom","rect","getBoundingClientRect","left","top","point","objects","set","setFromCamera","intersectObjects","requestAnimationFrame","event","wrapS","parseFloat","target","value","wrapT","offset","repeat","rotation","views_raycast_webglRaycastTexture","$createElement","_self","_c","_m","staticRenderFns","_vm","_h","staticClass","attrs","id","_v","href","rel","selected","type","step","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/193.570373cee052f528d380.js","sourcesContent":["export function CanvasTexture(parentTexture) {\r\n    this._canvas = document.createElement(\"canvas\")\r\n    this._canvas.width = this._canvas.height = 1024\r\n    this._context2D = this._canvas.getContext(\"2d\")\r\n    if (parentTexture) {\r\n        this._parentTexture.push(parentTexture)\r\n        parentTexture.image = this._canvas\r\n    }\r\n    const that = this\r\n    this._background = document.createElement(\"img\")\r\n    this._background.addEventListener(\"load\", function () {\r\n        that._canvas.width = that._background.naturalWidth\r\n        that._canvas.height = that._background.naturalHeight\r\n        that._crossRadius = Math.ceil(Math.min(that._canvas.width, that._canvas.height / 30))\r\n        that._crossMax = Math.ceil(0.70710678 * that._crossRadius)\r\n        that._crossMin = Math.ceil(that._crossMax / 10)\r\n        that._crossThickness = Math.ceil(that._crossMax / 10)\r\n        that._draw()\r\n    }, false)\r\n    this._background.crossOrigin = ''\r\n    this._background.src = \"static/textures/uv_grid_opengl.jpg\"\r\n    this._draw()\r\n}\r\n\r\nCanvasTexture.prototype = {\r\n    constructor: CanvasTexture,\r\n    _canvas: null,\r\n    _context2D: null,\r\n    _xCross: 0,\r\n    _yCross: 0,\r\n    _crossRadius: 57,\r\n    _crossMax: 40,\r\n    _crossMin: 4,\r\n    _crossThickness: 4,\r\n    _parentTexture: [],\r\n    addParent: function (parentTexture) {\r\n        if (this._parentTexture.indexOf(parentTexture) === - 1) {\r\n            this._parentTexture.push(parentTexture)\r\n            parentTexture.image = this._canvas\r\n        }\r\n    },\r\n    setCrossPosition: function (x, y) {\r\n        this._xCross = x * this._canvas.width\r\n        this._yCross = y * this._canvas.height\r\n        this._draw()\r\n    },\r\n    _draw: function () {\r\n        if (! this._context2D) return\r\n        this._context2D.clearRect(0, 0, this._canvas.width, this._canvas.height)\r\n        // Background.\r\n        this._context2D.drawImage(this._background, 0, 0)\r\n        // Yellow cross.\r\n        this._context2D.lineWidth = this._crossThickness * 3\r\n        this._context2D.strokeStyle = \"#FFFF00\"\r\n        this._context2D.beginPath()\r\n        this._context2D.moveTo(this._xCross - this._crossMax - 2, this._yCross - this._crossMax - 2)\r\n        this._context2D.lineTo(this._xCross - this._crossMin, this._yCross - this._crossMin)\r\n        this._context2D.moveTo(this._xCross + this._crossMin, this._yCross + this._crossMin)\r\n        this._context2D.lineTo(this._xCross + this._crossMax + 2, this._yCross + this._crossMax + 2)\r\n        this._context2D.moveTo(this._xCross - this._crossMax - 2, this._yCross + this._crossMax + 2)\r\n        this._context2D.lineTo(this._xCross - this._crossMin, this._yCross + this._crossMin)\r\n        this._context2D.moveTo(this._xCross + this._crossMin, this._yCross - this._crossMin)\r\n        this._context2D.lineTo(this._xCross + this._crossMax + 2, this._yCross - this._crossMax - 2)\r\n        this._context2D.stroke()\r\n        for (let i = 0; i < this._parentTexture.length; i ++) {\r\n            this._parentTexture[ i ].needsUpdate = true\r\n        }\r\n    }\r\n}\r\n\r\nexport default { CanvasTexture }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/webglRaycastTexture.js","<template>\r\n    <div class=\"webglRaycastTexture-container\">\r\n        <div id=\"container\"></div>\r\n\t\t<div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - raycast texture<br>Left to right: buffer geometry - geometry - indexed buffer geometry\r\n\t\t\t<fieldset id=\"controls\">\r\n\t\t\t\t<legend>Circle</legend>\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\tWrapS : <select id=\"setwrapS\">\r\n\t\t\t\t\t\t<option value=\"1001\">ClampToEdgeWrapping</option>\r\n\t\t\t\t\t\t<option value=\"1000\" selected>RepeatWrapping</option>\r\n\t\t\t\t\t\t<option value=\"1002\">MirroredRepeatWrapping</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\tWrapT : <select id=\"setwrapT\">\r\n\t\t\t\t\t\t<option value=\"1001\">ClampToEdgeWrapping</option>\r\n\t\t\t\t\t\t<option value=\"1000\" selected>RepeatWrapping</option>\r\n\t\t\t\t\t\t<option value=\"1002\">MirroredRepeatWrapping</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\tOffset : X <input id=\"setOffsetU\" type=\"number\" value=\"0\" step=\"0.05\" />\r\n\t\t\t\t\tY <input id=\"setOffsetV\" type=\"number\" value=\"0\" step=\"0.05\" /><br />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\tRepeat : X <input id=\"setRepeatU\" type=\"number\" value=\"1\" step=\"0.1\" />\r\n\t\t\t\t\tY <input id=\"setRepeatV\" type=\"number\" value=\"1\" step=\"0.1\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"control\">\r\n\t\t\t\t\tRotation : <input id=\"setRotation\" type=\"number\" value=\"0\" step=\"0.1\" />\r\n\t\t\t\t</div>\r\n\t\t\t</fieldset>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { CanvasTexture } from '@/utils/webglRaycastTexture.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            width: window.innerWidth,\r\n\t\t\theight: window.innerHeight,\r\n\t\t\tcanvas: null,\r\n\t\t\tplaneTexture: null,\r\n\t\t\tcubeTexture: null,\r\n\t\t\tcircleTexture: null,\r\n\t\t\tcontainer: null,\r\n\t\t\tcamera: null,\r\n\t\t\tscene: null,\r\n\t\t\trenderer: null,\r\n\t\t\traycaster: null,\r\n\t\t\tmouse: null,\r\n\t\t\tonClickPosition: null,\r\n        }\r\n    },\r\n    mounted() {\r\n\t\tthis.width = this.$webglInnerWidth\r\n\t\tthis.height = window.innerHeight\r\n\t\tthis.raycaster = new this.$THREE.Raycaster()\r\n\t\tthis.mouse = new this.$THREE.Vector2()\r\n\t\tthis.onClickPosition = new this.$THREE.Vector2()\r\n\t\tthis.init()\r\n\t\tthis.render()\r\n    },\r\n    methods: {\r\n        init() {\r\n\t\t\tthis.container = document.getElementById(\"container\")\r\n\t\t\tthis.scene = new this.$THREE.Scene()\r\n\t\t\tthis.scene.background = new this.$THREE.Color(0xeeeeee)\r\n\t\t\tthis.camera = new this.$THREE.PerspectiveCamera(45, this.width / this.height, 1, 1000)\r\n\t\t\tthis.camera.position.x = - 30\r\n\t\t\tthis.camera.position.y = 40\r\n\t\t\tthis.camera.position.z = 50\r\n\t\t\tthis.camera.lookAt(this.scene.position)\r\n\t\t\tthis.renderer = new this.$THREE.WebGLRenderer()\r\n\t\t\tthis.renderer.setPixelRatio(window.devicePixelRatio)\r\n\t\t\tthis.renderer.setSize(this.width, this.height)\r\n\t\t\tthis.container.appendChild(this.renderer.domElement)\r\n\t\t\t// A cube, in the middle.\r\n\t\t\tthis.cubeTexture = new this.$THREE.Texture(undefined, this.$THREE.UVMapping, this.$THREE.RepeatWrapping, this.$THREE.RepeatWrapping)\r\n\t\t\tthis.canvas = new CanvasTexture(this.cubeTexture)\r\n\t\t\tvar cubeMaterial = new this.$THREE.MeshBasicMaterial({ map: this.cubeTexture })\r\n\t\t\tvar cubeGeometry = new this.$THREE.BoxBufferGeometry(20, 20, 20)\r\n\t\t\tvar uvs = cubeGeometry.attributes.uv.array\r\n\t\t\t// Set a specific texture mapping.\r\n\t\t\tfor (var i = 0; i < uvs.length; i ++) {\r\n\t\t\t\tuvs[ i ] *= 2\r\n\t\t\t}\r\n\t\t\tvar cube = new this.$THREE.Mesh(cubeGeometry, cubeMaterial)\r\n\t\t\tcube.position.x = 4\r\n\t\t\tcube.position.y = - 5\r\n\t\t\tcube.position.z = 0\r\n\t\t\tthis.scene.add(cube)\r\n\t\t\t// A plane on the left\r\n\t\t\tthis.planeTexture = new this.$THREE.Texture(undefined, this.$THREE.UVMapping, this.$THREE.MirroredRepeatWrapping, this.$THREE.MirroredRepeatWrapping)\r\n\t\t\tthis.canvas.addParent(this.planeTexture)\r\n\t\t\tvar planeMaterial = new this.$THREE.MeshBasicMaterial({ map: this.planeTexture })\r\n\t\t\tvar planeGeometry = new this.$THREE.PlaneBufferGeometry(25, 25, 1, 1)\r\n\t\t\tuvs = planeGeometry.attributes.uv.array\r\n\t\t\t// Set a specific texture mapping.\r\n\t\t\tfor (var i = 0; i < uvs.length; i ++) {\r\n\t\t\t\tuvs[ i ] *= 2\r\n\t\t\t}\r\n\t\t\tvar plane = new this.$THREE.Mesh(planeGeometry, planeMaterial)\r\n\t\t\tplane.position.x = - 16\r\n\t\t\tplane.position.y = - 5\r\n\t\t\tplane.position.z = 0\r\n\t\t\tthis.scene.add(plane)\r\n\t\t\t// A circle on the right.\r\n\t\t\tthis.circleTexture = new this.$THREE.Texture(undefined, this.$THREE.UVMapping, this.$THREE.RepeatWrapping, this.$THREE.RepeatWrapping)\r\n\t\t\tthis.canvas.addParent(this.circleTexture)\r\n\t\t\tvar circleMaterial = new this.$THREE.MeshBasicMaterial({ map: this.circleTexture })\r\n\t\t\tvar circleGeometry = new this.$THREE.CircleBufferGeometry(25, 40, 0, Math.PI * 2)\r\n\t\t\tuvs = circleGeometry.attributes.uv.array\r\n\t\t\t// Set a specific texture mapping.\r\n\t\t\tfor (var i = 0; i < uvs.length; i ++) {\r\n\t\t\t\tuvs[ i ] = (uvs[ i ] - 0.25) * 2\r\n\t\t\t}\r\n\t\t\tvar circle = new this.$THREE.Mesh(circleGeometry, circleMaterial)\r\n\t\t\tcircle.position.x = 24\r\n\t\t\tcircle.position.y = - 5\r\n\t\t\tcircle.position.z = 0\r\n\t\t\tthis.scene.add(circle)\r\n\t\t\twindow.addEventListener('resize', this.onWindowResize, false)\r\n\t\t\tthis.container.addEventListener('mousemove', this.onMouseMove, false)\r\n\t\t\tdocument.getElementById('setwrapS').addEventListener('change', this.setwrapS)\r\n\t\t\tdocument.getElementById('setwrapT').addEventListener('change', this.setwrapT)\r\n\t\t\tdocument.getElementById('setOffsetU').addEventListener('change', this.setOffsetU)\r\n\t\t\tdocument.getElementById('setOffsetV').addEventListener('change', this.setOffsetV)\r\n\t\t\tdocument.getElementById('setRepeatU').addEventListener('change', this.setRepeatU)\r\n\t\t\tdocument.getElementById('setRepeatV').addEventListener('change', this.setRepeatV)\r\n\t\t\tdocument.getElementById('setRotation').addEventListener('change', this.setRotation)\r\n\t\t},\r\n\t\tonWindowResize() {\r\n\t\t\tthis.$onWindowResize(this.camera, this.renderer)\r\n\t\t},\r\n\t\tonMouseMove(evt) {\r\n\t\t\tevt.preventDefault()\r\n\t\t\tvar array = this.getMousePosition(this.container, evt.clientX, evt.clientY)\r\n\t\t\tthis.onClickPosition.fromArray(array)\r\n\t\t\tvar intersects = this.getIntersects(this.onClickPosition, this.scene.children)\r\n\t\t\tif (intersects.length > 0 && intersects[ 0 ].uv) {\r\n\t\t\t\tvar uv = intersects[ 0 ].uv\r\n\t\t\t\tintersects[ 0 ].object.material.map.transformUv(uv)\r\n\t\t\t\tthis.canvas.setCrossPosition(uv.x, uv.y)\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetMousePosition(dom, x, y) {\r\n\t\t\tvar rect = dom.getBoundingClientRect()\r\n\t\t\treturn [ (x - rect.left) / rect.width, (y - rect.top) / rect.height ]\r\n\t\t},\r\n\t\tgetIntersects(point, objects) {\r\n\t\t\tthis.mouse.set((point.x * 2) - 1, - (point.y * 2) + 1)\r\n\t\t\tthis.raycaster.setFromCamera(this.mouse, this.camera)\r\n\t\t\treturn this.raycaster.intersectObjects(objects)\r\n\t\t},\r\n\t\trender() {\r\n\t\t\trequestAnimationFrame(this.render)\r\n\t\t\tthis.renderer.render(this.scene, this.camera)\r\n\t\t},\r\n\t\tsetwrapS(event) {\r\n\t\t\tthis.circleTexture.wrapS = parseFloat(event.target.value)\r\n\t\t\tthis.circleTexture.needsUpdate = true\r\n\t\t},\r\n\t\tsetwrapT(event) {\r\n\t\t\tthis.circleTexture.wrapT = parseFloat(event.target.value)\r\n\t\t\tthis.circleTexture.needsUpdate = true\r\n\t\t},\r\n\t\tsetOffsetU(event) {\r\n\t\t\tthis.circleTexture.offset.x = parseFloat(event.target.value)\r\n\t\t},\r\n\t\tsetOffsetV(event) {\r\n\t\t\tthis.circleTexture.offset.y = parseFloat(event.target.value)\r\n\t\t},\r\n\t\tsetRepeatU(event) {\r\n\t\t\tthis.circleTexture.repeat.x = parseFloat(event.target.value)\r\n\t\t},\r\n\t\tsetRepeatV(event) {\r\n\t\t\tthis.circleTexture.repeat.y = parseFloat(event.target.value)\r\n\t\t},\r\n\t\tsetRotation(event) {\r\n\t\t\tthis.circleTexture.rotation = parseFloat(event.target.value)\r\n\t\t}\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglRaycastTexture-container {\r\n    width: 100%;\r\n    background-color: #fff;\r\n}\r\n#info {\r\n    color: #444;\r\n}\r\n\r\n#info a {\r\n    color: #08f;\r\n}\r\n\r\n#controls {\r\n    position: absolute;\r\n    text-align:left;\r\n    top: 60px;\r\n    left: 5px;\r\n    padding: 5px;\r\n}\r\n\r\n.control { margin-bottom: 3px; }\r\n\r\ninput { width: 50px; }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/raycast/webglRaycastTexture.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglRaycastTexture-container\"},[_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - raycast texture\"),_c('br'),_vm._v(\"Left to right: buffer geometry - geometry - indexed buffer geometry\\n\\t\\t\\t\"),_c('fieldset',{attrs:{\"id\":\"controls\"}},[_c('legend',[_vm._v(\"Circle\")]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tWrapS : \"),_c('select',{attrs:{\"id\":\"setwrapS\"}},[_c('option',{attrs:{\"value\":\"1001\"}},[_vm._v(\"ClampToEdgeWrapping\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1000\",\"selected\":\"\"}},[_vm._v(\"RepeatWrapping\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1002\"}},[_vm._v(\"MirroredRepeatWrapping\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tWrapT : \"),_c('select',{attrs:{\"id\":\"setwrapT\"}},[_c('option',{attrs:{\"value\":\"1001\"}},[_vm._v(\"ClampToEdgeWrapping\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1000\",\"selected\":\"\"}},[_vm._v(\"RepeatWrapping\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1002\"}},[_vm._v(\"MirroredRepeatWrapping\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tOffset : X \"),_c('input',{attrs:{\"id\":\"setOffsetU\",\"type\":\"number\",\"value\":\"0\",\"step\":\"0.05\"}}),_vm._v(\"\\n\\t\\t\\t\\t\\tY \"),_c('input',{attrs:{\"id\":\"setOffsetV\",\"type\":\"number\",\"value\":\"0\",\"step\":\"0.05\"}}),_c('br')]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tRepeat : X \"),_c('input',{attrs:{\"id\":\"setRepeatU\",\"type\":\"number\",\"value\":\"1\",\"step\":\"0.1\"}}),_vm._v(\"\\n\\t\\t\\t\\t\\tY \"),_c('input',{attrs:{\"id\":\"setRepeatV\",\"type\":\"number\",\"value\":\"1\",\"step\":\"0.1\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tRotation : \"),_c('input',{attrs:{\"id\":\"setRotation\",\"type\":\"number\",\"value\":\"0\",\"step\":\"0.1\"}})])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ccaf14e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/raycast/webglRaycastTexture.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ccaf14e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglRaycastTexture.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglRaycastTexture.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglRaycastTexture.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ccaf14e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglRaycastTexture.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ccaf14e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/raycast/webglRaycastTexture.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}