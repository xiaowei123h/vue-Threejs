webpackJsonp([2],{"85s5":function(e,t,i){"use strict";var s=i("6+nK"),r=i("fcDU"),n=i("fD1D"),a=i("Ah8h"),o=function(e,t){a.a.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};o.prototype=Object.assign(Object.create(a.a.prototype),{constructor:o,render:function(e,t,i){var s,r,n=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(s=0,r=1):(s=1,r=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),a.buffers.stencil.setFunc(n.ALWAYS,s,4294967295),a.buffers.stencil.setClear(r),a.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(n.EQUAL,1,4294967295),a.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),a.buffers.stencil.setLocked(!0)}});var h=function(){a.a.call(this),this.needsSwap=!1};h.prototype=Object.create(a.a.prototype),Object.assign(h.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}),i.d(t,"a",function(){return c});var c=function(e,t){if(this.renderer=e,void 0===t){var i={minFilter:s._8,magFilter:s._8,format:s._47},a=e.getSize(new s._87);this._pixelRatio=e.getPixelRatio(),this._width=a.width,this._height=a.height,(t=new s._91(this._width*this._pixelRatio,this._height*this._pixelRatio,i)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===r.a&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===n.a&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new n.a(r.a),this.clock=new s.o};Object.assign(c.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,i,s=this.renderer.getRenderTarget(),r=!1,n=this.passes.length;for(i=0;i<n;i++)if(!1!==(t=this.passes[i]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),t.needsSwap){if(r){var a=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),c.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==o&&(t instanceof o?r=!0:t instanceof h&&(r=!1))}this.renderer.setRenderTarget(s)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new s._87);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var i=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(i,s),this.renderTarget2.setSize(i,s);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(i,s)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var l,d,u,f=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(f.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),f.FullScreenQuad=(l=new s._35(-1,1,1,-1,0,1),d=new s._40(2,2),u=function(e){this._mesh=new s._19(d,e)},Object.defineProperty(u.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(u.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(e){e.render(this._mesh,l)}}),u)},Ah8h:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var s,r,n,a=i("6+nK");function o(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(o.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),o.FullScreenQuad=(s=new a._35(-1,1,1,-1,0,1),r=new a._40(2,2),n=function(e){this._mesh=new a._19(r,e)},Object.defineProperty(n.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(n.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(e){e.render(this._mesh,s)}}),n)},Jf61:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("85s5"),r=i("Z9IJ"),n=i("fD1D"),a=i("6+nK"),o=i("Ah8h"),h=i("fcDU"),c={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new a._87(.001953125,0)},cKernel:{value:[]}},vertexShader:["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","\tvec2 imageCoord = vUv;","\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","\t\timageCoord += uImageIncrement;","\t}","\tgl_FragColor = sum;","}"].join("\n"),buildKernel:function(e){function t(e,t){return Math.exp(-e*e/(2*t*t))}var i,s,r,n,a=2*Math.ceil(3*e)+1;for(a>25&&(a=25),n=.5*(a-1),s=new Array(a),r=0,i=0;i<a;++i)s[i]=t(i-n,e),r+=s[i];for(i=0;i<a;++i)s[i]/=r;return s}},l=function e(t,i,s,r){o.a.call(this),t=void 0!==t?t:1,i=void 0!==i?i:25,s=void 0!==s?s:4,r=void 0!==r?r:256;var n={minFilter:a._8,magFilter:a._8,format:a._47};this.renderTargetX=new a._91(r,r,n),this.renderTargetX.texture.name="BloomPass.x",this.renderTargetY=new a._91(r,r,n),this.renderTargetY.texture.name="BloomPass.y",void 0===h.a&&console.error("BloomPass relies on CopyShader");var l=h.a;this.copyUniforms=a._85.clone(l.uniforms),this.copyUniforms.opacity.value=t,this.materialCopy=new a._63({uniforms:this.copyUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:a.b,transparent:!0}),void 0===c&&console.error("BloomPass relies on ConvolutionShader");var d=c;this.convolutionUniforms=a._85.clone(d.uniforms),this.convolutionUniforms.uImageIncrement.value=e.blurX,this.convolutionUniforms.cKernel.value=c.buildKernel(s),this.materialConvolution=new a._63({uniforms:this.convolutionUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,defines:{KERNEL_SIZE_FLOAT:i.toFixed(1),KERNEL_SIZE_INT:i.toFixed(0)}}),this.needsSwap=!1,this.fsQuad=new o.a.FullScreenQuad(null)};l.prototype=Object.assign(Object.create(o.a.prototype),{constructor:l,render:function(e,t,i,s,r){r&&e.state.buffers.stencil.setTest(!1),this.fsQuad.material=this.materialConvolution,this.convolutionUniforms.tDiffuse.value=i.texture,this.convolutionUniforms.uImageIncrement.value=l.blurX,e.setRenderTarget(this.renderTargetX),e.clear(),this.fsQuad.render(e),this.convolutionUniforms.tDiffuse.value=this.renderTargetX.texture,this.convolutionUniforms.uImageIncrement.value=l.blurY,e.setRenderTarget(this.renderTargetY),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetY.texture,r&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(i),this.clear&&e.clear(),this.fsQuad.render(e)}}),l.blurX=new a._87(.001953125,0),l.blurY=new a._87(0,.001953125);var d={data:function(){return{container:null,camera:null,scene:null,renderer:null,video:null,texture:null,material:null,mesh:null,composer:null,mouseX:0,mouseY:0,windowHalfX:null,windowHalfY:null,cube_count:null,meshes:[],materials:[],xgrid:20,ygrid:10,startButton:null,h:null,counter:1}},mounted:function(){var e=this;this.windowHalfX=this.$webglInnerWidth/2,this.windowHalfY=window.innerHeight/2,this.startButton=document.getElementById("startButton"),this.startButton.addEventListener("click",function(){e.init(),e.animate()},!1)},methods:{init:function(){var e=this;document.getElementById("overlay").remove(),this.container=document.createElement("div"),document.getElementsByClassName("webglMaterialsVideo-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,1e4),this.camera.position.z=500,this.scene=new this.$THREE.Scene;var t,i,a,o,c,d=new this.$THREE.DirectionalLight(16777215);d.position.set(.5,1,1).normalize(),this.scene.add(d),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.video=document.getElementById("video"),this.video.play(),this.video.addEventListener("play",function(){e.currentTime=3},!1),this.texture=new this.$THREE.VideoTexture(this.video);var u=1/this.xgrid,f=1/this.ygrid,m=480/this.xgrid,v=204/this.ygrid,p={color:16777215,map:this.texture};for(this.cube_count=0,t=0;t<this.xgrid;t++)for(i=0;i<this.ygrid;i++)a=t,o=i,c=new this.$THREE.BoxBufferGeometry(m,v,m),this.change_uvs(c,u,f,a,o),this.materials[this.cube_count]=new this.$THREE.MeshLambertMaterial(p),this.material=this.materials[this.cube_count],this.material.hue=t/this.xgrid,this.material.saturation=1-i/this.ygrid,this.material.color.setHSL(this.material.hue,this.material.saturation,.5),this.mesh=new this.$THREE.Mesh(c,this.material),this.mesh.position.x=(t-this.xgrid/2)*m,this.mesh.position.y=(i-this.ygrid/2)*v,this.mesh.position.z=0,this.mesh.scale.x=this.mesh.scale.y=this.mesh.scale.z=1,this.scene.add(this.mesh),this.mesh.dx=.001*(.5-Math.random()),this.mesh.dy=.001*(.5-Math.random()),this.meshes[this.cube_count]=this.mesh,this.cube_count+=1;this.renderer.autoClear=!1,document.addEventListener("mousemove",this.onDocumentMouseMove,!1);var g=new r.a(this.scene,this.camera),_=new l(1.3),w=new n.a(h.a);this.composer=new s.a(this.renderer),this.composer.addPass(g),this.composer.addPass(_),this.composer.addPass(w),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.windowHalfX=(window.innerWidth-281)/2,this.windowHalfY=window.innerHeight/2,this.$onWindowResize(this.camera,this.renderer),this.composer.setSize(window.innerWidth-281,window.innerHeight)},change_uvs:function(e,t,i,s,r){for(var n=e.attributes.uv.array,a=0;a<n.length;a+=2)n[a]=(n[a]+s)*t,n[a+1]=(n[a+1]+r)*i},onDocumentMouseMove:function(e){this.mouseX=e.clientX-this.windowHalfX,this.mouseY=.3*(e.clientY-this.windowHalfY)},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){var e=5e-5*Date.now();this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position);for(var t=0;t<this.cube_count;t++)this.material=this.materials[t],this.h=360*(this.material.hue+e)%360/360,this.material.color.setHSL(this.h,this.material.saturation,.5);if(this.counter%1e3>200)for(t=0;t<this.cube_count;t++)this.mesh=this.meshes[t],this.mesh.rotation.x+=10*this.mesh.dx,this.mesh.rotation.y+=10*this.mesh.dy,this.mesh.position.x-=150*this.mesh.dx,this.mesh.position.y+=150*this.mesh.dy,this.mesh.position.z+=300*this.mesh.dx;if(this.counter%1e3==0)for(t=0;t<this.cube_count;t++)this.mesh=this.meshes[t],this.mesh.dx*=-1,this.mesh.dy*=-1;this.counter++,this.renderer.clear(),this.composer.render()}}},u={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"webglMaterialsVideo-container"},[i("div",{attrs:{id:"overlay"}},[i("button",{attrs:{id:"startButton"}},[e._v("Play")])]),e._v(" "),i("div",{attrs:{id:"container"}}),e._v(" "),i("div",{attrs:{id:"info"}},[i("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[e._v("three.js")]),e._v(" - webgl video demo"),i("br"),e._v("\n\t\t\tplaying "),i("a",{attrs:{href:"http://durian.blender.org/",target:"_blank",rel:"noopener"}},[e._v("sintel")]),e._v(" trailer\n\t\t")]),e._v(" "),i("video",{staticStyle:{display:"none"},attrs:{id:"video",loop:"",crossOrigin:"anonymous",playsinline:""}},[i("source",{attrs:{src:"static/textures/sintel.ogv",type:'video/ogg; codecs="theora, vorbis"'}}),e._v(" "),i("source",{attrs:{src:"static/textures/sintel.mp4",type:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"'}})])])}]};var f=i("VU/8")(d,u,!1,function(e){i("o/VN")},"data-v-05a4ab4f",null);t.default=f.exports},Z9IJ:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var s=i("Ah8h"),r=function(e,t,i,r,n){s.a.call(this),this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=void 0!==n?n:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};r.prototype=Object.assign(Object.create(s.a.prototype),{constructor:r,render:function(e,t,i){var s,r,n,a=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(n=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(s=e.getClearColor().getHex(),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(s,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=n),e.autoClear=a}})},fD1D:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s=i("6+nK"),r=i("Ah8h"),n=function(e,t){r.a.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof s._63?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=s._85.clone(e.uniforms),this.material=new s._63({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new r.a.FullScreenQuad(this.material)};n.prototype=Object.assign(Object.create(r.a.prototype),{constructor:n,render:function(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}})},fcDU:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")}},"o/VN":function(e,t){}});
//# sourceMappingURL=2.0c7a5d49e6af602caf35.js.map