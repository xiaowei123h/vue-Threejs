webpackJsonp([20],{CAjC:function(t,e){},N2BP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("QEtz"),r={data:function(){return{vertexShader:null,fragmentShader:null,container:null,stats:null,camera:null,scene:null,renderer:null,gui:null}},mounted:function(){this.vertexShader="\n            precision highp float;\n            uniform float sineTime;\n            uniform mat4 modelViewMatrix;\n            uniform mat4 projectionMatrix;\n            attribute vec3 position;\n            attribute vec3 offset;\n            attribute vec4 color;\n            attribute vec4 orientationStart;\n            attribute vec4 orientationEnd;\n            varying vec3 vPosition;\n            varying vec4 vColor;\n            void main(){\n                vPosition = offset * max( abs( sineTime * 2.0 + 1.0 ), 0.5 ) + position;\n                vec4 orientation = normalize( mix( orientationStart, orientationEnd, sineTime ) );\n                vec3 vcV = cross( orientation.xyz, vPosition );\n                vPosition = vcV * ( 2.0 * orientation.w ) + ( cross( orientation.xyz, vcV ) * 2.0 + vPosition );\n                vColor = color;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4( vPosition, 1.0 );\n            }",this.fragmentShader="\n            precision highp float;\n            uniform float time;\n            varying vec3 vPosition;\n            varying vec4 vColor;\n            void main() {\n                vec4 color = vec4( vColor );\n                color.r += sin( vPosition.x * 10.0 + time ) * 0.5;\n                gl_FragColor = color;\n            }",this.init(),this.animate()},beforeDestroy:function(){this.gui.hide()},methods:{init:function(){this.container=document.getElementById("container"),this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,1,10),this.camera.position.z=2,this.scene=new this.$THREE.Scene;var t=new this.$THREE.Vector4,e=[],n=[],r=[],a=[],o=[];e.push(.025,-.025,0),e.push(-.025,.025,0),e.push(0,0,.025);for(var s=0;s<5e4;s++)n.push(Math.random()-.5,Math.random()-.5,Math.random()-.5),r.push(Math.random(),Math.random(),Math.random(),Math.random()),t.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1,2*Math.random()-1),t.normalize(),a.push(t.x,t.y,t.z,t.w),t.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1,2*Math.random()-1),t.normalize(),o.push(t.x,t.y,t.z,t.w);var h=new this.$THREE.InstancedBufferGeometry;h.instanceCount=5e4,h.setAttribute("position",new this.$THREE.Float32BufferAttribute(e,3)),h.setAttribute("offset",new this.$THREE.InstancedBufferAttribute(new Float32Array(n),3)),h.setAttribute("color",new this.$THREE.InstancedBufferAttribute(new Float32Array(r),4)),h.setAttribute("orientationStart",new this.$THREE.InstancedBufferAttribute(new Float32Array(a),4)),h.setAttribute("orientationEnd",new this.$THREE.InstancedBufferAttribute(new Float32Array(o),4));var d=new this.$THREE.RawShaderMaterial({uniforms:{time:{value:1},sineTime:{value:1}},vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,side:this.$THREE.DoubleSide,transparent:!0}),c=new this.$THREE.Mesh(h,d);this.scene.add(c),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),!1!==this.renderer.capabilities.isWebGL2||!1!==this.renderer.extensions.has("ANGLE_instanced_arrays")?(this.gui=new i.a({width:350}),this.gui.add(h,"instanceCount",0,5e4),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)):document.getElementById("notSupported").style.display=""},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var t=performance.now(),e=this.scene.children[0];e.rotation.y=5e-4*t,e.material.uniforms.time.value=.005*t,e.material.uniforms.sineTime.value=Math.sin(.05*e.material.uniforms.time.value),this.renderer.render(this.scene,this.camera)}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglBuffergeometryInstancing-container"},[e("div",{attrs:{id:"container"}}),this._v(" "),e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - instancing demo (single triangle)\n        "),e("div",{staticStyle:{display:"none"},attrs:{id:"notSupported"}},[this._v("Sorry your graphics card + browser does not support hardware instancing")])])])}]};var o=n("VU/8")(r,a,!1,function(t){n("CAjC")},"data-v-fe429a16",null);e.default=o.exports}});
//# sourceMappingURL=20.e89b0a12f9cb0279b152.js.map