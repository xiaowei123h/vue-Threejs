webpackJsonp([205],{IDwk:function(e,t){},RLsJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("wIBv"),n=i("qxm1"),r=i("6+nK"),s=function(){};!function(){var e=new r.Vector3,t=new r.Vector3;function i(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function o(e,t){var i,o,n,r=t.position.distanceTo(e.position),s=0,h=[],a=e.faces.length;for(i=0;i<a;i++)(o=e.faces[i]).hasVertex(t)&&h.push(o);for(i=0;i<a;i++){var l=1;o=e.faces[i];for(var c=0;c<h.length;c++){n=h[c];var f=o.normal.dot(n.normal);l=Math.min(l,(1.001-f)/2)}s=Math.max(s,l)}return h.length<2&&(s=1),r*s+0}function n(e){if(0===e.neighbors.length)return e.collapseNeighbor=null,void(e.collapseCost=-.01);e.collapseCost=1e5,e.collapseNeighbor=null;for(var t=0;t<e.neighbors.length;t++){var i=o(e,e.neighbors[t]);e.collapseNeighbor||(e.collapseNeighbor=e.neighbors[t],e.collapseCost=i,e.minCost=i,e.totalCost=0,e.costCount=0),e.costCount++,e.totalCost+=i,i<e.minCost&&(e.collapseNeighbor=e.neighbors[t],e.minCost=i)}e.collapseCost=e.totalCost/e.costCount}function h(e,t){for(console.assert(0===e.faces.length);e.neighbors.length;){i(e.neighbors.pop().neighbors,e)}i(t,e)}function a(e,t){i(t,e),e.v1&&i(e.v1.faces,e),e.v2&&i(e.v2.faces,e),e.v3&&i(e.v3.faces,e);for(var o,n,r=[e.v1,e.v2,e.v3],s=0;s<3;s++)n=r[(s+1)%3],(o=r[s])&&n&&(o.removeIfNonNeighbor(n),n.removeIfNonNeighbor(o))}function l(e,t,i,o){if(o){var r,s=[];for(r=0;r<i.neighbors.length;r++)s.push(i.neighbors[r]);for(r=i.faces.length-1;r>=0;r--)i.faces[r].hasVertex(o)&&a(i.faces[r],t);for(r=i.faces.length-1;r>=0;r--)i.faces[r].replaceVertex(i,o);for(h(i,e),r=0;r<s.length;r++)n(s[r])}else h(i,e)}function c(e){for(var t=e[0],i=0;i<e.length;i++)e[i].collapseCost<t.collapseCost&&(t=e[i]);return t}function f(e,t,i,o,n,s){this.a=o,this.b=n,this.c=s,this.v1=e,this.v2=t,this.v3=i,this.normal=new r.Vector3,this.computeNormal(),e.faces.push(this),e.addUniqueNeighbor(t),e.addUniqueNeighbor(i),t.faces.push(this),t.addUniqueNeighbor(e),t.addUniqueNeighbor(i),i.faces.push(this),i.addUniqueNeighbor(e),i.addUniqueNeighbor(t)}function d(e,t){this.position=e,this.id=t,this.faces=[],this.neighbors=[],this.collapseCost=0,this.collapseNeighbor=null}f.prototype.computeNormal=function(){var i=this.v1.position,o=this.v2.position,n=this.v3.position;e.subVectors(n,o),t.subVectors(i,o),e.cross(t).normalize(),this.normal.copy(e)},f.prototype.hasVertex=function(e){return e===this.v1||e===this.v2||e===this.v3},f.prototype.replaceVertex=function(e,t){e===this.v1?this.v1=t:e===this.v2?this.v2=t:e===this.v3&&(this.v3=t),i(e.faces,this),t.faces.push(this),e.removeIfNonNeighbor(this.v1),this.v1.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v2),this.v2.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v3),this.v3.removeIfNonNeighbor(e),this.v1.addUniqueNeighbor(this.v2),this.v1.addUniqueNeighbor(this.v3),this.v2.addUniqueNeighbor(this.v1),this.v2.addUniqueNeighbor(this.v3),this.v3.addUniqueNeighbor(this.v1),this.v3.addUniqueNeighbor(this.v2),this.computeNormal()},d.prototype.addUniqueNeighbor=function(e){var t,i;t=this.neighbors,i=e,-1===t.indexOf(i)&&t.push(i)},d.prototype.removeIfNonNeighbor=function(e){var t=this.neighbors,i=this.faces,o=t.indexOf(e);if(-1!==o){for(var n=0;n<i.length;n++)if(i[n].hasVertex(e))return;t.splice(o,1)}},s.prototype.modify=function(e,t){e.isBufferGeometry&&(e=(new r.Geometry).fromBufferGeometry(e)),e.mergeVertices();var i,o,s,h=e.vertices,a=e.faces,v=[],u=[];for(i=0,o=h.length;i<o;i++){var g=new d(h[i],i);v.push(g)}for(i=0,o=a.length;i<o;i++){var p=(E=a[i]).a,m=E.b,b=E.c,N=new f(v[p],v[m],v[b],p,m,b);u.push(N)}for(i=0,o=v.length;i<o;i++)n(v[i]);for(var w=t;w--;){if(!(s=c(v))){console.log("THREE.SimplifyModifier: No next vertex");break}l(v,u,s,s.collapseNeighbor)}var y=new r.BufferGeometry,x=[],C=[];for(i=0;i<v.length;i++){g=v[i].position;x.push(g.x,g.y,g.z)}for(i=0;i<u.length;i++){var E=u[i];p=v.indexOf(E.v1),m=v.indexOf(E.v2),b=v.indexOf(E.v3);C.push(p,m,b)}return y.setAttribute("position",new r.Float32BufferAttribute(x,3)),y.setIndex(C),y}}();var h={data:function(){return{renderer:null,scene:null,camera:null}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=document.createElement("div");t.style.position="absolute",t.style.top="10px",t.style.width="100%",t.style.textAlign="center",t.innerHTML='<a href="https://threejs.org" target="_blank" rel="noopener">three.js</a> - Vertex Reduction using SimplifyModifier',document.getElementsByClassName("webglModifierSimplifier-container")[0].appendChild(t),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglModifierSimplifier-container")[0].appendChild(this.renderer.domElement),this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.z=15;var i=new o.b(this.camera,this.renderer.domElement);i.addEventListener("change",this.render),i.enablePan=!1,i.enableZoom=!1,this.scene.add(new this.$THREE.AmbientLight(16777215,.2));var r=new this.$THREE.PointLight(16777215,.7);this.camera.add(r),this.scene.add(this.camera),(new n.a).load("static/models/gltf/LeePerrySmith/LeePerrySmith.glb",function(t){var i=t.scene.children[0];i.position.x=-3,i.rotation.y=Math.PI/2,e.scene.add(i);var o=new s,n=i.clone();n.material=n.material.clone(),n.material.flatShading=!0;var r=Math.floor(.875*n.geometry.attributes.position.count);n.geometry=o.modify(n.geometry,r),n.position.x=3,n.rotation.y=-Math.PI/2,e.scene.add(n),e.render()}),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"webglModifierSimplifier-container"})},staticRenderFns:[]};var l=i("VU/8")(h,a,!1,function(e){i("IDwk")},"data-v-576ba4df",null);t.default=l.exports}});
//# sourceMappingURL=205.80a06bf88d19c6d2a960.js.map