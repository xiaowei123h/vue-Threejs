webpackJsonp([206],{"Ac+1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("zCdm"),n=i("6+nK"),s={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o={};o[n.NearestFilter]=s.NEAREST,o[n.NearestMipmapNearestFilter]=s.NEAREST_MIPMAP_NEAREST,o[n.NearestMipmapLinearFilter]=s.NEAREST_MIPMAP_LINEAR,o[n.LinearFilter]=s.LINEAR,o[n.LinearMipmapNearestFilter]=s.LINEAR_MIPMAP_NEAREST,o[n.LinearMipmapLinearFilter]=s.LINEAR_MIPMAP_LINEAR,o[n.ClampToEdgeWrapping]=s.CLAMP_TO_EDGE,o[n.RepeatWrapping]=s.REPEAT,o[n.MirroredRepeatWrapping]=s.MIRRORED_REPEAT;var l={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},h=function(){};h.prototype={constructor:h,parse:function(e,t,i){var r={binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1};(i=Object.assign({},r,i)).animations.length>0&&(i.trs=!0);var c,u={asset:{version:"2.0",generator:"GLTFExporter"}},m=0,p=[],d=[],f=new Map,E=[],g={},b={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},v=new Map,T=0;function y(e){return v.has(e)||v.set(e,T++),v.get(e)}function w(e,t){return e.length===t.length&&e.every(function(e,i){return e===t[i]})}function R(e){return 4*Math.ceil(e/4)}function x(e,t){t=t||0;var i=R(e.byteLength);if(i!==e.byteLength){var r=new Uint8Array(i);if(r.set(new Uint8Array(e)),0!==t)for(var n=e.byteLength;n<i;n++)r[n]=t;return r.buffer}return e}function M(e,t){if(0!==Object.keys(e.userData).length)try{var r=JSON.parse(JSON.stringify(e.userData));if(i.includeCustomExtensions&&r.gltfExtensions){for(var n in void 0===t.extensions&&(t.extensions={}),r.gltfExtensions)t.extensions[n]=r.gltfExtensions[n],g[n]=!0;delete r.gltfExtensions}Object.keys(r).length>0&&(t.extras=r)}catch(t){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+t.message)}}function _(e,t){var i=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),i=!0),0!==t.rotation&&(r.rotation=t.rotation,i=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),i=!0),i&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,g.KHR_texture_transform=!0)}function A(e){return u.buffers||(u.buffers=[{byteLength:0}]),p.push(e),0}function S(e,t,r,n){var a;if(e.array.constructor===Float32Array)a=s.FLOAT;else if(e.array.constructor===Uint32Array)a=s.UNSIGNED_INT;else if(e.array.constructor===Uint16Array)a=s.UNSIGNED_SHORT;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");a=s.UNSIGNED_BYTE}if(void 0===r&&(r=0),void 0===n&&(n=e.count),i.truncateDrawRange&&void 0!==t&&null===t.index){var o=r+n,l=t.drawRange.count===1/0?e.count:t.drawRange.start+t.drawRange.count;r=Math.max(r,t.drawRange.start),(n=Math.min(o,l)-r)<0&&(n=0)}if(0===n)return null;var h,c=function(e,t,i){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},n=t;n<t+i;n++)for(var s=0;s<e.itemSize;s++){var a=e.array[n*e.itemSize+s];r.min[s]=Math.min(r.min[s],a),r.max[s]=Math.max(r.max[s],a)}return r}(e,r,n);void 0!==t&&(h=e===t.index?s.ELEMENT_ARRAY_BUFFER:s.ARRAY_BUFFER);var p=function(e,t,i,r,n){var a;u.bufferViews||(u.bufferViews=[]),a=t===s.UNSIGNED_BYTE?1:t===s.UNSIGNED_SHORT?2:4;for(var o=R(r*e.itemSize*a),l=new DataView(new ArrayBuffer(o)),h=0,c=i;c<i+r;c++)for(var p=0;p<e.itemSize;p++){var d;e.itemSize>4?d=e.array[c*e.itemSize+p]:0===p?d=e.getX(c):1===p?d=e.getY(c):2===p?d=e.getZ(c):3===p&&(d=e.getW(c)),t===s.FLOAT?l.setFloat32(h,d,!0):t===s.UNSIGNED_INT?l.setUint32(h,d,!0):t===s.UNSIGNED_SHORT?l.setUint16(h,d,!0):t===s.UNSIGNED_BYTE&&l.setUint8(h,d),h+=a}var f={buffer:A(l.buffer),byteOffset:m,byteLength:o};return void 0!==n&&(f.target=n),n===s.ARRAY_BUFFER&&(f.byteStride=e.itemSize*a),m+=o,u.bufferViews.push(f),{id:u.bufferViews.length-1,byteLength:0}}(e,a,r,n,h),d={bufferView:p.id,byteOffset:p.byteOffset,componentType:a,count:n,max:c.max,min:c.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(d.normalized=!0),u.accessors||(u.accessors=[]),u.accessors.push(d),u.accessors.length-1}function H(e,t,r){b.images.has(e)||b.images.set(e,{});var s=b.images.get(e),a=t===n.RGBAFormat?"image/png":"image/jpeg",o=a+":flipY/"+r.toString();if(void 0!==s[o])return s[o];u.images||(u.images=[]);var l={mimeType:a};if(i.embedImages){var h=c=c||document.createElement("canvas");h.width=Math.min(e.width,i.maxTextureSize),h.height=Math.min(e.height,i.maxTextureSize);var p=h.getContext("2d");!0===r&&(p.translate(0,h.height),p.scale(1,-1)),p.drawImage(e,0,0,h.width,h.height),!0===i.binary?d.push(new Promise(function(e){h.toBlob(function(t){(function(e){return u.bufferViews||(u.bufferViews=[]),new Promise(function(t){var i=new window.FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=x(i.result),r={buffer:A(e),byteOffset:m,byteLength:e.byteLength};m+=e.byteLength,u.bufferViews.push(r),t(u.bufferViews.length-1)}})})(t).then(function(t){l.bufferView=t,e()})},a)})):l.uri=h.toDataURL(a)}else l.uri=e.src;u.images.push(l);var f=u.images.length-1;return s[o]=f,f}function L(e){if(b.textures.has(e))return b.textures.get(e);u.textures||(u.textures=[]);var t={sampler:function(e){u.samplers||(u.samplers=[]);var t={magFilter:o[e.magFilter],minFilter:o[e.minFilter],wrapS:o[e.wrapS],wrapT:o[e.wrapT]};return u.samplers.push(t),u.samplers.length-1}(e),source:H(e.image,e.format,e.flipY)};e.name&&(t.name=e.name),u.textures.push(t);var i=u.textures.length-1;return b.textures.set(e,i),i}function I(e){if(b.materials.has(e))return b.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;u.materials||(u.materials=[]);var t={pbrMetallicRoughness:{}};e.isMeshBasicMaterial?(t.extensions={KHR_materials_unlit:{}},g.KHR_materials_unlit=!0):e.isGLTFSpecularGlossinessMaterial?(t.extensions={KHR_materials_pbrSpecularGlossiness:{}},g.KHR_materials_pbrSpecularGlossiness=!0):e.isMeshStandardMaterial||console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=e.color.toArray().concat([e.opacity]);if(w(i,[1,1,1,1])||(t.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(t.pbrMetallicRoughness.metallicFactor=e.metalness,t.pbrMetallicRoughness.roughnessFactor=e.roughness):e.isMeshBasicMaterial?(t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9):(t.pbrMetallicRoughness.metallicFactor=.5,t.pbrMetallicRoughness.roughnessFactor=.5),e.isGLTFSpecularGlossinessMaterial){t.pbrMetallicRoughness.baseColorFactor&&(t.extensions.KHR_materials_pbrSpecularGlossiness.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);var r=[1,1,1];e.specular.toArray(r,0),t.extensions.KHR_materials_pbrSpecularGlossiness.specularFactor=r,t.extensions.KHR_materials_pbrSpecularGlossiness.glossinessFactor=e.glossiness}if(e.metalnessMap||e.roughnessMap)if(e.metalnessMap===e.roughnessMap){var s={index:L(e.metalnessMap)};_(s,e.metalnessMap),t.pbrMetallicRoughness.metallicRoughnessTexture=s}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(e.map){var a={index:L(e.map)};_(a,e.map),e.isGLTFSpecularGlossinessMaterial&&(t.extensions.KHR_materials_pbrSpecularGlossiness.diffuseTexture=a),t.pbrMetallicRoughness.baseColorTexture=a}if(e.isGLTFSpecularGlossinessMaterial&&e.specularMap){var o={index:L(e.specularMap)};_(o,e.specularMap),t.extensions.KHR_materials_pbrSpecularGlossiness.specularGlossinessTexture=o}if(e.emissive){var l=e.emissive.clone().multiplyScalar(e.emissiveIntensity).toArray();if(w(l,[0,0,0])||(t.emissiveFactor=l),e.emissiveMap){var h={index:L(e.emissiveMap)};_(h,e.emissiveMap),t.emissiveTexture=h}}if(e.normalMap){var c={index:L(e.normalMap)};e.normalScale&&-1!==e.normalScale.x&&(e.normalScale.x!==e.normalScale.y&&console.warn("THREE.GLTFExporter: Normal scale components are different, ignoring Y and exporting X."),c.scale=e.normalScale.x),_(c,e.normalMap),t.normalTexture=c}if(e.aoMap){var m={index:L(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(m.strength=e.aoMapIntensity),_(m,e.aoMap),t.occlusionTexture=m}e.transparent?t.alphaMode="BLEND":e.alphaTest>0&&(t.alphaMode="MASK",t.alphaCutoff=e.alphaTest),e.side===n.DoubleSide&&(t.doubleSided=!0),""!==e.name&&(t.name=e.name),M(e,t),u.materials.push(t);var p=u.materials.length-1;return b.materials.set(e,p),p}function N(e){var t=[e.geometry.uuid];if(Array.isArray(e.material))for(var i=0,r=e.material.length;i<r;i++)t.push(e.material[i].uuid);else t.push(e.material.uuid);var a=t.join(":");if(b.meshes.has(a))return b.meshes.get(a);var o,l=e.geometry;o=e.isLineSegments?s.LINES:e.isLineLoop?s.LINE_LOOP:e.isLine?s.LINE_STRIP:e.isPoints?s.POINTS:e.material.wireframe?s.LINES:s.TRIANGLES,l.isBufferGeometry||(console.warn("GLTFExporter: Exporting THREE.Geometry will increase file size. Use BufferGeometry instead."),l=(new n.BufferGeometry).setFromObject(e));var h={},c={},m=[],p=[],d={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},f=l.getAttribute("normal");void 0===f||function(e){if(b.attributesNormalized.has(e))return!1;for(var t=new n.Vector3,i=0,r=e.count;i<r;i++)if(Math.abs(t.fromArray(e.array,3*i).length()-1)>5e-4)return!1;return!0}(f)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),l.setAttribute("normal",function(e){if(b.attributesNormalized.has(e))return b.attributesNormalized.get(e);for(var t=e.clone(),i=new n.Vector3,r=0,s=t.count;r<s;r++)i.fromArray(t.array,3*r),0===i.x&&0===i.y&&0===i.z?i.setX(1):i.normalize(),i.toArray(t.array,3*r);return b.attributesNormalized.set(e,t),t}(f)));var E=null;for(var g in l.attributes)if("morph"!==g.substr(0,5)){var v=l.attributes[g];g=d[g]||g.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(g)||(g="_"+g),b.attributes.has(y(v)))c[g]=b.attributes.get(y(v));else{E=null;var T=v.array;"JOINTS_0"!==g||T instanceof Uint16Array||T instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),E=new n.BufferAttribute(new Uint16Array(T),v.itemSize,v.normalized));var w=S(E||v,l);null!==w&&(c[g]=w,b.attributes.set(y(v),w))}}if(void 0!==f&&l.setAttribute("normal",f),0===Object.keys(c).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var R=[],x=[],_={};if(void 0!==e.morphTargetDictionary)for(var A in e.morphTargetDictionary)_[e.morphTargetDictionary[A]]=A;for(i=0;i<e.morphTargetInfluences.length;++i){var H={},L=!1;for(var g in l.morphAttributes)if("position"===g||"normal"===g){v=l.morphAttributes[g][i];var N=g.toUpperCase(),G=l.attributes[g];if(b.attributes.has(y(v)))H[N]=b.attributes.get(y(v));else{var j=v.clone();if(!l.morphTargetsRelative)for(var B=0,F=v.count;B<F;B++)j.setXYZ(B,v.getX(B)-G.getX(B),v.getY(B)-G.getY(B),v.getZ(B)-G.getZ(B));H[N]=S(j,l),b.attributes.set(y(G),H[N])}}else L||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),L=!0);p.push(H),R.push(e.morphTargetInfluences[i]),void 0!==e.morphTargetDictionary&&x.push(_[i])}h.weights=R,x.length>0&&(h.extras={},h.extras.targetNames=x)}var $=Array.isArray(e.material);if($&&0===l.groups.length)return null;for(var O=$?e.material:[e.material],P=$?l.groups:[{materialIndex:0,start:void 0,count:void 0}],k=(i=0,P.length);i<k;i++){var C={mode:o,attributes:c};if(M(l,C),p.length>0&&(C.targets=p),null!==l.index){var z=y(l.index);void 0===P[i].start&&void 0===P[i].count||(z+=":"+P[i].start+":"+P[i].count),b.attributes.has(z)?C.indices=b.attributes.get(z):(C.indices=S(l.index,l,P[i].start,P[i].count),b.attributes.set(z,C.indices)),null===C.indices&&delete C.indices}var U=I(O[P[i].materialIndex]);null!==U&&(C.material=U),m.push(C)}h.primitives=m,u.meshes||(u.meshes=[]),u.meshes.push(h);var D=u.meshes.length-1;return b.meshes.set(a,D),D}function G(e,t){u.animations||(u.animations=[]);for(var i=(e=h.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,r=[],s=[],a=0;a<i.length;++a){var o=i[a],c=n.PropertyBinding.parseTrackName(o.name),m=n.PropertyBinding.findNode(t,c.nodeName),p=l[c.propertyName];if("bones"===c.objectName&&(m=!0===m.isSkinnedMesh?m.skeleton.getBoneByName(c.objectIndex):void 0),!m||!p)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',o.name),null;var d,E=o.values.length/o.times.length;p===l.morphTargetInfluences&&(E/=m.morphTargetInfluences.length),!0===o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(d="CUBICSPLINE",E/=3):d=o.getInterpolation()===n.InterpolateDiscrete?"STEP":"LINEAR",s.push({input:S(new n.BufferAttribute(o.times,1)),output:S(new n.BufferAttribute(o.values,E)),interpolation:d}),r.push({sampler:s.length-1,target:{node:f.get(m),path:p}})}return u.animations.push({name:e.name||"clip_"+u.animations.length,samplers:s,channels:r}),u.animations.length-1}function j(e){var t=u.nodes[f.get(e)],i=e.skeleton;if(void 0===i)return null;var r=e.skeleton.bones[0];if(void 0===r)return null;for(var s=[],a=new Float32Array(16*i.bones.length),o=0;o<i.bones.length;++o)s.push(f.get(i.bones[o])),i.boneInverses[o].toArray(a,16*o);return void 0===u.skins&&(u.skins=[]),u.skins.push({inverseBindMatrices:S(new n.BufferAttribute(a,16)),joints:s,skeleton:f.get(r)}),t.skin=u.skins.length-1}function B(e){u.nodes||(u.nodes=[]);var t={};if(i.trs){var r=e.quaternion.toArray(),s=e.position.toArray(),o=e.scale.toArray();w(r,[0,0,0,1])||(t.rotation=r),w(s,[0,0,0])||(t.translation=s),w(o,[1,1,1])||(t.scale=o)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===w(e.matrix.elements,a)&&(t.matrix=e.matrix.elements);if(""!==e.name&&(t.name=String(e.name)),M(e,t),e.isMesh||e.isLine||e.isPoints){var l=N(e);null!==l&&(t.mesh=l)}else if(e.isCamera)t.camera=function(e){u.cameras||(u.cameras=[]);var t=e.isOrthographicCamera,i={type:t?"orthographic":"perspective"};return t?i.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:i.perspective={aspectRatio:e.aspect,yfov:n.MathUtils.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(i.name=e.type),u.cameras.push(i),u.cameras.length-1}(e);else if(e.isDirectionalLight||e.isPointLight||e.isSpotLight)g.KHR_lights_punctual||(u.extensions=u.extensions||{},u.extensions.KHR_lights_punctual={lights:[]},g.KHR_lights_punctual=!0),t.extensions=t.extensions||{},t.extensions.KHR_lights_punctual={light:function(e){var t={};e.name&&(t.name=e.name),t.color=e.color.toArray(),t.intensity=e.intensity,e.isDirectionalLight?t.type="directional":e.isPointLight?(t.type="point",e.distance>0&&(t.range=e.distance)):e.isSpotLight&&(t.type="spot",e.distance>0&&(t.range=e.distance),t.spot={},t.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,t.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1.");var i=u.extensions.KHR_lights_punctual.lights;return i.push(t),i.length-1}(e)};else if(e.isLight)return console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e),null;if(e.isSkinnedMesh&&E.push(e),e.children.length>0){for(var h=[],c=0,m=e.children.length;c<m;c++){var p=e.children[c];if(p.visible||!1===i.onlyVisible){var d=B(p);null!==d&&h.push(d)}}h.length>0&&(t.children=h)}u.nodes.push(t);var b=u.nodes.length-1;return f.set(e,b),b}function F(e){u.scenes||(u.scenes=[],u.scene=0);var t={};""!==e.name&&(t.name=e.name),u.scenes.push(t);for(var r=[],n=0,s=e.children.length;n<s;n++){var a=e.children[n];if(a.visible||!1===i.onlyVisible){var o=B(a);null!==o&&r.push(o)}}r.length>0&&(t.nodes=r),M(e,t)}!function(e){e=e instanceof Array?e:[e];for(var t=[],r=0;r<e.length;r++)e[r]instanceof n.Scene?F(e[r]):t.push(e[r]);for(t.length>0&&function(e){var t=new n.Scene;t.name="AuxScene";for(var i=0;i<e.length;i++)t.children.push(e[i]);F(t)}(t),r=0;r<E.length;++r)j(E[r]);for(r=0;r<i.animations.length;++r)G(i.animations[r],e[0])}(e),Promise.all(d).then(function(){var e=new Blob(p,{type:"application/octet-stream"}),r=Object.keys(g);if(r.length>0&&(u.extensionsUsed=r),u.buffers&&u.buffers.length>0&&(u.buffers[0].byteLength=e.size),!0===i.binary){(n=new window.FileReader).readAsArrayBuffer(e),n.onloadend=function(){var e=x(n.result),i=new DataView(new ArrayBuffer(8));i.setUint32(0,e.byteLength,!0),i.setUint32(4,5130562,!0);var r=x(function(e){if(void 0!==window.TextEncoder)return(new TextEncoder).encode(e).buffer;for(var t=new Uint8Array(new ArrayBuffer(e.length)),i=0,r=e.length;i<r;i++){var n=e.charCodeAt(i);t[i]=n>255?32:n}return t.buffer}(JSON.stringify(u)),32),s=new DataView(new ArrayBuffer(8));s.setUint32(0,r.byteLength,!0),s.setUint32(4,1313821514,!0);var a=new ArrayBuffer(12),o=new DataView(a);o.setUint32(0,1179937895,!0),o.setUint32(4,2,!0);var l=12+s.byteLength+r.byteLength+i.byteLength+e.byteLength;o.setUint32(8,l,!0);var h=new Blob([a,s,r,i,e],{type:"application/octet-stream"}),c=new window.FileReader;c.readAsArrayBuffer(h),c.onloadend=function(){t(c.result)}}}else{var n;if(u.buffers&&u.buffers.length>0)(n=new window.FileReader).readAsDataURL(e),n.onloadend=function(){var e=n.result;u.buffers[0].uri=e,t(u)};else t(u)}})}},h.Utils={insertKeyframe:function(e,t){var i,r=e.getValueSize(),n=new e.TimeBufferType(e.times.length+1),s=new e.ValueBufferType(e.values.length+r),a=e.createInterpolant(new e.ValueBufferType(r));if(0===e.times.length){n[0]=t;for(var o=0;o<r;o++)s[o]=0;i=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<.001)return 0;n[0]=t,n.set(e.times,1),s.set(a.evaluate(t),0),s.set(e.values,r),i=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<.001)return e.times.length-1;n[n.length-1]=t,n.set(e.times,0),s.set(e.values,0),s.set(a.evaluate(t),e.values.length),i=n.length-1}else for(o=0;o<e.times.length;o++){if(Math.abs(e.times[o]-t)<.001)return o;if(e.times[o]<t&&e.times[o+1]>t){n.set(e.times.slice(0,o+1),0),n[o+1]=t,n.set(e.times.slice(o+1),o+2),s.set(e.values.slice(0,(o+1)*r),0),s.set(a.evaluate(t),(o+1)*r),s.set(e.values.slice((o+1)*r),(o+2)*r),i=o+1;break}}return e.times=n,e.values=s,i},mergeMorphTargetTracks:function(e,t){for(var i=[],r={},s=e.tracks,a=0;a<s.length;++a){var o=s[a],l=n.PropertyBinding.parseTrackName(o.name),h=n.PropertyBinding.findNode(t,l.nodeName);if("morphTargetInfluences"===l.propertyName&&void 0!==l.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(n.InterpolateLinear)}var c,u=h.morphTargetInfluences.length,m=h.morphTargetDictionary[l.propertyIndex];if(void 0===m)throw new Error("THREE.GLTFExporter: Morph target name not found: "+l.propertyIndex);if(void 0!==r[h.uuid]){var p=o.createInterpolant(new o.ValueBufferType(1));c=r[h.uuid];for(E=0;E<c.times.length;E++)c.values[E*u+m]=p.evaluate(c.times[E]);for(E=0;E<o.times.length;E++){var d=this.insertKeyframe(c,o.times[E]);c.values[d*u+m]=o.values[E]}}else{for(var f=new((c=o.clone()).ValueBufferType)(u*c.times.length),E=0;E<c.times.length;E++)f[E*u+m]=c.values[E];c.name=l.nodeName+".morphTargetInfluences",c.values=f,r[h.uuid]=c,i.push(c)}}else i.push(o)}return e.tracks=i,e}};var c={data:function(){return{link:null,container:null,camera:null,object:null,object2:null,material:null,geometry:null,scene1:null,scene2:null,renderer:null,gridHelper:null,sphere:null,waltHead:null}},mounted:function(){this.link=document.createElement("a"),this.link.style.display="none",document.getElementsByClassName("miscExporterGltf-container")[0].appendChild(this.link),this.init(),this.animate()},methods:{exportGLTF:function(e){var t=new h,i={trs:document.getElementById("option_trs").checked,onlyVisible:document.getElementById("option_visible").checked,truncateDrawRange:document.getElementById("option_drawrange").checked,binary:document.getElementById("option_binary").checked,forcePowerOfTwoTextures:document.getElementById("option_forcepot").checked,maxTextureSize:Number(document.getElementById("option_maxsize").value)||1/0};console.log("1111"),console.log(t),console.log(e),t.parse(e,function(e){console.log(e)},i),console.log("4444444")},handleExportScene:function(){this.exportGLTF(this.scene1)},handleExportScenes:function(){this.exportGLTF([this.scene1,this.scene2])},handleExportObject:function(){this.exportGLTF(this.sphere)},handleExportObj:function(){this.exportGLTF(this.waltHead)},handleExportObjects:function(){this.exportGLTF([this.sphere,this.gridHelper])},handleExportSceneObjects:function(){this.exportGLTF([this.scene1,this.gridHelper])},save:function(e,t){this.link.href=URL.createObjectURL(e),this.link.download=t,this.link.click()},saveString:function(e,t){this.save(new Blob([e],{type:"text/plain"}),t)},saveArrayBuffer:function(e,t){this.save(new Blob([e],{type:"application/octet-stream"}),t)},init:function(){var e=this;this.container=document.createElement("div"),document.getElementsByClassName("miscExporterGltf-container")[0].appendChild(this.container),this.scene1=new this.$THREE.Scene,this.scene1.name="Scene1",this.camera=new this.$THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3),this.camera.position.set(600,400,0),this.camera.name="PerspectiveCamera",this.scene1.add(this.camera);var t=new this.$THREE.AmbientLight(16777215,.2);t.name="AmbientLight",this.scene1.add(t);var i=new this.$THREE.DirectionalLight(16777215,1);i.target.position.set(0,0,-1),i.add(i.target),i.lookAt(-1,-1,0),i.name="DirectionalLight",this.scene1.add(i),this.gridHelper=new this.$THREE.GridHelper(2e3,20,8947848,4473924),this.gridHelper.position.y=-50,this.gridHelper.name="Grid",this.scene1.add(this.gridHelper);var n=new this.$THREE.AxesHelper(500);n.name="AxesHelper",this.scene1.add(n);var s=(new this.$THREE.TextureLoader).load("textures/uv_grid_opengl.jpg");s.wrapS=s.wrapT=this.$THREE.RepeatWrapping,this.material=new this.$THREE.MeshBasicMaterial({color:16777215,map:s}),this.object=new this.$THREE.Mesh(new this.$THREE.IcosahedronBufferGeometry(75,0),this.material),this.object.position.set(-200,0,200),this.object.name="Icosahedron",this.scene1.add(this.object),this.material=new this.$THREE.MeshBasicMaterial({color:255,wireframe:!0}),this.object=new this.$THREE.Mesh(new this.$THREE.OctahedronBufferGeometry(75,1),this.material),this.object.position.set(0,0,200),this.object.name="Octahedron",this.scene1.add(this.object),this.material=new this.$THREE.MeshBasicMaterial({color:16711680,transparent:!0,opacity:.5}),this.object=new this.$THREE.Mesh(new this.$THREE.TetrahedronBufferGeometry(75,0),this.material),this.object.position.set(200,0,200),this.object.name="Tetrahedron",this.scene1.add(this.object),this.material=new this.$THREE.MeshStandardMaterial({color:16776960,metalness:.5,roughness:1,flatShading:!0}),this.sphere=new this.$THREE.Mesh(new this.$THREE.SphereBufferGeometry(70,10,10),this.material),this.sphere.position.set(0,0,0),this.sphere.name="Sphere",this.scene1.add(this.sphere),this.material=new this.$THREE.MeshStandardMaterial({color:16711935,flatShading:!0}),this.object=new this.$THREE.Mesh(new this.$THREE.CylinderBufferGeometry(10,80,100),this.material),this.object.position.set(200,0,0),this.object.name="Cylinder",this.scene1.add(this.object),this.material=new this.$THREE.MeshStandardMaterial({color:16711680,roughness:1}),this.object=new this.$THREE.Mesh(new this.$THREE.TorusKnotBufferGeometry(50,15,40,10),this.material),this.object.position.set(-200,0,0),this.object.name="Cylinder",this.scene1.add(this.object);var a=(new this.$THREE.TextureLoader).load("textures/hardwood2_diffuse.jpg");this.material=new this.$THREE.MeshStandardMaterial({map:a,side:this.$THREE.DoubleSide}),this.object=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(40,100,100),this.material),this.object.position.set(-200,0,400),this.object.name="Cube",this.scene1.add(this.object),this.object2=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(40,40,40,2,2,2),this.material),this.object2.position.set(0,0,50),this.object2.rotation.set(0,45,0),this.object2.name="SubCube",this.object.add(this.object2);var o=new this.$THREE.Group;o.name="Group",this.scene1.add(o);var l=new this.$THREE.Group;l.name="subGroup",l.position.set(0,50,0),o.add(l),this.object2=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(30,30,30),this.material),this.object2.name="Cube in group",this.object2.position.set(0,0,400),l.add(this.object2),this.geometry=new this.$THREE.BufferGeometry;for(var h=new Float32Array(300),c=0;c<100;c++)h[3*c]=c,h[3*c+1]=20*Math.sin(c/2),h[3*c+2]=0;this.geometry.setAttribute("position",new this.$THREE.BufferAttribute(h,3)),this.object=new this.$THREE.Line(this.geometry,new this.$THREE.LineBasicMaterial({color:16776960})),this.object.position.set(-50,0,-200),this.scene1.add(this.object),this.geometry=new this.$THREE.BufferGeometry,this.numPoints=5;this.positions=new Float32Array(3*this.numPoints);for(c=0;c<this.numPoints;c++){var u=c*Math.PI*2/this.numPoints;this.positions[3*c]=70*Math.sin(u),this.positions[3*c+1]=70*Math.cos(u),this.positions[3*c+2]=0}this.geometry.setAttribute("position",new this.$THREE.BufferAttribute(this.positions,3)),this.object=new this.$THREE.LineLoop(this.geometry,new this.$THREE.LineBasicMaterial({color:16776960})),this.object.position.set(0,0,-200),this.scene1.add(this.object),this.geometry=new this.$THREE.BufferGeometry;this.positions=new Float32Array(27);var m=new Float32Array(27);this.positions.set([0,0,0,0,80,0,80,0,0,80,0,0,0,80,0,80,80,0]),m.set([1,0,0,1,0,0,1,1,0,1,1,0,0,0,1,0,0,1]),this.geometry.setAttribute("position",new this.$THREE.BufferAttribute(this.positions,3)),this.geometry.setAttribute("color",new this.$THREE.BufferAttribute(m,3)),this.geometry.setDrawRange(0,6),this.object=new this.$THREE.Mesh(this.geometry,new this.$THREE.MeshBasicMaterial({side:this.$THREE.DoubleSide,vertexColors:!0})),this.object.name="Custom buffered truncated",this.object.position.set(140,-40,-200),this.scene1.add(this.object),this.numPoints=100;var p=new Float32Array(3*this.numPoints);for(c=0;c<this.numPoints;c++)p[3*c]=100*Math.random()-50,p[3*c+1]=100*Math.random(),p[3*c+2]=100*Math.random()-50;var d=new this.$THREE.BufferGeometry;d.setAttribute("position",new this.$THREE.BufferAttribute(p,3));var f=new this.$THREE.PointsMaterial({color:16776960,size:5}),E=new this.$THREE.Points(d,f);E.name="Points",E.position.set(-200,0,-200),this.scene1.add(E);var g=new this.$THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,.1,10);this.scene1.add(g),g.name="OrthographicCamera",this.material=new this.$THREE.MeshLambertMaterial({color:16776960,side:this.$THREE.DoubleSide}),this.object=new this.$THREE.Mesh(new this.$THREE.CircleBufferGeometry(50,20,0,2*Math.PI),this.material),this.object.position.set(200,0,-400),this.scene1.add(this.object),this.object=new this.$THREE.Mesh(new this.$THREE.RingBufferGeometry(10,50,20,5,0,2*Math.PI),this.material),this.object.position.set(0,0,-400),this.scene1.add(this.object),this.object=new this.$THREE.Mesh(new this.$THREE.CylinderBufferGeometry(25,75,100,40,5),this.material),this.object.position.set(-200,0,-400),this.scene1.add(this.object);var b=[];for(c=0;c<50;c++)b.push(new this.$THREE.Vector2(Math.sin(.2*c)*Math.sin(.1*c)*15+50,2*(c-5)));this.object=new this.$THREE.Mesh(new this.$THREE.LatheBufferGeometry(b,20),this.material),this.object.position.set(200,0,400),this.scene1.add(this.object),this.material=new this.$THREE.MeshBasicMaterial({color:16711680}),this.object=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(200,200,200),this.material),this.object.position.set(0,0,0),this.object.name="CubeHidden",this.object.visible=!1,this.scene1.add(this.object),(new r.a).load("static/models/obj/walt/WaltHead.obj",function(t){e.waltHead=t,e.waltHead.scale.multiplyScalar(1.5),e.waltHead.position.set(400,0,0),e.scene1.add(e.waltHead)}),this.scene2=new this.$THREE.Scene,this.object=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(100,100,100),this.material),this.object.position.set(0,0,0),this.object.name="Cube2ndScene",this.scene2.name="Scene2",this.scene2.add(this.object),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){var e=1e-4*Date.now();this.camera.position.x=800*Math.cos(e),this.camera.position.z=800*Math.sin(e),this.camera.lookAt(this.scene1.position),this.renderer.render(this.scene1,this.camera)}}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"miscExporterGltf-container"},[i("div",{attrs:{id:"info"}},[i("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[e._v("three.js")]),e._v(" webgl - exporter - gltf"),i("br"),i("br"),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleExportScene}},[e._v("Export Scene1")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleExportScenes}},[e._v("Export Scene1 and this.$THREE.Scene 2")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleExportObject}},[e._v("Export Sphere")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleExportObj}},[e._v("Export WaltHead")]),i("br"),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleExportObjects}},[e._v("Export Sphere and Grid")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleExportSceneObjects}},[e._v("Export Scene1 and Sphere")]),e._v(" "),i("br"),i("br"),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),i("br"),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),i("button",{attrs:{id:"export_scene"}},[e._v("Export Scene1")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{id:"option_trs",name:"trs",type:"checkbox"}}),this._v("TRS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{id:"option_visible",name:"visible",type:"checkbox",checked:"checked"}}),this._v("Only Visible")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{id:"option_drawrange",name:"visible",type:"checkbox",checked:"checked"}}),this._v("Truncate drawRange")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{id:"option_binary",name:"visible",type:"checkbox"}}),this._v("Binary ("),t("code",[this._v(".glb")]),this._v(")")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{id:"option_forcepot",name:"visible",type:"checkbox"}}),this._v("Force POT textures")])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{id:"option_maxsize",name:"maxSize",type:"number",value:"4096",min:"2",max:"8192",step:"1"}}),this._v(" Max texture size")])}]};var m=i("VU/8")(c,u,!1,function(e){i("cMix")},"data-v-56c73946",null);t.default=m.exports},cMix:function(e,t){}});
//# sourceMappingURL=206.8dbd8c11bc657d243b7c.js.map