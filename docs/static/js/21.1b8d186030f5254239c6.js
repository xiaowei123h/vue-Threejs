webpackJsonp([21],{"4PvH":function(e,t){},TqQe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("TWUs"),i=r("xTnh"),a={data:function(){return{container:null,stats:null,camera:null,controls:null,scene:null,renderer:null,worldWidth:200,worldDepth:200,worldHalfWidth:null,worldHalfDepth:null,data:null,clock:null}},mounted:function(){this.worldHalfWidth=this.worldWidth/2,this.worldHalfDepth=this.worldDepth/2,this.data=this.generateHeight(this.worldWidth,this.worldDepth),this.clock=new this.$THREE.Clock,this.init(),this.animate()},methods:{init:function(){this.container=document.getElementById("container"),this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,1,2e4),this.camera.position.y=100*this.getY(this.worldHalfWidth,this.worldHalfDepth)+100,this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(16777215),this.scene.fog=new this.$THREE.FogExp2(16777215,15e-5);var e=new this.$THREE.Color(16777215),t=new this.$THREE.Color(5263440),r=new this.$THREE.Matrix4,i=new this.$THREE.PlaneGeometry(100,100);i.faces[0].vertexColors=[e,t,e],i.faces[1].vertexColors=[t,t,e],i.faceVertexUvs[0][0][0].y=.5,i.faceVertexUvs[0][0][2].y=.5,i.faceVertexUvs[0][1][2].y=.5,i.rotateY(Math.PI/2),i.translate(50,0,0);var a=new this.$THREE.PlaneGeometry(100,100);a.faces[0].vertexColors=[e,t,e],a.faces[1].vertexColors=[t,t,e],a.faceVertexUvs[0][0][0].y=.5,a.faceVertexUvs[0][0][2].y=.5,a.faceVertexUvs[0][1][2].y=.5,a.rotateY(-Math.PI/2),a.translate(-50,0,0);var n=new this.$THREE.PlaneGeometry(100,100);n.faces[0].vertexColors=[e,e,e],n.faces[1].vertexColors=[e,e,e],n.faceVertexUvs[0][0][1].y=.5,n.faceVertexUvs[0][1][0].y=.5,n.faceVertexUvs[0][1][1].y=.5,n.rotateX(-Math.PI/2),n.translate(0,50,0);var o=new this.$THREE.PlaneGeometry(100,100);o.faces[0].vertexColors=[e,e,e],o.faces[1].vertexColors=[e,e,e],o.faceVertexUvs[0][0][1].y=.5,o.faceVertexUvs[0][1][0].y=.5,o.faceVertexUvs[0][1][1].y=.5,o.rotateX(-Math.PI/2),o.rotateY(Math.PI/2),o.translate(0,50,0);var h=new this.$THREE.PlaneGeometry(100,100);h.faces[0].vertexColors=[e,t,e],h.faces[1].vertexColors=[t,t,e],h.faceVertexUvs[0][0][0].y=.5,h.faceVertexUvs[0][0][2].y=.5,h.faceVertexUvs[0][1][2].y=.5,h.translate(0,0,50);var l=new this.$THREE.PlaneGeometry(100,100);l.faces[0].vertexColors=[e,t,e],l.faces[1].vertexColors=[t,t,e],l.faceVertexUvs[0][0][0].y=.5,l.faceVertexUvs[0][0][2].y=.5,l.faceVertexUvs[0][1][2].y=.5,l.rotateY(Math.PI),l.translate(0,0,-50);for(var c=new this.$THREE.Geometry,d=0;d<this.worldDepth;d++)for(var f=0;f<this.worldWidth;f++){var v=this.getY(f,d);r.makeTranslation(100*f-100*this.worldHalfWidth,100*v,100*d-100*this.worldHalfDepth);var w,m=this.getY(f+1,d),E=this.getY(f-1,d),x=this.getY(f,d+1),u=this.getY(f,d-1),p=this.getY(f+1,d+1),g=this.getY(f-1,d+1),H=this.getY(f+1,d-1),y=this.getY(f-1,d-1),C=E>v||u>v||y>v?0:1,R=E>v||x>v||g>v?0:1,$=m>v||x>v||p>v?0:1,T=m>v||u>v||H>v?0:1;if(C+$>R+T)(w=o.faces[0].vertexColors)[0]=0===R?t:e,w[1]=0===$?t:e,w[2]=0===C?t:e,(w=o.faces[1].vertexColors)[0]=0===$?t:e,w[1]=0===T?t:e,w[2]=0===C?t:e,c.merge(o,r);else(w=n.faces[0].vertexColors)[0]=0===C?t:e,w[1]=0===R?t:e,w[2]=0===T?t:e,(w=n.faces[1].vertexColors)[0]=0===R?t:e,w[1]=0===$?t:e,w[2]=0===T?t:e,c.merge(n,r);if(m!=v&&m!=v+1||0==f)(w=i.faces[0].vertexColors)[0]=p>m&&f>0?t:e,w[2]=H>m&&f>0?t:e,(w=i.faces[1].vertexColors)[2]=H>m&&f>0?t:e,c.merge(i,r);if(E!=v&&E!=v+1||f==this.worldWidth-1)(w=a.faces[0].vertexColors)[0]=y>E&&f<this.worldWidth-1?t:e,w[2]=g>E&&f<this.worldWidth-1?t:e,(w=a.faces[1].vertexColors)[2]=g>E&&f<this.worldWidth-1?t:e,c.merge(a,r);if(x!=v&&x!=v+1||d==this.worldDepth-1)(w=h.faces[0].vertexColors)[0]=g>x&&d<this.worldDepth-1?t:e,w[2]=p>x&&d<this.worldDepth-1?t:e,(w=h.faces[1].vertexColors)[2]=p>x&&d<this.worldDepth-1?t:e,c.merge(h,r);if(u!=v&&u!=v+1||0==d)(w=l.faces[0].vertexColors)[0]=H>u&&d>0?t:e,w[2]=y>u&&d>0?t:e,(w=l.faces[1].vertexColors)[2]=y>u&&d>0?t:e,c.merge(l,r)}c=(new this.$THREE.BufferGeometry).fromGeometry(c);var V=(new this.$THREE.TextureLoader).load("static/textures/minecraft/atlas.png");V.magFilter=this.$THREE.NearestFilter,V.minFilter=this.$THREE.LinearMipmapLinearFilter;var U=new this.$THREE.Mesh(c,new this.$THREE.MeshLambertMaterial({map:V,vertexColors:!0,side:this.$THREE.DoubleSide}));this.scene.add(U);var W=new this.$THREE.AmbientLight(13421772);this.scene.add(W);var P=new this.$THREE.DirectionalLight(16777215,2);P.position.set(1,1,.5).normalize(),this.scene.add(P),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.controls=new s.a(this.camera,this.renderer.domElement),this.controls.movementSpeed=1e3,this.controls.lookSpeed=.125,this.controls.lookVertical=!0,this.controls.varrainVertical=!0,this.controls.verticalMin=1.1,this.controls.verticalMax=2.2,this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.controls.handleResize()},generateHeight:function(e,t){for(var r=[],s=new i.a,a=e*t,n=100*Math.random(),o=2,h=0;h<4;h++){if(0==h)for(var l=0;l<a;l++)r[l]=0;for(l=0;l<a;l++){var c=l%e,d=l/e|0;r[l]+=s.noise(c/o,d/o,n)*o}o*=4}return r},getY:function(e,t){return.2*this.data[e+t*this.worldWidth]|0},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){this.controls.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera)}}},n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglGeometryMinecraftAo-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - "),t("a",{attrs:{href:"http://www.minecraft.net/",target:"_blank",rel:"noopener"}},[this._v("minecraft")]),this._v(" demo [ambient occlusion]. featuring "),t("a",{attrs:{href:"http://painterlypack.net/",target:"_blank",rel:"noopener"}},[this._v("painterly pack")]),t("br"),this._v("(left click: forward, right click: backward)\n\t\t")])])}]};var o=r("VU/8")(a,n,!1,function(e){r("4PvH")},"data-v-ff90aee4",null);t.default=o.exports}});
//# sourceMappingURL=21.1b8d186030f5254239c6.js.map