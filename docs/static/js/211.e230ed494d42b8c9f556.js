webpackJsonp([211],{"579R":function(e,t){},zdZf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("QEtz"),n=i("wIBv"),s=i("zCdm"),r=i("Glcs"),o={data:function(){return{container:null,stats:null,params:{projection:"normal",autoRotate:!0,reflectivity:1,background:!1,exposure:1,gemColor:"Green"},camera:null,scene:null,renderer:null,gemBackMaterial:null,gemFrontMaterial:null,hdrCubeRenderTarget:null,objects:[],gui:null}},mounted:function(){this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e=this;this.container=document.createElement("div"),document.getElementsByClassName("webglMaterialsPhysicalReflectivity-container")[0].appendChild(this.container),this.camera=new this.$moduleTHREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.set(0,-10,70),this.scene=new this.$moduleTHREE.Scene,this.scene.background=new this.$moduleTHREE.Color(0),this.renderer=new this.$moduleTHREE.WebGLRenderer({antialias:!0}),this.gemBackMaterial=new this.$moduleTHREE.MeshPhysicalMaterial({map:null,color:255,metalness:1,roughness:0,opacity:.5,side:this.$moduleTHREE.BackSide,transparent:!0,envMapIntensity:5,premultipliedAlpha:!0}),this.gemFrontMaterial=new this.$moduleTHREE.MeshPhysicalMaterial({map:null,color:255,metalness:0,roughness:0,opacity:.25,side:this.$moduleTHREE.FrontSide,transparent:!0,envMapIntensity:10,premultipliedAlpha:!0});var t=new this.$moduleTHREE.LoadingManager;t.onProgress=function(e,t,i){console.log(e,t,i)},new s.a(t).load("static/models/obj/emerald.obj",function(t){t.traverse(function(t){if(console.log(t instanceof e.$moduleTHREE.Mesh),t instanceof e.$moduleTHREE.Mesh){t.material=e.gemBackMaterial;var i=t.clone();i.material=e.gemFrontMaterial;var a=new e.$moduleTHREE.Group;a.add(i),a.add(t),console.log(a),e.scene.add(a),e.objects.push(a)}})}),(new r.a).setDataType(this.$moduleTHREE.UnsignedByteType).setPath("static/textures/equirectangular/").load("royal_esplanade_1k.hdr",function(t){e.hdrCubeRenderTarget=i.fromEquirectangular(t),i.dispose(),e.gemFrontMaterial.envMap=e.gemBackMaterial.envMap=e.hdrCubeRenderTarget.texture,e.gemFrontMaterial.needsUpdate=e.gemBackMaterial.needsUpdate=!0,t.dispose()});var i=new this.$moduleTHREE.PMREMGenerator(this.renderer);i.compileEquirectangularShader(),this.scene.add(new this.$moduleTHREE.AmbientLight(2236962));var o=new this.$moduleTHREE.PointLight(16777215);o.position.set(150,10,0),o.castShadow=!1,this.scene.add(o);var l=new this.$moduleTHREE.PointLight(16777215);l.position.set(-150,0,0),this.scene.add(l);var h=new this.$moduleTHREE.PointLight(16777215);h.position.set(0,-10,-150),this.scene.add(h);var d=new this.$moduleTHREE.PointLight(16777215);d.position.set(0,0,150),this.scene.add(d),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.container.appendChild(this.renderer.domElement),this.renderer.outputEncoding=this.$moduleTHREE.sRGBEncoding,this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom);var c=new n.b(this.camera,this.renderer.domElement);c.minDistance=20,c.maxDistance=200,window.addEventListener("resize",this.onWindowResize,!1),this.gui=new a.a,this.gui.add(this.params,"reflectivity",0,1),this.gui.add(this.params,"exposure",.1,2),this.gui.add(this.params,"autoRotate"),this.gui.add(this.params,"gemColor",["Blue","Green","Red","White","Black"]),this.gui.open()},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.stats.begin(),this.render(),this.stats.end()},render:function(){if(void 0!==this.gemBackMaterial&&void 0!==this.gemFrontMaterial){this.gemFrontMaterial.reflectivity=this.gemBackMaterial.reflectivity=this.params.reflectivity;var e=this.gemBackMaterial.color;switch(this.params.gemColor){case"Blue":e=new this.$moduleTHREE.Color(136);break;case"Red":e=new this.$moduleTHREE.Color(8912896);break;case"Green":e=new this.$moduleTHREE.Color(34816);break;case"White":e=new this.$moduleTHREE.Color(8947848);break;case"Black":e=new this.$moduleTHREE.Color(986895)}this.gemBackMaterial.color=this.gemFrontMaterial.color=e}if(this.renderer.toneMappingExposure=this.params.exposure,this.camera.lookAt(this.scene.position),this.params.autoRotate)for(var t=0,i=this.objects.length;t<i;t++){this.objects[t].rotation.y+=.005}this.renderer.render(this.scene,this.camera)}}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMaterialsPhysicalReflectivity-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("threejs")]),this._v(" - Physical Material Reflectivity (reflectance at F0)"),t("br"),this._v("\n\t\t\texample by "),t("a",{attrs:{href:"http://clara.io/",target:"_blank",rel:"noopener"}},[this._v("Ben Houston")]),this._v(".\n\t\t")])])}]};var h=i("VU/8")(o,l,!1,function(e){i("579R")},"data-v-546eb9b1",null);t.default=h.exports}});
//# sourceMappingURL=211.e230ed494d42b8c9f556.js.map