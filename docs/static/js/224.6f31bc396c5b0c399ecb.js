webpackJsonp([224],{PJ4H:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("QEtz"),n={data:function(){return{camera:null,scene:null,renderer:null,stats:null,parameters:null,mouseX:0,mouseY:0,windowHalfX:null,windowHalfY:null,materials:[],gui:null}},mounted:function(){this.windowHalfX=this.$webglInnerWidth/2,this.windowHalfY=window.innerHeight/2,this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e=this;this.camera=new this.$THREE.PerspectiveCamera(75,this.$webglInnerWidth/window.innerHeight,1,2e3),this.camera.position.z=1e3,this.scene=new this.$THREE.Scene,this.scene.fog=new this.$THREE.FogExp2(0,8e-4);for(var t=new this.$THREE.BufferGeometry,i=[],n=new this.$THREE.TextureLoader,a=n.load("static/textures/sprites/snowflake1.png"),r=n.load("static/textures/sprites/snowflake2.png"),o=n.load("static/textures/sprites/snowflake3.png"),h=n.load("static/textures/sprites/snowflake4.png"),l=n.load("static/textures/sprites/snowflake5.png"),d=0;d<1e4;d++){var c=2e3*Math.random()-1e3,m=2e3*Math.random()-1e3,w=2e3*Math.random()-1e3;i.push(c,m,w)}t.setAttribute("position",new this.$THREE.Float32BufferAttribute(i,3)),this.parameters=[[[1,.2,.5],r,20],[[.95,.1,.5],o,15],[[.9,.05,.5],a,10],[[.85,0,.5],l,8],[[.8,0,.5],h,5]];for(d=0;d<this.parameters.length;d++){var u=this.parameters[d][0],p=this.parameters[d][1],f=this.parameters[d][2];this.materials[d]=new this.$THREE.PointsMaterial({size:f,map:p,blending:this.$THREE.AdditiveBlending,depthTest:!1,transparent:!0}),this.materials[d].color.setHSL(u[0],u[1],u[2]);var g=new this.$THREE.Points(t,this.materials[d]);g.rotation.x=6*Math.random(),g.rotation.y=6*Math.random(),g.rotation.z=6*Math.random(),this.scene.add(g)}this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglPointsSprites-container")[0].appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",document.getElementsByClassName("webglPointsSprites-container")[0].appendChild(this.stats.dom),this.gui=new s.a;this.gui.add({texture:!0},"texture").onChange(function(t){for(var i=0;i<e.materials.length;i++)e.materials[i].map=!0===t?e.parameters[i][1]:null,e.materials[i].needsUpdate=!0}),this.gui.open(),document.getElementsByClassName("webglPointsSprites-container")[0].style.touchAction="none",document.getElementsByClassName("webglPointsSprites-container")[0].addEventListener("pointermove",this.onPointerMove,!1),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.windowHalfX=(window.innerWidth-281)/2,this.windowHalfY=window.innerHeight/2,this.$onWindowResize(this.camera,this.renderer)},onPointerMove:function(e){!1!==e.isPrimary&&(this.mouseX=e.clientX-this.windowHalfX,this.mouseY=e.clientY-this.windowHalfY)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var e=5e-5*Date.now();this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position);for(var t=0;t<this.scene.children.length;t++){var i=this.scene.children[t];i instanceof this.$THREE.Points&&(i.rotation.y=e*(t<4?t+1:-(t+1)))}for(t=0;t<this.materials.length;t++){var s=this.parameters[t][0],n=360*(s[0]+e)%360/360;this.materials[t].color.setHSL(n,s[1],s[2])}this.renderer.render(this.scene,this.camera)}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglPointsSprites-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - webgl particle sprites example"),t("br"),this._v("\n\t\t\tsnowflakes by "),t("a",{attrs:{href:"http://en.wikipedia.org/wiki/File:Sketch_of_snow_crystal_by_Ren%C3%A9_Descartes.jpg"}},[this._v("RenÃ©  Descartes")])])])}]};var r=i("VU/8")(n,a,!1,function(e){i("x+Dn")},"data-v-0dde866e",null);t.default=r.exports},"x+Dn":function(e,t){}});
//# sourceMappingURL=224.6f31bc396c5b0c399ecb.js.map