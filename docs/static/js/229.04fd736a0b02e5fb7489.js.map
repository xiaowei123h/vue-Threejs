{"version":3,"sources":["webpack:///./src/components/jsm/exporters/STLExporter.js","webpack:///src/views/misc/miscExporterStl.vue","webpack:///./src/views/misc/miscExporterStl.vue?544f","webpack:///./src/views/misc/miscExporterStl.vue"],"names":["STLExporter","prototype","constructor","parse","scene","options","undefined","output","binary","objects","triangles","traverse","object","isMesh","geometry","isGeometry","BufferGeometry","fromGeometry","index","positionAttribute","getAttribute","count","push","object3d","offset","arrayBuffer","ArrayBuffer","DataView","setUint32","vA","Vector3","vB","vC","cb","ab","normal","i","il","length","j","writeFace","getX","a","b","c","fromBufferAttribute","isSkinnedMesh","boneTransform","applyMatrix4","matrixWorld","subVectors","cross","normalize","copy","setFloat32","x","y","z","writeNormal","writeVertex","setUint16","vertex","miscExporterStl","data","camera","renderer","exporter","mesh","link","mounted","this","document","createElement","style","display","getElementsByClassName","appendChild","init","animate","methods","$THREE","PerspectiveCamera","$webglInnerWidth","window","innerHeight","position","set","Scene","background","Color","fog","Fog","hemiLight","HemisphereLight","add","directionalLight","DirectionalLight","castShadow","shadow","top","bottom","left","right","ground","Mesh","PlaneBufferGeometry","MeshPhongMaterial","color","depthWrite","rotation","Math","PI","receiveShadow","grid","GridHelper","material","opacity","transparent","BoxBufferGeometry","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","shadowMap","enabled","domElement","controls","OrbitControls","target","update","addEventListener","onWindowResize","getElementById","exportASCII","exportBinary","$onWindowResize","requestAnimationFrame","render","result","saveString","saveArrayBuffer","save","blob","filename","href","URL","createObjectURL","download","click","text","Blob","type","buffer","misc_miscExporterStl","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/229.04fd736a0b02e5fb7489.js","sourcesContent":["import {\r\n\tBufferGeometry,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Usage:\r\n *  var exporter = new STLExporter();\r\n *\r\n *  // second argument is a list of options\r\n *  var data = exporter.parse( mesh, { binary: true } );\r\n *\r\n */\r\n\r\nvar STLExporter = function () {};\r\n\r\nSTLExporter.prototype = {\r\n\r\n\tconstructor: STLExporter,\r\n\r\n\tparse: function ( scene, options ) {\r\n\r\n\t\tif ( options === undefined ) options = {};\r\n\r\n\t\tvar binary = options.binary !== undefined ? options.binary : false;\r\n\r\n\t\t//\r\n\r\n\t\tvar objects = [];\r\n\t\tvar triangles = 0;\r\n\r\n\t\tscene.traverse( function ( object ) {\r\n\r\n\t\t\tif ( object.isMesh ) {\r\n\r\n\t\t\t\tvar geometry = object.geometry;\r\n\r\n\t\t\t\tif ( geometry.isGeometry ) {\r\n\r\n\t\t\t\t\tgeometry = new BufferGeometry().fromGeometry( geometry );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar index = geometry.index;\r\n\t\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\r\n\r\n\t\t\t\ttriangles += ( index !== null ) ? ( index.count / 3 ) : ( positionAttribute.count / 3 );\r\n\r\n\t\t\t\tobjects.push( {\r\n\t\t\t\t\tobject3d: object,\r\n\t\t\t\t\tgeometry: geometry\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tvar output;\r\n\t\tvar offset = 80; // skip header\r\n\r\n\t\tif ( binary === true ) {\r\n\r\n\t\t\tvar bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\r\n\t\t\tvar arrayBuffer = new ArrayBuffer( bufferLength );\r\n\t\t\toutput = new DataView( arrayBuffer );\r\n\t\t\toutput.setUint32( offset, triangles, true ); offset += 4;\r\n\r\n\t\t} else {\r\n\r\n\t\t\toutput = '';\r\n\t\t\toutput += 'solid exported\\n';\r\n\r\n\t\t}\r\n\r\n\t\tvar vA = new Vector3();\r\n\t\tvar vB = new Vector3();\r\n\t\tvar vC = new Vector3();\r\n\t\tvar cb = new Vector3();\r\n\t\tvar ab = new Vector3();\r\n\t\tvar normal = new Vector3();\r\n\r\n\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\r\n\r\n\t\t\tvar object = objects[ i ].object3d;\r\n\t\t\tvar geometry = objects[ i ].geometry;\r\n\r\n\t\t\tvar index = geometry.index;\r\n\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\r\n\r\n\t\t\tif ( index !== null ) {\r\n\r\n\t\t\t\t// indexed geometry\r\n\r\n\t\t\t\tfor ( var j = 0; j < index.count; j += 3 ) {\r\n\r\n\t\t\t\t\tvar a = index.getX( j + 0 );\r\n\t\t\t\t\tvar b = index.getX( j + 1 );\r\n\t\t\t\t\tvar c = index.getX( j + 2 );\r\n\r\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// non-indexed geometry\r\n\r\n\t\t\t\tfor ( var j = 0; j < positionAttribute.count; j += 3 ) {\r\n\r\n\t\t\t\t\tvar a = j + 0;\r\n\t\t\t\t\tvar b = j + 1;\r\n\t\t\t\t\tvar c = j + 2;\r\n\r\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( binary === false ) {\r\n\r\n\t\t\toutput += 'endsolid exported\\n';\r\n\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\r\n\t\tfunction writeFace( a, b, c, positionAttribute, object ) {\r\n\r\n\t\t\tvA.fromBufferAttribute( positionAttribute, a );\r\n\t\t\tvB.fromBufferAttribute( positionAttribute, b );\r\n\t\t\tvC.fromBufferAttribute( positionAttribute, c );\r\n\r\n\t\t\tif ( object.isSkinnedMesh === true ) {\r\n\r\n\t\t\t\tobject.boneTransform( a, vA );\r\n\t\t\t\tobject.boneTransform( b, vB );\r\n\t\t\t\tobject.boneTransform( c, vC );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvA.applyMatrix4( object.matrixWorld );\r\n\t\t\tvB.applyMatrix4( object.matrixWorld );\r\n\t\t\tvC.applyMatrix4( object.matrixWorld );\r\n\r\n\t\t\twriteNormal( vA, vB, vC );\r\n\r\n\t\t\twriteVertex( vA );\r\n\t\t\twriteVertex( vB );\r\n\t\t\twriteVertex( vC );\r\n\r\n\t\t\tif ( binary === true ) {\r\n\r\n\t\t\t\toutput.setUint16( offset, 0, true ); offset += 2;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toutput += '\\t\\tendloop\\n';\r\n\t\t\t\toutput += '\\tendfacet\\n';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction writeNormal( vA, vB, vC ) {\r\n\r\n\t\t\tcb.subVectors( vC, vB );\r\n\t\t\tab.subVectors( vA, vB );\r\n\t\t\tcb.cross( ab ).normalize();\r\n\r\n\t\t\tnormal.copy( cb ).normalize();\r\n\r\n\t\t\tif ( binary === true ) {\r\n\r\n\t\t\t\toutput.setFloat32( offset, normal.x, true ); offset += 4;\r\n\t\t\t\toutput.setFloat32( offset, normal.y, true ); offset += 4;\r\n\t\t\t\toutput.setFloat32( offset, normal.z, true ); offset += 4;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toutput += '\\tfacet normal ' + normal.x + ' ' + normal.y + ' ' + normal.z + '\\n';\r\n\t\t\t\toutput += '\\t\\touter loop\\n';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction writeVertex( vertex ) {\r\n\r\n\t\t\tif ( binary === true ) {\r\n\r\n\t\t\t\toutput.setFloat32( offset, vertex.x, true ); offset += 4;\r\n\t\t\t\toutput.setFloat32( offset, vertex.y, true ); offset += 4;\r\n\t\t\t\toutput.setFloat32( offset, vertex.z, true ); offset += 4;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\toutput += '\\t\\t\\tvertex ' + vertex.x + ' ' + vertex.y + ' ' + vertex.z + '\\n';\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { STLExporter };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/exporters/STLExporter.js","<template>\r\n    <div class=\"miscExporterStl-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> webgl - exporter - stl<br/><br/>\r\n\t\t\t<button id=\"exportASCII\">export ASCII</button> <button id=\"exportBinary\">export binary</button>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nimport { STLExporter } from '@/components/jsm/exporters/STLExporter.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            scene: null,\r\n            camera: null,\r\n            renderer: null,\r\n            exporter: null,\r\n            mesh: null,\r\n            link: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.link = document.createElement('a')\r\n        this.link.style.display = 'none'\r\n        document.getElementsByClassName('miscExporterStl-container')[0].appendChild(this.link)\r\n        this.init()\r\n\t\tthis.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.camera = new this.$THREE.PerspectiveCamera(45, this.$webglInnerWidth / window.innerHeight, 1, 1000)\r\n            this.camera.position.set(200, 100, 200)\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.background = new this.$THREE.Color(0xa0a0a0)\r\n            this.scene.fog = new this.$THREE.Fog(0xa0a0a0, 200, 1000)\r\n            this.exporter = new STLExporter()\r\n            //\r\n            var hemiLight = new this.$THREE.HemisphereLight(0xffffff, 0x444444)\r\n            hemiLight.position.set(0, 200, 0)\r\n            this.scene.add(hemiLight)\r\n            var directionalLight = new this.$THREE.DirectionalLight(0xffffff)\r\n            directionalLight.position.set(0, 200, 100)\r\n            directionalLight.castShadow = true\r\n            directionalLight.shadow.camera.top = 180\r\n            directionalLight.shadow.camera.bottom = - 100\r\n            directionalLight.shadow.camera.left = - 120\r\n            directionalLight.shadow.camera.right = 120\r\n            this.scene.add(directionalLight)\r\n            // ground\r\n            var ground = new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(2000, 2000), new this.$THREE.MeshPhongMaterial({ color: 0x999999, depthWrite: false }))\r\n            ground.rotation.x = - Math.PI / 2\r\n            ground.receiveShadow = true\r\n            this.scene.add(ground)\r\n            var grid = new this.$THREE.GridHelper(2000, 20, 0x000000, 0x000000)\r\n            grid.material.opacity = 0.2\r\n            grid.material.transparent = true\r\n            this.scene.add(grid)\r\n            // export mesh\r\n            var geometry = new this.$THREE.BoxBufferGeometry(50, 50, 50)\r\n            var material = new this.$THREE.MeshPhongMaterial({ color: 0x00ff00 })\r\n            this.mesh = new this.$THREE.Mesh(geometry, material)\r\n            this.mesh.castShadow = true\r\n            this.mesh.position.y = 25\r\n            this.scene.add(this.mesh)\r\n            //\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            this.renderer.shadowMap.enabled = true\r\n            document.getElementsByClassName('miscExporterStl-container')[0].appendChild(this.renderer.domElement)\r\n            //\r\n            var controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n            controls.target.set(0, 25, 0)\r\n            controls.update()\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n            var buttonExportASCII = document.getElementById('exportASCII')\r\n            buttonExportASCII.addEventListener('click', this.exportASCII)\r\n            var buttonExportBinary = document.getElementById('exportBinary')\r\n            buttonExportBinary.addEventListener('click', this.exportBinary)\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.renderer.render(this.scene, this.camera)\r\n        },\r\n        exportASCII() {\r\n            var result = this.exporter.parse(this.mesh)\r\n            this.saveString(result, 'box.stl')\r\n        },\r\n        exportBinary() {\r\n            var result = this.exporter.parse(this.mesh, { binary: true })\r\n            this.saveArrayBuffer(result, 'box.stl')\r\n        },\r\n        save(blob, filename) {\r\n            this.link.href = URL.createObjectURL(blob)\r\n            this.link.download = filename\r\n            this.link.click()\r\n        },\r\n        saveString(text, filename) {\r\n            this.save(new Blob([ text ], { type: 'text/plain' }), filename)\r\n        },\r\n        saveArrayBuffer(buffer, filename) {\r\n            this.save(new Blob([ buffer ], { type: 'application/octet-stream' }), filename)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.miscExporterStl-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/misc/miscExporterStl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"miscExporterStl-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" webgl - exporter - stl\"),_c('br'),_c('br'),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"exportASCII\"}},[_vm._v(\"export ASCII\")]),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"exportBinary\"}},[_vm._v(\"export binary\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a676326\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/misc/miscExporterStl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a676326\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./miscExporterStl.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./miscExporterStl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./miscExporterStl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a676326\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./miscExporterStl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a676326\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/misc/miscExporterStl.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}