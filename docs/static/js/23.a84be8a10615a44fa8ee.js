webpackJsonp([23],{"+JYu":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("wIBv"),h=i("VVsa"),n={data:function(){return{camera:null,scene:null,renderer:null,clock:null,stats:null,dirLight:null,spotLight:null,torusKnot:null,cube:null,dirLightShadowMapViewer:null,spotLightShadowMapViewer:null}},mounted:function(){this.init(),this.animate()},methods:{init:function(){this.initScene(),this.initShadowMapViewers(),this.initMisc(),document.getElementsByClassName("webglShadowmapViewer-container")[0].appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},initScene:function(){this.camera=new this.$THREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.set(0,15,35),this.scene=new this.$THREE.Scene,this.scene.add(new this.$THREE.AmbientLight(4210752)),this.spotLight=new this.$THREE.SpotLight(16777215),this.spotLight.name="Spot Light",this.spotLight.angle=Math.PI/5,this.spotLight.penumbra=.3,this.spotLight.position.set(10,10,5),this.spotLight.castShadow=!0,this.spotLight.shadow.camera.near=8,this.spotLight.shadow.camera.far=30,this.spotLight.shadow.mapSize.width=1024,this.spotLight.shadow.mapSize.height=1024,this.scene.add(this.spotLight),this.scene.add(new this.$THREE.CameraHelper(this.spotLight.shadow.camera)),this.dirLight=new this.$THREE.DirectionalLight(16777215,1),this.dirLight.name="Dir. Light",this.dirLight.position.set(0,10,0),this.dirLight.castShadow=!0,this.dirLight.shadow.camera.near=1,this.dirLight.shadow.camera.far=10,this.dirLight.shadow.camera.right=15,this.dirLight.shadow.camera.left=-15,this.dirLight.shadow.camera.top=15,this.dirLight.shadow.camera.bottom=-15,this.dirLight.shadow.mapSize.width=1024,this.dirLight.shadow.mapSize.height=1024,this.scene.add(this.dirLight),this.scene.add(new this.$THREE.CameraHelper(this.dirLight.shadow.camera));var t=new this.$THREE.TorusKnotBufferGeometry(25,8,75,20),e=new this.$THREE.MeshPhongMaterial({color:16711680,shininess:150,specular:2236962});this.torusKnot=new this.$THREE.Mesh(t,e),this.torusKnot.scale.multiplyScalar(1/18),this.torusKnot.position.y=3,this.torusKnot.castShadow=!0,this.torusKnot.receiveShadow=!0,this.scene.add(this.torusKnot),t=new this.$THREE.BoxBufferGeometry(3,3,3),this.cube=new this.$THREE.Mesh(t,e),this.cube.position.set(8,3,8),this.cube.castShadow=!0,this.cube.receiveShadow=!0,this.scene.add(this.cube),t=new this.$THREE.BoxBufferGeometry(10,.15,10),e=new this.$THREE.MeshPhongMaterial({color:10530223,shininess:150,specular:1118481});var i=new this.$THREE.Mesh(t,e);i.scale.multiplyScalar(3),i.castShadow=!1,i.receiveShadow=!0,this.scene.add(i)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.resizeShadowMapViewers(),this.dirLightShadowMapViewer.updateForWindowResize(),this.spotLightShadowMapViewer.updateForWindowResize()},initShadowMapViewers:function(){this.dirLightShadowMapViewer=new h.a(this.dirLight),this.spotLightShadowMapViewer=new h.a(this.spotLight),this.resizeShadowMapViewers()},initMisc:function(){this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=this.$THREE.BasicShadowMap;var t=new s.b(this.camera,this.renderer.domElement);t.target.set(0,2,0),t.update(),this.clock=new this.$THREE.Clock,this.stats=new this.$Stats,this.stats.dom.style.left="280px",document.getElementsByClassName("webglShadowmapViewer-container")[0].appendChild(this.stats.dom)},resizeShadowMapViewers:function(){var t=.15*this.$webglInnerWidth;this.dirLightShadowMapViewer.position.x=10,this.dirLightShadowMapViewer.position.y=10,this.dirLightShadowMapViewer.size.width=t,this.dirLightShadowMapViewer.size.height=t,this.dirLightShadowMapViewer.update(),this.spotLightShadowMapViewer.size.set(t,t),this.spotLightShadowMapViewer.position.set(t+20,10)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},renderScene:function(){this.renderer.render(this.scene,this.camera)},renderShadowMapViewers:function(){this.dirLightShadowMapViewer.render(this.renderer),this.spotLightShadowMapViewer.render(this.renderer)},render:function(){var t=this.clock.getDelta();this.renderScene(),this.renderShadowMapViewers(),this.torusKnot.rotation.x+=.25*t,this.torusKnot.rotation.y+=2*t,this.torusKnot.rotation.z+=1*t,this.cube.rotation.x+=.25*t,this.cube.rotation.y+=2*t,this.cube.rotation.z+=1*t}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglShadowmapViewer-container"},[e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - ShadowMapViewer example by "),e("a",{attrs:{href:"https://github.com/arya-s"}},[this._v("arya-s")])])])}]};var r=i("VU/8")(n,a,!1,function(t){i("EHxU")},"data-v-0a99f10b",null);e.default=r.exports},EHxU:function(t,e){},VVsa:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var s=i("6+nK"),h=i("rwxs"),n=function(t){var e,i=this,n=void 0!==t.name&&""!==t.name,a=10,r=10,o=256,d=256,w=new s.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,10);w.position.set(0,0,2);var c,p,l=new s.Scene,u=h.a,g=s.UniformsUtils.clone(u.uniforms),m=new s.ShaderMaterial({uniforms:g,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}),f=new s.PlaneBufferGeometry(o,d),S=new s.Mesh(f,m);if(l.add(S),n){var L=(c=document.createElement("canvas")).getContext("2d");L.font="Bold 20px Arial";var E=L.measureText(t.name).width;c.width=E,c.height=25,L.font="Bold 20px Arial",L.fillStyle="rgba( 255, 0, 0, 1 )",L.fillText(t.name,0,20);var M=new s.Texture(c);M.magFilter=s.LinearFilter,M.minFilter=s.LinearFilter,M.needsUpdate=!0;var v=new s.MeshBasicMaterial({map:M,side:s.DoubleSide});v.transparent=!0;var b=new s.PlaneBufferGeometry(c.width,c.height);p=new s.Mesh(b,v),l.add(p)}this.enabled=!0,this.size={width:o,height:d,set:function(t,e){this.width=t,this.height=e,S.scale.set(this.width/o,this.height/d,1),i.position.set(i.position.x,i.position.y)}},this.position={x:a,y:r,set:function(t,e){this.x=t,this.y=e;var s=i.size.width,h=i.size.height;S.position.set(-window.innerWidth/2+s/2+this.x,window.innerHeight/2-h/2-this.y,0),n&&p.position.set(S.position.x,S.position.y-i.size.height/2+c.height/2,0)}},this.render=function(i){this.enabled&&(g.tDiffuse.value=t.shadow.map.texture,e=i.autoClear,i.autoClear=!1,i.clearDepth(),i.render(l,w),i.autoClear=e)},this.updateForWindowResize=function(){this.enabled&&(w.left=window.innerWidth/-2,w.right=window.innerWidth/2,w.top=window.innerHeight/2,w.bottom=window.innerHeight/-2,w.updateProjectionMatrix(),this.update())},this.update=function(){this.position.set(this.position.x,this.position.y),this.size.set(this.size.width,this.size.height)},this.update()};n.prototype.constructor=n}});
//# sourceMappingURL=23.a84be8a10615a44fa8ee.js.map