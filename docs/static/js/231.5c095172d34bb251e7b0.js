webpackJsonp([231],{"X+Xo":function(t,e){},x828:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("QEtz"),s={data:function(){return{camera:null,scene:null,renderer:null,stats:null,mesh:null,amount:null,count:null,dummy:null,gui:null}},mounted:function(){this.amount=parseInt(window.location.search.substr(1))||10,this.count=Math.pow(this.amount,3),this.dummy=new this.$THREE.Object3D,this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var t=this;this.camera=new this.$THREE.PerspectiveCamera(60,this.$webglInnerWidth/window.innerHeight,.1,100),this.camera.position.set(.9*this.amount,.9*this.amount,.9*this.amount),this.camera.lookAt(0,0,0),this.scene=new this.$THREE.Scene,(new this.$THREE.BufferGeometryLoader).load("static/models/json/suzanne_buffergeometry.json",function(e){e.computeVertexNormals(),e.scale(.5,.5,.5);var n=new t.$THREE.MeshNormalMaterial;t.mesh=new t.$THREE.InstancedMesh(e,n,t.count),t.mesh.instanceMatrix.setUsage(t.$THREE.DynamicDrawUsage),t.scene.add(t.mesh),t.gui=new i.a,t.gui.add(t.mesh,"count",0,t.count)}),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglInstancingDynamic-container")[0].appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",document.getElementsByClassName("webglInstancingDynamic-container")[0].appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){if(this.mesh){var t=.001*Date.now();this.mesh.rotation.x=Math.sin(t/4),this.mesh.rotation.y=Math.sin(t/2);for(var e=0,n=(this.amount-1)/2,i=0;i<this.amount;i++)for(var s=0;s<this.amount;s++)for(var a=0;a<this.amount;a++)this.dummy.position.set(n-i,n-s,n-a),this.dummy.rotation.y=Math.sin(i/4+t)+Math.sin(s/4+t)+Math.sin(a/4+t),this.dummy.rotation.z=2*this.dummy.rotation.y,this.dummy.updateMatrix(),this.mesh.setMatrixAt(e++,this.dummy.matrix);this.mesh.instanceMatrix.needsUpdate=!0}this.renderer.render(this.scene,this.camera)}}},a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"webglInstancingDynamic-container"})},staticRenderFns:[]};var r=n("VU/8")(s,a,!1,function(t){n("X+Xo")},"data-v-4a041fa6",null);e.default=r.exports}});
//# sourceMappingURL=231.5c095172d34bb251e7b0.js.map