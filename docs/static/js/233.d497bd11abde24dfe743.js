webpackJsonp([233],{"+1lT":function(e,t){},"6OQU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("85s5"),r=i("Z9IJ"),o=i("fD1D"),n=i("KXdl"),a=i("sD7D"),c={uniforms:{tDiffuse:{value:null},screenWidth:{value:1024},screenHeight:{value:1024},sampleDistance:{value:.94},waveFactor:{value:.00125}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float screenWidth;","uniform float screenHeight;","uniform float sampleDistance;","uniform float waveFactor;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 color, org, tmp, add;","\tfloat sample_dist, f;","\tvec2 vin;","\tvec2 uv = vUv;","\tadd = color = org = texture2D( tDiffuse, uv );","\tvin = ( uv - vec2( 0.5 ) ) * vec2( 1.4 );","\tsample_dist = dot( vin, vin ) * 2.0;","\tf = ( waveFactor * 100.0 + sample_dist ) * sampleDistance * 4.0;","\tvec2 sampleSize = vec2(  1.0 / screenWidth, 1.0 / screenHeight ) * vec2( f );","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.111964, 0.993712 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.846724, 0.532032 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.943883, -0.330279 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( 0.330279, -0.943883 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.532032, -0.846724 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.993712, -0.111964 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tadd += tmp = texture2D( tDiffuse, uv + vec2( -0.707107, 0.707107 ) * sampleSize );","\tif( tmp.b < color.b ) color = tmp;","\tcolor = color * vec4( 2.0 ) - ( add / vec4( 8.0 ) );","\tcolor = color + ( add / vec4( 8.0 ) - color ) * ( vec4( 1.0 ) - vec4( sample_dist * 0.5 ) );","\tgl_FragColor = vec4( color.rgb * color.rgb * vec3( 0.95 ) + color.rgb, 1.0 );","}"].join("\n")},h=i("zCdm"),l={data:function(){return{camera:null,scene:null,renderer:null,mesh:null,parent:null,meshes:[],clonemeshes:[],composer:null,effectFocus:null,clock:null,stats:null}},mounted:function(){this.clock=new this.$THREE.Clock,this.init(),this.animate()},methods:{init:function(){var e=this,t=document.querySelector("#container");this.camera=new this.$THREE.PerspectiveCamera(20,this.$webglInnerWidth/window.innerHeight,1,5e4),this.camera.position.set(0,700,7e3),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(260),this.scene.fog=new this.$THREE.FogExp2(260,675e-7),this.camera.lookAt(this.scene.position);var i=new h.a;i.load("static/models/obj/male02/male02.obj",function(t){var i=e.combineBuffer(t,"position");e.createMesh(i,e.scene,4.05,-500,-350,600,16742212),e.createMesh(i,e.scene,4.05,500,-350,0,16733474),e.createMesh(i,e.scene,4.05,-250,-350,1500,16750882),e.createMesh(i,e.scene,4.05,-250,-350,-1500,16751103)}),i.load("static/models/obj/female02/female02.obj",function(t){var i=e.combineBuffer(t,"position");e.createMesh(i,e.scene,4.05,-1e3,-350,0,16768324),e.createMesh(i,e.scene,4.05,0,-350,0,16777215),e.createMesh(i,e.scene,4.05,1e3,-350,400,16729122),e.createMesh(i,e.scene,4.05,250,-350,1500,16750933),e.createMesh(i,e.scene,4.05,250,-350,2500,16742365)}),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.autoClear=!1,t.appendChild(this.renderer.domElement),this.parent=new this.$THREE.Object3D,this.scene.add(this.parent);var l=new this.$THREE.Points(new this.$THREE.PlaneBufferGeometry(15e3,15e3,64,64),new this.$THREE.PointsMaterial({color:16711680,size:10}));l.position.y=-400,l.rotation.x=-Math.PI/2,this.parent.add(l);var d=new r.a(this.scene,this.camera),m=new n.a(.75),u=new a.a(.5,.5,1448,!1);this.effectFocus=new o.a(c),this.effectFocus.uniforms.screenWidth.value=this.$webglInnerWidth*window.devicePixelRatio,this.effectFocus.uniforms.screenHeight.value=window.innerHeight*window.devicePixelRatio,this.composer=new s.a(this.renderer),this.composer.addPass(d),this.composer.addPass(m),this.composer.addPass(u),this.composer.addPass(this.effectFocus),this.stats=new this.$Stats,this.stats.dom.style.left="280px",t.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.camera.lookAt(this.scene.position),this.composer.setSize(window.innerWidth-281,window.innerHeight),this.effectFocus.uniforms.screenWidth.value=(window.innerWidth-281)*window.devicePixelRatio,this.effectFocus.uniforms.screenHeight.value=window.innerHeight*window.devicePixelRatio},combineBuffer:function(e,t){var i=0;e.traverse(function(e){if(e.isMesh){var s=e.geometry.attributes[t];i+=s.array.length}});var s=new Float32Array(i),r=0;return e.traverse(function(e){if(e.isMesh){var i=e.geometry.attributes[t];s.set(i.array,r),r+=i.array.length}}),new this.$THREE.BufferAttribute(s,3)},createMesh:function(e,t,i,s,r,o,n){var a=new this.$THREE.BufferGeometry;a.setAttribute("position",e.clone()),a.setAttribute("initialPosition",e.clone()),a.attributes.position.setUsage(this.$THREE.DynamicDrawUsage);for(var c=[[6e3,0,-4e3],[5e3,0,0],[1e3,0,5e3],[1e3,0,-5e3],[4e3,0,2e3],[-4e3,0,1e3],[-5e3,0,-5e3],[0,0,0]],h=0;h<c.length;h++){var l=h<c.length-1?2434341:n;this.mesh=new this.$THREE.Points(a,new this.$THREE.PointsMaterial({size:30,color:l})),this.mesh.scale.x=this.mesh.scale.y=this.mesh.scale.z=i,this.mesh.position.x=s+c[h][0],this.mesh.position.y=r+c[h][1],this.mesh.position.z=o+c[h][2],this.parent.add(this.mesh),this.clonemeshes.push({mesh:this.mesh,speed:.5+Math.random()})}this.meshes.push({mesh:this.mesh,verticesDown:0,verticesUp:0,direction:0,speed:15,delay:Math.floor(200+200*Math.random()),start:Math.floor(100+200*Math.random())})},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var e=10*this.clock.getDelta();e=e<2?e:2,this.parent.rotation.y+=-.02*e;for(var t=0;t<this.clonemeshes.length;t++){var i=this.clonemeshes[t];i.mesh.rotation.y+=-.1*e*i.speed}for(t=0;t<this.meshes.length;t++){var s=this.meshes[t],r=s.mesh.geometry.attributes.position,o=s.mesh.geometry.attributes.initialPosition,n=r.count;s.start>0?s.start-=1:0===s.direction&&(s.direction=-1);for(var a=0;a<n;a++){var c=r.getX(a),h=r.getY(a),l=r.getZ(a);if(s.direction<0&&(h>0?r.setXYZ(a,c+1.5*(.5-Math.random())*s.speed*e,h+3*(.25-Math.random())*s.speed*e,l+1.5*(.5-Math.random())*s.speed*e):s.verticesDown+=1),s.direction>0){var d=o.getX(a),m=o.getY(a),u=o.getZ(a),f=Math.abs(c-d),v=Math.abs(h-m),p=Math.abs(l-u);f+v+f>1?r.setXYZ(a,c-(c-d)/f*s.speed*e*(.85-Math.random()),h-(h-m)/v*s.speed*e*(1+Math.random()),l-(l-u)/p*s.speed*e*(.85-Math.random())):s.verticesUp+=1}}s.verticesDown>=n&&(s.delay<=0?(s.direction=1,s.speed=5,s.verticesDown=0,s.delay=320):s.delay-=1),s.verticesUp>=n&&(s.delay<=0?(s.direction=-1,s.speed=15,s.verticesUp=0,s.delay=120):s.delay-=1),r.needsUpdate=!0}this.composer.render(.01)}}},d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglPointsDynamic-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - webgl dynamic particles + postprocessing"),t("br"),this._v("\n\t\t\tmodels by "),t("a",{attrs:{href:"http://sketchup.google.com/3dwarehouse/details?mid=2c6fd128fca34052adc5f5b98d513da1",target:"_blank",rel:"noopener"}},[this._v("Reallusion")]),this._v(" "),t("a",{attrs:{href:"http://sketchup.google.com/3dwarehouse/details?mid=f526cc4abf7cb68d76cab47c765b7255",target:"_blank",rel:"noopener"}},[this._v("iClone")])])])}]};var m=i("VU/8")(l,d,!1,function(e){i("+1lT")},"data-v-079fa2a3",null);t.default=m.exports}});
//# sourceMappingURL=233.d497bd11abde24dfe743.js.map