webpackJsonp([234],{"oW+m":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("wIBv"),i=r("6+nK"),s=r("5AVf"),a=r("w45l"),o=function(e){i.Loader.call(this,e)};o.prototype=Object.assign(Object.create(i.Loader.prototype),{constructor:o,load:function(e,t,r,n){var s=this,a=new i.FileLoader(s.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(r){try{t(s.parse(r))}catch(t){n?n(t):console.error(t),s.manager.itemError(e)}},r,n)},parse:function(e){var t=new i.LoadingManager;t.setURLModifier(function(e){var t=function(e){for(var t in r.files)if(t.substr(-e.length)===e)return r.files[t]}(e);if(t){console.log("Loading",e);var n=new Blob([t.asArrayBuffer()],{type:"application/octet-stream"});return URL.createObjectURL(n)}return e});var r=new a.a(e);if(r.files["doc.kml"]){var n=(new DOMParser).parseFromString(r.files["doc.kml"].asText(),"application/xml").querySelector("Placemark Model Link href");if(n)return new s.a(t).parse(r.files[n.textContent].asText())}else for(var o in console.warn("KMZLoader: Missing doc.kml file."),r.files){if("dae"===o.split(".").pop().toLowerCase())return new s.a(t).parse(r.files[o].asText())}return console.error("KMZLoader: Couldn't find .dae file."),{scene:new i.Group}}});var d={data:function(){return{camera:null,scene:null,renderer:null}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(10066329);var t=new this.$THREE.DirectionalLight(16777215);t.position.set(.5,1,.5).normalize(),this.scene.add(t),this.camera=new this.$THREE.PerspectiveCamera(35,this.$webglInnerWidth/window.innerHeight,1,500),this.camera.position.y=5,this.camera.position.z=10,this.scene.add(this.camera);var r=new this.$THREE.GridHelper(50,50,16777215,5592405);this.scene.add(r),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglLoaderKmz-container")[0].appendChild(this.renderer.domElement),(new o).load("static/models/kmz/Box.kmz",function(t){t.scene.position.y=.5,e.scene.add(t.scene),e.render()});var i=new n.b(this.camera,this.renderer.domElement);i.addEventListener("change",this.render),i.update(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}},c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderKmz-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" -\n\t\t\t"),t("a",{attrs:{href:"https://developers.google.com/kml/documentation/kmzarchives",target:"_blank",rel:"noopener"}},[this._v("KMZ")]),this._v(" loader\n\t\t")])])}]};var l=r("VU/8")(d,c,!1,function(e){r("rcI+")},"data-v-47a78fd0",null);t.default=l.exports},"rcI+":function(e,t){}});
//# sourceMappingURL=234.76b47165b725e1d5bc4a.js.map