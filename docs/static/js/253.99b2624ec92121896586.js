webpackJsonp([253],{NcuQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Y95o"),i={data:function(){return{camera:null,renderer:null,scene:null}},mounted:function(){this.init(),this.animate()},methods:{init:function(){this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.xr.enabled=!0,this.renderer.xr.setReferenceSpaceType("local"),document.getElementsByClassName("webxrVrPanorama-container")[0].appendChild(this.renderer.domElement),document.getElementsByClassName("webxrVrPanorama-container")[0].appendChild(r.a.createButton(this.renderer)),this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(70,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.layers.enable(1);var e=new this.$THREE.BoxBufferGeometry(100,100,100);e.scale(1,1,-1);for(var t=this.getTexturesFromAtlasFile("static/textures/cube/sun_temple_stripe_stereo.jpg",12),n=[],i=0;i<6;i++)n.push(new this.$THREE.MeshBasicMaterial({map:t[i]}));var s=new this.$THREE.Mesh(e,n);s.layers.set(1),this.scene.add(s);var a=[];for(i=6;i<12;i++)a.push(new this.$THREE.MeshBasicMaterial({map:t[i]}));var d=new this.$THREE.Mesh(e,a);d.layers.set(2),this.scene.add(d),window.addEventListener("resize",this.onWindowResize,!1)},getTexturesFromAtlasFile:function(e,t){for(var n=[],r=0;r<t;r++)n[r]=new this.$THREE.Texture;return(new this.$THREE.ImageLoader).load(e,function(e){for(var t,r,i=e.height,s=0;s<n.length;s++)r=(t=document.createElement("canvas")).getContext("2d"),t.height=i,t.width=i,r.drawImage(e,i*s,0,i,i,0,0,i,i),n[s].image=t,n[s].needsUpdate=!0}),n},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){this.renderer.setAnimationLoop(this.render)},render:function(){this.renderer.render(this.scene,this.camera)}}},s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"webxrVrPanorama-container"})},staticRenderFns:[]};var a=n("VU/8")(i,s,!1,function(e){n("q550")},"data-v-3f1d6fb9",null);t.default=a.exports},q550:function(e,t){}});
//# sourceMappingURL=253.99b2624ec92121896586.js.map