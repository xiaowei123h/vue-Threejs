{"version":3,"sources":["webpack:///src/views/materials/webglMaterialsPhysicalSheen.vue","webpack:///./src/views/materials/webglMaterialsPhysicalSheen.vue?ef76","webpack:///./src/views/materials/webglMaterialsPhysicalSheen.vue"],"names":["webglMaterialsPhysicalSheen","data","camera","controls","scene","renderer","stats","directionalLight","mesh","sphere","material","nodeMaterial","params","gui","mounted","_this","this","color","$THREE","Color","sheenBRDF","sheen","roughness","exposure","FBXLoader","load","loadedModel","children","init","beforeDestroy","destroy","methods","PerspectiveCamera","$webglInnerWidth","window","innerHeight","Scene","background","scale","multiplyScalar","add","MeshPhysicalMaterial","side","DoubleSide","metalness","Nodes","clone","Mesh","SphereBufferGeometry","position","set","container","document","getElementById","WebGLRenderer","setPixelRatio","devicePixelRatio","setSize","shadowMap","enabled","appendChild","domElement","OrbitControls","target","update","DirectionalLight","castShadow","MeshBasicMaterial","$Stats","dom","style","left","top","addEventListener","onWindowResize","dat_gui_module","that","onUpdate","needsUpdate","undefined","needsCompile","onChange","addColor","open","animate","$onWindowResize","requestAnimationFrame","render","copy","value","toneMappingExposure","materials_webglMaterialsPhysicalSheen","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","_v","href","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/269.1c97c49f200295dc15a7.js","sourcesContent":["<template>\r\n    <div class=\"webglMaterialsPhysicalSheen-container\">\r\n        <div id=\"info\">Sheen demo by <a href=\"https://github.com/DanielSturk\">DanielSturk</a></div>\r\n\t\t<div id=\"container\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as Nodes from '@/components/jsm/nodes/Nodes.js'\r\nimport { GUI } from '@/components/jsm/libs/dat.gui.module.js'\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nimport { FBXLoader } from '@/components/jsm/loaders/FBXLoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            controls: null,\r\n            scene: null,\r\n            renderer: null,\r\n            stats: null,\r\n\t\t\tdirectionalLight: null,\r\n            mesh: null,\r\n            sphere: null,\r\n            material: null,\r\n            nodeMaterial: null,\r\n            params: null,\r\n            gui: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.params = {\r\n            nodeMaterial: true,\r\n            color: new this.$THREE.Color(255, 0, 127),\r\n            sheenBRDF: true,\r\n            sheen: new this.$THREE.Color(10, 10, 10), // corresponds to .04 reflectance\r\n            roughness: .9,\r\n            exposure: 2,\r\n        }\r\n        // model\r\n        new FBXLoader().load('static/models/fbx/cloth.fbx', (loadedModel) => {\r\n            this.mesh = loadedModel.children[ 0 ];\r\n            this.init();\r\n        });\r\n    },\r\n    beforeDestroy() {\r\n        this.gui.destroy()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.camera = new this.$THREE.PerspectiveCamera(60, this.$webglInnerWidth / window.innerHeight, 0.2, 2000);\r\n            this.scene = new this.$THREE.Scene();\r\n            this.scene.background = new this.$THREE.Color(0xbfd1e5);\r\n            this.mesh.scale.multiplyScalar(.5);\r\n            this.scene.add(this.mesh);\r\n            //\r\n            this.material = new this.$THREE.MeshPhysicalMaterial();\r\n            this.material.side = this.$THREE.DoubleSide;\r\n            this.material.metalness = 0;\r\n            //\r\n            this.nodeMaterial = new Nodes.StandardNodeMaterial();\r\n            this.nodeMaterial.side = this.$THREE.DoubleSide;\r\n            this.nodeMaterial.metalness = new Nodes.FloatNode(0);\r\n            this.nodeMaterial.roughness = new Nodes.FloatNode();\r\n            this.nodeMaterial.color = new Nodes.ColorNode(this.params.color.clone());\r\n            //\r\n            this.sphere = new this.$THREE.Mesh(\r\n                new this.$THREE.SphereBufferGeometry(1, 100, 100),\r\n                this.material\r\n            );\r\n            this.scene.add(this.sphere);\r\n            this.camera.position.set(- 12, 7, 4);\r\n            var container = document.getElementById('container');\r\n            this.renderer = new this.$THREE.WebGLRenderer();\r\n            this.renderer.setPixelRatio(window.devicePixelRatio);\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight);\r\n            this.renderer.shadowMap.enabled = true;\r\n            container.appendChild(this.renderer.domElement);\r\n            this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n            this.controls.target.set(0, 2, 0);\r\n            this.controls.update();\r\n            this.directionalLight = new this.$THREE.DirectionalLight(0xffffff, .5);\r\n            this.directionalLight.position.set(0, 10, 0);\r\n            this.directionalLight.castShadow = true;\r\n            this.directionalLight.add(\r\n                new this.$THREE.Mesh(\r\n                    new this.$THREE.SphereBufferGeometry(.5),\r\n                    new this.$THREE.MeshBasicMaterial({ color: 0xffffff })\r\n                )\r\n            );\r\n            this.scene.add(this.directionalLight);\r\n            this.stats = new this.$Stats();\r\n            this.stats.dom.style.left = '280px'\r\n            this.stats.domElement.style.position = 'absolute';\r\n            this.stats.domElement.style.top = '0px';\r\n            container.appendChild(this.stats.dom);\r\n            window.addEventListener('resize', this.onWindowResize, false);\r\n            this.gui = new GUI();\r\n            var that = this\r\n            function onUpdate() {\r\n                that.mesh.material = that.sphere.material = that.params.nodeMaterial\r\n                    ? that.nodeMaterial\r\n                    : that.material;\r\n                that.material.sheen = that.params.sheenBRDF\r\n                    ? new that.$THREE.Color()\r\n                    : null;\r\n                that.material.needsUpdate = true;\r\n                that.nodeMaterial.sheen = that.params.sheenBRDF\r\n                    ? new Nodes.ColorNode(that.material.sheen)\r\n                    : undefined;\r\n                that.nodeMaterial.needsCompile = true;\r\n            }\r\n            this.gui.add(this.params, 'nodeMaterial').onChange(onUpdate);\r\n            this.gui.addColor(this.params, 'color');\r\n            this.gui.add(this.params, 'sheenBRDF').onChange(onUpdate);\r\n            this.gui.addColor(this.params, 'sheen');\r\n            this.gui.add(this.params, 'roughness', 0, 1);\r\n            this.gui.add(this.params, 'exposure', 0, 3);\r\n            this.gui.open();\r\n            onUpdate();\r\n            this.animate();\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate);\r\n            this.render();\r\n            this.stats.update();\r\n        },\r\n        render() {\r\n            //\r\n            this.material.color.copy(this.params.color).multiplyScalar(1 / 255);\r\n            this.material.roughness = this.params.roughness;\r\n            //\r\n            this.nodeMaterial.color.value.copy(this.material.color);\r\n            this.nodeMaterial.roughness.value = this.params.roughness;\r\n            //\r\n            if (this.params.sheenBRDF) {\r\n                this.material.sheen.copy(this.params.sheen).multiplyScalar(1 / 255);\r\n            }\r\n            //\r\n            this.renderer.toneMappingExposure = this.params.exposure;\r\n            this.renderer.render(this.scene, this.camera);\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglMaterialsPhysicalSheen-container {\r\n    width: 100%;\r\n    color: #333;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/materials/webglMaterialsPhysicalSheen.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglMaterialsPhysicalSheen-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_vm._v(\"Sheen demo by \"),_c('a',{attrs:{\"href\":\"https://github.com/DanielSturk\"}},[_vm._v(\"DanielSturk\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"container\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3424e415\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/materials/webglMaterialsPhysicalSheen.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3424e415\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglMaterialsPhysicalSheen.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglMaterialsPhysicalSheen.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglMaterialsPhysicalSheen.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3424e415\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglMaterialsPhysicalSheen.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3424e415\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/materials/webglMaterialsPhysicalSheen.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}