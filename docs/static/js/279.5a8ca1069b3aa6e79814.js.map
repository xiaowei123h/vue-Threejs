{"version":3,"sources":["webpack:///./src/components/jsm/helpers/PositionalAudioHelper.js","webpack:///src/views/webaudio/webaudioOrientation.vue","webpack:///./src/views/webaudio/webaudioOrientation.vue?c98f","webpack:///./src/views/webaudio/webaudioOrientation.vue"],"names":["PositionalAudioHelper","audio","range","divisionsInnerAngle","divisionsOuterAngle","this","geometry","BufferGeometry","divisions","positions","Float32Array","setAttribute","BufferAttribute","materialInnerAngle","LineBasicMaterial","color","materialOuterAngle","Line","call","type","update","prototype","Object","create","constructor","i","stride","coneInnerAngle","MathUtils","degToRad","panner","coneOuterAngle","halfConeInnerAngle","halfConeOuterAngle","start","count","positionAttribute","attributes","position","generateSegment","from","to","materialIndex","step","setXYZ","Math","sin","cos","min","addGroup","clearGroups","needsUpdate","material","visible","dispose","webaudioOrientation","data","scene","camera","renderer","startButton","mounted","methods","init","_this","document","getElementById","remove","container","$THREE","PerspectiveCamera","$webglInnerWidth","window","innerHeight","set","reflectionCube","CubeTextureLoader","setPath","load","Scene","background","Color","fog","Fog","hemiLight","HemisphereLight","add","dirLight","DirectionalLight","castShadow","shadow","top","bottom","left","right","near","far","mesh","Mesh","PlaneBufferGeometry","MeshPhongMaterial","depthWrite","rotation","x","PI","receiveShadow","grid","GridHelper","listener","AudioListener","audioElement","play","positionalAudio","PositionalAudio","setMediaElementSource","setRefDistance","setDirectionalCone","helper","GLTFLoader","gltf","boomBox","scale","traverse","object","isMesh","envMap","rotateY","animate","wallGeometry","BoxBufferGeometry","wallMaterial","MeshBasicMaterial","transparent","opacity","wall","WebGLRenderer","antialias","setSize","setPixelRatio","devicePixelRatio","outputEncoding","sRGBEncoding","shadowMap","enabled","appendChild","domElement","controls","OrbitControls","target","minDistance","maxDistance","maxPolarAngle","addEventListener","onWindowResize","$onWindowResize","requestAnimationFrame","render","webaudio_webaudioOrientation","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","id","size","on","click","staticRenderFns","staticStyle","display","loop","preload","src","href","rel","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/279.5a8ca1069b3aa6e79814.js","sourcesContent":["import {\r\n\tBufferGeometry,\r\n\tBufferAttribute,\r\n\tLineBasicMaterial,\r\n\tLine,\r\n\tMathUtils\r\n} from '@/components/build/three.module.js';\r\n\r\nfunction PositionalAudioHelper( audio, range, divisionsInnerAngle, divisionsOuterAngle ) {\r\n\r\n\tthis.audio = audio;\r\n\tthis.range = range || 1;\r\n\tthis.divisionsInnerAngle = divisionsInnerAngle || 16;\r\n\tthis.divisionsOuterAngle = divisionsOuterAngle || 2;\r\n\r\n\tvar geometry = new BufferGeometry();\r\n\tvar divisions = this.divisionsInnerAngle + this.divisionsOuterAngle * 2;\r\n\tvar positions = new Float32Array( ( divisions * 3 + 3 ) * 3 );\r\n\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\r\n\r\n\tvar materialInnerAngle = new LineBasicMaterial( { color: 0x00ff00 } );\r\n\tvar materialOuterAngle = new LineBasicMaterial( { color: 0xffff00 } );\r\n\r\n\tLine.call( this, geometry, [ materialOuterAngle, materialInnerAngle ] );\r\n\r\n\tthis.type = 'PositionalAudioHelper';\r\n\r\n\tthis.update();\r\n\r\n}\r\n\r\nPositionalAudioHelper.prototype = Object.create( Line.prototype );\r\nPositionalAudioHelper.prototype.constructor = PositionalAudioHelper;\r\n\r\nPositionalAudioHelper.prototype.update = function () {\r\n\r\n\tvar audio = this.audio;\r\n\tvar range = this.range;\r\n\tvar divisionsInnerAngle = this.divisionsInnerAngle;\r\n\tvar divisionsOuterAngle = this.divisionsOuterAngle;\r\n\r\n\tvar coneInnerAngle = MathUtils.degToRad( audio.panner.coneInnerAngle );\r\n\tvar coneOuterAngle = MathUtils.degToRad( audio.panner.coneOuterAngle );\r\n\r\n\tvar halfConeInnerAngle = coneInnerAngle / 2;\r\n\tvar halfConeOuterAngle = coneOuterAngle / 2;\r\n\r\n\tvar start = 0;\r\n\tvar count = 0;\r\n\tvar i, stride;\r\n\r\n\tvar geometry = this.geometry;\r\n\tvar positionAttribute = geometry.attributes.position;\r\n\r\n\tgeometry.clearGroups();\r\n\r\n\t//\r\n\r\n\tfunction generateSegment( from, to, divisions, materialIndex ) {\r\n\r\n\t\tvar step = ( to - from ) / divisions;\r\n\r\n\t\tpositionAttribute.setXYZ( start, 0, 0, 0 );\r\n\t\tcount ++;\r\n\r\n\t\tfor ( i = from; i < to; i += step ) {\r\n\r\n\t\t\tstride = start + count;\r\n\r\n\t\t\tpositionAttribute.setXYZ( stride, Math.sin( i ) * range, 0, Math.cos( i ) * range );\r\n\t\t\tpositionAttribute.setXYZ( stride + 1, Math.sin( Math.min( i + step, to ) ) * range, 0, Math.cos( Math.min( i + step, to ) ) * range );\r\n\t\t\tpositionAttribute.setXYZ( stride + 2, 0, 0, 0 );\r\n\r\n\t\t\tcount += 3;\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.addGroup( start, count, materialIndex );\r\n\r\n\t\tstart += count;\r\n\t\tcount = 0;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tgenerateSegment( - halfConeOuterAngle, - halfConeInnerAngle, divisionsOuterAngle, 0 );\r\n\tgenerateSegment( - halfConeInnerAngle, halfConeInnerAngle, divisionsInnerAngle, 1 );\r\n\tgenerateSegment( halfConeInnerAngle, halfConeOuterAngle, divisionsOuterAngle, 0 );\r\n\r\n\t//\r\n\r\n\tpositionAttribute.needsUpdate = true;\r\n\r\n\tif ( coneInnerAngle === coneOuterAngle ) this.material[ 0 ].visible = false;\r\n\r\n};\r\n\r\nPositionalAudioHelper.prototype.dispose = function () {\r\n\r\n\tthis.geometry.dispose();\r\n\tthis.material[ 0 ].dispose();\r\n\tthis.material[ 1 ].dispose();\r\n\r\n};\r\n\r\n\r\nexport { PositionalAudioHelper };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/helpers/PositionalAudioHelper.js","<template>\r\n    <div class=\"webaudioOrientation-container\">\r\n        <audio loop id=\"music\" preload=\"auto\" style=\"display: none\">\r\n            <source src=\"static/sounds/376737_Skullbeatz___Bad_Cat_Maste.ogg\" type=\"audio/ogg\">\r\n            <source src=\"static/sounds/376737_Skullbeatz___Bad_Cat_Maste.mp3\" type=\"audio/mpeg\">\r\n        </audio>\r\n        <div id=\"overlay\">\r\n            <el-button type=\"primary\" size=\"mini\" @click=\"init\">Play</el-button>\r\n        </div>\r\n        <div id=\"container\"></div>\r\n        <div id=\"info\">\r\n            <a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener noreferrer\">three.js</a> webaudio - orientation<br/>\r\n            music by <a href=\"http://www.newgrounds.com/audio/listen/376737\" target=\"_blank\" rel=\"noopener noreferrer\">skullbeatz</a>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nimport { PositionalAudioHelper } from '@/components/jsm/helpers/PositionalAudioHelper.js'\r\nimport { GLTFLoader } from '@/components/jsm/loaders/GLTFLoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            scene: null,\r\n            camera: null,\r\n            renderer: null,\r\n\t\t    startButton: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        \r\n    },\r\n    methods: {\r\n        init() {\r\n\t\t\tvar overlay = document.getElementById('overlay')\r\n\t\t\toverlay.remove()\r\n\t\t\tvar container = document.getElementById('container')\r\n\t\t\t//\r\n\t\t\tthis.camera = new this.$THREE.PerspectiveCamera(45, this.$webglInnerWidth / window.innerHeight, 0.1, 100)\r\n\t\t\tthis.camera.position.set(3, 2, 3)\r\n\t\t\tvar reflectionCube = new this.$THREE.CubeTextureLoader()\r\n\t\t\t\t.setPath('static/textures/cube/SwedishRoyalCastle/')\r\n\t\t\t\t.load([ 'px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg' ])\r\n\t\t\tthis.scene = new this.$THREE.Scene()\r\n\t\t\tthis.scene.background = new this.$THREE.Color(0xa0a0a0)\r\n\t\t\tthis.scene.fog = new this.$THREE.Fog(0xa0a0a0, 2, 20)\r\n\t\t\t//\r\n\t\t\tvar hemiLight = new this.$THREE.HemisphereLight(0xffffff, 0x444444)\r\n\t\t\themiLight.position.set(0, 20, 0)\r\n\t\t\tthis.scene.add(hemiLight)\r\n\t\t\tvar dirLight = new this.$THREE.DirectionalLight(0xffffff)\r\n\t\t\tdirLight.position.set(5, 5, 0)\r\n\t\t\tdirLight.castShadow = true\r\n\t\t\tdirLight.shadow.camera.top = 1\r\n\t\t\tdirLight.shadow.camera.bottom = - 1\r\n\t\t\tdirLight.shadow.camera.left = - 1\r\n\t\t\tdirLight.shadow.camera.right = 1\r\n\t\t\tdirLight.shadow.camera.near = 0.1\r\n\t\t\tdirLight.shadow.camera.far = 20\r\n\t\t\tthis.scene.add(dirLight)\r\n\t\t\t// this.scene.add(new this.$THREE.CameraHelper(dirLight.shadow.camera))\r\n\t\t\t//\r\n\t\t\tvar mesh = new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(50, 50), new this.$THREE.MeshPhongMaterial({ color: 0x999999, depthWrite: false }))\r\n\t\t\tmesh.rotation.x = - Math.PI / 2\r\n\t\t\tmesh.receiveShadow = true\r\n\t\t\tthis.scene.add(mesh)\r\n\t\t\tvar grid = new this.$THREE.GridHelper(50, 50, 0x888888, 0x888888)\r\n\t\t\tthis.scene.add(grid)\r\n\t\t\t//\r\n\t\t\tvar listener = new this.$THREE.AudioListener()\r\n\t\t\tthis.camera.add(listener)\r\n\t\t\tvar audioElement = document.getElementById('music')\r\n\t\t\taudioElement.play()\r\n\t\t\tvar positionalAudio = new this.$THREE.PositionalAudio(listener)\r\n\t\t\tpositionalAudio.setMediaElementSource(audioElement)\r\n\t\t\tpositionalAudio.setRefDistance(1)\r\n\t\t\tpositionalAudio.setDirectionalCone(180, 230, 0.1)\r\n\t\t\tvar helper = new PositionalAudioHelper(positionalAudio, 0.1)\r\n\t\t\tpositionalAudio.add(helper)\r\n\t\t\t//\r\n\t\t\tvar gltfLoader = new GLTFLoader()\r\n\t\t\tgltfLoader.load('static/models/gltf/BoomBox/glTF-Binary/BoomBox.glb', (gltf) => {\r\n\t\t\t\tvar boomBox = gltf.scene\r\n\t\t\t\tboomBox.position.set(0, 0.2, 0)\r\n\t\t\t\tboomBox.scale.set(20, 20, 20)\r\n\t\t\t\tboomBox.traverse((object) => {\r\n\t\t\t\t\tif (object.isMesh) {\r\n\t\t\t\t\t\tobject.material.envMap = reflectionCube\r\n\t\t\t\t\t\tobject.geometry.rotateY(- Math.PI)\r\n\t\t\t\t\t\tobject.castShadow = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tboomBox.add(positionalAudio)\r\n\t\t\t\tthis.scene.add(boomBox)\r\n\t\t\t\tthis.animate()\r\n\t\t\t})\r\n\t\t\t// sound is damped behind this wall\r\n\t\t\tvar wallGeometry = new this.$THREE.BoxBufferGeometry(2, 1, 0.1)\r\n\t\t\tvar wallMaterial = new this.$THREE.MeshBasicMaterial({ color: 0xff0000, transparent: true, opacity: 0.5 })\r\n\t\t\tvar wall = new this.$THREE.Mesh(wallGeometry, wallMaterial)\r\n\t\t\twall.position.set(0, 0.5, - 0.5)\r\n\t\t\tthis.scene.add(wall)\r\n\t\t\t//\r\n\t\t\tthis.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n\t\t\tthis.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n\t\t\tthis.renderer.setPixelRatio(window.devicePixelRatio)\r\n\t\t\tthis.renderer.outputEncoding = this.$THREE.sRGBEncoding\r\n\t\t\tthis.renderer.shadowMap.enabled = true\r\n\t\t\tcontainer.appendChild(this.renderer.domElement)\r\n\t\t\t//\r\n\t\t\tvar controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n\t\t\tcontrols.target.set(0, 0.1, 0)\r\n\t\t\tcontrols.update()\r\n\t\t\tcontrols.minDistance = 0.5\r\n\t\t\tcontrols.maxDistance = 10\r\n\t\t\tcontrols.maxPolarAngle = 0.5 * Math.PI\r\n\t\t\t//\r\n\t\t\twindow.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n\t\t\tthis.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n\t\t\trequestAnimationFrame(this.animate)\r\n\t\t\tthis.renderer.render(this.scene, this.camera)\r\n\t\t}\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webaudioOrientation-container {\r\n    width: 100%;\r\n}\r\n#overlay {\r\n    text-align: center;\r\n    height: 100vh;\r\n    line-height: 100vh;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/webaudio/webaudioOrientation.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webaudioOrientation-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"overlay\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.init}},[_vm._v(\"Play\")])],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticStyle:{\"display\":\"none\"},attrs:{\"loop\":\"\",\"id\":\"music\",\"preload\":\"auto\"}},[_c('source',{attrs:{\"src\":\"static/sounds/376737_Skullbeatz___Bad_Cat_Maste.ogg\",\"type\":\"audio/ogg\"}}),_vm._v(\" \"),_c('source',{attrs:{\"src\":\"static/sounds/376737_Skullbeatz___Bad_Cat_Maste.mp3\",\"type\":\"audio/mpeg\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"three.js\")]),_vm._v(\" webaudio - orientation\"),_c('br'),_vm._v(\"\\n        music by \"),_c('a',{attrs:{\"href\":\"http://www.newgrounds.com/audio/listen/376737\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"skullbeatz\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c64dc5c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/webaudio/webaudioOrientation.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c64dc5c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webaudioOrientation.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webaudioOrientation.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webaudioOrientation.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c64dc5c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webaudioOrientation.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2c64dc5c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/webaudio/webaudioOrientation.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}