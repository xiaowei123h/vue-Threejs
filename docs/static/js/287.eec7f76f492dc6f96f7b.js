webpackJsonp([287],{"0RQ7":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("QEtz"),a=t("wIBv"),i=t("qxm1"),o=t("Glcs"),s=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var p={data:function(){return{mesh:null,renderer:null,scene:null,camera:null,controls:null,gui:null,guiExposure:null,params:{exposure:1,toneMapping:"ACESFilmic"},toneMappingOptions:null}},mounted:function(){this.toneMappingOptions={None:this.$THREE.NoToneMapping,Linear:this.$THREE.LinearToneMapping,Reinhard:this.$THREE.ReinhardToneMapping,Cineon:this.$THREE.CineonToneMapping,ACESFilmic:this.$THREE.ACESFilmicToneMapping,Custom:this.$THREE.CustomToneMapping},this.init().catch(function(e){console.error(e)})},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e,n=this;return(e=regeneratorRuntime.mark(function e(){var t,p,u,c,l,d,h,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.renderer=new n.$THREE.WebGLRenderer({antialias:!0}),n.renderer.setPixelRatio(window.devicePixelRatio),n.renderer.setSize(n.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglTonemapping-container")[0].appendChild(n.renderer.domElement),n.renderer.toneMapping=n.toneMappingOptions[n.params.toneMapping],n.renderer.toneMappingExposure=n.params.exposure,n.renderer.outputEncoding=n.$THREE.sRGBEncoding,n.$THREE.ShaderChunk.tonemapping_pars_fragment=n.$THREE.ShaderChunk.tonemapping_pars_fragment.replace("vec3 CustomToneMapping(vec3 color) { return color; }","#define Uncharted2Helper(x) max(((x * (0.15 * x + 0.10 * 0.50) + 0.20 * 0.02) / (x * (0.15 * x + 0.50) + 0.20 * 0.30)) - 0.02 / 0.30, vec3(0.0))\n                float toneMappingWhitePoint = 1.0;\n                vec3 CustomToneMapping(vec3 color) {\n                    color *= toneMappingExposure;\n                    return saturate(Uncharted2Helper(color) / Uncharted2Helper(vec3(toneMappingWhitePoint)));\n                }"),n.scene=new n.$THREE.Scene,n.camera=new n.$THREE.PerspectiveCamera(45,n.$webglInnerWidth/window.innerHeight,.25,20),n.camera.position.set(-1.8,.6,2.7),n.controls=new a.b(n.camera,n.renderer.domElement),n.controls.addEventListener("change",n.render),n.controls.enableZoom=!1,n.controls.enablePan=!1,n.controls.target.set(0,0,-.2),n.controls.update(),(t=new n.$THREE.PMREMGenerator(n.renderer)).compileEquirectangularShader(),p=(new o.a).setDataType(n.$THREE.UnsignedByteType).setPath("static/textures/equirectangular/"),u=(new i.a).setPath("static/models/gltf/DamagedHelmet/glTF/"),e.next=23,Promise.all([p.loadAsync("venice_sunset_1k.hdr"),u.loadAsync("DamagedHelmet.gltf")]);case 23:c=e.sent,l=s(c,2),d=l[0],h=l[1],g=t.fromEquirectangular(d).texture,n.scene.background=g,n.scene.environment=g,d.dispose(),t.dispose(),h.scene.traverse(function(e){e.isMesh&&(n.mesh=e,n.scene.add(n.mesh))}),n.render(),window.addEventListener("resize",n.onWindowResize,!1),n.gui=new r.a,n.gui.add(n.params,"toneMapping",Object.keys(n.toneMappingOptions)).onChange(function(){n.updateGUI(),n.renderer.toneMapping=n.toneMappingOptions[n.params.toneMapping],n.mesh.material.needsUpdate=!0,n.render()}),n.updateGUI(),n.gui.open();case 39:case"end":return e.stop()}},e,n)}),function(){var n=e.apply(this,arguments);return new Promise(function(e,t){return function r(a,i){try{var o=n[a](i),s=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})})()},updateGUI:function(){var e=this;null!==this.guiExposure&&(this.gui.remove(this.guiExposure),this.guiExposure=null),"None"!==this.params.toneMapping&&(this.guiExposure=this.gui.add(this.params,"exposure",0,2).onChange(function(){e.renderer.toneMappingExposure=e.params.exposure,e.render()}))},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}},u={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"webglTonemapping-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[e._v("three.js")]),e._v(" - Tone Mapping"),t("br"),e._v("\n\t\t\tBattle Damaged Sci-fi Helmet by\n\t\t\t"),t("a",{attrs:{href:"https://sketchfab.com/theblueturtle_",target:"_blank",rel:"noopener"}},[e._v("theblueturtle_")]),t("br"),e._v(" "),t("a",{attrs:{href:"https://hdrihaven.com/hdri/?h=royal_esplanade",target:"_blank",rel:"noopener"}},[e._v("Royal Esplanade")]),e._v(" by "),t("a",{attrs:{href:"https://hdrihaven.com/",target:"_blank",rel:"noopener"}},[e._v("HDRI Haven")])])])}]};var c=t("VU/8")(p,u,!1,function(e){t("cdwO")},"data-v-29820e2c",null);n.default=c.exports},cdwO:function(e,n){}});
//# sourceMappingURL=287.eec7f76f492dc6f96f7b.js.map