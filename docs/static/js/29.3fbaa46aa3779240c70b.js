webpackJsonp([29],{bGrg:function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return o});var s=i("6+nK"),r=i("p8Aj"),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){this.manager=void 0!==e?e:s.G,this.nodes={},this.materials={},this.passes={},this.names={},this.library=t||{}},o={replaceUUIDObject:function(e,t,i,s){if(s=void 0===s||s,"object"===(void 0===t?"undefined":n(t))&&(t=t.uuid),"object"===(void 0===e?"undefined":n(e)))for(var r=Object.keys(e),a=0;a<r.length;a++){var o=r[a];s&&(e[o]=this.replaceUUIDObject(e[o],t,i)),o===t&&(e[t]=e[o],delete e[o])}return e===t?i:e},replaceUUID:function(e,t,i){return this.replaceUUIDObject(e,t,i,!1),this.replaceUUIDObject(e.nodes,t,i),this.replaceUUIDObject(e.materials,t,i),this.replaceUUIDObject(e.passes,t,i),this.replaceUUIDObject(e.library,t,i,!1),e}};Object.assign(a.prototype,{load:function(e,t,i,r){var n=this,a=new s.S(n.manager);return a.setPath(n.path),a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r),this},setPath:function(e){return this.path=e,this},getObjectByName:function(e){return this.names[e]},getObjectById:function(e){return this.library[e]||this.nodes[e]||this.materials[e]||this.passes[e]||this.names[e]},getNode:function(e){var t=this.getObjectById(e);return t||console.warn('Node "'+e+'" not found.'),t},resolve:function(e){switch(void 0===e?"undefined":n(e)){case"boolean":case"number":return e;case"string":return/^\w{8}-\w{4}-\w{4}-\w{4}-\w{12}$/i.test(e)||this.library[e]?this.getNode(e):e;default:if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]=this.resolve(e[t]);else for(var i in e)"uuid"!==i&&(e[i]=this.resolve(e[i]))}return e},declare:function(e){var t,i,s;for(t in e.nodes)i=e.nodes[t],s=new r[i.nodeType+"Node"],i.name&&(s.name=i.name,this.names[s.name]=s),this.nodes[t]=s;for(t in e.materials)i=e.materials[t],s=new r[i.type],i.name&&(s.name=i.name,this.names[s.name]=s),this.materials[t]=s;for(t in e.passes)i=e.passes[t],s=new r[i.type],i.name&&(s.name=i.name,this.names[s.name]=s),this.passes[t]=s;return e.material&&(this.material=this.materials[e.material]),e.pass&&(this.pass=this.passes[e.pass]),e},parse:function(e){var t;for(t in(e=this.resolve(this.declare(e))).nodes)this.nodes[t].copy(e.nodes[t]);for(t in e.materials)this.materials[t].copy(e.materials[t]);for(t in e.passes)this.passes[t].copy(e.passes[t]);return this.material||this.pass||this}})},fMiL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("wIBv"),r=i("bGrg"),n=i("p8Aj"),a={data:function(){return{container:null,renderer:null,scene:null,camera:null,clock:null,frame:null,sprite1:null,sprite2:null,sprite3:null,walkingManTexture:null,walkingManTextureURL:null,library:{},controls:null,fov:50}},mounted:function(){this.container=document.getElementById("container"),this.clock=new this.$THREE.Clock,this.frame=new n.NodeFrame,window.addEventListener("load",this.init)},methods:{init:function(){function e(e,t){var i=new n.Vector2Node(t,0),s=new n.Vector2Node(1/e,1),r=new n.OperatorNode(new n.TimerNode,i,n.OperatorNode.MUL),a=new n.MathNode(r,n.MathNode.FLOOR),o=new n.OperatorNode(a,s,n.OperatorNode.MUL),h=new n.OperatorNode(new n.UVNode,s,n.OperatorNode.MUL);return new n.OperatorNode(h,o,n.OperatorNode.ADD)}this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.scene=new this.$THREE.Scene,this.scene.fog=new this.$THREE.Fog(255,70,150),this.camera=new this.$THREE.PerspectiveCamera(this.fov,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.z=100,this.camera.target=new this.$THREE.Vector3,this.controls=new s.b(this.camera,this.renderer.domElement),this.controls.minDistance=50,this.controls.maxDistance=200,this.walkingManTextureURL="static/textures/WalkingManSpriteSheet.png",this.walkingManTexture=(new this.$THREE.TextureLoader).load(this.walkingManTextureURL),this.walkingManTexture.wrapS=this.walkingManTexture.wrapT=this.$THREE.RepeatWrapping,this.library[this.walkingManTextureURL]=this.walkingManTexture;this.scene.add(this.sprite1=new this.$THREE.Sprite(new n.SpriteNodeMaterial)),this.sprite1.scale.x=20,this.sprite1.scale.y=20,this.sprite1.material.color=new n.TextureNode(this.walkingManTexture),this.sprite1.material.color.uv=e(8,10),this.scene.add(this.sprite2=new this.$THREE.Sprite(new n.SpriteNodeMaterial)),this.sprite2.position.x=30,this.sprite2.scale.x=20,this.sprite2.scale.y=20,this.sprite2.material.color=new n.TextureNode(this.walkingManTexture),this.sprite2.material.color.uv=e(8,30),this.sprite2.material.color=new n.MathNode(this.sprite2.material.color,n.MathNode.INVERT),this.sprite2.material.spherical=!1,this.sprite2.material.position=new n.OperatorNode(new n.OperatorNode(new n.MathNode(new n.TimerNode(3),n.MathNode.SIN),new n.Vector2Node(.3,0),n.OperatorNode.MUL),new n.PositionNode,n.OperatorNode.ADD);var t=new n.FunctionNode(["vec2 sineWave(vec2 uv, vec2 phase) {","\tfloat x = sin(25.0*uv.y + 30.0*uv.x + 6.28*phase.x) * 0.01;","\tfloat y = sin(25.0*uv.y + 30.0*uv.x + 6.28*phase.y) * 0.03;","\treturn vec2(uv.x+x, uv.y+y);","}"].join("\n"));this.scene.add(this.sprite3=new this.$THREE.Sprite(new n.SpriteNodeMaterial)),this.sprite3.position.x=-30,this.sprite3.scale.x=20,this.sprite3.scale.y=20,this.sprite3.material.color=new n.TextureNode(this.walkingManTexture),this.sprite3.material.color.uv=new n.FunctionCallNode(t,{uv:e(8,10),phase:new n.TimerNode}),this.sprite3.material.fog=!0,this.spriteToJSON(this.sprite1),this.spriteToJSON(this.sprite2),this.spriteToJSON(this.sprite3),window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.animate()},spriteToJSON:function(e){var t=e.material.toJSON();r.b.replaceUUID(t,this.walkingManTexture,this.walkingManTextureURL);var i=new r.a(null,this.library).parse(t);e.material.dispose(),e.material=i},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){var e=this.clock.getDelta();this.frame.update(e).updateNode(this.sprite1.material).updateNode(this.sprite2.material).updateNode(this.sprite3.material),this.sprite3.rotation.z-=.005*Math.PI,this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate)}}},o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglSpritesNodes-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - Node-Based Sprites\n\t\t")])])}]};var h=i("VU/8")(a,o,!1,function(e){i("nZIj")},"data-v-2284fe50",null);t.default=h.exports},nZIj:function(e,t){}});
//# sourceMappingURL=29.3fbaa46aa3779240c70b.js.map