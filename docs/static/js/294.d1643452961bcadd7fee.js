webpackJsonp([294],{ZtLf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("QEtz"),s=n("wIBv"),i=n("qxm1"),a=n("OlMB"),r=n("B0Ky"),l=n("Glcs"),d={data:function(){return{orbitControls:null,camera:null,scene:null,renderer:null,loader:null,gltf:null,background:null,envMap:null,mixer:null,gui:null,extensionControls:null,clock:null,scenes:null,state:null}},mounted:function(){this.clock=new this.$moduleTHREE.Clock,this.scenes={Boombox:{name:"BoomBox (PBR)",url:"static/models/gltf/BoomBox/%s/BoomBox.gltf",author:"Microsoft",authorURL:"https://www.microsoft.com/",cameraPos:new this.$moduleTHREE.Vector3(.02,.01,.03),objectRotation:new this.$moduleTHREE.Euler(0,Math.PI,0),extensions:["glTF","glTF-pbrSpecularGlossiness","glTF-Binary","glTF-dds"],addEnvMap:!0},"Bot Skinned":{name:"Bot Skinned",url:"static/models/gltf/BotSkinned/%s/Bot_Skinned.gltf",author:"MozillaVR",authorURL:"https://vr.mozilla.org/",cameraPos:new this.$moduleTHREE.Vector3(.5,2,2),center:new this.$moduleTHREE.Vector3(0,1.2,0),objectRotation:new this.$moduleTHREE.Euler(0,0,0),addLights:!0,addGround:!0,shadows:!0,extensions:["glTF-MaterialsUnlit"]},MetalRoughSpheres:{name:"MetalRoughSpheres (PBR)",url:"static/models/gltf/MetalRoughSpheres/%s/MetalRoughSpheres.gltf",author:"@emackey",authorURL:"https://twitter.com/emackey",cameraPos:new this.$moduleTHREE.Vector3(2,1,15),objectRotation:new this.$moduleTHREE.Euler(0,0,0),extensions:["glTF","glTF-Embedded"],addEnvMap:!0},"Clearcoat Test":{name:"Clearcoat Test",url:"static/models/gltf/ClearcoatTest/ClearcoatTest.glb",author:"Ed Mackey (Analytical Graphics, Inc.)",authorURL:"https://www.agi.com/",cameraPos:new this.$moduleTHREE.Vector3(0,0,20),extensions:["glTF"],addEnvMap:!0},Duck:{name:"Duck",url:"static/models/gltf/Duck/%s/Duck.gltf",author:"Sony",authorURL:"https://www.playstation.com/en-us/corporate/about/",cameraPos:new this.$moduleTHREE.Vector3(0,3,5),addLights:!0,addGround:!0,shadows:!0,extensions:["glTF","glTF-Embedded","glTF-pbrSpecularGlossiness","glTF-Binary","glTF-Draco"]},Monster:{name:"Monster",url:"static/models/gltf/Monster/%s/Monster.gltf",author:"3drt.com",authorURL:"http://www.3drt.com/downloads.htm",cameraPos:new this.$moduleTHREE.Vector3(3,1,7),objectScale:new this.$moduleTHREE.Vector3(.04,.04,.04),objectPosition:new this.$moduleTHREE.Vector3(.2,.1,0),objectRotation:new this.$moduleTHREE.Euler(0,-3*Math.PI/4,0),animationTime:3,addLights:!0,shadows:!0,addGround:!0,extensions:["glTF","glTF-Embedded","glTF-Binary","glTF-Draco","glTF-lights"]},"Cesium Man":{name:"Cesium Man",url:"static/models/gltf/CesiumMan/%s/CesiumMan.gltf",author:"Cesium",authorURL:"https://cesiumjs.org/",cameraPos:new this.$moduleTHREE.Vector3(0,3,10),objectRotation:new this.$moduleTHREE.Euler(0,0,0),addLights:!0,addGround:!0,shadows:!0,extensions:["glTF","glTF-Embedded","glTF-Binary","glTF-Draco"]},"Cesium Milk Truck":{name:"Cesium Milk Truck",url:"static/models/gltf/CesiumMilkTruck/%s/CesiumMilkTruck.gltf",author:"Cesium",authorURL:"https://cesiumjs.org/",cameraPos:new this.$moduleTHREE.Vector3(0,3,10),addLights:!0,addGround:!0,shadows:!0,extensions:["glTF","glTF-Embedded","glTF-Binary","glTF-Draco"]},"Outlined Box":{name:"Outlined Box",url:"static/models/gltf/OutlinedBox/OutlinedBox.gltf",author:"@twittmann",authorURL:"https://github.com/twittmann",cameraPos:new this.$moduleTHREE.Vector3(0,5,15),objectScale:new this.$moduleTHREE.Vector3(.01,.01,.01),objectRotation:new this.$moduleTHREE.Euler(0,90,0),addLights:!0,shadows:!0,extensions:["glTF"]}},this.state={scene:Object.keys(this.scenes)[0],extension:this.scenes[Object.keys(this.scenes)[0]].extensions[0],playAnimation:!0},this.onload()},beforeDestroy:function(){this.gui.destroy()},methods:{onload:function(){var e=this;this.renderer=new this.$moduleTHREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$moduleTHREE.sRGBEncoding,this.renderer.toneMapping=this.$moduleTHREE.ACESFilmicToneMapping,this.renderer.toneMappingExposure=1,this.renderer.physicallyCorrectLights=!0,document.getElementsByClassName("webglLoaderGltfExtensions-container")[0].appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1),(new l.a).setDataType(this.$moduleTHREE.UnsignedByteType).setPath("static/textures/equirectangular/").load("venice_sunset_1k.hdr",function(n){e.envMap=t.fromEquirectangular(n).texture,t.dispose(),e.background=e.envMap,e.buildGUI(),e.initScene(e.scenes[e.state.scene]),e.animate()});var t=new this.$moduleTHREE.PMREMGenerator(this.renderer);t.compileEquirectangularShader()},initScene:function(e){var t,n=this,o=document.getElementById("description");if(e.author&&e.authorURL&&(o.innerHTML=e.name+' by <a href="'+e.authorURL+'" target="_blank" rel="noopener">'+e.author+"</a>"),this.scene=new this.$moduleTHREE.Scene,this.scene.background=new this.$moduleTHREE.Color(2236962),this.camera=new this.$moduleTHREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,.001,1e3),this.scene.add(this.camera),e.addLights){var l=new this.$moduleTHREE.AmbientLight(2236962);this.scene.add(l);var d=new this.$moduleTHREE.DirectionalLight(14540253,4);d.position.set(0,0,1).normalize(),this.scene.add(d),(t=new this.$moduleTHREE.SpotLight(16777215,1)).position.set(5,10,5),t.angle=.5,t.penumbra=.75,t.intensity=100,t.decay=2,e.shadows&&(t.castShadow=!0,t.shadow.bias=1e-4,t.shadow.mapSize.width=2048,t.shadow.mapSize.height=2048),this.scene.add(t)}if(e.shadows&&(this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=this.$moduleTHREE.PCFSoftShadowMap),this.orbitControls=new s.b(this.camera,this.renderer.domElement),e.addGround){var h=new this.$moduleTHREE.MeshPhongMaterial({color:16777215}),c=new this.$moduleTHREE.Mesh(new this.$moduleTHREE.PlaneBufferGeometry(512,512),h);c.receiveShadow=!!e.shadows,e.groundPos?c.position.copy(e.groundPos):c.position.z=-70,c.rotation.x=-Math.PI/2,this.scene.add(c)}this.loader=new i.a;var u=new r.a;u.setDecoderPath("static/js/libs/draco/gltf/"),this.loader.setDRACOLoader(u),this.loader.setDDSLoader(new a.a);var m=e.url.replace(/%s/g,this.state.extension);"glTF-Binary"===this.state.extension&&(m=m.replace(".gltf",".glb"));var g=performance.now();this.loader.load(m,function(o){n.gltf=o;var s=n.gltf.scene;console.info("Load time: "+(performance.now()-g).toFixed(2)+" ms."),e.cameraPos&&n.camera.position.copy(e.cameraPos),e.center&&n.orbitControls.target.copy(e.center),e.objectPosition&&(s.position.copy(e.objectPosition),t&&t.target.position.copy(e.objectPosition)),e.objectRotation&&s.rotation.copy(e.objectRotation),e.objectScale&&s.scale.copy(e.objectScale),e.addEnvMap&&(s.traverse(function(e){e.material&&(e.material.isMeshStandardMaterial||e.material.isShaderMaterial&&void 0!==e.material.envMap)&&(e.material.envMap=n.envMap,e.material.envMapIntensity=1.5)}),n.scene.background=n.background),s.traverse(function(e){(e.isMesh||e.isLight)&&(e.castShadow=!0)});var i=n.gltf.animations;if(i&&i.length){n.mixer=new n.$moduleTHREE.AnimationMixer(s);for(var a=0;a<i.length;a++){var r=i[a];e.animationTime&&(r.duration=e.animationTime);var l=n.mixer.clipAction(r);n.state.playAnimation&&l.play()}}n.scene.add(s),n.onWindowResize()},void 0,function(e){console.error(e)})},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.mixer&&this.mixer.update(this.clock.getDelta()),this.orbitControls.update(),this.render()},render:function(){this.renderer.render(this.scene,this.camera)},buildGUI:function(){this.gui=new o.a({width:330}),this.gui.domElement.parentElement.style.zIndex=101,this.gui.add(this.state,"scene",Object.keys(this.scenes)).onChange(this.reload),this.gui.add(this.state,"playAnimation").onChange(this.toggleAnimations),this.updateGUI()},updateGUI:function(){this.extensionControls&&this.extensionControls.remove();var e=this.scenes[this.state.scene];-1===e.extensions.indexOf(this.state.extension)&&(this.state.extension=e.extensions[0]),this.extensionControls=this.gui.add(this.state,"extension",e.extensions),this.extensionControls.onChange(this.reload)},toggleAnimations:function(){for(var e=0;e<this.gltf.animations.length;e++){var t=this.gltf.animations[e],n=this.mixer.existingAction(t);this.state.playAnimation?n.play():n.stop()}},reload:function(){this.loader&&this.mixer&&this.mixer.stopAllAction(),this.updateGUI(),this.initScene(this.scenes[this.state.scene])}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderGltfExtensions-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" -\n\t\t\t"),t("a",{attrs:{href:"https://github.com/KhronosGroup/glTF",target:"_blank",rel:"noopener"}},[this._v("glTF")]),this._v(" 2.0 loader"),t("br"),this._v(" "),t("div",{attrs:{id:"description"}})])])}]};var c=n("VU/8")(d,h,!1,function(e){n("vngw")},"data-v-24988624",null);t.default=c.exports},vngw:function(e,t){}});
//# sourceMappingURL=294.d1643452961bcadd7fee.js.map