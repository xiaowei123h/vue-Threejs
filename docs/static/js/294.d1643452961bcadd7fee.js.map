{"version":3,"sources":["webpack:///src/views/loader/webglLoaderGltfExtensions.vue","webpack:///./src/views/loader/webglLoaderGltfExtensions.vue?e8ba","webpack:///./src/views/loader/webglLoaderGltfExtensions.vue"],"names":["webglLoaderGltfExtensions","data","orbitControls","camera","scene","renderer","loader","gltf","background","envMap","mixer","gui","extensionControls","clock","scenes","state","mounted","this","$moduleTHREE","Clock","Boombox","name","url","author","authorURL","cameraPos","Vector3","objectRotation","Euler","Math","PI","extensions","addEnvMap","Bot Skinned","center","addLights","addGround","shadows","MetalRoughSpheres","Clearcoat Test","Duck","Monster","objectScale","objectPosition","animationTime","Cesium Man","Cesium Milk Truck","Outlined Box","Object","keys","extension","playAnimation","onload","beforeDestroy","destroy","methods","_this","WebGLRenderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","$webglInnerWidth","innerHeight","outputEncoding","sRGBEncoding","toneMapping","ACESFilmicToneMapping","toneMappingExposure","physicallyCorrectLights","document","getElementsByClassName","appendChild","domElement","addEventListener","onWindowResize","RGBELoader","setDataType","UnsignedByteType","setPath","load","texture","pmremGenerator","fromEquirectangular","dispose","buildGUI","initScene","animate","PMREMGenerator","compileEquirectangularShader","sceneInfo","spot1","_this2","descriptionEl","getElementById","innerHTML","Scene","Color","PerspectiveCamera","add","ambient","AmbientLight","directionalLight","DirectionalLight","position","set","normalize","SpotLight","angle","penumbra","intensity","decay","castShadow","shadow","bias","mapSize","width","height","shadowMap","enabled","type","PCFSoftShadowMap","OrbitControls","groundMaterial","MeshPhongMaterial","color","ground","Mesh","PlaneBufferGeometry","receiveShadow","groundPos","copy","z","rotation","x","GLTFLoader","dracoLoader","DRACOLoader","setDecoderPath","setDRACOLoader","setDDSLoader","DDSLoader","replace","loadStartTime","performance","now","object","console","info","toFixed","target","scale","traverse","node","material","isMeshStandardMaterial","isShaderMaterial","undefined","envMapIntensity","isMesh","isLight","animations","length","AnimationMixer","i","animation","duration","action","clipAction","play","error","$onWindowResize","requestAnimationFrame","update","getDelta","render","dat_gui_module","parentElement","style","zIndex","onChange","reload","toggleAnimations","updateGUI","remove","indexOf","clip","existingAction","stop","stopAllAction","loader_webglLoaderGltfExtensions","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/294.d1643452961bcadd7fee.js","sourcesContent":["<template>\r\n    <div class=\"webglLoaderGltfExtensions-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> -\r\n\t\t\t<a href=\"https://github.com/KhronosGroup/glTF\" target=\"_blank\" rel=\"noopener\">glTF</a> 2.0 loader<br />\r\n\t\t\t<div id=\"description\"></div>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { GUI } from '@/components/jsm/libs/dat.gui.module.js'\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nimport { GLTFLoader } from '@/components/jsm/loaders/GLTFLoader.js'\r\nimport { DDSLoader } from '@/components/jsm/loaders/DDSLoader.js'\r\nimport { DRACOLoader } from '@/components/jsm/loaders/DRACOLoader.js'\r\nimport { RGBELoader } from '@/components/jsm/loaders/RGBELoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            orbitControls: null,\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n            loader: null,\r\n            gltf: null,\r\n            background: null,\r\n            envMap: null,\r\n            mixer: null,\r\n            gui: null,\r\n            extensionControls: null,\r\n\t\t\tclock: null,\r\n            scenes: null,\r\n            state: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.clock = new this.$moduleTHREE.Clock()\r\n        this.scenes = {\r\n            Boombox: {\r\n                name: 'BoomBox (PBR)',\r\n                url: 'static/models/gltf/BoomBox/%s/BoomBox.gltf',\r\n                author: 'Microsoft',\r\n                authorURL: 'https://www.microsoft.com/',\r\n                cameraPos: new this.$moduleTHREE.Vector3(0.02, 0.01, 0.03),\r\n                objectRotation: new this.$moduleTHREE.Euler(0, Math.PI, 0),\r\n                extensions: ['glTF', 'glTF-pbrSpecularGlossiness', 'glTF-Binary', 'glTF-dds'],\r\n                addEnvMap: true\r\n            },\r\n            'Bot Skinned': {\r\n                name: 'Bot Skinned',\r\n                url: 'static/models/gltf/BotSkinned/%s/Bot_Skinned.gltf',\r\n                author: 'MozillaVR',\r\n                authorURL: 'https://vr.mozilla.org/',\r\n                cameraPos: new this.$moduleTHREE.Vector3(0.5, 2, 2),\r\n                center: new this.$moduleTHREE.Vector3(0, 1.2, 0),\r\n                objectRotation: new this.$moduleTHREE.Euler(0, 0, 0),\r\n                addLights: true,\r\n                addGround: true,\r\n                shadows: true,\r\n                extensions: ['glTF-MaterialsUnlit']\r\n            },\r\n            MetalRoughSpheres: {\r\n                name: 'MetalRoughSpheres (PBR)',\r\n                url: 'static/models/gltf/MetalRoughSpheres/%s/MetalRoughSpheres.gltf',\r\n                author: '@emackey',\r\n                authorURL: 'https://twitter.com/emackey',\r\n                cameraPos: new this.$moduleTHREE.Vector3(2, 1, 15),\r\n                objectRotation: new this.$moduleTHREE.Euler(0, 0, 0),\r\n                extensions: ['glTF', 'glTF-Embedded'],\r\n                addEnvMap: true\r\n            },\r\n            'Clearcoat Test': {\r\n                name: 'Clearcoat Test',\r\n                url: 'static/models/gltf/ClearcoatTest/ClearcoatTest.glb',\r\n                author: 'Ed Mackey (Analytical Graphics, Inc.)',\r\n                authorURL: 'https://www.agi.com/',\r\n                cameraPos: new this.$moduleTHREE.Vector3(0, 0, 20),\r\n                extensions: ['glTF'],\r\n                addEnvMap: true\r\n            },\r\n            Duck: {\r\n                name: 'Duck',\r\n                url: 'static/models/gltf/Duck/%s/Duck.gltf',\r\n                author: 'Sony',\r\n                authorURL: 'https://www.playstation.com/en-us/corporate/about/',\r\n                cameraPos: new this.$moduleTHREE.Vector3(0, 3, 5),\r\n                addLights: true,\r\n                addGround: true,\r\n                shadows: true,\r\n                extensions: ['glTF', 'glTF-Embedded', 'glTF-pbrSpecularGlossiness', 'glTF-Binary', 'glTF-Draco']\r\n            },\r\n            Monster: {\r\n                name: 'Monster',\r\n                url: 'static/models/gltf/Monster/%s/Monster.gltf',\r\n                author: '3drt.com',\r\n                authorURL: 'http://www.3drt.com/downloads.htm',\r\n                cameraPos: new this.$moduleTHREE.Vector3(3, 1, 7),\r\n                objectScale: new this.$moduleTHREE.Vector3(0.04, 0.04, 0.04),\r\n                objectPosition: new this.$moduleTHREE.Vector3(0.2, 0.1, 0),\r\n                objectRotation: new this.$moduleTHREE.Euler(0, - 3 * Math.PI / 4, 0),\r\n                animationTime: 3,\r\n                addLights: true,\r\n                shadows: true,\r\n                addGround: true,\r\n                extensions: ['glTF', 'glTF-Embedded', 'glTF-Binary', 'glTF-Draco', 'glTF-lights']\r\n            },\r\n            'Cesium Man': {\r\n                name: 'Cesium Man',\r\n                url: 'static/models/gltf/CesiumMan/%s/CesiumMan.gltf',\r\n                author: 'Cesium',\r\n                authorURL: 'https://cesiumjs.org/',\r\n                cameraPos: new this.$moduleTHREE.Vector3(0, 3, 10),\r\n                objectRotation: new this.$moduleTHREE.Euler(0, 0, 0),\r\n                addLights: true,\r\n                addGround: true,\r\n                shadows: true,\r\n                extensions: ['glTF', 'glTF-Embedded', 'glTF-Binary', 'glTF-Draco']\r\n            },\r\n            'Cesium Milk Truck': {\r\n                name: 'Cesium Milk Truck',\r\n                url: 'static/models/gltf/CesiumMilkTruck/%s/CesiumMilkTruck.gltf',\r\n                author: 'Cesium',\r\n                authorURL: 'https://cesiumjs.org/',\r\n                cameraPos: new this.$moduleTHREE.Vector3(0, 3, 10),\r\n                addLights: true,\r\n                addGround: true,\r\n                shadows: true,\r\n                extensions: ['glTF', 'glTF-Embedded', 'glTF-Binary', 'glTF-Draco']\r\n            },\r\n            'Outlined Box': {\r\n                name: 'Outlined Box',\r\n                url: 'static/models/gltf/OutlinedBox/OutlinedBox.gltf',\r\n                author: '@twittmann',\r\n                authorURL: 'https://github.com/twittmann',\r\n                cameraPos: new this.$moduleTHREE.Vector3(0, 5, 15),\r\n                objectScale: new this.$moduleTHREE.Vector3(0.01, 0.01, 0.01),\r\n                objectRotation: new this.$moduleTHREE.Euler(0, 90, 0),\r\n                addLights: true,\r\n                shadows: true,\r\n                extensions: ['glTF']\r\n            },\r\n        }\r\n        this.state = {\r\n            scene: Object.keys(this.scenes)[0],\r\n            extension: this.scenes[Object.keys(this.scenes)[0]].extensions[0],\r\n            playAnimation: true\r\n        }\r\n        this.onload()\r\n    },\r\n    beforeDestroy() {\r\n        this.gui.destroy()\r\n    },\r\n    methods: {\r\n        onload() {\r\n            this.renderer = new this.$moduleTHREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            this.renderer.outputEncoding = this.$moduleTHREE.sRGBEncoding\r\n            this.renderer.toneMapping = this.$moduleTHREE.ACESFilmicToneMapping\r\n            this.renderer.toneMappingExposure = 1\r\n            this.renderer.physicallyCorrectLights = true\r\n            document.getElementsByClassName('webglLoaderGltfExtensions-container')[0].appendChild(this.renderer.domElement)\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n            // Load background and generate envMap\r\n            new RGBELoader()\r\n                .setDataType(this.$moduleTHREE.UnsignedByteType)\r\n                .setPath('static/textures/equirectangular/')\r\n                .load('venice_sunset_1k.hdr', (texture) => {\r\n                    this.envMap = pmremGenerator.fromEquirectangular(texture).texture\r\n                    pmremGenerator.dispose()\r\n                    this.background = this.envMap\r\n                    //\r\n                    this.buildGUI()\r\n                    this.initScene(this.scenes[this.state.scene])\r\n                    this.animate()\r\n                })\r\n            var pmremGenerator = new this.$moduleTHREE.PMREMGenerator(this.renderer)\r\n            pmremGenerator.compileEquirectangularShader()\r\n        },\r\n        initScene(sceneInfo) {\r\n            var descriptionEl = document.getElementById('description')\r\n            if (sceneInfo.author && sceneInfo.authorURL) {\r\n                descriptionEl.innerHTML = sceneInfo.name + ' by <a href=\"' + sceneInfo.authorURL + '\" target=\"_blank\" rel=\"noopener\">' + sceneInfo.author + '</a>'\r\n            }\r\n            this.scene = new this.$moduleTHREE.Scene()\r\n            this.scene.background = new this.$moduleTHREE.Color(0x222222)\r\n            this.camera = new this.$moduleTHREE.PerspectiveCamera(45, this.$webglInnerWidth / window.innerHeight, 0.001, 1000)\r\n            this.scene.add(this.camera)\r\n            var spot1\r\n            if (sceneInfo.addLights) {\r\n                var ambient = new this.$moduleTHREE.AmbientLight(0x222222)\r\n                this.scene.add(ambient)\r\n                var directionalLight = new this.$moduleTHREE.DirectionalLight(0xdddddd, 4)\r\n                directionalLight.position.set(0, 0, 1).normalize()\r\n                this.scene.add(directionalLight)\r\n                spot1 = new this.$moduleTHREE.SpotLight(0xffffff, 1)\r\n                spot1.position.set(5, 10, 5)\r\n                spot1.angle = 0.50\r\n                spot1.penumbra = 0.75\r\n                spot1.intensity = 100\r\n                spot1.decay = 2\r\n                if (sceneInfo.shadows) {\r\n                    spot1.castShadow = true\r\n                    spot1.shadow.bias = 0.0001\r\n                    spot1.shadow.mapSize.width = 2048\r\n                    spot1.shadow.mapSize.height = 2048\r\n                }\r\n                this.scene.add(spot1)\r\n            }\r\n            if (sceneInfo.shadows) {\r\n                this.renderer.shadowMap.enabled = true\r\n                this.renderer.shadowMap.type = this.$moduleTHREE.PCFSoftShadowMap\r\n            }\r\n            // TODO: Reuse existing OrbitControls, GLTFLoaders, and so on\r\n            this.orbitControls = new OrbitControls(this.camera, this.renderer.domElement)\r\n            if (sceneInfo.addGround) {\r\n                var groundMaterial = new this.$moduleTHREE.MeshPhongMaterial({ color: 0xFFFFFF })\r\n                var ground = new this.$moduleTHREE.Mesh(new this.$moduleTHREE.PlaneBufferGeometry(512, 512), groundMaterial)\r\n                ground.receiveShadow = !! sceneInfo.shadows\r\n                if (sceneInfo.groundPos) {\r\n                    ground.position.copy(sceneInfo.groundPos)\r\n                } else {\r\n                    ground.position.z = - 70\r\n                }\r\n                ground.rotation.x = - Math.PI / 2\r\n                this.scene.add(ground)\r\n            }\r\n            this.loader = new GLTFLoader()\r\n            var dracoLoader = new DRACOLoader()\r\n            dracoLoader.setDecoderPath('static/js/libs/draco/gltf/')\r\n            this.loader.setDRACOLoader(dracoLoader)\r\n            this.loader.setDDSLoader(new DDSLoader())\r\n            var url = sceneInfo.url.replace(/%s/g, this.state.extension)\r\n            if (this.state.extension === 'glTF-Binary') {\r\n                url = url.replace('.gltf', '.glb')\r\n            }\r\n            var loadStartTime = performance.now()\r\n            this.loader.load(url, (data) => {\r\n                this.gltf = data\r\n                var object = this.gltf.scene\r\n                console.info('Load time: ' + (performance.now() - loadStartTime).toFixed(2) + ' ms.')\r\n                if (sceneInfo.cameraPos) {\r\n                    this.camera.position.copy(sceneInfo.cameraPos)\r\n                }\r\n                if (sceneInfo.center) {\r\n                    this.orbitControls.target.copy(sceneInfo.center)\r\n                }\r\n                if (sceneInfo.objectPosition) {\r\n                    object.position.copy(sceneInfo.objectPosition)\r\n                    if (spot1) {\r\n                        spot1.target.position.copy(sceneInfo.objectPosition)\r\n                    }\r\n                }\r\n                if (sceneInfo.objectRotation) {\r\n                    object.rotation.copy(sceneInfo.objectRotation)\r\n                }\r\n                if (sceneInfo.objectScale) {\r\n                    object.scale.copy(sceneInfo.objectScale)\r\n                }\r\n                if (sceneInfo.addEnvMap) {\r\n                    object.traverse((node) => {\r\n                        if (node.material && (node.material.isMeshStandardMaterial ||\r\n                                (node.material.isShaderMaterial && node.material.envMap !== undefined))) {\r\n                            node.material.envMap = this.envMap\r\n                            node.material.envMapIntensity = 1.5 // boombox seems too dark otherwise\r\n                        }\r\n                    })\r\n                    this.scene.background = this.background\r\n                }\r\n                object.traverse((node) => {\r\n                    if (node.isMesh || node.isLight) node.castShadow = true\r\n                })\r\n                var animations = this.gltf.animations\r\n                if (animations && animations.length) {\r\n                    this.mixer = new this.$moduleTHREE.AnimationMixer(object)\r\n                    for (var i = 0; i < animations.length; i ++) {\r\n                        var animation = animations[i]\r\n                        // There's .3333 seconds junk at the tail of the Monster animation that\r\n                        // keeps it from looping cleanly. Clip it at 3 seconds\r\n                        if (sceneInfo.animationTime) {\r\n                            animation.duration = sceneInfo.animationTime\r\n                        }\r\n                        var action = this.mixer.clipAction(animation)\r\n                        if (this.state.playAnimation) action.play()\r\n                    }\r\n                }\r\n                this.scene.add(object)\r\n                this.onWindowResize()\r\n            }, undefined, (error) => {\r\n                console.error(error)\r\n            })\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            if (this.mixer) this.mixer.update(this.clock.getDelta())\r\n            this.orbitControls.update()\r\n            this.render()\r\n        },\r\n        render() {\r\n            this.renderer.render(this.scene, this.camera)\r\n        },\r\n        buildGUI() {\r\n            this.gui = new GUI({ width: 330 })\r\n            this.gui.domElement.parentElement.style.zIndex = 101\r\n            var sceneCtrl = this.gui.add(this.state, 'scene', Object.keys(this.scenes))\r\n            sceneCtrl.onChange(this.reload)\r\n            var animCtrl = this.gui.add(this.state, 'playAnimation')\r\n            animCtrl.onChange(this.toggleAnimations)\r\n            this.updateGUI()\r\n        },\r\n        updateGUI() {\r\n            if (this.extensionControls) this.extensionControls.remove()\r\n            var sceneInfo = this.scenes[this.state.scene]\r\n            if (sceneInfo.extensions.indexOf(this.state.extension) === - 1) {\r\n                this.state.extension = sceneInfo.extensions[0]\r\n            }\r\n            this.extensionControls = this.gui.add(this.state, 'extension', sceneInfo.extensions)\r\n            this.extensionControls.onChange(this.reload)\r\n        },\r\n        toggleAnimations() {\r\n            for (var i = 0; i < this.gltf.animations.length; i ++) {\r\n                var clip = this.gltf.animations[i]\r\n                var action = this.mixer.existingAction(clip)\r\n                this.state.playAnimation ? action.play() : action.stop()\r\n            }\r\n        },\r\n        reload() {\r\n            if (this.loader && this.mixer) this.mixer.stopAllAction()\r\n            this.updateGUI()\r\n            this.initScene(this.scenes[this.state.scene])\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglLoaderGltfExtensions-container {\r\n    width: 100%;\r\n}\r\n#info {\r\n    margin-left: 35px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/loader/webglLoaderGltfExtensions.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglLoaderGltfExtensions-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" -\\n\\t\\t\\t\"),_c('a',{attrs:{\"href\":\"https://github.com/KhronosGroup/glTF\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"glTF\")]),_vm._v(\" 2.0 loader\"),_c('br'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"description\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24988624\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/loader/webglLoaderGltfExtensions.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24988624\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglLoaderGltfExtensions.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderGltfExtensions.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderGltfExtensions.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24988624\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglLoaderGltfExtensions.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-24988624\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/loader/webglLoaderGltfExtensions.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}