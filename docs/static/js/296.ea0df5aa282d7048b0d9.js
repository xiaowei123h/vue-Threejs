webpackJsonp([296],{"4Sok":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("6+nK"),n=function(e){a.Loader.call(this,e)};n.prototype=Object.assign(Object.create(a.Loader.prototype),{constructor:n,load:function(e,t,r,n){var i=this,s=new a.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(r){try{t(i.parse(r))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}},r,n)},parse:function(e){function t(e,t,r){for(var a=0,n=e.length;a<n;a++)if(e[a]!==t.getUint8(r+a,!1))return!1;return!0}var r,n=function(e){if("string"==typeof e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t.buffer||t}return e}(e);return function(e){var r;if(84+50*(r=new DataView(e)).getUint32(80,!0)===r.byteLength)return!0;for(var a=[115,111,108,105,100],n=0;n<5;n++)if(t(a,r,n))return!1;return!0}(n)?function(e){for(var t,r,n,i,s,o,h,d,l=new DataView(e),c=l.getUint32(80,!0),u=!1,w=0;w<70;w++)1129270351==l.getUint32(w,!1)&&82==l.getUint8(w+4)&&61==l.getUint8(w+5)&&(u=!0,i=new Float32Array(3*c*3),s=l.getUint8(w+6)/255,o=l.getUint8(w+7)/255,h=l.getUint8(w+8)/255,d=l.getUint8(w+9)/255);for(var f=new a.BufferGeometry,p=new Float32Array(3*c*3),g=new Float32Array(3*c*3),m=0;m<c;m++){var E=84+50*m,v=l.getFloat32(E,!0),b=l.getFloat32(E+4,!0),R=l.getFloat32(E+8,!0);if(u){var T=l.getUint16(E+48,!0);0==(32768&T)?(t=(31&T)/31,r=(T>>5&31)/31,n=(T>>10&31)/31):(t=s,r=o,n=h)}for(var y=1;y<=3;y++){var H=E+12*y,S=3*m*3+3*(y-1);p[S]=l.getFloat32(H,!0),p[S+1]=l.getFloat32(H+4,!0),p[S+2]=l.getFloat32(H+8,!0),g[S]=v,g[S+1]=b,g[S+2]=R,u&&(i[S]=t,i[S+1]=r,i[S+2]=n)}}return f.setAttribute("position",new a.BufferAttribute(p,3)),f.setAttribute("normal",new a.BufferAttribute(g,3)),u&&(f.setAttribute("color",new a.BufferAttribute(i,3)),f.hasColors=!0,f.alpha=d),f}(n):function(e){for(var t,r=new a.BufferGeometry,n=/solid([\s\S]*?)endsolid/g,i=/facet([\s\S]*?)endfacet/g,s=0,o=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,h=new RegExp("vertex"+o+o+o,"g"),d=new RegExp("normal"+o+o+o,"g"),l=[],c=[],u=new a.Vector3,w=0,f=0,p=0;null!==(t=n.exec(e));){f=p;for(var g=t[0];null!==(t=i.exec(g));){for(var m=0,E=0,v=t[0];null!==(t=d.exec(v));)u.x=parseFloat(t[1]),u.y=parseFloat(t[2]),u.z=parseFloat(t[3]),E++;for(;null!==(t=h.exec(v));)l.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),c.push(u.x,u.y,u.z),m++,p++;1!==E&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+s),3!==m&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+s),s++}var b=f,R=p-f;r.addGroup(b,R,w),w++}return r.setAttribute("position",new a.Float32BufferAttribute(l,3)),r.setAttribute("normal",new a.Float32BufferAttribute(c,3)),r}("string"!=typeof(r=e)?a.LoaderUtils.decodeText(new Uint8Array(r)):r)}});var i={data:function(){return{container:null,stats:null,camera:null,cameraTarget:null,scene:null,renderer:null}},mounted:function(){this.init(),this.animate()},methods:{init:function(){var e=this;this.container=document.createElement("div"),document.getElementsByClassName("webglLoaderStl-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(35,this.$webglInnerWidth/window.innerHeight,1,15),this.camera.position.set(3,.15,3),this.cameraTarget=new this.$THREE.Vector3(0,-.25,0),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(7496795),this.scene.fog=new this.$THREE.Fog(7496795,2,15);var t=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(40,40),new this.$THREE.MeshPhongMaterial({color:10066329,specular:1052688}));t.rotation.x=-Math.PI/2,t.position.y=-.5,this.scene.add(t),t.receiveShadow=!0;var r=new n;r.load("static/models/stl/ascii/slotted_disk.stl",function(t){var r=new e.$THREE.MeshPhongMaterial({color:16733491,specular:1118481,shininess:200}),a=new e.$THREE.Mesh(t,r);a.position.set(0,-.25,.6),a.rotation.set(0,-Math.PI/2,0),a.scale.set(.5,.5,.5),a.castShadow=!0,a.receiveShadow=!0,e.scene.add(a)});var a=new this.$THREE.MeshPhongMaterial({color:11184810,specular:1118481,shininess:200});r.load("static/models/stl/binary/pr2_head_pan.stl",function(t){var r=new e.$THREE.Mesh(t,a);r.position.set(0,-.37,-.6),r.rotation.set(-Math.PI/2,0,0),r.scale.set(2,2,2),r.castShadow=!0,r.receiveShadow=!0,e.scene.add(r)}),r.load("static/models/stl/binary/pr2_head_tilt.stl",function(t){var r=new e.$THREE.Mesh(t,a);r.position.set(.136,-.37,-.6),r.rotation.set(-Math.PI/2,.3,0),r.scale.set(2,2,2),r.castShadow=!0,r.receiveShadow=!0,e.scene.add(r)}),r.load("static/models/stl/binary/colored.stl",function(t){var r=a;t.hasColors&&(r=new e.$THREE.MeshPhongMaterial({opacity:t.alpha,vertexColors:!0}));var n=new e.$THREE.Mesh(t,r);n.position.set(.5,.2,0),n.rotation.set(-Math.PI/2,Math.PI/2,0),n.scale.set(.3,.3,.3),n.castShadow=!0,n.receiveShadow=!0,e.scene.add(n)}),this.scene.add(new this.$THREE.HemisphereLight(4469555,1118498)),this.addShadowedLight(1,1,1,16777215,1.35),this.addShadowedLight(.5,1,-1,16755200,1),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.renderer.shadowMap.enabled=!0,this.container.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},addShadowedLight:function(e,t,r,a,n){var i=new this.$THREE.DirectionalLight(a,n);i.position.set(e,t,r),this.scene.add(i),i.castShadow=!0;i.shadow.camera.left=-1,i.shadow.camera.right=1,i.shadow.camera.top=1,i.shadow.camera.bottom=-1,i.shadow.camera.near=1,i.shadow.camera.far=4,i.shadow.bias=-.002},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var e=5e-4*Date.now();this.camera.position.x=3*Math.cos(e),this.camera.position.z=3*Math.sin(e),this.camera.lookAt(this.cameraTarget),this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderStl-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" -\n\t\t\tSTL loader test by "),t("a",{attrs:{href:"https://github.com/aleeper",target:"_blank",rel:"noopener"}},[this._v("aleeper")]),this._v("."),t("br"),this._v("\n\t\t\tPR2 head from "),t("a",{attrs:{href:"http://www.ros.org/wiki/pr2_description"}},[this._v("www.ros.org")])])])}]};var o=r("VU/8")(i,s,!1,function(e){r("kB3W")},"data-v-2437aeee",null);t.default=o.exports},kB3W:function(e,t){}});
//# sourceMappingURL=296.ea0df5aa282d7048b0d9.js.map