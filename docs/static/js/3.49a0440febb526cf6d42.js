webpackJsonp([3],{"57L2":function(e,t){},LjgP:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n")}},mMq2:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n")}},qPWl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("QEtz"),i=a("mMq2"),s=a("LjgP"),n=a("wIBv"),h={data:function(){return{camera:null,scene:null,renderer:null,stats:null,gui:null,meshes:[],PLANE_WIDTH:2.5,PLANE_HEIGHT:2.5,CAMERA_HEIGHT:.3,state:{shadow:{blur:3.5,darkness:1,opacity:1},plane:{color:"#ffffff",opacity:1},showWireframe:!1},shadowGroup:null,renderTarget:null,renderTargetBlur:null,shadowCamera:null,cameraHelper:null,depthMaterial:null,horizontalBlurMaterial:null,verticalBlurMaterial:null,plane:null,blurPlane:null,fillPlane:null}},mounted:function(){this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e=this;this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,.1,100),this.camera.position.set(.5,1,2),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(16777215),this.stats=new this.$Stats,this.stats.dom.style.left="280px",document.getElementsByClassName("webglShadowContact-container")[0].appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize);for(var t=[new this.$THREE.BoxBufferGeometry(.4,.4,.4),new this.$THREE.IcosahedronBufferGeometry(.3),new this.$THREE.TorusKnotBufferGeometry(.4,.05,256,24,1,3)],a=new this.$THREE.MeshNormalMaterial,h=0,l=t.length;h<l;h++){var o=h/l*Math.PI*2,u=t[h],d=new this.$THREE.Mesh(u,a);d.position.y=.1,d.position.x=Math.cos(o)/2,d.position.z=Math.sin(o)/2,this.scene.add(d),this.meshes.push(d)}this.shadowGroup=new this.$THREE.Group,this.shadowGroup.position.y=-.3,this.scene.add(this.shadowGroup),this.renderTarget=new this.$THREE.WebGLRenderTarget(512,512),this.renderTarget.texture.generateMipmaps=!1,this.renderTargetBlur=new this.$THREE.WebGLRenderTarget(512,512),this.renderTargetBlur.texture.generateMipmaps=!1;var v=new this.$THREE.PlaneBufferGeometry(this.PLANE_WIDTH,this.PLANE_HEIGHT).rotateX(Math.PI/2),c=new this.$THREE.MeshBasicMaterial({map:this.renderTarget.texture,opacity:this.state.shadow.opacity,transparent:!0});this.plane=new this.$THREE.Mesh(v,c),this.shadowGroup.add(this.plane),this.plane.scale.y=-1,this.blurPlane=new this.$THREE.Mesh(v),this.blurPlane.visible=!1,this.shadowGroup.add(this.blurPlane);var f=new this.$THREE.MeshBasicMaterial({color:this.state.plane.color,opacity:this.state.plane.opacity,transparent:!0});this.fillPlane=new this.$THREE.Mesh(v,f),this.fillPlane.rotateX(Math.PI),this.fillPlane.position.y-=1e-5,this.shadowGroup.add(this.fillPlane),this.shadowCamera=new this.$THREE.OrthographicCamera(-this.PLANE_WIDTH/2,this.PLANE_WIDTH/2,this.PLANE_HEIGHT/2,-this.PLANE_HEIGHT/2,0,this.CAMERA_HEIGHT),this.shadowCamera.rotation.x=Math.PI/2,this.shadowGroup.add(this.shadowCamera),this.cameraHelper=new this.$THREE.CameraHelper(this.shadowCamera),this.depthMaterial=new this.$THREE.MeshDepthMaterial,this.depthMaterial.userData.darkness={value:this.state.shadow.darkness},this.depthMaterial.onBeforeCompile=function(t){t.uniforms.darkness=e.depthMaterial.userData.darkness,t.fragmentShader="\n                    uniform float darkness;\n                    "+t.fragmentShader.replace("gl_FragColor = vec4(vec3(1.0 - fragCoordZ), opacity);","gl_FragColor = vec4(vec3(0.0), (1.0 - fragCoordZ) * darkness);")+"\n                "},this.depthMaterial.depthTest=!1,this.depthMaterial.depthWrite=!1,this.horizontalBlurMaterial=new this.$THREE.ShaderMaterial(i.a),this.horizontalBlurMaterial.depthTest=!1,this.verticalBlurMaterial=new this.$THREE.ShaderMaterial(s.a),this.verticalBlurMaterial.depthTest=!1,this.gui=new r.a;var m=this.gui.addFolder("shadow");m.open();var p=this.gui.addFolder("plane");p.open(),m.add(this.state.shadow,"blur",0,15,.1),m.add(this.state.shadow,"darkness",1,5,.1).onChange(function(){e.depthMaterial.userData.darkness.value=e.state.shadow.darkness}),m.add(this.state.shadow,"opacity",0,1,.01).onChange(function(){e.plane.material.opacity=e.state.shadow.opacity}),p.addColor(this.state.plane,"color").onChange(function(){e.fillPlane.material.color=new e.$THREE.Color(e.state.plane.color)}),p.add(this.state.plane,"opacity",0,1,.01).onChange(function(){e.fillPlane.material.opacity=e.state.plane.opacity}),this.gui.add(this.state,"showWireframe",!0).onChange(function(){e.state.showWireframe?e.scene.add(e.cameraHelper):e.scene.remove(e.cameraHelper)}),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglShadowContact-container")[0].appendChild(this.renderer.domElement),new n.a(this.camera,this.renderer.domElement)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},blurShadow:function(e){this.blurPlane.visible=!0,this.blurPlane.material=this.horizontalBlurMaterial,this.blurPlane.material.uniforms.tDiffuse.value=this.renderTarget.texture,this.horizontalBlurMaterial.uniforms.h.value=1*e/256,this.renderer.setRenderTarget(this.renderTargetBlur),this.renderer.render(this.blurPlane,this.shadowCamera),this.blurPlane.material=this.verticalBlurMaterial,this.blurPlane.material.uniforms.tDiffuse.value=this.renderTargetBlur.texture,this.verticalBlurMaterial.uniforms.v.value=1*e/256,this.renderer.setRenderTarget(this.renderTarget),this.renderer.render(this.blurPlane,this.shadowCamera),this.blurPlane.visible=!1},animate:function(){requestAnimationFrame(this.animate),this.meshes.forEach(function(e){e.rotation.x+=.01,e.rotation.y+=.02});var e=this.scene.background;this.scene.background=null,this.cameraHelper.visible=!1,this.scene.overrideMaterial=this.depthMaterial,this.renderer.setRenderTarget(this.renderTarget),this.renderer.render(this.scene,this.shadowCamera),this.scene.overrideMaterial=null,this.cameraHelper.visible=!0,this.blurShadow(this.state.shadow.blur),this.blurShadow(.4*this.state.shadow.blur),this.renderer.setRenderTarget(null),this.scene.background=e,this.renderer.render(this.scene,this.camera),this.stats.update()}}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglShadowContact-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" webgl - contact shadows\n\t\t")])])}]};var o=a("VU/8")(h,l,!1,function(e){a("57L2")},"data-v-27dcc82d",null);t.default=o.exports}});
//# sourceMappingURL=3.49a0440febb526cf6d42.js.map