webpackJsonp([3],{"/JgN":function(e,t){},"9vwG":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r=function(){this.logging={enabled:!1,debug:!1};var e=this;this.callbacks={onProgress:function(t){e._onProgress(t)},onAssetAvailable:function(t){e._onAssetAvailable(t)},onError:function(t){e._onError(t)},onLoad:function(t,s){e._onLoad(t,s)}},this.contentRef=null,this.legacyMode=!1,this.materials={},this.materialPerSmoothingGroup=!1,this.useOAsMesh=!1,this.useIndices=!1,this.disregardNormals=!1,this.vertices=[],this.colors=[],this.normals=[],this.uvs=[],this.rawMesh={objectName:"",groupName:"",activeMtlName:"",mtllibName:"",faceType:-1,subGroups:[],subGroupInUse:null,smoothingGroup:{splitMaterials:!1,normalized:-1,real:-1},counts:{doubleIndicesCount:0,faceCount:0,mtlCount:0,smoothingGroupCount:0}},this.inputObjectCount=1,this.outputObjectCount=1,this.globalCounts={vertices:0,faces:0,doubleIndicesCount:0,lineByte:0,currentByte:0,totalBytes:0}};r.prototype={constructor:r,_resetRawMesh:function(){this.rawMesh.subGroups=[],this.rawMesh.subGroupInUse=null,this.rawMesh.smoothingGroup.normalized=-1,this.rawMesh.smoothingGroup.real=-1,this._pushSmoothingGroup(1),this.rawMesh.counts.doubleIndicesCount=0,this.rawMesh.counts.faceCount=0,this.rawMesh.counts.mtlCount=0,this.rawMesh.counts.smoothingGroupCount=0},setMaterialPerSmoothingGroup:function(e){return this.materialPerSmoothingGroup=!0===e,this},setUseOAsMesh:function(e){return this.useOAsMesh=!0===e,this},setUseIndices:function(e){return this.useIndices=!0===e,this},setDisregardNormals:function(e){return this.disregardNormals=!0===e,this},setMaterials:function(e){this.materials=Object.assign({},e)},setCallbackOnAssetAvailable:function(e){return null!==e&&void 0!==e&&e instanceof Function&&(this.callbacks.onAssetAvailable=e),this},setCallbackOnProgress:function(e){return null!==e&&void 0!==e&&e instanceof Function&&(this.callbacks.onProgress=e),this},setCallbackOnError:function(e){return null!==e&&void 0!==e&&e instanceof Function&&(this.callbacks.onError=e),this},setCallbackOnLoad:function(e){return null!==e&&void 0!==e&&e instanceof Function&&(this.callbacks.onLoad=e),this},_onProgress:function(e){var t=e||"";this.logging.enabled&&this.logging.debug&&console.log(t)},_onError:function(e){this.logging.enabled&&this.logging.debug&&console.error(e)},_onAssetAvailable:function(){var e="OBJLoader2Parser does not provide implementation for onAssetAvailable. Aborting...";throw this.callbacks.onError(e),e},_onLoad:function(e,t){console.log("You reached parser default onLoad callback: "+t)},setLogging:function(e,t){return this.logging.enabled=!0===e,this.logging.debug=!0===t,this},_configure:function(){if(this._pushSmoothingGroup(1),this.logging.enabled){var e=Object.keys(this.materials),t="OBJLoader.Parser configuration:"+(e.length>0?"\n\tmaterialNames:\n\t\t- "+e.join("\n\t\t- "):"\n\tmaterialNames: None")+"\n\tmaterialPerSmoothingGroup: "+this.materialPerSmoothingGroup+"\n\tuseOAsMesh: "+this.useOAsMesh+"\n\tuseIndices: "+this.useIndices+"\n\tdisregardNormals: "+this.disregardNormals;t+="\n\tcallbacks.onProgress: "+this.callbacks.onProgress.name,t+="\n\tcallbacks.onAssetAvailable: "+this.callbacks.onAssetAvailable.name,t+="\n\tcallbacks.onError: "+this.callbacks.onError.name,console.info(t)}},execute:function(e){this.logging.enabled&&console.time("OBJLoader2Parser.execute"),this._configure();var t=new Uint8Array(e);this.contentRef=t;var s=t.byteLength;this.globalCounts.totalBytes=s;for(var r,a=new Array(128),o=0,i=0,n="",l=0;l<s;l++)switch(r=t[l]){case 32:n.length>0&&(a[o++]=n),n="";break;case 47:n.length>0&&(a[o++]=n),i++,n="";break;case 10:this._processLine(a,o,i,n,l),n="",o=0,i=0;break;case 13:break;default:n+=String.fromCharCode(r)}this._processLine(a,o,i,n,l),this._finalizeParsing(),this.logging.enabled&&console.timeEnd("OBJLoader2Parser.execute")},executeLegacy:function(e){this.logging.enabled&&console.time("OBJLoader2Parser.executeLegacy"),this._configure(),this.legacyMode=!0,this.contentRef=e;var t=e.length;this.globalCounts.totalBytes=t;for(var s,r=new Array(128),a=0,o=0,i="",n=0;n<t;n++)switch(s=e[n]){case" ":i.length>0&&(r[a++]=i),i="";break;case"/":i.length>0&&(r[a++]=i),o++,i="";break;case"\n":this._processLine(r,a,o,i,n),i="",a=0,o=0;break;case"\r":break;default:i+=s}this._processLine(r,a,i,o),this._finalizeParsing(),this.logging.enabled&&console.timeEnd("OBJLoader2Parser.executeLegacy")},_processLine:function(e,t,s,r,a){if(this.globalCounts.lineByte=this.globalCounts.currentByte,this.globalCounts.currentByte=a,!(t<1)){r.length>0&&(e[t++]=r);var o=function(e,t,s,r){var a="";if(r>s){var o=void 0;if(t)for(o=s;o<r;o++)a+=e[o];else for(o=s;o<r;o++)a+=String.fromCharCode(e[o]);a=a.trim()}return a},i=void 0,n=void 0,l=void 0,u=e[0];switch(u){case"v":this.vertices.push(parseFloat(e[1])),this.vertices.push(parseFloat(e[2])),this.vertices.push(parseFloat(e[3])),t>4&&(this.colors.push(parseFloat(e[4])),this.colors.push(parseFloat(e[5])),this.colors.push(parseFloat(e[6])));break;case"vt":this.uvs.push(parseFloat(e[1])),this.uvs.push(parseFloat(e[2]));break;case"vn":this.normals.push(parseFloat(e[1])),this.normals.push(parseFloat(e[2])),this.normals.push(parseFloat(e[3]));break;case"f":if(i=t-1,0===s)for(this._checkFaceType(0),l=2,n=i;l<n;l++)this._buildFace(e[1]),this._buildFace(e[l]),this._buildFace(e[l+1]);else if(i===2*s)for(this._checkFaceType(1),l=3,n=i-2;l<n;l+=2)this._buildFace(e[1],e[2]),this._buildFace(e[l],e[l+1]),this._buildFace(e[l+2],e[l+3]);else if(2*i==3*s)for(this._checkFaceType(2),l=4,n=i-3;l<n;l+=3)this._buildFace(e[1],e[2],e[3]),this._buildFace(e[l],e[l+1],e[l+2]),this._buildFace(e[l+3],e[l+4],e[l+5]);else for(this._checkFaceType(3),l=3,n=i-2;l<n;l+=2)this._buildFace(e[1],void 0,e[2]),this._buildFace(e[l],void 0,e[l+1]),this._buildFace(e[l+2],void 0,e[l+3]);break;case"l":case"p":if((i=t-1)===2*s)for(this._checkFaceType(4),l=1,n=i+1;l<n;l+=2)this._buildFace(e[l],e[l+1]);else for(this._checkFaceType("l"===u?5:6),l=1,n=i+1;l<n;l++)this._buildFace(e[l]);break;case"s":this._pushSmoothingGroup(e[1]);break;case"g":this._processCompletedMesh(),this.rawMesh.groupName=o(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"o":this.useOAsMesh&&this._processCompletedMesh(),this.rawMesh.objectName=o(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"mtllib":this.rawMesh.mtllibName=o(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);break;case"usemtl":var h=o(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);""!==h&&this.rawMesh.activeMtlName!==h&&(this.rawMesh.activeMtlName=h,this.rawMesh.counts.mtlCount++,this._checkSubGroup())}}},_pushSmoothingGroup:function(e){var t=parseInt(e);isNaN(t)&&(t="off"===e?0:1);var s=this.rawMesh.smoothingGroup.normalized;this.rawMesh.smoothingGroup.normalized=this.rawMesh.smoothingGroup.splitMaterials?t:0===t?0:1,this.rawMesh.smoothingGroup.real=t,s!==t&&(this.rawMesh.counts.smoothingGroupCount++,this._checkSubGroup())},_checkFaceType:function(e){this.rawMesh.faceType!==e&&(this._processCompletedMesh(),this.rawMesh.faceType=e,this._checkSubGroup())},_checkSubGroup:function(){var e=this.rawMesh.activeMtlName+"|"+this.rawMesh.smoothingGroup.normalized;this.rawMesh.subGroupInUse=this.rawMesh.subGroups[e],void 0!==this.rawMesh.subGroupInUse&&null!==this.rawMesh.subGroupInUse||(this.rawMesh.subGroupInUse={index:e,objectName:this.rawMesh.objectName,groupName:this.rawMesh.groupName,materialName:this.rawMesh.activeMtlName,smoothingGroup:this.rawMesh.smoothingGroup.normalized,vertices:[],indexMappingsCount:0,indexMappings:[],indices:[],colors:[],uvs:[],normals:[]},this.rawMesh.subGroups[e]=this.rawMesh.subGroupInUse)},_buildFace:function(e,t,s){var r=this.rawMesh.subGroupInUse,a=this,o=function(){var o=parseInt(e),i=3*(o>0?o-1:o+a.vertices.length/3),n=a.colors.length>0?i:null,l=r.vertices;if(l.push(a.vertices[i++]),l.push(a.vertices[i++]),l.push(a.vertices[i]),null!==n){var u=r.colors;u.push(a.colors[n++]),u.push(a.colors[n++]),u.push(a.colors[n])}if(t){var h=parseInt(t),c=2*(h>0?h-1:h+a.uvs.length/2),d=r.uvs;d.push(a.uvs[c++]),d.push(a.uvs[c])}if(s&&!a.disregardNormals){var g=parseInt(s),m=3*(g>0?g-1:g+a.normals.length/3),p=r.normals;p.push(a.normals[m++]),p.push(a.normals[m++]),p.push(a.normals[m])}};if(this.useIndices){this.disregardNormals&&(s=void 0);var i=e+(t?"_"+t:"_n")+(s?"_"+s:"_n"),n=r.indexMappings[i];void 0===n||null===n?(n=this.rawMesh.subGroupInUse.vertices.length/3,o(),r.indexMappings[i]=n,r.indexMappingsCount++):this.rawMesh.counts.doubleIndicesCount++,r.indices.push(n)}else o();this.rawMesh.counts.faceCount++},_createRawMeshReport:function(e){return"Input Object number: "+e+"\n\tObject name: "+this.rawMesh.objectName+"\n\tGroup name: "+this.rawMesh.groupName+"\n\tMtllib name: "+this.rawMesh.mtllibName+"\n\tVertex count: "+this.vertices.length/3+"\n\tNormal count: "+this.normals.length/3+"\n\tUV count: "+this.uvs.length/2+"\n\tSmoothingGroup count: "+this.rawMesh.counts.smoothingGroupCount+"\n\tMaterial count: "+this.rawMesh.counts.mtlCount+"\n\tReal MeshOutputGroup count: "+this.rawMesh.subGroups.length},_finalizeRawMesh:function(){var e=[],t=void 0,s=0,r=0,a=0,o=0,i=0,n=0,l=void 0;for(var u in this.rawMesh.subGroups)if((t=this.rawMesh.subGroups[u]).vertices.length>0){if((l=t.indices).length>0&&r>0)for(var h=0;h<l.length;h++)l[h]=l[h]+r;e.push(t),s+=t.vertices.length,r+=t.indexMappingsCount,a+=t.indices.length,o+=t.colors.length,n+=t.uvs.length,i+=t.normals.length}var c=null;return e.length>0&&(c={name:""!==this.rawMesh.groupName?this.rawMesh.groupName:this.rawMesh.objectName,subGroups:e,absoluteVertexCount:s,absoluteIndexCount:a,absoluteColorCount:o,absoluteNormalCount:i,absoluteUvCount:n,faceCount:this.rawMesh.counts.faceCount,doubleIndicesCount:this.rawMesh.counts.doubleIndicesCount}),c},_processCompletedMesh:function(){var e=this._finalizeRawMesh(),t=null!==e;if(t){this.colors.length>0&&this.colors.length!==this.vertices.length&&this.callbacks.onError("Vertex Colors were detected, but vertex count and color count do not match!"),this.logging.enabled&&this.logging.debug&&console.debug(this._createRawMeshReport(this.inputObjectCount)),this.inputObjectCount++,this._buildMesh(e);var s=this.globalCounts.currentByte/this.globalCounts.totalBytes;this._onProgress("Completed [o: "+this.rawMesh.objectName+" g:"+this.rawMesh.groupName+"] Total progress: "+(100*s).toFixed(2)+"%"),this._resetRawMesh()}return t},_buildMesh:function(e){var t=e.subGroups,s=new Float32Array(e.absoluteVertexCount);this.globalCounts.vertices+=e.absoluteVertexCount/3,this.globalCounts.faces+=e.faceCount,this.globalCounts.doubleIndicesCount+=e.doubleIndicesCount;var r=e.absoluteIndexCount>0?new Uint32Array(e.absoluteIndexCount):null,a=e.absoluteColorCount>0?new Float32Array(e.absoluteColorCount):null,o=e.absoluteNormalCount>0?new Float32Array(e.absoluteNormalCount):null,i=e.absoluteUvCount>0?new Float32Array(e.absoluteUvCount):null,n=null!==a,l=void 0,u=[],h=t.length>1,c=0,d=[],g=void 0,m=void 0,p=[],f=0,b=0,v=0,w=0,k=0,M=0,y=0,C=void 0,L=void 0,_=void 0,O=void 0;for(var E in t)if(t.hasOwnProperty(E)){if(O=(l=t[E]).materialName,_=this.rawMesh.faceType<4?O+(n?"_vertexColor":"")+(0===l.smoothingGroup?"_flat":""):6===this.rawMesh.faceType?"defaultPointMaterial":"defaultLineMaterial",C=this.materials[O],L=this.materials[_],void 0!==C&&null!==C||void 0!==L&&null!==L||(_=n?"defaultVertexColorMaterial":"defaultMaterial",L=this.materials[_],this.logging.enabled&&console.info('object_group "'+l.objectName+"_"+l.groupName+'" was defined with unresolvable material "'+O+'"! Assigning "'+_+'".')),void 0===L||null===L){var A={materialNameOrg:O,materialName:_,materialProperties:{vertexColors:n?2:0,flatShading:0===l.smoothingGroup}},S={cmd:"assetAvailable",type:"material",materials:{materialCloneInstructions:A}};this.callbacks.onAssetAvailable(S);var R=this.materials[_];void 0!==R&&null!==R||(this.materials[_]=A)}if(h?((g=d[_])||(g=c,d[_]=c,u.push(_),c++),m={start:M,count:y=this.useIndices?l.indices.length:l.vertices.length/3,index:g},p.push(m),M+=y):u.push(_),s.set(l.vertices,f),f+=l.vertices.length,r&&(r.set(l.indices,b),b+=l.indices.length),a&&(a.set(l.colors,v),v+=l.colors.length),o&&(o.set(l.normals,w),w+=l.normals.length),i&&(i.set(l.uvs,k),k+=l.uvs.length),this.logging.enabled&&this.logging.debug){var P="";g&&(P="\n\t\tmaterialIndex: "+g);var W="\tOutput Object no.: "+this.outputObjectCount+"\n\t\tgroupName: "+l.groupName+"\n\t\tIndex: "+l.index+"\n\t\tfaceType: "+this.rawMesh.faceType+"\n\t\tmaterialName: "+l.materialName+"\n\t\tsmoothingGroup: "+l.smoothingGroup+P+"\n\t\tobjectName: "+l.objectName+"\n\t\t#vertices: "+l.vertices.length/3+"\n\t\t#indices: "+l.indices.length+"\n\t\t#colors: "+l.colors.length/3+"\n\t\t#uvs: "+l.uvs.length/2+"\n\t\t#normals: "+l.normals.length/3;console.debug(W)}}this.outputObjectCount++,this.callbacks.onAssetAvailable({cmd:"assetAvailable",type:"mesh",progress:{numericalValue:this.globalCounts.currentByte/this.globalCounts.totalBytes},params:{meshName:e.name},materials:{multiMaterial:h,materialNames:u,materialGroups:p},buffers:{vertices:s,indices:r,colors:a,normals:o,uvs:i},geometryType:this.rawMesh.faceType<4?0:6===this.rawMesh.faceType?2:1},[s.buffer],null!==r?[r.buffer]:null,null!==a?[a.buffer]:null,null!==o?[o.buffer]:null,null!==i?[i.buffer]:null)},_finalizeParsing:function(){if(this.logging.enabled&&console.info("Global output object count: "+this.outputObjectCount),this._processCompletedMesh()&&this.logging.enabled){var e="Overall counts: \n\tVertices: "+this.globalCounts.vertices+"\n\tFaces: "+this.globalCounts.faces+"\n\tMultiple definitions: "+this.globalCounts.doubleIndicesCount;console.info(e)}}}},Eaz5:function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return o});var r=s("6+nK"),a=function(e){this.logging={enabled:!1,debug:!1},this.callbacks={onProgress:null,onMeshAlter:null},this.materialHandler=e};a.prototype={constructor:a,setLogging:function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t},_setCallbacks:function(e,t){null!==e&&void 0!==e&&e instanceof Function&&(this.callbacks.onProgress=e),null!==t&&void 0!==t&&t instanceof Function&&(this.callbacks.onMeshAlter=t)},buildMeshes:function(e){var t=e.params.meshName,s=e.buffers,a=new r.BufferGeometry;void 0!==s.vertices&&null!==s.vertices&&a.setAttribute("position",new r.BufferAttribute(new Float32Array(s.vertices),3)),void 0!==s.indices&&null!==s.indices&&a.setIndex(new r.BufferAttribute(new Uint32Array(s.indices),1)),void 0!==s.colors&&null!==s.colors&&a.setAttribute("color",new r.BufferAttribute(new Float32Array(s.colors),3)),void 0!==s.normals&&null!==s.normals?a.setAttribute("normal",new r.BufferAttribute(new Float32Array(s.normals),3)):a.computeVertexNormals(),void 0!==s.uvs&&null!==s.uvs&&a.setAttribute("uv",new r.BufferAttribute(new Float32Array(s.uvs),2)),void 0!==s.skinIndex&&null!==s.skinIndex&&a.setAttribute("skinIndex",new r.BufferAttribute(new Uint16Array(s.skinIndex),4)),void 0!==s.skinWeight&&null!==s.skinWeight&&a.setAttribute("skinWeight",new r.BufferAttribute(new Float32Array(s.skinWeight),4));var o=void 0,i=void 0,n=void 0,l=e.materials.materialNames,u=e.materials.multiMaterial,h=[];for(n in l)i=l[n],o=this.materialHandler.getMaterial(i),u&&h.push(o);if(u){o=h;var c=e.materials.materialGroups,d=void 0;for(n in c)d=c[n],a.addGroup(d.start,d.count,d.index)}var g=[],m=void 0,p=void 0,f=!0,b=null===e.geometryType?0:e.geometryType;if(this.callbacks.onMeshAlter&&(p=this.callbacks.onMeshAlter({detail:{meshName:t,bufferGeometry:a,material:o,geometryType:b}})),p)if(p.isDisregardMesh())f=!1;else if(p.providesAlteredMeshes()){for(var v in p.meshes)g.push(p.meshes[v]);f=!1}f&&(e.computeBoundingSphere&&a.computeBoundingSphere(),(m=0===b?new r.Mesh(a,o):1===b?new r.LineSegments(a,o):new r.Points(a,o)).name=t,g.push(m));var w=e.params.meshName;if(g.length>0){var k=[];for(var M in g)m=g[M],k[M]=m.name;w+=": Adding mesh(es) ("+k.length+": "+k+") from input mesh: "+t,w+=" ("+(100*e.progress.numericalValue).toFixed(2)+"%)"}else w+=": Not adding mesh: "+t,w+=" ("+(100*e.progress.numericalValue).toFixed(2)+"%)";return this.callbacks.onProgress&&this.callbacks.onProgress("progress",w,e.progress.numericalValue),g}};var o=function(e,t){this.disregardMesh=!0===e,this.alteredMesh=!0===t,this.meshes=[]};o.prototype={constructor:o,addMesh:function(e){this.meshes.push(e),this.alteredMesh=!0},isDisregardMesh:function(){return this.disregardMesh},providesAlteredMeshes:function(){return this.alteredMesh}}},VSDr:function(e,t,s){"use strict";var r=s("6+nK"),a=s("9vwG"),o=s("Eaz5"),i=function(){this.logging={enabled:!1,debug:!1},this.callbacks={onLoadMaterials:null},this.materials={}};i.prototype={constructor:i,setLogging:function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t},_setCallbacks:function(e){void 0!==e&&null!==e&&e instanceof Function&&(this.callbacks.onLoadMaterials=e)},createDefaultMaterials:function(e){var t=new r.MeshStandardMaterial({color:14479871});t.name="defaultMaterial";var s=new r.MeshStandardMaterial({color:14479871});s.name="defaultVertexColorMaterial",s.vertexColors=!0;var a=new r.LineBasicMaterial;a.name="defaultLineMaterial";var o=new r.PointsMaterial({size:.1});o.name="defaultPointMaterial";var i={};i[t.name]=t,i[s.name]=s,i[a.name]=a,i[o.name]=o,this.addMaterials(i,e)},addPayloadMaterials:function(e){var t=void 0,s=void 0,a=e.materials.materialCloneInstructions,o={};if(void 0!==a&&null!==a){var i=a.materialNameOrg;i=void 0!==i&&null!==i?i:"";var n=this.materials[i];n?(t=n.clone(),s=a.materialName,t.name=s,Object.assign(t,a.materialProperties),this.materials[s]=t,o[s]=t):this.logging.enabled&&console.info('Requested material "'+i+'" is not available!')}var l=e.materials.serializedMaterials;if(void 0!==l&&null!==l&&Object.keys(l).length>0){var u=new r.MaterialLoader,h=void 0;for(s in l)void 0!==(h=l[s])&&null!==h&&(t=u.parse(h),this.logging.enabled&&console.info('De-serialized material with name "'+s+'" will be added.'),this.materials[s]=t,o[s]=t)}return l=e.materials.runtimeMaterials,o=this.addMaterials(l,!0,o)},addMaterials:function(e,t,s){if(void 0!==s&&null!==s||(s={}),void 0!==e&&null!==e&&Object.keys(e).length>0){var r=void 0,a=void 0,o=void 0;for(var i in e)r=e[i],(o=!0===t)||(o=null===(a=this.materials[i])||void 0===a),o&&(this.materials[i]=r,s[i]=r),this.logging.enabled&&this.logging.debug&&console.info('Material with name "'+i+'" was added.')}return this.callbacks.onLoadMaterials&&this.callbacks.onLoadMaterials(s),s},getMaterials:function(){return this.materials},getMaterial:function(e){return this.materials[e]},getMaterialsJSON:function(){var e={},t=void 0;for(var s in this.materials)t=this.materials[s],e[s]=t.toJSON();return e},clearMaterials:function(){this.materials={}}},s.d(t,"a",function(){return n});var n=function(e){r.Loader.call(this,e),this.parser=new a.a,this.modelName="",this.instanceNo=0,this.baseObject3d=new r.Object3D,this.materialHandler=new i,this.meshReceiver=new o.b(this.materialHandler);var t=this;this.parser.setCallbackOnAssetAvailable(function(e){t._onAssetAvailable(e)})};n.OBJLOADER2_VERSION="3.2.0",console.info("Using OBJLoader2 version: "+n.OBJLOADER2_VERSION),n.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:n,setLogging:function(e,t){return this.parser.setLogging(e,t),this},setMaterialPerSmoothingGroup:function(e){return this.parser.setMaterialPerSmoothingGroup(e),this},setUseOAsMesh:function(e){return this.parser.setUseOAsMesh(e),this},setUseIndices:function(e){return this.parser.setUseIndices(e),this},setDisregardNormals:function(e){return this.parser.setDisregardNormals(e),this},setModelName:function(e){return this.modelName=e||this.modelName,this},setBaseObject3d:function(e){return this.baseObject3d=void 0===e||null===e?this.baseObject3d:e,this},addMaterials:function(e,t){return this.materialHandler.addMaterials(e,t),this},setCallbackOnAssetAvailable:function(e){return this.parser.setCallbackOnAssetAvailable(e),this},setCallbackOnProgress:function(e){return this.parser.setCallbackOnProgress(e),this},setCallbackOnError:function(e){return this.parser.setCallbackOnError(e),this},setCallbackOnLoad:function(e){return this.parser.setCallbackOnLoad(e),this},setCallbackOnMeshAlter:function(e){return this.meshReceiver._setCallbacks(this.parser.callbacks.onProgress,e),this},setCallbackOnLoadMaterials:function(e){return this.materialHandler._setCallbacks(e),this},load:function(e,t,s,a,o){var i=this;if(!(null!==t&&void 0!==t&&t instanceof Function)){var n="onLoad is not a function! Aborting...";throw i.parser.callbacks.onError(n),n}this.parser.setCallbackOnLoad(t),null!==a&&void 0!==a&&a instanceof Function||(a=function(e){var t=e;e.currentTarget&&null!==e.currentTarget.statusText&&(t="Error occurred while downloading!\nurl: "+e.currentTarget.responseURL+"\nstatus: "+e.currentTarget.statusText),i.parser.callbacks.onError(t)}),e||a("An invalid url was provided. Unable to continue!");var l=new URL(e,window.location.href).href,u=l,h=l.split("/");if(h.length>2&&(u=h[h.length-1],this.path=h.slice(0,h.length-1).join("/")+"/"),null===s||void 0===s||!(s instanceof Function)){var c=0,d=0;s=function(t){if(t.lengthComputable&&(d=t.loaded/t.total)>c){c=d;var s='Download of "'+e+'": '+(100*d).toFixed(2)+"%";i.parser.callbacks.onProgress("progressLoad",s,d)}}}this.setCallbackOnMeshAlter(o);var g=new r.FileLoader(this.manager);g.setPath(this.path||this.resourcePath),g.setResponseType("arraybuffer"),g.load(u,function(e){i.parser.callbacks.onLoad(i.parse(e),"OBJLoader2#load: Parsing completed")},s,a)},parse:function(e){if(null===e||void 0===e)throw"Provided content is not a valid ArrayBuffer or String. Unable to continue parsing";return this.parser.logging.enabled&&console.time("OBJLoader parse: "+this.modelName),this.materialHandler.createDefaultMaterials(!1),this.parser.setMaterials(this.materialHandler.getMaterials()),e instanceof ArrayBuffer||e instanceof Uint8Array?(this.parser.logging.enabled&&console.info("Parsing arrayBuffer..."),this.parser.execute(e)):"string"==typeof e||e instanceof String?(this.parser.logging.enabled&&console.info("Parsing text..."),this.parser.executeLegacy(e)):this.parser.callbacks.onError("Provided content was neither of type String nor Uint8Array! Aborting..."),this.parser.logging.enabled&&console.timeEnd("OBJLoader parse: "+this.modelName),this.baseObject3d},_onAssetAvailable:function(e){if("assetAvailable"===e.cmd)if("mesh"===e.type){var t=this.meshReceiver.buildMeshes(e),s=!0,r=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var n=o.value;this.baseObject3d.add(n)}}catch(e){r=!0,a=e}finally{try{!s&&i.return&&i.return()}finally{if(r)throw a}}}else"material"===e.type&&this.materialHandler.addPayloadMaterials(e)}})},ZGi5:function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("jwnc"),a={link:function(e,t){"function"==typeof t.addMaterials&&t.addMaterials(this.addMaterialsFromMtlLoader(e),!0)},addMaterialsFromMtlLoader:function(e){var t={};return e instanceof r.a.MaterialCreator&&(e.preload(),t=e.materials),t}}},txoR:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("QEtz"),a=s("JQAX"),o=s("IVZE"),i=s("jwnc"),n=s("ZGi5"),l=s("VSDr"),u=s("6+nK"),h=function(e,t,s){this.supportsStandardWorker=e,this.supportsJsmWorker=t,this.preferJsmWorker=s,this.startCode="",this.codeFragments=[],this.importStatements=[],this.jsmWorkerUrl=null,this.defaultGeometryType=0};h.prototype={constructor:h,isSupportsStandardWorker:function(){return this.supportsStandardWorker},isSupportsJsmWorker:function(){return this.supportsJsmWorker},isPreferJsmWorker:function(){return this.preferJsmWorker},setJsmWorkerUrl:function(e){void 0!==e&&null!==e&&(this.jsmWorkerUrl=e)},addStartCode:function(e){this.startCode=e},addCodeFragment:function(e){this.codeFragments.push(e)},addLibraryImport:function(e){var t='importScripts( "'+new URL(e,window.location.href).href+'" );';this.importStatements.push(t)},getImportStatements:function(){return this.importStatements},getCodeFragments:function(){return this.codeFragments},getStartCode:function(){return this.startCode}};var c=function(){if(void 0===window.Worker)throw"This browser does not support web workers!";if(void 0===window.Blob)throw"This browser does not support Blob!";if("function"!=typeof window.URL.createObjectURL)throw"This browser does not support Object creation from URL!";this._reset()};c.WORKER_SUPPORT_VERSION="3.2.0",console.info("Using WorkerSupport version: "+c.WORKER_SUPPORT_VERSION),c.prototype={constructor:c,_reset:function(){this.logging={enabled:!1,debug:!1};var e=this;this.worker={native:null,jsmWorker:!1,logging:!0,workerRunner:{name:"WorkerRunner",usesMeshDisassembler:!1,defaultGeometryType:0},terminateWorkerOnLoad:!0,forceWorkerDataCopy:!1,started:!1,queuedMessage:null,callbacks:{onAssetAvailable:null,onLoad:null,terminate:function(){e._terminate()}}}},setLogging:function(e,t){return this.logging.enabled=!0===e,this.logging.debug=!0===t,this.worker.logging=!0===e,this},setForceWorkerDataCopy:function(e){return this.worker.forceWorkerDataCopy=!0===e,this},setTerminateWorkerOnLoad:function(e){return this.worker.terminateWorkerOnLoad=!0===e,this.worker.terminateWorkerOnLoad&&this.isWorkerLoaded(this.worker.jsmWorker)&&null===this.worker.queuedMessage&&this.worker.started&&(this.logging.enabled&&console.info("Worker is terminated immediately as it is not running!"),this._terminate()),this},updateCallbacks:function(e,t){void 0!==e&&null!==e&&(this.worker.callbacks.onAssetAvailable=e),void 0!==t&&null!==t&&(this.worker.callbacks.onLoad=t),this._verifyCallbacks()},_verifyCallbacks:function(){if(void 0===this.worker.callbacks.onAssetAvailable||null===this.worker.callbacks.onAssetAvailable)throw'Unable to run as no "onAssetAvailable" callback is set.'},buildWorker:function(e){var t=!1;e.isSupportsJsmWorker()&&e.isPreferJsmWorker()&&(t=this._buildWorkerJsm(e)),!t&&e.isSupportsStandardWorker()&&this._buildWorkerStandard(e)},_buildWorkerJsm:function(e){var t=!0;if(!this._buildWorkerCheckPreconditions(!0,"buildWorkerJsm"))try{var s=new Worker(e.jsmWorkerUrl.href,{type:"module"});this._configureWorkerCommunication(s,!0,e.defaultGeometryType,"buildWorkerJsm")}catch(e){t=!1,(e instanceof TypeError||e instanceof SyntaxError)&&console.error("Modules are not supported in workers.")}return t},_buildWorkerStandard:function(e){if(!this._buildWorkerCheckPreconditions(!1,"buildWorkerStandard")){var t="";e.getImportStatements().forEach(function(e){t+=e+"\n"}),t+="\n",e.getCodeFragments().forEach(function(e){t+=e+"\n"}),t+="\n",t+=e.getStartCode();var s=new Blob([t],{type:"application/javascript"}),r=new Worker(window.URL.createObjectURL(s));this._configureWorkerCommunication(r,!1,e.defaultGeometryType,"buildWorkerStandard")}},_buildWorkerCheckPreconditions:function(e,t){var s=!1;return this.isWorkerLoaded(e)?s=!0:this.logging.enabled&&(console.info("WorkerExecutionSupport: Building "+(e?"jsm":"standard")+" worker code..."),console.time(t)),s},_configureWorkerCommunication:function(e,t,s,r){this.worker.native=e,this.worker.jsmWorker=t;var a=this,o=function(e){a._receiveWorkerMessage(e)};this.worker.native.onmessage=o,this.worker.native.onerror=o,void 0!==s&&null!==s&&(this.worker.workerRunner.defaultGeometryType=s),this.logging.enabled&&console.timeEnd(r)},isWorkerLoaded:function(e){return null!==this.worker.native&&(e&&this.worker.jsmWorker||!e&&!this.worker.jsmWorker)},_receiveWorkerMessage:function(e){if("error"!==e.type){var t=e.data,s=this.worker.workerRunner.name;switch(t.cmd){case"assetAvailable":this.worker.callbacks.onAssetAvailable(t);break;case"completeOverall":this.worker.queuedMessage=null,this.worker.started=!1,null!==this.worker.callbacks.onLoad&&this.worker.callbacks.onLoad(t.msg),this.worker.terminateWorkerOnLoad&&(this.worker.logging.enabled&&console.info("WorkerSupport ["+s+"]: Run is complete. Terminating application on request!"),this.worker.callbacks.terminate());break;case"error":console.error("WorkerSupport ["+s+"]: Reported error: "+t.msg),this.worker.queuedMessage=null,this.worker.started=!1,null!==this.worker.callbacks.onLoad&&this.worker.callbacks.onLoad(t.msg),this.worker.terminateWorkerOnLoad&&(this.worker.logging.enabled&&console.info("WorkerSupport ["+s+"]: Run reported error. Terminating application on request!"),this.worker.callbacks.terminate());break;default:console.error("WorkerSupport ["+s+"]: Received unknown command: "+t.cmd)}}else console.error(e)},executeParallel:function(e,t){e.cmd="parse",e.usesMeshDisassembler=this.worker.workerRunner.usesMeshDisassembler,e.defaultGeometryType=this.worker.workerRunner.defaultGeometryType,this._verifyWorkerIsAvailable(e,t)&&this._postMessage()},_verifyWorkerIsAvailable:function(e,t){this._verifyCallbacks();var s=!0;return null!==this.worker.queuedMessage?(console.warn("Already processing message. Rejecting new run instruction"),s=!1):(this.worker.queuedMessage={payload:e,transferables:void 0===t||null===t?[]:t},this.worker.started=!0),s},_postMessage:function(){if(null!==this.worker.queuedMessage)if(this.worker.queuedMessage.payload.data.input instanceof ArrayBuffer){var e=[];this.worker.forceWorkerDataCopy?e.push(this.worker.queuedMessage.payload.data.input.slice(0)):e.push(this.worker.queuedMessage.payload.data.input),this.worker.queuedMessage.transferables.length>0&&(e=e.concat(this.worker.queuedMessage.transferables)),this.worker.native.postMessage(this.worker.queuedMessage.payload,e)}else this.worker.native.postMessage(this.worker.queuedMessage.payload)},_terminate:function(){this.worker.native.terminate(),this._reset()}};var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e,t,s,r){var a=void 0,o=void 0,i=void 0,n=void 0,l=void 0,u=t.constructor.name,h=[],c=[],g=[],p=null!==s&&void 0!==s;for(var f in Array.isArray(r)||(r=[]),e.prototype)a=e.prototype[f],(n=new m(f,u+".prototype."+f)).setCode(a.toString()),"constructor"===f?n.isRemoveCode()||(o=u+" = "+n.getCode()+";\n\n"):"function"==typeof a&&((l=r[f])instanceof m&&l.getName()===n.getName()&&(n=l),n.isRemoveCode()||(p?h.push(n.getFullName()+" = "+n.getCode()+";\n\n"):h.push("\t"+n.getName()+": "+n.getCode()+",\n\n")));for(var b in e)a=e[b],n=new m(b,u+"."+b),"function"==typeof a?((l=r[b])instanceof m&&l.getName()===n.getName()?n=l:n.setCode(a.toString()),n.isRemoveCode()||g.push(n.getFullName()+" = "+n.getCode()+";\n\n")):("string"==typeof a||a instanceof String?n.setCode('"'+a.toString()+'"'):"object"===(void 0===a?"undefined":d(a))?(console.log('Omitting object "'+n.getName()+'" and replace it with empty object.'),n.setCode("{}")):n.setCode(a),n.isRemoveCode()||c.push(n.getFullName()+" = "+n.getCode()+";\n"));var v=o+"\n\n";for(p&&(v+=u+".prototype = Object.create( "+s+".prototype );\n"),v+=u+".prototype.constructor = "+u+";\n",v+="\n\n",i=0;i<c.length;i++)v+=c[i];for(v+="\n\n",i=0;i<g.length;i++)v+=g[i];if(v+="\n\n",p)for(i=0;i<h.length;i++)v+=h[i];else{for(v+=u+".prototype = {\n\n",i=0;i<h.length;i++)v+=h[i];v+="\n};"}return v+="\n\n"},m=function(e,t){this.name=e,this.fullName=t,this.code=null,this.removeCode=!1};m.prototype={constructor:m,getName:function(){return this.name},getFullName:function(){return this.fullName},setCode:function(e){return this.code=e,this},getCode:function(){return this.code},setRemoveCode:function(e){return this.removeCode=e,this},isRemoveCode:function(){return this.removeCode}};var p=s("9vwG"),f=function(){};f.prototype={constructor:f,applyProperties:function(e,t,s){if(void 0!==e&&null!==e&&void 0!==t&&null!==t){var r=void 0,a=void 0,o=void 0;for(r in t)a="set"+r.substring(0,1).toLocaleUpperCase()+r.substring(1),o=t[r],"function"==typeof e[a]?e[a](o):(e.hasOwnProperty(r)||s)&&(e[r]=o)}}};var b=function(e){this.parser=e,this.logging={enabled:!1,debug:!1}};b.prototype={constructor:b,handlePayload:function(e){if(e.logging&&(this.logging.enabled=!0===e.logging.enabled,this.logging.debug=!0===e.logging.debug),"parse"===e.cmd){var t=this,s={callbackOnAssetAvailable:function(e){self.postMessage(e)},callbackOnProgress:function(e){t.logging.enabled&&t.logging.debug&&console.debug("WorkerRunner: progress: "+e)}},r=this.parser;"function"==typeof r.setLogging&&r.setLogging(this.logging.enabled,this.logging.debug);var a=new f;a.applyProperties(r,e.params,!1),a.applyProperties(r,s,!1);var o=e.data.input,i="execute";"function"==typeof r.getParseFunctionName&&(i=r.getParseFunctionName()),e.usesMeshDisassembler||r[i](o,e.data.options),this.logging.enabled&&console.log("WorkerRunner: Run complete!"),self.postMessage({cmd:"completeOverall",msg:"WorkerRunner completed run."})}else console.error("WorkerRunner: Received unknown command: "+e.cmd)}};var v=function(e){this.payloadHandler=e;var t=this;self.addEventListener("message",function(e){t.processMessage(e.data)},!1)};v.prototype={constructor:v,processMessage:function(e){this.payloadHandler.handlePayload(e)}};var w=function(e){l.a.call(this,e),this.preferJsmWorker=!1,this.jsmWorkerUrl=null,this.executeParallel=!0,this.workerExecutionSupport=new c};w.OBJLOADER2_PARALLEL_VERSION="3.2.0",console.info("Using OBJLoader2Parallel version: "+w.OBJLOADER2_PARALLEL_VERSION),w.DEFAULT_JSM_WORKER_PATH="./jsm/loaders/obj2/worker/parallel/OBJLoader2JsmWorker.js",w.prototype=Object.assign(Object.create(l.a.prototype),{constructor:w,setExecuteParallel:function(e){return this.executeParallel=!0===e,this},setJsmWorker:function(e,t){if(this.preferJsmWorker=!0===e,void 0===t||null===t)throw"The url to the jsm worker is not valid. Aborting...";return this.jsmWorkerUrl=t,this},getWorkerExecutionSupport:function(){return this.workerExecutionSupport},buildWorkerCode:function(){var e=new h(!0,!0,this.preferJsmWorker);if(e.isSupportsJsmWorker()&&e.setJsmWorkerUrl(this.jsmWorkerUrl),e.isSupportsStandardWorker()){var t=new f,s=new b(this.parser),r=new v({});e.addCodeFragment(g(p.a,this.parser)),e.addCodeFragment(g(f,t)),e.addCodeFragment(g(b,s)),e.addCodeFragment(g(v,r));var a="new "+r.constructor.name+"( new "+s.constructor.name+"( new "+this.parser.constructor.name+"() ) );";e.addStartCode(a)}return e},load:function(e,t,s,r,a){var o=this;l.a.prototype.load.call(this,e,function(e,s){"OBJLoader2ParallelDummy"===e.name?o.parser.logging.enabled&&o.parser.logging.debug&&console.debug("Received dummy answer from OBJLoader2Parallel#parse"):t(e,s)},s,r,a)},parse:function(e){if(this.executeParallel){if(this.parser.callbacks.onLoad===this.parser._onLoad)throw"No callback other than the default callback was provided! Aborting!";if(!this.workerExecutionSupport.isWorkerLoaded(this.preferJsmWorker)){this.workerExecutionSupport.buildWorker(this.buildWorkerCode());var t=this;this.workerExecutionSupport.updateCallbacks(function(e){t._onAssetAvailable(e)},function(e){t.parser.callbacks.onLoad(t.baseObject3d,e)})}this.materialHandler.createDefaultMaterials(!1),this.workerExecutionSupport.executeParallel({params:{modelName:this.modelName,instanceNo:this.instanceNo,useIndices:this.parser.useIndices,disregardNormals:this.parser.disregardNormals,materialPerSmoothingGroup:this.parser.materialPerSmoothingGroup,useOAsMesh:this.parser.useOAsMesh,materials:this.materialHandler.getMaterialsJSON()},data:{input:e,options:null},logging:{enabled:this.parser.logging.enabled,debug:this.parser.logging.debug}});var s=new u.Object3D;return s.name="OBJLoader2ParallelDummy",s}return l.a.prototype.parse.call(this,e)}});var k=s("Eaz5");s("Ml+6");function M(e,t){this.renderer=null,this.canvas=e,this.aspectRatio=1,this.recalcAspectRatio(),this.THREE=t,this.scene=null,this.cameraDefaults={posCamera:new this.THREE.Vector3(0,175,500),posCameraTarget:new this.THREE.Vector3(0,0,0),near:.1,far:1e4,fov:45},this.camera=null,this.cameraTarget=this.cameraDefaults.posCameraTarget,this.controls=null,this.flatShading=!1,this.doubleSide=!1,this.useJsmWorker=!1,this.loadCount=6,this.cube=null,this.pivot=null}M.prototype={constructor:M,initGL:function(){this.renderer=new this.THREE.WebGLRenderer({canvas:this.canvas,antialias:!0,autoClear:!0}),this.renderer.setClearColor(328965),this.scene=new this.THREE.Scene,this.camera=new this.THREE.PerspectiveCamera(this.cameraDefaults.fov,this.aspectRatio,this.cameraDefaults.near,this.cameraDefaults.far),this.resetCamera(),this.controls=new a.a(this.camera,this.renderer.domElement);var e=new this.THREE.AmbientLight(4210752),t=new this.THREE.DirectionalLight(12632208),s=new this.THREE.DirectionalLight(12632208);t.position.set(-100,-50,100),s.position.set(100,50,-100),this.scene.add(t),this.scene.add(s),this.scene.add(e);var r=new this.THREE.GridHelper(1200,60,16729156,4210752);this.scene.add(r);var o=new this.THREE.BoxBufferGeometry(10,10,10),i=new this.THREE.MeshNormalMaterial;this.cube=new this.THREE.Mesh(o,i),this.cube.position.set(0,0,0),this.scene.add(this.cube),this.pivot=new this.THREE.Object3D,this.pivot.name="Pivot",this.scene.add(this.pivot)},useParseMain:function(){var e="female02";this._reportProgress({detail:{text:"Loading: "+e}});var t=(new l.a).setModelName(e),s=this;(new i.a).load("static/models/obj/female02/female02.mtl",function(r){t.addMaterials(n.a.addMaterialsFromMtlLoader(r),!0);var a=new s.THREE.FileLoader;a.setPath(""),a.setResponseType("arraybuffer"),a.load("static/models/obj/female02/female02.obj",function(r){var a=new s.THREE.Object3D;a.name="Pivot_female02",a.position.set(75,0,0),s.pivot.add(a),a.add(t.parse(r)),s._reportProgress({detail:{text:"Loading of "+e+" completed: OBJLoader2#pase: Parsing completed"}}),s.finalize()})})},useParseParallel:function(){var e="female02_vertex";this._reportProgress({detail:{text:"Loading: "+e}});var t=new this.THREE.Object3D;t.name="Pivot_female02_vertex",t.position.set(-75,0,0),this.pivot.add(t);var s=this;var r={tester:new this.THREE.MeshStandardMaterial},a=(new w).setModelName(e).setJsmWorker(this.useJsmWorker,new URL(w.DEFAULT_JSM_WORKER_PATH,window.location.href)).setCallbackOnLoad(function(r,a){t.add(r),s._reportProgress({detail:{text:"Loading of "+e+" completed: "+a}}),s.finalize()}).addMaterials(r,!0),o=new this.THREE.FileLoader;o.setPath(""),o.setResponseType("arraybuffer"),o.load("static/models/obj/female02/female02_vertex_colors.obj",function(e){a.parse(e)})},useLoadMain:function(){var e="male02";this._reportProgress({detail:{text:"Loading: "+e}});var t=(new l.a).setModelName(e).setUseIndices(!0),s=this;function r(t,r){var a=new s.THREE.Object3D;a.name="Pivot_male02",a.position.set(0,0,-75),s.pivot.add(a),a.add(t),s._reportProgress({detail:{text:"Loading of "+e+" completed: "+r}}),s.finalize()}(new i.a).load("static/models/obj/male02/male02.mtl",function(e){t.addMaterials(n.a.addMaterialsFromMtlLoader(e),!0),t.load("static/models/obj/male02/male02.obj",r,null,null,null)})},useLoadParallel:function(){var e="WaltHead";this._reportProgress({detail:{text:"Loading: "+e}});var t=new this.THREE.Object3D;t.name="Pivot_WaltHead",t.position.set(-175,50,0);t.scale.set(.5,.5,.5),this.pivot.add(t);var s=(new w).setModelName(e).setJsmWorker(this.useJsmWorker,new URL(w.DEFAULT_JSM_WORKER_PATH,window.location.href)),r=this;function a(s,a){t.add(s),r._reportProgress({detail:{text:"Loading of "+e+" completed: "+a}}),r.finalize()}(new i.a).load("static/models/obj/walt/WaltHead.mtl",function(e){s.addMaterials(n.a.addMaterialsFromMtlLoader(e),!0),s.load("static/models/obj/walt/WaltHead.obj",a)})},useLoadMainFallback:function(){var e=new this.THREE.Object3D;e.name="Pivot_Cerberus",e.position.set(0,0,100);e.scale.set(50,50,50),this.pivot.add(e);var t=(new w).setModelName(e.name).setExecuteParallel(!1),s=this;t.load("static/models/obj/cerberus/Cerberus.obj",function(r,a){e.add(r),s._reportProgress({detail:{text:"Loading of "+t.modelName+" completed: "+a}}),s.finalize()})},useLoadParallelMeshAlter:function(){var e=new this.THREE.Object3D;e.position.set(175,-100,0),e.name="Pivot_ninjaHead",this.pivot.add(e);var t=(new w).setModelName(e.name).setJsmWorker(this.useJsmWorker,new URL(w.DEFAULT_JSM_WORKER_PATH,window.location.href)).setBaseObject3d(e);t.getWorkerExecutionSupport().setTerminateWorkerOnLoad(!1);var s=this;t.setCallbackOnMeshAlter(function(e){var t=new k.a(!1,!0),r=new s.THREE.Mesh(e.detail.bufferGeometry,e.detail.material);r.name=e.detail.meshName;var a=new o.a(r,2,65280);return a.name="VertexNormalsHelper",t.addMesh(r),t.addMesh(a),t}),t.load("static/models/obj/ninja/ninjaHead_Low.obj",function(e,r){s._reportProgress({detail:{text:"Loading of "+t.modelName+" completed: "+r}}),s.finalize()})},finalize:function(){this.loadCount--,0===this.loadCount&&this._reportProgress({detail:{text:""}})},_reportProgress:function(e){var t="";null!==e.detail&&void 0!==e.detail&&e.detail.text&&(t=e.detail.text),console.log("Progress: "+t),document.getElementById("feedback").innerHTML=t},resizeDisplayGL:function(){this.controls.handleResize(),this.recalcAspectRatio(),this.renderer.setSize(this.canvas.offsetWidth,this.canvas.offsetHeight,!1),this.updateCamera()},recalcAspectRatio:function(){this.aspectRatio=0===this.canvas.offsetHeight?1:this.canvas.offsetWidth/this.canvas.offsetHeight},resetCamera:function(){this.camera.position.copy(this.cameraDefaults.posCamera),this.cameraTarget.copy(this.cameraDefaults.posCameraTarget),this.updateCamera()},updateCamera:function(){this.camera.aspect=this.aspectRatio,this.camera.lookAt(this.cameraTarget),this.camera.updateProjectionMatrix()},render:function(){this.renderer.autoClear||this.renderer.clear(),this.controls.update(),this.cube.rotation.x+=.05,this.cube.rotation.y+=.05,this.renderer.render(this.scene,this.camera)},alterShading:function(){var e=this;e.flatShading=!e.flatShading,console.log(e.flatShading?"Enabling flat shading":"Enabling smooth shading"),e.traversalFunction=function(t){t.flatShading=e.flatShading,t.needsUpdate=!0},e.pivot.traverse(function(t){e.traverseScene(t)})},alterDouble:function(){var e=this;e.doubleSide=!e.doubleSide,console.log(e.doubleSide?"Enabling THREE.DoubleSide materials":"Enabling THREE.FrontSide materials"),e.traversalFunction=function(t){t.side=e.doubleSide?e.THREE.DoubleSide:e.THREE.FrontSide},e.pivot.traverse(function(t){e.traverseScene(t)})},traverseScene:function(e){if(Array.isArray(e.material)){var t=e.material.materials;for(var s in t)t.hasOwnProperty(s)&&this.traversalFunction(t[s])}else e.material&&this.traversalFunction(e.material)},executeLoading:function(){this.useParseMain(),this.useParseParallel(),this.useLoadMain(),this.useLoadParallel(),this.useLoadMainFallback(),this.useLoadParallelMeshAlter()}};var y={data:function(){return{app:null,wwObjLoader2Control:null,menuDiv:null,gui:null,folderRenderingOptions:null,controlFlat:null,controlDouble:null,folderObjLoader2ParallelOptions:null,controlJsmWorker:null,folderExecution:null,handleExecuteLoading:null}},beforeDestroy:function(){this.gui.destroy()},mounted:function(){var e=this;this.app=new M(document.getElementById("example"),this.$THREE);var t=this;this.wwObjLoader2Control={flatShading:this.app.flatShading,doubleSide:this.app.doubleSide,useJsmWorker:this.app.useJsmWorker,blockEvent:function(e){e.stopPropagation()},disableElement:function(e){e.domElement.addEventListener("click",this.blockEvent,!0),e.domElement.parentElement.style.pointerEvents="none",e.domElement.parentElement.style.opacity=.5},executeLoading:function(){t.app.executeLoading(),this.disableElement(t.handleExecuteLoading)}},this.menuDiv=document.getElementById("dat"),this.gui=new r.a({autoPlace:!1,width:320}),this.menuDiv.appendChild(this.gui.domElement),this.folderRenderingOptions=this.gui.addFolder("Rendering Options"),this.controlFlat=this.folderRenderingOptions.add(this.wwObjLoader2Control,"flatShading").name("Flat Shading"),this.controlFlat.onChange(function(t){console.log("Setting flatShading to: "+t),e.app.alterShading()}),this.controlDouble=this.folderRenderingOptions.add(this.wwObjLoader2Control,"doubleSide").name("Double Side Materials"),this.controlDouble.onChange(function(t){console.log("Setting doubleSide to: "+t),e.app.alterDouble()}),this.folderObjLoader2ParallelOptions=this.gui.addFolder("OBJLoader2Parallel Options"),this.controlJsmWorker=this.folderObjLoader2ParallelOptions.add(this.wwObjLoader2Control,"useJsmWorker").name("Use Module Workers"),this.controlJsmWorker.onChange(function(t){console.log("Setting useJsmWorker to: "+t),e.app.useJsmWorker=t}),this.folderExecution=this.gui.addFolder("Execution"),this.handleExecuteLoading=this.folderExecution.add(this.wwObjLoader2Control,"executeLoading").name("Run"),this.handleExecuteLoading.domElement.id="startButton",this.folderRenderingOptions.open(),this.folderObjLoader2ParallelOptions.open(),this.folderExecution.open(),window.addEventListener("resize",this.resizeWindow,!1),console.log("Starting initialisation phase..."),this.app.initGL(),this.app.resizeDisplayGL(),this.render()},methods:{resizeWindow:function(){this.app.resizeDisplayGL()},render:function(){requestAnimationFrame(this.render),this.app.render()}}},C={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderObj2Options-container"},[t("div",{attrs:{id:"glFullscreen"}},[t("canvas",{attrs:{id:"example"}})]),this._v(" "),t("div",{staticClass:"dg ac",attrs:{id:"dat"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - OBJLoader2 usage options"),t("br"),this._v("Use module workers with Chromium based browser (80+)\n\t\t\t"),t("div",{attrs:{id:"feedback"}})])])}]};var L=s("VU/8")(y,C,!1,function(e){s("/JgN")},"data-v-8f934bba",null);t.default=L.exports}});
//# sourceMappingURL=3.d237aa21db332a87e814.js.map