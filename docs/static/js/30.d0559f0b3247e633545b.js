webpackJsonp([30],{oGRn:function(e,t){},"uN0/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{camera:null,scene:null,renderer:null,cube:null,sphere:null,torus:null,material:null,count:0,cubeCamera1:null,cubeCamera2:null,cubeRenderTarget1:null,cubeRenderTarget2:null,onPointerDownPointerX:null,onPointerDownPointerY:null,onPointerDownLon:null,onPointerDownLat:null,lon:0,lat:0,phi:0,theta:0,textureLoader:null}},mounted:function(){var e=this;this.textureLoader=new this.$THREE.TextureLoader,this.textureLoader.load("static/textures/2294472375_24a3b8ef46_o.jpg",function(t){t.encoding=e.$THREE.sRGBEncoding,t.mapping=e.$THREE.EquirectangularReflectionMapping,e.init(t),e.animate()})},methods:{init:function(e){this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,document.getElementsByClassName("webglMaterialsCubemapDynamic-container")[0].appendChild(this.renderer.domElement),this.scene=new this.$THREE.Scene,this.scene.background=e,this.camera=new this.$THREE.PerspectiveCamera(60,this.$webglInnerWidth/window.innerHeight,1,1e3),this.cubeRenderTarget1=new this.$THREE.WebGLCubeRenderTarget(256,{format:this.$THREE.RGBFormat,generateMipmaps:!0,minFilter:this.$THREE.LinearMipmapLinearFilter,encoding:this.$THREE.sRGBEncoding}),this.cubeCamera1=new this.$THREE.CubeCamera(1,1e3,this.cubeRenderTarget1),this.cubeRenderTarget2=new this.$THREE.WebGLCubeRenderTarget(256,{format:this.$THREE.RGBFormat,generateMipmaps:!0,minFilter:this.$THREE.LinearMipmapLinearFilter,encoding:this.$THREE.sRGBEncoding}),this.cubeCamera2=new this.$THREE.CubeCamera(1,1e3,this.cubeRenderTarget2),this.material=new this.$THREE.MeshBasicMaterial({envMap:this.cubeRenderTarget2.texture,combine:this.$THREE.MultiplyOperation,reflectivity:1}),this.sphere=new this.$THREE.Mesh(new this.$THREE.IcosahedronBufferGeometry(20,8),this.material),this.scene.add(this.sphere),this.cube=new this.$THREE.Mesh(new this.$THREE.BoxBufferGeometry(20,20,20),this.material),this.scene.add(this.cube),this.torus=new this.$THREE.Mesh(new this.$THREE.TorusKnotBufferGeometry(10,5,128,16),this.material),this.scene.add(this.torus),document.addEventListener("pointerdown",this.onPointerDown,!1),document.addEventListener("wheel",this.onDocumentMouseWheel,!1),window.addEventListener("resize",this.onWindowResized,!1)},onWindowResized:function(){this.$onWindowResize(this.camera,this.renderer)},onPointerDown:function(e){e.preventDefault(),this.onPointerDownPointerX=e.clientX,this.onPointerDownPointerY=e.clientY,this.onPointerDownLon=this.lon,this.onPointerDownLat=this.lat,document.addEventListener("pointermove",this.onPointerMove,!1),document.addEventListener("pointerup",this.onPointerUp,!1)},onPointerMove:function(e){this.lon=.1*(e.clientX-this.onPointerDownPointerX)+this.onPointerDownLon,this.lat=.1*(e.clientY-this.onPointerDownPointerY)+this.onPointerDownLat},onPointerUp:function(){document.removeEventListener("pointermove",this.onPointerMove,!1),document.removeEventListener("pointerup",this.onPointerUp,!1)},onDocumentMouseWheel:function(e){var t=this.camera.fov+.05*e.deltaY;this.camera.fov=this.$THREE.MathUtils.clamp(t,10,75),this.camera.updateProjectionMatrix()},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){var e=Date.now();this.lon+=.15,this.lat=Math.max(-85,Math.min(85,this.lat)),this.phi=this.$THREE.MathUtils.degToRad(90-this.lat),this.theta=this.$THREE.MathUtils.degToRad(this.lon),this.cube.position.x=30*Math.cos(.001*e),this.cube.position.y=30*Math.sin(.001*e),this.cube.position.z=30*Math.sin(.001*e),this.cube.rotation.x+=.02,this.cube.rotation.y+=.03,this.torus.position.x=30*Math.cos(.001*e+10),this.torus.position.y=30*Math.sin(.001*e+10),this.torus.position.z=30*Math.sin(.001*e+10),this.torus.rotation.x+=.02,this.torus.rotation.y+=.03,this.camera.position.x=100*Math.sin(this.phi)*Math.cos(this.theta),this.camera.position.y=100*Math.cos(this.phi),this.camera.position.z=100*Math.sin(this.phi)*Math.sin(this.theta),this.camera.lookAt(this.scene.position),this.count%2==0?(this.cubeCamera1.update(this.renderer,this.scene),this.material.envMap=this.cubeRenderTarget1.texture):(this.cubeCamera2.update(this.renderer,this.scene),this.material.envMap=this.cubeRenderTarget2.texture),this.count++,this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMaterialsCubemapDynamic-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js webgl")]),this._v(" - materials - dynamic cube reflection"),t("br"),this._v("Photo by "),t("a",{attrs:{href:"http://www.flickr.com/photos/jonragnarsson/2294472375/",target:"_blank",rel:"noopener"}},[this._v("JÃ³n Ragnarsson")]),this._v(".")])])}]};var r=i("VU/8")(n,s,!1,function(e){i("oGRn")},"data-v-eec92086",null);t.default=r.exports}});
//# sourceMappingURL=30.d0559f0b3247e633545b.js.map