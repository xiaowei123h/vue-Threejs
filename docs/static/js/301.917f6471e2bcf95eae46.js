webpackJsonp([301],{V5dv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("QEtz"),s=n("TWUs"),a={data:function(){return{camera:null,controls:null,scene:null,renderer:null,light:null,material1:null,material2:null,material3:null,analyser1:null,analyser2:null,analyser3:null,clock:null,startButton:null,gui:null}},mounted:function(){this.clock=new this.$THREE.Clock},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){document.getElementById("overlay").remove(),this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,1,1e4),this.camera.position.set(0,25,0);var e=new this.$THREE.AudioListener;this.camera.add(e),this.scene=new this.$THREE.Scene,this.scene.fog=new this.$THREE.FogExp2(0,.0025),this.light=new this.$THREE.DirectionalLight(16777215),this.light.position.set(0,.5,1).normalize(),this.scene.add(this.light);var t=new this.$THREE.SphereBufferGeometry(20,32,16);this.material1=new this.$THREE.MeshPhongMaterial({color:16755200,flatShading:!0,shininess:0}),this.material2=new this.$THREE.MeshPhongMaterial({color:16720384,flatShading:!0,shininess:0}),this.material3=new this.$THREE.MeshPhongMaterial({color:6693546,flatShading:!0,shininess:0});var n=new this.$THREE.AudioLoader,a=new this.$THREE.Mesh(t,this.material1);a.position.set(-250,30,0),this.scene.add(a);var r=new this.$THREE.PositionalAudio(e);n.load("static/sounds/358232_j_s_song.ogg",function(e){r.setBuffer(e),r.setRefDistance(20),r.play()}),a.add(r);var o=new this.$THREE.Mesh(t,this.material2);o.position.set(250,30,0),this.scene.add(o);var l=new this.$THREE.PositionalAudio(e);n.load("static/sounds/376737_Skullbeatz___Bad_Cat_Maste.ogg",function(e){l.setBuffer(e),l.setRefDistance(20),l.play()}),o.add(l);var h=new this.$THREE.Mesh(t,this.material3);h.position.set(0,30,-250),this.scene.add(h);var d=new this.$THREE.PositionalAudio(e),u=e.context.createOscillator();u.type="sine",u.frequency.setValueAtTime(144,d.context.currentTime),u.start(0),d.setNodeSource(u),d.setRefDistance(20),d.setVolume(.5),h.add(d),this.analyser1=new this.$THREE.AudioAnalyser(r,32),this.analyser2=new this.$THREE.AudioAnalyser(l,32),this.analyser3=new this.$THREE.AudioAnalyser(d,32);var c=new this.$THREE.Audio(e);n.load("static/sounds/Project_Utopia.ogg",function(e){c.setBuffer(e),c.setLoop(!0),c.setVolume(.5),c.play()});var m=new this.$THREE.GridHelper(1e3,10,4473924,4473924);m.position.y=.1,this.scene.add(m);this.gui=new i.a;var g=new function(){this.master=e.getMasterVolume(),this.firstSphere=r.getVolume(),this.secondSphere=l.getVolume(),this.thirdSphere=d.getVolume(),this.Ambient=c.getVolume()},p=new function(){this.frequency=u.frequency.value,this.wavetype=u.type},f=this.gui.addFolder("sound volume"),w=this.gui.addFolder("sound generator");f.add(g,"master").min(0).max(1).step(.01).onChange(function(){e.setMasterVolume(g.master)}),f.add(g,"firstSphere").min(0).max(1).step(.01).onChange(function(){r.setVolume(g.firstSphere)}),f.add(g,"secondSphere").min(0).max(1).step(.01).onChange(function(){l.setVolume(g.secondSphere)}),f.add(g,"thirdSphere").min(0).max(1).step(.01).onChange(function(){d.setVolume(g.thirdSphere)}),f.add(g,"Ambient").min(0).max(1).step(.01).onChange(function(){c.setVolume(g.Ambient)}),f.open(),w.add(p,"frequency").min(50).max(5e3).step(1).onChange(function(){u.frequency.setValueAtTime(p.frequency,e.context.currentTime)}),w.add(p,"wavetype",["sine","square","sawtooth","triangle"]).onChange(function(){u.type=p.wavetype}),w.open(),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webaudioSandbox-container")[0].appendChild(this.renderer.domElement),this.controls=new s.a(this.camera,this.renderer.domElement),this.controls.movementSpeed=70,this.controls.lookSpeed=.05,this.controls.noFly=!0,this.controls.lookVertical=!1,window.addEventListener("resize",this.onWindowResize,!1),this.animate()},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.controls.handleResize()},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){var e=this.clock.getDelta();this.controls.update(e),this.material1.emissive.b=this.analyser1.getAverageFrequency()/256,this.material2.emissive.b=this.analyser2.getAverageFrequency()/256,this.material3.emissive.b=this.analyser3.getAverageFrequency()/256,this.renderer.render(this.scene,this.camera)}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webaudioSandbox-container"},[t("div",{attrs:{id:"overlay"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:this.init}},[this._v("Play")])],1),this._v(" "),this._m(0)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"info"}},[n("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[e._v("three.js")]),e._v(" webaudio - sandbox"),n("br"),e._v("\n\t\t\tmusic by "),n("a",{attrs:{href:"http://www.newgrounds.com/audio/listen/358232",target:"_blank",rel:"noopener"}},[e._v("larrylarrybb")]),e._v(",\n\t\t\t"),n("a",{attrs:{href:"http://www.newgrounds.com/audio/listen/376737",target:"_blank",rel:"noopener"}},[e._v("skullbeatz")]),e._v(" and\n\t\t\t"),n("a",{attrs:{href:"http://opengameart.org/content/project-utopia-seamless-loop",target:"_blank",rel:"noopener"}},[e._v("congusbongus")]),n("br"),n("br"),e._v("\n\t\t\tnavigate with WASD / arrows / mouse\n\t\t")])}]};var o=n("VU/8")(a,r,!1,function(e){n("Y0pj")},"data-v-218e3855",null);t.default=o.exports},Y0pj:function(e,t){}});
//# sourceMappingURL=301.917f6471e2bcf95eae46.js.map