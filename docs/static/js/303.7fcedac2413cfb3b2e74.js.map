{"version":3,"sources":["webpack:///src/views/materials/webglMaterialsLightmap.vue","webpack:///./src/views/materials/webglMaterialsLightmap.vue?853a","webpack:///./src/views/materials/webglMaterialsLightmap.vue"],"names":["webglMaterialsLightmap","data","vertexShader","SCREEN_WIDTH","SCREEN_HEIGHT","container","stats","camera","scene","renderer","light","uniforms","skyGeo","skyMat","sky","controls","loader","mounted","this","$webglInnerWidth","window","innerHeight","initShaderMaterialsData","init","animate","methods","fragmentShader","document","createElement","getElementsByClassName","appendChild","$THREE","PerspectiveCamera","position","set","Scene","DirectionalLight","x","y","z","add","topColor","value","Color","bottomColor","offset","exponent","copy","color","SphereBufferGeometry","ShaderMaterial","side","BackSide","Mesh","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","domElement","outputEncoding","sRGBEncoding","OrbitControls","maxPolarAngle","Math","PI","enableZoom","$Stats","dom","style","left","ObjectLoader","that","load","object","addEventListener","onWindowResize","requestAnimationFrame","render","update","$onWindowResize","materials_webglMaterialsLightmap","_h","$createElement","_self","_c","staticClass","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/303.7fcedac2413cfb3b2e74.js","sourcesContent":["<template>\r\n    <div class=\"webglMLightmap-container\">\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            vertexShader: '',\r\n            SCREEN_WIDTH: '',\r\n            SCREEN_HEIGHT: '',\r\n            container: '',\r\n            stats: '',\r\n            camera: '',\r\n            scene: '',\r\n            renderer: '',\r\n            light: '',\r\n            uniforms: {},\r\n            skyGeo: '',\r\n            skyMat: '',\r\n            sky: '',\r\n            controls: '',\r\n            loader: ''\r\n        }\r\n    },\r\n    mounted() {\r\n        this.SCREEN_WIDTH = this.$webglInnerWidth\r\n        this.SCREEN_HEIGHT = window.innerHeight\r\n        this.initShaderMaterialsData()\r\n        this.init()\r\n        this.animate()\r\n    },\r\n    methods: {\r\n        initShaderMaterialsData() {\r\n            this.vertexShader = `\r\n            varying vec3 vWorldPosition;\r\n\r\n\t\t\tvoid main() {\r\n\t\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\r\n\t\t\t\tvWorldPosition = worldPosition.xyz;\r\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n            }`\r\n            this.fragmentShader = `\r\n            uniform vec3 topColor;\r\n\t\t\tuniform vec3 bottomColor;\r\n\t\t\tuniform float offset;\r\n\t\t\tuniform float exponent;\r\n\r\n\t\t\tvarying vec3 vWorldPosition;\r\n\r\n\t\t\tvoid main() {\r\n\t\t\t\tfloat h = normalize( vWorldPosition + offset ).y;\r\n\t\t\t\tgl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );\r\n\t\t\t}`\r\n        },\r\n        init() {\r\n            this.container = document.createElement('div')\r\n            document.getElementsByClassName('webglMLightmap-container')[0].appendChild(this.container)\r\n            // document.body.appendChild(container)\r\n            // CAMERA\r\n            this.camera = new this.$THREE.PerspectiveCamera(40, this.SCREEN_WIDTH / this.SCREEN_HEIGHT, 1, 10000)\r\n            this.camera.position.set(700, 200, - 500)\r\n            // SCENE\r\n            this.scene = new this.$THREE.Scene()\r\n            // LIGHTS\r\n            this.light = new this.$THREE.DirectionalLight(0xaabbff, 0.3)\r\n            this.light.position.x = 300\r\n            this.light.position.y = 250\r\n            this.light.position.z = - 500\r\n            this.scene.add(this.light)\r\n            // SKYDOME\r\n            // const vertexShader = document.getElementById('vertexShader').textContent\r\n            // const fragmentShader = document.getElementById('fragmentShader').textContent\r\n            this.uniforms = {\r\n                topColor: { value: new this.$THREE.Color(0x0077ff) },\r\n                bottomColor: { value: new this.$THREE.Color(0xffffff) },\r\n                offset: { value: 400 },\r\n                exponent: { value: 0.6 }\r\n            }\r\n            this.uniforms.topColor.value.copy(this.light.color)\r\n            this.skyGeo = new this.$THREE.SphereBufferGeometry(4000, 32, 15)\r\n            this.skyMat = new this.$THREE.ShaderMaterial({\r\n                uniforms: this.uniforms,\r\n                vertexShader: this.vertexShader,\r\n                fragmentShader: this.fragmentShader,\r\n                side: this.$THREE.BackSide\r\n            })\r\n            this.sky = new this.$THREE.Mesh(this.skyGeo, this.skyMat)\r\n            this.scene.add(this.sky)\r\n            // RENDERER\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.SCREEN_WIDTH, this.SCREEN_HEIGHT)\r\n            this.container.appendChild(this.renderer.domElement)\r\n            this.renderer.outputEncoding = this.$THREE.sRGBEncoding\r\n            // CONTROLS\r\n            this.controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n            this.controls.maxPolarAngle = 0.9 * Math.PI / 2\r\n            this.controls.enableZoom = false\r\n            // STATS\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            this.container.appendChild(this.stats.dom)\r\n            // MODEL\r\n            this.loader = new this.$THREE.ObjectLoader()\r\n            var that = this\r\n            this.loader.load(\"static/models/json/lightmap/lightmap.json\", function (object) {\r\n                that.scene.add(object)\r\n            })\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.renderer.render(this.scene, this.camera)\r\n            this.stats.update()\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/materials/webglMaterialsLightmap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglMLightmap-container\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20857a78\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/materials/webglMaterialsLightmap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20857a78\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglMaterialsLightmap.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglMaterialsLightmap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglMaterialsLightmap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20857a78\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglMaterialsLightmap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20857a78\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/materials/webglMaterialsLightmap.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}