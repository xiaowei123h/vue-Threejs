webpackJsonp([32],{"5AVf":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var a=r("6+nK"),n=r("OkqS"),i=function(e){a._21.call(this,e)};i.prototype=Object.assign(Object.create(a._21.prototype),{constructor:i,load:function(e,t,r,n){var i=this,s=""===i.path?a._22.extractUrlBase(e):i.path,o=new a.S(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(r){try{t(i.parse(r,s))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}},r,n)},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},parse:function(e,t){function r(e,t){for(var r=[],a=e.childNodes,n=0,i=a.length;n<i;n++){var s=a[n];s.nodeName===t&&r.push(s)}return r}function i(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),r=new Array(t.length),a=0,n=t.length;a<n;a++)r[a]=t[a];return r}function s(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),r=new Array(t.length),a=0,n=t.length;a<n;a++)r[a]=parseFloat(t[a]);return r}function o(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),r=new Array(t.length),a=0,n=t.length;a<n;a++)r[a]=parseInt(t[a]);return r}function c(e){return e.substring(1)}function l(e){return 0===Object.keys(e).length}function d(e,t,a,n){var i=r(e,t)[0];if(void 0!==i)for(var s=r(i,a),o=0;o<s.length;o++)n(s[o])}function u(e,t){for(var r in e){e[r].build=t(e[r])}}function f(e,t){return void 0!==e.build?e.build:(e.build=t(e),e.build)}function h(e){for(var t={inputs:{}},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"input":var i=c(n.getAttribute("source")),s=n.getAttribute("semantic");t.inputs[s]=i}}return t}function m(e){var t={},r=e.getAttribute("target").split("/"),a=r.shift(),n=r.shift(),i=-1!==n.indexOf("("),s=-1!==n.indexOf(".");if(s)n=(r=n.split(".")).shift(),t.member=r.shift();else if(i){var o=n.split("(");n=o.shift();for(var l=0;l<o.length;l++)o[l]=parseInt(o[l].replace(/\)/,""));t.indices=o}return t.id=a,t.sid=n,t.arraySyntax=i,t.memberSyntax=s,t.sampler=c(e.getAttribute("source")),t}function p(e){var t=[],r=e.channels,a=e.samplers,n=e.sources;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i],o=a[s.sampler],c=o.inputs.INPUT,l=o.inputs.OUTPUT;N(g(s,n[c],n[l]),t)}return t}function v(e){return f(Ke.animations[e],p)}function g(e,t,r){var a,n,i,s,o,c,l=Ke.nodes[e.id],d=qe(l.id),u=l.transforms[e.sid],f=l.matrix.clone().transpose(),h={};switch(u){case"matrix":for(i=0,s=t.array.length;i<s;i++)if(a=t.array[i],n=i*r.stride,void 0===h[a]&&(h[a]={}),!0===e.arraySyntax){var m=r.array[n],p=e.indices[0]+4*e.indices[1];h[a][p]=m}else for(o=0,c=r.stride;o<c;o++)h[a][o]=r.array[n+o];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',u)}var v=function(e,t){var r=[];for(var a in e)r.push({time:parseFloat(a),value:e[a]});r.sort(function(e,t){return e.time-t.time});for(var n=0;n<16;n++)k(r,n,t.elements[n]);return r}(h,f);return{name:d.uuid,keyframes:v}}var b=new a._105,y=new a._105,w=new a._58;function N(e,t){for(var r=e.keyframes,n=e.name,i=[],s=[],o=[],c=[],l=0,d=r.length;l<d;l++){var u=r[l],f=u.time,h=u.value;xe.fromArray(h).transpose(),xe.decompose(b,w,y),i.push(f),s.push(b.x,b.y,b.z),o.push(w.x,w.y,w.z,w.w),c.push(y.x,y.y,y.z)}return s.length>0&&t.push(new a._107(n+".position",i,s)),o.length>0&&t.push(new a._59(n+".quaternion",i,o)),c.length>0&&t.push(new a._107(n+".scale",i,c)),t}function k(e,t,r){var a,n,i,s=!0;for(n=0,i=e.length;n<i;n++)void 0===(a=e[n]).value[t]?a.value[t]=null:s=!1;if(!0===s)for(n=0,i=e.length;n<i;n++)(a=e[n]).value[t]=r;else!function(e,t){for(var r,a,n=0,i=e.length;n<i;n++){var s=e[n];if(null===s.value[t]){if(r=x(e,n,t),a=_(e,n,t),null===r){s.value[t]=a.value[t];continue}if(null===a){s.value[t]=r.value[t];continue}A(s,r,a,t)}}}(e,t)}function x(e,t,r){for(;t>=0;){var a=e[t];if(null!==a.value[r])return a;t--}return null}function _(e,t,r){for(;t<e.length;){var a=e[t];if(null!==a.value[r])return a;t++}return null}function A(e,t,r,a){r.time-t.time!=0?e.value[a]=(e.time-t.time)*(r.value[a]-t.value[a])/(r.time-t.time)+t.value[a]:e.value[a]=t.value[a]}function T(e){for(var t=[],r=e.name,n=e.end-e.start||-1,i=e.animations,s=0,o=i.length;s<o;s++)for(var c=v(i[s]),l=0,d=c.length;l<d;l++)t.push(c[l]);return new a.e(r,n,t)}function C(e){return f(Ke.clips[e],T)}function E(e){for(var t={sources:{}},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=s(n.textContent);break;case"source":var i=n.getAttribute("id");t.sources[i]=ne(n);break;case"joints":t.joints=R(n);break;case"vertex_weights":t.vertexWeights=O(n)}}return t}function R(e){for(var t={inputs:{}},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"input":var i=n.getAttribute("semantic"),s=c(n.getAttribute("source"));t.inputs[i]=s}}return t}function O(e){for(var t={inputs:{}},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"input":var i=n.getAttribute("semantic"),s=c(n.getAttribute("source")),l=parseInt(n.getAttribute("offset"));t.inputs[i]={id:s,offset:l};break;case"vcount":t.vcount=o(n.textContent);break;case"v":t.v=o(n.textContent)}}return t}function j(e){var t={id:e.id},r=Ke.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){var t,r,n,i={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},s=e.sources,o=e.vertexWeights,c=o.vcount,l=o.v,d=o.inputs.JOINT.offset,u=o.inputs.WEIGHT.offset,f=e.sources[e.joints.inputs.JOINT],h=e.sources[e.joints.inputs.INV_BIND_MATRIX],m=s[o.inputs.WEIGHT.id].array,p=0;for(t=0,n=c.length;t<n;t++){var v=c[t],g=[];for(r=0;r<v;r++){var b=l[p+d],y=l[p+u],w=m[y];g.push({index:b,weight:w}),p+=2}for(g.sort(_),r=0;r<4;r++){var N=g[r];void 0!==N?(i.indices.array.push(N.index),i.weights.array.push(N.weight)):(i.indices.array.push(0),i.weights.array.push(0))}}e.bindShapeMatrix?i.bindMatrix=(new a._28).fromArray(e.bindShapeMatrix).transpose():i.bindMatrix=(new a._28).identity();for(t=0,n=f.array.length;t<n;t++){var k=f.array[t],x=(new a._28).fromArray(h.array,t*h.stride).transpose();i.joints.push({name:k,boneInverse:x})}return i;function _(e,t){return t.weight-e.weight}}(e.skin),r.sources.skinIndices=t.skin.indices,r.sources.skinWeights=t.skin.weights),t}function I(e){return void 0!==e.build?e.build:e.init_from}function L(e){var t=Ke.images[e];return void 0!==t?f(t,I):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function q(e){for(var t={surfaces:{},samplers:{}},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"newparam":H(n,t);break;case"technique":t.technique=U(n);break;case"extra":t.extra=W(n)}}return t}function H(e,t){for(var r=e.getAttribute("sid"),a=0,n=e.childNodes.length;a<n;a++){var i=e.childNodes[a];if(1===i.nodeType)switch(i.nodeName){case"surface":t.surfaces[r]=M(i);break;case"sampler2D":t.samplers[r]=S(i)}}}function M(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"init_from":t.init_from=n.textContent}}return t}function S(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"source":t.source=n.textContent}}return t}function U(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=n.nodeName,t.parameters=z(n)}}return t}function z(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[n.nodeName]=P(n);break;case"transparent":t[n.nodeName]={opaque:n.getAttribute("opaque"),data:P(n)}}}return t}function P(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"color":t[n.nodeName]=s(n.textContent);break;case"float":t[n.nodeName]=parseFloat(n.textContent);break;case"texture":t[n.nodeName]={id:n.getAttribute("texture"),extra:F(n)}}}return t}function F(e){for(var t={technique:{}},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"extra":B(n,t)}}return t}function B(e,t){for(var r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"technique":D(n,t)}}}function D(e,t){for(var r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[n.nodeName]=parseFloat(n.textContent);break;case"wrapU":case"wrapV":"TRUE"===n.textContent.toUpperCase()?t.technique[n.nodeName]=1:"FALSE"===n.textContent.toUpperCase()?t.technique[n.nodeName]=0:t.technique[n.nodeName]=parseInt(n.textContent)}}}function W(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"technique":t.technique=V(n)}}return t}function V(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"double_sided":t[n.nodeName]=parseInt(n.textContent)}}return t}function J(e){return e}function $(e){var t,r,n=(t=e.url,f(Ke.effects[t],J)),i=n.profile.technique,s=n.profile.extra;switch(i.type){case"phong":case"blinn":r=new a._34;break;case"lambert":r=new a._32;break;default:r=new a._30}function o(e){var t=n.profile.samplers[e.id],r=null;void 0!==t?r=L(n.profile.surfaces[t.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),r=L(e.id));if(null!==r){var i=function(e){var t,r=e.slice(2+(e.lastIndexOf(".")-1>>>0));switch(r=r.toLowerCase()){case"tga":t=De;break;default:t=Ve}return t}(r);if(void 0!==i){var s=i.load(r),o=e.extra;if(void 0!==o&&void 0!==o.technique&&!1===l(o.technique)){var c=o.technique;s.wrapS=c.wrapU?a._75:a.p,s.wrapT=c.wrapV?a._75:a.p,s.offset.set(c.offsetU||0,c.offsetV||0),s.repeat.set(c.repeatU||1,c.repeatV||1)}else s.wrapS=a._75,s.wrapT=a._75;return s}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",r),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}r.name=e.name||"";var c=i.parameters;for(var d in c){var u=c[d];switch(d){case"diffuse":u.color&&r.color.fromArray(u.color),u.texture&&(r.map=o(u.texture));break;case"specular":u.color&&r.specular&&r.specular.fromArray(u.color),u.texture&&(r.specularMap=o(u.texture));break;case"bump":u.texture&&(r.normalMap=o(u.texture));break;case"ambient":u.texture&&(r.lightMap=o(u.texture));break;case"shininess":u.float&&r.shininess&&(r.shininess=u.float);break;case"emission":u.color&&r.emissive&&r.emissive.fromArray(u.color),u.texture&&(r.emissiveMap=o(u.texture))}}var h=c.transparent,m=c.transparency;if(void 0===m&&h&&(m={float:1}),void 0===h&&m&&(h={opaque:"A_ONE",data:{color:[1,1,1,1]}}),h&&m)if(h.data.texture)r.transparent=!0;else{var p=h.data.color;switch(h.opaque){case"A_ONE":r.opacity=p[3]*m.float;break;case"RGB_ZERO":r.opacity=1-p[0]*m.float;break;case"A_ZERO":r.opacity=1-p[3]*m.float;break;case"RGB_ONE":r.opacity=p[0]*m.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',h.opaque)}r.opacity<1&&(r.transparent=!0)}return void 0!==s&&void 0!==s.technique&&1===s.technique.double_sided&&(r.side=a.J),r}function G(e){return f(Ke.materials[e],$)}function K(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];switch(r.nodeName){case"technique_common":return X(r)}}return{}}function X(e){for(var t={},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];switch(a.nodeName){case"perspective":case"orthographic":t.technique=a.nodeName,t.parameters=Z(a)}}return t}function Z(e){for(var t={},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];switch(a.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[a.nodeName]=parseFloat(a.textContent)}}return t}function Y(e){var t;switch(e.optics.technique){case"perspective":t=new a._51(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var r=e.optics.parameters.ymag,n=e.optics.parameters.xmag,i=e.optics.parameters.aspect_ratio;n=void 0===n?r*i:n,r=void 0===r?n/i:r,n*=.5,r*=.5,t=new a._48(-n,n,r,-r,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new a._51}return t.name=e.name||"",t}function Q(e){var t=Ke.cameras[e];return void 0!==t?f(t,Y):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function ee(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=n.nodeName,t.parameters=te(n)}}return t}function te(e){for(var t={},r=0,n=e.childNodes.length;r<n;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"color":var o=s(i.textContent);t.color=(new a.r).fromArray(o);break;case"falloff_angle":t.falloffAngle=parseFloat(i.textContent);break;case"quadratic_attenuation":var c=parseFloat(i.textContent);t.distance=c?Math.sqrt(1/c):0}}return t}function re(e){var t;switch(e.technique){case"directional":t=new a.I;break;case"point":t=new a._54;break;case"spot":t=new a._88;break;case"ambient":t=new a.d}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function ae(e){var t=Ke.lights[e];return void 0!==t?f(t,re):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function ne(e){for(var t={array:[],stride:3},a=0;a<e.childNodes.length;a++){var n=e.childNodes[a];if(1===n.nodeType)switch(n.nodeName){case"float_array":t.array=s(n.textContent);break;case"Name_array":t.array=i(n.textContent);break;case"technique_common":var o=r(n,"accessor")[0];void 0!==o&&(t.stride=parseInt(o.getAttribute("stride")))}}return t}function ie(e){for(var t={},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];1===a.nodeType&&(t[a.getAttribute("semantic")]=c(a.getAttribute("source")))}return t}function se(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"input":var i=c(n.getAttribute("source")),s=n.getAttribute("semantic"),l=parseInt(n.getAttribute("offset")),d=parseInt(n.getAttribute("set")),u=d>0?s+d:s;t.inputs[u]={id:i,offset:l},t.stride=Math.max(t.stride,l+1),"TEXCOORD"===s&&(t.hasUV=!0);break;case"vcount":t.vcount=o(n.textContent);break;case"p":t.p=o(n.textContent)}}return t}function oe(e){for(var t=0,r=0,a=e.length;r<a;r++){!0===e[r].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function ce(e){var t={},r=e.sources,a=e.vertices,n=e.primitives;if(0===n.length)return{};var i=function(e){for(var t={},r=0;r<e.length;r++){var a=e[r];void 0===t[a.type]&&(t[a.type]=[]),t[a.type].push(a)}return t}(n);for(var s in i){var o=i[s];oe(o),t[s]=le(o,r,a)}return t}function le(e,t,r){for(var n={},i={array:[],stride:0},s={array:[],stride:0},o={array:[],stride:0},c={array:[],stride:0},l={array:[],stride:0},d=[],u=4,f=[],h=4,m=new a.m,p=[],v=0,g=0;g<e.length;g++){var b=e[g],y=b.inputs,w=0;switch(b.type){case"lines":case"linestrips":w=2*b.count;break;case"triangles":w=3*b.count;break;case"polylist":for(var N=0;N<b.count;N++){var k=b.vcount[N];switch(k){case 3:w+=3;break;case 4:w+=6;break;default:w+=3*(k-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",b.type)}for(var x in m.addGroup(v,w,g),v+=w,b.material&&p.push(b.material),y){var _=y[x];switch(x){case"VERTEX":for(var A in r){var T=r[A];switch(A){case"POSITION":var C=i.array.length;if(de(b,t[T],_.offset,i.array),i.stride=t[T].stride,t.skinWeights&&t.skinIndices&&(de(b,t.skinIndices,_.offset,d),de(b,t.skinWeights,_.offset,f)),!1===b.hasUV&&!0===e.uvsNeedsFix){w=(i.array.length-C)/i.stride;for(var E=0;E<w;E++)o.array.push(0,0)}break;case"NORMAL":de(b,t[T],_.offset,s.array),s.stride=t[T].stride;break;case"COLOR":de(b,t[T],_.offset,l.array),l.stride=t[T].stride;break;case"TEXCOORD":de(b,t[T],_.offset,o.array),o.stride=t[T].stride;break;case"TEXCOORD1":de(b,t[T],_.offset,c.array),o.stride=t[T].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',A)}}break;case"NORMAL":de(b,t[_.id],_.offset,s.array),s.stride=t[_.id].stride;break;case"COLOR":de(b,t[_.id],_.offset,l.array),l.stride=t[_.id].stride;break;case"TEXCOORD":de(b,t[_.id],_.offset,o.array),o.stride=t[_.id].stride;break;case"TEXCOORD1":de(b,t[_.id],_.offset,c.array),c.stride=t[_.id].stride}}}return i.array.length>0&&m.setAttribute("position",new a.T(i.array,i.stride)),s.array.length>0&&m.setAttribute("normal",new a.T(s.array,s.stride)),l.array.length>0&&m.setAttribute("color",new a.T(l.array,l.stride)),o.array.length>0&&m.setAttribute("uv",new a.T(o.array,o.stride)),c.array.length>0&&m.setAttribute("uv2",new a.T(c.array,c.stride)),d.length>0&&m.setAttribute("skinIndex",new a.T(d,u)),f.length>0&&m.setAttribute("skinWeight",new a.T(f,h)),n.data=m,n.type=e[0].type,n.materialKeys=p,n}function de(e,t,r,a){var n=e.p,i=e.stride,s=e.vcount;function o(e){for(var t=n[e+r]*l,i=t+l;t<i;t++)a.push(c[t])}var c=t.array,l=t.stride;if(void 0!==e.vcount)for(var d=0,u=0,f=s.length;u<f;u++){var h=s[u];if(4===h){var m=d+1*i,p=d+2*i,v=d+3*i;o(d+0*i),o(m),o(v),o(m),o(p),o(v)}else if(3===h){m=d+1*i,p=d+2*i;o(d+0*i),o(m),o(p)}else if(h>4)for(var g=1,b=h-2;g<=b;g++){m=d+i*g,p=d+i*(g+1);o(d+0*i),o(m),o(p)}d+=i*h}else for(u=0,f=n.length;u<f;u+=i)o(u)}function ue(e){return f(Ke.geometries[e],ce)}function fe(e){return void 0!==e.build?e.build:e}function he(e,t){for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"joint":t.joints[a.getAttribute("sid")]=me(a);break;case"link":t.links.push(ve(a))}}}function me(e){for(var t,r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"prismatic":case"revolute":t=pe(a)}}return t}function pe(e,t){t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new a._105,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"axis":var i=s(n.textContent);t.axis.fromArray(i);break;case"limits":var o=n.getElementsByTagName("max")[0],c=n.getElementsByTagName("min")[0];t.limits.max=parseFloat(o.textContent),t.limits.min=parseFloat(c.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function ve(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"attachment_full":t.attachments.push(ge(a));break;case"matrix":case"translate":case"rotate":t.transforms.push(be(a))}}return t}function ge(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"link":t.links.push(ve(a));break;case"matrix":case"translate":case"rotate":t.transforms.push(be(a))}}return t}function be(e){var t={type:e.nodeName},r=s(e.textContent);switch(t.type){case"matrix":t.obj=new a._28,t.obj.fromArray(r).transpose();break;case"translate":t.obj=new a._105,t.obj.fromArray(r);break;case"rotate":t.obj=new a._105,t.obj.fromArray(r),t.angle=a._26.degToRad(r[3])}return t}function ye(e,t){for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"technique_common":we(a,t)}}}function we(e,t){for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"inertia":t.inertia=s(a.textContent);break;case"mass":t.mass=s(a.textContent)[0]}}}function Ne(e){for(var t={target:e.getAttribute("target").split("/").pop()},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"axis":var n=a.getElementsByTagName("param")[0];t.axis=n.textContent;var i=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=i.substr(0,i.length-1)}}return t}function ke(e){return void 0!==e.build?e.build:e}var xe=new a._28,_e=new a._105;function Ae(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new a._28,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"node":t.nodes.push(n.getAttribute("id")),Ae(n);break;case"instance_camera":t.instanceCameras.push(c(n.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Te(n));break;case"instance_light":t.instanceLights.push(c(n.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Te(n));break;case"instance_node":t.instanceNodes.push(c(n.getAttribute("url")));break;case"matrix":var i=s(n.textContent);t.matrix.multiply(xe.fromArray(i).transpose()),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"translate":i=s(n.textContent);_e.fromArray(i),t.matrix.multiply(xe.makeTranslation(_e.x,_e.y,_e.z)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"rotate":i=s(n.textContent);var o=a._26.degToRad(i[3]);t.matrix.multiply(xe.makeRotationAxis(_e.fromArray(i),o)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"scale":i=s(n.textContent);t.matrix.scale(_e.fromArray(i)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"extra":break;default:console.log(n)}}return Le(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):Ke.nodes[t.id]=t,t}function Te(e){for(var t={id:c(e.getAttribute("url")),materials:{},skeletons:[]},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];switch(a.nodeName){case"bind_material":for(var n=a.getElementsByTagName("instance_material"),i=0;i<n.length;i++){var s=n[i],o=s.getAttribute("symbol"),l=s.getAttribute("target");t.materials[o]=c(l)}break;case"skeleton":t.skeletons.push(c(a.textContent))}}return t}function Ce(e,t){var r,n,i,s=[],o=[];for(r=0;r<e.length;r++){var c=e[r];if(Le(c))Ee(qe(c),t,s);else if(i=c,void 0!==Ke.visualScenes[i])for(var l=Ke.visualScenes[c].children,d=0;d<l.length;d++){var u=l[d];if("JOINT"===u.type)Ee(qe(u.id),t,s)}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",c)}for(r=0;r<t.length;r++)for(d=0;d<s.length;d++)if((n=s[d]).bone.name===t[r].name){o[r]=n,n.processed=!0;break}for(r=0;r<s.length;r++)!1===(n=s[r]).processed&&(o.push(n),n.processed=!0);var f=[],h=[];for(r=0;r<o.length;r++)n=o[r],f.push(n.bone),h.push(n.boneInverse);return new a._82(f,h)}function Ee(e,t,r){e.traverse(function(e){if(!0===e.isBone){for(var n,i=0;i<t.length;i++){var s=t[i];if(s.name===e.name){n=s.boneInverse;break}}void 0===n&&(n=new a._28),r.push({bone:e,boneInverse:n,processed:!1})}})}function Re(e){for(var t,r=[],n=e.matrix,i=e.nodes,s=e.type,o=e.instanceCameras,c=e.instanceControllers,l=e.instanceLights,d=e.instanceGeometries,u=e.instanceNodes,h=0,m=i.length;h<m;h++)r.push(qe(i[h]));for(h=0,m=o.length;h<m;h++){var p=Q(o[h]);null!==p&&r.push(p.clone())}for(h=0,m=c.length;h<m;h++)for(var v=c[h],g=(t=v.id,f(Ke.controllers[t],j)),b=Ie(ue(g.id),v.materials),y=Ce(v.skeletons,g.skin.joints),w=0,N=b.length;w<N;w++){var k;(k=b[w]).isSkinnedMesh&&(k.bind(y,g.skin.bindMatrix),k.normalizeSkinWeights()),r.push(k)}for(h=0,m=l.length;h<m;h++){var x=ae(l[h]);null!==x&&r.push(x.clone())}for(h=0,m=d.length;h<m;h++)for(w=0,N=(b=Ie(ue((v=d[h]).id),v.materials)).length;w<N;w++)r.push(b[w]);for(h=0,m=u.length;h<m;h++)r.push(qe(u[h]).clone());if(0===i.length&&1===r.length)k=r[0];else{k="JOINT"===s?new a.h:new a.Y;for(h=0;h<r.length;h++)k.add(r[h])}return k.name="JOINT"===s?e.sid:e.name,k.matrix.copy(n),k.matrix.decompose(k.position,k.quaternion,k.scale),k}var Oe=new a._30({color:16711935});function je(e,t){for(var r=[],a=0,n=e.length;a<n;a++){var i=t[e[a]];void 0===i?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[a]),r.push(Oe)):r.push(G(i))}return r}function Ie(e,t){var r=[];for(var n in e){var i=e[n],s=je(i.materialKeys,t);0===s.length&&("lines"===n||"linestrips"===n?s.push(new a._14):s.push(new a._34));var o=void 0!==i.data.attributes.skinIndex;if(o)for(var c=0,l=s.length;c<l;c++)s[c].skinning=!0;var d,u=1===s.length?s[0]:s;switch(n){case"lines":d=new a._16(i.data,u);break;case"linestrips":d=new a._12(i.data,u);break;case"triangles":case"polylist":d=o?new a._83(i.data,u):new a._29(i.data,u)}r.push(d)}return r}function Le(e){return void 0!==Ke.nodes[e]}function qe(e){return f(Ke.nodes[e],Re)}function He(e){var t=new a.Y;t.name=e.name;for(var r=e.children,n=0;n<r.length;n++){var i=r[n];t.add(qe(i.id))}return t}function Me(e){return f(Ke.visualScenes[e],He)}if(0===e.length)return{scene:new a._76};var Se=(new DOMParser).parseFromString(e,"application/xml"),Ue=r(Se,"COLLADA")[0],ze=Se.getElementsByTagName("parsererror")[0];if(void 0!==ze){var Pe,Fe=r(ze,"div")[0];return Pe=Fe?Fe.textContent:function(e){for(var t="",r=[e];r.length;){var a=r.shift();a.nodeType===Node.TEXT_NODE?t+=a.textContent:(t+="\n",r.push.apply(r,a.childNodes))}return t.trim()}(ze),console.error("THREE.ColladaLoader: Failed to parse collada file.\n",Pe),null}var Be=Ue.getAttribute("version");console.log("THREE.ColladaLoader: File version",Be);var De,We=function(e){return{unit:function(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}(r(e,"unit")[0]),upAxis:function(e){return void 0!==e?e.textContent:"Y_UP"}(r(e,"up_axis")[0])}}(r(Ue,"asset")[0]),Ve=new a._92(this.manager);Ve.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),n.a&&(De=new n.a(this.manager)).setPath(this.resourcePath||t);var Je=[],$e={},Ge=0,Ke={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};d(Ue,"library_animations","animation",function e(t){for(var r={sources:{},samplers:{},channels:{}},n=!1,i=0,s=t.childNodes.length;i<s;i++){var o,c=t.childNodes[i];if(1===c.nodeType)switch(c.nodeName){case"source":o=c.getAttribute("id"),r.sources[o]=ne(c);break;case"sampler":o=c.getAttribute("id"),r.samplers[o]=h(c);break;case"channel":o=c.getAttribute("target"),r.channels[o]=m(c);break;case"animation":e(c),n=!0;break;default:console.log(c)}}!1===n&&(Ke.animations[t.getAttribute("id")||a._26.generateUUID()]=r)}),d(Ue,"library_animation_clips","animation_clip",function(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"instance_animation":t.animations.push(c(n.getAttribute("url")))}}Ke.clips[e.getAttribute("id")]=t}),d(Ue,"library_controllers","controller",function(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"skin":t.id=c(n.getAttribute("source")),t.skin=E(n);break;case"morph":t.id=c(n.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}Ke.controllers[e.getAttribute("id")]=t}),d(Ue,"library_images","image",function(e){var t={init_from:r(e,"init_from")[0].textContent};Ke.images[e.getAttribute("id")]=t}),d(Ue,"library_effects","effect",function(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"profile_COMMON":t.profile=q(n)}}Ke.effects[e.getAttribute("id")]=t}),d(Ue,"library_materials","material",function(e){for(var t={name:e.getAttribute("name")},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"instance_effect":t.url=c(n.getAttribute("url"))}}Ke.materials[e.getAttribute("id")]=t}),d(Ue,"library_cameras","camera",function(e){for(var t={name:e.getAttribute("name")},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"optics":t.optics=K(n)}}Ke.cameras[e.getAttribute("id")]=t}),d(Ue,"library_lights","light",function(e){for(var t={},r=0,a=e.childNodes.length;r<a;r++){var n=e.childNodes[r];if(1===n.nodeType)switch(n.nodeName){case"technique_common":t=ee(n)}}Ke.lights[e.getAttribute("id")]=t}),d(Ue,"library_geometries","geometry",function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},a=r(e,"mesh")[0];if(void 0!==a){for(var n=0;n<a.childNodes.length;n++){var i=a.childNodes[n];if(1===i.nodeType){var s=i.getAttribute("id");switch(i.nodeName){case"source":t.sources[s]=ne(i);break;case"vertices":t.vertices=ie(i);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",i.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(se(i));break;default:console.log(i)}}}Ke.geometries[e.getAttribute("id")]=t}}),d(Ue,"library_nodes","node",Ae),d(Ue,"library_visual_scenes","visual_scene",function(e){var t={name:e.getAttribute("name"),children:[]};!function(e){for(var t=e.getElementsByTagName("node"),r=0;r<t.length;r++){var a=t[r];!1===a.hasAttribute("id")&&a.setAttribute("id","three_default_"+Ge++)}}(e);for(var a=r(e,"node"),n=0;n<a.length;n++)t.children.push(Ae(a[n]));Ke.visualScenes[e.getAttribute("id")]=t}),d(Ue,"library_kinematics_models","kinematics_model",function(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"technique_common":he(a,t)}}Ke.kinematicsModels[e.getAttribute("id")]=t}),d(Ue,"library_physics_models","physics_model",function(e){for(var t={name:e.getAttribute("name")||"",rigidBodies:{}},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"rigid_body":t.rigidBodies[a.getAttribute("name")]={},ye(a,t.rigidBodies[a.getAttribute("name")])}}Ke.physicsModels[e.getAttribute("id")]=t}),d(Ue,"scene","instance_kinematics_scene",function(e){for(var t={bindJointAxis:[]},r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"bind_joint_axis":t.bindJointAxis.push(Ne(a))}}Ke.kinematicsScenes[c(e.getAttribute("url"))]=t}),u(Ke.animations,p),u(Ke.clips,T),u(Ke.controllers,j),u(Ke.images,I),u(Ke.effects,J),u(Ke.materials,$),u(Ke.cameras,Y),u(Ke.lights,re),u(Ke.geometries,ce),u(Ke.visualScenes,He),function(){var e=Ke.clips;if(!0===l(e)){if(!1===l(Ke.animations)){var t=[];for(var r in Ke.animations)for(var n=v(r),i=0,s=n.length;i<s;i++)t.push(n[i]);Je.push(new a.e("default",-1,t))}}else for(var r in e)Je.push(C(r))}(),function(){var e=Object.keys(Ke.kinematicsModels)[0],t=Object.keys(Ke.kinematicsScenes)[0],r=Object.keys(Ke.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var n,i=(n=e,f(Ke.kinematicsModels[n],fe)),o=function(e){return f(Ke.kinematicsScenes[e],ke)}(t),c=Me(r),l=o.bindJointAxis,d={},u=0,h=l.length;u<h;u++){var m=l[u],p=Ue.querySelector('[sid="'+m.target+'"]');if(p){var v=p.parentElement;b(m.jointIndex,v)}}var g=new a._28;$e={joints:i&&i.joints,getJointValue:function(e){var t=d[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var r=d[e];if(r){var n=r.joint;if(t>n.limits.max||t<n.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+n.limits.min+", max: "+n.limits.max+").");else if(n.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var i=r.object,s=n.axis,o=r.transforms;xe.identity();for(var c=0;c<o.length;c++){var l=o[c];if(l.sid&&-1!==l.sid.indexOf(e))switch(n.type){case"revolute":xe.multiply(g.makeRotationAxis(s,a._26.degToRad(t)));break;case"prismatic":xe.multiply(g.makeTranslation(s.x*t,s.y*t,s.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+n.type)}else switch(l.type){case"matrix":xe.multiply(l.obj);break;case"translate":xe.multiply(g.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"scale":xe.scale(l.obj);break;case"rotate":xe.multiply(g.makeRotationAxis(l.obj,l.angle))}}i.matrix.copy(xe),i.matrix.decompose(i.position,i.quaternion,i.scale),d[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function b(e,t){var r=t.getAttribute("name"),n=i.joints[e];c.traverse(function(i){i.name===r&&(d[e]={object:i,transforms:function(e){for(var t=[],r=Ue.querySelector('[id="'+e.id+'"]'),n=0;n<r.childNodes.length;n++){var i=r.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"matrix":var o=s(i.textContent),c=(new a._28).fromArray(o).transpose();t.push({sid:i.getAttribute("sid"),type:i.nodeName,obj:c});break;case"translate":case"scale":var o=s(i.textContent),l=(new a._105).fromArray(o);t.push({sid:i.getAttribute("sid"),type:i.nodeName,obj:l});break;case"rotate":var o=s(i.textContent),l=(new a._105).fromArray(o),d=a._26.degToRad(o[3]);t.push({sid:i.getAttribute("sid"),type:i.nodeName,obj:l,angle:d})}}return t}(t),joint:n,position:n.zeroPosition})})}}();var Xe=function(e){return Me(c(r(e,"instance_visual_scene")[0].getAttribute("url")))}(r(Ue,"scene")[0]);return"Z_UP"===We.upAxis&&Xe.quaternion.setFromEuler(new a.P(-Math.PI/2,0,0)),Xe.scale.multiplyScalar(We.unit),{animations:Je,kinematics:$e,library:Ke,scene:Xe}}})},"oW+m":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("wIBv"),n=r("6+nK"),i=r("5AVf"),s=r("w45l"),o=function(e){n._21.call(this,e)};o.prototype=Object.assign(Object.create(n._21.prototype),{constructor:o,load:function(e,t,r,a){var i=this,s=new n.S(i.manager);s.setPath(i.path),s.setResponseType("arraybuffer"),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,function(r){try{t(i.parse(r))}catch(t){a?a(t):console.error(t),i.manager.itemError(e)}},r,a)},parse:function(e){var t=new n._23;t.setURLModifier(function(e){var t=function(e){for(var t in r.files)if(t.substr(-e.length)===e)return r.files[t]}(e);if(t){console.log("Loading",e);var a=new Blob([t.asArrayBuffer()],{type:"application/octet-stream"});return URL.createObjectURL(a)}return e});var r=new s.a(e);if(r.files["doc.kml"]){var a=(new DOMParser).parseFromString(r.files["doc.kml"].asText(),"application/xml").querySelector("Placemark Model Link href");if(a)return new i.a(t).parse(r.files[a.textContent].asText())}else for(var o in console.warn("KMZLoader: Missing doc.kml file."),r.files){if("dae"===o.split(".").pop().toLowerCase())return new i.a(t).parse(r.files[o].asText())}return console.error("KMZLoader: Couldn't find .dae file."),{scene:new n.Y}}});var c={data:function(){return{camera:null,scene:null,renderer:null}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(10066329);var t=new this.$THREE.DirectionalLight(16777215);t.position.set(.5,1,.5).normalize(),this.scene.add(t),this.camera=new this.$THREE.PerspectiveCamera(35,this.$webglInnerWidth/window.innerHeight,1,500),this.camera.position.y=5,this.camera.position.z=10,this.scene.add(this.camera);var r=new this.$THREE.GridHelper(50,50,16777215,5592405);this.scene.add(r),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglLoaderKmz-container")[0].appendChild(this.renderer.domElement),(new o).load("static/models/kmz/Box.kmz",function(t){t.scene.position.y=.5,e.scene.add(t.scene),e.render()});var n=new a.b(this.camera,this.renderer.domElement);n.addEventListener("change",this.render),n.update(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglLoaderKmz-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" -\n\t\t\t"),t("a",{attrs:{href:"https://developers.google.com/kml/documentation/kmzarchives",target:"_blank",rel:"noopener"}},[this._v("KMZ")]),this._v(" loader\n\t\t")])])}]};var d=r("VU/8")(c,l,!1,function(e){r("rcI+")},"data-v-47a78fd0",null);t.default=d.exports},"rcI+":function(e,t){}});
//# sourceMappingURL=32.076ca413b6d6c677620b.js.map