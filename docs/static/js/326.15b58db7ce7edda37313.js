webpackJsonp([326],{"16Nn":function(e,t){},mYrc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{fragmentShaderScreen:null,fragmentShaderPass1:null,vertexShader:null,container:null,stats:null,cameraRTT:null,camera:null,sceneRTT:null,sceneScreen:null,scene:null,renderer:null,zmesh1:null,zmesh2:null,mouseX:0,mouseY:0,windowHalfX:null,windowHalfY:null,rtTexture:null,material:null,quad:null,delta:.01}},mounted:function(){this.fragmentShaderScreen="\n            varying vec2 vUv;\n\t\t\tuniform sampler2D tDiffuse;\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D(tDiffuse, vUv);\n            }",this.fragmentShaderPass1="\n            varying vec2 vUv;\n\t\t\tuniform float time;\n\t\t\tvoid main() {\n\t\t\t\tfloat r = vUv.x;\n\t\t\t\tif(vUv.y < 0.5) r = 0.0;\n\t\t\t\tfloat g = vUv.y;\n\t\t\t\tif(vUv.x < 0.5) g = 0.0;\n\t\t\t\tgl_FragColor = vec4(r, g, time, 1.0);\n            }",this.vertexShader="\n            varying vec2 vUv;\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }",this.init(),this.animate()},methods:{init:function(){this.container=document.getElementById("container"),this.camera=new this.$THREE.PerspectiveCamera(30,this.$webglInnerWidth/window.innerHeight,1,1e4),this.camera.position.z=100,this.cameraRTT=new this.$THREE.OrthographicCamera(this.$webglInnerWidth/-2,this.$webglInnerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1e4,1e4),this.cameraRTT.position.z=100,this.scene=new this.$THREE.Scene,this.sceneRTT=new this.$THREE.Scene,this.sceneScreen=new this.$THREE.Scene;var e=new this.$THREE.DirectionalLight(16777215);e.position.set(0,0,1).normalize(),this.sceneRTT.add(e),(e=new this.$THREE.DirectionalLight(16755370,1.5)).position.set(0,0,-1).normalize(),this.sceneRTT.add(e),this.rtTexture=new this.$THREE.WebGLRenderTarget(this.$webglInnerWidth,window.innerHeight,{minFilter:this.$THREE.LinearFilter,magFilter:this.$THREE.NearestFilter,format:this.$THREE.RGBFormat}),this.material=new this.$THREE.ShaderMaterial({uniforms:{time:{value:0}},vertexShader:this.vertexShader,fragmentShader:this.fragmentShaderPass1});var t=new this.$THREE.ShaderMaterial({uniforms:{tDiffuse:{value:this.rtTexture.texture}},vertexShader:this.vertexShader,fragmentShader:this.fragmentShaderScreen,depthWrite:!1}),i=new this.$THREE.PlaneBufferGeometry(this.$webglInnerWidth,window.innerHeight);this.quad=new this.$THREE.Mesh(i,this.material),this.quad.position.z=-100,this.sceneRTT.add(this.quad);var n=new this.$THREE.TorusBufferGeometry(100,25,15,30),s=new this.$THREE.MeshPhongMaterial({color:5592405,specular:16755200,shininess:5}),r=new this.$THREE.MeshPhongMaterial({color:5570560,specular:16720384,shininess:5});this.zmesh1=new this.$THREE.Mesh(n,s),this.zmesh1.position.set(0,0,100),this.zmesh1.scale.set(1.5,1.5,1.5),this.sceneRTT.add(this.zmesh1),this.zmesh2=new this.$THREE.Mesh(n,r),this.zmesh2.position.set(0,150,100),this.zmesh2.scale.set(.75,.75,.75),this.sceneRTT.add(this.zmesh2),this.quad=new this.$THREE.Mesh(i,t),this.quad.position.z=-100,this.sceneScreen.add(this.quad);for(var a=new this.$THREE.SphereBufferGeometry(10,64,32),h=new this.$THREE.MeshBasicMaterial({color:16777215,map:this.rtTexture.texture}),o=0;o<5;o++)for(var l=0;l<5;l++){var d=new this.$THREE.Mesh(a,h);d.position.x=20*(l-2),d.position.y=20*(o-2),d.position.z=0,d.rotation.y=-Math.PI/2,this.scene.add(d)}this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.autoClear=!1,this.container.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),window.addEventListener("resize",this.onWindowResize,!1)},onDocumentMouseMove:function(e){this.mouseX=e.clientX-this.windowHalfX,this.mouseY=e.clientY-this.windowHalfY},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var e=.0015*Date.now();this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position),this.zmesh1&&this.zmesh2&&(this.zmesh1.rotation.y=-e,this.zmesh2.rotation.y=-e+Math.PI/2),(this.material.uniforms.time.value>1||this.material.uniforms.time.value<0)&&(this.delta*=-1),this.material.uniforms.time.value+=this.delta,this.renderer.setRenderTarget(this.rtTexture),this.renderer.clear(),this.renderer.render(this.sceneRTT,this.cameraRTT),this.renderer.setRenderTarget(null),this.renderer.clear(),this.renderer.render(this.sceneScreen,this.cameraRTT),this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglRtt-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" render-to-texture webgl example")])])}]};var r=i("VU/8")(n,s,!1,function(e){i("16Nn")},"data-v-12dbac9a",null);t.default=r.exports}});
//# sourceMappingURL=326.15b58db7ce7edda37313.js.map