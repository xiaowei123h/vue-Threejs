webpackJsonp([35],{ctwk:function(e,t){},d3ck:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("QEtz"),n=i("wIBv"),a=i("Glcs"),r={data:function(){return{params:{color:16777215,transmission:.9,envMapIntensity:1,lightIntensity:1,exposure:1},container:null,stats:null,camera:null,scene:null,renderer:null,hdrCubeRenderTarget:null,mesh1:null,mesh2:null,gui:null,hdrEquirect:null}},mounted:function(){var e=this;this.hdrEquirect=(new a.a).setDataType(this.$THREE.UnsignedByteType).setPath("static/textures/equirectangular/").load("royal_esplanade_1k.hdr",function(){e.init(),e.animate()})},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e=this;this.container=document.createElement("div"),document.getElementsByClassName("webglMaterialsPhysicalTransmission-container")[0].appendChild(this.container),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.container.appendChild(this.renderer.domElement),this.renderer.toneMapping=this.$THREE.ACESFilmicToneMapping,this.renderer.toneMappingExposure=this.params.exposure,this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.scene=new this.$THREE.Scene,this.scene.background=this.hdrEquirect,this.camera=new this.$THREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,2e3),this.camera.position.set(0,0,120);var t=new this.$THREE.PMREMGenerator(this.renderer);this.hdrCubeRenderTarget=t.fromEquirectangular(this.hdrEquirect),this.hdrEquirect.dispose(),t.dispose(),this.scene.background=this.hdrCubeRenderTarget.texture;var i=new this.$THREE.SphereBufferGeometry(20,64,32),a=new this.$THREE.CanvasTexture(this.generateTexture());a.magFilter=this.$THREE.NearestFilter,a.wrapT=this.$THREE.RepeatWrapping,a.wrapS=this.$THREE.RepeatWrapping,a.repeat.set(1,3.5);var r=new this.$THREE.MeshPhysicalMaterial({color:this.params.color,metalness:0,roughness:0,alphaMap:a,alphaTest:.5,envMap:this.hdrCubeRenderTarget.texture,envMapIntensity:this.params.envMapIntensity,depthWrite:!1,transmission:this.params.transmission,opacity:1,transparent:!0}),h=(new this.$THREE.MeshPhysicalMaterial).copy(r),o=(new this.$THREE.MeshPhysicalMaterial).copy(r);o.side=this.$THREE.BackSide;var d=(new this.$THREE.MeshPhysicalMaterial).copy(r);d.premultipliedAlpha=!0;var l=(new this.$THREE.MeshPhysicalMaterial).copy(r);l.premultipliedAlpha=!0,l.side=this.$THREE.BackSide,this.mesh1=new this.$THREE.Mesh(i,h),this.mesh1.position.x=-30,this.scene.add(this.mesh1);var c=new this.$THREE.Mesh(i,o);c.renderOrder=-1,this.mesh1.add(c),this.mesh2=new this.$THREE.Mesh(i,d),this.mesh2.position.x=30,this.scene.add(this.mesh2),(c=new this.$THREE.Mesh(i,l)).renderOrder=-1,this.mesh2.add(c);var p=new this.$THREE.SpotLight(16777215,this.params.lightIntensity);p.position.set(100,200,100),p.angle=Math.PI/6,this.scene.add(p);var m=new this.$THREE.SpotLight(16777215,this.params.lightIntensity);m.position.set(-100,-200,-100),m.angle=Math.PI/6,this.scene.add(m),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom);var u=new n.a(this.camera,this.renderer.domElement);u.minDistance=10,u.maxDistance=150,window.addEventListener("resize",this.onWindowResize,!1),this.gui=new s.a,this.gui.addColor(this.params,"color").onChange(function(){h.color.set(e.params.color),d.color.set(e.params.color),o.color.set(e.params.color),l.color.set(e.params.color)}),this.gui.add(this.params,"transmission",0,1).onChange(function(){h.transmission=d.transmission=e.params.transmission,o.transmission=l.transmission=e.params.transmission}),this.gui.add(this.params,"envMapIntensity",0,1).name("envMap intensity").onChange(function(){h.envMapIntensity=d.envMapIntensity=e.params.envMapIntensity,o.envMapIntensity=l.envMapIntensity=e.params.envMapIntensity}),this.gui.add(this.params,"lightIntensity",0,1).name("light intensity").onChange(function(){p.intensity=m.intensity=e.params.lightIntensity}),this.gui.add(this.params,"exposure",0,1).onChange(function(){e.renderer.toneMappingExposure=e.params.exposure}),this.gui.open()},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},generateTexture:function(){var e=document.createElement("canvas");e.width=2,e.height=2;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,1,2,1),e},animate:function(){requestAnimationFrame(this.animate);var e=performance.now();this.mesh1.rotation.x=this.mesh2.rotation.x=2e-4*e,this.mesh1.rotation.z=this.mesh2.rotation.z=2e-4*-e,this.stats.begin(),this.renderer.render(this.scene,this.camera),this.stats.end()}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMaterialsPhysicalTransmission-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("threejs")]),this._v(" - Transmission with Premultiplied Alpha (right) and without (left)")])])}]};var o=i("VU/8")(r,h,!1,function(e){i("ctwk")},"data-v-cbfcedda",null);t.default=o.exports}});
//# sourceMappingURL=35.99cab1ce7e58c07a78e7.js.map