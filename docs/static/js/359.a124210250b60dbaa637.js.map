{"version":3,"sources":["webpack:///src/views/performance/webglPerformanceNodes.vue","webpack:///./src/views/performance/webglPerformanceNodes.vue?f34b","webpack:///./src/views/performance/webglPerformanceNodes.vue"],"names":["webglPerformanceNodes","data","stats","camera","scene","renderer","geometry","mouseX","mouseY","windowHalfX","windowHalfY","meshes","mounted","_this","this","$webglInnerWidth","window","innerHeight","document","addEventListener","onDocumentMouseMove","init","animate","getElementById","benchmark","methods","createScene","MaterialClass","count","undefined","i","length","material","dispose","remove","color","Math","random","isNode","value","setHex","defines","UUID","uuid","mesh","$THREE","Mesh","position","x","y","z","rotation","PI","scale","matrixAutoUpdate","updateMatrix","add","push","time","benchmarkTime","MeshStandardMaterial","render","performance","now","Nodes","textContent","toFixed","_this2","container","createElement","getElementsByClassName","appendChild","PerspectiveCamera","Scene","PointLight","BufferGeometryLoader","load","geo","computeVertexNormals","WebGLRenderer","setPixelRatio","devicePixelRatio","setSize","domElement","$Stats","dom","style","left","onWindowResize","innerWidth","$onWindowResize","event","clientX","clientY","requestAnimationFrame","update","lookAt","performance_webglPerformanceNodes","$createElement","_self","_c","_m","staticRenderFns","_vm","_h","staticClass","attrs","id","href","target","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/359.a124210250b60dbaa637.js","sourcesContent":["<template>\r\n    <div class=\"webglPerformanceNodes-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\">three.js</a><span class=\"white\"> - NodeMaterial Performance</span><br />\r\n\t\t\t<br>\r\n\t\t\t<b>Node Material System</b>\r\n\t\t\t<br>\r\n\t\t\t<div>\r\n\t\t\t\tStandard<b>Node</b>Material |\r\n\t\t\t\t<span id=\"node\" class=\"white\">None</span>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tMeshStandard<b>Node</b>Material |\r\n\t\t\t\t<span id=\"nodeBased\" class=\"white\">None</span>\r\n\t\t\t</div>\r\n\t\t\t<br>\r\n\t\t\t<b>Current Material System</b>\r\n\t\t\t<br>\r\n\t\t\t<div>\r\n\t\t\t\tMeshStandardMaterial |\r\n\t\t\t\t<span id=\"default\" class=\"white\">None</span>\r\n\t\t\t</div>\r\n\t\t\t<br>\r\n\t\t\t<a id=\"startButton\" href=\"javascript:void(0);\">Click to benchmark</a>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    StandardNodeMaterial,\r\n    MeshStandardNodeMaterial\r\n} from '@/components/jsm/nodes/Nodes.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            stats: null,\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n\t\t\tgeometry: null,\r\n            mouseX: 0,\r\n            mouseY: 0,\r\n\t\t\twindowHalfX: null,\r\n\t\t\twindowHalfY: null,\r\n\t\t\tmeshes: [],\r\n        }\r\n    },\r\n    mounted() {\r\n        this.windowHalfX = this.$webglInnerWidth / 2\r\n        this.windowHalfY = window.innerHeight / 2\r\n        document.addEventListener('mousemove', this.onDocumentMouseMove, false)\r\n        this.init()\r\n        this.animate()\r\n        document.getElementById('startButton').addEventListener('click', () => {\r\n            if (this.geometry) {\r\n                this.benchmark()\r\n            }\r\n        })\r\n    },\r\n    methods: {\r\n        createScene(MaterialClass, count) {\r\n            count = count !== undefined ? count : 70\r\n            var i = 0\r\n            for (i = 0; i < this.meshes.length; i ++) {\r\n                this.meshes[ i ].material.dispose()\r\n                this.scene.remove(this.meshes[ i ])\r\n            }\r\n            this.meshes.length = 0\r\n            for (i = 0; i < count; i ++) {\r\n                var material = new MaterialClass(),\r\n                    color = 0xFFFFFF * Math.random()\r\n                if (material.color.isNode) material.color.value.setHex(color)\r\n                else material.color.setHex(color)\r\n                // prevent share code\r\n                material.defines.UUID = material.uuid\r\n                var mesh = new this.$THREE.Mesh(this.geometry, material)\r\n                mesh.position.x = Math.random() * 1000 - 500\r\n                mesh.position.y = Math.random() * 1000 - 500\r\n                mesh.position.z = Math.random() * 1000 - 500\r\n                mesh.rotation.x = Math.random() * 2 * Math.PI\r\n                mesh.rotation.y = Math.random() * 2 * Math.PI\r\n                mesh.scale.x = mesh.scale.y = mesh.scale.z = Math.random() * 50 + 100\r\n                mesh.matrixAutoUpdate = false\r\n                mesh.updateMatrix()\r\n                this.scene.add(mesh)\r\n                this.meshes.push(mesh)\r\n            }\r\n        },\r\n        benchmark() {\r\n            var time, benchmarkTime\r\n            // Stabilizes CPU\r\n            this.createScene(this.$THREE.MeshStandardMaterial, 10)\r\n            this.render()\r\n            // Standard *Node* Material\r\n            time = performance.now()\r\n            this.createScene(StandardNodeMaterial)\r\n            this.render()\r\n            benchmarkTime = (performance.now() - time) / 1000\r\n            document.getElementById('node').textContent = benchmarkTime.toFixed(3) + \" seconds\"\r\n            // Mesh Standard *Node* Material\r\n            time = performance.now()\r\n            this.createScene(MeshStandardNodeMaterial)\r\n            this.render()\r\n            benchmarkTime = (performance.now() - time) / 1000\r\n            document.getElementById('nodeBased').textContent = benchmarkTime.toFixed(3) + \" seconds\"\r\n            // Mesh Standard Material\r\n            time = performance.now()\r\n            this.createScene(this.$THREE.MeshStandardMaterial)\r\n            this.render()\r\n            benchmarkTime = (performance.now() - time) / 1000\r\n            document.getElementById('default').textContent = benchmarkTime.toFixed(3) + \" seconds\"\r\n        },\r\n        init() {\r\n            var container = document.createElement('div')\r\n            document.getElementsByClassName('webglPerformanceNodes-container')[0].appendChild(container)\r\n            this.camera = new this.$THREE.PerspectiveCamera(60, this.$webglInnerWidth / window.innerHeight, 1, 10000)\r\n            this.camera.position.z = 1800\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.add(new this.$THREE.PointLight(0xFFFFFF))\r\n            //this.scene.background = new this.$THREE.Color(0xffffff)\r\n            var loader = new this.$THREE.BufferGeometryLoader()\r\n            loader.load('static/models/json/suzanne_buffergeometry.json', (geo) => {\r\n                geo.computeVertexNormals()\r\n                this.geometry = geo\r\n            })\r\n            this.renderer = new this.$THREE.WebGLRenderer()\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            container.appendChild(this.renderer.domElement)\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            container.appendChild(this.stats.dom)\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            this.windowHalfX = (window.innerWidth - 281) / 2\r\n            this.windowHalfY = window.innerHeight / 2\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        onDocumentMouseMove(event) {\r\n            this.mouseX = (event.clientX - this.windowHalfX) * 10\r\n            this.mouseY = (event.clientY - this.windowHalfY) * 10\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.render()\r\n            this.stats.update()\r\n        },\r\n        render() {\r\n            this.camera.position.x += (this.mouseX - this.camera.position.x) * .05\r\n            this.camera.position.y += (- this.mouseY - this.camera.position.y) * .05\r\n            this.camera.lookAt(this.scene.position)\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglPerformanceNodes-container {\r\n    width: 100%;\r\n}\r\n#info {\r\n    margin-left: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/performance/webglPerformanceNodes.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglPerformanceNodes-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\"}},[_vm._v(\"three.js\")]),_c('span',{staticClass:\"white\"},[_vm._v(\" - NodeMaterial Performance\")]),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('b',[_vm._v(\"Node Material System\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',[_vm._v(\"\\n\\t\\t\\t\\tStandard\"),_c('b',[_vm._v(\"Node\")]),_vm._v(\"Material |\\n\\t\\t\\t\\t\"),_c('span',{staticClass:\"white\",attrs:{\"id\":\"node\"}},[_vm._v(\"None\")])]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n\\t\\t\\t\\tMeshStandard\"),_c('b',[_vm._v(\"Node\")]),_vm._v(\"Material |\\n\\t\\t\\t\\t\"),_c('span',{staticClass:\"white\",attrs:{\"id\":\"nodeBased\"}},[_vm._v(\"None\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('b',[_vm._v(\"Current Material System\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',[_vm._v(\"\\n\\t\\t\\t\\tMeshStandardMaterial |\\n\\t\\t\\t\\t\"),_c('span',{staticClass:\"white\",attrs:{\"id\":\"default\"}},[_vm._v(\"None\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('a',{attrs:{\"id\":\"startButton\",\"href\":\"javascript:void(0);\"}},[_vm._v(\"Click to benchmark\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01d7553f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/performance/webglPerformanceNodes.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01d7553f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglPerformanceNodes.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglPerformanceNodes.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglPerformanceNodes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01d7553f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglPerformanceNodes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-01d7553f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/performance/webglPerformanceNodes.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}