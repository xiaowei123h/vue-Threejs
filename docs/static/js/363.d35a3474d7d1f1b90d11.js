webpackJsonp([363],{"85O7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("Y95o"),s={data:function(){return{camera:null,scene:null,renderer:null,attractor:null,light:null,x:15*Math.random(),y:15*Math.random(),z:15*Math.random(),scale:.02,speed:5,steps:1e5,current:1,shown:1e4,beta:8/3,rho:28,sigma:10,dt:.005}},mounted:function(){this.init(),this.animate()},methods:{draw:function(){var t=this.attractor.geometry;if(t.attributes.position.array.copyWithin(3),t.attributes.color.array.copyWithin(3),this.current<this.steps){var e=this.sigma*(this.y-this.x)*this.dt,i=(this.x*(this.rho-this.z)-this.y)*this.dt,r=(this.x*this.y-this.beta*this.z)*this.dt;this.x+=e,this.y+=i,this.z+=r,t.attributes.position.set([this.scale*this.x,this.scale*this.y,this.scale*this.z],0),this.light.color.setHSL(this.current/this.steps,1,.5),t.attributes.color.set(this.light.color.toArray(),0)}this.current<this.steps+this.shown?this.current++:this.current=0},init:function(){this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,.1,10),this.camera.position.set(0,1.6,1);for(var t=new this.$THREE.BufferGeometry,e=new Float32Array(3*this.shown),i=0;i<e.length;i+=3)e.set([this.scale*this.x,this.scale*this.y,this.scale*this.z],i);t.setAttribute("position",new this.$THREE.BufferAttribute(e,3));var s=new Float32Array(3*this.shown);for(i=0;i<e.length;i+=3)s.set([1,0,0],i);t.setAttribute("color",new this.$THREE.BufferAttribute(s,3));var n=new this.$THREE.LineBasicMaterial({vertexColors:!0});this.attractor=new this.$THREE.Line(t,n),this.attractor.position.set(0,1.5,-2),this.attractor.frustumCulled=!1,this.scene.add(this.attractor),this.light=new this.$THREE.PointLight(16777215,1),this.light.distance=2,this.attractor.add(this.light);var a=new this.$THREE.Mesh(new this.$THREE.PlaneBufferGeometry(10,10),new this.$THREE.MeshPhongMaterial);if(a.geometry.rotateX(-90*Math.PI/180),this.scene.add(a),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.xr.enabled=!0,document.getElementsByClassName("webxrVrLorenzattractor-container")[0].appendChild(this.renderer.domElement),document.getElementsByClassName("webxrVrLorenzattractor-container")[0].appendChild(r.a.createButton(this.renderer)),window.addEventListener("resize",this.onWindowResize,!1),"undefined"!=typeof TESTING)for(i=0;i<200;i++)render()},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){this.renderer.setAnimationLoop(this.render)},render:function(){for(var t=0;t<this.speed;t++)this.draw();this.attractor.geometry.attributes.position.needsUpdate=!0,this.attractor.geometry.attributes.color.needsUpdate=!0,this.attractor.rotation.z+=.001,this.renderer.render(this.scene,this.camera)}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"webxrVrLorenzattractor-container"})},staticRenderFns:[]};var a=i("VU/8")(s,n,!1,function(t){i("VnMN")},"data-v-00477977",null);e.default=a.exports},VnMN:function(t,e){}});
//# sourceMappingURL=363.d35a3474d7d1f1b90d11.js.map