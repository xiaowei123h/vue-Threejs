{"version":3,"sources":["webpack:///src/views/materials/webglMaterialsDisplacementmap.vue","webpack:///./src/views/materials/webglMaterialsDisplacementmap.vue?b77b","webpack:///./src/views/materials/webglMaterialsDisplacementmap.vue"],"names":["webglMaterialsDisplacementmap","data","stats","camera","scene","renderer","controls","settings","metalness","roughness","ambientIntensity","aoMapIntensity","envMapIntensity","displacementScale","normalScale","mesh","material","pointLight","ambientLight","height","r","gui","mounted","this","init","animate","initGui","beforeDestroy","destroy","methods","_this","dat_gui_module","add","min","max","onChange","value","intensity","set","multiplyScalar","_this2","container","document","createElement","getElementsByClassName","appendChild","$THREE","WebGLRenderer","setPixelRatio","window","devicePixelRatio","setSize","$webglInnerWidth","innerHeight","domElement","outputEncoding","sRGBEncoding","Scene","aspect","OrthographicCamera","position","z","OrbitControls","enableZoom","enableDamping","AmbientLight","PointLight","pointLight2","pointLight3","x","path","urls","reflectionCube","CubeTextureLoader","load","encoding","textureLoader","TextureLoader","normalMap","aoMap","displacementMap","MeshStandardMaterial","color","Vector2","displacementBias","envMap","side","DoubleSide","OBJLoader","group","geometry","children","attributes","uv2","uv","center","Mesh","scale","$Stats","dom","style","left","addEventListener","onWindowResize","innerWidth","right","top","bottom","updateProjectionMatrix","requestAnimationFrame","update","begin","render","end","Math","cos","sin","materials_webglMaterialsDisplacementmap","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.7e59515916fab86597aa.js","sourcesContent":["<template>\r\n    <div class=\"webglMaterialsDisplacementmap-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - (normal + ao + displacement + environment) map demo.<br />\r\n\t\t\tninja head from <a href=\"https://gpuopen.com/archive/gamescgi/amd-gpu-meshmapper/\" target=\"_blank\" rel=\"noopener\">AMD GPU MeshMapper</a>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { GUI } from '@/components/jsm/libs/dat.gui.module.js'\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nimport { OBJLoader } from '@/components/jsm/loaders/OBJLoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            stats: null,\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n            controls: null,\r\n\t\t\tsettings: {\r\n\t\t\t\tmetalness: 1.0,\r\n\t\t\t\troughness: 0.4,\r\n\t\t\t\tambientIntensity: 0.2,\r\n\t\t\t\taoMapIntensity: 1.0,\r\n\t\t\t\tenvMapIntensity: 1.0,\r\n\t\t\t\tdisplacementScale: 2.436143, // from original model\r\n\t\t\t\tnormalScale: 1.0\r\n\t\t\t},\r\n            mesh: null,\r\n            material: null,\r\n            pointLight: null,\r\n            ambientLight: null,\r\n\t\t\theight: 500, // of camera frustum\r\n            r: 0.0,\r\n            gui: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init()\r\n        this.animate()\r\n        this.initGui()\r\n    },\r\n    beforeDestroy() {\r\n        this.gui.destroy()\r\n    },\r\n    methods: {\r\n        initGui() {\r\n            this.gui = new GUI()\r\n            //let gui = gui.addFolder(\"Material\")\r\n            this.gui.add(this.settings, \"metalness\").min(0).max(1).onChange((value) => {\r\n                this.material.metalness = value\r\n            })\r\n            this.gui.add(this.settings, \"roughness\").min(0).max(1).onChange((value) => {\r\n                this.material.roughness = value\r\n            })\r\n            this.gui.add(this.settings, \"aoMapIntensity\").min(0).max(1).onChange((value) => {\r\n                this.material.aoMapIntensity = value\r\n            })\r\n            this.gui.add(this.settings, \"ambientIntensity\").min(0).max(1).onChange((value) => {\r\n                this.ambientLight.intensity = value\r\n            })\r\n            this.gui.add(this.settings, \"envMapIntensity\").min(0).max(3).onChange((value) => {\r\n                this.material.envMapIntensity = value\r\n            })\r\n            this.gui.add(this.settings, \"displacementScale\").min(0).max(3.0).onChange((value) => {\r\n                this.material.displacementScale = value\r\n            })\r\n            this.gui.add(this.settings, \"normalScale\").min(- 1).max(1).onChange((value) => {\r\n                this.material.normalScale.set(1, - 1).multiplyScalar(value)\r\n            })\r\n        },\r\n        init() {\r\n            var container = document.createElement('div')\r\n            document.getElementsByClassName('webglMaterialsDisplacementmap-container')[0].appendChild(container)\r\n            this.renderer = new this.$THREE.WebGLRenderer()\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            container.appendChild(this.renderer.domElement)\r\n            this.renderer.outputEncoding = this.$THREE.sRGBEncoding\r\n            //\r\n            this.scene = new this.$THREE.Scene()\r\n            var aspect = this.$webglInnerWidth / window.innerHeight\r\n            this.camera = new this.$THREE.OrthographicCamera(- this.height * aspect, this.height * aspect, this.height, - this.height, 1, 10000)\r\n            this.camera.position.z = 1500\r\n            this.scene.add(this.camera)\r\n            this.controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n            this.controls.enableZoom = false\r\n            this.controls.enableDamping = true\r\n            // lights\r\n            this.ambientLight = new this.$THREE.AmbientLight(0xffffff, this.settings.ambientIntensity)\r\n            this.scene.add(this.ambientLight)\r\n            this.pointLight = new this.$THREE.PointLight(0xff0000, 0.5)\r\n            this.pointLight.position.z = 2500\r\n            this.scene.add(this.pointLight)\r\n            var pointLight2 = new this.$THREE.PointLight(0xff6666, 1)\r\n            this.camera.add(pointLight2)\r\n            var pointLight3 = new this.$THREE.PointLight(0x0000ff, 0.5)\r\n            pointLight3.position.x = - 1000\r\n            pointLight3.position.z = 1000\r\n            this.scene.add(pointLight3)\r\n            // env map\r\n            var path = \"static/textures/cube/SwedishRoyalCastle/\"\r\n            var format = '.jpg'\r\n            var urls = [\r\n                path + 'px' + format, path + 'nx' + format,\r\n                path + 'py' + format, path + 'ny' + format,\r\n                path + 'pz' + format, path + 'nz' + format\r\n            ]\r\n            var reflectionCube = new this.$THREE.CubeTextureLoader().load(urls)\r\n            reflectionCube.encoding = this.$THREE.sRGBEncoding\r\n            // textures\r\n            var textureLoader = new this.$THREE.TextureLoader()\r\n            var normalMap = textureLoader.load(\"static/models/obj/ninja/normal.png\")\r\n            var aoMap = textureLoader.load(\"static/models/obj/ninja/ao.jpg\")\r\n            var displacementMap = textureLoader.load(\"static/models/obj/ninja/displacement.jpg\")\r\n            // material\r\n            this.material = new this.$THREE.MeshStandardMaterial({\r\n                color: 0x888888,\r\n                roughness: this.settings.roughness,\r\n                metalness: this.settings.metalness,\r\n                normalMap: normalMap,\r\n                normalScale: new this.$THREE.Vector2(1, - 1), // why does the normal map require negation in this case?\r\n                aoMap: aoMap,\r\n                aoMapIntensity: 1,\r\n                displacementMap: displacementMap,\r\n                displacementScale: this.settings.displacementScale,\r\n                displacementBias: - 0.428408, // from original model\r\n                envMap: reflectionCube,\r\n                envMapIntensity: this.settings.envMapIntensity,\r\n                side: this.$THREE.DoubleSide\r\n            })\r\n            //\r\n            var loader = new OBJLoader()\r\n            loader.load(\"static/models/obj/ninja/ninjaHead_Low.obj\", (group) => {\r\n                var geometry = group.children[ 0 ].geometry\r\n                geometry.attributes.uv2 = geometry.attributes.uv\r\n                geometry.center()\r\n                this.mesh = new this.$THREE.Mesh(geometry, this.material)\r\n                this.mesh.scale.multiplyScalar(25)\r\n                this.scene.add(this.mesh)\r\n            })\r\n            //\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            container.appendChild(this.stats.dom)\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            var aspect = (window.innerWidth - 281 )/ window.innerHeight\r\n            this.camera.left = - height * aspect\r\n            this.camera.right = height * aspect\r\n            this.camera.top = height\r\n            this.camera.bottom = - height\r\n            this.camera.updateProjectionMatrix()\r\n            this.renderer.setSize(window.innerWidth - 281, window.innerHeight)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.controls.update()\r\n            this.stats.begin()\r\n            this.render()\r\n            this.stats.end()\r\n        },\r\n        render() {\r\n            this.pointLight.position.x = 2500 * Math.cos(this.r)\r\n            this.pointLight.position.z = 2500 * Math.sin(this.r)\r\n            this.r += 0.01\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglMaterialsDisplacementmap-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/materials/webglMaterialsDisplacementmap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglMaterialsDisplacementmap-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - (normal + ao + displacement + environment) map demo.\"),_c('br'),_vm._v(\"\\n\\t\\t\\tninja head from \"),_c('a',{attrs:{\"href\":\"https://gpuopen.com/archive/gamescgi/amd-gpu-meshmapper/\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"AMD GPU MeshMapper\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-de049be2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/materials/webglMaterialsDisplacementmap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-de049be2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglMaterialsDisplacementmap.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglMaterialsDisplacementmap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglMaterialsDisplacementmap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-de049be2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglMaterialsDisplacementmap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-de049be2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/materials/webglMaterialsDisplacementmap.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}