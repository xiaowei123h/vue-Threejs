{"version":3,"sources":["webpack:///src/views/shadowmap/webglShadowmapPointlight.vue","webpack:///./src/views/shadowmap/webglShadowmapPointlight.vue?a3a4","webpack:///./src/views/shadowmap/webglShadowmapPointlight.vue"],"names":["webglShadowmapPointlight","data","camera","scene","renderer","stats","pointLight","pointLight2","mounted","this","init","animate","methods","$THREE","PerspectiveCamera","$webglInnerWidth","window","innerHeight","position","set","Scene","add","AmbientLight","that","createLight","color","light","PointLight","castShadow","shadow","near","far","bias","geometry","SphereBufferGeometry","material","MeshBasicMaterial","multiplyScalar","sphere","Mesh","texture","CanvasTexture","generateTexture","magFilter","NearestFilter","wrapT","RepeatWrapping","wrapS","repeat","MeshPhongMaterial","side","DoubleSide","alphaMap","alphaTest","receiveShadow","distanceMaterial","MeshDistanceMaterial","customDistanceMaterial","BoxBufferGeometry","shininess","specular","BackSide","mesh","y","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","shadowMap","enabled","type","BasicShadowMap","document","getElementsByClassName","appendChild","domElement","controls","OrbitControls","target","update","$Stats","dom","style","left","addEventListener","onWindowResize","$onWindowResize","canvas","createElement","width","height","context","getContext","fillStyle","fillRect","requestAnimationFrame","render","time","performance","now","x","Math","sin","z","rotation","shadowmap_webglShadowmapPointlight","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/53.f2d6a4124ad8ec4bf82b.js","sourcesContent":["<template>\r\n    <div class=\"webglShadowmapPointlight-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - this.$THREE.PointLight ShadowMap by <a href=\"https://github.com/mkkellogg\">mkkellogg</a>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { OrbitControls } from '@/components/jsm/controls/OrbitControls.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n            stats: null,\r\n            pointLight: null,\r\n            pointLight2: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init()\r\n\t\tthis.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.camera = new this.$THREE.PerspectiveCamera(45, this.$webglInnerWidth / window.innerHeight, 1, 1000)\r\n            this.camera.position.set(0, 10, 40)\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.add(new this.$THREE.AmbientLight(0x111122))\r\n            // lights\r\n            var that = this\r\n            function createLight(color) {\r\n                var intensity = 1.5\r\n                var light = new that.$THREE.PointLight(color, intensity, 20)\r\n                light.castShadow = true\r\n                light.shadow.camera.near = 1\r\n                light.shadow.camera.far = 60\r\n                light.shadow.bias = - 0.005 // reduces self-shadowing on double-sided objects\r\n                var geometry = new that.$THREE.SphereBufferGeometry(0.3, 12, 6)\r\n                var material = new that.$THREE.MeshBasicMaterial({ color: color })\r\n                material.color.multiplyScalar(intensity)\r\n                var sphere = new that.$THREE.Mesh(geometry, material)\r\n                light.add(sphere)\r\n                var texture = new that.$THREE.CanvasTexture(that.generateTexture())\r\n                texture.magFilter = that.$THREE.NearestFilter\r\n                texture.wrapT = that.$THREE.RepeatWrapping\r\n                texture.wrapS = that.$THREE.RepeatWrapping\r\n                texture.repeat.set(1, 4.5)\r\n                geometry = new that.$THREE.SphereBufferGeometry(2, 32, 8)\r\n                material = new that.$THREE.MeshPhongMaterial({\r\n                    side: that.$THREE.DoubleSide,\r\n                    alphaMap: texture,\r\n                    alphaTest: 0.5\r\n                })\r\n                sphere = new that.$THREE.Mesh(geometry, material)\r\n                sphere.castShadow = true\r\n                sphere.receiveShadow = true\r\n                light.add(sphere)\r\n                // custom distance material\r\n                var distanceMaterial = new that.$THREE.MeshDistanceMaterial({\r\n                    alphaMap: material.alphaMap,\r\n                    alphaTest: material.alphaTest\r\n                })\r\n                sphere.customDistanceMaterial = distanceMaterial\r\n                return light\r\n            }\r\n            this.pointLight = createLight(0x0088ff)\r\n            this.scene.add(this.pointLight)\r\n            this.pointLight2 = createLight(0xff8888)\r\n            this.scene.add(this.pointLight2)\r\n            //\r\n            var geometry = new this.$THREE.BoxBufferGeometry(30, 30, 30)\r\n            var material = new this.$THREE.MeshPhongMaterial({\r\n                color: 0xa0adaf,\r\n                shininess: 10,\r\n                specular: 0x111111,\r\n                side: this.$THREE.BackSide\r\n            })\r\n            var mesh = new this.$THREE.Mesh(geometry, material)\r\n            mesh.position.y = 10\r\n            mesh.receiveShadow = true\r\n            this.scene.add(mesh)\r\n            //\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            this.renderer.shadowMap.enabled = true\r\n            this.renderer.shadowMap.type = this.$THREE.BasicShadowMap\r\n            document.getElementsByClassName('webglShadowmapPointlight-container')[0].appendChild(this.renderer.domElement)\r\n            var controls = new OrbitControls(this.camera, this.renderer.domElement)\r\n            controls.target.set(0, 10, 0)\r\n            controls.update()\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            document.getElementsByClassName('webglShadowmapPointlight-container')[0].appendChild(this.stats.dom)\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        generateTexture() {\r\n            var canvas = document.createElement('canvas')\r\n            canvas.width = 2\r\n            canvas.height = 2\r\n            var context = canvas.getContext('2d')\r\n            context.fillStyle = 'white'\r\n            context.fillRect(0, 1, 2, 1)\r\n            return canvas\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.render()\r\n        },\r\n        render() {\r\n            var time = performance.now() * 0.001\r\n            this.pointLight.position.x = Math.sin(time * 0.6) * 9\r\n            this.pointLight.position.y = Math.sin(time * 0.7) * 9 + 6\r\n            this.pointLight.position.z = Math.sin(time * 0.8) * 9\r\n            this.pointLight.rotation.x = time\r\n            this.pointLight.rotation.z = time\r\n            time += 10000\r\n            this.pointLight2.position.x = Math.sin(time * 0.6) * 9\r\n            this.pointLight2.position.y = Math.sin(time * 0.7) * 9 + 6\r\n            this.pointLight2.position.z = Math.sin(time * 0.8) * 9\r\n            this.pointLight2.rotation.x = time\r\n            this.pointLight2.rotation.z = time\r\n            this.renderer.render(this.scene, this.camera)\r\n            this.stats.update()\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglShadowmapPointlight-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/shadowmap/webglShadowmapPointlight.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglShadowmapPointlight-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - this.$THREE.PointLight ShadowMap by \"),_c('a',{attrs:{\"href\":\"https://github.com/mkkellogg\"}},[_vm._v(\"mkkellogg\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e109a2e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/shadowmap/webglShadowmapPointlight.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e109a2e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglShadowmapPointlight.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglShadowmapPointlight.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglShadowmapPointlight.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e109a2e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglShadowmapPointlight.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e109a2e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shadowmap/webglShadowmapPointlight.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}