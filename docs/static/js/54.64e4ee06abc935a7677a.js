webpackJsonp([54],{"+hj4":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{vertexshader:null,fragmentshader:null,renderer:null,scene:null,camera:null,stats:null,object:null,vertices1:null,WIDTH:null,HEIGHT:null}},mounted:function(){this.vertexshader="\n            attribute float size;\n\t\t\tattribute vec4 ca;\n\t\t\tvarying vec4 vColor;\n\t\t\tvoid main() {\n\t\t\t\tvColor = ca;\n\t\t\t\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\t\t\tgl_PointSize = size * (150.0 / -mvPosition.z);\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t\t}",this.fragmentshader="\n            uniform vec3 color;\n\t\t\tuniform sampler2D pointTexture;\n\n\t\t\tvarying vec4 vColor;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec4 outColor = texture2D( pointTexture, gl_PointCoord );\n\n\t\t\t\tif ( outColor.a < 0.5 ) discard;\n\n\t\t\t\tgl_FragColor = outColor * vec4( color * vColor.xyz, 1.0 );\n\n\t\t\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t\t\t\tconst vec3 fogColor = vec3( 0.0 );\n\n\t\t\t\tfloat fogFactor = smoothstep( 200.0, 600.0, depth );\n\t\t\t\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n\t\t\t}",this.WIDTH=this.$webglInnerWidth,this.HEIGHT=window.innerHeight,this.init(),this.animate()},methods:{init:function(){this.camera=new this.$THREE.PerspectiveCamera(40,this.WIDTH/this.HEIGHT,1,1e4),this.camera.position.z=500,this.scene=new this.$THREE.Scene;for(var t=100,e=.6*t,r=[],i=0;i<1e5;i++){(f=new this.$THREE.Vector3).x=2*Math.random()-1,f.y=2*Math.random()-1,f.z=2*Math.random()-1,f.multiplyScalar(t),(f.x>e||f.x<-e||f.y>e||f.y<-e||f.z>e||f.z<-e)&&r.push(f)}this.vertices1=r.length,t=200;var n=new this.$THREE.BoxGeometry(t,.1*t,.1*t,50,5,5),s=new this.$THREE.Matrix4,o=new this.$THREE.Vector3,a=new this.$THREE.Euler,h=new this.$THREE.Quaternion,l=new this.$THREE.Vector3(1,1,1);function c(t,e,i,n,c){o.set(e,i,n),a.set(0,c,0),s.compose(o,h.setFromEuler(a),l);for(var d=0,u=t.vertices.length;d<u;d++){var v=t.vertices[d];r.push(v.clone().applyMatrix4(s))}}c(n,0,110,110,0),c(n,0,110,-110,0),c(n,0,-110,110,0),c(n,0,-110,-110,0),c(n,110,110,0,Math.PI/2),c(n,110,-110,0,Math.PI/2),c(n,-110,110,0,Math.PI/2),c(n,-110,-110,0,Math.PI/2);var d=new this.$THREE.BoxGeometry(.1*t,1.2*t,.1*t,5,60,5);c(d,110,0,110,0),c(d,110,0,-110,0),c(d,-110,0,110,0),c(d,-110,0,-110,0);var u=new Float32Array(3*r.length),v=new Float32Array(3*r.length),m=new Float32Array(r.length),E=new this.$THREE.Color;for(i=0;i<r.length;i++){var f;(f=r[i]).toArray(u,3*i),i<this.vertices1?E.setHSL(.5+i/this.vertices1*.2,1,.5):E.setHSL(.1,1,.5),E.toArray(v,3*i),m[i]=i<this.vertices1?10:40}var p=new this.$THREE.BufferGeometry;p.setAttribute("position",new this.$THREE.BufferAttribute(u,3)),p.setAttribute("size",new this.$THREE.BufferAttribute(m,1)),p.setAttribute("ca",new this.$THREE.BufferAttribute(v,3));var g=(new this.$THREE.TextureLoader).load("static/textures/sprites/disc.png");g.wrapS=this.$THREE.RepeatWrapping,g.wrapT=this.$THREE.RepeatWrapping;var w=new this.$THREE.ShaderMaterial({uniforms:{amplitude:{value:1},color:{value:new this.$THREE.Color(16777215)},pointTexture:{value:g}},vertexShader:this.vertexshader,fragmentShader:this.fragmentshader});this.object=new this.$THREE.Points(p,w),this.scene.add(this.object),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.WIDTH,this.HEIGHT);var H=document.getElementById("container");H.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",H.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){var t=.01*Date.now();this.object.rotation.y=this.object.rotation.z=.02*t;for(var e=this.object.geometry.attributes,r=0;r<e.size.array.length;r++)r<this.vertices1&&(e.size.array[r]=Math.max(0,26+32*Math.sin(.1*r+.6*t)));e.size.needsUpdate=!0,this.renderer.render(this.scene,this.camera)}}},n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglCustomAttributesPoints2-container"},[e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - custom attributes example - billboards - alphatest")]),this._v(" "),e("div",{attrs:{id:"container"}})])}]};var s=r("VU/8")(i,n,!1,function(t){r("v7mu")},"data-v-98ac580c",null);e.default=s.exports},v7mu:function(t,e){}});
//# sourceMappingURL=54.64e4ee06abc935a7677a.js.map