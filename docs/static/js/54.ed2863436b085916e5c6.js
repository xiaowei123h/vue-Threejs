webpackJsonp([54],{PHh9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{camera:null,scene:null,renderer:null,plane:null,mouse:null,raycaster:null,isShiftDown:!1,rollOverMesh:null,rollOverMaterial:null,cubeGeo:null,cubeMaterial:null,objects:[]}},mounted:function(){this.init(),this.render()},methods:{init:function(){this.camera=new this.$THREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,1,1e4),this.camera.position.set(500,800,1300),this.camera.lookAt(0,0,0),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(15790320);var e=new this.$THREE.BoxBufferGeometry(50,50,50);this.rollOverMaterial=new this.$THREE.MeshBasicMaterial({color:16711680,opacity:.5,transparent:!0}),this.rollOverMesh=new this.$THREE.Mesh(e,this.rollOverMaterial),this.scene.add(this.rollOverMesh),this.cubeGeo=new this.$THREE.BoxBufferGeometry(50,50,50),this.cubeMaterial=new this.$THREE.MeshLambertMaterial({color:16693068,map:(new this.$THREE.TextureLoader).load("textures/square-outline-textured.png")});var t=new this.$THREE.GridHelper(1e3,20);this.scene.add(t),this.raycaster=new this.$THREE.Raycaster,this.mouse=new this.$THREE.Vector2;var i=new this.$THREE.PlaneBufferGeometry(1e3,1e3);i.rotateX(-Math.PI/2),this.plane=new this.$THREE.Mesh(i,new this.$THREE.MeshBasicMaterial({visible:!1})),this.scene.add(this.plane),this.objects.push(this.plane);var n=new this.$THREE.AmbientLight(6316128);this.scene.add(n);var s=new this.$THREE.DirectionalLight(16777215);s.position.set(1,.75,.5).normalize(),this.scene.add(s),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglInteractiveVoxelpainter-container")[0].appendChild(this.renderer.domElement),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),document.addEventListener("mousedown",this.onDocumentMouseDown,!1),document.addEventListener("keydown",this.onDocumentKeyDown,!1),document.addEventListener("keyup",this.onDocumentKeyUp,!1),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},onDocumentMouseMove:function(e){e.preventDefault(),this.mouse.set((e.clientX-281)/(window.innerWidth-281)*2-1,-e.clientY/window.innerHeight*2+1),this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.objects);if(t.length>0){var i=t[0];this.rollOverMesh.position.copy(i.point).add(i.face.normal),this.rollOverMesh.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25)}this.render()},onDocumentMouseDown:function(e){e.preventDefault(),this.mouse.set((e.clientX-281)/(window.innerWidth-281)*2-1,-e.clientY/window.innerHeight*2+1),this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.objects);if(t.length>0){var i=t[0];if(this.isShiftDown)i.object!==plane&&(this.scene.remove(i.object),this.objects.splice(this.objects.indexOf(i.object),1));else{var n=new this.$THREE.Mesh(this.cubeGeo,this.cubeMaterial);n.position.copy(i.point).add(i.face.normal),n.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25),this.scene.add(n),this.objects.push(n)}this.render()}},onDocumentKeyDown:function(e){switch(e.keyCode){case 16:this.isShiftDown=!0}},onDocumentKeyUp:function(e){switch(e.keyCode){case 16:this.isShiftDown=!1}},render:function(){this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglInteractiveVoxelpainter-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - voxel painter - webgl"),t("br"),this._v(" "),t("strong",[this._v("click")]),this._v(": add voxel, "),t("strong",[this._v("shift + click")]),this._v(": remove voxel\n\t\t")])])}]};var r=i("VU/8")(n,s,!1,function(e){i("voNL")},"data-v-7c7c6926",null);t.default=r.exports},voNL:function(e,t){}});
//# sourceMappingURL=54.ed2863436b085916e5c6.js.map