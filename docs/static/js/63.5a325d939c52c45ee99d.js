webpackJsonp([63],{jqBR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("wIBv"),a=i("6+nK"),r=function(e,t){t=t||{},this.enabled=!0;var i=void 0!==t.defaultThickness?t.defaultThickness:.003,n=(new a.p).fromArray(void 0!==t.defaultColor?t.defaultColor:[0,0,0]),r=void 0!==t.defaultAlpha?t.defaultAlpha:1,s=void 0!==t.defaultKeepAlive&&t.defaultKeepAlive,o={},l=60,d={},c={},u={outlineThickness:{value:i},outlineColor:{value:n},outlineAlpha:{value:r}},h=["#include <common>","#include <uv_pars_vertex>","#include <displacementmap_pars_vertex>","#include <fog_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","uniform float outlineThickness;","vec4 calculateOutline( vec4 pos, vec3 normal, vec4 skinned ) {","\tfloat thickness = outlineThickness;","\tconst float ratio = 1.0;","\tvec4 pos2 = projectionMatrix * modelViewMatrix * vec4( skinned.xyz + normal, 1.0 );","\tvec4 norm = normalize( pos - pos2 );","\treturn pos + norm * thickness * pos.w * ratio;","}","void main() {","\t#include <uv_vertex>","\t#include <beginnormal_vertex>","\t#include <morphnormal_vertex>","\t#include <skinbase_vertex>","\t#include <skinnormal_vertex>","\t#include <begin_vertex>","\t#include <morphtarget_vertex>","\t#include <skinning_vertex>","\t#include <displacementmap_vertex>","\t#include <project_vertex>","\tvec3 outlineNormal = - objectNormal;","\tgl_Position = calculateOutline( gl_Position, outlineNormal, vec4( transformed, 1.0 ) );","\t#include <logdepthbuf_vertex>","\t#include <clipping_planes_vertex>","\t#include <fog_vertex>","}"].join("\n"),p=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","uniform vec3 outlineColor;","uniform float outlineAlpha;","void main() {","\t#include <clipping_planes_fragment>","\t#include <logdepthbuf_fragment>","\tgl_FragColor = vec4( outlineColor, outlineAlpha );","\t#include <tonemapping_fragment>","\t#include <encodings_fragment>","\t#include <fog_fragment>","\t#include <premultiplied_alpha_fragment>","}"].join("\n");function m(e){var t=o[e.uuid];return void 0===t&&(t={material:new a._67({type:"OutlineEffect",uniforms:a._89.merge([a._88.fog,a._88.displacementmap,u]),vertexShader:h,fragmentShader:p,side:a.f}),used:!0,keepAlive:s,count:0},o[e.uuid]=t),t.used=!0,t.material}function f(e){var t=m(e);return d[t.uuid]=e,function(e,t){if("invisible"===e.name)return;var i=t.userData.outlineParameters;e.skinning=t.skinning,e.morphTargets=t.morphTargets,e.morphNormals=t.morphNormals,e.fog=t.fog,e.toneMapped=t.toneMapped,e.premultipliedAlpha=t.premultipliedAlpha,e.displacementMap=t.displacementMap,void 0!==i?(!1===t.visible?e.visible=!1:e.visible=void 0===i.visible||i.visible,e.transparent=void 0!==i.alpha&&i.alpha<1||t.transparent,void 0!==i.keepAlive&&(o[t.uuid].keepAlive=i.keepAlive)):(e.transparent=t.transparent,e.visible=t.visible);!0!==t.wireframe&&!1!==t.depthTest||(e.visible=!1);t.clippingPlanes&&(e.clipping=!0,e.clippingPlanes=t.clippingPlanes,e.clipIntersection=t.clipIntersection,e.clipShadows=t.clipShadows);e.version=t.version}(t,e),t}function v(e){var t=e.geometry,i=!1;return void 0!==e.geometry&&(i=!t.isBufferGeometry||void 0!==t.attributes.normal),!0===e.isMesh&&void 0!==e.material&&!0===i}function g(e){if(!1!==v(e)){if(Array.isArray(e.material))for(var t=0,i=e.material.length;t<i;t++)e.material[t]=f(e.material[t]);else e.material=f(e.material);c[e.uuid]=e.onBeforeRender,e.onBeforeRender=_}}function E(e){if(!1!==v(e)){if(Array.isArray(e.material))for(var t=0,i=e.material.length;t<i;t++)e.material[t]=d[e.material[t].uuid];else e.material=d[e.material.uuid];e.onBeforeRender=c[e.uuid]}}function _(e,t,i,n,a){var r=d[a.uuid];void 0!==r&&function(e,t){var i=t.userData.outlineParameters;e.uniforms.outlineAlpha.value=t.opacity,void 0!==i&&(void 0!==i.thickness&&(e.uniforms.outlineThickness.value=i.thickness),void 0!==i.color&&e.uniforms.outlineColor.value.fromArray(i.color),void 0!==i.alpha&&(e.uniforms.outlineAlpha.value=i.alpha));t.displacementMap&&(e.uniforms.displacementMap.value=t.displacementMap,e.uniforms.displacementScale.value=t.displacementScale,e.uniforms.displacementBias.value=t.displacementBias)}(a,r)}this.render=function(t,i){var n,a=!1;if(void 0!==arguments[2]&&(console.warn("THREE.OutlineEffect.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.OutlineEffect.render(): the forceClear argument has been removed. Use .clear() instead."),a=arguments[3]),void 0!==n&&e.setRenderTarget(n),a&&e.clear(),!1!==this.enabled){var r=e.autoClear;e.autoClear=this.autoClear,e.render(t,i),e.autoClear=r,this.renderOutline(t,i)}else e.render(t,i)},this.renderOutline=function(t,i){var n=e.autoClear,a=t.autoUpdate,r=t.background,s=e.shadowMap.enabled;t.autoUpdate=!1,t.background=null,e.autoClear=!1,e.shadowMap.enabled=!1,t.traverse(g),e.render(t,i),t.traverse(E),function(){for(var e,t=0,i=(e=Object.keys(d)).length;t<i;t++)d[e[t]]=void 0;for(t=0,i=(e=Object.keys(c)).length;t<i;t++)c[e[t]]=void 0;for(t=0,i=(e=Object.keys(o)).length;t<i;t++){var n=e[t];!1===o[n].used?(o[n].count++,!1===o[n].keepAlive&&o[n].count>l&&delete o[n]):(o[n].used=!1,o[n].count=0)}}(),t.autoUpdate=a,t.background=r,e.autoClear=n,e.shadowMap.enabled=s},this.autoClear=e.autoClear,this.domElement=e.domElement,this.shadowMap=e.shadowMap,this.clear=function(t,i,n){e.clear(t,i,n)},this.getPixelRatio=function(){return e.getPixelRatio()},this.setPixelRatio=function(t){e.setPixelRatio(t)},this.getSize=function(t){return e.getSize(t)},this.setSize=function(t,i,n){e.setSize(t,i,n)},this.setViewport=function(t,i,n,a){e.setViewport(t,i,n,a)},this.setScissor=function(t,i,n,a){e.setScissor(t,i,n,a)},this.setScissorTest=function(t){e.setScissorTest(t)},this.setRenderTarget=function(t){e.setRenderTarget(t)}},s={data:function(){return{container:null,stats:null,camera:null,scene:null,renderer:null,effect:null,particleLight:null,loader:null}},mounted:function(){var e=this;this.loader=new this.$THREE.FontLoader,this.loader.load("static/fonts/gentilis_regular.typeface.json",function(t){e.init(t),e.animate()})},methods:{init:function(e){this.container=document.createElement("div"),document.getElementsByClassName("webglMaterialsVariationsToon-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,2500),this.camera.position.set(0,400,1400),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(4473992);for(var t=new this.$THREE.SphereBufferGeometry(32,32,16),i=0,a=0;i<=1;i+=.2,a++){for(var s=new Uint8Array(a+2),o=0;o<=s.length;o++)s[o]=o/s.length*256;var l=new this.$THREE.DataTexture(s,s.length,1,this.$THREE.LuminanceFormat);l.minFilter=this.$THREE.NearestFilter,l.magFilter=this.$THREE.NearestFilter,l.generateMipmaps=!1;for(var d=0;d<=1;d+=.2)for(var c=0;c<=1;c+=.2){var u=(new this.$THREE.Color).setHSL(i,.5,.5*c+.1).multiplyScalar(1-.2*d),h=new this.$THREE.MeshToonMaterial({color:u,gradientMap:l}),p=new this.$THREE.Mesh(t,h);p.position.x=400*i-200,p.position.y=400*d-200,p.position.z=400*c-200,this.scene.add(p)}}var m=this;function f(t,i){var n=new m.$THREE.TextBufferGeometry(t,{font:e,size:20,height:1,curveSegments:1}),a=new m.$THREE.MeshBasicMaterial,r=new m.$THREE.Mesh(n,a);r.position.copy(i),m.scene.add(r)}f("-gradientMap",new this.$THREE.Vector3(-350,0,0)),f("+gradientMap",new this.$THREE.Vector3(350,0,0)),f("-diffuse",new this.$THREE.Vector3(0,0,-300)),f("+diffuse",new this.$THREE.Vector3(0,0,300)),this.particleLight=new this.$THREE.Mesh(new this.$THREE.SphereBufferGeometry(4,8,8),new this.$THREE.MeshBasicMaterial({color:16777215})),this.scene.add(this.particleLight),this.scene.add(new this.$THREE.AmbientLight(8947848));var v=new this.$THREE.PointLight(16777215,2,800);this.particleLight.add(v),this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.effect=new r(this.renderer),this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom);var g=new n.a(this.camera,this.renderer.domElement);g.minDistance=200,g.maxDistance=2e3,window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.stats.begin(),this.render(),this.stats.end()},render:function(){var e=25e-5*Date.now();this.particleLight.position.x=300*Math.sin(7*e),this.particleLight.position.y=400*Math.cos(5*e),this.particleLight.position.z=300*Math.cos(3*e),this.effect.render(this.scene,this.camera)}}},o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMaterialsVariationsToon-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - Toon Material Variantions with OutlineEffect")])])}]};var l=i("VU/8")(s,o,!1,function(e){i("lA5N")},"data-v-76adb701",null);t.default=l.exports},lA5N:function(e,t){}});
//# sourceMappingURL=63.5a325d939c52c45ee99d.js.map