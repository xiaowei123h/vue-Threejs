webpackJsonp([63],{"2Nja":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i("6+nK"),n=function(t,e,i,n,s,o){r.BufferGeometry.call(this);for(var a=(t=t||1)/2,h=(e=e||1)/2,l=(i=i||1)/2,c=t/(n=Math.floor(n)||1),d=e/(s=Math.floor(s)||1),u=i/(o=Math.floor(o)||1),E=[],m=-a,p=-h,v=-l,y=0;y<=n;y++)E.push(m,-h,-l,m,h,-l),E.push(m,h,-l,m,h,l),E.push(m,h,l,m,-h,l),E.push(m,-h,l,m,-h,-l),m+=c;for(y=0;y<=s;y++)E.push(-a,p,-l,a,p,-l),E.push(a,p,-l,a,p,l),E.push(a,p,l,-a,p,l),E.push(-a,p,l,-a,p,-l),p+=d;for(y=0;y<=o;y++)E.push(-a,-h,v,-a,h,v),E.push(-a,h,v,a,h,v),E.push(a,h,v,a,-h,v),E.push(a,-h,v,-a,-h,v),v+=u;this.setAttribute("position",new r.Float32BufferAttribute(E,3))};n.prototype=Object.create(r.BufferGeometry.prototype),n.prototype.constructor=n},Asb7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("2Nja"),n=i("Y95o"),s=i("z8c2"),o={data:function(){return{clock:null,container:null,camera:null,scene:null,raycaster:null,renderer:null,room:null,controller:null,controllerGrip:null,INTERSECTED:null,tempMatrix:null}},mounted:function(){this.clock=new this.$THREE.Clock,this.tempMatrix=new this.$THREE.Matrix4,this.init(),this.animate()},methods:{init:function(){var t=this;this.container=document.createElement("div"),document.getElementsByClassName("webxrVrCubes-container")[0].appendChild(this.container),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(5263440),this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,.1,10),this.camera.position.set(0,1.6,3),this.scene.add(this.camera),this.room=new this.$THREE.LineSegments(new r.a(6,6,6,10,10,10).translate(0,3,0),new this.$THREE.LineBasicMaterial({color:8421504})),this.scene.add(this.room),this.scene.add(new this.$THREE.HemisphereLight(6316128,4210752));var e=new this.$THREE.DirectionalLight(16777215);e.position.set(1,1,1).normalize(),this.scene.add(e);for(var i=new this.$THREE.BoxBufferGeometry(.15,.15,.15),o=0;o<200;o++){var a=new this.$THREE.Mesh(i,new this.$THREE.MeshLambertMaterial({color:16777215*Math.random()}));a.position.x=4*Math.random()-2,a.position.y=4*Math.random(),a.position.z=4*Math.random()-2,a.rotation.x=2*Math.random()*Math.PI,a.rotation.y=2*Math.random()*Math.PI,a.rotation.z=2*Math.random()*Math.PI,a.scale.x=Math.random()+.5,a.scale.y=Math.random()+.5,a.scale.z=Math.random()+.5,a.userData.velocity=new this.$THREE.Vector3,a.userData.velocity.x=.01*Math.random()-.005,a.userData.velocity.y=.01*Math.random()-.005,a.userData.velocity.z=.01*Math.random()-.005,this.room.add(a)}this.raycaster=new this.$THREE.Raycaster,this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.renderer.xr.enabled=!0,this.container.appendChild(this.renderer.domElement);var h=this;this.controller=this.renderer.xr.getController(0),this.controller.addEventListener("selectstart",function(){h.userData.isSelecting=!0}),this.controller.addEventListener("selectend",function(){h.userData.isSelecting=!1}),this.controller.addEventListener("connected",function(e){t.add(buildController(e.data))}),this.controller.addEventListener("disconnected",function(){t.remove(t.children[0])}),this.scene.add(this.controller);var l=new s.a;this.controllerGrip=this.renderer.xr.getControllerGrip(0),this.controllerGrip.add(l.createControllerModel(this.controllerGrip)),this.scene.add(this.controllerGrip),window.addEventListener("resize",this.onWindowResize,!1),document.getElementsByClassName("webxrVrCubes-container")[0].appendChild(n.a.createButton(this.renderer))},buildController:function(t){var e,i;switch(t.targetRayMode){case"tracked-pointer":return(e=new this.$THREE.BufferGeometry).setAttribute("position",new this.$THREE.Float32BufferAttribute([0,0,0,0,0,-1],3)),e.setAttribute("color",new this.$THREE.Float32BufferAttribute([.5,.5,.5,0,0,0],3)),i=new this.$THREE.LineBasicMaterial({vertexColors:!0,blending:this.$THREE.AdditiveBlending}),new this.$THREE.Line(e,i);case"gaze":return e=new this.$THREE.RingBufferGeometry(.02,.04,32).translate(0,0,-1),i=new this.$THREE.MeshBasicMaterial({opacity:.5,transparent:!0}),new this.$THREE.Mesh(e,i)}},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){this.renderer.setAnimationLoop(this.render)},render:function(){var t=60*this.clock.getDelta();if(!0===this.controller.userData.isSelecting){var e=this.room.children[0];this.room.remove(e),e.position.copy(this.controller.position),e.userData.velocity.x=.02*(Math.random()-.5)*t,e.userData.velocity.y=.02*(Math.random()-.5)*t,e.userData.velocity.z=(.01*Math.random()-.05)*t,e.userData.velocity.applyQuaternion(this.controller.quaternion),this.room.add(e)}this.tempMatrix.identity().extractRotation(this.controller.matrixWorld),this.raycaster.ray.origin.setFromMatrixPosition(this.controller.matrixWorld),this.raycaster.ray.direction.set(0,0,-1).applyMatrix4(this.tempMatrix);var i=this.raycaster.intersectObjects(this.room.children);i.length>0?this.INTERSECTED!=i[0].object&&(this.INTERSECTED&&this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=i[0].object,this.INTERSECTED.currentHex=this.INTERSECTED.material.emissive.getHex(),this.INTERSECTED.material.emissive.setHex(16711680)):(this.INTERSECTED&&this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=void 0);for(var r=0;r<this.room.children.length;r++){(e=this.room.children[r]).userData.velocity.multiplyScalar(1-.001*t),e.position.add(e.userData.velocity),(e.position.x<-3||e.position.x>3)&&(e.position.x=this.$THREE.MathUtils.clamp(e.position.x,-3,3),e.userData.velocity.x=-e.userData.velocity.x),(e.position.y<0||e.position.y>6)&&(e.position.y=this.$THREE.MathUtils.clamp(e.position.y,0,6),e.userData.velocity.y=-e.userData.velocity.y),(e.position.z<-3||e.position.z>3)&&(e.position.z=this.$THREE.MathUtils.clamp(e.position.z,-3,3),e.userData.velocity.z=-e.userData.velocity.z),e.rotation.x+=2*e.userData.velocity.x*t,e.rotation.y+=2*e.userData.velocity.y*t,e.rotation.z+=2*e.userData.velocity.z*t}this.renderer.render(this.scene,this.camera)}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webxrVrCubes-container"},[e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" vr - interactive cubes\n\t\t")])])}]};var h=i("VU/8")(o,a,!1,function(t){i("CrU/")},"data-v-4d44f704",null);e.default=h.exports},"CrU/":function(t,e){}});
//# sourceMappingURL=63.aef73e05fbc064408472.js.map