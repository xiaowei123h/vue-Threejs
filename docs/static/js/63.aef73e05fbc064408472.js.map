{"version":3,"sources":["webpack:///./src/components/jsm/geometries/BoxLineGeometry.js","webpack:///src/views/vr/webxrVrCubes.vue","webpack:///./src/views/vr/webxrVrCubes.vue?34e0","webpack:///./src/views/vr/webxrVrCubes.vue"],"names":["__webpack_require__","d","__webpack_exports__","BoxLineGeometry","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","width","height","depth","widthSegments","heightSegments","depthSegments","BufferGeometry","call","this","widthHalf","heightHalf","depthHalf","segmentWidth","Math","floor","segmentHeight","segmentDepth","vertices","x","y","z","i","push","setAttribute","Float32BufferAttribute","prototype","Object","create","constructor","webxrVrCubes","data","clock","container","camera","scene","raycaster","renderer","room","controller","controllerGrip","INTERSECTED","tempMatrix","mounted","$THREE","Clock","Matrix4","init","animate","methods","_this","document","createElement","getElementsByClassName","appendChild","Scene","background","Color","PerspectiveCamera","$webglInnerWidth","window","innerHeight","position","set","add","LineSegments","translate","LineBasicMaterial","color","HemisphereLight","light","DirectionalLight","normalize","geometry","BoxBufferGeometry","object","Mesh","MeshLambertMaterial","random","rotation","PI","scale","userData","velocity","Vector3","Raycaster","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","outputEncoding","sRGBEncoding","xr","enabled","domElement","that","getController","addEventListener","isSelecting","event","buildController","remove","children","controllerModelFactory","XRControllerModelFactory","getControllerGrip","createControllerModel","onWindowResize","VRButton","createButton","material","targetRayMode","vertexColors","blending","AdditiveBlending","Line","RingBufferGeometry","MeshBasicMaterial","opacity","transparent","$onWindowResize","setAnimationLoop","render","delta","getDelta","cube","copy","applyQuaternion","quaternion","identity","extractRotation","matrixWorld","ray","origin","setFromMatrixPosition","direction","applyMatrix4","intersects","intersectObjects","length","emissive","setHex","currentHex","getHex","undefined","multiplyScalar","MathUtils","clamp","vr_webxrVrCubes","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/63.aef73e05fbc064408472.js","sourcesContent":["import {\r\n\tBufferGeometry,\r\n\tFloat32BufferAttribute\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar BoxLineGeometry = function ( width, height, depth, widthSegments, heightSegments, depthSegments ) {\r\n\r\n\tBufferGeometry.call( this );\r\n\r\n\twidth = width || 1;\r\n\theight = height || 1;\r\n\tdepth = depth || 1;\r\n\r\n\twidthSegments = Math.floor( widthSegments ) || 1;\r\n\theightSegments = Math.floor( heightSegments ) || 1;\r\n\tdepthSegments = Math.floor( depthSegments ) || 1;\r\n\r\n\tvar widthHalf = width / 2;\r\n\tvar heightHalf = height / 2;\r\n\tvar depthHalf = depth / 2;\r\n\r\n\tvar segmentWidth = width / widthSegments;\r\n\tvar segmentHeight = height / heightSegments;\r\n\tvar segmentDepth = depth / depthSegments;\r\n\r\n\tvar vertices = [];\r\n\r\n\tvar x = - widthHalf, y = - heightHalf, z = - depthHalf;\r\n\r\n\tfor ( var i = 0; i <= widthSegments; i ++ ) {\r\n\r\n\t\tvertices.push( x, - heightHalf, - depthHalf, x, heightHalf, - depthHalf );\r\n\t\tvertices.push( x, heightHalf, - depthHalf, x, heightHalf, depthHalf );\r\n\t\tvertices.push( x, heightHalf, depthHalf, x, - heightHalf, depthHalf );\r\n\t\tvertices.push( x, - heightHalf, depthHalf, x, - heightHalf, - depthHalf );\r\n\r\n\t\tx += segmentWidth;\r\n\r\n\t}\r\n\r\n\tfor ( var i = 0; i <= heightSegments; i ++ ) {\r\n\r\n\t\tvertices.push( - widthHalf, y, - depthHalf, widthHalf, y, - depthHalf );\r\n\t\tvertices.push( widthHalf, y, - depthHalf, widthHalf, y, depthHalf );\r\n\t\tvertices.push( widthHalf, y, depthHalf, - widthHalf, y, depthHalf );\r\n\t\tvertices.push( - widthHalf, y, depthHalf, - widthHalf, y, - depthHalf );\r\n\r\n\t\ty += segmentHeight;\r\n\r\n\t}\r\n\r\n\tfor ( var i = 0; i <= depthSegments; i ++ ) {\r\n\r\n\t\tvertices.push( - widthHalf, - heightHalf, z, - widthHalf, heightHalf, z );\r\n\t\tvertices.push( - widthHalf, heightHalf, z, widthHalf, heightHalf, z );\r\n\t\tvertices.push( widthHalf, heightHalf, z, widthHalf, - heightHalf, z );\r\n\t\tvertices.push( widthHalf, - heightHalf, z, - widthHalf, - heightHalf, z );\r\n\r\n\t\tz += segmentDepth;\r\n\r\n\t}\r\n\r\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\r\n\r\n};\r\n\r\nBoxLineGeometry.prototype = Object.create( BufferGeometry.prototype );\r\nBoxLineGeometry.prototype.constructor = BoxLineGeometry;\r\n\r\nexport { BoxLineGeometry };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/geometries/BoxLineGeometry.js","<template>\r\n    <div class=\"webxrVrCubes-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> vr - interactive cubes\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { BoxLineGeometry } from '@/components/jsm/geometries/BoxLineGeometry.js'\r\nimport { VRButton } from '@/components/jsm/webxr/VRButton.js'\r\nimport { XRControllerModelFactory } from '@/components/jsm/webxr/XRControllerModelFactory.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            clock: null,\r\n\t\t\tcontainer: null,\r\n            camera: null,\r\n            scene: null,\r\n            raycaster: null,\r\n            renderer: null,\r\n\t\t\troom: null,\r\n            controller: null,\r\n            controllerGrip: null,\r\n\t\t\tINTERSECTED: null,\r\n\t\t\ttempMatrix: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.clock = new this.$THREE.Clock()\r\n        this.tempMatrix = new this.$THREE.Matrix4()\r\n        this.init()\r\n\t\tthis.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.container = document.createElement('div')\r\n            document.getElementsByClassName('webxrVrCubes-container')[0].appendChild(this.container)\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.background = new this.$THREE.Color(0x505050)\r\n            this.camera = new this.$THREE.PerspectiveCamera(50, this.$webglInnerWidth / window.innerHeight, 0.1, 10)\r\n            this.camera.position.set(0, 1.6, 3)\r\n            this.scene.add(this.camera)\r\n            this.room = new this.$THREE.LineSegments(\r\n                new BoxLineGeometry(6, 6, 6, 10, 10, 10).translate(0, 3, 0),\r\n                new this.$THREE.LineBasicMaterial({ color: 0x808080 })\r\n            )\r\n            this.scene.add(this.room)\r\n            this.scene.add(new this.$THREE.HemisphereLight(0x606060, 0x404040))\r\n            var light = new this.$THREE.DirectionalLight(0xffffff)\r\n            light.position.set(1, 1, 1).normalize()\r\n            this.scene.add(light)\r\n            var geometry = new this.$THREE.BoxBufferGeometry(0.15, 0.15, 0.15)\r\n            for (var i = 0; i < 200; i ++) {\r\n                var object = new this.$THREE.Mesh(geometry, new this.$THREE.MeshLambertMaterial({ color: Math.random() * 0xffffff }))\r\n                object.position.x = Math.random() * 4 - 2\r\n                object.position.y = Math.random() * 4\r\n                object.position.z = Math.random() * 4 - 2\r\n                object.rotation.x = Math.random() * 2 * Math.PI\r\n                object.rotation.y = Math.random() * 2 * Math.PI\r\n                object.rotation.z = Math.random() * 2 * Math.PI\r\n                object.scale.x = Math.random() + 0.5\r\n                object.scale.y = Math.random() + 0.5\r\n                object.scale.z = Math.random() + 0.5\r\n                object.userData.velocity = new this.$THREE.Vector3()\r\n                object.userData.velocity.x = Math.random() * 0.01 - 0.005\r\n                object.userData.velocity.y = Math.random() * 0.01 - 0.005\r\n                object.userData.velocity.z = Math.random() * 0.01 - 0.005\r\n                this.room.add(object)\r\n            }\r\n            this.raycaster = new this.$THREE.Raycaster()\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            this.renderer.outputEncoding = this.$THREE.sRGBEncoding\r\n            this.renderer.xr.enabled = true\r\n            this.container.appendChild(this.renderer.domElement)\r\n            //\r\n            var that = this\r\n            function onSelectStart() {\r\n                that.userData.isSelecting = true\r\n            }\r\n            function onSelectEnd() {\r\n                that.userData.isSelecting = false\r\n            }\r\n            this.controller = this.renderer.xr.getController(0)\r\n            this.controller.addEventListener('selectstart', onSelectStart)\r\n            this.controller.addEventListener('selectend', onSelectEnd)\r\n            this.controller.addEventListener('connected', (event) => {\r\n                this.add(buildController(event.data))\r\n            })\r\n            this.controller.addEventListener('disconnected', () => {\r\n                this.remove(this.children[ 0 ]);\r\n            });\r\n            this.scene.add(this.controller);\r\n            var controllerModelFactory = new XRControllerModelFactory();\r\n            this.controllerGrip = this.renderer.xr.getControllerGrip(0);\r\n            this.controllerGrip.add(controllerModelFactory.createControllerModel(this.controllerGrip));\r\n            this.scene.add(this.controllerGrip);\r\n            window.addEventListener('resize', this.onWindowResize, false);\r\n            //\r\n            document.getElementsByClassName('webxrVrCubes-container')[0].appendChild(VRButton.createButton(this.renderer));\r\n        },\r\n        buildController(data) {\r\n            var geometry, material;\r\n            switch (data.targetRayMode) {\r\n                case 'tracked-pointer':\r\n                    geometry = new this.$THREE.BufferGeometry();\r\n                    geometry.setAttribute('position', new this.$THREE.Float32BufferAttribute([ 0, 0, 0, 0, 0, - 1 ], 3));\r\n                    geometry.setAttribute('color', new this.$THREE.Float32BufferAttribute([ 0.5, 0.5, 0.5, 0, 0, 0 ], 3));\r\n                    material = new this.$THREE.LineBasicMaterial({ vertexColors: true, blending: this.$THREE.AdditiveBlending });\r\n                    return new this.$THREE.Line(geometry, material);\r\n                case 'gaze':\r\n                    geometry = new this.$THREE.RingBufferGeometry(0.02, 0.04, 32).translate(0, 0, - 1);\r\n                    material = new this.$THREE.MeshBasicMaterial({ opacity: 0.5, transparent: true });\r\n                    return new this.$THREE.Mesh(geometry, material);\r\n            }\r\n\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            this.renderer.setAnimationLoop(this.render);\r\n        },\r\n        render() {\r\n            var delta = this.clock.getDelta() * 60;\r\n            if (this.controller.userData.isSelecting === true) {\r\n                var cube = this.room.children[ 0 ];\r\n                this.room.remove(cube);\r\n                cube.position.copy(this.controller.position);\r\n                cube.userData.velocity.x = (Math.random() - 0.5) * 0.02 * delta;\r\n                cube.userData.velocity.y = (Math.random() - 0.5) * 0.02 * delta;\r\n                cube.userData.velocity.z = (Math.random() * 0.01 - 0.05) * delta;\r\n                cube.userData.velocity.applyQuaternion(this.controller.quaternion);\r\n                this.room.add(cube);\r\n            }\r\n            // find intersections\r\n            this.tempMatrix.identity().extractRotation(this.controller.matrixWorld);\r\n            this.raycaster.ray.origin.setFromMatrixPosition(this.controller.matrixWorld);\r\n            this.raycaster.ray.direction.set(0, 0, - 1).applyMatrix4(this.tempMatrix);\r\n            var intersects = this.raycaster.intersectObjects(this.room.children);\r\n            if (intersects.length > 0) {\r\n                if (this.INTERSECTED != intersects[ 0 ].object) {\r\n                    if (this.INTERSECTED) this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex);\r\n                    this.INTERSECTED = intersects[ 0 ].object;\r\n                    this.INTERSECTED.currentHex = this.INTERSECTED.material.emissive.getHex();\r\n                    this.INTERSECTED.material.emissive.setHex(0xff0000);\r\n                }\r\n            } else {\r\n                if (this.INTERSECTED) this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex);\r\n                this.INTERSECTED = undefined;\r\n            }\r\n            // Keep cubes inside this.room\r\n            for (var i = 0; i < this.room.children.length; i ++) {\r\n                var cube = this.room.children[ i ];\r\n                cube.userData.velocity.multiplyScalar(1 - (0.001 * delta));\r\n                cube.position.add(cube.userData.velocity);\r\n                if (cube.position.x < - 3 || cube.position.x > 3) {\r\n                    cube.position.x = this.$THREE.MathUtils.clamp(cube.position.x, - 3, 3);\r\n                    cube.userData.velocity.x = - cube.userData.velocity.x;\r\n                }\r\n                if (cube.position.y < 0 || cube.position.y > 6) {\r\n                    cube.position.y = this.$THREE.MathUtils.clamp(cube.position.y, 0, 6);\r\n                    cube.userData.velocity.y = - cube.userData.velocity.y;\r\n                }\r\n                if (cube.position.z < - 3 || cube.position.z > 3) {\r\n                    cube.position.z = this.$THREE.MathUtils.clamp(cube.position.z, - 3, 3);\r\n                    cube.userData.velocity.z = - cube.userData.velocity.z;\r\n                }\r\n                cube.rotation.x += cube.userData.velocity.x * 2 * delta;\r\n                cube.rotation.y += cube.userData.velocity.y * 2 * delta;\r\n                cube.rotation.z += cube.userData.velocity.z * 2 * delta;\r\n            }\r\n            this.renderer.render(this.scene, this.camera);\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webxrVrCubes-container {\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/vr/webxrVrCubes.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webxrVrCubes-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" vr - interactive cubes\\n\\t\\t\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d44f704\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/vr/webxrVrCubes.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d44f704\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webxrVrCubes.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webxrVrCubes.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webxrVrCubes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d44f704\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webxrVrCubes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d44f704\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/vr/webxrVrCubes.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}