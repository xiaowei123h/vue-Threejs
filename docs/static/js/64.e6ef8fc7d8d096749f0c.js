webpackJsonp([64],{"2Nja":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r("6+nK"),o=function(t,e,r,o,n,s){i.BufferGeometry.call(this);for(var a=(t=t||1)/2,l=(e=e||1)/2,h=(r=r||1)/2,c=t/(o=Math.floor(o)||1),d=e/(n=Math.floor(n)||1),u=r/(s=Math.floor(s)||1),p=[],m=-a,E=-l,v=-h,y=0;y<=o;y++)p.push(m,-l,-h,m,l,-h),p.push(m,l,-h,m,l,h),p.push(m,l,h,m,-l,h),p.push(m,-l,h,m,-l,-h),m+=c;for(y=0;y<=n;y++)p.push(-a,E,-h,a,E,-h),p.push(a,E,-h,a,E,h),p.push(a,E,h,-a,E,h),p.push(-a,E,h,-a,E,-h),E+=d;for(y=0;y<=s;y++)p.push(-a,-l,v,-a,l,v),p.push(-a,l,v,a,l,v),p.push(a,l,v,a,-l,v),p.push(a,-l,v,-a,-l,v),v+=u;this.setAttribute("position",new i.Float32BufferAttribute(p,3))};o.prototype=Object.create(i.BufferGeometry.prototype),o.prototype.constructor=o},I8x1:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("2Nja"),o=r("Y95o"),n=r("z8c2"),s={data:function(){return{camera:null,scene:null,renderer:null,controller1:null,controller2:null,controllerGrip1:null,controllerGrip2:null,room:null,count:0,radius:.08,normal:null,relativeVelocity:null,clock:null}},mounted:function(){this.normal=new this.$THREE.Vector3,this.relativeVelocity=new this.$THREE.Vector3,this.clock=new this.$THREE.Clock,this.init(),this.animate()},methods:{init:function(){var t=this;this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(5263440),this.camera=new this.$THREE.PerspectiveCamera(50,this.$webglInnerWidth/window.innerHeight,.1,10),this.camera.position.set(0,1.6,3),this.room=new this.$THREE.LineSegments(new i.a(6,6,6,10,10,10),new this.$THREE.LineBasicMaterial({color:8421504})),this.room.geometry.translate(0,3,0),this.scene.add(this.room),this.scene.add(new this.$THREE.HemisphereLight(6316128,4210752));var e=new this.$THREE.DirectionalLight(16777215);e.position.set(1,1,1).normalize(),this.scene.add(e);for(var r=new this.$THREE.IcosahedronBufferGeometry(this.radius,3),s=0;s<200;s++){var a=new this.$THREE.Mesh(r,new this.$THREE.MeshLambertMaterial({color:16777215*Math.random()}));a.position.x=4*Math.random()-2,a.position.y=4*Math.random(),a.position.z=4*Math.random()-2,a.userData.velocity=new this.$THREE.Vector3,a.userData.velocity.x=.01*Math.random()-.005,a.userData.velocity.y=.01*Math.random()-.005,a.userData.velocity.z=.01*Math.random()-.005,this.room.add(a)}function l(){this.userData.isSelecting=!0}function h(){this.userData.isSelecting=!1}this.renderer=new this.$THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.renderer.xr.enabled=!0,document.getElementsByClassName("webxrVrBallshooter-container")[0].appendChild(this.renderer.domElement),document.getElementsByClassName("webxrVrBallshooter-container")[0].appendChild(o.a.createButton(this.renderer)),this.controller1=this.renderer.xr.getController(0),this.controller1.addEventListener("selectstart",l),this.controller1.addEventListener("selectend",h),this.controller1.addEventListener("connected",function(e){t.add(buildController(e.data))}),this.controller1.addEventListener("disconnected",function(){t.remove(t.children[0])}),this.scene.add(this.controller1),this.controller2=this.renderer.xr.getController(1),this.controller2.addEventListener("selectstart",l),this.controller2.addEventListener("selectend",h),this.controller2.addEventListener("connected",function(e){t.add(buildController(e.data))}),this.controller2.addEventListener("disconnected",function(){t.remove(t.children[0])}),this.scene.add(this.controller2);var c=new n.a;this.controllerGrip1=this.renderer.xr.getControllerGrip(0),this.controllerGrip1.add(c.createControllerModel(this.controllerGrip1)),this.scene.add(this.controllerGrip1),this.controllerGrip2=this.renderer.xr.getControllerGrip(1),this.controllerGrip2.add(c.createControllerModel(this.controllerGrip2)),this.scene.add(this.controllerGrip2),window.addEventListener("resize",this.onWindowResize,!1)},buildController:function(t){var e,r;switch(t.targetRayMode){case"tracked-pointer":return(e=new this.$THREE.BufferGeometry).setAttribute("position",new this.$THREE.Float32BufferAttribute([0,0,0,0,0,-1],3)),e.setAttribute("color",new this.$THREE.Float32BufferAttribute([.5,.5,.5,0,0,0],3)),r=new this.$THREE.LineBasicMaterial({vertexColors:!0,blending:this.$THREE.AdditiveBlending}),new this.$THREE.Line(e,r);case"gaze":return e=new this.$THREE.RingBufferGeometry(.02,.04,32).translate(0,0,-1),r=new this.$THREE.MeshBasicMaterial({opacity:.5,transparent:!0}),new this.$THREE.Mesh(e,r)}},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},handleController:function(t){if(t.userData.isSelecting){var e=this.room.children[count++];e.position.copy(t.position),e.userData.velocity.x=3*(Math.random()-.5),e.userData.velocity.y=3*(Math.random()-.5),e.userData.velocity.z=Math.random()-9,e.userData.velocity.applyQuaternion(t.quaternion),this.count===this.room.children.length&&(this.count=0)}},animate:function(){this.renderer.setAnimationLoop(this.render)},render:function(){this.handleController(this.controller1),this.handleController(this.controller2);for(var t=.8*this.clock.getDelta(),e=3-this.radius,r=0;r<this.room.children.length;r++){var i=this.room.children[r];i.position.x+=i.userData.velocity.x*t,i.position.y+=i.userData.velocity.y*t,i.position.z+=i.userData.velocity.z*t,(i.position.x<-e||i.position.x>e)&&(i.position.x=this.$THREE.MathUtils.clamp(i.position.x,-e,e),i.userData.velocity.x=-i.userData.velocity.x),(i.position.y<this.radius||i.position.y>6)&&(i.position.y=Math.max(i.position.y,this.radius),i.userData.velocity.x*=.98,i.userData.velocity.y=.8*-i.userData.velocity.y,i.userData.velocity.z*=.98),(i.position.z<-e||i.position.z>e)&&(i.position.z=this.$THREE.MathUtils.clamp(i.position.z,-e,e),i.userData.velocity.z=-i.userData.velocity.z);for(var o=r+1;o<this.room.children.length;o++){var n=this.room.children[o];this.normal.copy(i.position).sub(n.position);var s=this.normal.length();s<2*this.radius&&(this.normal.multiplyScalar(.5*s-this.radius),i.position.sub(this.normal),n.position.add(this.normal),this.normal.normalize(),this.relativeVelocity.copy(i.userData.velocity).sub(n.userData.velocity),this.normal=this.normal.multiplyScalar(this.relativeVelocity.dot(this.normal)),i.userData.velocity.sub(this.normal),n.userData.velocity.add(this.normal))}i.userData.velocity.y-=9.8*t}this.renderer.render(this.scene,this.camera)}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webxrVrBallshooter-container"},[e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" vr - ball shooter\n\t\t")])])}]};var l=r("VU/8")(s,a,!1,function(t){r("YuVp")},"data-v-14c15c51",null);e.default=l.exports},YuVp:function(t,e){}});
//# sourceMappingURL=64.e6ef8fc7d8d096749f0c.js.map