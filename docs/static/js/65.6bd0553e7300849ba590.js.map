{"version":3,"sources":["webpack:///./src/components/jsm/environments/RoomEnvironment.js","webpack:///./src/components/jsm/geometries/RoundedBoxBufferGeometry.js","webpack:///./src/components/jsm/loaders/LottieLoader.js","webpack:///src/views/loader/webglLoaderTextureLottie.vue","webpack:///./src/views/loader/webglLoaderTextureLottie.vue?2af8","webpack:///./src/views/loader/webglLoaderTextureLottie.vue"],"names":["__webpack_require__","d","__webpack_exports__","RoomEnvironment","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","scene","THREE","geometry","deleteAttribute","roomMaterial","side","boxMaterial","mainLight","position","set","add","room","scale","box1","rotation","box2","box3","box4","box5","box6","light1","createAreaLightMaterial","light2","light3","light4","light5","light6","intensity","material","color","setScalar","tempNormal","Vector3","getUv","faceDirVector","normal","uvAxis","projectionAxis","radius","sideLength","totArcLength","Math","PI","centerLength","max","halfArc","copy","normalize","arcUvRatio","arcAngleRatio","angleTo","sign","RoundedBoxBufferGeometry","width","arguments","length","undefined","height","depth","segments","_classCallCheck","this","min","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","geometry2","toNonIndexed","index","attributes","uv","box","divideScalar","subScalar","positions","array","normals","uvs","faceTris","halfSegmentSize","i","j","fromArray","x","y","z","floor","BoxBufferGeometry","LottieLoader","manager","Loader","prototype","assign","create","constructor","setQuality","value","_quality","load","url","onLoad","onProgress","onError","quality","texture","CanvasTexture","anisotropy","loader","FileLoader","setPath","path","setWithCredentials","withCredentials","text","data","JSON","parse","container","document","createElement","style","w","h","body","appendChild","animation","bodymovin","loadAnimation","animType","loop","autoplay","animationData","rendererSettings","dpr","image","addEventListener","needsUpdate","display","webglLoaderTextureLottie","renderer","camera","mesh","mounted","init","animate","methods","$THREE","PerspectiveCamera","$webglInnerWidth","window","innerHeight","Scene","background","Color","LottieLoader_LottieLoader","setupControls","RoundedBoxBufferGeometry_RoundedBoxBufferGeometry","MeshStandardMaterial","roughness","map","Mesh","WebGLRenderer","setPixelRatio","devicePixelRatio","setSize","getElementsByClassName","domElement","environment","pmremGenerator","PMREMGenerator","fromScene","onWindowResize","scrubber","getElementById","totalFrames","pause","play","goToAndStop","parseFloat","currentFrame","$onWindowResize","requestAnimationFrame","render","loader_webglLoaderTextureLottie","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","staticStyle","type","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/65.6bd0553e7300849ba590.js","sourcesContent":["/**\r\n * https://github.com/google/model-viewer/blob/master/packages/model-viewer/src/three-components/EnvironmentScene.ts\r\n */\r\n\r\nimport * as THREE from '@/components/build/three.module.js';\r\n\r\nfunction RoomEnvironment() {\r\n\r\n\tconst scene = new THREE.Scene();\r\n\r\n\tconst geometry = new THREE.BoxBufferGeometry();\r\n\tgeometry.deleteAttribute( 'uv' );\r\n\r\n\tconst roomMaterial = new THREE.MeshStandardMaterial( { side: THREE.BackSide } );\r\n\tconst boxMaterial = new THREE.MeshStandardMaterial();\r\n\r\n\tconst mainLight = new THREE.PointLight( 0xffffff, 5.0, 28, 2 );\r\n\tmainLight.position.set( 0.418, 16.199, 0.300 );\r\n\tscene.add( mainLight );\r\n\r\n\tconst room = new THREE.Mesh( geometry, roomMaterial );\r\n\troom.position.set( - 0.757, 13.219, 0.717 );\r\n\troom.scale.set( 31.713, 28.305, 28.591 );\r\n\tscene.add( room );\r\n\r\n\tconst box1 = new THREE.Mesh( geometry, boxMaterial );\r\n\tbox1.position.set( - 10.906, 2.009, 1.846 );\r\n\tbox1.rotation.set( 0, - 0.195, 0 );\r\n\tbox1.scale.set( 2.328, 7.905, 4.651 );\r\n\tscene.add( box1 );\r\n\r\n\tconst box2 = new THREE.Mesh( geometry, boxMaterial );\r\n\tbox2.position.set( - 5.607, - 0.754, - 0.758 );\r\n\tbox2.rotation.set( 0, 0.994, 0 );\r\n\tbox2.scale.set( 1.970, 1.534, 3.955 );\r\n\tscene.add( box2 );\r\n\r\n\tconst box3 = new THREE.Mesh( geometry, boxMaterial );\r\n\tbox3.position.set( 6.167, 0.857, 7.803 );\r\n\tbox3.rotation.set( 0, 0.561, 0 );\r\n\tbox3.scale.set( 3.927, 6.285, 3.687 );\r\n\tscene.add( box3 );\r\n\r\n\tconst box4 = new THREE.Mesh( geometry, boxMaterial );\r\n\tbox4.position.set( - 2.017, 0.018, 6.124 );\r\n\tbox4.rotation.set( 0, 0.333, 0 );\r\n\tbox4.scale.set( 2.002, 4.566, 2.064 );\r\n\tscene.add( box4 );\r\n\r\n\tconst box5 = new THREE.Mesh( geometry, boxMaterial );\r\n\tbox5.position.set( 2.291, - 0.756, - 2.621 );\r\n\tbox5.rotation.set( 0, - 0.286, 0 );\r\n\tbox5.scale.set( 1.546, 1.552, 1.496 );\r\n\tscene.add( box5 );\r\n\r\n\tconst box6 = new THREE.Mesh( geometry, boxMaterial );\r\n\tbox6.position.set( - 2.193, - 0.369, - 5.547 );\r\n\tbox6.rotation.set( 0, 0.516, 0 );\r\n\tbox6.scale.set( 3.875, 3.487, 2.986 );\r\n\tscene.add( box6 );\r\n\r\n\r\n\t// -x right\r\n\tconst light1 = new THREE.Mesh( geometry, createAreaLightMaterial( 50 ) );\r\n\tlight1.position.set( - 16.116, 14.37, 8.208 );\r\n\tlight1.scale.set( 0.1, 2.428, 2.739 );\r\n\tscene.add( light1 );\r\n\r\n\t// -x left\r\n\tconst light2 = new THREE.Mesh( geometry, createAreaLightMaterial( 50 ) );\r\n\tlight2.position.set( - 16.109, 18.021, - 8.207 );\r\n\tlight2.scale.set( 0.1, 2.425, 2.751 );\r\n\tscene.add( light2 );\r\n\r\n\t// +x\r\n\tconst light3 = new THREE.Mesh( geometry, createAreaLightMaterial( 17 ) );\r\n\tlight3.position.set( 14.904, 12.198, - 1.832 );\r\n\tlight3.scale.set( 0.15, 4.265, 6.331 );\r\n\tscene.add( light3 );\r\n\r\n\t// +z\r\n\tconst light4 = new THREE.Mesh( geometry, createAreaLightMaterial( 43 ) );\r\n\tlight4.position.set( - 0.462, 8.89, 14.520 );\r\n\tlight4.scale.set( 4.38, 5.441, 0.088 );\r\n\tscene.add( light4 );\r\n\r\n\t// -z\r\n\tconst light5 = new THREE.Mesh( geometry, createAreaLightMaterial( 20 ) );\r\n\tlight5.position.set( 3.235, 11.486, - 12.541 );\r\n\tlight5.scale.set( 2.5, 2.0, 0.1 );\r\n\tscene.add( light5 );\r\n\r\n\t// +y\r\n\tconst light6 = new THREE.Mesh( geometry, createAreaLightMaterial( 100 ) );\r\n\tlight6.position.set( 0.0, 20.0, 0.0 );\r\n\tlight6.scale.set( 1.0, 0.1, 1.0 );\r\n\tscene.add( light6 );\r\n\r\n\tfunction createAreaLightMaterial( intensity ) {\r\n\r\n\t\tconst material = new THREE.MeshBasicMaterial();\r\n\t\tmaterial.color.setScalar( intensity );\r\n\t\treturn material;\r\n\r\n\t}\r\n\r\n\treturn scene;\r\n\r\n}\r\n\r\nexport { RoomEnvironment };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/environments/RoomEnvironment.js","import {\r\n\tBoxBufferGeometry,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nconst tempNormal = new Vector3();\r\nfunction getUv( faceDirVector, normal, uvAxis, projectionAxis, radius, sideLength ) {\r\n\r\n\tconst totArcLength = 2 * Math.PI * radius / 4;\r\n\r\n\t// length of the planes between the arcs on each axis\r\n\tconst centerLength = Math.max( sideLength - 2 * radius, 0 );\r\n\tconst halfArc = Math.PI / 4;\r\n\r\n\t// Get the vector projected onto the Y plane\r\n\ttempNormal.copy( normal );\r\n\ttempNormal[ projectionAxis ] = 0;\r\n\ttempNormal.normalize();\r\n\r\n\t// total amount of UV space alloted to a single arc\r\n\tconst arcUvRatio = 0.5 * totArcLength / ( totArcLength + centerLength );\r\n\r\n\t// the distance along one arc the point is at\r\n\tconst arcAngleRatio = 1.0 - ( tempNormal.angleTo( faceDirVector ) / halfArc );\r\n\r\n\tif ( Math.sign( tempNormal[ uvAxis ] ) === 1 ) {\r\n\r\n\t\treturn arcAngleRatio * arcUvRatio;\r\n\r\n\t} else {\r\n\r\n\t\t// total amount of UV space alloted to the plane between the arcs\r\n\t\tconst lenUv = centerLength / ( totArcLength + centerLength );\r\n\t\treturn lenUv + arcUvRatio + arcUvRatio * ( 1.0 - arcAngleRatio );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass RoundedBoxBufferGeometry extends BoxBufferGeometry {\r\n\r\n\tconstructor( width = 1, height = 1, depth = 1, segments = 2, radius = 0.1 ) {\r\n\r\n\t\t// ensure segments is odd so we have a plane connecting the rounded corners\r\n\t\tsegments = segments * 2 + 1;\r\n\r\n\t\t// ensure radius isn't bigger than shortest side\r\n\t\tradius = Math.min( width / 2, height / 2, depth / 2, radius );\r\n\r\n\t\tsuper( 1, 1, 1, segments, segments, segments );\r\n\r\n\t\t// if we just have one segment we're the same as a regular box\r\n\t\tif ( segments === 1 ) return;\r\n\r\n\t\tconst geometry2 = this.toNonIndexed();\r\n\r\n\t\tthis.index = null;\r\n\t\tthis.attributes.position = geometry2.attributes.position;\r\n\t\tthis.attributes.normal = geometry2.attributes.normal;\r\n\t\tthis.attributes.uv = geometry2.attributes.uv;\r\n\r\n\t\t//\r\n\r\n\t\tconst position = new Vector3();\r\n\t\tconst normal = new Vector3();\r\n\r\n\t\tconst box = new Vector3( width, height, depth ).divideScalar( 2 ).subScalar( radius );\r\n\r\n\t\tconst positions = this.attributes.position.array;\r\n\t\tconst normals = this.attributes.normal.array;\r\n\t\tconst uvs = this.attributes.uv.array;\r\n\r\n\t\tconst faceTris = positions.length / 6;\r\n\t\tconst faceDirVector = new Vector3();\r\n\t\tconst halfSegmentSize = 0.5 / segments;\r\n\r\n\t\tfor ( let i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\r\n\r\n\t\t\tposition.fromArray( positions, i );\r\n\t\t\tnormal.copy( position );\r\n\t\t\tnormal.x -= Math.sign( normal.x ) * halfSegmentSize;\r\n\t\t\tnormal.y -= Math.sign( normal.y ) * halfSegmentSize;\r\n\t\t\tnormal.z -= Math.sign( normal.z ) * halfSegmentSize;\r\n\t\t\tnormal.normalize();\r\n\r\n\t\t\tpositions[ i + 0 ] = box.x * Math.sign( position.x ) + normal.x * radius;\r\n\t\t\tpositions[ i + 1 ] = box.y * Math.sign( position.y ) + normal.y * radius;\r\n\t\t\tpositions[ i + 2 ] = box.z * Math.sign( position.z ) + normal.z * radius;\r\n\r\n\t\t\tnormals[ i + 0 ] = normal.x;\r\n\t\t\tnormals[ i + 1 ] = normal.y;\r\n\t\t\tnormals[ i + 2 ] = normal.z;\r\n\r\n\t\t\tconst side = Math.floor( i / faceTris );\r\n\r\n\t\t\tswitch ( side ) {\r\n\r\n\t\t\t\tcase 0: // right\r\n\r\n\t\t\t\t\t// generate UVs along Z then Y\r\n\t\t\t\t\tfaceDirVector.set( 1, 0, 0 );\r\n\t\t\t\t\tuvs[ j + 0 ] = getUv( faceDirVector, normal, 'z', 'y', radius, depth );\r\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'z', radius, height );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1: // left\r\n\r\n\t\t\t\t\t// generate UVs along Z then Y\r\n\t\t\t\t\tfaceDirVector.set( - 1, 0, 0 );\r\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'z', 'y', radius, depth );\r\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'z', radius, height );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 2: // top\r\n\r\n\t\t\t\t\t// generate UVs along X then Z\r\n\t\t\t\t\tfaceDirVector.set( 0, 1, 0 );\r\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'x', 'z', radius, width );\r\n\t\t\t\t\tuvs[ j + 1 ] = getUv( faceDirVector, normal, 'z', 'x', radius, depth );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 3: // bottom\r\n\r\n\t\t\t\t\t// generate UVs along X then Z\r\n\t\t\t\t\tfaceDirVector.set( 0, -1, 0 );\r\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'x', 'z', radius, width );\r\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'z', 'x', radius, depth );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 4: // front\r\n\r\n\t\t\t\t\t// generate UVs along X then Y\r\n\t\t\t\t\tfaceDirVector.set( 0, 0, 1 );\r\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'x', 'y', radius, width );\r\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'x', radius, height );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 5: // back\r\n\r\n\t\t\t\t\t// generate UVs along X then Y\r\n\t\t\t\t\tfaceDirVector.set( 0, 0, - 1 );\r\n\t\t\t\t\tuvs[ j + 0 ] = getUv( faceDirVector, normal, 'x', 'y', radius, width );\r\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'x', radius, height );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { RoundedBoxBufferGeometry };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/geometries/RoundedBoxBufferGeometry.js","import {\r\n\tFileLoader,\r\n\tLoader,\r\n\tCanvasTexture\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar LottieLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n};\r\n\r\nLottieLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: LottieLoader,\r\n\r\n\tsetQuality: function ( value ) {\r\n\r\n\t\tthis._quality = value;\r\n\r\n\t},\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tconst quality = this._quality || 1;\r\n\r\n\t\tconst texture = new CanvasTexture();\r\n\t\ttexture.anisotropy = 16;\r\n\r\n\t\tconst loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tconst data = JSON.parse( text );\r\n\r\n\t\t\t// bodymoving uses container.offetWidth and offsetHeight\r\n\t\t\t// to define width/height\r\n\r\n\t\t\tconst container = document.createElement( 'div' );\r\n\t\t\tcontainer.style.width = data.w + 'px';\r\n\t\t\tcontainer.style.height = data.h + 'px';\r\n\t\t\tdocument.body.appendChild( container );\r\n\r\n\t\t\tconst animation = bodymovin.loadAnimation( {\r\n\t\t\t\tcontainer: container,\r\n\t\t\t\tanimType: 'canvas',\r\n\t\t\t\tloop: true,\r\n\t\t\t\tautoplay: true,\r\n\t\t\t\tanimationData: data,\r\n\t\t\t\trendererSettings: { dpr: quality }\r\n\t\t\t} );\r\n\r\n\t\t\ttexture.animation = animation;\r\n\t\t\ttexture.image = animation.container;\r\n\r\n\t\t\tanimation.addEventListener( 'enterFrame', function () {\r\n\r\n\t\t\t\ttexture.needsUpdate = true;\r\n\r\n\t\t\t} );\r\n\r\n\t\t\tcontainer.style.display = 'none';\r\n\r\n\t\t\tif ( onLoad !== undefined ) {\r\n\r\n\t\t\t\tonLoad( texture );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { LottieLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/LottieLoader.js","<template>\r\n    <div class=\"webglLoaderTextureLottie-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"http://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> webgl - lottie<br/></br>\r\n\t\t\t<input id=\"scrubber\" type=\"range\" value=\"0\" style=\"width: 300px\">\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { RoomEnvironment } from '@/components/jsm/environments/RoomEnvironment.js';\r\nimport { RoundedBoxBufferGeometry } from '@/components/jsm/geometries/RoundedBoxBufferGeometry.js';\r\nimport { LottieLoader } from '@/components/jsm/loaders/LottieLoader.js';\r\nexport default {\r\n    data() {\r\n        return {\r\n            renderer: null,\r\n            scene: null,\r\n            camera: null,\r\n\t\t\tmesh: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init()\r\n\t\tthis.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.camera = new this.$THREE.PerspectiveCamera(50, this.$webglInnerWidth / window.innerHeight, 0.1, 10)\r\n            this.camera.position.z = 2.5\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.background = new this.$THREE.Color(0x111111)\r\n            var loader = new LottieLoader()\r\n            loader.setQuality(2)\r\n            loader.load('static/textures/lottie/24017-lottie-logo-animation.json', (texture) => {\r\n                this.setupControls(texture.animation)\r\n                // texture = new this.$THREE.TextureLoader().load('textures/uv_grid_directx.jpg')\r\n                var geometry = new RoundedBoxBufferGeometry(1, 1, 1, 7, 0.2)\r\n                var material = new this.$THREE.MeshStandardMaterial({ roughness: 0.1, map: texture })\r\n                this.mesh = new this.$THREE.Mesh(geometry, material)\r\n                this.scene.add(this.mesh)\r\n            })\r\n            this.renderer = new this.$THREE.WebGLRenderer()\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            document.getElementsByClassName('webglLoaderTextureLottie-container')[0].appendChild(this.renderer.domElement)\r\n            var environment = new RoomEnvironment()\r\n            var pmremGenerator = new this.$THREE.PMREMGenerator(this.renderer)\r\n            this.scene.environment = pmremGenerator.fromScene(environment).texture\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        setupControls(animation) {\r\n            // Lottie animation API\r\n            // https://airbnb.io/lottie/#/web\r\n            // There are a few undocumented properties:\r\n            // console.log(animation)\r\n            var scrubber = document.getElementById('scrubber')\r\n            scrubber.max = animation.totalFrames\r\n            scrubber.addEventListener('pointerdown', () => {\r\n                animation.pause()\r\n            })\r\n            scrubber.addEventListener('pointerup', () => {\r\n                animation.play()\r\n            })\r\n            scrubber.addEventListener('input', () => {\r\n                animation.goToAndStop(parseFloat(scrubber.value), true)\r\n            })\r\n            animation.addEventListener('enterFrame', () => {\r\n                scrubber.value = animation.currentFrame\r\n            })\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            if (this.mesh) {\r\n                this.mesh.rotation.y -= 0.001\r\n            }\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglLoaderTextureLottie-container {\r\n    width: 100%;\r\n}\r\n#info {\r\n    margin-left: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/loader/webglLoaderTextureLottie.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglLoaderTextureLottie-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"http://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" webgl - lottie\"),_c('br'),_c('br'),_vm._v(\" \"),_c('input',{staticStyle:{\"width\":\"300px\"},attrs:{\"id\":\"scrubber\",\"type\":\"range\",\"value\":\"0\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4505f8ac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/loader/webglLoaderTextureLottie.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4505f8ac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglLoaderTextureLottie.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderTextureLottie.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderTextureLottie.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4505f8ac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglLoaderTextureLottie.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4505f8ac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/loader/webglLoaderTextureLottie.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}