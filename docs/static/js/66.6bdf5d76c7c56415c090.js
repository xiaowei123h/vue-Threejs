webpackJsonp([66],{"+zDU":function(t,e){},swKi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{vertexshader:null,fragmentshader:null,renderer:null,scene:null,camera:null,stats:null,particles:null,PARTICLE_SIZE:20,raycaster:null,intersects:null,mouse:null,INTERSECTED:null}},mounted:function(){this.vertexshader="\n            attribute float size;\n\t\t\tattribute vec3 customColor;\n\n\t\t\tvarying vec3 vColor;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvColor = customColor;\n\n\t\t\t\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\n\t\t\t\tgl_PointSize = size * (300.0 / -mvPosition.z);\n\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n            }",this.fragmentshader="\n            uniform vec3 color;\n\t\t\tuniform sampler2D pointTexture;\n\n\t\t\tvarying vec3 vColor;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4(color * vColor, 1.0);\n\n\t\t\t\tgl_FragColor = gl_FragColor * texture2D(pointTexture, gl_PointCoord);\n\n\t\t\t\tif (gl_FragColor.a < ALPHATEST) discard;\n\n            }",this.init(),this.animate()},methods:{init:function(){var t=document.getElementById("container");this.scene=new this.$THREE.Scene,this.camera=new this.$THREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,1,1e4),this.camera.position.z=250;for(var e=new this.$THREE.BoxGeometry(200,200,200,16,16,16).vertices,i=new Float32Array(3*e.length),n=new Float32Array(3*e.length),r=new Float32Array(e.length),s=new this.$THREE.Color,a=0,o=e.length;a<o;a++)e[a].toArray(i,3*a),s.setHSL(.01+a/o*.1,1,.5),s.toArray(n,3*a),r[a]=.5*this.PARTICLE_SIZE;var h=new this.$THREE.BufferGeometry;h.setAttribute("position",new this.$THREE.BufferAttribute(i,3)),h.setAttribute("customColor",new this.$THREE.BufferAttribute(n,3)),h.setAttribute("size",new this.$THREE.BufferAttribute(r,1));var l=new this.$THREE.ShaderMaterial({uniforms:{color:{value:new this.$THREE.Color(16777215)},pointTexture:{value:(new this.$THREE.TextureLoader).load("static/textures/sprites/disc.png")}},vertexShader:this.vertexshader,fragmentShader:this.fragmentshader,alphaTest:.9});this.particles=new this.$THREE.Points(h,l),this.scene.add(this.particles),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),t.appendChild(this.renderer.domElement),this.raycaster=new this.$THREE.Raycaster,this.mouse=new this.$THREE.Vector2,this.stats=new this.$Stats,this.stats.dom.style.left="280px",t.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1),document.addEventListener("mousemove",this.onDocumentMouseMove,!1)},onDocumentMouseMove:function(t){t.preventDefault(),this.mouse.x=(t.clientX-281)/(window.innerWidth-281)*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){this.particles.rotation.x+=5e-4,this.particles.rotation.y+=.001;var t=this.particles.geometry.attributes;this.raycaster.setFromCamera(this.mouse,this.camera),this.intersects=this.raycaster.intersectObject(this.particles),this.intersects.length>0?this.INTERSECTED!=this.intersects[0].index&&(t.size.array[this.INTERSECTED]=this.PARTICLE_SIZE,this.INTERSECTED=this.intersects[0].index,t.size.array[this.INTERSECTED]=1.25*this.PARTICLE_SIZE,t.size.needsUpdate=!0):null!==this.INTERSECTED&&(t.size.array[this.INTERSECTED]=this.PARTICLE_SIZE,t.size.needsUpdate=!0,this.INTERSECTED=null),this.renderer.render(this.scene,this.camera)}}},r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglInteractivePoints-container"},[e("div",{attrs:{id:"container"}}),this._v(" "),e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" webgl - interactive - particles")])])}]};var s=i("VU/8")(n,r,!1,function(t){i("+zDU")},"data-v-368db959",null);e.default=s.exports}});
//# sourceMappingURL=66.6bdf5d76c7c56415c090.js.map