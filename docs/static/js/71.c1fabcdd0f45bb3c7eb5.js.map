{"version":3,"sources":["webpack:///./src/components/jsm/loaders/PLYLoader.js","webpack:///src/views/loader/webglLoaderPly.vue","webpack:///./src/views/loader/webglLoaderPly.vue?435e","webpack:///./src/views/loader/webglLoaderPly.vue"],"names":["PLYLoader","manager","Loader","call","this","propertyNameMapping","prototype","Object","assign","create","constructor","load","url","onLoad","onProgress","onError","scope","loader","FileLoader","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","text","parse","e","console","error","itemError","setPropertyNameMapping","mapping","data","parseHeader","headerText","headerLength","result","exec","Blob","size","currentElement","lineType","lineValues","propertValues","property","header","comments","elements","objInfo","lines","split","i","length","line","trim","shift","join","format","version","push","undefined","name","count","parseInt","properties","type","countType","itemType","log","parseASCIINumber","n","parseFloat","parseASCIIElement","values","element","list","j","parseASCII","buffer","indices","vertices","normals","uvs","faceVertexUvs","colors","body","currentElementCount","handleElement","postProcess","geometry","BufferGeometry","setIndex","setAttribute","Float32BufferAttribute","toNonIndexed","computeBoundingSphere","elementName","x","y","z","nx","ny","nz","s","t","red","green","blue","vertex_indices","vertex_index","texcoord","binaryRead","dataview","at","little_endian","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","binaryReadElement","read","ArrayBuffer","LoaderUtils","decodeText","Uint8Array","DataView","loc","parseBinary","webglLoaderPly","container","stats","camera","cameraTarget","scene","renderer","mounted","init","animate","methods","_this","document","createElement","getElementsByClassName","appendChild","$THREE","PerspectiveCamera","$webglInnerWidth","window","innerHeight","position","set","Vector3","Scene","background","Color","fog","Fog","plane","Mesh","PlaneBufferGeometry","MeshPhongMaterial","color","specular","rotation","Math","PI","add","receiveShadow","PLYLoader_PLYLoader","computeVertexNormals","material","MeshStandardMaterial","flatShading","mesh","scale","multiplyScalar","castShadow","HemisphereLight","addShadowedLight","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","outputEncoding","sRGBEncoding","shadowMap","enabled","domElement","$Stats","dom","style","left","addEventListener","onWindowResize","intensity","directionalLight","DirectionalLight","shadow","right","top","bottom","near","far","mapSize","width","height","bias","$onWindowResize","requestAnimationFrame","render","update","timer","Date","now","sin","cos","lookAt","loader_webglLoaderPly","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/71.c1fabcdd0f45bb3c7eb5.js","sourcesContent":["import {\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tLoader,\r\n\tLoaderUtils\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Description: A THREE loader for PLY ASCII files (known as the Polygon\r\n * File Format or the Stanford Triangle Format).\r\n *\r\n * Limitations: ASCII decoding assumes file is UTF-8.\r\n *\r\n * Usage:\r\n *\tvar loader = new PLYLoader();\r\n *\tloader.load('./models/ply/ascii/dolphins.ply', function (geometry) {\r\n *\r\n *\t\tscene.add( new THREE.Mesh( geometry ) );\r\n *\r\n *\t} );\r\n *\r\n * If the PLY file uses non standard property names, they can be mapped while\r\n * loading. For example, the following maps the properties\r\n * “diffuse_(red|green|blue)” in the file to standard color names.\r\n *\r\n * loader.setPropertyNameMapping( {\r\n *\tdiffuse_red: 'red',\r\n *\tdiffuse_green: 'green',\r\n *\tdiffuse_blue: 'blue'\r\n * } );\r\n *\r\n */\r\n\r\n\r\nvar PLYLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n\tthis.propertyNameMapping = {};\r\n\r\n};\r\n\r\nPLYLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: PLYLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetPropertyNameMapping: function ( mapping ) {\r\n\r\n\t\tthis.propertyNameMapping = mapping;\r\n\r\n\t},\r\n\r\n\tparse: function ( data ) {\r\n\r\n\t\tfunction parseHeader( data ) {\r\n\r\n\t\t\tvar patternHeader = /ply([\\s\\S]*)end_header\\r?\\n/;\r\n\t\t\tvar headerText = '';\r\n\t\t\tvar headerLength = 0;\r\n\t\t\tvar result = patternHeader.exec( data );\r\n\r\n\t\t\tif ( result !== null ) {\r\n\r\n\t\t\t\theaderText = result[ 1 ];\r\n\t\t\t\theaderLength = new Blob( [ result[ 0 ] ] ).size;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar header = {\r\n\t\t\t\tcomments: [],\r\n\t\t\t\telements: [],\r\n\t\t\t\theaderLength: headerLength,\r\n\t\t\t\tobjInfo: ''\r\n\t\t\t};\r\n\r\n\t\t\tvar lines = headerText.split( '\\n' );\r\n\t\t\tvar currentElement;\r\n\t\t\tvar lineType, lineValues;\r\n\r\n\t\t\tfunction make_ply_element_property( propertValues, propertyNameMapping ) {\r\n\r\n\t\t\t\tvar property = { type: propertValues[ 0 ] };\r\n\r\n\t\t\t\tif ( property.type === 'list' ) {\r\n\r\n\t\t\t\t\tproperty.name = propertValues[ 3 ];\r\n\t\t\t\t\tproperty.countType = propertValues[ 1 ];\r\n\t\t\t\t\tproperty.itemType = propertValues[ 2 ];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tproperty.name = propertValues[ 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( property.name in propertyNameMapping ) {\r\n\r\n\t\t\t\t\tproperty.name = propertyNameMapping[ property.name ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn property;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\t\t\tvar line = lines[ i ];\r\n\t\t\t\tline = line.trim();\r\n\r\n\t\t\t\tif ( line === '' ) continue;\r\n\r\n\t\t\t\tlineValues = line.split( /\\s+/ );\r\n\t\t\t\tlineType = lineValues.shift();\r\n\t\t\t\tline = lineValues.join( ' ' );\r\n\r\n\t\t\t\tswitch ( lineType ) {\r\n\r\n\t\t\t\t\tcase 'format':\r\n\r\n\t\t\t\t\t\theader.format = lineValues[ 0 ];\r\n\t\t\t\t\t\theader.version = lineValues[ 1 ];\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'comment':\r\n\r\n\t\t\t\t\t\theader.comments.push( line );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'element':\r\n\r\n\t\t\t\t\t\tif ( currentElement !== undefined ) {\r\n\r\n\t\t\t\t\t\t\theader.elements.push( currentElement );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurrentElement = {};\r\n\t\t\t\t\t\tcurrentElement.name = lineValues[ 0 ];\r\n\t\t\t\t\t\tcurrentElement.count = parseInt( lineValues[ 1 ] );\r\n\t\t\t\t\t\tcurrentElement.properties = [];\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'property':\r\n\r\n\t\t\t\t\t\tcurrentElement.properties.push( make_ply_element_property( lineValues, scope.propertyNameMapping ) );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'obj_info':\r\n\r\n\t\t\t\t\t\theader.objInfo = line;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.log( 'unhandled', lineType, lineValues );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( currentElement !== undefined ) {\r\n\r\n\t\t\t\theader.elements.push( currentElement );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn header;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseASCIINumber( n, type ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 'char': case 'uchar': case 'short': case 'ushort': case 'int': case 'uint':\r\n\t\t\t\tcase 'int8': case 'uint8': case 'int16': case 'uint16': case 'int32': case 'uint32':\r\n\r\n\t\t\t\t\treturn parseInt( n );\r\n\r\n\t\t\t\tcase 'float': case 'double': case 'float32': case 'float64':\r\n\r\n\t\t\t\t\treturn parseFloat( n );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseASCIIElement( properties, line ) {\r\n\r\n\t\t\tvar values = line.split( /\\s+/ );\r\n\r\n\t\t\tvar element = {};\r\n\r\n\t\t\tfor ( var i = 0; i < properties.length; i ++ ) {\r\n\r\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\r\n\r\n\t\t\t\t\tvar list = [];\r\n\t\t\t\t\tvar n = parseASCIINumber( values.shift(), properties[ i ].countType );\r\n\r\n\t\t\t\t\tfor ( var j = 0; j < n; j ++ ) {\r\n\r\n\t\t\t\t\t\tlist.push( parseASCIINumber( values.shift(), properties[ i ].itemType ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telement[ properties[ i ].name ] = list;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\telement[ properties[ i ].name ] = parseASCIINumber( values.shift(), properties[ i ].type );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn element;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseASCII( data, header ) {\r\n\r\n\t\t\t// PLY ascii format specification, as per http://en.wikipedia.org/wiki/PLY_(file_format)\r\n\r\n\t\t\tvar buffer = {\r\n\t\t\t\tindices: [],\r\n\t\t\t\tvertices: [],\r\n\t\t\t\tnormals: [],\r\n\t\t\t\tuvs: [],\r\n\t\t\t\tfaceVertexUvs: [],\r\n\t\t\t\tcolors: []\r\n\t\t\t};\r\n\r\n\t\t\tvar result;\r\n\r\n\t\t\tvar patternBody = /end_header\\s([\\s\\S]*)$/;\r\n\t\t\tvar body = '';\r\n\t\t\tif ( ( result = patternBody.exec( data ) ) !== null ) {\r\n\r\n\t\t\t\tbody = result[ 1 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = body.split( '\\n' );\r\n\t\t\tvar currentElement = 0;\r\n\t\t\tvar currentElementCount = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\t\t\tvar line = lines[ i ];\r\n\t\t\t\tline = line.trim();\r\n\t\t\t\tif ( line === '' ) {\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( currentElementCount >= header.elements[ currentElement ].count ) {\r\n\r\n\t\t\t\t\tcurrentElement ++;\r\n\t\t\t\t\tcurrentElementCount = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar element = parseASCIIElement( header.elements[ currentElement ].properties, line );\r\n\r\n\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\r\n\r\n\t\t\t\tcurrentElementCount ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn postProcess( buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction postProcess( buffer ) {\r\n\r\n\t\t\tvar geometry = new BufferGeometry();\r\n\r\n\t\t\t// mandatory buffer data\r\n\r\n\t\t\tif ( buffer.indices.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.setIndex( buffer.indices );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( buffer.vertices, 3 ) );\r\n\r\n\t\t\t// optional buffer data\r\n\r\n\t\t\tif ( buffer.normals.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( buffer.normals, 3 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( buffer.uvs.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.uvs, 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( buffer.colors.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( buffer.colors, 3 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( buffer.faceVertexUvs.length > 0 ) {\r\n\r\n\t\t\t\tgeometry = geometry.toNonIndexed();\r\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.faceVertexUvs, 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.computeBoundingSphere();\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleElement( buffer, elementName, element ) {\r\n\r\n\t\t\tif ( elementName === 'vertex' ) {\r\n\r\n\t\t\t\tbuffer.vertices.push( element.x, element.y, element.z );\r\n\r\n\t\t\t\tif ( 'nx' in element && 'ny' in element && 'nz' in element ) {\r\n\r\n\t\t\t\t\tbuffer.normals.push( element.nx, element.ny, element.nz );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( 's' in element && 't' in element ) {\r\n\r\n\t\t\t\t\tbuffer.uvs.push( element.s, element.t );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( 'red' in element && 'green' in element && 'blue' in element ) {\r\n\r\n\t\t\t\t\tbuffer.colors.push( element.red / 255.0, element.green / 255.0, element.blue / 255.0 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( elementName === 'face' ) {\r\n\r\n\t\t\t\tvar vertex_indices = element.vertex_indices || element.vertex_index; // issue #9338\r\n\t\t\t\tvar texcoord = element.texcoord;\r\n\r\n\t\t\t\tif ( vertex_indices.length === 3 ) {\r\n\r\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 2 ] );\r\n\r\n\t\t\t\t\tif ( texcoord && texcoord.length === 6 ) {\r\n\r\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 0 ], texcoord[ 1 ] );\r\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 2 ], texcoord[ 3 ] );\r\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 4 ], texcoord[ 5 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( vertex_indices.length === 4 ) {\r\n\r\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 3 ] );\r\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 1 ], vertex_indices[ 2 ], vertex_indices[ 3 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction binaryRead( dataview, at, type, little_endian ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\t// corespondences for non-specific length types here match rply:\r\n\t\t\t\tcase 'int8':\t\tcase 'char':\t return [ dataview.getInt8( at ), 1 ];\r\n\t\t\t\tcase 'uint8':\t\tcase 'uchar':\t return [ dataview.getUint8( at ), 1 ];\r\n\t\t\t\tcase 'int16':\t\tcase 'short':\t return [ dataview.getInt16( at, little_endian ), 2 ];\r\n\t\t\t\tcase 'uint16':\tcase 'ushort': return [ dataview.getUint16( at, little_endian ), 2 ];\r\n\t\t\t\tcase 'int32':\t\tcase 'int':\t\t return [ dataview.getInt32( at, little_endian ), 4 ];\r\n\t\t\t\tcase 'uint32':\tcase 'uint':\t return [ dataview.getUint32( at, little_endian ), 4 ];\r\n\t\t\t\tcase 'float32': case 'float':\t return [ dataview.getFloat32( at, little_endian ), 4 ];\r\n\t\t\t\tcase 'float64': case 'double': return [ dataview.getFloat64( at, little_endian ), 8 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction binaryReadElement( dataview, at, properties, little_endian ) {\r\n\r\n\t\t\tvar element = {};\r\n\t\t\tvar result, read = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < properties.length; i ++ ) {\r\n\r\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\r\n\r\n\t\t\t\t\tvar list = [];\r\n\r\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].countType, little_endian );\r\n\t\t\t\t\tvar n = result[ 0 ];\r\n\t\t\t\t\tread += result[ 1 ];\r\n\r\n\t\t\t\t\tfor ( var j = 0; j < n; j ++ ) {\r\n\r\n\t\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].itemType, little_endian );\r\n\t\t\t\t\t\tlist.push( result[ 0 ] );\r\n\t\t\t\t\t\tread += result[ 1 ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telement[ properties[ i ].name ] = list;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].type, little_endian );\r\n\t\t\t\t\telement[ properties[ i ].name ] = result[ 0 ];\r\n\t\t\t\t\tread += result[ 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn [ element, read ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseBinary( data, header ) {\r\n\r\n\t\t\tvar buffer = {\r\n\t\t\t\tindices: [],\r\n\t\t\t\tvertices: [],\r\n\t\t\t\tnormals: [],\r\n\t\t\t\tuvs: [],\r\n\t\t\t\tfaceVertexUvs: [],\r\n\t\t\t\tcolors: []\r\n\t\t\t};\r\n\r\n\t\t\tvar little_endian = ( header.format === 'binary_little_endian' );\r\n\t\t\tvar body = new DataView( data, header.headerLength );\r\n\t\t\tvar result, loc = 0;\r\n\r\n\t\t\tfor ( var currentElement = 0; currentElement < header.elements.length; currentElement ++ ) {\r\n\r\n\t\t\t\tfor ( var currentElementCount = 0; currentElementCount < header.elements[ currentElement ].count; currentElementCount ++ ) {\r\n\r\n\t\t\t\t\tresult = binaryReadElement( body, loc, header.elements[ currentElement ].properties, little_endian );\r\n\t\t\t\t\tloc += result[ 1 ];\r\n\t\t\t\t\tvar element = result[ 0 ];\r\n\r\n\t\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn postProcess( buffer );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar geometry;\r\n\t\tvar scope = this;\r\n\r\n\t\tif ( data instanceof ArrayBuffer ) {\r\n\r\n\t\t\tvar text = LoaderUtils.decodeText( new Uint8Array( data ) );\r\n\t\t\tvar header = parseHeader( text );\r\n\r\n\t\t\tgeometry = header.format === 'ascii' ? parseASCII( text, header ) : parseBinary( data, header );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometry = parseASCII( data, parseHeader( data ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { PLYLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/PLYLoader.js","<template>\r\n    <div class=\"webglLoaderPly-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> -\r\n\t\t\tPLY loader test by <a href=\"https://github.com/menway\" target=\"_blank\" rel=\"noopener\">Wei Meng</a>.<br/>\r\n\t\t\tImage from <a href=\"http://people.sc.fsu.edu/~jburkardt/data/ply/ply.html\">John Burkardt</a>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { PLYLoader } from '@/components/jsm/loaders/PLYLoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            container: null,\r\n            stats: null,\r\n            camera: null,\r\n            cameraTarget: null,\r\n            scene: null,\r\n            renderer: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init()\r\n\t\tthis.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.container = document.createElement('div')\r\n            document.getElementsByClassName('webglLoaderPly-container')[0].appendChild(this.container)\r\n            this.camera = new this.$THREE.PerspectiveCamera(35, this.$webglInnerWidth / window.innerHeight, 1, 15)\r\n            this.camera.position.set(3, 0.15, 3)\r\n            this.cameraTarget = new this.$THREE.Vector3(0, - 0.1, 0)\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.background = new this.$THREE.Color(0x72645b)\r\n            this.scene.fog = new this.$THREE.Fog(0x72645b, 2, 15)\r\n            // Ground\r\n            var plane = new this.$THREE.Mesh(\r\n                new this.$THREE.PlaneBufferGeometry(40, 40),\r\n                new this.$THREE.MeshPhongMaterial({ color: 0x999999, specular: 0x101010 })\r\n            )\r\n            plane.rotation.x = - Math.PI / 2\r\n            plane.position.y = - 0.5\r\n            this.scene.add(plane)\r\n            plane.receiveShadow = true\r\n            // PLY file\r\n            var loader = new PLYLoader()\r\n            loader.load('static/models/ply/ascii/dolphins.ply', (geometry) => {\r\n                geometry.computeVertexNormals()\r\n                var material = new this.$THREE.MeshStandardMaterial({ color: 0x0055ff, flatShading: true })\r\n                var mesh = new this.$THREE.Mesh(geometry, material)\r\n                mesh.position.y = - 0.2\r\n                mesh.position.z = 0.3\r\n                mesh.rotation.x = - Math.PI / 2\r\n                mesh.scale.multiplyScalar(0.001)\r\n                mesh.castShadow = true\r\n                mesh.receiveShadow = true\r\n                this.scene.add(mesh)\r\n            })\r\n            loader.load('static/models/ply/binary/Lucy100k.ply', (geometry) => {\r\n                geometry.computeVertexNormals()\r\n                var material = new this.$THREE.MeshStandardMaterial({ color: 0x0055ff, flatShading: true })\r\n                var mesh = new this.$THREE.Mesh(geometry, material)\r\n                mesh.position.x = - 0.2\r\n                mesh.position.y = - 0.02\r\n                mesh.position.z = - 0.2\r\n                mesh.scale.multiplyScalar(0.0006)\r\n                mesh.castShadow = true\r\n                mesh.receiveShadow = true\r\n                this.scene.add(mesh)\r\n            })\r\n            // Lights\r\n            this.scene.add(new this.$THREE.HemisphereLight(0x443333, 0x111122))\r\n            this.addShadowedLight(1, 1, 1, 0xffffff, 1.35)\r\n            this.addShadowedLight(0.5, 1, - 1, 0xffaa00, 1)\r\n            // renderer\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            this.renderer.outputEncoding = this.$THREE.sRGBEncoding\r\n            this.renderer.shadowMap.enabled = true\r\n            this.container.appendChild(this.renderer.domElement)\r\n            // stats\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            this.container.appendChild(this.stats.dom)\r\n            // resize\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        addShadowedLight(x, y, z, color, intensity) {\r\n            var directionalLight = new this.$THREE.DirectionalLight(color, intensity)\r\n            directionalLight.position.set(x, y, z)\r\n            this.scene.add(directionalLight)\r\n            directionalLight.castShadow = true\r\n            var d = 1\r\n            directionalLight.shadow.camera.left = - d\r\n            directionalLight.shadow.camera.right = d\r\n            directionalLight.shadow.camera.top = d\r\n            directionalLight.shadow.camera.bottom = - d\r\n            directionalLight.shadow.camera.near = 1\r\n            directionalLight.shadow.camera.far = 4\r\n            directionalLight.shadow.mapSize.width = 1024\r\n            directionalLight.shadow.mapSize.height = 1024\r\n            directionalLight.shadow.bias = - 0.001\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.render()\r\n            this.stats.update()\r\n        },\r\n        render() {\r\n            var timer = Date.now() * 0.0005\r\n            this.camera.position.x = Math.sin(timer) * 2.5\r\n            this.camera.position.z = Math.cos(timer) * 2.5\r\n            this.camera.lookAt(this.cameraTarget)\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglLoaderPly-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/loader/webglLoaderPly.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglLoaderPly-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" -\\n\\t\\t\\tPLY loader test by \"),_c('a',{attrs:{\"href\":\"https://github.com/menway\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Wei Meng\")]),_vm._v(\".\"),_c('br'),_vm._v(\"\\n\\t\\t\\tImage from \"),_c('a',{attrs:{\"href\":\"http://people.sc.fsu.edu/~jburkardt/data/ply/ply.html\"}},[_vm._v(\"John Burkardt\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f2cdaee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/loader/webglLoaderPly.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f2cdaee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglLoaderPly.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderPly.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderPly.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f2cdaee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglLoaderPly.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f2cdaee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/loader/webglLoaderPly.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}