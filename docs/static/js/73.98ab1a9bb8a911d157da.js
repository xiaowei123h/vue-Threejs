webpackJsonp([73],{ouXO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{camera:null,scene:null,renderer:null,cameraOrtho:null,sceneOrtho:null,spriteTL:null,spriteTR:null,spriteBL:null,spriteBR:null,spriteC:null,mapC:null,group:null}},mounted:function(){this.init(),this.animate()},methods:{init:function(){var t=this.$webglInnerWidth,e=window.innerHeight;this.camera=new this.$THREE.PerspectiveCamera(60,t/e,1,2100),this.camera.position.z=1500,this.cameraOrtho=new this.$THREE.OrthographicCamera(-t/2,t/2,e/2,-e/2,1,10),this.cameraOrtho.position.z=10,this.scene=new this.$THREE.Scene,this.scene.fog=new this.$THREE.Fog(0,1500,2100),this.sceneOrtho=new this.$THREE.Scene;var i=new this.$THREE.TextureLoader;i.load("static/textures/sprite0.png",this.createHUDSprites);var s=i.load("static/textures/sprite1.png");this.mapC=i.load("static/textures/sprite2.png"),this.group=new this.$THREE.Group;for(var r=new this.$THREE.SpriteMaterial({map:this.mapC,color:16777215,fog:!0}),n=new this.$THREE.SpriteMaterial({map:s,color:16777215,fog:!0}),a=0;a<200;a++){var h,o=Math.random()-.5,p=Math.random()-.5,c=Math.random()-.5;c<0?h=n.clone():((h=r.clone()).color.setHSL(.5*Math.random(),.75,.5),h.map.offset.set(-.5,-.5),h.map.repeat.set(2,2));var d=new this.$THREE.Sprite(h);d.position.set(o,p,c),d.position.normalize(),d.position.multiplyScalar(500),this.group.add(d)}this.scene.add(this.group),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.renderer.autoClear=!1,document.getElementsByClassName("webglSprites-container")[0].appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},createHUDSprites:function(t){var e=new this.$THREE.SpriteMaterial({map:t}),i=e.map.image.width,s=e.map.image.height;this.spriteTL=new this.$THREE.Sprite(e),this.spriteTL.center.set(0,1),this.spriteTL.scale.set(i,s,1),this.sceneOrtho.add(this.spriteTL),this.spriteTR=new this.$THREE.Sprite(e),this.spriteTR.center.set(1,1),this.spriteTR.scale.set(i,s,1),this.sceneOrtho.add(this.spriteTR),this.spriteBL=new this.$THREE.Sprite(e),this.spriteBL.center.set(0,0),this.spriteBL.scale.set(i,s,1),this.sceneOrtho.add(this.spriteBL),this.spriteBR=new this.$THREE.Sprite(e),this.spriteBR.center.set(1,0),this.spriteBR.scale.set(i,s,1),this.sceneOrtho.add(this.spriteBR),this.spriteC=new this.$THREE.Sprite(e),this.spriteC.center.set(.5,.5),this.spriteC.scale.set(i,s,1),this.sceneOrtho.add(this.spriteC),this.updateHUDSprites()},updateHUDSprites:function(){var t=(window.innerWidth-281)/2,e=window.innerHeight/2;this.spriteTL.position.set(-t,e,1),this.spriteTR.position.set(t,e,1),this.spriteBL.position.set(-t,-e,1),this.spriteBR.position.set(t,-e,1),this.spriteC.position.set(0,0,1)},onWindowResize:function(){var t=window.innerWidth-281,e=window.innerHeight;this.$onWindowResize(this.camera,this.renderer),this.cameraOrtho.left=-t/2,this.cameraOrtho.right=t/2,this.cameraOrtho.top=e/2,this.cameraOrtho.bottom=-e/2,this.cameraOrtho.updateProjectionMatrix(),this.updateHUDSprites()},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){for(var t=Date.now()/1e3,e=0,i=this.group.children.length;e<i;e++){var s=this.group.children[e],r=s.material,n=.3*Math.sin(t+.01*s.position.x)+1,a=1,h=1;r.map&&r.map.image&&r.map.image.width&&(a=r.map.image.width,h=r.map.image.height),s.material.rotation+=e/i*.1,s.scale.set(n*a,n*h,1),r.map!==this.mapC&&(r.opacity=.4*Math.sin(t+.01*s.position.x)+.6)}this.group.rotation.x=.5*t,this.group.rotation.y=.75*t,this.group.rotation.z=1*t,this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.renderer.clearDepth(),this.renderer.render(this.sceneOrtho,this.cameraOrtho)}}},r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"webglSprites-container"},[e("div",{attrs:{id:"info"}},[e("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - sprites\n\t\t")])])}]};var n=i("VU/8")(s,r,!1,function(t){i("pED6")},"data-v-fb0b441e",null);e.default=n.exports},pED6:function(t,e){}});
//# sourceMappingURL=73.98ab1a9bb8a911d157da.js.map