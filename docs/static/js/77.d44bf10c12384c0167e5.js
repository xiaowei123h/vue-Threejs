webpackJsonp([77],{"4bJh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("QEtz"),a=n("p8Aj"),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={data:function(){return{camera:null,scene:null,renderer:null,object:null,light:null,nodepost:null,gui:null,clock:null,frame:null,param:null,textureLoader:null,lensflare2:null,decalNormal:null}},mounted:function(){this.clock=new this.$THREE.Clock,this.frame=new a.NodeFrame,this.param={example:new URL(window.location.href).searchParams.get("e")||"color-adjustment"},this.textureLoader=new this.$THREE.TextureLoader,this.lensflare2=this.textureLoader.load("static/textures/lensflare/lensflare0.png"),this.lensflare2.wrapS=this.lensflare2.wrapT=this.$THREE.RepeatWrapping,this.decalNormal=this.textureLoader.load("static/textures/decal/decal-normal.jpg"),this.decalNormal.wrapS=this.decalNormal.wrapT=this.$THREE.RepeatWrapping,this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{clearGui:function(){var e=this;this.gui&&this.gui.destroy(),this.gui=new o.a,this.gui.add(this.param,"example",{"basic / color-adjustment":"color-adjustment","basic / blends":"blends","basic / fade":"fade","basic / invert":"invert","basic / blur":"blur","adv / motion-blur":"motion-blur","adv / saturation":"saturation","adv / refraction":"refraction","adv / mosaic":"mosaic"}).onFinishChange(function(){e.updateMaterial()}),this.gui.open()},addGui:function(e,t,n,o,a,r){var s,d=this;return this.param[e]=t,o?s=this.gui.addColor(this.param,e).onChange(function(){n(d.param[e])}):"object"==(void 0===t?"undefined":i(t))?(this.param[e]=t[Object.keys(t)[0]],s=this.gui.add(this.param,e,t).onChange(function(){n(d.param[e])})):s=this.gui.add(this.param,e,a,r).onChange(function(){n(d.param[e])}),s},updateMaterial:function(){var e,t,n,o,i=this,r=this.param.example;switch(this.clearGui(),r){case"color-adjustment":e=new a.ScreenNode;var s=new a.FloatNode,d=new a.FloatNode(1),u=new a.FloatNode,h=new a.FloatNode(0),l=new a.FloatNode(1),c=new a.ColorAdjustmentNode(e,s,a.ColorAdjustmentNode.HUE),p=new a.ColorAdjustmentNode(c,d,a.ColorAdjustmentNode.SATURATION),w=new a.ColorAdjustmentNode(p,u,a.ColorAdjustmentNode.VIBRANCE),m=new a.ColorAdjustmentNode(w,h,a.ColorAdjustmentNode.BRIGHTNESS),N=new a.ColorAdjustmentNode(m,l,a.ColorAdjustmentNode.CONTRAST);this.nodepost.output=N,this.addGui("hue",s.value,function(e){s.value=e},!1,0,2*Math.PI),this.addGui("saturation",d.value,function(e){d.value=e},!1,0,2),this.addGui("vibrance",u.value,function(e){u.value=e},!1,-1,1),this.addGui("brightness",h.value,function(e){h.value=e},!1,0,.5),this.addGui("contrast",l.value,function(e){l.value=e},!1,0,2);break;case"fade":var f=new a.ColorNode(16777215),v=new a.FloatNode(.5);t=new a.MathNode(new a.ScreenNode,f,v,a.MathNode.MIX),this.nodepost.output=t,this.addGui("color",f.value.getHex(),function(e){f.value.setHex(e)},!0),this.addGui("fade",v.value,function(e){v.value=e},!1,0,1);break;case"invert":var b=new a.FloatNode(1);e=new a.ScreenNode;var g=new a.MathNode(e,a.MathNode.INVERT);t=new a.MathNode(e,g,b,a.MathNode.MIX),this.nodepost.output=t,this.addGui("alpha",b.value,function(e){b.value=e},!1,0,1);break;case"blends":var E=new a.OperatorNode(new a.ScreenNode,new a.TextureNode(this.lensflare2),a.OperatorNode.ADD);this.nodepost.output=E,this.addGui("blend",{addition:a.OperatorNode.ADD,subtract:a.OperatorNode.SUB,multiply:a.OperatorNode.MUL,division:a.OperatorNode.DIV},function(e){E.op=e,i.nodepost.needsUpdate=!0});break;case"saturation":e=new a.ScreenNode;var M=new a.FloatNode(0),R=new a.FunctionNode(["vec3 satrgb( vec3 rgb, float adjustment ) {","\tvec3 intensity = vec3( luminance( rgb ) );","\treturn mix( intensity, rgb, adjustment );","}"].join("\n"),[a.LuminanceNode.Nodes.luminance]),T=new a.FunctionCallNode(R);T.inputs.rgb=e,T.inputs.adjustment=M,this.nodepost.output=T,this.addGui("saturation",M.value,function(e){M.value=e},!1,0,2);break;case"refraction":var j=new a.TextureNode(this.decalNormal),S=new a.SwitchNode(j,"xy");n=new a.FloatNode(.5);var y=new a.MathNode(S,a.MathNode.INVERT),C=new a.OperatorNode(y,new a.FloatNode(.5),a.OperatorNode.ADD),x=new a.OperatorNode(new a.SwitchNode(j,"z"),C,a.OperatorNode.MUL),G=new a.MathNode(new a.FloatNode(1),x,n,a.MathNode.MIX),H=new a.OperatorNode(new a.UVNode,G,a.OperatorNode.MUL);e=new a.ScreenNode(H),this.nodepost.output=e,this.addGui("scale",n.value,function(e){n.value=e},!1,0,1),this.addGui("invert",!1,function(e){C.a=e?y:S,i.nodepost.needsUpdate=!0});break;case"motion-blur":o=this.renderer.getDrawingBufferSize(new this.$THREE.Vector2),e=new a.ScreenNode;var O=new a.RTTNode(o.width,o.height,e),F=new a.MathNode(O,e,new a.FloatNode(.5),a.MathNode.MIX),$=new a.RTTNode(o.width,o.height,F);$.saveTo=O,this.nodepost.output=$;break;case"mosaic":n=new a.FloatNode(128),t=new a.FloatNode(1);var A=new a.UVNode,k=new a.OperatorNode(A,n,a.OperatorNode.MUL),L=new a.MathNode(k,a.MathNode.FLOOR),I=new a.OperatorNode(L,n,a.OperatorNode.DIV),U=new a.MathNode(A,I,t,a.MathNode.MIX);this.nodepost.output=new a.ScreenNode(U),this.addGui("scale",n.value,function(e){n.value=e},!1,16,1024),this.addGui("fade",t.value,function(e){t.value=e},!1,0,1),this.addGui("mask",!1,function(e){U.c=e?new a.TextureNode(i.lensflare2):t,i.nodepost.needsUpdate=!0});break;case"blur":o=this.renderer.getDrawingBufferSize(new this.$THREE.Vector2);var D=new a.BlurNode(new a.ScreenNode);D.size=new this.$THREE.Vector2(o.width,o.height),this.nodepost.output=D,this.addGui("blurX",D.radius.x,function(e){D.radius.x=e},!1,0,15),this.addGui("blurY",D.radius.y,function(e){D.radius.y=e},!1,0,15)}this.nodepost.needsUpdate=!0},init:function(){this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglPostprocessingNodes-container")[0].appendChild(this.renderer.domElement),this.nodepost=new a.NodePostProcessing(this.renderer),this.camera=new this.$THREE.PerspectiveCamera(70,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.z=400,this.scene=new this.$THREE.Scene,this.scene.fog=new this.$THREE.Fog(26367,1,1e3),this.object=new this.$THREE.Object3D,this.scene.add(this.object);for(var e=new this.$THREE.SphereBufferGeometry(1,4,4),t=0;t<100;t++){var n=new this.$THREE.MeshPhongMaterial({color:8947848+8947848*Math.random(),flatShading:!0}),o=new this.$THREE.Mesh(e,n);o.position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),o.position.multiplyScalar(400*Math.random()),o.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),o.scale.x=o.scale.y=o.scale.z=10+40*Math.random(),this.object.add(o)}this.scene.add(new this.$THREE.AmbientLight(10066329)),this.light=new this.$THREE.DirectionalLight(16777215),this.light.position.set(1,1,1),this.scene.add(this.light),this.updateMaterial(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate);var e=this.clock.getDelta();this.object.rotation.x+=.005,this.object.rotation.y+=.01,this.frame.update(e),this.nodepost.render(this.scene,this.camera,this.frame)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglPostprocessingNodes-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - Node-Based Post-Processing\n\t\t")])])}]};var d=n("VU/8")(r,s,!1,function(e){n("neCw")},"data-v-f1e22ae0",null);t.default=d.exports},neCw:function(e,t){}});
//# sourceMappingURL=77.d44bf10c12384c0167e5.js.map