webpackJsonp([78],{"5f+d":function(e,t){},"W8+H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("w45l"),r=n("DqHV"),s={data:function(){return{vs:null,fs:null,camera:null,scene:null,mesh:null,renderer:null,stats:null,planeWidth:50,planeHeight:50,depthStep:.4}},mounted:function(){this.vs="\n            uniform vec2 size;\n            out vec2 vUv;\n            void main() {\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                // Convert position.xy to 1.0-0.0\n                vUv.xy = position.xy / size + 0.5;\n                vUv.y = 1.0 - vUv.y; // original data is upside down\n            }",this.fs="\n            precision highp float;\n            precision highp int;\n            precision highp sampler2DArray;\n            uniform sampler2DArray diffuse;\n            in vec2 vUv;\n            uniform int depth;\n            out vec4 outColor;\n            void main() {\n                vec4 color = texture(diffuse, vec3(vUv, depth));\n                // lighten a bit\n                outColor = vec4(color.rrr * 1.5, 1.0);\n            }",!1===r.a.isWebGL2Available()&&document.getElementsByClassName("webgl2MaterialsTexture2darray-container")[0].appendChild(r.a.getWebGL2ErrorMessage()),this.init(),this.animate()},methods:{init:function(){var e=this,t=document.createElement("div");document.getElementsByClassName("webgl2MaterialsTexture2darray-container")[0].appendChild(t),this.camera=new this.$THREE.PerspectiveCamera(45,this.$webglInnerWidth/window.innerHeight,.1,2e3),this.camera.position.z=70,this.scene=new this.$THREE.Scene,(new this.$THREE.FileLoader).setResponseType("arraybuffer").load("static/textures/3d/head256x256x109.zip",function(t){var n=new i.a(t).files.head256x256x109.asUint8Array(),r=new e.$THREE.DataTexture2DArray(n,256,256,109);r.format=e.$THREE.RedFormat,r.type=e.$THREE.UnsignedByteType;var s=new e.$THREE.ShaderMaterial({uniforms:{diffuse:{value:r},depth:{value:55},size:{value:new e.$THREE.Vector2(e.planeWidth,e.planeHeight)}},vertexShader:e.vs,fragmentShader:e.fs,glslVersion:e.$THREE.GLSL3}),a=new e.$THREE.PlaneBufferGeometry(e.planeWidth,e.planeHeight);e.mesh=new e.$THREE.Mesh(a,s),e.scene.add(e.mesh)}),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),t.appendChild(this.renderer.domElement),this.stats=new this.$Stats,this.stats.dom.style.left="280px",t.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){if(requestAnimationFrame(this.animate),this.mesh){var e=this.mesh.material.uniforms.depth.value;((e+=this.depthStep)>109||e<0)&&(e>1&&(e=218-e),e<0&&(e=-e),this.depthStep=-this.depthStep),this.mesh.material.uniforms.depth.value=e}this.render(),this.stats.update()},render:function(){this.renderer.render(this.scene,this.camera)}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webgl2MaterialsTexture2darray-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - 2D Texture array"),t("br"),this._v("\n\t\t\tScanned head data by\n\t\t\t"),t("a",{attrs:{href:"https://www.codeproject.com/Articles/352270/Getting-started-with-Volume-Rendering",target:"_blank",rel:"noopener"}},[this._v("Divine Augustine")]),t("br"),this._v("\n\t\t\tlicensed under\n\t\t\t"),t("a",{attrs:{href:"https://www.codeproject.com/info/cpol10.aspx",target:"_blank",rel:"noopener"}},[this._v("CPOL")])])])}]};var o=n("VU/8")(s,a,!1,function(e){n("5f+d")},"data-v-f066eb4c",null);t.default=o.exports}});
//# sourceMappingURL=78.ffa19e667d081b48e517.js.map