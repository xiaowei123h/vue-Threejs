{"version":3,"sources":["webpack:///./src/components/jsm/loaders/DDSLoader.js","webpack:///./src/components/jsm/loaders/MTLLoader.js","webpack:///src/views/loader/webglLoaderObjMtl.vue","webpack:///./src/views/loader/webglLoaderObjMtl.vue?98b9","webpack:///./src/views/loader/webglLoaderObjMtl.vue","webpack:///./src/components/jsm/loaders/OBJLoader.js"],"names":["DDSLoader","manager","CompressedTextureLoader","call","this","prototype","Object","assign","create","constructor","parse","buffer","loadMipmaps","dds","mipmaps","width","height","format","mipmapCount","fourCCToInt32","value","charCodeAt","loadARGBMip","dataOffset","dataLength","srcBuffer","Uint8Array","byteArray","dst","src","y","x","b","g","r","a","blockBytes","FOURCC_DXT1","FOURCC_DXT3","FOURCC_DXT5","FOURCC_ETC1","header","Int32Array","console","error","fourCC","isRGBAUncompressed","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_ETC1_Format","String","fromCharCode","RGBAFormat","Math","max","caps2","isCubemap","faces","face","i","length","mipmap","data","push","MTLLoader","Loader","load","url","onLoad","onProgress","onError","scope","path","LoaderUtils","extractUrlBase","loader","FileLoader","setPath","setRequestHeader","requestHeader","setWithCredentials","withCredentials","text","e","itemError","setMaterialOptions","materialOptions","lines","split","info","delimiter_pattern","materialsInfo","line","trim","charAt","pos","indexOf","key","substring","toLowerCase","name","ss","parseFloat","materialCreator","MaterialCreator","resourcePath","setCrossOrigin","crossOrigin","setManager","setMaterials","baseUrl","options","materials","materialsArray","nameLookup","side","FrontSide","wrap","RepeatWrapping","convert","converted","mn","mat","covmat","prop","save","lprop","normalizeRGB","ignoreZeroRGBs","preload","getIndex","materialName","getAsArray","index","undefined","createMaterial_","params","setMapForType","mapType","texParams","getTextureParams","map","loadTexture","test","repeat","copy","scale","offset","wrapS","wrapT","n","color","Color","fromArray","specular","emissive","transparent","shininess","opacity","invertTrProperty","MeshPhongMaterial","matParams","Vector2","items","bumpScale","splice","set","join","mapping","texture","DefaultLoadingManager","getHandler","TextureLoader","webglLoaderObjMtl","camera","scene","renderer","mouseX","mouseY","windowHalfX","windowHalfY","mounted","$webglInnerWidth","window","innerHeight","init","animate","methods","_this","container","document","createElement","getElementsByClassName","appendChild","$THREE","PerspectiveCamera","position","z","Scene","ambientLight","AmbientLight","add","pointLight","PointLight","xhr","lengthComputable","percentComplete","loaded","total","log","round","LoadingManager","addHandler","DDSLoader_DDSLoader","MTLLoader_MTLLoader","OBJLoader","object","WebGLRenderer","setPixelRatio","devicePixelRatio","setSize","domElement","addEventListener","onDocumentMouseMove","onWindowResize","innerWidth","$onWindowResize","event","clientX","clientY","requestAnimationFrame","render","lookAt","loader_webglLoaderObjMtl","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","d","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","object_pattern","material_library_pattern","material_use_pattern","map_use_pattern","vA","Vector3","vB","vC","ab","cb","state","objects","vertices","normals","colors","uvs","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","geometry","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","groupCount","material","mtllib","Array","isArray","groupStart","groupEnd","clone","cloned","bind","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","c","addVertexPoint","addVertexLine","addNormal","addFaceNormal","subVectors","cross","normalize","addColor","addUV","addDefaultUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","nLen","uvLen","addPointGeometry","type","vi","l","addLineGeometry","uvi","replace","lineFirstChar","result","trimLeft","vertexData","substr","faceVertices","j","jl","vertex","vertexParts","v1","v2","v3","lineParts","lineVertices","lineUVs","li","llen","parts","pointData","exec","warn","Group","concat","isLine","isPoints","hasVertexColors","buffergeometry","BufferGeometry","setAttribute","Float32BufferAttribute","mesh","createdMaterials","miLen","materialHash","sourceMaterial","LineBasicMaterial","PointsMaterial","materialPoints","size","sizeAttenuation","Material","materialLine","flatShading","vertexColors","addGroup","LineSegments","Points","Mesh"],"mappings":"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","file":"static/js/8.033789f435b75ed24b5d.js","sourcesContent":["import {\r\n\tCompressedTextureLoader,\r\n\tRGBAFormat,\r\n\tRGBA_S3TC_DXT3_Format,\r\n\tRGBA_S3TC_DXT5_Format,\r\n\tRGB_ETC1_Format,\r\n\tRGB_S3TC_DXT1_Format\r\n} from \"@/components/build/three.module.js\";\r\n\r\n\r\nvar DDSLoader = function ( manager ) {\r\n\r\n\tCompressedTextureLoader.call( this, manager );\r\n\r\n};\r\n\r\nDDSLoader.prototype = Object.assign( Object.create( CompressedTextureLoader.prototype ), {\r\n\r\n\tconstructor: DDSLoader,\r\n\r\n\tparse: function ( buffer, loadMipmaps ) {\r\n\r\n\t\tvar dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\r\n\r\n\t\t// Adapted from @toji's DDS utils\r\n\t\t// https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\r\n\r\n\t\t// All values and structures referenced from:\r\n\t\t// http://msdn.microsoft.com/en-us/library/bb943991.aspx/\r\n\r\n\t\tvar DDS_MAGIC = 0x20534444;\r\n\r\n\t\t// var DDSD_CAPS = 0x1;\r\n\t\t// var DDSD_HEIGHT = 0x2;\r\n\t\t// var DDSD_WIDTH = 0x4;\r\n\t\t// var DDSD_PITCH = 0x8;\r\n\t\t// var DDSD_PIXELFORMAT = 0x1000;\r\n\t\tvar DDSD_MIPMAPCOUNT = 0x20000;\r\n\t\t// var DDSD_LINEARSIZE = 0x80000;\r\n\t\t// var DDSD_DEPTH = 0x800000;\r\n\r\n\t\t// var DDSCAPS_COMPLEX = 0x8;\r\n\t\t// var DDSCAPS_MIPMAP = 0x400000;\r\n\t\t// var DDSCAPS_TEXTURE = 0x1000;\r\n\r\n\t\tvar DDSCAPS2_CUBEMAP = 0x200;\r\n\t\tvar DDSCAPS2_CUBEMAP_POSITIVEX = 0x400;\r\n\t\tvar DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800;\r\n\t\tvar DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000;\r\n\t\tvar DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000;\r\n\t\tvar DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000;\r\n\t\tvar DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000;\r\n\t\t// var DDSCAPS2_VOLUME = 0x200000;\r\n\r\n\t\t// var DDPF_ALPHAPIXELS = 0x1;\r\n\t\t// var DDPF_ALPHA = 0x2;\r\n\t\tvar DDPF_FOURCC = 0x4;\r\n\t\t// var DDPF_RGB = 0x40;\r\n\t\t// var DDPF_YUV = 0x200;\r\n\t\t// var DDPF_LUMINANCE = 0x20000;\r\n\r\n\t\tfunction fourCCToInt32( value ) {\r\n\r\n\t\t\treturn value.charCodeAt( 0 ) +\r\n\t\t\t\t( value.charCodeAt( 1 ) << 8 ) +\r\n\t\t\t\t( value.charCodeAt( 2 ) << 16 ) +\r\n\t\t\t\t( value.charCodeAt( 3 ) << 24 );\r\n\r\n\t\t}\r\n\r\n\t\tfunction int32ToFourCC( value ) {\r\n\r\n\t\t\treturn String.fromCharCode(\r\n\t\t\t\tvalue & 0xff,\r\n\t\t\t\t( value >> 8 ) & 0xff,\r\n\t\t\t\t( value >> 16 ) & 0xff,\r\n\t\t\t\t( value >> 24 ) & 0xff\r\n\t\t\t);\r\n\r\n\t\t}\r\n\r\n\t\tfunction loadARGBMip( buffer, dataOffset, width, height ) {\r\n\r\n\t\t\tvar dataLength = width * height * 4;\r\n\t\t\tvar srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\r\n\t\t\tvar byteArray = new Uint8Array( dataLength );\r\n\t\t\tvar dst = 0;\r\n\t\t\tvar src = 0;\r\n\t\t\tfor ( var y = 0; y < height; y ++ ) {\r\n\r\n\t\t\t\tfor ( var x = 0; x < width; x ++ ) {\r\n\r\n\t\t\t\t\tvar b = srcBuffer[ src ]; src ++;\r\n\t\t\t\t\tvar g = srcBuffer[ src ]; src ++;\r\n\t\t\t\t\tvar r = srcBuffer[ src ]; src ++;\r\n\t\t\t\t\tvar a = srcBuffer[ src ]; src ++;\r\n\t\t\t\t\tbyteArray[ dst ] = r; dst ++;\t//r\r\n\t\t\t\t\tbyteArray[ dst ] = g; dst ++;\t//g\r\n\t\t\t\t\tbyteArray[ dst ] = b; dst ++;\t//b\r\n\t\t\t\t\tbyteArray[ dst ] = a; dst ++;\t//a\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn byteArray;\r\n\r\n\t\t}\r\n\r\n\t\tvar FOURCC_DXT1 = fourCCToInt32( \"DXT1\" );\r\n\t\tvar FOURCC_DXT3 = fourCCToInt32( \"DXT3\" );\r\n\t\tvar FOURCC_DXT5 = fourCCToInt32( \"DXT5\" );\r\n\t\tvar FOURCC_ETC1 = fourCCToInt32( \"ETC1\" );\r\n\r\n\t\tvar headerLengthInt = 31; // The header length in 32 bit ints\r\n\r\n\t\t// Offsets into the header array\r\n\r\n\t\tvar off_magic = 0;\r\n\r\n\t\tvar off_size = 1;\r\n\t\tvar off_flags = 2;\r\n\t\tvar off_height = 3;\r\n\t\tvar off_width = 4;\r\n\r\n\t\tvar off_mipmapCount = 7;\r\n\r\n\t\tvar off_pfFlags = 20;\r\n\t\tvar off_pfFourCC = 21;\r\n\t\tvar off_RGBBitCount = 22;\r\n\t\tvar off_RBitMask = 23;\r\n\t\tvar off_GBitMask = 24;\r\n\t\tvar off_BBitMask = 25;\r\n\t\tvar off_ABitMask = 26;\r\n\r\n\t\t// var off_caps = 27;\r\n\t\tvar off_caps2 = 28;\r\n\t\t// var off_caps3 = 29;\r\n\t\t// var off_caps4 = 30;\r\n\r\n\t\t// Parse header\r\n\r\n\t\tvar header = new Int32Array( buffer, 0, headerLengthInt );\r\n\r\n\t\tif ( header[ off_magic ] !== DDS_MAGIC ) {\r\n\r\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Invalid magic number in DDS header.' );\r\n\t\t\treturn dds;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! header[ off_pfFlags ] & DDPF_FOURCC ) {\r\n\r\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code.' );\r\n\t\t\treturn dds;\r\n\r\n\t\t}\r\n\r\n\t\tvar blockBytes;\r\n\r\n\t\tvar fourCC = header[ off_pfFourCC ];\r\n\r\n\t\tvar isRGBAUncompressed = false;\r\n\r\n\t\tswitch ( fourCC ) {\r\n\r\n\t\t\tcase FOURCC_DXT1:\r\n\r\n\t\t\t\tblockBytes = 8;\r\n\t\t\t\tdds.format = RGB_S3TC_DXT1_Format;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase FOURCC_DXT3:\r\n\r\n\t\t\t\tblockBytes = 16;\r\n\t\t\t\tdds.format = RGBA_S3TC_DXT3_Format;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase FOURCC_DXT5:\r\n\r\n\t\t\t\tblockBytes = 16;\r\n\t\t\t\tdds.format = RGBA_S3TC_DXT5_Format;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase FOURCC_ETC1:\r\n\r\n\t\t\t\tblockBytes = 8;\r\n\t\t\t\tdds.format = RGB_ETC1_Format;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tif ( header[ off_RGBBitCount ] === 32\r\n\t\t\t\t\t&& header[ off_RBitMask ] & 0xff0000\r\n\t\t\t\t\t&& header[ off_GBitMask ] & 0xff00\r\n\t\t\t\t\t&& header[ off_BBitMask ] & 0xff\r\n\t\t\t\t\t&& header[ off_ABitMask ] & 0xff000000 ) {\r\n\r\n\t\t\t\t\tisRGBAUncompressed = true;\r\n\t\t\t\t\tblockBytes = 64;\r\n\t\t\t\t\tdds.format = RGBAFormat;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( 'THREE.DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC( fourCC ) );\r\n\t\t\t\t\treturn dds;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tdds.mipmapCount = 1;\r\n\r\n\t\tif ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\r\n\r\n\t\t\tdds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\r\n\r\n\t\t}\r\n\r\n\t\tvar caps2 = header[ off_caps2 ];\r\n\t\tdds.isCubemap = caps2 & DDSCAPS2_CUBEMAP ? true : false;\r\n\t\tif ( dds.isCubemap && (\r\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEX ) ||\r\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX ) ||\r\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEY ) ||\r\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY ) ||\r\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ ) ||\r\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ )\r\n\t\t) ) {\r\n\r\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Incomplete cubemap faces' );\r\n\t\t\treturn dds;\r\n\r\n\t\t}\r\n\r\n\t\tdds.width = header[ off_width ];\r\n\t\tdds.height = header[ off_height ];\r\n\r\n\t\tvar dataOffset = header[ off_size ] + 4;\r\n\r\n\t\t// Extract mipmaps buffers\r\n\r\n\t\tvar faces = dds.isCubemap ? 6 : 1;\r\n\r\n\t\tfor ( var face = 0; face < faces; face ++ ) {\r\n\r\n\t\t\tvar width = dds.width;\r\n\t\t\tvar height = dds.height;\r\n\r\n\t\t\tfor ( var i = 0; i < dds.mipmapCount; i ++ ) {\r\n\r\n\t\t\t\tif ( isRGBAUncompressed ) {\r\n\r\n\t\t\t\t\tvar byteArray = loadARGBMip( buffer, dataOffset, width, height );\r\n\t\t\t\t\tvar dataLength = byteArray.length;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar dataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\r\n\t\t\t\t\tvar byteArray = new Uint8Array( buffer, dataOffset, dataLength );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar mipmap = { \"data\": byteArray, \"width\": width, \"height\": height };\r\n\t\t\t\tdds.mipmaps.push( mipmap );\r\n\r\n\t\t\t\tdataOffset += dataLength;\r\n\r\n\t\t\t\twidth = Math.max( width >> 1, 1 );\r\n\t\t\t\theight = Math.max( height >> 1, 1 );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn dds;\r\n\r\n\t}\r\n\r\n} );\r\n\r\nexport { DDSLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/DDSLoader.js","import {\r\n\tColor,\r\n\tDefaultLoadingManager,\r\n\tFileLoader,\r\n\tFrontSide,\r\n\tLoader,\r\n\tLoaderUtils,\r\n\tMeshPhongMaterial,\r\n\tRepeatWrapping,\r\n\tTextureLoader,\r\n\tVector2\r\n} from \"@/components/build/three.module.js\";\r\n\r\n/**\r\n * Loads a Wavefront .mtl file specifying materials\r\n */\r\n\r\nvar MTLLoader = function ( manager ) {\r\n\r\n\tLoader.call( this, manager );\r\n\r\n};\r\n\r\nMTLLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\tconstructor: MTLLoader,\r\n\r\n\t/**\r\n\t * Loads and parses a MTL asset from a URL.\r\n\t *\r\n\t * @param {String} url - URL to the MTL file.\r\n\t * @param {Function} [onLoad] - Callback invoked with the loaded object.\r\n\t * @param {Function} [onProgress] - Callback for download progress.\r\n\t * @param {Function} [onError] - Callback for download errors.\r\n\t *\r\n\t * @see setPath setResourcePath\r\n\t *\r\n\t * @note In order for relative texture references to resolve correctly\r\n\t * you must call setResourcePath() explicitly prior to load.\r\n\t */\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\r\n\r\n\t\tvar loader = new FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tonLoad( scope.parse( text, path ) );\r\n\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetMaterialOptions: function ( value ) {\r\n\r\n\t\tthis.materialOptions = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Parses a MTL file.\r\n\t *\r\n\t * @param {String} text - Content of MTL file\r\n\t * @return {MTLLoader.MaterialCreator}\r\n\t *\r\n\t * @see setPath setResourcePath\r\n\t *\r\n\t * @note In order for relative texture references to resolve correctly\r\n\t * you must call setResourcePath() explicitly prior to parse.\r\n\t */\r\n\tparse: function ( text, path ) {\r\n\r\n\t\tvar lines = text.split( '\\n' );\r\n\t\tvar info = {};\r\n\t\tvar delimiter_pattern = /\\s+/;\r\n\t\tvar materialsInfo = {};\r\n\r\n\t\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\t\tvar line = lines[ i ];\r\n\t\t\tline = line.trim();\r\n\r\n\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\r\n\r\n\t\t\t\t// Blank line or comment ignore\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar pos = line.indexOf( ' ' );\r\n\r\n\t\t\tvar key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\r\n\t\t\tkey = key.toLowerCase();\r\n\r\n\t\t\tvar value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\r\n\t\t\tvalue = value.trim();\r\n\r\n\t\t\tif ( key === 'newmtl' ) {\r\n\r\n\t\t\t\t// New material\r\n\r\n\t\t\t\tinfo = { name: value };\r\n\t\t\t\tmaterialsInfo[ value ] = info;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( key === 'ka' || key === 'kd' || key === 'ks' || key === 'ke' ) {\r\n\r\n\t\t\t\t\tvar ss = value.split( delimiter_pattern, 3 );\r\n\t\t\t\t\tinfo[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tinfo[ key ] = value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar materialCreator = new MTLLoader.MaterialCreator( this.resourcePath || path, this.materialOptions );\r\n\t\tmaterialCreator.setCrossOrigin( this.crossOrigin );\r\n\t\tmaterialCreator.setManager( this.manager );\r\n\t\tmaterialCreator.setMaterials( materialsInfo );\r\n\t\treturn materialCreator;\r\n\r\n\t}\r\n\r\n} );\r\n\r\n/**\r\n * Create a new MTLLoader.MaterialCreator\r\n * @param baseUrl - Url relative to which textures are loaded\r\n * @param options - Set of options on how to construct the materials\r\n *                  side: Which side to apply the material\r\n *                        FrontSide (default), THREE.BackSide, THREE.DoubleSide\r\n *                  wrap: What type of wrapping to apply for textures\r\n *                        RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\r\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\r\n *                                Default: false, assumed to be already normalized\r\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\r\n *                                  Default: false\r\n * @constructor\r\n */\r\n\r\nMTLLoader.MaterialCreator = function ( baseUrl, options ) {\r\n\r\n\tthis.baseUrl = baseUrl || '';\r\n\tthis.options = options;\r\n\tthis.materialsInfo = {};\r\n\tthis.materials = {};\r\n\tthis.materialsArray = [];\r\n\tthis.nameLookup = {};\r\n\r\n\tthis.side = ( this.options && this.options.side ) ? this.options.side : FrontSide;\r\n\tthis.wrap = ( this.options && this.options.wrap ) ? this.options.wrap : RepeatWrapping;\r\n\r\n};\r\n\r\nMTLLoader.MaterialCreator.prototype = {\r\n\r\n\tconstructor: MTLLoader.MaterialCreator,\r\n\r\n\tcrossOrigin: 'anonymous',\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\t\treturn this;\r\n\r\n\t},\r\n\r\n\tsetManager: function ( value ) {\r\n\r\n\t\tthis.manager = value;\r\n\r\n\t},\r\n\r\n\tsetMaterials: function ( materialsInfo ) {\r\n\r\n\t\tthis.materialsInfo = this.convert( materialsInfo );\r\n\t\tthis.materials = {};\r\n\t\tthis.materialsArray = [];\r\n\t\tthis.nameLookup = {};\r\n\r\n\t},\r\n\r\n\tconvert: function ( materialsInfo ) {\r\n\r\n\t\tif ( ! this.options ) return materialsInfo;\r\n\r\n\t\tvar converted = {};\r\n\r\n\t\tfor ( var mn in materialsInfo ) {\r\n\r\n\t\t\t// Convert materials info into normalized form based on options\r\n\r\n\t\t\tvar mat = materialsInfo[ mn ];\r\n\r\n\t\t\tvar covmat = {};\r\n\r\n\t\t\tconverted[ mn ] = covmat;\r\n\r\n\t\t\tfor ( var prop in mat ) {\r\n\r\n\t\t\t\tvar save = true;\r\n\t\t\t\tvar value = mat[ prop ];\r\n\t\t\t\tvar lprop = prop.toLowerCase();\r\n\r\n\t\t\t\tswitch ( lprop ) {\r\n\r\n\t\t\t\t\tcase 'kd':\r\n\t\t\t\t\tcase 'ka':\r\n\t\t\t\t\tcase 'ks':\r\n\r\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\r\n\r\n\t\t\t\t\t\tif ( this.options && this.options.normalizeRGB ) {\r\n\r\n\t\t\t\t\t\t\tvalue = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( this.options && this.options.ignoreZeroRGBs ) {\r\n\r\n\t\t\t\t\t\t\tif ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t// ignore\r\n\r\n\t\t\t\t\t\t\t\tsave = false;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( save ) {\r\n\r\n\t\t\t\t\tcovmat[ lprop ] = value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn converted;\r\n\r\n\t},\r\n\r\n\tpreload: function () {\r\n\r\n\t\tfor ( var mn in this.materialsInfo ) {\r\n\r\n\t\t\tthis.create( mn );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetIndex: function ( materialName ) {\r\n\r\n\t\treturn this.nameLookup[ materialName ];\r\n\r\n\t},\r\n\r\n\tgetAsArray: function () {\r\n\r\n\t\tvar index = 0;\r\n\r\n\t\tfor ( var mn in this.materialsInfo ) {\r\n\r\n\t\t\tthis.materialsArray[ index ] = this.create( mn );\r\n\t\t\tthis.nameLookup[ mn ] = index;\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.materialsArray;\r\n\r\n\t},\r\n\r\n\tcreate: function ( materialName ) {\r\n\r\n\t\tif ( this.materials[ materialName ] === undefined ) {\r\n\r\n\t\t\tthis.createMaterial_( materialName );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.materials[ materialName ];\r\n\r\n\t},\r\n\r\n\tcreateMaterial_: function ( materialName ) {\r\n\r\n\t\t// Create material\r\n\r\n\t\tvar scope = this;\r\n\t\tvar mat = this.materialsInfo[ materialName ];\r\n\t\tvar params = {\r\n\r\n\t\t\tname: materialName,\r\n\t\t\tside: this.side\r\n\r\n\t\t};\r\n\r\n\t\tfunction resolveURL( baseUrl, url ) {\r\n\r\n\t\t\tif ( typeof url !== 'string' || url === '' )\r\n\t\t\t\treturn '';\r\n\r\n\t\t\t// Absolute URL\r\n\t\t\tif ( /^https?:\\/\\//i.test( url ) ) return url;\r\n\r\n\t\t\treturn baseUrl + url;\r\n\r\n\t\t}\r\n\r\n\t\tfunction setMapForType( mapType, value ) {\r\n\r\n\t\t\tif ( params[ mapType ] ) return; // Keep the first encountered texture\r\n\r\n\t\t\tvar texParams = scope.getTextureParams( value, params );\r\n\t\t\tvar map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\r\n\r\n\t\t\tmap.repeat.copy( texParams.scale );\r\n\t\t\tmap.offset.copy( texParams.offset );\r\n\r\n\t\t\tmap.wrapS = scope.wrap;\r\n\t\t\tmap.wrapT = scope.wrap;\r\n\r\n\t\t\tparams[ mapType ] = map;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var prop in mat ) {\r\n\r\n\t\t\tvar value = mat[ prop ];\r\n\t\t\tvar n;\r\n\r\n\t\t\tif ( value === '' ) continue;\r\n\r\n\t\t\tswitch ( prop.toLowerCase() ) {\r\n\r\n\t\t\t\t// Ns is material specular exponent\r\n\r\n\t\t\t\tcase 'kd':\r\n\r\n\t\t\t\t\t// Diffuse color (color under white light) using RGB values\r\n\r\n\t\t\t\t\tparams.color = new Color().fromArray( value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ks':\r\n\r\n\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\r\n\t\t\t\t\tparams.specular = new Color().fromArray( value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ke':\r\n\r\n\t\t\t\t\t// Emissive using RGB values\r\n\t\t\t\t\tparams.emissive = new Color().fromArray( value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_kd':\r\n\r\n\t\t\t\t\t// Diffuse texture map\r\n\r\n\t\t\t\t\tsetMapForType( \"map\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_ks':\r\n\r\n\t\t\t\t\t// Specular map\r\n\r\n\t\t\t\t\tsetMapForType( \"specularMap\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_ke':\r\n\r\n\t\t\t\t\t// Emissive map\r\n\r\n\t\t\t\t\tsetMapForType( \"emissiveMap\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'norm':\r\n\r\n\t\t\t\t\tsetMapForType( \"normalMap\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_bump':\r\n\t\t\t\tcase 'bump':\r\n\r\n\t\t\t\t\t// Bump texture map\r\n\r\n\t\t\t\t\tsetMapForType( \"bumpMap\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_d':\r\n\r\n\t\t\t\t\t// Alpha map\r\n\r\n\t\t\t\t\tsetMapForType( \"alphaMap\", value );\r\n\t\t\t\t\tparams.transparent = true;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ns':\r\n\r\n\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\r\n\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\r\n\r\n\t\t\t\t\tparams.shininess = parseFloat( value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'd':\r\n\t\t\t\t\tn = parseFloat( value );\r\n\r\n\t\t\t\t\tif ( n < 1 ) {\r\n\r\n\t\t\t\t\t\tparams.opacity = n;\r\n\t\t\t\t\t\tparams.transparent = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tr':\r\n\t\t\t\t\tn = parseFloat( value );\r\n\r\n\t\t\t\t\tif ( this.options && this.options.invertTrProperty ) n = 1 - n;\r\n\r\n\t\t\t\t\tif ( n > 0 ) {\r\n\r\n\t\t\t\t\t\tparams.opacity = 1 - n;\r\n\t\t\t\t\t\tparams.transparent = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.materials[ materialName ] = new MeshPhongMaterial( params );\r\n\t\treturn this.materials[ materialName ];\r\n\r\n\t},\r\n\r\n\tgetTextureParams: function ( value, matParams ) {\r\n\r\n\t\tvar texParams = {\r\n\r\n\t\t\tscale: new Vector2( 1, 1 ),\r\n\t\t\toffset: new Vector2( 0, 0 )\r\n\r\n\t\t };\r\n\r\n\t\tvar items = value.split( /\\s+/ );\r\n\t\tvar pos;\r\n\r\n\t\tpos = items.indexOf( '-bm' );\r\n\r\n\t\tif ( pos >= 0 ) {\r\n\r\n\t\t\tmatParams.bumpScale = parseFloat( items[ pos + 1 ] );\r\n\t\t\titems.splice( pos, 2 );\r\n\r\n\t\t}\r\n\r\n\t\tpos = items.indexOf( '-s' );\r\n\r\n\t\tif ( pos >= 0 ) {\r\n\r\n\t\t\ttexParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\r\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\r\n\r\n\t\t}\r\n\r\n\t\tpos = items.indexOf( '-o' );\r\n\r\n\t\tif ( pos >= 0 ) {\r\n\r\n\t\t\ttexParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\r\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\r\n\r\n\t\t}\r\n\r\n\t\ttexParams.url = items.join( ' ' ).trim();\r\n\t\treturn texParams;\r\n\r\n\t},\r\n\r\n\tloadTexture: function ( url, mapping, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar texture;\r\n\t\tvar manager = ( this.manager !== undefined ) ? this.manager : DefaultLoadingManager;\r\n\t\tvar loader = manager.getHandler( url );\r\n\r\n\t\tif ( loader === null ) {\r\n\r\n\t\t\tloader = new TextureLoader( manager );\r\n\r\n\t\t}\r\n\r\n\t\tif ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\r\n\t\ttexture = loader.load( url, onLoad, onProgress, onError );\r\n\r\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { MTLLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/MTLLoader.js","<template>\r\n    <div class=\"webglLoaderObjMtl-container\">\r\n        <div id=\"info\">\r\n\t\t    <a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - OBJLoader + MTLLoader\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { DDSLoader } from '@/components/jsm/loaders/DDSLoader.js'\r\nimport { MTLLoader } from '@/components/jsm/loaders/MTLLoader.js'\r\nimport { OBJLoader } from '@/components/jsm/loaders/OBJLoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n            mouseX: 0,\r\n            mouseY: 0,\r\n\t\t\twindowHalfX: null,\r\n\t\t\twindowHalfY: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.windowHalfX = this.$webglInnerWidth / 2\r\n        this.windowHalfY = window.innerHeight / 2\r\n        this.init()\r\n        this.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            var container = document.createElement('div')\r\n            document.getElementsByClassName('webglLoaderObjMtl-container')[0].appendChild(container)\r\n            this.camera = new this.$THREE.PerspectiveCamera(45, this.$webglInnerWidth / window.innerHeight, 1, 2000)\r\n            this.camera.position.z = 250\r\n            // scene\r\n            this.scene = new this.$THREE.Scene()\r\n            var ambientLight = new this.$THREE.AmbientLight(0xcccccc, 0.4)\r\n            this.scene.add(ambientLight)\r\n            var pointLight = new this.$THREE.PointLight(0xffffff, 0.8)\r\n            this.camera.add(pointLight)\r\n            this.scene.add(this.camera)\r\n            // model\r\n            var onProgress = (xhr) => {\r\n                if (xhr.lengthComputable) {\r\n                    var percentComplete = xhr.loaded / xhr.total * 100\r\n                    console.log(Math.round(percentComplete, 2) + '% downloaded')\r\n                }\r\n            }\r\n            var onError = () => { }\r\n            var manager = new this.$THREE.LoadingManager()\r\n            manager.addHandler(/\\.dds$/i, new DDSLoader())\r\n            // comment in the following line and import TGALoader if your asset uses TGA textures\r\n            // manager.addHandler(/\\.tga$/i, new TGALoader())\r\n            new MTLLoader(manager)\r\n                .setPath('static/models/obj/male02/')\r\n                .load('male02_dds.mtl', (materials) => {\r\n                    materials.preload()\r\n                    new OBJLoader(manager)\r\n                        .setMaterials(materials)\r\n                        .setPath('static/models/obj/male02/')\r\n                        .load('male02.obj', (object) => {\r\n                            object.position.y = - 95\r\n                            this.scene.add(object)\r\n                        }, onProgress, onError)\r\n                })\r\n            //\r\n            this.renderer = new this.$THREE.WebGLRenderer()\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            container.appendChild(this.renderer.domElement)\r\n            document.addEventListener('mousemove', this.onDocumentMouseMove, false)\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            this.windowHalfX = (window.innerWidth - 281) / 2\r\n            this.windowHalfY = window.innerHeight / 2\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        onDocumentMouseMove(event) {\r\n            this.mouseX = (event.clientX - this.windowHalfX) / 2\r\n            this.mouseY = (event.clientY - this.windowHalfY) / 2\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.render()\r\n        },\r\n        render() {\r\n            this.camera.position.x += (this.mouseX - this.camera.position.x) * .05\r\n            this.camera.position.y += (- this.mouseY - this.camera.position.y) * .05\r\n            this.camera.lookAt(this.scene.position)\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglLoaderObjMtl-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/loader/webglLoaderObjMtl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglLoaderObjMtl-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - OBJLoader + MTLLoader\\n\\t\\t\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2cdef17b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/loader/webglLoaderObjMtl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2cdef17b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglLoaderObjMtl.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderObjMtl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLoaderObjMtl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2cdef17b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglLoaderObjMtl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2cdef17b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/loader/webglLoaderObjMtl.vue\n// module id = null\n// module chunks = ","import {\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tGroup,\r\n\tLineBasicMaterial,\r\n\tLineSegments,\r\n\tLoader,\r\n\tMaterial,\r\n\tMesh,\r\n\tMeshPhongMaterial,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar OBJLoader = ( function () {\r\n\r\n\t// o object_name | g group_name\r\n\tvar object_pattern = /^[og]\\s*(.+)?/;\r\n\t// mtllib file_reference\r\n\tvar material_library_pattern = /^mtllib /;\r\n\t// usemtl material_name\r\n\tvar material_use_pattern = /^usemtl /;\r\n\t// usemap map_name\r\n\tvar map_use_pattern = /^usemap /;\r\n\r\n\tvar vA = new Vector3();\r\n\tvar vB = new Vector3();\r\n\tvar vC = new Vector3();\r\n\r\n\tvar ab = new Vector3();\r\n\tvar cb = new Vector3();\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects: [],\r\n\t\t\tobject: {},\r\n\r\n\t\t\tvertices: [],\r\n\t\t\tnormals: [],\r\n\t\t\tcolors: [],\r\n\t\t\tuvs: [],\r\n\r\n\t\t\tmaterials: {},\r\n\t\t\tmaterialLibraries: [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname: name || '',\r\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\tvertices: [],\r\n\t\t\t\t\t\tnormals: [],\r\n\t\t\t\t\t\tcolors: [],\r\n\t\t\t\t\t\tuvs: [],\r\n\t\t\t\t\t\thasUVIndices: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials: [],\r\n\t\t\t\t\tsmooth: true,\r\n\r\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex: this.materials.length,\r\n\t\t\t\t\t\t\tname: name || '',\r\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\tinherited: false,\r\n\r\n\t\t\t\t\t\t\tclone: function ( index ) {\r\n\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\t\t\tinherited: false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize: function ( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push( {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tsmooth: this.smooth\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexPoint: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFaceNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tvA.fromArray( src, a );\r\n\t\t\t\tvB.fromArray( src, b );\r\n\t\t\t\tvC.fromArray( src, c );\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tcb.normalize();\r\n\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddColor: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.colors;\r\n\t\t\t\tvar dst = this.object.geometry.colors;\r\n\r\n\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddDefaultUV: function () {\r\n\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\r\n\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\t\t\t\tthis.addColor( ia, ib, ic );\r\n\r\n\t\t\t\t// normals\r\n\r\n\t\t\t\tif ( na !== undefined && na !== '' ) {\r\n\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uvs\r\n\r\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\r\n\r\n\t\t\t\t\tthis.addDefaultUV();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddPointGeometry: function ( vertices ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Points';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction OBJLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.materials = null;\r\n\r\n\t}\r\n\r\n\tOBJLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: OBJLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetMaterials: function ( materials ) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( text ) {\r\n\r\n\t\t\tvar state = new ParserState();\r\n\r\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = text.split( '\\n' );\r\n\t\t\tvar line = '', lineFirstChar = '';\r\n\t\t\tvar lineLength = 0;\r\n\t\t\tvar result = [];\r\n\r\n\t\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tline = lines[ i ];\r\n\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\t\tlineLength = line.length;\r\n\r\n\t\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t\t// @todo invoke passed in handler if any\r\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\t\tvar data = line.split( /\\s+/ );\r\n\r\n\t\t\t\t\tswitch ( data[ 0 ] ) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif ( data.length >= 7 ) {\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push(\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\r\n\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\r\n\t\t\t\t\tvar faceVertices = [];\r\n\r\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\r\n\r\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\r\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\r\n\r\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\r\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\r\n\r\n\t\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\r\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\r\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\r\n\r\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\r\n\r\n\t\t\t\t\tstate.addPointGeometry( pointData );\r\n\r\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// material\r\n\r\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\r\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t\t} else if ( map_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\r\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\r\n\r\n\t\t\t\t\tresult = line.split( ' ' );\r\n\r\n\t\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t\t\t * or\r\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t\t\t * than 0.\"\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( result.length > 1 ) {\r\n\r\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\r\n\t\t\tvar container = new Group();\r\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar object = state.objects[ i ];\r\n\t\t\t\tvar geometry = object.geometry;\r\n\t\t\t\tvar materials = object.materials;\r\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\r\n\t\t\t\tvar hasVertexColors = false;\r\n\r\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\t\tvar buffergeometry = new BufferGeometry();\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\r\n\r\n\t\t\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\t\t\thasVertexColors = true;\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\r\n\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create materials\r\n\r\n\t\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\tvar materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\r\n\t\t\t\t\tvar material = state.materials[ materialHash ];\r\n\r\n\t\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialLine = new LineBasicMaterial();\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\r\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\r\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\r\n\t\t\t\t\t\t\tmaterial = materialPoints;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( material === undefined ) {\r\n\r\n\t\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\r\n\r\n\t\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\r\n\r\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreatedMaterials.push( material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = object.name;\r\n\r\n\t\t\t\tcontainer.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn OBJLoader;\r\n\r\n} )();\r\n\r\nexport { OBJLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/OBJLoader.js"],"sourceRoot":""}