webpackJsonp([8],{"+eMq":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("QEtz"),i=t("Glcs"),a={data:function(){return{params:{exposure:2},renderer:null,scene:null,camera:null,gui:null}},mounted:function(){this.init()},beforeDestroy:function(){this.gui.hide()},methods:{init:function(){var e=this;this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),document.getElementsByClassName("webglLoaderTextureHdr-container")[0].appendChild(this.renderer.domElement),this.renderer.toneMapping=this.$THREE.ReinhardToneMapping,this.renderer.toneMappingExposure=this.params.exposure,this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.scene=new this.$THREE.Scene;var r=this.$webglInnerWidth/window.innerHeight;this.camera=new this.$THREE.OrthographicCamera(-r,r,1,-1,0,1),(new i.a).setDataType(this.$THREE.UnsignedByteType).load("static/textures/memorial.hdr",function(r,t){var n=new e.$THREE.MeshBasicMaterial({map:r}),i=new e.$THREE.PlaneBufferGeometry(1.5*t.width/t.height,1.5),a=new e.$THREE.Mesh(i,n);e.scene.add(a),e.render()}),this.gui=new n.a,this.gui.add(this.params,"exposure",0,4,.01).onChange(this.render),this.gui.open(),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){var e=window.innerWidth-281/window.innerHeight,r=this.camera.top-this.camera.bottom;this.camera.left=-r*e/2,this.camera.right=r*e/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth-281,window.innerHeight),this.render()},render:function(){this.renderer.toneMappingExposure=this.params.exposure,this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"webglLoaderTextureHdr-container"},[r("div",{attrs:{id:"info"}},[r("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - webgl HDR (RGBE) texture loader example"),r("br"),this._v("\n\t\t\tImage courtesy of "),r("a",{attrs:{href:"http://www.pauldebevec.com/Research/HDR/",target:"_blank",rel:"noopener"}},[this._v("Paul Debevec")]),this._v(".\n\t\t")])])}]};var o=t("VU/8")(a,s,!1,function(e){t("umcO")},"data-v-6d66af58",null);r.default=o.exports},Glcs:function(e,r,t){"use strict";t.d(r,"a",function(){return i});var n=t("6+nK"),i=function(e){n.y.call(this,e),this.type=n._82};i.prototype=Object.assign(Object.create(n.y.prototype),{constructor:i,parse:function(e){var r=function(e,r){switch(e){case 1:console.error("RGBELoader Read Error: "+(r||""));break;case 2:console.error("RGBELoader Write Error: "+(r||""));break;case 3:console.error("RGBELoader Bad File Format: "+(r||""));break;default:case 4:console.error("RGBELoader: Error: "+(r||""))}return-1},t=function(e,r,t){r=r||1024;for(var n=e.pos,i=-1,a=0,s="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));0>(i=o.indexOf("\n"))&&a<r&&n<e.byteLength;)s+=o,a+=o.length,n+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return-1<i&&(!1!==t&&(e.pos+=a+i+1),s+o.slice(0,i))},i=function(e,r,t,i){var a=e[r+3],s=Math.pow(2,a-128)/255;t[i+0]=n.z.toHalfFloat(e[r+0]*s),t[i+1]=n.z.toHalfFloat(e[r+1]*s),t[i+2]=n.z.toHalfFloat(e[r+2]*s)},a=new Uint8Array(e);a.pos=0;var s,o,h,d,c,l,u=function(e){var n,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,h=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,d={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(n=t(e)))return r(1,"no header found");if(!(i=n.match(/^#\?(\S+)$/)))return r(3,"bad initial token");for(d.valid|=1,d.programtype=i[1],d.string+=n+"\n";!1!==(n=t(e));)if(d.string+=n+"\n","#"!==n.charAt(0)){if((i=n.match(a))&&(d.gamma=parseFloat(i[1],10)),(i=n.match(s))&&(d.exposure=parseFloat(i[1],10)),(i=n.match(o))&&(d.valid|=2,d.format=i[1]),(i=n.match(h))&&(d.valid|=4,d.height=parseInt(i[1],10),d.width=parseInt(i[2],10)),2&d.valid&&4&d.valid)break}else d.comments+=n+"\n";return 2&d.valid?4&d.valid?d:r(3,"missing image size specifier"):r(3,"missing format specifier")}(a);if(-1!==u){var p=u.width,f=u.height,m=function(e,t,n){var i,a,s,o,h,d,c,l,u,p,f,m,g,w=t,y=n;if(w<8||w>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(w!==(e[2]<<8|e[3]))return r(3,"wrong scanline width");if(!(i=new Uint8Array(4*t*n)).length)return r(4,"unable to allocate buffer space");for(a=0,s=0,l=4*w,g=new Uint8Array(4),d=new Uint8Array(l);y>0&&s<e.byteLength;){if(s+4>e.byteLength)return r(1);if(g[0]=e[s++],g[1]=e[s++],g[2]=e[s++],g[3]=e[s++],2!=g[0]||2!=g[1]||(g[2]<<8|g[3])!=w)return r(3,"bad rgbe scanline format");for(c=0;c<l&&s<e.byteLength;){if((m=(o=e[s++])>128)&&(o-=128),0===o||c+o>l)return r(3,"bad scanline data");if(m)for(h=e[s++],u=0;u<o;u++)d[c++]=h;else d.set(e.subarray(s,s+o),c),c+=o,s+=o}for(p=w,u=0;u<p;u++)f=0,i[a]=d[u+f],f+=w,i[a+1]=d[u+f],f+=w,i[a+2]=d[u+f],f+=w,i[a+3]=d[u+f],a+=4;y--}return i}(a.subarray(a.pos),p,f);if(-1!==m){switch(this.type){case n._82:var g=m,w=n._49,y=n._82;break;case n.J:for(var E=m.length/4*3,v=new Float32Array(E),b=0;b<E;b++)h=v,d=3*b,void 0,void 0,c=(s=m)[(o=4*b)+3],l=Math.pow(2,c-128)/255,h[d+0]=s[o+0]*l,h[d+1]=s[o+1]*l,h[d+2]=s[o+2]*l;g=v,w=n._50,y=n.J;break;case n.O:E=m.length/4*3;var R=new Uint16Array(E);for(b=0;b<E;b++)i(m,4*b,R,3*b);g=R,w=n._50,y=n.O;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:p,height:f,data:g,header:u.string,gamma:u.gamma,exposure:u.exposure,format:w,type:y}}}return null},setDataType:function(e){return this.type=e,this},load:function(e,r,t,i){return n.y.prototype.load.call(this,e,function(e,t){switch(e.type){case n._82:e.encoding=n._48,e.minFilter=n._23,e.magFilter=n._23,e.generateMipmaps=!1,e.flipY=!0;break;case n.J:case n.O:e.encoding=n._4,e.minFilter=n._5,e.magFilter=n._5,e.generateMipmaps=!1,e.flipY=!0}r&&r(e,t)},t,i)}})},umcO:function(e,r){}});
//# sourceMappingURL=8.dbbadf3168660064ed49.js.map