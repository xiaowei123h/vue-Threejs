webpackJsonp([82],{id1N:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6+nK"),r={data:function(){return{container:null,camera:null,scene:null,renderer:null,effect:null,spheres:[],mouseX:0,mouseY:0,windowHalfX:null,windowHalfY:null}},mounted:function(){this.windowHalfX=this.$webglInnerWidth/2,this.windowHalfY=window.innerHeight/2,document.addEventListener("mousemove",this.onDocumentMouseMove,!1),this.init(),this.animate()},methods:{init:function(){this.container=document.createElement("div"),document.getElementsByClassName("webglEffectsAnaglyph-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(60,this.$webglInnerWidth/window.innerHeight,.01,100),this.camera.position.z=3,this.camera.focalLength=3;var e="static/textures/cube/pisa/",t=[e+"px.png",e+"nx.png",e+"py.png",e+"ny.png",e+"pz.png",e+"nz.png"],i=(new this.$THREE.CubeTextureLoader).load(t);this.scene=new this.$THREE.Scene,this.scene.background=i;for(var r=new this.$THREE.SphereBufferGeometry(.1,32,16),a=new this.$THREE.MeshBasicMaterial({color:16777215,envMap:i}),o=0;o<500;o++){var s=new this.$THREE.Mesh(r,a);s.position.x=10*Math.random()-5,s.position.y=10*Math.random()-5,s.position.z=10*Math.random()-5,s.scale.x=s.scale.y=s.scale.z=3*Math.random()+1,this.scene.add(s),this.spheres.push(s)}this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement);var c=this.$webglInnerWidth||2,h=window.innerHeight||2;this.effect=new function(e,t,i){this.colorMatrixLeft=(new n.Matrix3).fromArray([1.0671679973602295,-.0016435992438346148,.0001777536963345483,-.028107794001698494,-.00019593400065787137,-.0002875397040043026,-.04279090091586113,15809757314855233e-21,-.00024287120322696865]),this.colorMatrixRight=(new n.Matrix3).fromArray([-.0355340838432312,-.06440307199954987,.018319187685847282,-.10269022732973099,.8079727292060852,-.04835830628871918,.0001224992738571018,-.009558862075209618,.567823588848114]);var r=new n.OrthographicCamera(-1,1,1,-1,0,1),a=new n.Scene,o=new n.StereoCamera,s={minFilter:n.LinearFilter,magFilter:n.NearestFilter,format:n.RGBAFormat};void 0===t&&(t=512),void 0===i&&(i=512);var c=new n.WebGLRenderTarget(t,i,s),h=new n.WebGLRenderTarget(t,i,s),l=new n.ShaderMaterial({uniforms:{mapLeft:{value:c.texture},mapRight:{value:h.texture},colorMatrixLeft:{value:this.colorMatrixLeft},colorMatrixRight:{value:this.colorMatrixRight}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = vec2( uv.x, uv.y );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D mapLeft;","uniform sampler2D mapRight;","varying vec2 vUv;","uniform mat3 colorMatrixLeft;","uniform mat3 colorMatrixRight;","float lin( float c ) {","\treturn c <= 0.04045 ? c * 0.0773993808 :","\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );","}","vec4 lin( vec4 c ) {","\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );","}","float dev( float c ) {","\treturn c <= 0.0031308 ? c * 12.92","\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;","}","void main() {","\tvec2 uv = vUv;","\tvec4 colorL = lin( texture2D( mapLeft, uv ) );","\tvec4 colorR = lin( texture2D( mapRight, uv ) );","\tvec3 color = clamp(","\t\t\tcolorMatrixLeft * colorL.rgb +","\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );","\tgl_FragColor = vec4(","\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),","\t\t\tmax( colorL.a, colorR.a ) );","}"].join("\n")}),d=new n.Mesh(new n.PlaneBufferGeometry(2,2),l);a.add(d),this.setSize=function(t,i){e.setSize(t,i);var n=e.getPixelRatio();c.setSize(t*n,i*n),h.setSize(t*n,i*n)},this.render=function(t,i){var n=e.getRenderTarget();t.updateMatrixWorld(),null===i.parent&&i.updateMatrixWorld(),o.update(i),e.setRenderTarget(c),e.clear(),e.render(t,o.cameraL),e.setRenderTarget(h),e.clear(),e.render(t,o.cameraR),e.setRenderTarget(null),e.render(a,r),e.setRenderTarget(n)},this.dispose=function(){c&&c.dispose(),h&&h.dispose(),d&&d.geometry.dispose(),l&&l.dispose()}}(this.renderer),this.effect.setSize(c,h),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.windowHalfX=(window.innerWidth-281)/2,this.windowHalfY=window.innerHeight/2,this.camera.aspect=(window.innerWidth-281)/window.innerHeight,this.camera.updateProjectionMatrix(),this.effect.setSize(window.innerWidth-281,window.innerHeight)},onDocumentMouseMove:function(e){this.mouseX=(e.clientX-281-this.windowHalfX)/100,this.mouseY=(e.clientY-this.windowHalfY)/100},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){var e=1e-4*Date.now();this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position);for(var t=0,i=this.spheres.length;t<i;t++){var n=this.spheres[t];n.position.x=5*Math.cos(e+t),n.position.y=5*Math.sin(e+1.1*t)}this.effect.render(this.scene,this.camera)}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglEffectsAnaglyph-container"},[t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - effects - anaglyph"),t("br"),this._v("\n\t\t\tskybox by "),t("a",{attrs:{href:"http://ict.debevec.org/~debevec/",target:"_blank",rel:"noopener"}},[this._v("Paul Debevec")])])])}]};var o=i("VU/8")(r,a,!1,function(e){i("lGG6")},"data-v-e8a176fa",null);t.default=o.exports},lGG6:function(e,t){}});
//# sourceMappingURL=82.961c6d592a9c756213c4.js.map