{"version":3,"sources":["webpack:///src/views/lights/webglLightsPointlights.vue","webpack:///./src/views/lights/webglLightsPointlights.vue?e9e0","webpack:///./src/views/lights/webglLightsPointlights.vue","webpack:///./src/components/jsm/loaders/OBJLoader.js"],"names":["webglLightsPointlights","data","camera","scene","renderer","light1","light2","light3","light4","object","stats","clock","mounted","this","$THREE","Clock","init","animate","methods","_this","PerspectiveCamera","$webglInnerWidth","window","innerHeight","position","z","Scene","OBJLoader","load","obj","scale","multiplyScalar","y","add","sphere","SphereBufferGeometry","PointLight","Mesh","MeshBasicMaterial","color","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","document","getElementsByClassName","appendChild","domElement","$Stats","dom","style","left","addEventListener","onWindowResize","$onWindowResize","requestAnimationFrame","render","update","time","Date","now","delta","getDelta","rotation","x","Math","sin","cos","lights_webglLightsPointlights","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","d","__WEBPACK_IMPORTED_MODULE_0__components_build_three_module_js__","object_pattern","material_library_pattern","material_use_pattern","map_use_pattern","vA","Vector3","vB","vC","ab","cb","manager","Loader","call","materials","prototype","Object","assign","create","constructor","url","onLoad","onProgress","onError","scope","loader","FileLoader","setPath","path","setRequestHeader","requestHeader","setWithCredentials","withCredentials","text","parse","e","console","error","itemError","setMaterials","state","objects","vertices","normals","colors","uvs","materialLibraries","startObject","name","fromDeclaration","previousMaterial","currentMaterial","undefined","_finalize","geometry","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","groupCount","splice","index","material","length","mtllib","Array","isArray","groupStart","groupEnd","clone","cloned","bind","push","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","value","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","a","b","c","src","dst","addVertexPoint","addVertexLine","addNormal","addFaceNormal","fromArray","subVectors","cross","normalize","addColor","addUV","addDefaultUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","nLen","uvLen","addPointGeometry","type","vi","l","addLineGeometry","uvi","indexOf","replace","lines","split","line","lineFirstChar","result","trimLeft","i","trim","charAt","parseFloat","vertexData","substr","faceVertices","j","jl","vertex","vertexParts","v1","v2","v3","lineParts","substring","lineVertices","lineUVs","li","llen","parts","pointData","exec","test","warn","toLowerCase","container","Group","concat","isLine","isPoints","hasVertexColors","buffergeometry","BufferGeometry","setAttribute","Float32BufferAttribute","mesh","createdMaterials","miLen","materialHash","sourceMaterial","LineBasicMaterial","PointsMaterial","materialPoints","size","sizeAttenuation","Material","copy","map","materialLine","MeshPhongMaterial","flatShading","vertexColors","addGroup","LineSegments","Points"],"mappings":"4IAWAA,GACAC,KADA,WAEA,OACAC,OAAA,KACAC,MAAA,KACAC,SAAA,KACAC,OAAA,KACAC,OAAA,KACAC,OAAA,KACAC,OAAA,KACAC,OAAA,KACAC,MAAA,KACAC,MAAA,OAGAC,QAfA,WAgBAC,KAAAF,MAAA,IAAAE,KAAAC,OAAAC,MACAF,KAAAG,OACAH,KAAAI,WAEAC,SACAF,KADA,WACA,IAAAG,EAAAN,KACAA,KAAAX,OAAA,IAAAW,KAAAC,OAAAM,kBAAA,GAAAP,KAAAQ,iBAAAC,OAAAC,YAAA,OACAV,KAAAX,OAAAsB,SAAAC,EAAA,IACAZ,KAAAV,MAAA,IAAAU,KAAAC,OAAAY,OAEA,IAAAC,EAAA,GACAC,KAAA,+CAAAC,GACAV,EAAAV,OAAAoB,EACAV,EAAAV,OAAAqB,MAAAC,eAAA,IACAZ,EAAAV,OAAAe,SAAAQ,GAAA,GACAb,EAAAhB,MAAA8B,IAAAd,EAAAV,UAEA,IAAAyB,EAAA,IAAArB,KAAAC,OAAAqB,qBAAA,SAEAtB,KAAAR,OAAA,IAAAQ,KAAAC,OAAAsB,WAAA,eACAvB,KAAAR,OAAA4B,IAAA,IAAApB,KAAAC,OAAAuB,KAAAH,EAAA,IAAArB,KAAAC,OAAAwB,mBAAAC,MAAA,aACA1B,KAAAV,MAAA8B,IAAApB,KAAAR,QACAQ,KAAAP,OAAA,IAAAO,KAAAC,OAAAsB,WAAA,YACAvB,KAAAP,OAAA2B,IAAA,IAAApB,KAAAC,OAAAuB,KAAAH,EAAA,IAAArB,KAAAC,OAAAwB,mBAAAC,MAAA,UACA1B,KAAAV,MAAA8B,IAAApB,KAAAP,QACAO,KAAAN,OAAA,IAAAM,KAAAC,OAAAsB,WAAA,cACAvB,KAAAN,OAAA0B,IAAA,IAAApB,KAAAC,OAAAuB,KAAAH,EAAA,IAAArB,KAAAC,OAAAwB,mBAAAC,MAAA,YACA1B,KAAAV,MAAA8B,IAAApB,KAAAN,QACAM,KAAAL,OAAA,IAAAK,KAAAC,OAAAsB,WAAA,eACAvB,KAAAL,OAAAyB,IAAA,IAAApB,KAAAC,OAAAuB,KAAAH,EAAA,IAAArB,KAAAC,OAAAwB,mBAAAC,MAAA,aACA1B,KAAAV,MAAA8B,IAAApB,KAAAL,QAEAK,KAAAT,SAAA,IAAAS,KAAAC,OAAA0B,eAAAC,WAAA,IACA5B,KAAAT,SAAAsC,cAAApB,OAAAqB,kBACA9B,KAAAT,SAAAwC,QAAA/B,KAAAQ,iBAAAC,OAAAC,aACAsB,SAAAC,uBAAA,uCAAAC,YAAAlC,KAAAT,SAAA4C,YAEAnC,KAAAH,MAAA,IAAAG,KAAAoC,OACApC,KAAAH,MAAAwC,IAAAC,MAAAC,KAAA,QACAP,SAAAC,uBAAA,uCAAAC,YAAAlC,KAAAH,MAAAwC,KACA5B,OAAA+B,iBAAA,SAAAxC,KAAAyC,gBAAA,IAEAA,eAtCA,WAuCAzC,KAAA0C,gBAAA1C,KAAAX,OAAAW,KAAAT,WAEAa,QAzCA,WA0CAuC,sBAAA3C,KAAAI,SACAJ,KAAA4C,SACA5C,KAAAH,MAAAgD,UAEAD,OA9CA,WA+CA,IAAAE,EAAA,KAAAC,KAAAC,MACAC,EAAAjD,KAAAF,MAAAoD,WACAlD,KAAAJ,SAAAI,KAAAJ,OAAAuD,SAAAhC,GAAA,GAAA8B,GACAjD,KAAAR,OAAAmB,SAAAyC,EAAA,GAAAC,KAAAC,IAAA,GAAAR,GACA9C,KAAAR,OAAAmB,SAAAQ,EAAA,GAAAkC,KAAAE,IAAA,GAAAT,GACA9C,KAAAR,OAAAmB,SAAAC,EAAA,GAAAyC,KAAAE,IAAA,GAAAT,GACA9C,KAAAP,OAAAkB,SAAAyC,EAAA,GAAAC,KAAAE,IAAA,GAAAT,GACA9C,KAAAP,OAAAkB,SAAAQ,EAAA,GAAAkC,KAAAC,IAAA,GAAAR,GACA9C,KAAAP,OAAAkB,SAAAC,EAAA,GAAAyC,KAAAC,IAAA,GAAAR,GACA9C,KAAAN,OAAAiB,SAAAyC,EAAA,GAAAC,KAAAC,IAAA,GAAAR,GACA9C,KAAAN,OAAAiB,SAAAQ,EAAA,GAAAkC,KAAAE,IAAA,GAAAT,GACA9C,KAAAN,OAAAiB,SAAAC,EAAA,GAAAyC,KAAAC,IAAA,GAAAR,GACA9C,KAAAL,OAAAgB,SAAAyC,EAAA,GAAAC,KAAAC,IAAA,GAAAR,GACA9C,KAAAL,OAAAgB,SAAAQ,EAAA,GAAAkC,KAAAE,IAAA,GAAAT,GACA9C,KAAAL,OAAAgB,SAAAC,EAAA,GAAAyC,KAAAC,IAAA,GAAAR,GACA9C,KAAAT,SAAAqD,OAAA5C,KAAAV,MAAAU,KAAAX,WC1FemE,GADEZ,OAFjB,WAA0B5C,KAAayD,eAAbzD,KAAuC0D,MAAAC,GAAwB,OAA/D3D,KAA+D4D,GAAA,IAExEC,iBADjB,WAAoC,IAAaC,EAAb9D,KAAayD,eAA0BE,EAAvC3D,KAAuC0D,MAAAC,IAAAG,EAAwB,OAAAH,EAAA,OAAiBI,YAAA,qCAA+CJ,EAAA,OAAYK,OAAOC,GAAA,UAAaN,EAAA,KAAUK,OAAOE,KAAA,sBAAAC,OAAA,SAAAC,IAAA,cAAhLpE,KAAiPqE,GAAA,cAAjPrE,KAAiPqE,GAAA,+BAAAV,EAAA,MAAjP3D,KAAiPqE,GAAA,gCAAAV,EAAA,KAAqHK,OAAOE,KAAA,sDAAAC,OAAA,SAAAC,IAAA,cAA7WpE,KAA8cqE,GAAA,0BCElf,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErF,EACAqE,GATF,EAVA,SAAAiB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,2CC1BhCC,EAAAI,EAAAD,EAAA,sBAAA5D,IAAA,IAAA8D,EAAAL,EAAA,QAgBIzD,EAAc,WAGjB,IAAI+D,EAAiB,gBAEjBC,EAA2B,WAE3BC,EAAuB,WAEvBC,EAAkB,WAElBC,EAAK,IAAIC,MACTC,EAAK,IAAID,MACTE,EAAK,IAAIF,MAETG,EAAK,IAAIH,MACTI,EAAK,IAAIJ,MA8Yb,SAASpE,EAAWyE,GAEnBC,KAAOC,KAAMzF,KAAMuF,GAEnBvF,KAAK0F,UAAY,KA0blB,OAtbA5E,EAAU6E,UAAYC,OAAOC,OAAQD,OAAOE,OAAQN,KAAOG,YAE1DI,YAAajF,EAEbC,KAAM,SAAWiF,EAAKC,EAAQC,EAAYC,GAEzC,IAAIC,EAAQpG,KAERqG,EAAS,IAAIC,IAAYtG,KAAKuF,SAClCc,EAAOE,QAASvG,KAAKwG,MACrBH,EAAOI,iBAAkBzG,KAAK0G,eAC9BL,EAAOM,mBAAoB3G,KAAK4G,iBAChCP,EAAOtF,KAAMiF,EAAK,SAAWa,GAE5B,IAECZ,EAAQG,EAAMU,MAAOD,IAEpB,MAAQE,GAEJZ,EAEJA,EAASY,GAITC,QAAQC,MAAOF,GAIhBX,EAAMb,QAAQ2B,UAAWlB,KAIxBE,EAAYC,IAIhBgB,aAAc,SAAWzB,GAIxB,OAFA1F,KAAK0F,UAAYA,EAEV1F,MAIR8G,MAAO,SAAWD,GAEjB,IAAIO,EAAQ,IApcd,WAEC,IAAIA,GACHC,WACAzH,UAEA0H,YACAC,WACAC,UACAC,OAEA/B,aACAgC,qBAEAC,YAAa,SAAWC,EAAMC,GAI7B,GAAK7H,KAAKJ,SAA0C,IAAhCI,KAAKJ,OAAOiI,gBAI/B,OAFA7H,KAAKJ,OAAOgI,KAAOA,OACnB5H,KAAKJ,OAAOiI,iBAAwC,IAApBA,GAKjC,IAAIC,EAAqB9H,KAAKJ,QAAiD,mBAAhCI,KAAKJ,OAAOmI,gBAAiC/H,KAAKJ,OAAOmI,uBAAoBC,EA+H5H,GA7HKhI,KAAKJ,QAA2C,mBAA1BI,KAAKJ,OAAOqI,WAEtCjI,KAAKJ,OAAOqI,WAAW,GAIxBjI,KAAKJ,QACJgI,KAAMA,GAAQ,GACdC,iBAAuC,IAApBA,EAEnBK,UACCZ,YACAC,WACAC,UACAC,OACAU,cAAc,GAEfzC,aACA0C,QAAQ,EAERC,cAAe,SAAWT,EAAMU,GAE/B,IAAIC,EAAWvI,KAAKiI,WAAW,GAI1BM,IAAcA,EAASC,WAAaD,EAASE,YAAc,IAE/DzI,KAAK0F,UAAUgD,OAAQH,EAASI,MAAO,GAIxC,IAAIC,GACHD,MAAO3I,KAAK0F,UAAUmD,OACtBjB,KAAMA,GAAQ,GACdkB,OAAUC,MAAMC,QAASV,IAAeA,EAAUO,OAAS,EAAIP,EAAWA,EAAUO,OAAS,GAAM,GACnGT,YAAuBJ,IAAbO,EAAyBA,EAASH,OAASpI,KAAKoI,OAC1Da,gBAA2BjB,IAAbO,EAAyBA,EAASW,SAAW,EAC3DA,UAAY,EACZT,YAAc,EACdD,WAAW,EAEXW,MAAO,SAAWR,GAEjB,IAAIS,GACHT,MAA0B,iBAAVA,EAAqBA,EAAQ3I,KAAK2I,MAClDf,KAAM5H,KAAK4H,KACXkB,OAAQ9I,KAAK8I,OACbV,OAAQpI,KAAKoI,OACba,WAAY,EACZC,UAAY,EACZT,YAAc,EACdD,WAAW,GAGZ,OADAY,EAAOD,MAAQnJ,KAAKmJ,MAAME,KAAMD,GACzBA,IAOT,OAFApJ,KAAK0F,UAAU4D,KAAMV,GAEdA,GAIRb,gBAAiB,WAEhB,GAAK/H,KAAK0F,UAAUmD,OAAS,EAE5B,OAAO7I,KAAK0F,UAAW1F,KAAK0F,UAAUmD,OAAS,IAQjDZ,UAAW,SAAWsB,GAErB,IAAIC,EAAoBxJ,KAAK+H,kBAU7B,GATKyB,IAAsD,IAAjCA,EAAkBN,WAE3CM,EAAkBN,SAAWlJ,KAAKkI,SAASZ,SAASuB,OAAS,EAC7DW,EAAkBf,WAAae,EAAkBN,SAAWM,EAAkBP,WAC9EO,EAAkBhB,WAAY,GAK1Be,GAAOvJ,KAAK0F,UAAUmD,OAAS,EAEnC,IAAM,IAAIY,EAAKzJ,KAAK0F,UAAUmD,OAAS,EAAGY,GAAM,EAAGA,IAE7CzJ,KAAK0F,UAAW+D,GAAKhB,YAAc,GAEvCzI,KAAK0F,UAAUgD,OAAQe,EAAI,GAkB9B,OATKF,GAAiC,IAA1BvJ,KAAK0F,UAAUmD,QAE1B7I,KAAK0F,UAAU4D,MACd1B,KAAM,GACNQ,OAAQpI,KAAKoI,SAKRoB,IAWJ1B,GAAoBA,EAAiBF,MAA0C,mBAA3BE,EAAiBqB,MAAuB,CAEhG,IAAIO,EAAW5B,EAAiBqB,MAAO,GACvCO,EAASlB,WAAY,EACrBxI,KAAKJ,OAAO8F,UAAU4D,KAAMI,GAI7B1J,KAAKqH,QAAQiC,KAAMtJ,KAAKJ,SAIzB+J,SAAU,WAEJ3J,KAAKJ,QAA2C,mBAA1BI,KAAKJ,OAAOqI,WAEtCjI,KAAKJ,OAAOqI,WAAW,IAMzB2B,iBAAkB,SAAWC,EAAOC,GAEnC,IAAInB,EAAQoB,SAAUF,EAAO,IAC7B,OAAsD,GAA7ClB,GAAS,EAAIA,EAAQ,EAAIA,EAAQmB,EAAM,IAIjDE,iBAAkB,SAAWH,EAAOC,GAEnC,IAAInB,EAAQoB,SAAUF,EAAO,IAC7B,OAAsD,GAA7ClB,GAAS,EAAIA,EAAQ,EAAIA,EAAQmB,EAAM,IAIjDG,aAAc,SAAWJ,EAAOC,GAE/B,IAAInB,EAAQoB,SAAUF,EAAO,IAC7B,OAAsD,GAA7ClB,GAAS,EAAIA,EAAQ,EAAIA,EAAQmB,EAAM,IAIjDI,UAAW,SAAWC,EAAGC,EAAGC,GAE3B,IAAIC,EAAMtK,KAAKsH,SACXiD,EAAMvK,KAAKJ,OAAOsI,SAASZ,SAE/BiD,EAAIjB,KAAMgB,EAAKH,EAAI,GAAKG,EAAKH,EAAI,GAAKG,EAAKH,EAAI,IAC/CI,EAAIjB,KAAMgB,EAAKF,EAAI,GAAKE,EAAKF,EAAI,GAAKE,EAAKF,EAAI,IAC/CG,EAAIjB,KAAMgB,EAAKD,EAAI,GAAKC,EAAKD,EAAI,GAAKC,EAAKD,EAAI,KAIhDG,eAAgB,SAAWL,GAE1B,IAAIG,EAAMtK,KAAKsH,SACLtH,KAAKJ,OAAOsI,SAASZ,SAE3BgC,KAAMgB,EAAKH,EAAI,GAAKG,EAAKH,EAAI,GAAKG,EAAKH,EAAI,KAIhDM,cAAe,SAAWN,GAEzB,IAAIG,EAAMtK,KAAKsH,SACLtH,KAAKJ,OAAOsI,SAASZ,SAE3BgC,KAAMgB,EAAKH,EAAI,GAAKG,EAAKH,EAAI,GAAKG,EAAKH,EAAI,KAIhDO,UAAW,SAAWP,EAAGC,EAAGC,GAE3B,IAAIC,EAAMtK,KAAKuH,QACXgD,EAAMvK,KAAKJ,OAAOsI,SAASX,QAE/BgD,EAAIjB,KAAMgB,EAAKH,EAAI,GAAKG,EAAKH,EAAI,GAAKG,EAAKH,EAAI,IAC/CI,EAAIjB,KAAMgB,EAAKF,EAAI,GAAKE,EAAKF,EAAI,GAAKE,EAAKF,EAAI,IAC/CG,EAAIjB,KAAMgB,EAAKD,EAAI,GAAKC,EAAKD,EAAI,GAAKC,EAAKD,EAAI,KAIhDM,cAAe,SAAWR,EAAGC,EAAGC,GAE/B,IAAIC,EAAMtK,KAAKsH,SACXiD,EAAMvK,KAAKJ,OAAOsI,SAASX,QAE/BtC,EAAG2F,UAAWN,EAAKH,GACnBhF,EAAGyF,UAAWN,EAAKF,GACnBhF,EAAGwF,UAAWN,EAAKD,GAEnB/E,EAAGuF,WAAYzF,EAAID,GACnBE,EAAGwF,WAAY5F,EAAIE,GACnBG,EAAGwF,MAAOzF,GAEVC,EAAGyF,YAEHR,EAAIjB,KAAMhE,EAAGlC,EAAGkC,EAAGnE,EAAGmE,EAAG1E,GACzB2J,EAAIjB,KAAMhE,EAAGlC,EAAGkC,EAAGnE,EAAGmE,EAAG1E,GACzB2J,EAAIjB,KAAMhE,EAAGlC,EAAGkC,EAAGnE,EAAGmE,EAAG1E,IAI1BoK,SAAU,SAAWb,EAAGC,EAAGC,GAE1B,IAAIC,EAAMtK,KAAKwH,OACX+C,EAAMvK,KAAKJ,OAAOsI,SAASV,YAEbQ,IAAbsC,EAAKH,IAAoBI,EAAIjB,KAAMgB,EAAKH,EAAI,GAAKG,EAAKH,EAAI,GAAKG,EAAKH,EAAI,SAC3DnC,IAAbsC,EAAKF,IAAoBG,EAAIjB,KAAMgB,EAAKF,EAAI,GAAKE,EAAKF,EAAI,GAAKE,EAAKF,EAAI,SAC3DpC,IAAbsC,EAAKD,IAAoBE,EAAIjB,KAAMgB,EAAKD,EAAI,GAAKC,EAAKD,EAAI,GAAKC,EAAKD,EAAI,KAI9EY,MAAO,SAAWd,EAAGC,EAAGC,GAEvB,IAAIC,EAAMtK,KAAKyH,IACX8C,EAAMvK,KAAKJ,OAAOsI,SAAST,IAE/B8C,EAAIjB,KAAMgB,EAAKH,EAAI,GAAKG,EAAKH,EAAI,IACjCI,EAAIjB,KAAMgB,EAAKF,EAAI,GAAKE,EAAKF,EAAI,IACjCG,EAAIjB,KAAMgB,EAAKD,EAAI,GAAKC,EAAKD,EAAI,KAIlCa,aAAc,WAEb,IAAIX,EAAMvK,KAAKJ,OAAOsI,SAAST,IAE/B8C,EAAIjB,KAAM,EAAG,GACbiB,EAAIjB,KAAM,EAAG,GACbiB,EAAIjB,KAAM,EAAG,IAId6B,UAAW,SAAWhB,GAErB,IAAIG,EAAMtK,KAAKyH,IACLzH,KAAKJ,OAAOsI,SAAST,IAE3B6B,KAAMgB,EAAKH,EAAI,GAAKG,EAAKH,EAAI,KAIlCiB,QAAS,SAAWjB,EAAGC,EAAGC,EAAGgB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEhD,IAAIC,EAAO3L,KAAKsH,SAASuB,OAErB+C,EAAK5L,KAAK4J,iBAAkBO,EAAGwB,GAC/BE,EAAK7L,KAAK4J,iBAAkBQ,EAAGuB,GAC/BG,EAAK9L,KAAK4J,iBAAkBS,EAAGsB,GAOnC,GALA3L,KAAKkK,UAAW0B,EAAIC,EAAIC,GACxB9L,KAAKgL,SAAUY,EAAIC,EAAIC,QAIX9D,IAAPwD,GAA2B,KAAPA,EAAY,CAEpC,IAAIO,EAAO/L,KAAKuH,QAAQsB,OAExB+C,EAAK5L,KAAKgK,iBAAkBwB,EAAIO,GAChCF,EAAK7L,KAAKgK,iBAAkByB,EAAIM,GAChCD,EAAK9L,KAAKgK,iBAAkB0B,EAAIK,GAEhC/L,KAAK0K,UAAWkB,EAAIC,EAAIC,QAIxB9L,KAAK2K,cAAeiB,EAAIC,EAAIC,GAM7B,QAAY9D,IAAPqD,GAA2B,KAAPA,EAAY,CAEpC,IAAIW,EAAQhM,KAAKyH,IAAIoB,OAErB+C,EAAK5L,KAAKiK,aAAcoB,EAAIW,GAC5BH,EAAK7L,KAAKiK,aAAcqB,EAAIU,GAC5BF,EAAK9L,KAAKiK,aAAcsB,EAAIS,GAE5BhM,KAAKiL,MAAOW,EAAIC,EAAIC,GAEpB9L,KAAKJ,OAAOsI,SAASC,cAAe,OAMpCnI,KAAKkL,gBAMPe,iBAAkB,SAAW3E,GAE5BtH,KAAKJ,OAAOsI,SAASgE,KAAO,SAI5B,IAFA,IAAIP,EAAO3L,KAAKsH,SAASuB,OAEfsD,EAAK,EAAGC,EAAI9E,EAASuB,OAAQsD,EAAKC,EAAGD,IAE9CnM,KAAKwK,eAAgBxK,KAAK4J,iBAAkBtC,EAAU6E,GAAMR,KAM9DU,gBAAiB,SAAW/E,EAAUG,GAErCzH,KAAKJ,OAAOsI,SAASgE,KAAO,OAK5B,IAHA,IAAIP,EAAO3L,KAAKsH,SAASuB,OACrBmD,EAAQhM,KAAKyH,IAAIoB,OAEXsD,EAAK,EAAGC,EAAI9E,EAASuB,OAAQsD,EAAKC,EAAGD,IAE9CnM,KAAKyK,cAAezK,KAAK4J,iBAAkBtC,EAAU6E,GAAMR,IAItD,IAAIW,EAAM,EAAhB,IAAmBF,EAAI3E,EAAIoB,OAAQyD,EAAMF,EAAGE,IAE3CtM,KAAKmL,UAAWnL,KAAKiK,aAAcxC,EAAK6E,GAAON,MAUlD,OAFA5E,EAAMO,YAAa,IAAI,GAEhBP,IAgE4B,IAA7BP,EAAK0F,QAAS,UAGlB1F,EAAOA,EAAK2F,QAAS,QAAS,QAIG,IAA7B3F,EAAK0F,QAAS,UAGlB1F,EAAOA,EAAK2F,QAAS,QAAS,KAY/B,IARA,IAAIC,EAAQ5F,EAAK6F,MAAO,MACpBC,EAAO,GAAIC,EAAgB,GAE3BC,KAGAC,EAAoC,kBAAhB,GAAGA,SAEjBC,EAAI,EAAGX,EAAIK,EAAM5D,OAAQkE,EAAIX,EAAGW,IAQzC,GANAJ,EAAOF,EAAOM,GAMM,KAJpBJ,EAAOG,EAAWH,EAAKG,WAAaH,EAAKK,QAEvBnE,QAOK,OAHvB+D,EAAgBD,EAAKM,OAAQ,IAK7B,GAAuB,MAAlBL,EAAwB,CAE5B,IAAIxN,EAAOuN,EAAKD,MAAO,OAEvB,OAAStN,EAAM,IAEd,IAAK,IACJgI,EAAME,SAASgC,KACd4D,WAAY9N,EAAM,IAClB8N,WAAY9N,EAAM,IAClB8N,WAAY9N,EAAM,KAEdA,EAAKyJ,QAAU,EAEnBzB,EAAMI,OAAO8B,KACZ4D,WAAY9N,EAAM,IAClB8N,WAAY9N,EAAM,IAClB8N,WAAY9N,EAAM,KAQnBgI,EAAMI,OAAO8B,UAAMtB,OAAWA,OAAWA,GAI1C,MACD,IAAK,KACJZ,EAAMG,QAAQ+B,KACb4D,WAAY9N,EAAM,IAClB8N,WAAY9N,EAAM,IAClB8N,WAAY9N,EAAM,KAEnB,MACD,IAAK,KACJgI,EAAMK,IAAI6B,KACT4D,WAAY9N,EAAM,IAClB8N,WAAY9N,EAAM,WAMf,GAAuB,MAAlBwN,EAAwB,CAQnC,IANA,IACIO,EADWR,EAAKS,OAAQ,GAAIJ,OACNN,MAAO,OAC7BW,KAIMC,EAAI,EAAGC,EAAKJ,EAAWtE,OAAQyE,EAAIC,EAAID,IAAO,CAEvD,IAAIE,EAASL,EAAYG,GAEzB,GAAKE,EAAO3E,OAAS,EAAI,CAExB,IAAI4E,EAAcD,EAAOd,MAAO,KAChCW,EAAa/D,KAAMmE,IAQrB,IAAIC,EAAKL,EAAc,GAEvB,IAAUC,EAAI,EAAGC,EAAKF,EAAaxE,OAAS,EAAGyE,EAAIC,EAAID,IAAO,CAE7D,IAAIK,EAAKN,EAAcC,GACnBM,EAAKP,EAAcC,EAAI,GAE3BlG,EAAMgE,QACLsC,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,GACtBF,EAAI,GAAKC,EAAI,GAAKC,EAAI,UAKlB,GAAuB,MAAlBhB,EAAwB,CAEnC,IAAIiB,EAAYlB,EAAKmB,UAAW,GAAId,OAAON,MAAO,KAC9CqB,KAAmBC,KAEvB,IAA+B,IAA1BrB,EAAKJ,QAAS,KAElBwB,EAAeF,OAIf,IAAM,IAAII,EAAK,EAAGC,EAAOL,EAAUhF,OAAQoF,EAAKC,EAAMD,IAAQ,CAE7D,IAAIE,EAAQN,EAAWI,GAAKvB,MAAO,KAEf,KAAfyB,EAAO,IAAaJ,EAAazE,KAAM6E,EAAO,IAC/B,KAAfA,EAAO,IAAaH,EAAQ1E,KAAM6E,EAAO,IAMhD/G,EAAMiF,gBAAiB0B,EAAcC,QAE/B,GAAuB,MAAlBpB,EAAwB,CAEnC,IACIwB,EADWzB,EAAKS,OAAQ,GAAIJ,OACPN,MAAO,KAEhCtF,EAAM6E,iBAAkBmC,QAElB,GAAkD,QAA3CvB,EAAShI,EAAewJ,KAAM1B,IAAoB,CAQ/D,IAAI/E,GAAS,IAAMiF,EAAQ,GAAIO,OAAQ,GAAIJ,QAASI,OAAQ,GAE5DhG,EAAMO,YAAaC,QAEb,GAAK7C,EAAqBuJ,KAAM3B,GAItCvF,EAAMxH,OAAOyI,cAAesE,EAAKmB,UAAW,GAAId,OAAQ5F,EAAMM,wBAExD,GAAK5C,EAAyBwJ,KAAM3B,GAI1CvF,EAAMM,kBAAkB4B,KAAMqD,EAAKmB,UAAW,GAAId,aAE5C,GAAKhI,EAAgBsJ,KAAM3B,GAKjC3F,QAAQuH,KAAM,6GAER,GAAuB,MAAlB3B,EAAwB,CAwBnC,IAtBAC,EAASF,EAAKD,MAAO,MAsBT7D,OAAS,EAAI,CAExB,IAAIgB,EAAQgD,EAAQ,GAAIG,OAAOwB,cAC/BpH,EAAMxH,OAAOwI,OAAqB,MAAVyB,GAA2B,QAAVA,OAKzCzC,EAAMxH,OAAOwI,QAAS,GAInBQ,EAAWxB,EAAMxH,OAAOmI,qBACZa,EAASR,OAAShB,EAAMxH,OAAOwI,YAEzC,CAGN,GAAc,OAATuE,EAAgB,SAErB3F,QAAQuH,KAAM,sCAAwC5B,EAAO,KAM/DvF,EAAMuC,WAEN,IAAI8E,EAAY,IAAIC,IACpBD,EAAU/G,qBAAuBiH,OAAQvH,EAAMM,mBAE/C,IAAUqF,EAAI,EAAGX,EAAIhF,EAAMC,QAAQwB,OAAQkE,EAAIX,EAAGW,IAAO,CAExD,IAAInN,EAASwH,EAAMC,QAAS0F,GACxB7E,EAAWtI,EAAOsI,SAClBxC,EAAY9F,EAAO8F,UACnBkJ,EAA6B,SAAlB1G,EAASgE,KACpB2C,EAA+B,WAAlB3G,EAASgE,KACtB4C,GAAkB,EAGtB,GAAkC,IAA7B5G,EAASZ,SAASuB,OAAvB,CAEA,IAAIkG,EAAiB,IAAIC,IAEzBD,EAAeE,aAAc,WAAY,IAAIC,IAAwBhH,EAASZ,SAAU,IAExFyH,EAAeE,aAAc,SAAU,IAAIC,IAAwBhH,EAASX,QAAS,IAEhFW,EAASV,OAAOqB,OAAS,IAE7BiG,GAAkB,EAClBC,EAAeE,aAAc,QAAS,IAAIC,IAAwBhH,EAASV,OAAQ,MAIrD,IAA1BU,EAASC,cAEb4G,EAAeE,aAAc,KAAM,IAAIC,IAAwBhH,EAAST,IAAK,IAQ9E,IAFA,IA8DI0H,EA9DAC,KAEM3F,EAAK,EAAG4F,EAAQ3J,EAAUmD,OAAQY,EAAK4F,EAAO5F,IAAQ,CAE/D,IACI6F,GADAC,GAAiB7J,EAAW+D,IACE7B,KAAO,IAAM2H,GAAenH,OAAS,IAAM0G,EACzElG,EAAWxB,EAAM1B,UAAW4J,GAEhC,GAAwB,OAAnBtP,KAAK0F,UAKT,GAHAkD,EAAW5I,KAAK0F,UAAUI,OAAQyJ,GAAe3H,OAG5CgH,IAAUhG,GAAgBA,aAAoB4G,MAO5C,GAAKX,GAAYjG,KAAgBA,aAAoB6G,OAAmB,CAE9E,IAAIC,EAAiB,IAAID,OAAkBE,KAAM,GAAIC,iBAAiB,IACtEC,MAASlK,UAAUmK,KAAKrK,KAAMiK,EAAgB9G,GAC9C8G,EAAehO,MAAMoO,KAAMlH,EAASlH,OACpCgO,EAAeK,IAAMnH,EAASmH,IAC9BnH,EAAW8G,OAb6D,CAExE,IAAIM,EAAe,IAAIR,KACvBK,MAASlK,UAAUmK,KAAKrK,KAAMuK,EAAcpH,GAC5CoH,EAAatO,MAAMoO,KAAMlH,EAASlH,OAClCkH,EAAWoH,OAcKhI,IAAbY,KAIHA,EAFIgG,EAEO,IAAIY,KAEJX,EAEA,IAAIY,OAAkBE,KAAM,EAAGC,iBAAiB,IAIhD,IAAIK,OAIPrI,KAAO2H,GAAe3H,KAC/BgB,EAASsH,aAAcX,GAAenH,OACtCQ,EAASuH,aAAerB,EAExB1H,EAAM1B,UAAW4J,GAAiB1G,GAInCwG,EAAiB9F,KAAMV,GAQxB,GAAKwG,EAAiBvG,OAAS,EAAI,CAElC,IAAUY,EAAK,EAAG4F,EAAQ3J,EAAUmD,OAAQY,EAAK4F,EAAO5F,IAAQ,CAE/D,IAAI8F,GAAiB7J,EAAW+D,GAChCsF,EAAeqB,SAAUb,GAAetG,WAAYsG,GAAe9G,WAAYgB,GAM/E0F,EAFIP,EAEG,IAAIyB,KAActB,EAAgBK,GAE9BP,EAEJ,IAAIyB,MAAQvB,EAAgBK,GAI5B,IAAI5N,MAAMuN,EAAgBK,QAQjCD,EAFIP,EAEG,IAAIyB,KAActB,EAAgBK,EAAkB,IAEhDP,EAEJ,IAAIyB,MAAQvB,EAAgBK,EAAkB,IAI9C,IAAI5N,MAAMuN,EAAgBK,EAAkB,IAMrDD,EAAKvH,KAAOhI,EAAOgI,KAEnB6G,EAAUrN,IAAK+N,IAIhB,OAAOV,KAMF3N,EA51BU","file":"static/js/9.d491052acebb1c36fa81.js","sourcesContent":["<template>\r\n    <div class=\"webglLightsPointlights-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - point lights WebGL demo.<br />\r\n\t\t\tWalt Disney head by <a href=\"http://davidoreilly.com/post/18087489343/disneyhead\" target=\"_blank\" rel=\"noopener\">David OReilly</a>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { OBJLoader } from '@/components/jsm/loaders/OBJLoader.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n            light1: null,\r\n            light2: null,\r\n            light3: null,\r\n            light4: null,\r\n            object: null,\r\n            stats: null,\r\n\t\t\tclock: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.clock = new this.$THREE.Clock()\r\n        this.init()\r\n        this.animate()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.camera = new this.$THREE.PerspectiveCamera(50, this.$webglInnerWidth / window.innerHeight, 1, 1000)\r\n            this.camera.position.z = 100\r\n            this.scene = new this.$THREE.Scene()\r\n            //model\r\n            var loader = new OBJLoader()\r\n            loader.load('static/models/obj/walt/WaltHead.obj', (obj) => {\r\n                this.object = obj\r\n                this.object.scale.multiplyScalar(0.8)\r\n                this.object.position.y = - 30\r\n                this.scene.add(this.object)\r\n            })\r\n            var sphere = new this.$THREE.SphereBufferGeometry(0.5, 16, 8)\r\n            //lights\r\n            this.light1 = new this.$THREE.PointLight(0xff0040, 2, 50)\r\n            this.light1.add(new this.$THREE.Mesh(sphere, new this.$THREE.MeshBasicMaterial({ color: 0xff0040 })))\r\n            this.scene.add(this.light1)\r\n            this.light2 = new this.$THREE.PointLight(0x0040ff, 2, 50)\r\n            this.light2.add(new this.$THREE.Mesh(sphere, new this.$THREE.MeshBasicMaterial({ color: 0x0040ff })))\r\n            this.scene.add(this.light2)\r\n            this.light3 = new this.$THREE.PointLight(0x80ff80, 2, 50)\r\n            this.light3.add(new this.$THREE.Mesh(sphere, new this.$THREE.MeshBasicMaterial({ color: 0x80ff80 })))\r\n            this.scene.add(this.light3)\r\n            this.light4 = new this.$THREE.PointLight(0xffaa00, 2, 50)\r\n            this.light4.add(new this.$THREE.Mesh(sphere, new this.$THREE.MeshBasicMaterial({ color: 0xffaa00 })))\r\n            this.scene.add(this.light4)\r\n            //renderer\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            document.getElementsByClassName('webglLightsPointlights-container')[0].appendChild(this.renderer.domElement)\r\n            //stats\r\n            this.stats = new this.$Stats()\r\n            this.stats.dom.style.left = '280px'\r\n            document.getElementsByClassName('webglLightsPointlights-container')[0].appendChild(this.stats.dom)\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        animate() {\r\n            requestAnimationFrame(this.animate)\r\n            this.render()\r\n            this.stats.update()\r\n        },\r\n        render() {\r\n            var time = Date.now() * 0.0005\r\n            var delta = this.clock.getDelta()\r\n            if (this.object) this.object.rotation.y -= 0.5 * delta\r\n            this.light1.position.x = Math.sin(time * 0.7) * 30\r\n            this.light1.position.y = Math.cos(time * 0.5) * 40\r\n            this.light1.position.z = Math.cos(time * 0.3) * 30\r\n            this.light2.position.x = Math.cos(time * 0.3) * 30\r\n            this.light2.position.y = Math.sin(time * 0.5) * 40\r\n            this.light2.position.z = Math.sin(time * 0.7) * 30\r\n            this.light3.position.x = Math.sin(time * 0.7) * 30\r\n            this.light3.position.y = Math.cos(time * 0.3) * 40\r\n            this.light3.position.z = Math.sin(time * 0.5) * 30\r\n            this.light4.position.x = Math.sin(time * 0.3) * 30\r\n            this.light4.position.y = Math.cos(time * 0.7) * 40\r\n            this.light4.position.z = Math.sin(time * 0.5) * 30\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglLightsPointlights-container {\r\n    width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/lights/webglLightsPointlights.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglLightsPointlights-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - point lights WebGL demo.\"),_c('br'),_vm._v(\"\\n\\t\\t\\tWalt Disney head by \"),_c('a',{attrs:{\"href\":\"http://davidoreilly.com/post/18087489343/disneyhead\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"David OReilly\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17973da5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/lights/webglLightsPointlights.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17973da5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglLightsPointlights.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLightsPointlights.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglLightsPointlights.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17973da5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglLightsPointlights.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-17973da5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/lights/webglLightsPointlights.vue\n// module id = null\n// module chunks = ","import {\r\n\tBufferGeometry,\r\n\tFileLoader,\r\n\tFloat32BufferAttribute,\r\n\tGroup,\r\n\tLineBasicMaterial,\r\n\tLineSegments,\r\n\tLoader,\r\n\tMaterial,\r\n\tMesh,\r\n\tMeshPhongMaterial,\r\n\tPoints,\r\n\tPointsMaterial,\r\n\tVector3\r\n} from \"@/components/build/three.module.js\";\r\n\r\nvar OBJLoader = ( function () {\r\n\r\n\t// o object_name | g group_name\r\n\tvar object_pattern = /^[og]\\s*(.+)?/;\r\n\t// mtllib file_reference\r\n\tvar material_library_pattern = /^mtllib /;\r\n\t// usemtl material_name\r\n\tvar material_use_pattern = /^usemtl /;\r\n\t// usemap map_name\r\n\tvar map_use_pattern = /^usemap /;\r\n\r\n\tvar vA = new Vector3();\r\n\tvar vB = new Vector3();\r\n\tvar vC = new Vector3();\r\n\r\n\tvar ab = new Vector3();\r\n\tvar cb = new Vector3();\r\n\r\n\tfunction ParserState() {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects: [],\r\n\t\t\tobject: {},\r\n\r\n\t\t\tvertices: [],\r\n\t\t\tnormals: [],\r\n\t\t\tcolors: [],\r\n\t\t\tuvs: [],\r\n\r\n\t\t\tmaterials: {},\r\n\t\t\tmaterialLibraries: [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname: name || '',\r\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry: {\r\n\t\t\t\t\t\tvertices: [],\r\n\t\t\t\t\t\tnormals: [],\r\n\t\t\t\t\t\tcolors: [],\r\n\t\t\t\t\t\tuvs: [],\r\n\t\t\t\t\t\thasUVIndices: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials: [],\r\n\t\t\t\t\tsmooth: true,\r\n\r\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex: this.materials.length,\r\n\t\t\t\t\t\t\tname: name || '',\r\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\tinherited: false,\r\n\r\n\t\t\t\t\t\t\tclone: function ( index ) {\r\n\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\r\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\r\n\t\t\t\t\t\t\t\t\tinherited: false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial: function () {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize: function ( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push( {\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tsmooth: this.smooth\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize: function () {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexPoint: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFaceNormal: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tvA.fromArray( src, a );\r\n\t\t\t\tvB.fromArray( src, b );\r\n\t\t\t\tvC.fromArray( src, c );\r\n\r\n\t\t\t\tcb.subVectors( vC, vB );\r\n\t\t\t\tab.subVectors( vA, vB );\r\n\t\t\t\tcb.cross( ab );\r\n\r\n\t\t\t\tcb.normalize();\r\n\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\t\t\t\tdst.push( cb.x, cb.y, cb.z );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddColor: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.colors;\r\n\t\t\t\tvar dst = this.object.geometry.colors;\r\n\r\n\t\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\r\n\t\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\r\n\t\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddDefaultUV: function () {\r\n\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\t\t\t\tdst.push( 0, 0 );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\r\n\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\t\t\t\tthis.addColor( ia, ib, ic );\r\n\r\n\t\t\t\t// normals\r\n\r\n\t\t\t\tif ( na !== undefined && na !== '' ) {\r\n\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\t\t\t\t\tib = this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.addFaceNormal( ia, ib, ic );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uvs\r\n\r\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\tthis.object.geometry.hasUVIndices = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// add placeholder values (for inconsistent face definitions)\r\n\r\n\t\t\t\t\tthis.addDefaultUV();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddPointGeometry: function ( vertices ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Points';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tfunction OBJLoader( manager ) {\r\n\r\n\t\tLoader.call( this, manager );\r\n\r\n\t\tthis.materials = null;\r\n\r\n\t}\r\n\r\n\tOBJLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\r\n\r\n\t\tconstructor: OBJLoader,\r\n\r\n\t\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\t\tvar scope = this;\r\n\r\n\t\t\tvar loader = new FileLoader( this.manager );\r\n\t\t\tloader.setPath( this.path );\r\n\t\t\tloader.setRequestHeader( this.requestHeader );\r\n\t\t\tloader.setWithCredentials( this.withCredentials );\r\n\t\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\tif ( onError ) {\r\n\r\n\t\t\t\t\t\tonError( e );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.error( e );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscope.manager.itemError( url );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, onProgress, onError );\r\n\r\n\t\t},\r\n\r\n\t\tsetMaterials: function ( materials ) {\r\n\r\n\t\t\tthis.materials = materials;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tparse: function ( text ) {\r\n\r\n\t\t\tvar state = new ParserState();\r\n\r\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\r\n\r\n\t\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = text.split( '\\n' );\r\n\t\t\tvar line = '', lineFirstChar = '';\r\n\t\t\tvar lineLength = 0;\r\n\t\t\tvar result = [];\r\n\r\n\t\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tline = lines[ i ];\r\n\r\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\t\tlineLength = line.length;\r\n\r\n\t\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t\t// @todo invoke passed in handler if any\r\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\t\tvar data = line.split( /\\s+/ );\r\n\r\n\t\t\t\t\tswitch ( data[ 0 ] ) {\r\n\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif ( data.length >= 7 ) {\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push(\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\r\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\r\n\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\r\n\r\n\t\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vn':\r\n\t\t\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vt':\r\n\t\t\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\r\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\r\n\t\t\t\t\tvar faceVertices = [];\r\n\r\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\r\n\r\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\r\n\r\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\r\n\r\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\r\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\r\n\r\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\r\n\r\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\r\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\r\n\r\n\t\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\r\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\r\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\r\n\r\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\r\n\r\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\r\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\r\n\r\n\t\t\t\t\tstate.addPointGeometry( pointData );\r\n\r\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// o object_name\r\n\t\t\t\t\t// or\r\n\t\t\t\t\t// g group_name\r\n\r\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// material\r\n\r\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// mtl file\r\n\r\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t\t} else if ( map_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\r\n\t\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\r\n\r\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\r\n\r\n\t\t\t\t\tresult = line.split( ' ' );\r\n\r\n\t\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\r\n\t\t\t\t\t * or\r\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\r\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\r\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\r\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\r\n\t\t\t\t\t * than 0.\"\r\n\t\t\t\t\t */\r\n\t\t\t\t\tif ( result.length > 1 ) {\r\n\r\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\r\n\t\t\t\t\t\tstate.object.smooth = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tstate.finalize();\r\n\r\n\t\t\tvar container = new Group();\r\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar object = state.objects[ i ];\r\n\t\t\t\tvar geometry = object.geometry;\r\n\t\t\t\tvar materials = object.materials;\r\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\r\n\t\t\t\tvar hasVertexColors = false;\r\n\r\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\t\tvar buffergeometry = new BufferGeometry();\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\r\n\r\n\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\r\n\r\n\t\t\t\tif ( geometry.colors.length > 0 ) {\r\n\r\n\t\t\t\t\thasVertexColors = true;\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\r\n\r\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create materials\r\n\r\n\t\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\tvar materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\r\n\t\t\t\t\tvar material = state.materials[ materialHash ];\r\n\r\n\t\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialLine = new LineBasicMaterial();\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\r\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\r\n\r\n\t\t\t\t\t\t\tvar materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\r\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\r\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\r\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\r\n\t\t\t\t\t\t\tmaterial = materialPoints;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( material === undefined ) {\r\n\r\n\t\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\r\n\r\n\t\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\r\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\r\n\r\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcreatedMaterials.push( material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create mesh\r\n\r\n\t\t\t\tvar mesh;\r\n\r\n\t\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\r\n\r\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\r\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( isLine ) {\r\n\r\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else if ( isPoints ) {\r\n\r\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh.name = object.name;\r\n\r\n\t\t\t\tcontainer.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn container;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\treturn OBJLoader;\r\n\r\n} )();\r\n\r\nexport { OBJLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/jsm/loaders/OBJLoader.js"],"sourceRoot":""}