webpackJsonp([94],{Pvq4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("TWUs"),r=i("xTnh"),a={data:function(){return{container:null,stats:null,camera:null,controls:null,scene:null,renderer:null,mesh:null,texture:null,worldWidth:256,worldDepth:256,clock:null}},mounted:function(){this.clock=new this.$THREE.Clock,this.init(),this.animate()},methods:{init:function(){this.container=document.getElementById("container"),this.camera=new this.$THREE.PerspectiveCamera(60,this.$webglInnerWidth/window.innerHeight,1,1e4),this.scene=new this.$THREE.Scene,this.scene.background=new this.$THREE.Color(15716789),this.scene.fog=new this.$THREE.FogExp2(15716789,.0025);var e=this.generateHeight(this.worldWidth,this.worldDepth);this.camera.position.set(100,800,-800),this.camera.lookAt(-100,810,-800);var t=new this.$THREE.PlaneBufferGeometry(7500,7500,this.worldWidth-1,this.worldDepth-1);t.rotateX(-Math.PI/2);for(var i=t.attributes.position.array,r=0,a=0,s=i.length;r<s;r++,a+=3)i[a+1]=10*e[r];this.texture=new this.$THREE.CanvasTexture(this.generateTexture(e,this.worldWidth,this.worldDepth)),this.texture.wrapS=this.$THREE.ClampToEdgeWrapping,this.texture.wrapT=this.$THREE.ClampToEdgeWrapping,this.mesh=new this.$THREE.Mesh(t,new this.$THREE.MeshBasicMaterial({map:this.texture})),this.scene.add(this.mesh),this.renderer=new this.$THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.controls=new n.a(this.camera,this.renderer.domElement),this.controls.movementSpeed=150,this.controls.lookSpeed=.1,this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),window.addEventListener("resize",this.onWindowResize,!1)},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer),this.controls.handleResize()},generateHeight:function(e,t){var i=Math.PI/4;window.Math.random=function(){var e=1e4*Math.sin(i++);return e-Math.floor(e)};for(var n=e*t,a=new Uint8Array(n),s=new r.a,h=100*Math.random(),o=1,d=0;d<4;d++){for(var l=0;l<n;l++){var c=l%e,u=~~(l/e);a[l]+=Math.abs(s.noise(c/o,u/o,h)*o*1.75)}o*=5}return a},generateTexture:function(e,t,i){var n,r,a,s,h=new this.$THREE.Vector3(0,0,0),o=new this.$THREE.Vector3(1,1,1);o.normalize();var d=document.createElement("canvas");d.width=t,d.height=i,(n=d.getContext("2d")).fillStyle="#000",n.fillRect(0,0,t,i);for(var l=0,c=0,u=(a=(r=n.getImageData(0,0,d.width,d.height)).data).length;l<u;l+=4,c++)h.x=e[c-2]-e[c+2],h.y=2,h.z=e[c-2*t]-e[c+2*t],h.normalize(),s=h.dot(o),a[l]=(96+128*s)*(.5+.007*e[c]),a[l+1]=(32+96*s)*(.5+.007*e[c]),a[l+2]=96*s*(.5+.007*e[c]);n.putImageData(r,0,0);var m=document.createElement("canvas");m.width=4*t,m.height=4*i,(n=m.getContext("2d")).scale(4,4),n.drawImage(d,0,0);for(var w=0,g=(a=(r=n.getImageData(0,0,m.width,m.height)).data).length;w<g;w+=4){var E=~~(5*Math.random());a[w]+=E,a[w+1]+=E,a[w+2]+=E}return n.putImageData(r,0,0),m},animate:function(){requestAnimationFrame(this.animate),this.render(),this.stats.update()},render:function(){this.controls.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera)}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglGeometryTerrainFog-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("three.js")]),this._v(" - webgl terrain + fog demo "),t("br"),this._v("(left click: forward, right click: backward)")])])}]};var h=i("VU/8")(a,s,!1,function(e){i("YZ5t")},"data-v-05b268cf",null);t.default=h.exports},YZ5t:function(e,t){}});
//# sourceMappingURL=94.e80e4e8104180b1bda76.js.map