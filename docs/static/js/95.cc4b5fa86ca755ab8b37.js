webpackJsonp([95],{"6LWx":function(e,t){},Qxvx:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("QEtz"),i=s("wIBv"),r=s("NAKL"),a={data:function(){return{params:{envMap:"EXR",roughness:0,metalness:0,exposure:1,debug:!1},container:null,stats:null,camera:null,scene:null,renderer:null,controls:null,torusMesh:null,planeMesh:null,pngCubeRenderTarget:null,exrCubeRenderTarget:null,pngBackground:null,exrBackground:null,gui:null}},mounted:function(){this.init(),this.animate()},beforeDestroy:function(){this.gui.destroy()},methods:{init:function(){var e=this;this.container=document.createElement("div"),document.getElementsByClassName("webglMaterialsEnvmapsExr-container")[0].appendChild(this.container),this.camera=new this.$THREE.PerspectiveCamera(40,this.$webglInnerWidth/window.innerHeight,1,1e3),this.camera.position.set(0,0,120),this.scene=new this.$THREE.Scene,this.renderer=new this.$THREE.WebGLRenderer;var t=new this.$THREE.TorusKnotBufferGeometry(18,8,150,20),s=new this.$THREE.MeshStandardMaterial({metalness:this.params.roughness,roughness:this.params.metalness,envMapIntensity:1});this.torusMesh=new this.$THREE.Mesh(t,s),this.scene.add(this.torusMesh),t=new this.$THREE.PlaneBufferGeometry(200,200),s=new this.$THREE.MeshBasicMaterial,this.planeMesh=new this.$THREE.Mesh(t,s),this.planeMesh.position.y=-50,this.planeMesh.rotation.x=.5*-Math.PI,this.scene.add(this.planeMesh),this.$THREE.DefaultLoadingManager.onLoad=function(){a.dispose()},(new r.a).setDataType(this.$THREE.UnsignedByteType).load("static/textures/piz_compressed.exr",function(t){e.exrCubeRenderTarget=a.fromEquirectangular(t),e.exrBackground=e.exrCubeRenderTarget.texture,t.dispose()}),(new this.$THREE.TextureLoader).load("static/textures/equirectangular.png",function(t){t.encoding=e.$THREE.sRGBEncoding,e.pngCubeRenderTarget=a.fromEquirectangular(t),e.pngBackground=e.pngCubeRenderTarget.texture,t.dispose()});var a=new this.$THREE.PMREMGenerator(this.renderer);a.compileEquirectangularShader(),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.$webglInnerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.renderer.toneMapping=this.$THREE.ACESFilmicToneMapping,this.renderer.outputEncoding=this.$THREE.sRGBEncoding,this.stats=new this.$Stats,this.stats.dom.style.left="280px",this.container.appendChild(this.stats.dom),this.controls=new i.a(this.camera,this.renderer.domElement),this.controls.minDistance=50,this.controls.maxDistance=300,window.addEventListener("resize",this.onWindowResize,!1),this.gui=new n.a,this.gui.add(this.params,"envMap",["EXR","PNG"]),this.gui.add(this.params,"roughness",0,1,.01),this.gui.add(this.params,"metalness",0,1,.01),this.gui.add(this.params,"exposure",0,2,.01),this.gui.add(this.params,"debug",!1),this.gui.open()},onWindowResize:function(){this.$onWindowResize(this.camera,this.renderer)},animate:function(){requestAnimationFrame(this.animate),this.stats.begin(),this.render(),this.stats.end()},render:function(){this.torusMesh.material.roughness=this.params.roughness,this.torusMesh.material.metalness=this.params.metalness;var e=this.torusMesh.material.envMap,t=this.scene.background;switch(this.params.envMap){case"EXR":e=this.exrCubeRenderTarget?this.exrCubeRenderTarget.texture:null,t=this.exrBackground;break;case"PNG":e=this.pngCubeRenderTarget?this.pngCubeRenderTarget.texture:null,t=this.pngBackground}e!==this.torusMesh.material.envMap&&(this.torusMesh.material.envMap=e,this.torusMesh.material.needsUpdate=!0,this.planeMesh.material.map=e,this.planeMesh.material.needsUpdate=!0),this.torusMesh.rotation.y+=.005,this.planeMesh.visible=this.params.debug,this.scene.background=t,this.renderer.toneMappingExposure=this.params.exposure,this.renderer.render(this.scene,this.camera)}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webglMaterialsEnvmapsExr-container"},[t("div",{attrs:{id:"container"}}),this._v(" "),t("div",{attrs:{id:"info"}},[t("a",{attrs:{href:"https://threejs.org",target:"_blank",rel:"noopener"}},[this._v("threejs")]),this._v(" - Example of an IBL (Image based lighting) pipeline based around"),t("br"),this._v(" equirectangular EXR lightprobe data. Created by "),t("a",{attrs:{href:"https://github.com/richardmonette",target:"_blank",rel:"noopener"}},[this._v("Richard Monette")])])])}]};var o=s("VU/8")(a,h,!1,function(e){s("6LWx")},"data-v-7c44f013",null);t.default=o.exports}});
//# sourceMappingURL=95.cc4b5fa86ca755ab8b37.js.map