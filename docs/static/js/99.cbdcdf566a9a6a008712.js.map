{"version":3,"sources":["webpack:///src/views/interactive/webglInteractiveVoxelpainter.vue","webpack:///./src/views/interactive/webglInteractiveVoxelpainter.vue?372f","webpack:///./src/views/interactive/webglInteractiveVoxelpainter.vue"],"names":["webglInteractiveVoxelpainter","data","camera","scene","renderer","plane","mouse","raycaster","isShiftDown","rollOverMesh","rollOverMaterial","cubeGeo","cubeMaterial","objects","mounted","this","init","render","methods","$THREE","PerspectiveCamera","$webglInnerWidth","window","innerHeight","position","set","lookAt","Scene","background","Color","rollOverGeo","BoxBufferGeometry","MeshBasicMaterial","color","opacity","transparent","Mesh","add","MeshLambertMaterial","map","TextureLoader","load","gridHelper","GridHelper","Raycaster","Vector2","geometry","PlaneBufferGeometry","rotateX","Math","PI","visible","push","ambientLight","AmbientLight","directionalLight","DirectionalLight","normalize","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","setSize","document","getElementsByClassName","appendChild","domElement","addEventListener","onDocumentMouseMove","onDocumentMouseDown","onDocumentKeyDown","onDocumentKeyUp","onWindowResize","$onWindowResize","event","preventDefault","clientX","innerWidth","clientY","setFromCamera","intersects","intersectObjects","length","intersect","copy","point","face","normal","divideScalar","floor","multiplyScalar","addScalar","object","remove","splice","indexOf","voxel","keyCode","interactive_webglInteractiveVoxelpainter","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","href","target","rel","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/99.cbdcdf566a9a6a008712.js","sourcesContent":["<template>\r\n    <div class=\"webglInteractiveVoxelpainter-container\">\r\n        <div id=\"info\">\r\n\t\t\t<a href=\"https://threejs.org\" target=\"_blank\" rel=\"noopener\">three.js</a> - voxel painter - webgl<br>\r\n\t\t\t<strong>click</strong>: add voxel, <strong>shift + click</strong>: remove voxel\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            camera: null,\r\n            scene: null,\r\n            renderer: null,\r\n\t\t\tplane: null,\r\n            mouse: null,\r\n            raycaster: null,\r\n            isShiftDown: false,\r\n            rollOverMesh: null,\r\n            rollOverMaterial: null,\r\n            cubeGeo: null,\r\n            cubeMaterial: null,\r\n\t\t\tobjects: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init()\r\n\t\tthis.render()\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.camera = new this.$THREE.PerspectiveCamera(45, this.$webglInnerWidth / window.innerHeight, 1, 10000)\r\n            this.camera.position.set(500, 800, 1300)\r\n            this.camera.lookAt(0, 0, 0)\r\n            this.scene = new this.$THREE.Scene()\r\n            this.scene.background = new this.$THREE.Color(0xf0f0f0)\r\n            // roll-over helpers\r\n            var rollOverGeo = new this.$THREE.BoxBufferGeometry(50, 50, 50)\r\n            this.rollOverMaterial = new this.$THREE.MeshBasicMaterial({ color: 0xff0000, opacity: 0.5, transparent: true })\r\n            this.rollOverMesh = new this.$THREE.Mesh(rollOverGeo, this.rollOverMaterial)\r\n            this.scene.add(this.rollOverMesh)\r\n            // cubes\r\n            this.cubeGeo = new this.$THREE.BoxBufferGeometry(50, 50, 50)\r\n            this.cubeMaterial = new this.$THREE.MeshLambertMaterial({ color: 0xfeb74c, map: new this.$THREE.TextureLoader().load('textures/square-outline-textured.png') })\r\n            // grid\r\n            var gridHelper = new this.$THREE.GridHelper(1000, 20)\r\n            this.scene.add(gridHelper)\r\n            //\r\n            this.raycaster = new this.$THREE.Raycaster()\r\n            this.mouse = new this.$THREE.Vector2()\r\n            var geometry = new this.$THREE.PlaneBufferGeometry(1000, 1000)\r\n            geometry.rotateX(- Math.PI / 2)\r\n            this.plane = new this.$THREE.Mesh(geometry, new this.$THREE.MeshBasicMaterial({ visible: false }))\r\n            this.scene.add(this.plane)\r\n            this.objects.push(this.plane)\r\n            // lights\r\n            var ambientLight = new this.$THREE.AmbientLight(0x606060)\r\n            this.scene.add(ambientLight)\r\n            var directionalLight = new this.$THREE.DirectionalLight(0xffffff)\r\n            directionalLight.position.set(1, 0.75, 0.5).normalize()\r\n            this.scene.add(directionalLight)\r\n            this.renderer = new this.$THREE.WebGLRenderer({ antialias: true })\r\n            this.renderer.setPixelRatio(window.devicePixelRatio)\r\n            this.renderer.setSize(this.$webglInnerWidth, window.innerHeight)\r\n            document.getElementsByClassName('webglInteractiveVoxelpainter-container')[0].appendChild(this.renderer.domElement)\r\n            document.addEventListener('mousemove', this.onDocumentMouseMove, false)\r\n            document.addEventListener('mousedown', this.onDocumentMouseDown, false)\r\n            document.addEventListener('keydown', this.onDocumentKeyDown, false)\r\n            document.addEventListener('keyup', this.onDocumentKeyUp, false)\r\n            //\r\n            window.addEventListener('resize', this.onWindowResize, false)\r\n        },\r\n        onWindowResize() {\r\n            this.$onWindowResize(this.camera, this.renderer)\r\n        },\r\n        onDocumentMouseMove(event) {\r\n            event.preventDefault()\r\n            this.mouse.set(((event.clientX - 281) / (window.innerWidth - 281)) * 2 - 1, - (event.clientY / window.innerHeight) * 2 + 1)\r\n            this.raycaster.setFromCamera(this.mouse, this.camera)\r\n            var intersects = this.raycaster.intersectObjects(this.objects)\r\n            if (intersects.length > 0) {\r\n                var intersect = intersects[ 0 ]\r\n                this.rollOverMesh.position.copy(intersect.point).add(intersect.face.normal)\r\n                this.rollOverMesh.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25)\r\n            }\r\n            this.render()\r\n        },\r\n        onDocumentMouseDown(event) {\r\n            event.preventDefault()\r\n            this.mouse.set(((event.clientX - 281) / (window.innerWidth - 281)) * 2 - 1, - (event.clientY / window.innerHeight) * 2 + 1)\r\n            this.raycaster.setFromCamera(this.mouse, this.camera)\r\n            var intersects = this.raycaster.intersectObjects(this.objects)\r\n            if (intersects.length > 0) {\r\n                var intersect = intersects[ 0 ]\r\n                // delete cube\r\n                if (this.isShiftDown) {\r\n                    if (intersect.object !== plane) {\r\n                        this.scene.remove(intersect.object)\r\n                        this.objects.splice(this.objects.indexOf(intersect.object), 1)\r\n                    }\r\n                    // create cube\r\n                } else {\r\n                    var voxel = new this.$THREE.Mesh(this.cubeGeo, this.cubeMaterial)\r\n                    voxel.position.copy(intersect.point).add(intersect.face.normal)\r\n                    voxel.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25)\r\n                    this.scene.add(voxel)\r\n                    this.objects.push(voxel)\r\n                }\r\n                this.render()\r\n            }\r\n\r\n        },\r\n        onDocumentKeyDown(event) {\r\n            switch (event.keyCode) {\r\n                case 16: this.isShiftDown = true; break\r\n            }\r\n        },\r\n        onDocumentKeyUp(event) {\r\n            switch (event.keyCode) {\r\n                case 16: this.isShiftDown = false; break\r\n            }\r\n        },\r\n        render() {\r\n            this.renderer.render(this.scene, this.camera)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.webglInteractiveVoxelpainter-container {\r\n    width: 100%;\r\n    background-color: #f0f0f0;\r\n}\r\n#info {\r\n    color: #444;\r\n}\r\n#info a {\r\n    color: #08f;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/interactive/webglInteractiveVoxelpainter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webglInteractiveVoxelpainter-container\"},[_c('div',{attrs:{\"id\":\"info\"}},[_c('a',{attrs:{\"href\":\"https://threejs.org\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"three.js\")]),_vm._v(\" - voxel painter - webgl\"),_c('br'),_vm._v(\" \"),_c('strong',[_vm._v(\"click\")]),_vm._v(\": add voxel, \"),_c('strong',[_vm._v(\"shift + click\")]),_vm._v(\": remove voxel\\n\\t\\t\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c7c6926\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/interactive/webglInteractiveVoxelpainter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c7c6926\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./webglInteractiveVoxelpainter.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglInteractiveVoxelpainter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./webglInteractiveVoxelpainter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c7c6926\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./webglInteractiveVoxelpainter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c7c6926\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/interactive/webglInteractiveVoxelpainter.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}